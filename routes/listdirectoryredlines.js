var a14_0x1954d0=a14_0x5640;function a14_0x3887(){var _0x2b66ba=['ServerFrontEndUrlAsAllowedOriginOnly','Access-Control-Allow-Origin','body','978296QOfuGk','post','/listdirectoryredlines','directory:','1614bWVxUP','ServerLocation','setHeader','/directory:\x20','8355589ybpKAv','log','2\x20/directory:\x20','26plZTPN','readdirSync','.red','../CADViewer_config.json','Access-Control-Allow-Origin\x20:','145505IPCLxJ','10ylrzSx','replaceAll','send','list\x20redline\x20listtype:','60eJuvZs','<br>','replace','ServerUrl','exports','ServerFrontEndUrl','219603XShdgs','11492298rEHmFd','indexOf','substring','length','error\x20listdirectoryredlines','cvjs_debug','12425152EIUyCy','toLowerCase','15631fVphiT','listtype'];a14_0x3887=function(){return _0x2b66ba;};return a14_0x3887();}(function(_0x16c054,_0x3b1d61){var _0x544cc8=a14_0x5640,_0x1db3dc=_0x16c054();while(!![]){try{var _0x526abf=-parseInt(_0x544cc8(0x14f))/0x1+-parseInt(_0x544cc8(0x15a))/0x2*(-parseInt(_0x544cc8(0x16a))/0x3)+parseInt(_0x544cc8(0x164))/0x4*(parseInt(_0x544cc8(0x15f))/0x5)+parseInt(_0x544cc8(0x153))/0x6*(-parseInt(_0x544cc8(0x173))/0x7)+parseInt(_0x544cc8(0x171))/0x8+-parseInt(_0x544cc8(0x16b))/0x9+parseInt(_0x544cc8(0x160))/0xa*(parseInt(_0x544cc8(0x157))/0xb);if(_0x526abf===_0x3b1d61)break;else _0x1db3dc['push'](_0x1db3dc['shift']());}catch(_0x37f25a){_0x1db3dc['push'](_0x1db3dc['shift']());}}}(a14_0x3887,0xce4b0));var config=require(a14_0x1954d0(0x15d)),cvjs_debug=config[a14_0x1954d0(0x170)],express=require('express'),router=express['Router']();function a14_0x5640(_0x43f81e,_0x205b15){var _0x3887ef=a14_0x3887();return a14_0x5640=function(_0x564093,_0x2001c7){_0x564093=_0x564093-0x14b;var _0x11a4db=_0x3887ef[_0x564093];return _0x11a4db;},a14_0x5640(_0x43f81e,_0x205b15);}router[a14_0x1954d0(0x150)](a14_0x1954d0(0x151),(_0x578e3f,_0xfc70f7)=>{var _0x40b4aa=a14_0x1954d0;if(config[_0x40b4aa(0x14c)]==!![]){_0xfc70f7[_0x40b4aa(0x155)](_0x40b4aa(0x14d),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x40b4aa(0x158)](_0x40b4aa(0x15e)+config['ServerFrontEndUrl']);}else{_0xfc70f7['setHeader'](_0x40b4aa(0x14d),'*');if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x4a919b=_0x578e3f[_0x40b4aa(0x14e)]['directory'],_0x1fe41a=_0x578e3f[_0x40b4aa(0x14e)][_0x40b4aa(0x14b)];if(cvjs_debug)console[_0x40b4aa(0x158)](_0x40b4aa(0x163)+_0x1fe41a);_0x1fe41a=='serverfolder'&&(_0x4a919b=config[_0x40b4aa(0x154)]+_0x4a919b);if(cvjs_debug)console[_0x40b4aa(0x158)](_0x40b4aa(0x152)+_0x4a919b);_0x4a919b=decodeURI(_0x4a919b),_0x4a919b=_0x4a919b[_0x40b4aa(0x166)](/%3A/g,':'),_0x4a919b=_0x4a919b[_0x40b4aa(0x166)](/%2F/g,'/'),_0x4a919b=_0x4a919b[_0x40b4aa(0x166)](/%20/g,'\x20'),_0x4a919b=_0x4a919b[_0x40b4aa(0x161)]('+','\x20');_0x4a919b[_0x40b4aa(0x16c)](config[_0x40b4aa(0x169)])==0x0&&(_0x4a919b=config[_0x40b4aa(0x154)]+_0x4a919b[_0x40b4aa(0x16d)](config['ServerUrl'][_0x40b4aa(0x16e)]));_0x4a919b=_0x4a919b['replace'](/\\/g,'/');if(config[_0x40b4aa(0x170)])console['log'](_0x40b4aa(0x156)+_0x4a919b);_0x4a919b[_0x40b4aa(0x16c)](config[_0x40b4aa(0x169)])==0x0?inputFile=config['ServerLocation']+_0x4a919b[_0x40b4aa(0x16d)](config['ServerFrontEndUrl'][_0x40b4aa(0x16e)]):_0x4a919b[_0x40b4aa(0x16c)](config['ServerUrl'])==0x0&&(_0x4a919b=config['ServerLocation']+_0x4a919b['substring'](config[_0x40b4aa(0x167)][_0x40b4aa(0x16e)]));if(config[_0x40b4aa(0x170)])console['log'](_0x40b4aa(0x159)+_0x4a919b);const _0x5d34ae=require('fs');var _0x2397f5='',_0x5a6d87=_0x5d34ae[_0x40b4aa(0x15b)](_0x4a919b,{'withFileTypes':!![]});for(var _0x9a6bf2 in _0x5a6d87){var _0x234580=_0x5a6d87[_0x9a6bf2];if(config[_0x40b4aa(0x170)])console[_0x40b4aa(0x158)](_0x234580);if(!(_0x234580[_0x40b4aa(0x16c)]('.rw')>0x0)&&(_0x234580[_0x40b4aa(0x172)]['indexOf']('.json')>0x0||_0x234580['toLowerCase'][_0x40b4aa(0x16c)](_0x40b4aa(0x15c))>0x0))_0x2397f5=_0x2397f5+_0x40b4aa(0x165)+_0x234580;}_0xfc70f7[_0x40b4aa(0x162)](_0x2397f5);}catch(_0x2b655a){_0xfc70f7['send'](_0x40b4aa(0x16f));if(config['cvjs_debug'])console[_0x40b4aa(0x158)](_0x2b655a);}}),module[a14_0x1954d0(0x168)]=router;