var a14_0x46c6b2=a14_0x44dc;(function(_0x1e7602,_0x268ee0){var _0x55ea43=a14_0x44dc,_0x3be6a4=_0x1e7602();while(!![]){try{var _0x4a2632=parseInt(_0x55ea43(0x1b0))/0x1*(parseInt(_0x55ea43(0x197))/0x2)+parseInt(_0x55ea43(0x1ac))/0x3+parseInt(_0x55ea43(0x1ab))/0x4*(-parseInt(_0x55ea43(0x194))/0x5)+-parseInt(_0x55ea43(0x1a9))/0x6+-parseInt(_0x55ea43(0x1b2))/0x7+-parseInt(_0x55ea43(0x1a3))/0x8+parseInt(_0x55ea43(0x19e))/0x9;if(_0x4a2632===_0x268ee0)break;else _0x3be6a4['push'](_0x3be6a4['shift']());}catch(_0x5c22cb){_0x3be6a4['push'](_0x3be6a4['shift']());}}}(a14_0x57ff,0x6907d));function a14_0x44dc(_0x1147d2,_0x470973){var _0x57ffad=a14_0x57ff();return a14_0x44dc=function(_0x44dc2c,_0x1c67b9){_0x44dc2c=_0x44dc2c-0x192;var _0x3213e9=_0x57ffad[_0x44dc2c];return _0x3213e9;},a14_0x44dc(_0x1147d2,_0x470973);}var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require(a14_0x46c6b2(0x193)),router=express[a14_0x46c6b2(0x1b1)]();function a14_0x57ff(){var _0x674b=['Router','2641898NNPCAQ','serverfolder','log','express','5OdpAlE','ServerLocation','indexOf','441914bUlNvy','error\x20listdirectoryredlines','substring','length','body','send','Access-Control-Allow-Origin\x20:\x20*','14893794EMZclc','Access-Control-Allow-Origin','.red','/directory:\x20','/listdirectoryredlines','5720008EZcdNU','ServerUrl','list\x20redline\x20listtype:','ServerFrontEndUrl','.json','setHeader','2785488xvyYAe','cvjs_debug','691532BFYdDP','188913nQsfKq','directory:','replace','directory','2BxkodZ'];a14_0x57ff=function(){return _0x674b;};return a14_0x57ff();}router['post'](a14_0x46c6b2(0x1a2),(_0x4e54b8,_0x96a05f)=>{var _0x9b119e=a14_0x46c6b2;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x96a05f['setHeader'](_0x9b119e(0x19f),config['ServerFrontEndUrl']);if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:'+config[_0x9b119e(0x1a6)]);}else{_0x96a05f[_0x9b119e(0x1a8)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x9b119e(0x192)](_0x9b119e(0x19d));}try{var _0x5ce65d=_0x4e54b8[_0x9b119e(0x19b)][_0x9b119e(0x1af)],_0x4fd784=_0x4e54b8[_0x9b119e(0x19b)]['listtype'];if(cvjs_debug)console['log'](_0x9b119e(0x1a5)+_0x4fd784);_0x4fd784==_0x9b119e(0x1b3)&&(_0x5ce65d=config[_0x9b119e(0x195)]+_0x5ce65d);if(cvjs_debug)console[_0x9b119e(0x192)](_0x9b119e(0x1ad)+_0x5ce65d);_0x5ce65d=decodeURI(_0x5ce65d),_0x5ce65d=_0x5ce65d['replace'](/%3A/g,':'),_0x5ce65d=_0x5ce65d[_0x9b119e(0x1ae)](/%2F/g,'/'),_0x5ce65d=_0x5ce65d[_0x9b119e(0x1ae)](/%20/g,'\x20'),_0x5ce65d=_0x5ce65d['replaceAll']('+','\x20');_0x5ce65d[_0x9b119e(0x196)](config[_0x9b119e(0x1a6)])==0x0&&(_0x5ce65d=config[_0x9b119e(0x195)]+_0x5ce65d[_0x9b119e(0x199)](config[_0x9b119e(0x1a4)][_0x9b119e(0x19a)]));_0x5ce65d=_0x5ce65d[_0x9b119e(0x1ae)](/\\/g,'/');if(config[_0x9b119e(0x1aa)])console['log'](_0x9b119e(0x1a1)+_0x5ce65d);_0x5ce65d[_0x9b119e(0x196)](config['ServerFrontEndUrl'])==0x0?inputFile=config['ServerLocation']+_0x5ce65d[_0x9b119e(0x199)](config['ServerFrontEndUrl'][_0x9b119e(0x19a)]):_0x5ce65d[_0x9b119e(0x196)](config[_0x9b119e(0x1a4)])==0x0&&(_0x5ce65d=config[_0x9b119e(0x195)]+_0x5ce65d['substring'](config[_0x9b119e(0x1a4)][_0x9b119e(0x19a)]));if(config['cvjs_debug'])console[_0x9b119e(0x192)]('2\x20/directory:\x20'+_0x5ce65d);const _0xd9a236=require('fs');var _0x389d8c='',_0x1fdb04=_0xd9a236['readdirSync'](_0x5ce65d,{'withFileTypes':!![]});for(var _0x175128 in _0x1fdb04){var _0x4d5f94=_0x1fdb04[_0x175128];if(config['cvjs_debug'])console[_0x9b119e(0x192)](_0x4d5f94);if(!(_0x4d5f94[_0x9b119e(0x196)]('.rw')>0x0)&&(_0x4d5f94['toLowerCase']['indexOf'](_0x9b119e(0x1a7))>0x0||_0x4d5f94['toLowerCase'][_0x9b119e(0x196)](_0x9b119e(0x1a0))>0x0))_0x389d8c=_0x389d8c+'<br>'+_0x4d5f94;}_0x96a05f[_0x9b119e(0x19c)](_0x389d8c);}catch(_0x3fa65b){_0x96a05f[_0x9b119e(0x19c)](_0x9b119e(0x198));if(config[_0x9b119e(0x1aa)])console[_0x9b119e(0x192)](_0x3fa65b);}}),module['exports']=router;