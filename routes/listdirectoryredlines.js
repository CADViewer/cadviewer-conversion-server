var a14_0x17fb21=a14_0x914e;function a14_0x58ec(){var _0x21eb1d=['substring','39UGTLBd','2496456tcdYGD','listtype','directory:','replaceAll','3078299oywTTM','cvjs_debug','replace','ServerFrontEndUrl','indexOf','1643634mlRdnB','/listdirectoryredlines','send','post','../CADViewer_config.json','38450VOGmOu','ServerLocation','readdirSync','5676ttaEIX','log','ServerFrontEndUrlAsAllowedOriginOnly','list\x20redline\x20listtype:','setHeader','4616pZuWjs','<br>','654880VOHUqi','serverfolder','2\x20/directory:\x20','body','ServerUrl','/directory:\x20','.json','Access-Control-Allow-Origin\x20:','330FCbYZv','Access-Control-Allow-Origin','150oiunxa','toLowerCase','length'];a14_0x58ec=function(){return _0x21eb1d;};return a14_0x58ec();}(function(_0x2918e8,_0x1a244e){var _0x234e00=a14_0x914e,_0x55e684=_0x2918e8();while(!![]){try{var _0x34e2dd=-parseInt(_0x234e00(0x94))/0x1*(parseInt(_0x234e00(0x88))/0x2)+-parseInt(_0x234e00(0x98))/0x3*(-parseInt(_0x234e00(0x83))/0x4)+-parseInt(_0x234e00(0x80))/0x5*(-parseInt(_0x234e00(0x92))/0x6)+parseInt(_0x234e00(0x76))/0x7+-parseInt(_0x234e00(0x99))/0x8+parseInt(_0x234e00(0x7b))/0x9+-parseInt(_0x234e00(0x8a))/0xa;if(_0x34e2dd===_0x1a244e)break;else _0x55e684['push'](_0x55e684['shift']());}catch(_0x2fb014){_0x55e684['push'](_0x55e684['shift']());}}}(a14_0x58ec,0x53043));function a14_0x914e(_0x266ab7,_0x2e18e9){var _0x58ec1e=a14_0x58ec();return a14_0x914e=function(_0x914ec,_0x4d7b07){_0x914ec=_0x914ec-0x76;var _0x40e94f=_0x58ec1e[_0x914ec];return _0x40e94f;},a14_0x914e(_0x266ab7,_0x2e18e9);}var config=require(a14_0x17fb21(0x7f)),cvjs_debug=config[a14_0x17fb21(0x77)],express=require('express'),router=express['Router']();router[a14_0x17fb21(0x7e)](a14_0x17fb21(0x7c),(_0x46941c,_0x125dad)=>{var _0x3ef8b0=a14_0x17fb21;if(config[_0x3ef8b0(0x85)]==!![]){_0x125dad[_0x3ef8b0(0x87)](_0x3ef8b0(0x93),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x3ef8b0(0x84)](_0x3ef8b0(0x91)+config[_0x3ef8b0(0x79)]);}else{_0x125dad['setHeader']('Access-Control-Allow-Origin','*');if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x2df24d=_0x46941c[_0x3ef8b0(0x8d)]['directory'],_0x5a67cd=_0x46941c[_0x3ef8b0(0x8d)][_0x3ef8b0(0x9a)];if(cvjs_debug)console['log'](_0x3ef8b0(0x86)+_0x5a67cd);_0x5a67cd==_0x3ef8b0(0x8b)&&(_0x2df24d=config['ServerLocation']+_0x2df24d);if(cvjs_debug)console['log'](_0x3ef8b0(0x9b)+_0x2df24d);_0x2df24d=decodeURI(_0x2df24d),_0x2df24d=_0x2df24d[_0x3ef8b0(0x78)](/%3A/g,':'),_0x2df24d=_0x2df24d[_0x3ef8b0(0x78)](/%2F/g,'/'),_0x2df24d=_0x2df24d[_0x3ef8b0(0x78)](/%20/g,'\x20'),_0x2df24d=_0x2df24d[_0x3ef8b0(0x9c)]('+','\x20');_0x2df24d[_0x3ef8b0(0x7a)](config[_0x3ef8b0(0x79)])==0x0&&(_0x2df24d=config[_0x3ef8b0(0x81)]+_0x2df24d[_0x3ef8b0(0x97)](config[_0x3ef8b0(0x8e)]['length']));_0x2df24d=_0x2df24d[_0x3ef8b0(0x78)](/\\/g,'/');if(config[_0x3ef8b0(0x77)])console[_0x3ef8b0(0x84)](_0x3ef8b0(0x8f)+_0x2df24d);_0x2df24d['indexOf'](config[_0x3ef8b0(0x79)])==0x0?inputFile=config[_0x3ef8b0(0x81)]+_0x2df24d[_0x3ef8b0(0x97)](config['ServerFrontEndUrl']['length']):_0x2df24d[_0x3ef8b0(0x7a)](config['ServerUrl'])==0x0&&(_0x2df24d=config[_0x3ef8b0(0x81)]+_0x2df24d[_0x3ef8b0(0x97)](config['ServerUrl'][_0x3ef8b0(0x96)]));if(config[_0x3ef8b0(0x77)])console['log'](_0x3ef8b0(0x8c)+_0x2df24d);const _0x18e7f7=require('fs');var _0x217a63='',_0x475976=_0x18e7f7[_0x3ef8b0(0x82)](_0x2df24d,{'withFileTypes':!![]});for(var _0x2958e6 in _0x475976){var _0x2ddfa3=_0x475976[_0x2958e6];if(config[_0x3ef8b0(0x77)])console[_0x3ef8b0(0x84)](_0x2ddfa3);if(!(_0x2ddfa3[_0x3ef8b0(0x7a)]('.rw')>0x0)&&(_0x2ddfa3[_0x3ef8b0(0x95)][_0x3ef8b0(0x7a)](_0x3ef8b0(0x90))>0x0||_0x2ddfa3[_0x3ef8b0(0x95)][_0x3ef8b0(0x7a)]('.red')>0x0))_0x217a63=_0x217a63+_0x3ef8b0(0x89)+_0x2ddfa3;}_0x125dad[_0x3ef8b0(0x7d)](_0x217a63);}catch(_0x134933){_0x125dad[_0x3ef8b0(0x7d)]('error\x20listdirectoryredlines');if(config[_0x3ef8b0(0x77)])console[_0x3ef8b0(0x84)](_0x134933);}}),module['exports']=router;