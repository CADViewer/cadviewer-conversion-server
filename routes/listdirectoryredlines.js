var a14_0x382b2f=a14_0x84c1;(function(_0xc827e6,_0x49a96b){var _0x58ec4d=a14_0x84c1,_0x2be514=_0xc827e6();while(!![]){try{var _0x3c2bb3=parseInt(_0x58ec4d(0x181))/0x1+parseInt(_0x58ec4d(0x192))/0x2+parseInt(_0x58ec4d(0x18a))/0x3+parseInt(_0x58ec4d(0x188))/0x4+-parseInt(_0x58ec4d(0x19c))/0x5+-parseInt(_0x58ec4d(0x199))/0x6+parseInt(_0x58ec4d(0x18b))/0x7*(parseInt(_0x58ec4d(0x195))/0x8);if(_0x3c2bb3===_0x49a96b)break;else _0x2be514['push'](_0x2be514['shift']());}catch(_0x59f9b5){_0x2be514['push'](_0x2be514['shift']());}}}(a14_0x373d,0x32125));var config=require('../CADViewer_config.json'),cvjs_debug=config[a14_0x382b2f(0x19a)],express=require('express'),router=express[a14_0x382b2f(0x18f)]();function a14_0x373d(){var _0x55191c=['ServerFrontEndUrlAsAllowedOriginOnly','body','log','length','.json','directory:','86906WCFiqc','indexOf','ServerUrl','substring','replace','replaceAll','directory','997344LTmDNQ','readdirSync','500937wdpecQ','535654RjNSsa','Access-Control-Allow-Origin\x20:\x20*','ServerLocation','list\x20redline\x20listtype:','Router','Access-Control-Allow-Origin\x20:','Access-Control-Allow-Origin','454082OzginY','serverfolder','toLowerCase','8ydWvky','send','ServerFrontEndUrl','.red','1636230TSySGF','cvjs_debug','2\x20/directory:\x20','1644930wKdteB','<br>','setHeader'];a14_0x373d=function(){return _0x55191c;};return a14_0x373d();}function a14_0x84c1(_0x580077,_0x418f5f){var _0x373d2a=a14_0x373d();return a14_0x84c1=function(_0x84c10,_0x5569b9){_0x84c10=_0x84c10-0x17c;var _0x43d581=_0x373d2a[_0x84c10];return _0x43d581;},a14_0x84c1(_0x580077,_0x418f5f);}router['post']('/listdirectoryredlines',(_0x3b7984,_0x2e78c5)=>{var _0x10d70=a14_0x382b2f;if(config[_0x10d70(0x19f)]==!![]){_0x2e78c5[_0x10d70(0x19e)](_0x10d70(0x191),config[_0x10d70(0x197)]);if(cvjs_debug)console['log'](_0x10d70(0x190)+config[_0x10d70(0x197)]);}else{_0x2e78c5[_0x10d70(0x19e)](_0x10d70(0x191),'*');if(cvjs_debug)console[_0x10d70(0x17d)](_0x10d70(0x18c));}try{var _0x4dee49=_0x3b7984[_0x10d70(0x17c)][_0x10d70(0x187)],_0xd21584=_0x3b7984[_0x10d70(0x17c)]['listtype'];if(cvjs_debug)console[_0x10d70(0x17d)](_0x10d70(0x18e)+_0xd21584);_0xd21584==_0x10d70(0x193)&&(_0x4dee49=config[_0x10d70(0x18d)]+_0x4dee49);if(cvjs_debug)console[_0x10d70(0x17d)](_0x10d70(0x180)+_0x4dee49);_0x4dee49=decodeURI(_0x4dee49),_0x4dee49=_0x4dee49[_0x10d70(0x185)](/%3A/g,':'),_0x4dee49=_0x4dee49['replace'](/%2F/g,'/'),_0x4dee49=_0x4dee49[_0x10d70(0x185)](/%20/g,'\x20'),_0x4dee49=_0x4dee49[_0x10d70(0x186)]('+','\x20');_0x4dee49[_0x10d70(0x182)](config['ServerFrontEndUrl'])==0x0&&(_0x4dee49=config['ServerLocation']+_0x4dee49[_0x10d70(0x184)](config[_0x10d70(0x183)]['length']));_0x4dee49=_0x4dee49[_0x10d70(0x185)](/\\/g,'/');if(config['cvjs_debug'])console[_0x10d70(0x17d)]('/directory:\x20'+_0x4dee49);_0x4dee49[_0x10d70(0x182)](config[_0x10d70(0x197)])==0x0?inputFile=config[_0x10d70(0x18d)]+_0x4dee49['substring'](config[_0x10d70(0x197)][_0x10d70(0x17e)]):_0x4dee49['indexOf'](config[_0x10d70(0x183)])==0x0&&(_0x4dee49=config[_0x10d70(0x18d)]+_0x4dee49[_0x10d70(0x184)](config['ServerUrl'][_0x10d70(0x17e)]));if(config['cvjs_debug'])console[_0x10d70(0x17d)](_0x10d70(0x19b)+_0x4dee49);const _0x1393da=require('fs');var _0x1348cb='',_0x13f7fb=_0x1393da[_0x10d70(0x189)](_0x4dee49,{'withFileTypes':!![]});for(var _0x428dbb in _0x13f7fb){var _0x242683=_0x13f7fb[_0x428dbb];if(config[_0x10d70(0x19a)])console[_0x10d70(0x17d)](_0x242683);if(!(_0x242683[_0x10d70(0x182)]('.rw')>0x0)&&(_0x242683[_0x10d70(0x194)]['indexOf'](_0x10d70(0x17f))>0x0||_0x242683['toLowerCase']['indexOf'](_0x10d70(0x198))>0x0))_0x1348cb=_0x1348cb+_0x10d70(0x19d)+_0x242683;}_0x2e78c5['send'](_0x1348cb);}catch(_0x375b68){_0x2e78c5[_0x10d70(0x196)]('error\x20listdirectoryredlines');if(config[_0x10d70(0x19a)])console[_0x10d70(0x17d)](_0x375b68);}}),module['exports']=router;