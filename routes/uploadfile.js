var a28_0xb71d60=a28_0x5260;function a28_0xfb4b(){var _0x515857=['ax-allow-ext','ServerLocation','req.on.end\x20buffer\x20length:','3ItyWDN','error\x20save\x20upload:\x20','from','express','end','close','name:','/uploadfile\x20uploadpath\x202:','/uploadfile\x206.8.63','6724520rSTUwe','listtype','path','binary','log','ServerUrl','1560404fsZvEH','/uploadfile\x20case\x201','send','/uploadfile\x20case\x203','cvjs_debug','upload\x20file\x20written','ax-file-path','783872ytTetW','1341360BpalPt','undefined','/uploadfile\x20fileName:','680106otMlyJ','Succes\x20width=','length','Router','indexOf','width','6xnEucP','ax-file-name:\x20undefined','57366XxKvFc','push','/uploadfile','substring','ax-file-name','height','1423990DAMDrY','../CADViewer_config.json','/uploadfile\x20case\x202','Succes','start','open','query','7OGrHSu','write\x200\x20to\x20','exports'];a28_0xfb4b=function(){return _0x515857;};return a28_0xfb4b();}function a28_0x5260(_0x58b926,_0x42d635){var _0xfb4bb5=a28_0xfb4b();return a28_0x5260=function(_0x52606a,_0x3f9370){_0x52606a=_0x52606a-0x1d9;var _0x5ee9c1=_0xfb4bb5[_0x52606a];return _0x5ee9c1;},a28_0x5260(_0x58b926,_0x42d635);}(function(_0x20c611,_0x31dec7){var _0x2df69d=a28_0x5260,_0x3cab89=_0x20c611();while(!![]){try{var _0x5555ee=parseInt(_0x2df69d(0x1ff))/0x1*(-parseInt(_0x2df69d(0x201))/0x2)+parseInt(_0x2df69d(0x1df))/0x3*(-parseInt(_0x2df69d(0x1ee))/0x4)+parseInt(_0x2df69d(0x207))/0x5+-parseInt(_0x2df69d(0x1f9))/0x6+-parseInt(_0x2df69d(0x1d9))/0x7*(-parseInt(_0x2df69d(0x1f5))/0x8)+-parseInt(_0x2df69d(0x1f6))/0x9+parseInt(_0x2df69d(0x1e8))/0xa;if(_0x5555ee===_0x31dec7)break;else _0x3cab89['push'](_0x3cab89['shift']());}catch(_0x2d34eb){_0x3cab89['push'](_0x3cab89['shift']());}}}(a28_0xfb4b,0x384f4));var config=require(a28_0xb71d60(0x208)),cvjs_debug=config['cvjs_debug'],express=require(a28_0xb71d60(0x1e2)),router=express[a28_0xb71d60(0x1fc)](),path=require(a28_0xb71d60(0x1ea));router['post'](a28_0xb71d60(0x203),(_0x440e5f,_0x29d2db)=>{var _0x24ee30=a28_0xb71d60;_0x440e5f['setEncoding'](_0x24ee30(0x1eb));if(config[_0x24ee30(0x1f2)])console[_0x24ee30(0x1ec)](_0x24ee30(0x1e7));var _0x594081=require('fs');try{var _0x7feb66=_0x440e5f['query'][_0x24ee30(0x1f4)],_0x596caf=_0x440e5f[_0x24ee30(0x20d)][_0x24ee30(0x205)],_0x1de1e0=_0x440e5f['query'][_0x24ee30(0x1dc)],_0x4a805f=_0x440e5f[_0x24ee30(0x20d)][_0x24ee30(0x20b)],_0xa67b28=_0x440e5f[_0x24ee30(0x20d)][_0x24ee30(0x1e9)];if(config[_0x24ee30(0x1f2)])console[_0x24ee30(0x1ec)](_0x24ee30(0x1e5)+_0x596caf);if(_0x596caf==undefined||_0x596caf==_0x24ee30(0x1f7)){_0x29d2db[_0x24ee30(0x1f0)](_0x24ee30(0x200));if(config[_0x24ee30(0x1f2)])console['log']('undefined!\x20return');}else{if(config['cvjs_debug'])console['log']('/uploadfile\x20uploadpath:'+_0x7feb66);if(_0x7feb66['indexOf'](config[_0x24ee30(0x1ed)])==0x0){_0x7feb66=config['ServerLocation']+_0x7feb66[_0x24ee30(0x204)](config['ServerUrl']['length']);if(config[_0x24ee30(0x1f2)])console[_0x24ee30(0x1ec)](_0x24ee30(0x1ef));}else{if(_0x7feb66[_0x24ee30(0x1fd)](config[_0x24ee30(0x1dd)])==0x0){if(config[_0x24ee30(0x1f2)])console[_0x24ee30(0x1ec)](_0x24ee30(0x209));}else{if(config['cvjs_debug'])console[_0x24ee30(0x1ec)](_0x24ee30(0x1f1));_0x7feb66=config[_0x24ee30(0x1dd)]+_0x7feb66;}}if(config[_0x24ee30(0x1f2)])console[_0x24ee30(0x1ec)](_0x24ee30(0x1e6)+_0x7feb66);var _0x55a7b2=_0x7feb66+_0x596caf,_0x2c017d=[];_0x440e5f['on']('data',function(_0x42d79e){var _0x136f51=_0x24ee30;_0x2c017d[_0x136f51(0x202)](Buffer[_0x136f51(0x1e1)](_0x42d79e,_0x136f51(0x1eb)));}),_0x440e5f['on'](_0x24ee30(0x1e3),function(){var _0x4b86b7=_0x24ee30,_0xfd79f1=Buffer['concat'](_0x2c017d);if(config[_0x4b86b7(0x1f2)])console[_0x4b86b7(0x1ec)](_0x4b86b7(0x1de)+_0xfd79f1[_0x4b86b7(0x1fb)]);_0x594081[_0x4b86b7(0x20c)](_0x55a7b2,'w',function(_0x5a285a,_0x1c0c92){var _0x4f78cc=_0x4b86b7;if(config[_0x4f78cc(0x1f2)])console[_0x4f78cc(0x1ec)](_0x4f78cc(0x1f8)+_0x55a7b2);_0x594081['write'](_0x1c0c92,_0xfd79f1,0x0,_0xfd79f1[_0x4f78cc(0x1fb)],null,function(_0x19a5a9){var _0x22c0a6=_0x4f78cc;if(config['cvjs_debug'])console['log'](_0x22c0a6(0x1da)+_0xfd79f1[_0x22c0a6(0x1fb)]);if(_0x19a5a9){if(config[_0x22c0a6(0x1f2)])console[_0x22c0a6(0x1ec)](_0x22c0a6(0x1e0)+_0x19a5a9);_0x29d2db[_0x22c0a6(0x1f0)](_0x22c0a6(0x1e0)+_0x19a5a9);}else _0x594081[_0x22c0a6(0x1e4)](_0x1c0c92,function(){var _0x966a02=_0x22c0a6;if(config[_0x966a02(0x1f2)])console[_0x966a02(0x1ec)](_0x966a02(0x1f3));try{var _0xdc3a83=require('image-size'),_0xe33f6=_0xdc3a83(_0x55a7b2);console['log'](_0xe33f6['width'],_0xe33f6[_0x966a02(0x206)]),_0x29d2db[_0x966a02(0x1f0)](_0x966a02(0x1fa)+_0xe33f6[_0x966a02(0x1fe)]+'\x20height='+_0xe33f6[_0x966a02(0x206)]+'\x20');}catch(_0xf717a4){_0x29d2db['send'](_0x966a02(0x20a));}});});});});}}catch(_0x1a7e9e){_0x29d2db['send']('error\x20-\x20uploadfile');if(config[_0x24ee30(0x1f2)])console['log'](_0x1a7e9e);}}),module[a28_0xb71d60(0x1db)]=router;