function a28_0x3971(_0x1bb7c6,_0x187752){var _0x5b3111=a28_0x5b31();return a28_0x3971=function(_0x3971bc,_0x14d4ce){_0x3971bc=_0x3971bc-0x1db;var _0x3f77c0=_0x5b3111[_0x3971bc];return _0x3f77c0;},a28_0x3971(_0x1bb7c6,_0x187752);}var a28_0x2f67ad=a28_0x3971;function a28_0x5b31(){var _0x474d64=['data','path','length','1rOcgha','6441066jodvTT','ServerUrl','image-size','/uploadfile\x20fileName:','indexOf','Succes\x20width=','1281544RgWulT','Succes','5589348GjoxPq','37576953aDUqcv','undefined','ax-file-name','undefined!\x20return','name:','/uploadfile\x20uploadpath\x202:','\x20height=','2753932MmGzkz','7sVOguC','height','req.on.end\x20buffer\x20length:','/uploadfile\x20uploadpath:','listtype','5159260KHxFmq','close','setEncoding','cvjs_debug','push','ServerLocation','3754914oXzgNb','from','Router','log','error\x20save\x20upload:\x20','start','query','ax-allow-ext','send','exports','binary','ax-file-path','concat','width','end'];a28_0x5b31=function(){return _0x474d64;};return a28_0x5b31();}(function(_0x1d231f,_0x38bcf1){var _0x5105d2=a28_0x3971,_0x5c0e33=_0x1d231f();while(!![]){try{var _0x48658a=-parseInt(_0x5105d2(0x1fe))/0x1*(-parseInt(_0x5105d2(0x1e0))/0x2)+-parseInt(_0x5105d2(0x1ec))/0x3+-parseInt(_0x5105d2(0x207))/0x4+-parseInt(_0x5105d2(0x1e6))/0x5+-parseInt(_0x5105d2(0x1ff))/0x6*(parseInt(_0x5105d2(0x1e1))/0x7)+parseInt(_0x5105d2(0x205))/0x8+parseInt(_0x5105d2(0x208))/0x9;if(_0x48658a===_0x38bcf1)break;else _0x5c0e33['push'](_0x5c0e33['shift']());}catch(_0x5089aa){_0x5c0e33['push'](_0x5c0e33['shift']());}}}(a28_0x5b31,0xe9e56));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require('express'),router=express[a28_0x2f67ad(0x1ee)](),path=require(a28_0x2f67ad(0x1fc));router['post']('/uploadfile',(_0x13c360,_0x572587)=>{var _0x4d82e4=a28_0x2f67ad;_0x13c360[_0x4d82e4(0x1e8)](_0x4d82e4(0x1f6));if(config['cvjs_debug'])console[_0x4d82e4(0x1ef)]('/uploadfile\x206.8.63');var _0x18cff2=require('fs');try{var _0x3544c5=_0x13c360[_0x4d82e4(0x1f2)][_0x4d82e4(0x1f7)],_0x4ef234=_0x13c360[_0x4d82e4(0x1f2)][_0x4d82e4(0x1db)],_0xf039f4=_0x13c360[_0x4d82e4(0x1f2)][_0x4d82e4(0x1f3)],_0x30c2f3=_0x13c360[_0x4d82e4(0x1f2)][_0x4d82e4(0x1f1)],_0x5dc1e3=_0x13c360[_0x4d82e4(0x1f2)][_0x4d82e4(0x1e5)];if(config[_0x4d82e4(0x1e9)])console[_0x4d82e4(0x1ef)](_0x4d82e4(0x1dd)+_0x4ef234);if(_0x4ef234==undefined||_0x4ef234==_0x4d82e4(0x209)){_0x572587[_0x4d82e4(0x1f4)]('ax-file-name:\x20undefined');if(config[_0x4d82e4(0x1e9)])console[_0x4d82e4(0x1ef)](_0x4d82e4(0x1dc));}else{if(config[_0x4d82e4(0x1e9)])console['log'](_0x4d82e4(0x1e4)+_0x3544c5);if(_0x3544c5['indexOf'](config[_0x4d82e4(0x200)])==0x0){_0x3544c5=config[_0x4d82e4(0x1eb)]+_0x3544c5['substring'](config['ServerUrl'][_0x4d82e4(0x1fd)]);if(config[_0x4d82e4(0x1e9)])console[_0x4d82e4(0x1ef)]('/uploadfile\x20case\x201');}else{if(_0x3544c5[_0x4d82e4(0x203)](config[_0x4d82e4(0x1eb)])==0x0){if(config[_0x4d82e4(0x1e9)])console[_0x4d82e4(0x1ef)]('/uploadfile\x20case\x202');}else{if(config[_0x4d82e4(0x1e9)])console[_0x4d82e4(0x1ef)]('/uploadfile\x20case\x203');_0x3544c5=config['ServerLocation']+_0x3544c5;}}if(config[_0x4d82e4(0x1e9)])console[_0x4d82e4(0x1ef)](_0x4d82e4(0x1de)+_0x3544c5);var _0x4ca005=_0x3544c5+_0x4ef234,_0x39e4bb=[];_0x13c360['on'](_0x4d82e4(0x1fb),function(_0x11230e){var _0xfcb5a7=_0x4d82e4;_0x39e4bb[_0xfcb5a7(0x1ea)](Buffer[_0xfcb5a7(0x1ed)](_0x11230e,_0xfcb5a7(0x1f6)));}),_0x13c360['on'](_0x4d82e4(0x1fa),function(){var _0x389dd6=_0x4d82e4,_0x446d64=Buffer[_0x389dd6(0x1f8)](_0x39e4bb);if(config[_0x389dd6(0x1e9)])console[_0x389dd6(0x1ef)](_0x389dd6(0x1e3)+_0x446d64[_0x389dd6(0x1fd)]);_0x18cff2['open'](_0x4ca005,'w',function(_0x44dcb9,_0x202bb6){var _0x505835=_0x389dd6;if(config['cvjs_debug'])console[_0x505835(0x1ef)](_0x505835(0x202)+_0x4ca005);_0x18cff2['write'](_0x202bb6,_0x446d64,0x0,_0x446d64[_0x505835(0x1fd)],null,function(_0x2cd4e5){var _0x138f84=_0x505835;if(config[_0x138f84(0x1e9)])console['log']('write\x200\x20to\x20'+_0x446d64[_0x138f84(0x1fd)]);if(_0x2cd4e5){if(config['cvjs_debug'])console[_0x138f84(0x1ef)]('error\x20save\x20upload:\x20'+_0x2cd4e5);_0x572587[_0x138f84(0x1f4)](_0x138f84(0x1f0)+_0x2cd4e5);}else _0x18cff2[_0x138f84(0x1e7)](_0x202bb6,function(){var _0x1be801=_0x138f84;if(config[_0x1be801(0x1e9)])console['log']('upload\x20file\x20written');try{var _0x53e7e0=require(_0x1be801(0x201)),_0x3ad044=_0x53e7e0(_0x4ca005);console['log'](_0x3ad044[_0x1be801(0x1f9)],_0x3ad044[_0x1be801(0x1e2)]),_0x572587[_0x1be801(0x1f4)](_0x1be801(0x204)+_0x3ad044[_0x1be801(0x1f9)]+_0x1be801(0x1df)+_0x3ad044['height']+'\x20');}catch(_0x3b351d){_0x572587[_0x1be801(0x1f4)](_0x1be801(0x206));}});});});});}}catch(_0x20810c){_0x572587[_0x4d82e4(0x1f4)]('error\x20-\x20uploadfile');if(config[_0x4d82e4(0x1e9)])console[_0x4d82e4(0x1ef)](_0x20810c);}}),module[a28_0x2f67ad(0x1f5)]=router;