var a28_0x370342=a28_0x592e;(function(_0x3f732e,_0x330261){var _0x3d829d=a28_0x592e,_0x537eee=_0x3f732e();while(!![]){try{var _0x7ca145=parseInt(_0x3d829d(0x115))/0x1*(parseInt(_0x3d829d(0xed))/0x2)+-parseInt(_0x3d829d(0x10b))/0x3*(parseInt(_0x3d829d(0x116))/0x4)+parseInt(_0x3d829d(0xf0))/0x5*(parseInt(_0x3d829d(0xea))/0x6)+-parseInt(_0x3d829d(0xfa))/0x7+-parseInt(_0x3d829d(0xeb))/0x8+-parseInt(_0x3d829d(0xff))/0x9+parseInt(_0x3d829d(0x10d))/0xa;if(_0x7ca145===_0x330261)break;else _0x537eee['push'](_0x537eee['shift']());}catch(_0x19d2b1){_0x537eee['push'](_0x537eee['shift']());}}}(a28_0x41bd,0x8e32b));var config=require(a28_0x370342(0xe8)),cvjs_debug=config[a28_0x370342(0x108)],express=require(a28_0x370342(0xfb)),router=express[a28_0x370342(0x106)](),path=require('path');router['post']('/uploadfile',(_0x1ac60f,_0x1a1fc1)=>{var _0x292709=a28_0x370342;_0x1ac60f[_0x292709(0x117)](_0x292709(0x100));if(config['cvjs_debug'])console['log']('/uploadfile\x206.8.63');var _0x103146=require('fs');try{var _0x44d3ed=_0x1ac60f['query']['ax-file-path'],_0x1f16d5=_0x1ac60f[_0x292709(0x105)][_0x292709(0xe9)],_0x23c5cd=_0x1ac60f[_0x292709(0x105)]['ax-allow-ext'],_0x1e204c=_0x1ac60f[_0x292709(0x105)][_0x292709(0x107)],_0x32b3c0=_0x1ac60f[_0x292709(0x105)][_0x292709(0x111)];if(config[_0x292709(0x108)])console['log']('name:'+_0x1f16d5);if(_0x1f16d5==undefined||_0x1f16d5=='undefined'){_0x1a1fc1['send'](_0x292709(0xef));if(config[_0x292709(0x108)])console[_0x292709(0xfd)](_0x292709(0x10c));}else{if(config[_0x292709(0x108)])console[_0x292709(0xfd)]('/uploadfile\x20uploadpath:'+_0x44d3ed);if(_0x44d3ed[_0x292709(0xf4)](config[_0x292709(0x103)])==0x0){_0x44d3ed=config[_0x292709(0xfc)]+_0x44d3ed[_0x292709(0x109)](config['ServerUrl'][_0x292709(0x113)]);if(config['cvjs_debug'])console['log']('/uploadfile\x20case\x201');}else{if(_0x44d3ed[_0x292709(0xf4)](config[_0x292709(0xfc)])==0x0){if(config[_0x292709(0x108)])console['log'](_0x292709(0xf9));}else{if(config[_0x292709(0x108)])console[_0x292709(0xfd)](_0x292709(0xee));_0x44d3ed=config[_0x292709(0xfc)]+_0x44d3ed;}}if(config[_0x292709(0x108)])console['log'](_0x292709(0x10e)+_0x44d3ed);var _0x670ae6=_0x44d3ed+_0x1f16d5,_0x4ecd0b=[];_0x1ac60f['on'](_0x292709(0xfe),function(_0x22f399){var _0x5aac4b=_0x292709;_0x4ecd0b[_0x5aac4b(0x104)](Buffer[_0x5aac4b(0x112)](_0x22f399,_0x5aac4b(0x100)));}),_0x1ac60f['on'](_0x292709(0x101),function(){var _0x5ad997=_0x292709,_0x5c0b55=Buffer['concat'](_0x4ecd0b);if(config['cvjs_debug'])console['log'](_0x5ad997(0xf6)+_0x5c0b55[_0x5ad997(0x113)]);_0x103146[_0x5ad997(0xf7)](_0x670ae6,'w',function(_0xb7cbba,_0x45768a){var _0x30907d=_0x5ad997;if(config[_0x30907d(0x108)])console[_0x30907d(0xfd)](_0x30907d(0x118)+_0x670ae6);_0x103146[_0x30907d(0x110)](_0x45768a,_0x5c0b55,0x0,_0x5c0b55[_0x30907d(0x113)],null,function(_0x1fac2b){var _0x4c08d2=_0x30907d;if(config['cvjs_debug'])console[_0x4c08d2(0xfd)](_0x4c08d2(0x10a)+_0x5c0b55[_0x4c08d2(0x113)]);if(_0x1fac2b){if(config[_0x4c08d2(0x108)])console[_0x4c08d2(0xfd)](_0x4c08d2(0xf5)+_0x1fac2b);_0x1a1fc1[_0x4c08d2(0x10f)]('error\x20save\x20upload:\x20'+_0x1fac2b);}else _0x103146[_0x4c08d2(0xf8)](_0x45768a,function(){var _0x595d49=_0x4c08d2;if(config[_0x595d49(0x108)])console['log'](_0x595d49(0xf2));try{var _0x19a929=require(_0x595d49(0x114)),_0x28f0ac=_0x19a929(_0x670ae6);console[_0x595d49(0xfd)](_0x28f0ac['width'],_0x28f0ac['height']),_0x1a1fc1[_0x595d49(0x10f)](_0x595d49(0xec)+_0x28f0ac['width']+'\x20height='+_0x28f0ac[_0x595d49(0xf1)]+'\x20');}catch(_0x52a96e){_0x1a1fc1['send'](_0x595d49(0x102));}});});});});}}catch(_0x96c15e){_0x1a1fc1[_0x292709(0x10f)](_0x292709(0xf3));if(config[_0x292709(0x108)])console[_0x292709(0xfd)](_0x96c15e);}}),module[a28_0x370342(0xe7)]=router;function a28_0x592e(_0x3fde87,_0x307fcf){var _0x41bd3e=a28_0x41bd();return a28_0x592e=function(_0x592e06,_0x583218){_0x592e06=_0x592e06-0xe7;var _0x2ce5a0=_0x41bd3e[_0x592e06];return _0x2ce5a0;},a28_0x592e(_0x3fde87,_0x307fcf);}function a28_0x41bd(){var _0x2e817c=['../CADViewer_config.json','ax-file-name','1728ghwwbG','3751768MEdIto','Succes\x20width=','1727518hFWSoM','/uploadfile\x20case\x203','ax-file-name:\x20undefined','12565eRhOrl','height','upload\x20file\x20written','error\x20-\x20uploadfile','indexOf','error\x20save\x20upload:\x20','req.on.end\x20buffer\x20length:','open','close','/uploadfile\x20case\x202','5139232iNLACE','express','ServerLocation','log','data','5431392MAoRhz','binary','end','Succes','ServerUrl','push','query','Router','start','cvjs_debug','substring','write\x200\x20to\x20','12732vImEbv','undefined!\x20return','10859230wFUNCw','/uploadfile\x20uploadpath\x202:','send','write','listtype','from','length','image-size','1FsncaP','268dcoUKr','setEncoding','/uploadfile\x20fileName:','exports'];a28_0x41bd=function(){return _0x2e817c;};return a28_0x41bd();}