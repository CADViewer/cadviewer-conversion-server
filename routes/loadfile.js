var a16_0x3c2279=a16_0x3cc6;(function(_0x5358bf,_0x369a08){var _0x131228=a16_0x3cc6,_0x42418d=_0x5358bf();while(!![]){try{var _0x984406=-parseInt(_0x131228(0xaa))/0x1*(-parseInt(_0x131228(0xb8))/0x2)+parseInt(_0x131228(0x9e))/0x3*(-parseInt(_0x131228(0xa1))/0x4)+parseInt(_0x131228(0xce))/0x5*(parseInt(_0x131228(0xbd))/0x6)+parseInt(_0x131228(0xe7))/0x7+-parseInt(_0x131228(0xcd))/0x8*(parseInt(_0x131228(0xb6))/0x9)+-parseInt(_0x131228(0xc3))/0xa+parseInt(_0x131228(0xe4))/0xb;if(_0x984406===_0x369a08)break;else _0x42418d['push'](_0x42418d['shift']());}catch(_0x4ceae8){_0x42418d['push'](_0x42418d['shift']());}}}(a16_0x4694,0xd7e8d));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'];const httprequest=require(a16_0x3c2279(0xe1));var express=require(a16_0x3c2279(0xcf)),router=express['Router']();function loadFile(_0xeb281e,_0x101a3e){var _0x2617c5=a16_0x3c2279;try{config[_0x2617c5(0xc6)]==!![]?_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xbe),config['ServerFrontEndUrl']):_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xbe),'*');_0x101a3e[_0x2617c5(0xb0)]('Access-Control-Allow-Methods','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xdd),_0x2617c5(0xcb)),_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xb2),!![]);var _0x24870c=_0xeb281e['body'][_0x2617c5(0xa4)];_0x24870c==undefined&&(_0x24870c=_0xeb281e[_0x2617c5(0xc1)][_0x2617c5(0xa4)]);var _0x5060f1=_0xeb281e['body']['loadtype'];_0x5060f1==undefined&&(_0x5060f1=_0xeb281e[_0x2617c5(0xc1)]['loadtype']);_0x24870c=decodeURI(_0x24870c),_0x24870c=_0x24870c[_0x2617c5(0xbb)](/%3A/g,':'),_0x24870c=_0x24870c['replace'](/%2F/g,'/'),_0x24870c=_0x24870c['replace'](/%20/g,'\x20'),_0x24870c=_0x24870c[_0x2617c5(0xeb)]('+','\x20');if(config[_0x2617c5(0xa6)])console[_0x2617c5(0xa3)](_0x2617c5(0xca)+_0x24870c+_0x2617c5(0xea)+_0x5060f1);if(config[_0x2617c5(0xba)]!=''&&_0x24870c['indexOf'](config[_0x2617c5(0xba)])==0x0&&_0x24870c[_0x2617c5(0xe5)](config['ServerUrl'])!=0x0){if(config[_0x2617c5(0xa6)])console[_0x2617c5(0xa3)](_0x2617c5(0xc5));_0x24870c=config[_0x2617c5(0xd7)]+_0x24870c['substring'](config['ServerFrontEndUrl'][_0x2617c5(0xd6)]);}else{if(_0x24870c[_0x2617c5(0xe5)](config[_0x2617c5(0xb1)])==0x0){if(config['cvjs_debug'])console[_0x2617c5(0xa3)]('branch\x202');_0x24870c=config[_0x2617c5(0xd7)]+_0x24870c[_0x2617c5(0xe0)](config[_0x2617c5(0xb1)][_0x2617c5(0xd6)]);}else{if(_0x5060f1!=undefined&&_0x5060f1[_0x2617c5(0xe5)](_0x2617c5(0xad))==0x0||_0x5060f1!=undefined&&_0x5060f1[_0x2617c5(0xe5)]('languagefile')==0x0||_0x5060f1!=undefined&&_0x5060f1[_0x2617c5(0xe5)](_0x2617c5(0xa5))==0x0||_0x5060f1!=undefined&&_0x5060f1[_0x2617c5(0xe5)](_0x2617c5(0xa0))==0x0){if(_0x24870c[_0x2617c5(0xe5)]('http:')==0x0||_0x24870c[_0x2617c5(0xe5)](_0x2617c5(0xd1))==0x0){if(config[_0x2617c5(0xa6)])console[_0x2617c5(0xa3)](_0x2617c5(0x9f));}else{if(_0x24870c[_0x2617c5(0xe5)](config[_0x2617c5(0xd7)])==0x0){if(config[_0x2617c5(0xa6)])console[_0x2617c5(0xa3)]('branch\x204');}else{if(config['cvjs_debug'])console['log'](_0x2617c5(0xe2));_0x24870c=config[_0x2617c5(0xd7)]+_0x24870c;}}}}}var _0x27cf99=require('fs');if(_0x24870c[_0x2617c5(0xe5)](_0x2617c5(0xe6))==0x0){var _0x4feb26=Math[_0x2617c5(0xd3)](Math[_0x2617c5(0xbf)]()*Math[_0x2617c5(0xd3)](0xf4240)),_0x217032='F'+_0x4feb26,_0x1e0ede=_0x24870c[_0x2617c5(0xe0)](_0x24870c['lastIndexOf']('.')+0x1),_0x5f1779=config[_0x2617c5(0xd2)]+_0x217032+'.'+_0x1e0ede;if(cvjs_debug)console[_0x2617c5(0xa3)](_0x2617c5(0xc0)+_0x5f1779);var _0x27cf99=require('fs');httprequest(_0x24870c)[_0x2617c5(0xc9)](_0x27cf99['createWriteStream'](_0x5f1779))['on'](_0x2617c5(0xdc),()=>{var _0x2e7d0d=_0x2617c5;console[_0x2e7d0d(0xa3)](_0x2e7d0d(0xa7)+_0x24870c),_0x101a3e[_0x2e7d0d(0xdf)](_0x2e7d0d(0xb7));})['on'](_0x2617c5(0xab),()=>{var _0x4b650e=_0x2617c5;if(cvjs_debug)console[_0x4b650e(0xa3)](_0x4b650e(0xc4)+_0x24870c+_0x4b650e(0xe8)+_0x5f1779);var _0x5a4fb1=_0x27cf99[_0x4b650e(0xa8)](_0x5f1779);if(_0x1e0ede[_0x4b650e(0xe5)](_0x4b650e(0xc7))==0x0)_0x101a3e[_0x4b650e(0xb0)]('Content-Type','image/png');else{if(_0x1e0ede['indexOf'](_0x4b650e(0xe9))==0x0)_0x101a3e[_0x4b650e(0xb0)](_0x4b650e(0xb4),_0x4b650e(0xe3));else{if(_0x1e0ede[_0x4b650e(0xe5)](_0x4b650e(0xbc))==0x0)_0x101a3e[_0x4b650e(0xb0)](_0x4b650e(0xb4),'image/jpeg');else{if(_0x1e0ede[_0x4b650e(0xe5)](_0x4b650e(0xac))==0x0)_0x101a3e[_0x4b650e(0xb0)]('Content-Type','image/gif');else{if(_0x1e0ede[_0x4b650e(0xe5)](_0x4b650e(0xaf))==0x0)_0x101a3e[_0x4b650e(0xb0)](_0x4b650e(0xb4),_0x4b650e(0xde));else{if(_0x1e0ede['indexOf'](_0x4b650e(0xc2))==0x0)_0x101a3e['setHeader'](_0x4b650e(0xb4),'image/svg+xml');else{if(_0x1e0ede[_0x4b650e(0xe5)]('dwg')==0x0){_0x101a3e[_0x4b650e(0xb0)](_0x4b650e(0xb4),'application/dwg');var _0x2884a7=_0x24870c[_0x4b650e(0xe0)](_0x24870c[_0x4b650e(0xd5)]('/')+0x1);_0x101a3e[_0x4b650e(0xb0)]('Content-Disposition',_0x4b650e(0xb3)+_0x2884a7+'\x22');}else _0x101a3e['setHeader'](_0x4b650e(0xb4),_0x4b650e(0xc8));}}}}}}if(cvjs_debug)console['log']('4:'+_0x1e0ede);if(cvjs_debug)console['log'](_0x4b650e(0xae)+(_0x1e0ede[_0x4b650e(0xe5)](_0x4b650e(0xc7))==0x0));_0x101a3e['send'](_0x5a4fb1);});}else{var _0x39d09d=_0x27cf99[_0x2617c5(0xa8)](_0x24870c),_0x1e0ede=_0x24870c[_0x2617c5(0xe0)](_0x24870c[_0x2617c5(0xd5)]('.')+0x1);if(_0x1e0ede[_0x2617c5(0xe5)](_0x2617c5(0xc7))==0x0)_0x101a3e[_0x2617c5(0xb0)]('Content-Type',_0x2617c5(0xcc));else{if(_0x1e0ede[_0x2617c5(0xe5)](_0x2617c5(0xe9))==0x0)_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xb4),_0x2617c5(0xe3));else{if(_0x1e0ede['indexOf'](_0x2617c5(0xbc))==0x0)_0x101a3e['setHeader'](_0x2617c5(0xb4),_0x2617c5(0xe3));else{if(_0x1e0ede['indexOf'](_0x2617c5(0xac))==0x0)_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xb4),_0x2617c5(0xa2));else{if(_0x1e0ede['indexOf'](_0x2617c5(0xaf))==0x0)_0x101a3e['setHeader'](_0x2617c5(0xb4),'application/json');else{if(_0x1e0ede[_0x2617c5(0xe5)](_0x2617c5(0xc2))==0x0)_0x101a3e['setHeader'](_0x2617c5(0xb4),_0x2617c5(0xa9));else{if(_0x1e0ede[_0x2617c5(0xe5)](_0x2617c5(0xda))==0x0){_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xb4),_0x2617c5(0xb9));var _0x273ddf=_0x24870c[_0x2617c5(0xe0)](_0x24870c[_0x2617c5(0xd5)]('/')+0x1);_0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xdb),_0x2617c5(0xb3)+_0x273ddf+'\x22');}else _0x101a3e[_0x2617c5(0xb0)](_0x2617c5(0xb4),_0x2617c5(0xc8));}}}}}}_0x101a3e['send'](_0x39d09d);}}catch(_0x2aee75){_0x101a3e['send'](_0x2617c5(0xd0));if(config['cvjs_debug'])console[_0x2617c5(0xa3)](_0x2617c5(0xd8)+_0x2aee75);}}function a16_0x3cc6(_0x1950b6,_0x58e6ec){var _0x4694d7=a16_0x4694();return a16_0x3cc6=function(_0x3cc6f0,_0x2e30b5){_0x3cc6f0=_0x3cc6f0-0x9e;var _0x10f01f=_0x4694d7[_0x3cc6f0];return _0x10f01f;},a16_0x3cc6(_0x1950b6,_0x58e6ec);}function a16_0x4694(){var _0x5dbbc9=['6198eibdph','Access-Control-Allow-Origin','random','newcontenLocation\x20','query','svg','6632650lcTcIU','finshed\x20loading\x20','branch\x201','ServerFrontEndUrlAsAllowedOriginOnly','png','text/plain','pipe','1:\x20/loadfile:\x20','X-Requested-With,content-type','image/png','624RsHISr','1795GAbGoh','express','error\x20-\x20loadfile','https:','fileLocation','floor','exports','lastIndexOf','length','ServerLocation','Error\x20loadfile:','post','dwg','Content-Disposition','error','Access-Control-Allow-Headers','application/json','send','substring','request','branch\x205','image/jpeg','10799547CLYRgw','indexOf','http','5408242NjYzLE','\x20,\x20writing\x20to:\x20','jpg','\x20\x20loadtype=\x20','replaceAll','2832663lAgeDu','branch\x203','redline','4HRSNJF','image/gif','log','file','merge','cvjs_debug','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','readFileSync','image/svg+xml','484309vUPFwO','finish','gif','menufile','\x20reading\x20and\x20sending\x20data\x20png:','json','setHeader','ServerUrl','Access-Control-Allow-Credentials','attachment;filename=\x22','Content-Type','/loadfile','125343eRLolm','/loadfile\x20-\x20error','6djSCXo','application/dwg','ServerFrontEndUrl','replace','jpeg'];a16_0x4694=function(){return _0x5dbbc9;};return a16_0x4694();}router['get'](a16_0x3c2279(0xb5),function(_0x4becf9,_0x53f75c){loadFile(_0x4becf9,_0x53f75c);}),router[a16_0x3c2279(0xd9)]('/loadfile',(_0x113bbb,_0x300e23)=>{loadFile(_0x113bbb,_0x300e23);}),module[a16_0x3c2279(0xd4)]=router;