function a16_0x3ad1(_0x51b713,_0x19871c){var _0x3e9301=a16_0x3e93();return a16_0x3ad1=function(_0x3ad1f4,_0x538104){_0x3ad1f4=_0x3ad1f4-0x1a5;var _0x4d3b81=_0x3e9301[_0x3ad1f4];return _0x4d3b81;},a16_0x3ad1(_0x51b713,_0x19871c);}var a16_0x15331f=a16_0x3ad1;(function(_0x1ac496,_0x39fd3f){var _0x5208d9=a16_0x3ad1,_0xcb41b4=_0x1ac496();while(!![]){try{var _0x1ba474=-parseInt(_0x5208d9(0x1ee))/0x1*(-parseInt(_0x5208d9(0x1e2))/0x2)+-parseInt(_0x5208d9(0x1cd))/0x3*(parseInt(_0x5208d9(0x1af))/0x4)+-parseInt(_0x5208d9(0x1c6))/0x5+parseInt(_0x5208d9(0x1df))/0x6*(parseInt(_0x5208d9(0x1aa))/0x7)+-parseInt(_0x5208d9(0x1d7))/0x8*(-parseInt(_0x5208d9(0x1ed))/0x9)+-parseInt(_0x5208d9(0x1c7))/0xa*(parseInt(_0x5208d9(0x1ab))/0xb)+parseInt(_0x5208d9(0x1a5))/0xc;if(_0x1ba474===_0x39fd3f)break;else _0xcb41b4['push'](_0xcb41b4['shift']());}catch(_0xe47ba6){_0xcb41b4['push'](_0xcb41b4['shift']());}}}(a16_0x3e93,0x5865e));function a16_0x3e93(){var _0x90e1be=['setHeader','attachment;filename=\x22','image/jpeg','ServerFrontEndUrlAsAllowedOriginOnly','length','/loadfile\x20-\x20error','application/dwg','/loadfile','indexOf','gif','image/svg+xml','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','X-Requested-With,content-type','substring','get','error','https:','branch\x204','file','2550895GzEaZk','3830qNUtHi','lastIndexOf','Access-Control-Allow-Methods','\x20\x20loadtype=\x20','ServerUrl','random','645591Izhqoq','express','languagefile','Error\x20loadfile:','Content-Type','jpg','\x20,\x20writing\x20to:\x20','http:','jpeg','svg','7464WWGZnE','image/png','finish','Access-Control-Allow-Credentials','Router','branch\x202','cvjs_debug','ServerFrontEndUrl','1874280fHzSts','replaceAll','body','8218XaNGkc','fileLocation','newcontenLocation\x20','menufile','replace','Content-Disposition','json','createWriteStream','dwg','readFileSync','query','828XEBkGF','1nTtTVi','1:\x20/loadfile:\x20','text/plain','pipe','application/json','log','ServerLocation','10675812PtEbHh','\x20reading\x20and\x20sending\x20data\x20png:','error\x20-\x20loadfile','../CADViewer_config.json','floor','7cyJrag','5874HYNoZR','png','image/gif','Access-Control-Allow-Origin','4ZlhCez','Access-Control-Allow-Headers','loadtype','send'];a16_0x3e93=function(){return _0x90e1be;};return a16_0x3e93();}var config=require(a16_0x15331f(0x1a8)),cvjs_debug=config['cvjs_debug'];const httprequest=require('request');var express=require(a16_0x15331f(0x1ce)),router=express[a16_0x15331f(0x1db)]();function loadFile(_0x5bed8e,_0x25f5ef){var _0x5e9093=a16_0x15331f;try{config[_0x5e9093(0x1b6)]==!![]?_0x25f5ef[_0x5e9093(0x1b3)](_0x5e9093(0x1ae),config[_0x5e9093(0x1de)]):_0x25f5ef[_0x5e9093(0x1b3)](_0x5e9093(0x1ae),'*');_0x25f5ef['setHeader'](_0x5e9093(0x1c9),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x25f5ef[_0x5e9093(0x1b3)](_0x5e9093(0x1b0),_0x5e9093(0x1bf)),_0x25f5ef[_0x5e9093(0x1b3)](_0x5e9093(0x1da),!![]);var _0x583bce=_0x5bed8e['body'][_0x5e9093(0x1c5)];_0x583bce==undefined&&(_0x583bce=_0x5bed8e[_0x5e9093(0x1ec)][_0x5e9093(0x1c5)]);var _0x548c1a=_0x5bed8e[_0x5e9093(0x1e1)][_0x5e9093(0x1b1)];_0x548c1a==undefined&&(_0x548c1a=_0x5bed8e[_0x5e9093(0x1ec)]['loadtype']);_0x583bce=decodeURI(_0x583bce),_0x583bce=_0x583bce['replace'](/%3A/g,':'),_0x583bce=_0x583bce[_0x5e9093(0x1e6)](/%2F/g,'/'),_0x583bce=_0x583bce['replace'](/%20/g,'\x20'),_0x583bce=_0x583bce[_0x5e9093(0x1e0)]('+','\x20');if(config[_0x5e9093(0x1dd)])console[_0x5e9093(0x1f3)](_0x5e9093(0x1ef)+_0x583bce+_0x5e9093(0x1ca)+_0x548c1a);if(config[_0x5e9093(0x1de)]!=''&&_0x583bce['indexOf'](config[_0x5e9093(0x1de)])==0x0&&_0x583bce[_0x5e9093(0x1bb)](config[_0x5e9093(0x1cb)])!=0x0){if(config[_0x5e9093(0x1dd)])console[_0x5e9093(0x1f3)]('branch\x201');_0x583bce=config[_0x5e9093(0x1f4)]+_0x583bce[_0x5e9093(0x1c0)](config[_0x5e9093(0x1de)][_0x5e9093(0x1b7)]);}else{if(_0x583bce[_0x5e9093(0x1bb)](config[_0x5e9093(0x1cb)])==0x0){if(config[_0x5e9093(0x1dd)])console[_0x5e9093(0x1f3)](_0x5e9093(0x1dc));_0x583bce=config[_0x5e9093(0x1f4)]+_0x583bce[_0x5e9093(0x1c0)](config['ServerUrl'][_0x5e9093(0x1b7)]);}else{if(_0x548c1a!=undefined&&_0x548c1a[_0x5e9093(0x1bb)](_0x5e9093(0x1e5))==0x0||_0x548c1a!=undefined&&_0x548c1a[_0x5e9093(0x1bb)](_0x5e9093(0x1cf))==0x0||_0x548c1a!=undefined&&_0x548c1a[_0x5e9093(0x1bb)]('merge')==0x0||_0x548c1a!=undefined&&_0x548c1a[_0x5e9093(0x1bb)]('redline')==0x0){if(_0x583bce[_0x5e9093(0x1bb)](_0x5e9093(0x1d4))==0x0||_0x583bce['indexOf'](_0x5e9093(0x1c3))==0x0){if(config[_0x5e9093(0x1dd)])console[_0x5e9093(0x1f3)]('branch\x203');}else{if(_0x583bce['indexOf'](config[_0x5e9093(0x1f4)])==0x0){if(config[_0x5e9093(0x1dd)])console['log'](_0x5e9093(0x1c4));}else{if(config[_0x5e9093(0x1dd)])console[_0x5e9093(0x1f3)]('branch\x205');_0x583bce=config['ServerLocation']+_0x583bce;}}}}}var _0x48c307=require('fs');if(_0x583bce['indexOf']('http')==0x0){var _0x31c0d8=Math['floor'](Math[_0x5e9093(0x1cc)]()*Math[_0x5e9093(0x1a9)](0xf4240)),_0x26799c='F'+_0x31c0d8,_0x546228=_0x583bce[_0x5e9093(0x1c0)](_0x583bce['lastIndexOf']('.')+0x1),_0x328b13=config[_0x5e9093(0x1e3)]+_0x26799c+'.'+_0x546228;if(cvjs_debug)console[_0x5e9093(0x1f3)](_0x5e9093(0x1e4)+_0x328b13);var _0x48c307=require('fs');httprequest(_0x583bce)[_0x5e9093(0x1f1)](_0x48c307[_0x5e9093(0x1e9)](_0x328b13))['on'](_0x5e9093(0x1c2),()=>{var _0x5cc377=_0x5e9093;console[_0x5cc377(0x1f3)](_0x5cc377(0x1be)+_0x583bce),_0x25f5ef[_0x5cc377(0x1b2)](_0x5cc377(0x1b8));})['on'](_0x5e9093(0x1d9),()=>{var _0x14258a=_0x5e9093;if(cvjs_debug)console[_0x14258a(0x1f3)]('finshed\x20loading\x20'+_0x583bce+_0x14258a(0x1d3)+_0x328b13);var _0x393434=_0x48c307[_0x14258a(0x1eb)](_0x328b13);if(_0x546228[_0x14258a(0x1bb)]('png')==0x0)_0x25f5ef[_0x14258a(0x1b3)](_0x14258a(0x1d1),_0x14258a(0x1d8));else{if(_0x546228[_0x14258a(0x1bb)]('jpg')==0x0)_0x25f5ef['setHeader'](_0x14258a(0x1d1),_0x14258a(0x1b5));else{if(_0x546228[_0x14258a(0x1bb)](_0x14258a(0x1d5))==0x0)_0x25f5ef[_0x14258a(0x1b3)](_0x14258a(0x1d1),_0x14258a(0x1b5));else{if(_0x546228[_0x14258a(0x1bb)]('gif')==0x0)_0x25f5ef[_0x14258a(0x1b3)]('Content-Type',_0x14258a(0x1ad));else{if(_0x546228[_0x14258a(0x1bb)](_0x14258a(0x1e8))==0x0)_0x25f5ef['setHeader']('Content-Type',_0x14258a(0x1f2));else{if(_0x546228[_0x14258a(0x1bb)](_0x14258a(0x1d6))==0x0)_0x25f5ef['setHeader'](_0x14258a(0x1d1),_0x14258a(0x1bd));else{if(_0x546228[_0x14258a(0x1bb)](_0x14258a(0x1ea))==0x0){_0x25f5ef['setHeader'](_0x14258a(0x1d1),_0x14258a(0x1b9));var _0x7fd4ac=_0x583bce[_0x14258a(0x1c0)](_0x583bce['lastIndexOf']('/')+0x1);_0x25f5ef[_0x14258a(0x1b3)]('Content-Disposition',_0x14258a(0x1b4)+_0x7fd4ac+'\x22');}else _0x25f5ef[_0x14258a(0x1b3)](_0x14258a(0x1d1),_0x14258a(0x1f0));}}}}}}if(cvjs_debug)console['log']('4:'+_0x546228);if(cvjs_debug)console[_0x14258a(0x1f3)](_0x14258a(0x1a6)+(_0x546228[_0x14258a(0x1bb)](_0x14258a(0x1ac))==0x0));_0x25f5ef['send'](_0x393434);});}else{var _0x48182e=_0x48c307[_0x5e9093(0x1eb)](_0x583bce),_0x546228=_0x583bce[_0x5e9093(0x1c0)](_0x583bce[_0x5e9093(0x1c8)]('.')+0x1);if(_0x546228[_0x5e9093(0x1bb)]('png')==0x0)_0x25f5ef[_0x5e9093(0x1b3)](_0x5e9093(0x1d1),'image/png');else{if(_0x546228[_0x5e9093(0x1bb)](_0x5e9093(0x1d2))==0x0)_0x25f5ef['setHeader'](_0x5e9093(0x1d1),'image/jpeg');else{if(_0x546228[_0x5e9093(0x1bb)]('jpeg')==0x0)_0x25f5ef['setHeader']('Content-Type',_0x5e9093(0x1b5));else{if(_0x546228[_0x5e9093(0x1bb)](_0x5e9093(0x1bc))==0x0)_0x25f5ef[_0x5e9093(0x1b3)]('Content-Type',_0x5e9093(0x1ad));else{if(_0x546228[_0x5e9093(0x1bb)](_0x5e9093(0x1e8))==0x0)_0x25f5ef[_0x5e9093(0x1b3)]('Content-Type',_0x5e9093(0x1f2));else{if(_0x546228[_0x5e9093(0x1bb)](_0x5e9093(0x1d6))==0x0)_0x25f5ef[_0x5e9093(0x1b3)](_0x5e9093(0x1d1),'image/svg+xml');else{if(_0x546228[_0x5e9093(0x1bb)](_0x5e9093(0x1ea))==0x0){_0x25f5ef['setHeader'](_0x5e9093(0x1d1),_0x5e9093(0x1b9));var _0xfe1752=_0x583bce['substring'](_0x583bce[_0x5e9093(0x1c8)]('/')+0x1);_0x25f5ef['setHeader'](_0x5e9093(0x1e7),_0x5e9093(0x1b4)+_0xfe1752+'\x22');}else _0x25f5ef[_0x5e9093(0x1b3)](_0x5e9093(0x1d1),'text/plain');}}}}}}_0x25f5ef[_0x5e9093(0x1b2)](_0x48182e);}}catch(_0x4eb655){_0x25f5ef[_0x5e9093(0x1b2)](_0x5e9093(0x1a7));if(config[_0x5e9093(0x1dd)])console[_0x5e9093(0x1f3)](_0x5e9093(0x1d0)+_0x4eb655);}}router[a16_0x15331f(0x1c1)](a16_0x15331f(0x1ba),function(_0x2cb6af,_0x11f0ba){loadFile(_0x2cb6af,_0x11f0ba);}),router['post'](a16_0x15331f(0x1ba),(_0x573916,_0x5d5ab5)=>{loadFile(_0x573916,_0x5d5ab5);}),module['exports']=router;