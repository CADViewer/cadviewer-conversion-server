var a16_0x37161c=a16_0x542a;(function(_0x197a2d,_0x17dc73){var _0x54ed6a=a16_0x542a,_0x747c54=_0x197a2d();while(!![]){try{var _0x5a9798=-parseInt(_0x54ed6a(0x156))/0x1+parseInt(_0x54ed6a(0x14e))/0x2+parseInt(_0x54ed6a(0x161))/0x3+-parseInt(_0x54ed6a(0x16d))/0x4+-parseInt(_0x54ed6a(0x16c))/0x5*(-parseInt(_0x54ed6a(0x166))/0x6)+parseInt(_0x54ed6a(0x16b))/0x7+-parseInt(_0x54ed6a(0x16f))/0x8;if(_0x5a9798===_0x17dc73)break;else _0x747c54['push'](_0x747c54['shift']());}catch(_0x280202){_0x747c54['push'](_0x747c54['shift']());}}}(a16_0x364b,0x188dc));var config=require(a16_0x37161c(0x16e)),cvjs_debug=config[a16_0x37161c(0x172)];const httprequest=require(a16_0x37161c(0x13b));function a16_0x364b(){var _0xf3bbb1=['request','lastIndexOf','menufile','/loadfile\x20-\x20error','branch\x201','loadtype','log','replace','https:','X-Requested-With,content-type','Content-Type','gif','png','pipe','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','Access-Control-Allow-Origin','error','ServerFrontEndUrl','jpeg','333648QWlbVp','application/dwg','query','length','newcontenLocation\x20','merge','\x20reading\x20and\x20sending\x20data\x20png:','redline','50231PomFQM','setHeader','finshed\x20loading\x20','Error\x20loadfile:','image/gif','Content-Disposition','get','floor','send','Router','ServerLocation','303666GtAUie','image/jpeg','exports','readFileSync','replaceAll','24WIzPHK','substring','image/png','http','1:\x20/loadfile:\x20','432971mMjRuq','140755ASKENu','457952NVVqAq','../CADViewer_config.json','1417696ZjFDRV','\x20,\x20writing\x20to:\x20','body','cvjs_debug','attachment;filename=\x22','image/svg+xml','error\x20-\x20loadfile','ServerUrl','createWriteStream','http:','json','file','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','jpg','application/json','fileLocation','branch\x202','branch\x205','branch\x203','Access-Control-Allow-Methods','Access-Control-Allow-Headers','ServerFrontEndUrlAsAllowedOriginOnly','indexOf','random','text/plain','dwg'];a16_0x364b=function(){return _0xf3bbb1;};return a16_0x364b();}var express=require('express'),router=express[a16_0x37161c(0x15f)]();function a16_0x542a(_0x2c87d1,_0x55269d){var _0x364b9d=a16_0x364b();return a16_0x542a=function(_0x542a92,_0x3a69df){_0x542a92=_0x542a92-0x130;var _0x3a4f5a=_0x364b9d[_0x542a92];return _0x3a4f5a;},a16_0x542a(_0x2c87d1,_0x55269d);}function loadFile(_0x3d5451,_0x61d2fe){var _0x26319e=a16_0x37161c;try{config[_0x26319e(0x136)]==!![]?_0x61d2fe[_0x26319e(0x157)]('Access-Control-Allow-Origin',config['ServerFrontEndUrl']):_0x61d2fe['setHeader'](_0x26319e(0x14a),'*');_0x61d2fe[_0x26319e(0x157)](_0x26319e(0x134),_0x26319e(0x149)),_0x61d2fe['setHeader'](_0x26319e(0x135),_0x26319e(0x144)),_0x61d2fe[_0x26319e(0x157)]('Access-Control-Allow-Credentials',!![]);var _0x5c3b68=_0x3d5451[_0x26319e(0x171)][_0x26319e(0x17a)];_0x5c3b68==undefined&&(_0x5c3b68=_0x3d5451[_0x26319e(0x150)][_0x26319e(0x17a)]);var _0x763a75=_0x3d5451[_0x26319e(0x171)][_0x26319e(0x140)];_0x763a75==undefined&&(_0x763a75=_0x3d5451[_0x26319e(0x150)][_0x26319e(0x140)]);_0x5c3b68=decodeURI(_0x5c3b68),_0x5c3b68=_0x5c3b68[_0x26319e(0x142)](/%3A/g,':'),_0x5c3b68=_0x5c3b68['replace'](/%2F/g,'/'),_0x5c3b68=_0x5c3b68[_0x26319e(0x142)](/%20/g,'\x20'),_0x5c3b68=_0x5c3b68[_0x26319e(0x165)]('+','\x20');if(config['cvjs_debug'])console[_0x26319e(0x141)](_0x26319e(0x16a)+_0x5c3b68+'\x20\x20loadtype=\x20'+_0x763a75);if(config[_0x26319e(0x14c)]!=''&&_0x5c3b68[_0x26319e(0x137)](config[_0x26319e(0x14c)])==0x0&&_0x5c3b68[_0x26319e(0x137)](config[_0x26319e(0x176)])!=0x0){if(config[_0x26319e(0x172)])console[_0x26319e(0x141)](_0x26319e(0x13f));_0x5c3b68=config[_0x26319e(0x160)]+_0x5c3b68[_0x26319e(0x167)](config[_0x26319e(0x14c)][_0x26319e(0x151)]);}else{if(_0x5c3b68[_0x26319e(0x137)](config['ServerUrl'])==0x0){if(config[_0x26319e(0x172)])console[_0x26319e(0x141)](_0x26319e(0x131));_0x5c3b68=config[_0x26319e(0x160)]+_0x5c3b68['substring'](config['ServerUrl'][_0x26319e(0x151)]);}else{if(_0x763a75!=undefined&&_0x763a75[_0x26319e(0x137)](_0x26319e(0x13d))==0x0||_0x763a75!=undefined&&_0x763a75[_0x26319e(0x137)]('languagefile')==0x0||_0x763a75!=undefined&&_0x763a75['indexOf'](_0x26319e(0x153))==0x0||_0x763a75!=undefined&&_0x763a75[_0x26319e(0x137)](_0x26319e(0x155))==0x0){if(_0x5c3b68['indexOf'](_0x26319e(0x178))==0x0||_0x5c3b68[_0x26319e(0x137)](_0x26319e(0x143))==0x0){if(config['cvjs_debug'])console[_0x26319e(0x141)](_0x26319e(0x133));}else{if(_0x5c3b68['indexOf'](config[_0x26319e(0x160)])==0x0){if(config[_0x26319e(0x172)])console[_0x26319e(0x141)]('branch\x204');}else{if(config[_0x26319e(0x172)])console[_0x26319e(0x141)](_0x26319e(0x132));_0x5c3b68=config['ServerLocation']+_0x5c3b68;}}}}}var _0x30d67b=require('fs');if(_0x5c3b68[_0x26319e(0x137)](_0x26319e(0x169))==0x0){var _0x52c88a=Math[_0x26319e(0x15d)](Math[_0x26319e(0x138)]()*Math[_0x26319e(0x15d)](0xf4240)),_0x3a34a6='F'+_0x52c88a,_0x1c4c80=_0x5c3b68['substring'](_0x5c3b68['lastIndexOf']('.')+0x1),_0x2879b0=config[_0x26319e(0x130)]+_0x3a34a6+'.'+_0x1c4c80;if(cvjs_debug)console[_0x26319e(0x141)](_0x26319e(0x152)+_0x2879b0);var _0x30d67b=require('fs');httprequest(_0x5c3b68)[_0x26319e(0x148)](_0x30d67b[_0x26319e(0x177)](_0x2879b0))['on'](_0x26319e(0x14b),()=>{var _0x14cd7b=_0x26319e;console[_0x14cd7b(0x141)](_0x14cd7b(0x17b)+_0x5c3b68),_0x61d2fe[_0x14cd7b(0x15e)](_0x14cd7b(0x13e));})['on']('finish',()=>{var _0x33ad3b=_0x26319e;if(cvjs_debug)console[_0x33ad3b(0x141)](_0x33ad3b(0x158)+_0x5c3b68+_0x33ad3b(0x170)+_0x2879b0);var _0x5c6b63=_0x30d67b[_0x33ad3b(0x164)](_0x2879b0);if(_0x1c4c80['indexOf'](_0x33ad3b(0x147))==0x0)_0x61d2fe[_0x33ad3b(0x157)](_0x33ad3b(0x145),_0x33ad3b(0x168));else{if(_0x1c4c80[_0x33ad3b(0x137)](_0x33ad3b(0x17c))==0x0)_0x61d2fe['setHeader'](_0x33ad3b(0x145),'image/jpeg');else{if(_0x1c4c80[_0x33ad3b(0x137)](_0x33ad3b(0x14d))==0x0)_0x61d2fe[_0x33ad3b(0x157)]('Content-Type',_0x33ad3b(0x162));else{if(_0x1c4c80['indexOf'](_0x33ad3b(0x146))==0x0)_0x61d2fe['setHeader']('Content-Type','image/gif');else{if(_0x1c4c80[_0x33ad3b(0x137)](_0x33ad3b(0x179))==0x0)_0x61d2fe[_0x33ad3b(0x157)]('Content-Type','application/json');else{if(_0x1c4c80[_0x33ad3b(0x137)]('svg')==0x0)_0x61d2fe[_0x33ad3b(0x157)]('Content-Type',_0x33ad3b(0x174));else{if(_0x1c4c80[_0x33ad3b(0x137)](_0x33ad3b(0x13a))==0x0){_0x61d2fe[_0x33ad3b(0x157)]('Content-Type',_0x33ad3b(0x14f));var _0x97c259=_0x5c3b68['substring'](_0x5c3b68[_0x33ad3b(0x13c)]('/')+0x1);_0x61d2fe[_0x33ad3b(0x157)](_0x33ad3b(0x15b),_0x33ad3b(0x173)+_0x97c259+'\x22');}else _0x61d2fe[_0x33ad3b(0x157)](_0x33ad3b(0x145),'text/plain');}}}}}}if(cvjs_debug)console[_0x33ad3b(0x141)]('4:'+_0x1c4c80);if(cvjs_debug)console[_0x33ad3b(0x141)](_0x33ad3b(0x154)+(_0x1c4c80[_0x33ad3b(0x137)]('png')==0x0));_0x61d2fe[_0x33ad3b(0x15e)](_0x5c6b63);});}else{var _0xcf0c02=_0x30d67b[_0x26319e(0x164)](_0x5c3b68),_0x1c4c80=_0x5c3b68[_0x26319e(0x167)](_0x5c3b68[_0x26319e(0x13c)]('.')+0x1);if(_0x1c4c80[_0x26319e(0x137)](_0x26319e(0x147))==0x0)_0x61d2fe[_0x26319e(0x157)](_0x26319e(0x145),_0x26319e(0x168));else{if(_0x1c4c80[_0x26319e(0x137)]('jpg')==0x0)_0x61d2fe[_0x26319e(0x157)](_0x26319e(0x145),_0x26319e(0x162));else{if(_0x1c4c80[_0x26319e(0x137)](_0x26319e(0x14d))==0x0)_0x61d2fe['setHeader'](_0x26319e(0x145),'image/jpeg');else{if(_0x1c4c80['indexOf']('gif')==0x0)_0x61d2fe[_0x26319e(0x157)](_0x26319e(0x145),_0x26319e(0x15a));else{if(_0x1c4c80[_0x26319e(0x137)]('json')==0x0)_0x61d2fe[_0x26319e(0x157)](_0x26319e(0x145),_0x26319e(0x17d));else{if(_0x1c4c80[_0x26319e(0x137)]('svg')==0x0)_0x61d2fe['setHeader'](_0x26319e(0x145),_0x26319e(0x174));else{if(_0x1c4c80[_0x26319e(0x137)](_0x26319e(0x13a))==0x0){_0x61d2fe[_0x26319e(0x157)](_0x26319e(0x145),'application/dwg');var _0x5ab169=_0x5c3b68[_0x26319e(0x167)](_0x5c3b68[_0x26319e(0x13c)]('/')+0x1);_0x61d2fe[_0x26319e(0x157)](_0x26319e(0x15b),_0x26319e(0x173)+_0x5ab169+'\x22');}else _0x61d2fe[_0x26319e(0x157)](_0x26319e(0x145),_0x26319e(0x139));}}}}}}_0x61d2fe[_0x26319e(0x15e)](_0xcf0c02);}}catch(_0xe8020c){_0x61d2fe[_0x26319e(0x15e)](_0x26319e(0x175));if(config[_0x26319e(0x172)])console[_0x26319e(0x141)](_0x26319e(0x159)+_0xe8020c);}}router[a16_0x37161c(0x15c)]('/loadfile',function(_0x3745f1,_0x38c2e2){loadFile(_0x3745f1,_0x38c2e2);}),router['post']('/loadfile',(_0x36b3c2,_0x437872)=>{loadFile(_0x36b3c2,_0x437872);}),module[a16_0x37161c(0x163)]=router;