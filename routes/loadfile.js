var a16_0x43ea5b=a16_0x58d3;function a16_0xf34d(){var _0x5609e6=['replace','branch\x203','jpeg','jpg','ServerLocation','body','fileLocation','createWriteStream','error','12mYuMMx','Access-Control-Allow-Headers','image/jpeg','query','newcontenLocation\x20','gif','Access-Control-Allow-Credentials','error\x20-\x20loadfile','X-Requested-With,content-type','ServerUrl','lastIndexOf','7700672OgEYgL','branch\x202','pipe','http','Error\x20loadfile:','request','floor','substring','80zXUcSL','application/json','svg','express','8090280HDVlhm','/loadfile','http:','1447523lCnivT','/loadfile\x20-\x20error','Access-Control-Allow-Origin','finshed\x20loading\x20','file','4240715dEyVxf','json','png','attachment;filename=\x22','image/gif','random','cvjs_debug','finish','image/png','merge','Content-Type','13hAiTOz','branch\x205','branch\x201','ServerFrontEndUrl','Router','length','indexOf','setHeader','application/dwg','5516797akIFxE','post','send','1:\x20/loadfile:\x20','10dYBDWx','text/plain','readFileSync','ServerFrontEndUrlAsAllowedOriginOnly','log','Access-Control-Allow-Methods','menufile','149290LwuDKt','12717DUDVTv','dwg','Content-Disposition','\x20reading\x20and\x20sending\x20data\x20png:','get'];a16_0xf34d=function(){return _0x5609e6;};return a16_0xf34d();}(function(_0x5dc377,_0x9c59b3){var _0x1efb27=a16_0x58d3,_0x1dc7d6=_0x5dc377();while(!![]){try{var _0x27736c=parseInt(_0x1efb27(0x96))/0x1*(parseInt(_0x1efb27(0xaa))/0x2)+-parseInt(_0x1efb27(0xab))/0x3*(-parseInt(_0x1efb27(0xcc))/0x4)+parseInt(_0x1efb27(0xd8))/0x5+-parseInt(_0x1efb27(0xb9))/0x6*(parseInt(_0x1efb27(0xd3))/0x7)+-parseInt(_0x1efb27(0xc4))/0x8+parseInt(_0x1efb27(0xd0))/0x9+parseInt(_0x1efb27(0xa3))/0xa*(-parseInt(_0x1efb27(0x9f))/0xb);if(_0x27736c===_0x9c59b3)break;else _0x1dc7d6['push'](_0x1dc7d6['shift']());}catch(_0x4b173e){_0x1dc7d6['push'](_0x1dc7d6['shift']());}}}(a16_0xf34d,0xe1b7b));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'];const httprequest=require(a16_0x43ea5b(0xc9));function a16_0x58d3(_0x587ff6,_0x56a3e4){var _0xf34d1e=a16_0xf34d();return a16_0x58d3=function(_0x58d3a5,_0x3409c5){_0x58d3a5=_0x58d3a5-0x8e;var _0x463e94=_0xf34d1e[_0x58d3a5];return _0x463e94;},a16_0x58d3(_0x587ff6,_0x56a3e4);}var express=require(a16_0x43ea5b(0xcf)),router=express[a16_0x43ea5b(0x9a)]();function loadFile(_0x3fb60b,_0x17e9b1){var _0x5049c7=a16_0x43ea5b;try{config[_0x5049c7(0xa6)]==!![]?_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0xd5),config[_0x5049c7(0x99)]):_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0xd5),'*');_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0xa8),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0xba),_0x5049c7(0xc1)),_0x17e9b1['setHeader'](_0x5049c7(0xbf),!![]);var _0x357de0=_0x3fb60b[_0x5049c7(0xb5)][_0x5049c7(0xd7)];_0x357de0==undefined&&(_0x357de0=_0x3fb60b['query'][_0x5049c7(0xd7)]);var _0x3ac408=_0x3fb60b['body']['loadtype'];_0x3ac408==undefined&&(_0x3ac408=_0x3fb60b[_0x5049c7(0xbc)]['loadtype']);_0x357de0=decodeURI(_0x357de0),_0x357de0=_0x357de0['replace'](/%3A/g,':'),_0x357de0=_0x357de0['replace'](/%2F/g,'/'),_0x357de0=_0x357de0[_0x5049c7(0xb0)](/%20/g,'\x20'),_0x357de0=_0x357de0['replaceAll']('+','\x20');if(config[_0x5049c7(0x91)])console[_0x5049c7(0xa7)](_0x5049c7(0xa2)+_0x357de0+'\x20\x20loadtype=\x20'+_0x3ac408);if(config['ServerFrontEndUrl']!=''&&_0x357de0[_0x5049c7(0x9c)](config['ServerFrontEndUrl'])==0x0&&_0x357de0[_0x5049c7(0x9c)](config[_0x5049c7(0xc2)])!=0x0){if(config[_0x5049c7(0x91)])console[_0x5049c7(0xa7)](_0x5049c7(0x98));_0x357de0=config[_0x5049c7(0xb4)]+_0x357de0[_0x5049c7(0xcb)](config[_0x5049c7(0x99)]['length']);}else{if(_0x357de0[_0x5049c7(0x9c)](config[_0x5049c7(0xc2)])==0x0){if(config[_0x5049c7(0x91)])console['log'](_0x5049c7(0xc5));_0x357de0=config['ServerLocation']+_0x357de0['substring'](config[_0x5049c7(0xc2)][_0x5049c7(0x9b)]);}else{if(_0x3ac408!=undefined&&_0x3ac408[_0x5049c7(0x9c)](_0x5049c7(0xa9))==0x0||_0x3ac408!=undefined&&_0x3ac408[_0x5049c7(0x9c)]('languagefile')==0x0||_0x3ac408!=undefined&&_0x3ac408[_0x5049c7(0x9c)](_0x5049c7(0x94))==0x0||_0x3ac408!=undefined&&_0x3ac408[_0x5049c7(0x9c)]('redline')==0x0){if(_0x357de0['indexOf'](_0x5049c7(0xd2))==0x0||_0x357de0['indexOf']('https:')==0x0){if(config['cvjs_debug'])console['log'](_0x5049c7(0xb1));}else{if(_0x357de0[_0x5049c7(0x9c)](config['ServerLocation'])==0x0){if(config[_0x5049c7(0x91)])console['log']('branch\x204');}else{if(config[_0x5049c7(0x91)])console[_0x5049c7(0xa7)](_0x5049c7(0x97));_0x357de0=config[_0x5049c7(0xb4)]+_0x357de0;}}}}}var _0x17d3cf=require('fs');if(_0x357de0[_0x5049c7(0x9c)](_0x5049c7(0xc7))==0x0){var _0x26819e=Math[_0x5049c7(0xca)](Math[_0x5049c7(0x90)]()*Math[_0x5049c7(0xca)](0xf4240)),_0x295845='F'+_0x26819e,_0x5d5341=_0x357de0['substring'](_0x357de0[_0x5049c7(0xc3)]('.')+0x1),_0x4a0216=config[_0x5049c7(0xb6)]+_0x295845+'.'+_0x5d5341;if(cvjs_debug)console[_0x5049c7(0xa7)](_0x5049c7(0xbd)+_0x4a0216);var _0x17d3cf=require('fs');httprequest(_0x357de0)[_0x5049c7(0xc6)](_0x17d3cf[_0x5049c7(0xb7)](_0x4a0216))['on'](_0x5049c7(0xb8),()=>{var _0x33de26=_0x5049c7;console[_0x33de26(0xa7)]('ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20'+_0x357de0),_0x17e9b1[_0x33de26(0xa1)](_0x33de26(0xd4));})['on'](_0x5049c7(0x92),()=>{var _0x5cea9f=_0x5049c7;if(cvjs_debug)console[_0x5cea9f(0xa7)](_0x5cea9f(0xd6)+_0x357de0+'\x20,\x20writing\x20to:\x20'+_0x4a0216);var _0x4d1d95=_0x17d3cf[_0x5cea9f(0xa5)](_0x4a0216);if(_0x5d5341[_0x5cea9f(0x9c)](_0x5cea9f(0xda))==0x0)_0x17e9b1['setHeader']('Content-Type',_0x5cea9f(0x93));else{if(_0x5d5341['indexOf']('jpg')==0x0)_0x17e9b1[_0x5cea9f(0x9d)](_0x5cea9f(0x95),_0x5cea9f(0xbb));else{if(_0x5d5341[_0x5cea9f(0x9c)](_0x5cea9f(0xb2))==0x0)_0x17e9b1[_0x5cea9f(0x9d)](_0x5cea9f(0x95),_0x5cea9f(0xbb));else{if(_0x5d5341[_0x5cea9f(0x9c)](_0x5cea9f(0xbe))==0x0)_0x17e9b1[_0x5cea9f(0x9d)](_0x5cea9f(0x95),'image/gif');else{if(_0x5d5341[_0x5cea9f(0x9c)](_0x5cea9f(0xd9))==0x0)_0x17e9b1['setHeader'](_0x5cea9f(0x95),'application/json');else{if(_0x5d5341['indexOf'](_0x5cea9f(0xce))==0x0)_0x17e9b1['setHeader'](_0x5cea9f(0x95),'image/svg+xml');else{if(_0x5d5341[_0x5cea9f(0x9c)](_0x5cea9f(0xac))==0x0){_0x17e9b1[_0x5cea9f(0x9d)]('Content-Type',_0x5cea9f(0x9e));var _0x893487=_0x357de0['substring'](_0x357de0[_0x5cea9f(0xc3)]('/')+0x1);_0x17e9b1[_0x5cea9f(0x9d)]('Content-Disposition',_0x5cea9f(0x8e)+_0x893487+'\x22');}else _0x17e9b1[_0x5cea9f(0x9d)](_0x5cea9f(0x95),_0x5cea9f(0xa4));}}}}}}if(cvjs_debug)console[_0x5cea9f(0xa7)]('4:'+_0x5d5341);if(cvjs_debug)console[_0x5cea9f(0xa7)](_0x5cea9f(0xae)+(_0x5d5341['indexOf']('png')==0x0));_0x17e9b1[_0x5cea9f(0xa1)](_0x4d1d95);});}else{var _0x1b7856=_0x17d3cf[_0x5049c7(0xa5)](_0x357de0),_0x5d5341=_0x357de0[_0x5049c7(0xcb)](_0x357de0[_0x5049c7(0xc3)]('.')+0x1);if(_0x5d5341['indexOf']('png')==0x0)_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0x95),_0x5049c7(0x93));else{if(_0x5d5341[_0x5049c7(0x9c)](_0x5049c7(0xb3))==0x0)_0x17e9b1['setHeader']('Content-Type',_0x5049c7(0xbb));else{if(_0x5d5341[_0x5049c7(0x9c)]('jpeg')==0x0)_0x17e9b1[_0x5049c7(0x9d)]('Content-Type','image/jpeg');else{if(_0x5d5341[_0x5049c7(0x9c)](_0x5049c7(0xbe))==0x0)_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0x95),_0x5049c7(0x8f));else{if(_0x5d5341[_0x5049c7(0x9c)](_0x5049c7(0xd9))==0x0)_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0x95),_0x5049c7(0xcd));else{if(_0x5d5341[_0x5049c7(0x9c)]('svg')==0x0)_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0x95),'image/svg+xml');else{if(_0x5d5341[_0x5049c7(0x9c)]('dwg')==0x0){_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0x95),'application/dwg');var _0x42a1fb=_0x357de0['substring'](_0x357de0[_0x5049c7(0xc3)]('/')+0x1);_0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0xad),_0x5049c7(0x8e)+_0x42a1fb+'\x22');}else _0x17e9b1[_0x5049c7(0x9d)](_0x5049c7(0x95),'text/plain');}}}}}}_0x17e9b1[_0x5049c7(0xa1)](_0x1b7856);}}catch(_0x185c21){_0x17e9b1[_0x5049c7(0xa1)](_0x5049c7(0xc0));if(config['cvjs_debug'])console[_0x5049c7(0xa7)](_0x5049c7(0xc8)+_0x185c21);}}router[a16_0x43ea5b(0xaf)](a16_0x43ea5b(0xd1),function(_0x8875b4,_0xfe07fc){loadFile(_0x8875b4,_0xfe07fc);}),router[a16_0x43ea5b(0xa0)](a16_0x43ea5b(0xd1),(_0x3bedc6,_0x34d401)=>{loadFile(_0x3bedc6,_0x34d401);}),module['exports']=router;