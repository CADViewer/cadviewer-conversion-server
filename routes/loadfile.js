var a16_0x3142c6=a16_0x429f;(function(_0x2acf84,_0x217253){var _0x3b0ce7=a16_0x429f,_0x5a762f=_0x2acf84();while(!![]){try{var _0x1a7286=-parseInt(_0x3b0ce7(0x194))/0x1+-parseInt(_0x3b0ce7(0x19e))/0x2+-parseInt(_0x3b0ce7(0x1cd))/0x3+parseInt(_0x3b0ce7(0x1a4))/0x4+-parseInt(_0x3b0ce7(0x1a6))/0x5+-parseInt(_0x3b0ce7(0x1c8))/0x6+parseInt(_0x3b0ce7(0x1be))/0x7;if(_0x1a7286===_0x217253)break;else _0x5a762f['push'](_0x5a762f['shift']());}catch(_0x122d6b){_0x5a762f['push'](_0x5a762f['shift']());}}}(a16_0x3c29,0x410c9));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'];const httprequest=require(a16_0x3142c6(0x195));var express=require(a16_0x3142c6(0x1d0)),router=express[a16_0x3142c6(0x19b)]();function a16_0x429f(_0x2b2a21,_0x32fead){var _0x3c2940=a16_0x3c29();return a16_0x429f=function(_0x429f34,_0x50bab9){_0x429f34=_0x429f34-0x18f;var _0x30dbeb=_0x3c2940[_0x429f34];return _0x30dbeb;},a16_0x429f(_0x2b2a21,_0x32fead);}function loadFile(_0x38ec4f,_0x39d8c9){var _0x3dcd6e=a16_0x3142c6;try{config[_0x3dcd6e(0x198)]==!![]?_0x39d8c9[_0x3dcd6e(0x1a8)](_0x3dcd6e(0x1c1),config[_0x3dcd6e(0x1b3)]):_0x39d8c9['setHeader'](_0x3dcd6e(0x1c1),'*');_0x39d8c9[_0x3dcd6e(0x1a8)](_0x3dcd6e(0x1af),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x39d8c9[_0x3dcd6e(0x1a8)](_0x3dcd6e(0x1cc),'X-Requested-With,content-type'),_0x39d8c9['setHeader'](_0x3dcd6e(0x1c5),!![]);var _0x32113a=_0x38ec4f[_0x3dcd6e(0x1ae)]['file'];_0x32113a==undefined&&(_0x32113a=_0x38ec4f['query'][_0x3dcd6e(0x1c7)]);var _0x511822=_0x38ec4f[_0x3dcd6e(0x1ae)][_0x3dcd6e(0x1c9)];_0x511822==undefined&&(_0x511822=_0x38ec4f[_0x3dcd6e(0x19d)][_0x3dcd6e(0x1c9)]);_0x32113a=decodeURI(_0x32113a),_0x32113a=_0x32113a[_0x3dcd6e(0x1ab)](/%3A/g,':'),_0x32113a=_0x32113a[_0x3dcd6e(0x1ab)](/%2F/g,'/'),_0x32113a=_0x32113a[_0x3dcd6e(0x1ab)](/%20/g,'\x20'),_0x32113a=_0x32113a['replaceAll']('+','\x20');if(config[_0x3dcd6e(0x1b4)])console[_0x3dcd6e(0x192)](_0x3dcd6e(0x1ac)+_0x32113a+'\x20\x20loadtype=\x20'+_0x511822);if(config[_0x3dcd6e(0x1b3)]!=''&&_0x32113a[_0x3dcd6e(0x1a0)](config[_0x3dcd6e(0x1b3)])==0x0&&_0x32113a[_0x3dcd6e(0x1a0)](config[_0x3dcd6e(0x1b0)])!=0x0){if(config[_0x3dcd6e(0x1b4)])console[_0x3dcd6e(0x192)](_0x3dcd6e(0x199));_0x32113a=config['ServerLocation']+_0x32113a['substring'](config[_0x3dcd6e(0x1b3)][_0x3dcd6e(0x1c6)]);}else{if(_0x32113a[_0x3dcd6e(0x1a0)](config[_0x3dcd6e(0x1b0)])==0x0){if(config[_0x3dcd6e(0x1b4)])console[_0x3dcd6e(0x192)](_0x3dcd6e(0x190));_0x32113a=config[_0x3dcd6e(0x1b9)]+_0x32113a[_0x3dcd6e(0x1cf)](config[_0x3dcd6e(0x1b0)][_0x3dcd6e(0x1c6)]);}else{if(_0x511822!=undefined&&_0x511822[_0x3dcd6e(0x1a0)](_0x3dcd6e(0x19c))==0x0||_0x511822!=undefined&&_0x511822[_0x3dcd6e(0x1a0)]('languagefile')==0x0||_0x511822!=undefined&&_0x511822['indexOf']('merge')==0x0||_0x511822!=undefined&&_0x511822[_0x3dcd6e(0x1a0)](_0x3dcd6e(0x1ce))==0x0){if(_0x32113a['indexOf'](_0x3dcd6e(0x1cb))==0x0||_0x32113a['indexOf'](_0x3dcd6e(0x1bc))==0x0){if(config[_0x3dcd6e(0x1b4)])console['log'](_0x3dcd6e(0x1b7));}else{if(_0x32113a[_0x3dcd6e(0x1a0)](config[_0x3dcd6e(0x1b9)])==0x0){if(config[_0x3dcd6e(0x1b4)])console[_0x3dcd6e(0x192)](_0x3dcd6e(0x19a));}else{if(config[_0x3dcd6e(0x1b4)])console['log']('branch\x205');_0x32113a=config[_0x3dcd6e(0x1b9)]+_0x32113a;}}}}}var _0x5f1e81=require('fs');if(_0x32113a[_0x3dcd6e(0x1a0)]('http')==0x0){var _0x163cdc=Math['floor'](Math[_0x3dcd6e(0x1c3)]()*Math[_0x3dcd6e(0x1a9)](0xf4240)),_0x1f1644='F'+_0x163cdc,_0x28a4e6=_0x32113a[_0x3dcd6e(0x1cf)](_0x32113a[_0x3dcd6e(0x1c4)]('.')+0x1),_0x192c09=config[_0x3dcd6e(0x1a5)]+_0x1f1644+'.'+_0x28a4e6;if(cvjs_debug)console[_0x3dcd6e(0x192)](_0x3dcd6e(0x1b1)+_0x192c09);var _0x5f1e81=require('fs');httprequest(_0x32113a)['pipe'](_0x5f1e81[_0x3dcd6e(0x1aa)](_0x192c09))['on']('error',()=>{var _0x57d10=_0x3dcd6e;console['log']('ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20'+_0x32113a),_0x39d8c9[_0x57d10(0x191)]('/loadfile\x20-\x20error');})['on'](_0x3dcd6e(0x1c2),()=>{var _0x55769b=_0x3dcd6e;if(cvjs_debug)console['log']('finshed\x20loading\x20'+_0x32113a+_0x55769b(0x193)+_0x192c09);var _0x25d555=_0x5f1e81['readFileSync'](_0x192c09);if(_0x28a4e6[_0x55769b(0x1a0)](_0x55769b(0x1bb))==0x0)_0x39d8c9[_0x55769b(0x1a8)]('Content-Type','image/png');else{if(_0x28a4e6[_0x55769b(0x1a0)](_0x55769b(0x19f))==0x0)_0x39d8c9[_0x55769b(0x1a8)](_0x55769b(0x1bd),_0x55769b(0x196));else{if(_0x28a4e6[_0x55769b(0x1a0)](_0x55769b(0x1ba))==0x0)_0x39d8c9[_0x55769b(0x1a8)](_0x55769b(0x1bd),_0x55769b(0x196));else{if(_0x28a4e6['indexOf'](_0x55769b(0x1a3))==0x0)_0x39d8c9[_0x55769b(0x1a8)]('Content-Type','image/gif');else{if(_0x28a4e6[_0x55769b(0x1a0)]('json')==0x0)_0x39d8c9[_0x55769b(0x1a8)](_0x55769b(0x1bd),'application/json');else{if(_0x28a4e6[_0x55769b(0x1a0)](_0x55769b(0x1a1))==0x0)_0x39d8c9['setHeader']('Content-Type',_0x55769b(0x197));else{if(_0x28a4e6[_0x55769b(0x1a0)](_0x55769b(0x1b6))==0x0){_0x39d8c9[_0x55769b(0x1a8)](_0x55769b(0x1bd),_0x55769b(0x1b2));var _0x46aa6b=_0x32113a['substring'](_0x32113a[_0x55769b(0x1c4)]('/')+0x1);_0x39d8c9[_0x55769b(0x1a8)]('Content-Disposition','attachment;filename=\x22'+_0x46aa6b+'\x22');}else _0x39d8c9[_0x55769b(0x1a8)](_0x55769b(0x1bd),'text/plain');}}}}}}if(cvjs_debug)console[_0x55769b(0x192)]('4:'+_0x28a4e6);if(cvjs_debug)console['log'](_0x55769b(0x1bf)+(_0x28a4e6[_0x55769b(0x1a0)]('png')==0x0));_0x39d8c9[_0x55769b(0x191)](_0x25d555);});}else{var _0x5ef71d=_0x5f1e81['readFileSync'](_0x32113a),_0x28a4e6=_0x32113a[_0x3dcd6e(0x1cf)](_0x32113a[_0x3dcd6e(0x1c4)]('.')+0x1);if(_0x28a4e6[_0x3dcd6e(0x1a0)](_0x3dcd6e(0x1bb))==0x0)_0x39d8c9[_0x3dcd6e(0x1a8)](_0x3dcd6e(0x1bd),'image/png');else{if(_0x28a4e6['indexOf'](_0x3dcd6e(0x19f))==0x0)_0x39d8c9[_0x3dcd6e(0x1a8)]('Content-Type','image/jpeg');else{if(_0x28a4e6[_0x3dcd6e(0x1a0)]('jpeg')==0x0)_0x39d8c9['setHeader']('Content-Type',_0x3dcd6e(0x196));else{if(_0x28a4e6['indexOf'](_0x3dcd6e(0x1a3))==0x0)_0x39d8c9['setHeader'](_0x3dcd6e(0x1bd),_0x3dcd6e(0x1c0));else{if(_0x28a4e6[_0x3dcd6e(0x1a0)]('json')==0x0)_0x39d8c9[_0x3dcd6e(0x1a8)]('Content-Type','application/json');else{if(_0x28a4e6[_0x3dcd6e(0x1a0)](_0x3dcd6e(0x1a1))==0x0)_0x39d8c9['setHeader'](_0x3dcd6e(0x1bd),_0x3dcd6e(0x197));else{if(_0x28a4e6[_0x3dcd6e(0x1a0)](_0x3dcd6e(0x1b6))==0x0){_0x39d8c9[_0x3dcd6e(0x1a8)](_0x3dcd6e(0x1bd),_0x3dcd6e(0x1b2));var _0x7fd1e7=_0x32113a[_0x3dcd6e(0x1cf)](_0x32113a['lastIndexOf']('/')+0x1);_0x39d8c9['setHeader'](_0x3dcd6e(0x18f),_0x3dcd6e(0x1a7)+_0x7fd1e7+'\x22');}else _0x39d8c9[_0x3dcd6e(0x1a8)](_0x3dcd6e(0x1bd),_0x3dcd6e(0x1a2));}}}}}}_0x39d8c9['send'](_0x5ef71d);}}catch(_0x17388a){_0x39d8c9[_0x3dcd6e(0x191)]('error\x20-\x20loadfile');if(config[_0x3dcd6e(0x1b4)])console['log'](_0x3dcd6e(0x1ad)+_0x17388a);}}router[a16_0x3142c6(0x1b8)](a16_0x3142c6(0x1ca),function(_0x21b1b3,_0x22fd6c){loadFile(_0x21b1b3,_0x22fd6c);}),router['post'](a16_0x3142c6(0x1ca),(_0x447b0c,_0x261860)=>{loadFile(_0x447b0c,_0x261860);}),module[a16_0x3142c6(0x1b5)]=router;function a16_0x3c29(){var _0x20d70f=['setHeader','floor','createWriteStream','replace','1:\x20/loadfile:\x20','Error\x20loadfile:','body','Access-Control-Allow-Methods','ServerUrl','newcontenLocation\x20','application/dwg','ServerFrontEndUrl','cvjs_debug','exports','dwg','branch\x203','get','ServerLocation','jpeg','png','https:','Content-Type','10504438aDdtst','\x20reading\x20and\x20sending\x20data\x20png:','image/gif','Access-Control-Allow-Origin','finish','random','lastIndexOf','Access-Control-Allow-Credentials','length','file','2122410VJFqSL','loadtype','/loadfile','http:','Access-Control-Allow-Headers','697272XbLWFe','redline','substring','express','Content-Disposition','branch\x202','send','log','\x20,\x20writing\x20to:\x20','358773OKyWii','request','image/jpeg','image/svg+xml','ServerFrontEndUrlAsAllowedOriginOnly','branch\x201','branch\x204','Router','menufile','query','576412IDYIsZ','jpg','indexOf','svg','text/plain','gif','71568SWqGPl','fileLocation','94735VuMuvE','attachment;filename=\x22'];a16_0x3c29=function(){return _0x20d70f;};return a16_0x3c29();}