var a17_0x5af476=a17_0x4ddd;function a17_0x37e6(){var _0x4a6fa6=['replaceAll','image/png','loadtype','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','branch\x204','3lTZntT','191492oNWTEN','setHeader','newcontenLocation\x20','http','Content-Disposition','random','1:\x20/loadfile:\x20','jpg','\x20\x20loadtype=\x20','text/plain','request','createWriteStream','readFileSync','cvjs_debug','lastIndexOf','branch\x201','image/jpeg','json','Access-Control-Allow-Credentials','184ndPuXU','indexOf','image/svg+xml','redline','file','ServerFrontEndUrl','application/json','get','ServerLocation','length','dwg','replace','/loadfile','ServerUrl','Error\x20loadfile:','send','X-Requested-With,content-type','/loadfile\x20-\x20error','exports','error','application/dwg','query','menufile','1971810NzbImp','pipe','5213484HqUJyc','Access-Control-Allow-Headers','languagefile','svg','log','branch\x202','Content-Type','attachment;filename=\x22','852530nxqyQv','ServerFrontEndUrlAsAllowedOriginOnly','body','3198404YPOUUx','Access-Control-Allow-Methods','png','substring','http:','https:','gif','1897640XHYYZF','1877402mwNMGu','fileLocation','jpeg','Access-Control-Allow-Origin','image/gif','floor','merge','post'];a17_0x37e6=function(){return _0x4a6fa6;};return a17_0x37e6();}function a17_0x4ddd(_0x4549ef,_0x4fa828){var _0x37e6ba=a17_0x37e6();return a17_0x4ddd=function(_0x4dddd2,_0x13cd5b){_0x4dddd2=_0x4dddd2-0x165;var _0x36f17a=_0x37e6ba[_0x4dddd2];return _0x36f17a;},a17_0x4ddd(_0x4549ef,_0x4fa828);}(function(_0x494883,_0x1b04d8){var _0x56ae86=a17_0x4ddd,_0x4daeb6=_0x494883();while(!![]){try{var _0x3c7cfe=parseInt(_0x56ae86(0x192))/0x1+parseInt(_0x56ae86(0x193))/0x2+parseInt(_0x56ae86(0x1a0))/0x3*(-parseInt(_0x56ae86(0x18b))/0x4)+-parseInt(_0x56ae86(0x188))/0x5+parseInt(_0x56ae86(0x17e))/0x6+parseInt(_0x56ae86(0x1a1))/0x7*(-parseInt(_0x56ae86(0x167))/0x8)+-parseInt(_0x56ae86(0x180))/0x9;if(_0x3c7cfe===_0x1b04d8)break;else _0x4daeb6['push'](_0x4daeb6['shift']());}catch(_0x3a11d7){_0x4daeb6['push'](_0x4daeb6['shift']());}}}(a17_0x37e6,0xf0d25));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'];const httprequest=require(a17_0x5af476(0x1ab));var express=require('express'),router=express['Router']();function loadFile(_0x56e8e0,_0x312de8){var _0x275f4f=a17_0x5af476;try{config[_0x275f4f(0x189)]==!![]?_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x196),config[_0x275f4f(0x16c)]):_0x312de8['setHeader'](_0x275f4f(0x196),'*');_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x18c),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x181),_0x275f4f(0x177)),_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x166),!![]);var _0x3733e2=_0x56e8e0['body'][_0x275f4f(0x16b)];_0x3733e2==undefined&&(_0x3733e2=_0x56e8e0[_0x275f4f(0x17c)][_0x275f4f(0x16b)]);var _0xcf206=_0x56e8e0[_0x275f4f(0x18a)][_0x275f4f(0x19d)];_0xcf206==undefined&&(_0xcf206=_0x56e8e0['query'][_0x275f4f(0x19d)]);_0x3733e2=decodeURI(_0x3733e2),_0x3733e2=_0x3733e2[_0x275f4f(0x172)](/%3A/g,':'),_0x3733e2=_0x3733e2[_0x275f4f(0x172)](/%2F/g,'/'),_0x3733e2=_0x3733e2[_0x275f4f(0x172)](/%20/g,'\x20'),_0x3733e2=_0x3733e2[_0x275f4f(0x19b)]('+','\x20');if(config[_0x275f4f(0x1ae)])console[_0x275f4f(0x184)](_0x275f4f(0x1a7)+_0x3733e2+_0x275f4f(0x1a9)+_0xcf206);if(config[_0x275f4f(0x16c)]!=''&&_0x3733e2[_0x275f4f(0x168)](config[_0x275f4f(0x16c)])==0x0&&_0x3733e2[_0x275f4f(0x168)](config['ServerUrl'])!=0x0){if(config[_0x275f4f(0x1ae)])console['log'](_0x275f4f(0x1b0));_0x3733e2=config[_0x275f4f(0x16f)]+_0x3733e2[_0x275f4f(0x18e)](config['ServerFrontEndUrl']['length']);}else{if(_0x3733e2['indexOf'](config[_0x275f4f(0x174)])==0x0){if(config['cvjs_debug'])console['log'](_0x275f4f(0x185));_0x3733e2=config[_0x275f4f(0x16f)]+_0x3733e2[_0x275f4f(0x18e)](config[_0x275f4f(0x174)][_0x275f4f(0x170)]);}else{if(_0xcf206!=undefined&&_0xcf206[_0x275f4f(0x168)](_0x275f4f(0x17d))==0x0||_0xcf206!=undefined&&_0xcf206['indexOf'](_0x275f4f(0x182))==0x0||_0xcf206!=undefined&&_0xcf206[_0x275f4f(0x168)](_0x275f4f(0x199))==0x0||_0xcf206!=undefined&&_0xcf206['indexOf'](_0x275f4f(0x16a))==0x0){if(_0x3733e2[_0x275f4f(0x168)](_0x275f4f(0x18f))==0x0||_0x3733e2[_0x275f4f(0x168)](_0x275f4f(0x190))==0x0){if(config[_0x275f4f(0x1ae)])console[_0x275f4f(0x184)]('branch\x203');}else{if(_0x3733e2[_0x275f4f(0x168)](config['ServerLocation'])==0x0){if(config[_0x275f4f(0x1ae)])console[_0x275f4f(0x184)](_0x275f4f(0x19f));}else{if(config[_0x275f4f(0x1ae)])console[_0x275f4f(0x184)]('branch\x205');_0x3733e2=config[_0x275f4f(0x16f)]+_0x3733e2;}}}}}var _0x3ca1c2=require('fs');if(_0x3733e2[_0x275f4f(0x168)](_0x275f4f(0x1a4))==0x0){var _0x576292=Math[_0x275f4f(0x198)](Math[_0x275f4f(0x1a6)]()*Math[_0x275f4f(0x198)](0xf4240)),_0x38bce6='F'+_0x576292,_0x39a191=_0x3733e2[_0x275f4f(0x18e)](_0x3733e2[_0x275f4f(0x1af)]('.')+0x1),_0x5ec703=config[_0x275f4f(0x194)]+_0x38bce6+'.'+_0x39a191;if(cvjs_debug)console[_0x275f4f(0x184)](_0x275f4f(0x1a3)+_0x5ec703);var _0x3ca1c2=require('fs');httprequest(_0x3733e2)[_0x275f4f(0x17f)](_0x3ca1c2[_0x275f4f(0x1ac)](_0x5ec703))['on'](_0x275f4f(0x17a),()=>{var _0x1a9272=_0x275f4f;console[_0x1a9272(0x184)](_0x1a9272(0x19e)+_0x3733e2),_0x312de8[_0x1a9272(0x176)](_0x1a9272(0x178));})['on']('finish',()=>{var _0x4ec996=_0x275f4f;if(cvjs_debug)console[_0x4ec996(0x184)]('finshed\x20loading\x20'+_0x3733e2+'\x20,\x20writing\x20to:\x20'+_0x5ec703);var _0x50d907=_0x3ca1c2[_0x4ec996(0x1ad)](_0x5ec703);if(_0x39a191['indexOf'](_0x4ec996(0x18d))==0x0)_0x312de8[_0x4ec996(0x1a2)](_0x4ec996(0x186),_0x4ec996(0x19c));else{if(_0x39a191['indexOf'](_0x4ec996(0x1a8))==0x0)_0x312de8[_0x4ec996(0x1a2)]('Content-Type',_0x4ec996(0x1b1));else{if(_0x39a191[_0x4ec996(0x168)](_0x4ec996(0x195))==0x0)_0x312de8[_0x4ec996(0x1a2)](_0x4ec996(0x186),_0x4ec996(0x1b1));else{if(_0x39a191[_0x4ec996(0x168)](_0x4ec996(0x191))==0x0)_0x312de8['setHeader'](_0x4ec996(0x186),'image/gif');else{if(_0x39a191[_0x4ec996(0x168)](_0x4ec996(0x165))==0x0)_0x312de8[_0x4ec996(0x1a2)](_0x4ec996(0x186),_0x4ec996(0x16d));else{if(_0x39a191[_0x4ec996(0x168)](_0x4ec996(0x183))==0x0)_0x312de8['setHeader'](_0x4ec996(0x186),_0x4ec996(0x169));else{if(_0x39a191[_0x4ec996(0x168)](_0x4ec996(0x171))==0x0){_0x312de8['setHeader'](_0x4ec996(0x186),_0x4ec996(0x17b));var _0x165e07=_0x3733e2['substring'](_0x3733e2[_0x4ec996(0x1af)]('/')+0x1);_0x312de8['setHeader']('Content-Disposition',_0x4ec996(0x187)+_0x165e07+'\x22');}else _0x312de8[_0x4ec996(0x1a2)](_0x4ec996(0x186),_0x4ec996(0x1aa));}}}}}}if(cvjs_debug)console[_0x4ec996(0x184)]('4:'+_0x39a191);if(cvjs_debug)console['log']('\x20reading\x20and\x20sending\x20data\x20png:'+(_0x39a191[_0x4ec996(0x168)](_0x4ec996(0x18d))==0x0));_0x312de8[_0x4ec996(0x176)](_0x50d907);});}else{var _0x18295e=_0x3ca1c2[_0x275f4f(0x1ad)](_0x3733e2),_0x39a191=_0x3733e2['substring'](_0x3733e2['lastIndexOf']('.')+0x1);if(_0x39a191[_0x275f4f(0x168)](_0x275f4f(0x18d))==0x0)_0x312de8['setHeader'](_0x275f4f(0x186),_0x275f4f(0x19c));else{if(_0x39a191[_0x275f4f(0x168)](_0x275f4f(0x1a8))==0x0)_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x186),'image/jpeg');else{if(_0x39a191['indexOf'](_0x275f4f(0x195))==0x0)_0x312de8['setHeader']('Content-Type',_0x275f4f(0x1b1));else{if(_0x39a191[_0x275f4f(0x168)]('gif')==0x0)_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x186),_0x275f4f(0x197));else{if(_0x39a191[_0x275f4f(0x168)](_0x275f4f(0x165))==0x0)_0x312de8[_0x275f4f(0x1a2)]('Content-Type',_0x275f4f(0x16d));else{if(_0x39a191[_0x275f4f(0x168)](_0x275f4f(0x183))==0x0)_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x186),_0x275f4f(0x169));else{if(_0x39a191[_0x275f4f(0x168)](_0x275f4f(0x171))==0x0){_0x312de8['setHeader'](_0x275f4f(0x186),_0x275f4f(0x17b));var _0x535f03=_0x3733e2['substring'](_0x3733e2[_0x275f4f(0x1af)]('/')+0x1);_0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x1a5),_0x275f4f(0x187)+_0x535f03+'\x22');}else _0x312de8[_0x275f4f(0x1a2)](_0x275f4f(0x186),'text/plain');}}}}}}_0x312de8[_0x275f4f(0x176)](_0x18295e);}}catch(_0x358a0d){_0x312de8[_0x275f4f(0x176)]('error\x20-\x20loadfile');if(config[_0x275f4f(0x1ae)])console['log'](_0x275f4f(0x175)+_0x358a0d);}}router[a17_0x5af476(0x16e)](a17_0x5af476(0x173),function(_0x46c9c0,_0x154fb8){loadFile(_0x46c9c0,_0x154fb8);}),router[a17_0x5af476(0x19a)](a17_0x5af476(0x173),(_0x51cc0e,_0x21ca08)=>{loadFile(_0x51cc0e,_0x21ca08);}),module[a17_0x5af476(0x179)]=router;