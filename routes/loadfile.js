function a16_0x15a0(){var _0x425d10=['image/png','substring','X-Requested-With,content-type','\x20\x20loadtype=\x20','dwg','branch\x204','104ZaKFMm','13466bQNRMQ','114970NhnsdX','pipe','length','145635zmmACB','request','18HWokEa','Content-Disposition','9647hddugu','floor','jpg','Content-Type','gif','ServerUrl','merge','json','redline','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','file','ServerLocation','https:','finish','Access-Control-Allow-Methods','exports','createWriteStream','loadtype','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','lastIndexOf','branch\x203','117ZyWiWt','png','express','get','48KAVUuB','/loadfile','jpeg','text/plain','send','application/dwg','image/svg+xml','indexOf','replace','application/json','http','cvjs_debug','error','body','4617162ptIPTd','image/gif','Error\x20loadfile:','Access-Control-Allow-Credentials','image/jpeg','2NrmziH','\x20,\x20writing\x20to:\x20','attachment;filename=\x22','49896xpTHbL','244364ZVLZnm','log','ServerFrontEndUrlAsAllowedOriginOnly','readFileSync','1970iEjRXz','svg','/loadfile\x20-\x20error','Access-Control-Allow-Origin','setHeader','query','random','ServerFrontEndUrl','replaceAll'];a16_0x15a0=function(){return _0x425d10;};return a16_0x15a0();}function a16_0x5685(_0x1cb82f,_0x526599){var _0x15a090=a16_0x15a0();return a16_0x5685=function(_0x568510,_0x2ab719){_0x568510=_0x568510-0x89;var _0x3aa486=_0x15a090[_0x568510];return _0x3aa486;},a16_0x5685(_0x1cb82f,_0x526599);}var a16_0x4e7383=a16_0x5685;(function(_0x4123fb,_0x52cf65){var _0x314d2a=a16_0x5685,_0x4eb180=_0x4123fb();while(!![]){try{var _0x1d9bcc=-parseInt(_0x314d2a(0xb6))/0x1*(-parseInt(_0x314d2a(0x9e))/0x2)+parseInt(_0x314d2a(0xbc))/0x3*(parseInt(_0x314d2a(0xa2))/0x4)+-parseInt(_0x314d2a(0xb7))/0x5*(parseInt(_0x314d2a(0x8b))/0x6)+-parseInt(_0x314d2a(0xba))/0x7*(parseInt(_0x314d2a(0xb5))/0x8)+parseInt(_0x314d2a(0x99))/0x9+-parseInt(_0x314d2a(0xa6))/0xa*(parseInt(_0x314d2a(0xbe))/0xb)+-parseInt(_0x314d2a(0xa1))/0xc*(-parseInt(_0x314d2a(0xd3))/0xd);if(_0x1d9bcc===_0x52cf65)break;else _0x4eb180['push'](_0x4eb180['shift']());}catch(_0x32ffbd){_0x4eb180['push'](_0x4eb180['shift']());}}}(a16_0x15a0,0x4a0a2));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'];const httprequest=require(a16_0x4e7383(0xbb));var express=require(a16_0x4e7383(0x89)),router=express['Router']();function loadFile(_0x504cb4,_0x1d62d7){var _0x255add=a16_0x4e7383;try{config[_0x255add(0xa4)]==!![]?_0x1d62d7[_0x255add(0xaa)]('Access-Control-Allow-Origin',config[_0x255add(0xad)]):_0x1d62d7[_0x255add(0xaa)](_0x255add(0xa9),'*');_0x1d62d7[_0x255add(0xaa)](_0x255add(0xcc),_0x255add(0xd0)),_0x1d62d7[_0x255add(0xaa)]('Access-Control-Allow-Headers',_0x255add(0xb1)),_0x1d62d7[_0x255add(0xaa)](_0x255add(0x9c),!![]);var _0x289c7c=_0x504cb4[_0x255add(0x98)]['file'];_0x289c7c==undefined&&(_0x289c7c=_0x504cb4[_0x255add(0xab)][_0x255add(0xc8)]);var _0x105341=_0x504cb4[_0x255add(0x98)][_0x255add(0xcf)];_0x105341==undefined&&(_0x105341=_0x504cb4[_0x255add(0xab)][_0x255add(0xcf)]);_0x289c7c=decodeURI(_0x289c7c),_0x289c7c=_0x289c7c[_0x255add(0x93)](/%3A/g,':'),_0x289c7c=_0x289c7c[_0x255add(0x93)](/%2F/g,'/'),_0x289c7c=_0x289c7c[_0x255add(0x93)](/%20/g,'\x20'),_0x289c7c=_0x289c7c[_0x255add(0xae)]('+','\x20');if(config['cvjs_debug'])console[_0x255add(0xa3)]('1:\x20/loadfile:\x20'+_0x289c7c+_0x255add(0xb2)+_0x105341);if(config['ServerFrontEndUrl']!=''&&_0x289c7c[_0x255add(0x92)](config[_0x255add(0xad)])==0x0&&_0x289c7c['indexOf'](config[_0x255add(0xc3)])!=0x0){if(config[_0x255add(0x96)])console[_0x255add(0xa3)]('branch\x201');_0x289c7c=config[_0x255add(0xc9)]+_0x289c7c[_0x255add(0xb0)](config[_0x255add(0xad)][_0x255add(0xb9)]);}else{if(_0x289c7c[_0x255add(0x92)](config[_0x255add(0xc3)])==0x0){if(config[_0x255add(0x96)])console[_0x255add(0xa3)]('branch\x202');_0x289c7c=config[_0x255add(0xc9)]+_0x289c7c['substring'](config['ServerUrl'][_0x255add(0xb9)]);}else{if(_0x105341!=undefined&&_0x105341[_0x255add(0x92)]('menufile')==0x0||_0x105341!=undefined&&_0x105341['indexOf']('languagefile')==0x0||_0x105341!=undefined&&_0x105341['indexOf'](_0x255add(0xc4))==0x0||_0x105341!=undefined&&_0x105341['indexOf'](_0x255add(0xc6))==0x0){if(_0x289c7c[_0x255add(0x92)]('http:')==0x0||_0x289c7c['indexOf'](_0x255add(0xca))==0x0){if(config[_0x255add(0x96)])console['log'](_0x255add(0xd2));}else{if(_0x289c7c['indexOf'](config[_0x255add(0xc9)])==0x0){if(config[_0x255add(0x96)])console[_0x255add(0xa3)](_0x255add(0xb4));}else{if(config['cvjs_debug'])console[_0x255add(0xa3)]('branch\x205');_0x289c7c=config[_0x255add(0xc9)]+_0x289c7c;}}}}}var _0x14a33f=require('fs');if(_0x289c7c[_0x255add(0x92)](_0x255add(0x95))==0x0){var _0x433fd9=Math[_0x255add(0xbf)](Math[_0x255add(0xac)]()*Math[_0x255add(0xbf)](0xf4240)),_0x6031c3='F'+_0x433fd9,_0x2d85a6=_0x289c7c[_0x255add(0xb0)](_0x289c7c[_0x255add(0xd1)]('.')+0x1),_0x46d5cd=config['fileLocation']+_0x6031c3+'.'+_0x2d85a6;if(cvjs_debug)console[_0x255add(0xa3)]('newcontenLocation\x20'+_0x46d5cd);var _0x14a33f=require('fs');httprequest(_0x289c7c)[_0x255add(0xb8)](_0x14a33f[_0x255add(0xce)](_0x46d5cd))['on'](_0x255add(0x97),()=>{var _0x44e57d=_0x255add;console[_0x44e57d(0xa3)](_0x44e57d(0xc7)+_0x289c7c),_0x1d62d7[_0x44e57d(0x8f)](_0x44e57d(0xa8));})['on'](_0x255add(0xcb),()=>{var _0x58b64e=_0x255add;if(cvjs_debug)console['log']('finshed\x20loading\x20'+_0x289c7c+_0x58b64e(0x9f)+_0x46d5cd);var _0x3ebfe2=_0x14a33f[_0x58b64e(0xa5)](_0x46d5cd);if(_0x2d85a6[_0x58b64e(0x92)](_0x58b64e(0xd4))==0x0)_0x1d62d7[_0x58b64e(0xaa)](_0x58b64e(0xc1),_0x58b64e(0xaf));else{if(_0x2d85a6[_0x58b64e(0x92)](_0x58b64e(0xc0))==0x0)_0x1d62d7[_0x58b64e(0xaa)](_0x58b64e(0xc1),'image/jpeg');else{if(_0x2d85a6[_0x58b64e(0x92)](_0x58b64e(0x8d))==0x0)_0x1d62d7[_0x58b64e(0xaa)](_0x58b64e(0xc1),_0x58b64e(0x9d));else{if(_0x2d85a6[_0x58b64e(0x92)]('gif')==0x0)_0x1d62d7[_0x58b64e(0xaa)](_0x58b64e(0xc1),_0x58b64e(0x9a));else{if(_0x2d85a6[_0x58b64e(0x92)](_0x58b64e(0xc5))==0x0)_0x1d62d7['setHeader'](_0x58b64e(0xc1),_0x58b64e(0x94));else{if(_0x2d85a6[_0x58b64e(0x92)]('svg')==0x0)_0x1d62d7[_0x58b64e(0xaa)](_0x58b64e(0xc1),_0x58b64e(0x91));else{if(_0x2d85a6[_0x58b64e(0x92)]('dwg')==0x0){_0x1d62d7['setHeader'](_0x58b64e(0xc1),_0x58b64e(0x90));var _0x130c8b=_0x289c7c[_0x58b64e(0xb0)](_0x289c7c[_0x58b64e(0xd1)]('/')+0x1);_0x1d62d7[_0x58b64e(0xaa)]('Content-Disposition',_0x58b64e(0xa0)+_0x130c8b+'\x22');}else _0x1d62d7[_0x58b64e(0xaa)](_0x58b64e(0xc1),_0x58b64e(0x8e));}}}}}}if(cvjs_debug)console[_0x58b64e(0xa3)]('4:'+_0x2d85a6);if(cvjs_debug)console[_0x58b64e(0xa3)]('\x20reading\x20and\x20sending\x20data\x20png:'+(_0x2d85a6[_0x58b64e(0x92)](_0x58b64e(0xd4))==0x0));_0x1d62d7[_0x58b64e(0x8f)](_0x3ebfe2);});}else{var _0x3b1ace=_0x14a33f[_0x255add(0xa5)](_0x289c7c),_0x2d85a6=_0x289c7c[_0x255add(0xb0)](_0x289c7c[_0x255add(0xd1)]('.')+0x1);if(_0x2d85a6[_0x255add(0x92)](_0x255add(0xd4))==0x0)_0x1d62d7[_0x255add(0xaa)](_0x255add(0xc1),_0x255add(0xaf));else{if(_0x2d85a6[_0x255add(0x92)]('jpg')==0x0)_0x1d62d7['setHeader'](_0x255add(0xc1),'image/jpeg');else{if(_0x2d85a6['indexOf'](_0x255add(0x8d))==0x0)_0x1d62d7[_0x255add(0xaa)]('Content-Type',_0x255add(0x9d));else{if(_0x2d85a6[_0x255add(0x92)](_0x255add(0xc2))==0x0)_0x1d62d7[_0x255add(0xaa)]('Content-Type',_0x255add(0x9a));else{if(_0x2d85a6[_0x255add(0x92)]('json')==0x0)_0x1d62d7[_0x255add(0xaa)](_0x255add(0xc1),_0x255add(0x94));else{if(_0x2d85a6[_0x255add(0x92)](_0x255add(0xa7))==0x0)_0x1d62d7[_0x255add(0xaa)](_0x255add(0xc1),_0x255add(0x91));else{if(_0x2d85a6[_0x255add(0x92)](_0x255add(0xb3))==0x0){_0x1d62d7[_0x255add(0xaa)]('Content-Type',_0x255add(0x90));var _0x13aa81=_0x289c7c[_0x255add(0xb0)](_0x289c7c['lastIndexOf']('/')+0x1);_0x1d62d7['setHeader'](_0x255add(0xbd),_0x255add(0xa0)+_0x13aa81+'\x22');}else _0x1d62d7[_0x255add(0xaa)](_0x255add(0xc1),_0x255add(0x8e));}}}}}}_0x1d62d7[_0x255add(0x8f)](_0x3b1ace);}}catch(_0x263b9d){_0x1d62d7[_0x255add(0x8f)]('error\x20-\x20loadfile');if(config[_0x255add(0x96)])console[_0x255add(0xa3)](_0x255add(0x9b)+_0x263b9d);}}router[a16_0x4e7383(0x8a)](a16_0x4e7383(0x8c),function(_0x4f610c,_0x48eea2){loadFile(_0x4f610c,_0x48eea2);}),router['post'](a16_0x4e7383(0x8c),(_0x56e4ca,_0x283e8f)=>{loadFile(_0x56e4ca,_0x283e8f);}),module[a16_0x4e7383(0xcd)]=router;