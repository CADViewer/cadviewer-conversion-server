var a17_0x1f86f7=a17_0x2a60;function a17_0x2a60(_0x1af807,_0x39b4a7){var _0x53708c=a17_0x5370();return a17_0x2a60=function(_0x2a60be,_0x330869){_0x2a60be=_0x2a60be-0x66;var _0x183e78=_0x53708c[_0x2a60be];return _0x183e78;},a17_0x2a60(_0x1af807,_0x39b4a7);}(function(_0x27024d,_0x5c8e2e){var _0x231837=a17_0x2a60,_0x47c25b=_0x27024d();while(!![]){try{var _0x550a8d=-parseInt(_0x231837(0x6a))/0x1*(-parseInt(_0x231837(0x9e))/0x2)+-parseInt(_0x231837(0x78))/0x3+-parseInt(_0x231837(0x86))/0x4+parseInt(_0x231837(0x8d))/0x5*(parseInt(_0x231837(0x94))/0x6)+parseInt(_0x231837(0xae))/0x7*(-parseInt(_0x231837(0x9f))/0x8)+parseInt(_0x231837(0x91))/0x9*(-parseInt(_0x231837(0x98))/0xa)+parseInt(_0x231837(0xa3))/0xb;if(_0x550a8d===_0x5c8e2e)break;else _0x47c25b['push'](_0x47c25b['shift']());}catch(_0x194e22){_0x47c25b['push'](_0x47c25b['shift']());}}}(a17_0x5370,0x5fb12));var config=require('../CADViewer_config.json'),cvjs_debug=config[a17_0x1f86f7(0xa2)];function a17_0x5370(){var _0x35a0ca=['finshed\x20loading\x20','/loadfile','Router','exports','\x20\x20loadtype=\x20','1:\x20/loadfile:\x20','380505lzjCdv','createWriteStream','Access-Control-Allow-Methods','Access-Control-Allow-Headers','1629LbvFMH','dwg','X-Requested-With,content-type','30iXZLfY','png','send','loadtype','15000qPXihG','lastIndexOf','error','languagefile','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','image/svg+xml','723946GIfmPX','16AKMFQG','indexOf','Access-Control-Allow-Origin','cvjs_debug','14451800xrfqLB','newcontenLocation\x20','branch\x202','length','ServerFrontEndUrl','replace','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','branch\x204','gif','branch\x201','merge','2101883wkWPZg','text/plain','query','jpg','\x20reading\x20and\x20sending\x20data\x20png:','readFileSync','finish','express','Error\x20loadfile:','fileLocation','setHeader','random','Content-Type','2HSqWUX','attachment;filename=\x22','substring','image/jpeg','http','json','Content-Disposition','jpeg','log','file','branch\x203','body','application/dwg','branch\x205','2345586kocdlf','\x20,\x20writing\x20to:\x20','get','ServerLocation','application/json','redline','menufile','svg','error\x20-\x20loadfile','Access-Control-Allow-Credentials','image/png','image/gif','https:','ServerUrl','1489588prggtf'];a17_0x5370=function(){return _0x35a0ca;};return a17_0x5370();}const httprequest=require('request');var express=require(a17_0x1f86f7(0xb5)),router=express[a17_0x1f86f7(0x89)]();function loadFile(_0x1390c3,_0x399bac){var _0x2497ba=a17_0x1f86f7;try{config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]?_0x399bac[_0x2497ba(0x67)](_0x2497ba(0xa1),config[_0x2497ba(0xa7)]):_0x399bac[_0x2497ba(0x67)]('Access-Control-Allow-Origin','*');_0x399bac['setHeader'](_0x2497ba(0x8f),_0x2497ba(0xa9)),_0x399bac[_0x2497ba(0x67)](_0x2497ba(0x90),_0x2497ba(0x93)),_0x399bac[_0x2497ba(0x67)](_0x2497ba(0x81),!![]);var _0x22d7f6=_0x1390c3[_0x2497ba(0x75)][_0x2497ba(0x73)];_0x22d7f6==undefined&&(_0x22d7f6=_0x1390c3[_0x2497ba(0xb0)]['file']);var _0x1aa441=_0x1390c3['body'][_0x2497ba(0x97)];_0x1aa441==undefined&&(_0x1aa441=_0x1390c3[_0x2497ba(0xb0)][_0x2497ba(0x97)]);_0x22d7f6=decodeURI(_0x22d7f6),_0x22d7f6=_0x22d7f6[_0x2497ba(0xa8)](/%3A/g,':'),_0x22d7f6=_0x22d7f6[_0x2497ba(0xa8)](/%2F/g,'/'),_0x22d7f6=_0x22d7f6[_0x2497ba(0xa8)](/%20/g,'\x20'),_0x22d7f6=_0x22d7f6['replaceAll']('+','\x20');if(config[_0x2497ba(0xa2)])console['log'](_0x2497ba(0x8c)+_0x22d7f6+_0x2497ba(0x8b)+_0x1aa441);if(config['ServerFrontEndUrl']!=''&&_0x22d7f6['indexOf'](config[_0x2497ba(0xa7)])==0x0&&_0x22d7f6[_0x2497ba(0xa0)](config['ServerUrl'])!=0x0){if(config['cvjs_debug'])console[_0x2497ba(0x72)](_0x2497ba(0xac));_0x22d7f6=config['ServerLocation']+_0x22d7f6[_0x2497ba(0x6c)](config[_0x2497ba(0xa7)][_0x2497ba(0xa6)]);}else{if(_0x22d7f6[_0x2497ba(0xa0)](config[_0x2497ba(0x85)])==0x0){if(config['cvjs_debug'])console[_0x2497ba(0x72)](_0x2497ba(0xa5));_0x22d7f6=config[_0x2497ba(0x7b)]+_0x22d7f6['substring'](config[_0x2497ba(0x85)][_0x2497ba(0xa6)]);}else{if(_0x1aa441!=undefined&&_0x1aa441[_0x2497ba(0xa0)](_0x2497ba(0x7e))==0x0||_0x1aa441!=undefined&&_0x1aa441['indexOf'](_0x2497ba(0x9b))==0x0||_0x1aa441!=undefined&&_0x1aa441[_0x2497ba(0xa0)](_0x2497ba(0xad))==0x0||_0x1aa441!=undefined&&_0x1aa441['indexOf'](_0x2497ba(0x7d))==0x0){if(_0x22d7f6[_0x2497ba(0xa0)]('http:')==0x0||_0x22d7f6['indexOf'](_0x2497ba(0x84))==0x0){if(config[_0x2497ba(0xa2)])console[_0x2497ba(0x72)](_0x2497ba(0x74));}else{if(_0x22d7f6[_0x2497ba(0xa0)](config[_0x2497ba(0x7b)])==0x0){if(config[_0x2497ba(0xa2)])console[_0x2497ba(0x72)](_0x2497ba(0xaa));}else{if(config[_0x2497ba(0xa2)])console[_0x2497ba(0x72)](_0x2497ba(0x77));_0x22d7f6=config['ServerLocation']+_0x22d7f6;}}}}}var _0x1cf630=require('fs');if(_0x22d7f6[_0x2497ba(0xa0)](_0x2497ba(0x6e))==0x0){var _0x2c5879=Math['floor'](Math[_0x2497ba(0x68)]()*Math['floor'](0xf4240)),_0x16fb55='F'+_0x2c5879,_0x15b28e=_0x22d7f6[_0x2497ba(0x6c)](_0x22d7f6[_0x2497ba(0x99)]('.')+0x1),_0x2d9906=config[_0x2497ba(0x66)]+_0x16fb55+'.'+_0x15b28e;if(cvjs_debug)console[_0x2497ba(0x72)](_0x2497ba(0xa4)+_0x2d9906);var _0x1cf630=require('fs');httprequest(_0x22d7f6)['pipe'](_0x1cf630[_0x2497ba(0x8e)](_0x2d9906))['on'](_0x2497ba(0x9a),()=>{var _0x23a87f=_0x2497ba;console[_0x23a87f(0x72)](_0x23a87f(0x9c)+_0x22d7f6),_0x399bac[_0x23a87f(0x96)]('/loadfile\x20-\x20error');})['on'](_0x2497ba(0xb4),()=>{var _0x40c361=_0x2497ba;if(cvjs_debug)console[_0x40c361(0x72)](_0x40c361(0x87)+_0x22d7f6+_0x40c361(0x79)+_0x2d9906);var _0x1a358=_0x1cf630[_0x40c361(0xb3)](_0x2d9906);if(_0x15b28e[_0x40c361(0xa0)](_0x40c361(0x95))==0x0)_0x399bac[_0x40c361(0x67)]('Content-Type',_0x40c361(0x82));else{if(_0x15b28e['indexOf'](_0x40c361(0xb1))==0x0)_0x399bac[_0x40c361(0x67)]('Content-Type',_0x40c361(0x6d));else{if(_0x15b28e[_0x40c361(0xa0)](_0x40c361(0x71))==0x0)_0x399bac[_0x40c361(0x67)](_0x40c361(0x69),_0x40c361(0x6d));else{if(_0x15b28e['indexOf'](_0x40c361(0xab))==0x0)_0x399bac['setHeader'](_0x40c361(0x69),_0x40c361(0x83));else{if(_0x15b28e[_0x40c361(0xa0)](_0x40c361(0x6f))==0x0)_0x399bac[_0x40c361(0x67)]('Content-Type',_0x40c361(0x7c));else{if(_0x15b28e[_0x40c361(0xa0)](_0x40c361(0x7f))==0x0)_0x399bac['setHeader'](_0x40c361(0x69),_0x40c361(0x9d));else{if(_0x15b28e[_0x40c361(0xa0)](_0x40c361(0x92))==0x0){_0x399bac[_0x40c361(0x67)](_0x40c361(0x69),'application/dwg');var _0x479b4f=_0x22d7f6[_0x40c361(0x6c)](_0x22d7f6[_0x40c361(0x99)]('/')+0x1);_0x399bac['setHeader'](_0x40c361(0x70),_0x40c361(0x6b)+_0x479b4f+'\x22');}else _0x399bac[_0x40c361(0x67)](_0x40c361(0x69),'text/plain');}}}}}}if(cvjs_debug)console['log']('4:'+_0x15b28e);if(cvjs_debug)console['log'](_0x40c361(0xb2)+(_0x15b28e['indexOf'](_0x40c361(0x95))==0x0));_0x399bac[_0x40c361(0x96)](_0x1a358);});}else{var _0x230cf0=_0x1cf630[_0x2497ba(0xb3)](_0x22d7f6),_0x15b28e=_0x22d7f6['substring'](_0x22d7f6[_0x2497ba(0x99)]('.')+0x1);if(_0x15b28e['indexOf'](_0x2497ba(0x95))==0x0)_0x399bac[_0x2497ba(0x67)]('Content-Type',_0x2497ba(0x82));else{if(_0x15b28e['indexOf'](_0x2497ba(0xb1))==0x0)_0x399bac['setHeader']('Content-Type',_0x2497ba(0x6d));else{if(_0x15b28e['indexOf'](_0x2497ba(0x71))==0x0)_0x399bac[_0x2497ba(0x67)](_0x2497ba(0x69),_0x2497ba(0x6d));else{if(_0x15b28e[_0x2497ba(0xa0)]('gif')==0x0)_0x399bac[_0x2497ba(0x67)]('Content-Type','image/gif');else{if(_0x15b28e[_0x2497ba(0xa0)](_0x2497ba(0x6f))==0x0)_0x399bac[_0x2497ba(0x67)]('Content-Type',_0x2497ba(0x7c));else{if(_0x15b28e[_0x2497ba(0xa0)](_0x2497ba(0x7f))==0x0)_0x399bac['setHeader'](_0x2497ba(0x69),_0x2497ba(0x9d));else{if(_0x15b28e[_0x2497ba(0xa0)]('dwg')==0x0){_0x399bac[_0x2497ba(0x67)](_0x2497ba(0x69),_0x2497ba(0x76));var _0x3b2d71=_0x22d7f6[_0x2497ba(0x6c)](_0x22d7f6['lastIndexOf']('/')+0x1);_0x399bac['setHeader'](_0x2497ba(0x70),_0x2497ba(0x6b)+_0x3b2d71+'\x22');}else _0x399bac['setHeader'](_0x2497ba(0x69),_0x2497ba(0xaf));}}}}}}_0x399bac[_0x2497ba(0x96)](_0x230cf0);}}catch(_0x5e74ae){_0x399bac[_0x2497ba(0x96)](_0x2497ba(0x80));if(config[_0x2497ba(0xa2)])console[_0x2497ba(0x72)](_0x2497ba(0xb6)+_0x5e74ae);}}router[a17_0x1f86f7(0x7a)](a17_0x1f86f7(0x88),function(_0x148369,_0x569fb6){loadFile(_0x148369,_0x569fb6);}),router['post']('/loadfile',(_0x2deb79,_0x274fcf)=>{loadFile(_0x2deb79,_0x274fcf);}),module[a17_0x1f86f7(0x8a)]=router;