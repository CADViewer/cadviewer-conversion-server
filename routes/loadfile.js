var a17_0x292067=a17_0xa6c2;(function(_0xa21ccf,_0x43fdb3){var _0x230e77=a17_0xa6c2,_0x3313b4=_0xa21ccf();while(!![]){try{var _0x24d706=parseInt(_0x230e77(0xbb))/0x1+-parseInt(_0x230e77(0xc4))/0x2+parseInt(_0x230e77(0xdb))/0x3*(-parseInt(_0x230e77(0xdf))/0x4)+-parseInt(_0x230e77(0xcb))/0x5*(-parseInt(_0x230e77(0xea))/0x6)+parseInt(_0x230e77(0xb1))/0x7*(parseInt(_0x230e77(0xbe))/0x8)+parseInt(_0x230e77(0xa1))/0x9+-parseInt(_0x230e77(0xc8))/0xa;if(_0x24d706===_0x43fdb3)break;else _0x3313b4['push'](_0x3313b4['shift']());}catch(_0x14380e){_0x3313b4['push'](_0x3313b4['shift']());}}}(a17_0x27dd,0x3f8c6));var config=require(a17_0x292067(0xce)),cvjs_debug=config[a17_0x292067(0x9d)];function a17_0x27dd(){var _0x285757=['post','menufile','branch\x203','Content-Type','branch\x202','branch\x205','error\x20-\x20loadfile','107954WvBzNV','length','finish','8xrcuUO','Access-Control-Allow-Headers','jpeg','http:','readFileSync','replaceAll','390634TuCsDN','image/png','loadtype','image/jpeg','3739260noPNOt','log','dwg','1294595AJYaTb','png','svg','../CADViewer_config.json','Error\x20loadfile:','jpg','Router','Access-Control-Allow-Origin','merge','send','setHeader','floor','image/gif','1:\x20/loadfile:\x20','error','redline','12819LvuTur','languagefile','branch\x204','body','376CutVyO','finshed\x20loading\x20','\x20,\x20writing\x20to:\x20','query','application/json','pipe','application/dwg','substring','gif','ServerFrontEndUrlAsAllowedOriginOnly','newcontenLocation\x20','6CUlNwR','ServerUrl','text/plain','Access-Control-Allow-Credentials','indexOf','file','cvjs_debug','get','\x20reading\x20and\x20sending\x20data\x20png:','replace','3349656yRaVuR','https:','lastIndexOf','/loadfile\x20-\x20error','Access-Control-Allow-Methods','\x20\x20loadtype=\x20','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','/loadfile','branch\x201','json','X-Requested-With,content-type','ServerFrontEndUrl','attachment;filename=\x22','image/svg+xml','Content-Disposition','request','3444994esFhfE','ServerLocation','http'];a17_0x27dd=function(){return _0x285757;};return a17_0x27dd();}const httprequest=require(a17_0x292067(0xb0));var express=require('express'),router=express[a17_0x292067(0xd1)]();function a17_0xa6c2(_0x25ac83,_0x2df105){var _0x27dd53=a17_0x27dd();return a17_0xa6c2=function(_0xa6c2f9,_0x18c142){_0xa6c2f9=_0xa6c2f9-0x9b;var _0x29f078=_0x27dd53[_0xa6c2f9];return _0x29f078;},a17_0xa6c2(_0x25ac83,_0x2df105);}function loadFile(_0x1904ad,_0x2000fa){var _0x50eabe=a17_0x292067;try{config[_0x50eabe(0xe8)]==!![]?_0x2000fa[_0x50eabe(0xd5)](_0x50eabe(0xd2),config[_0x50eabe(0xac)]):_0x2000fa[_0x50eabe(0xd5)]('Access-Control-Allow-Origin','*');_0x2000fa[_0x50eabe(0xd5)](_0x50eabe(0xa5),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x2000fa[_0x50eabe(0xd5)](_0x50eabe(0xbf),_0x50eabe(0xab)),_0x2000fa[_0x50eabe(0xd5)](_0x50eabe(0xed),!![]);var _0x334bdf=_0x1904ad[_0x50eabe(0xde)][_0x50eabe(0x9c)];_0x334bdf==undefined&&(_0x334bdf=_0x1904ad[_0x50eabe(0xe2)]['file']);var _0x1f2042=_0x1904ad['body'][_0x50eabe(0xc6)];_0x1f2042==undefined&&(_0x1f2042=_0x1904ad[_0x50eabe(0xe2)][_0x50eabe(0xc6)]);_0x334bdf=decodeURI(_0x334bdf),_0x334bdf=_0x334bdf[_0x50eabe(0xa0)](/%3A/g,':'),_0x334bdf=_0x334bdf['replace'](/%2F/g,'/'),_0x334bdf=_0x334bdf['replace'](/%20/g,'\x20'),_0x334bdf=_0x334bdf[_0x50eabe(0xc3)]('+','\x20');if(config[_0x50eabe(0x9d)])console['log'](_0x50eabe(0xd8)+_0x334bdf+_0x50eabe(0xa6)+_0x1f2042);if(config[_0x50eabe(0xac)]!=''&&_0x334bdf[_0x50eabe(0x9b)](config[_0x50eabe(0xac)])==0x0&&_0x334bdf[_0x50eabe(0x9b)](config[_0x50eabe(0xeb)])!=0x0){if(config[_0x50eabe(0x9d)])console[_0x50eabe(0xc9)](_0x50eabe(0xa9));_0x334bdf=config[_0x50eabe(0xb2)]+_0x334bdf[_0x50eabe(0xe6)](config[_0x50eabe(0xac)][_0x50eabe(0xbc)]);}else{if(_0x334bdf[_0x50eabe(0x9b)](config['ServerUrl'])==0x0){if(config[_0x50eabe(0x9d)])console[_0x50eabe(0xc9)](_0x50eabe(0xb8));_0x334bdf=config['ServerLocation']+_0x334bdf[_0x50eabe(0xe6)](config[_0x50eabe(0xeb)]['length']);}else{if(_0x1f2042!=undefined&&_0x1f2042['indexOf'](_0x50eabe(0xb5))==0x0||_0x1f2042!=undefined&&_0x1f2042[_0x50eabe(0x9b)](_0x50eabe(0xdc))==0x0||_0x1f2042!=undefined&&_0x1f2042[_0x50eabe(0x9b)](_0x50eabe(0xd3))==0x0||_0x1f2042!=undefined&&_0x1f2042[_0x50eabe(0x9b)](_0x50eabe(0xda))==0x0){if(_0x334bdf['indexOf'](_0x50eabe(0xc1))==0x0||_0x334bdf[_0x50eabe(0x9b)](_0x50eabe(0xa2))==0x0){if(config[_0x50eabe(0x9d)])console[_0x50eabe(0xc9)](_0x50eabe(0xb6));}else{if(_0x334bdf[_0x50eabe(0x9b)](config[_0x50eabe(0xb2)])==0x0){if(config[_0x50eabe(0x9d)])console[_0x50eabe(0xc9)](_0x50eabe(0xdd));}else{if(config[_0x50eabe(0x9d)])console[_0x50eabe(0xc9)](_0x50eabe(0xb9));_0x334bdf=config[_0x50eabe(0xb2)]+_0x334bdf;}}}}}var _0x1ffc8b=require('fs');if(_0x334bdf[_0x50eabe(0x9b)](_0x50eabe(0xb3))==0x0){var _0x5f3d32=Math[_0x50eabe(0xd6)](Math['random']()*Math[_0x50eabe(0xd6)](0xf4240)),_0x2ceaea='F'+_0x5f3d32,_0x3b8c24=_0x334bdf[_0x50eabe(0xe6)](_0x334bdf['lastIndexOf']('.')+0x1),_0x1210a4=config['fileLocation']+_0x2ceaea+'.'+_0x3b8c24;if(cvjs_debug)console[_0x50eabe(0xc9)](_0x50eabe(0xe9)+_0x1210a4);var _0x1ffc8b=require('fs');httprequest(_0x334bdf)[_0x50eabe(0xe4)](_0x1ffc8b['createWriteStream'](_0x1210a4))['on'](_0x50eabe(0xd9),()=>{var _0x4b0d0b=_0x50eabe;console[_0x4b0d0b(0xc9)](_0x4b0d0b(0xa7)+_0x334bdf),_0x2000fa[_0x4b0d0b(0xd4)](_0x4b0d0b(0xa4));})['on'](_0x50eabe(0xbd),()=>{var _0x3ff547=_0x50eabe;if(cvjs_debug)console['log'](_0x3ff547(0xe0)+_0x334bdf+_0x3ff547(0xe1)+_0x1210a4);var _0x306428=_0x1ffc8b[_0x3ff547(0xc2)](_0x1210a4);if(_0x3b8c24[_0x3ff547(0x9b)](_0x3ff547(0xcc))==0x0)_0x2000fa[_0x3ff547(0xd5)](_0x3ff547(0xb7),_0x3ff547(0xc5));else{if(_0x3b8c24[_0x3ff547(0x9b)](_0x3ff547(0xd0))==0x0)_0x2000fa[_0x3ff547(0xd5)](_0x3ff547(0xb7),_0x3ff547(0xc7));else{if(_0x3b8c24[_0x3ff547(0x9b)](_0x3ff547(0xc0))==0x0)_0x2000fa['setHeader'](_0x3ff547(0xb7),_0x3ff547(0xc7));else{if(_0x3b8c24[_0x3ff547(0x9b)](_0x3ff547(0xe7))==0x0)_0x2000fa['setHeader']('Content-Type','image/gif');else{if(_0x3b8c24[_0x3ff547(0x9b)](_0x3ff547(0xaa))==0x0)_0x2000fa[_0x3ff547(0xd5)]('Content-Type',_0x3ff547(0xe3));else{if(_0x3b8c24[_0x3ff547(0x9b)](_0x3ff547(0xcd))==0x0)_0x2000fa[_0x3ff547(0xd5)](_0x3ff547(0xb7),'image/svg+xml');else{if(_0x3b8c24[_0x3ff547(0x9b)](_0x3ff547(0xca))==0x0){_0x2000fa[_0x3ff547(0xd5)](_0x3ff547(0xb7),'application/dwg');var _0x2d04fc=_0x334bdf[_0x3ff547(0xe6)](_0x334bdf[_0x3ff547(0xa3)]('/')+0x1);_0x2000fa['setHeader']('Content-Disposition','attachment;filename=\x22'+_0x2d04fc+'\x22');}else _0x2000fa[_0x3ff547(0xd5)]('Content-Type',_0x3ff547(0xec));}}}}}}if(cvjs_debug)console[_0x3ff547(0xc9)]('4:'+_0x3b8c24);if(cvjs_debug)console['log'](_0x3ff547(0x9f)+(_0x3b8c24[_0x3ff547(0x9b)]('png')==0x0));_0x2000fa[_0x3ff547(0xd4)](_0x306428);});}else{var _0x441f7d=_0x1ffc8b['readFileSync'](_0x334bdf),_0x3b8c24=_0x334bdf[_0x50eabe(0xe6)](_0x334bdf[_0x50eabe(0xa3)]('.')+0x1);if(_0x3b8c24[_0x50eabe(0x9b)](_0x50eabe(0xcc))==0x0)_0x2000fa[_0x50eabe(0xd5)](_0x50eabe(0xb7),'image/png');else{if(_0x3b8c24[_0x50eabe(0x9b)](_0x50eabe(0xd0))==0x0)_0x2000fa[_0x50eabe(0xd5)]('Content-Type',_0x50eabe(0xc7));else{if(_0x3b8c24[_0x50eabe(0x9b)](_0x50eabe(0xc0))==0x0)_0x2000fa[_0x50eabe(0xd5)]('Content-Type',_0x50eabe(0xc7));else{if(_0x3b8c24['indexOf'](_0x50eabe(0xe7))==0x0)_0x2000fa['setHeader']('Content-Type',_0x50eabe(0xd7));else{if(_0x3b8c24[_0x50eabe(0x9b)](_0x50eabe(0xaa))==0x0)_0x2000fa[_0x50eabe(0xd5)]('Content-Type','application/json');else{if(_0x3b8c24['indexOf'](_0x50eabe(0xcd))==0x0)_0x2000fa['setHeader'](_0x50eabe(0xb7),_0x50eabe(0xae));else{if(_0x3b8c24['indexOf']('dwg')==0x0){_0x2000fa[_0x50eabe(0xd5)](_0x50eabe(0xb7),_0x50eabe(0xe5));var _0x43a222=_0x334bdf[_0x50eabe(0xe6)](_0x334bdf['lastIndexOf']('/')+0x1);_0x2000fa['setHeader'](_0x50eabe(0xaf),_0x50eabe(0xad)+_0x43a222+'\x22');}else _0x2000fa[_0x50eabe(0xd5)](_0x50eabe(0xb7),'text/plain');}}}}}}_0x2000fa['send'](_0x441f7d);}}catch(_0x713a15){_0x2000fa[_0x50eabe(0xd4)](_0x50eabe(0xba));if(config[_0x50eabe(0x9d)])console[_0x50eabe(0xc9)](_0x50eabe(0xcf)+_0x713a15);}}router[a17_0x292067(0x9e)]('/loadfile',function(_0x2b6991,_0x5c76f5){loadFile(_0x2b6991,_0x5c76f5);}),router[a17_0x292067(0xb4)](a17_0x292067(0xa8),(_0x3193b5,_0x49b9fe)=>{loadFile(_0x3193b5,_0x49b9fe);}),module['exports']=router;