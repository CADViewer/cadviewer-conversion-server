var a16_0x4adcd1=a16_0x566f;(function(_0x5d27ca,_0x1fd045){var _0x1feb44=a16_0x566f,_0x577b82=_0x5d27ca();while(!![]){try{var _0x4f22fe=parseInt(_0x1feb44(0xa6))/0x1+-parseInt(_0x1feb44(0xa3))/0x2+-parseInt(_0x1feb44(0xbd))/0x3+parseInt(_0x1feb44(0x8b))/0x4+-parseInt(_0x1feb44(0xbb))/0x5+parseInt(_0x1feb44(0x8d))/0x6*(-parseInt(_0x1feb44(0x89))/0x7)+parseInt(_0x1feb44(0xad))/0x8*(parseInt(_0x1feb44(0xb5))/0x9);if(_0x4f22fe===_0x1fd045)break;else _0x577b82['push'](_0x577b82['shift']());}catch(_0x502313){_0x577b82['push'](_0x577b82['shift']());}}}(a16_0x29f8,0x4ac7c));var config=require('../CADViewer_config.json'),cvjs_debug=config[a16_0x4adcd1(0x9f)];const httprequest=require(a16_0x4adcd1(0x7f));function a16_0x29f8(){var _0x227f08=['\x20reading\x20and\x20sending\x20data\x20png:','https:','log','replace','Content-Disposition','branch\x202','Access-Control-Allow-Credentials','length','lastIndexOf','2037539ZyysPX','redline','840468UQePdb','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','6tAltXU','error','branch\x201','file','application/json','ServerUrl','http:','json','image/png','readFileSync','/loadfile\x20-\x20error','jpeg','Error\x20loadfile:','png','setHeader','branch\x204','menufile','newcontenLocation\x20','cvjs_debug','svg','attachment;filename=\x22','1:\x20/loadfile:\x20','1135414Zbfhxl','merge','body','9243gUQNIb','X-Requested-With,content-type','finshed\x20loading\x20','send','Access-Control-Allow-Headers','indexOf','error\x20-\x20loadfile','48744lDXYnz','languagefile','application/dwg','image/gif','ServerFrontEndUrlAsAllowedOriginOnly','dwg','Access-Control-Allow-Origin','gif','2601LCHUxZ','text/plain','ServerLocation','branch\x205','random','ServerFrontEndUrl','2758050xCSfCe','/loadfile','790629eAqOmM','replaceAll','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','loadtype','floor','Content-Type','branch\x203','image/jpeg','substring','image/svg+xml','Router','jpg','request'];a16_0x29f8=function(){return _0x227f08;};return a16_0x29f8();}function a16_0x566f(_0x374200,_0x105dbc){var _0x29f8dc=a16_0x29f8();return a16_0x566f=function(_0x566faf,_0x5655a0){_0x566faf=_0x566faf-0x7a;var _0x1b9556=_0x29f8dc[_0x566faf];return _0x1b9556;},a16_0x566f(_0x374200,_0x105dbc);}var express=require('express'),router=express[a16_0x4adcd1(0x7d)]();function loadFile(_0x1d6a42,_0x2402d0){var _0x3afd3f=a16_0x4adcd1;try{config[_0x3afd3f(0xb1)]==!![]?_0x2402d0[_0x3afd3f(0x9b)]('Access-Control-Allow-Origin',config[_0x3afd3f(0xba)]):_0x2402d0['setHeader'](_0x3afd3f(0xb3),'*');_0x2402d0['setHeader']('Access-Control-Allow-Methods',_0x3afd3f(0xbf)),_0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0xaa),_0x3afd3f(0xa7)),_0x2402d0['setHeader'](_0x3afd3f(0x86),!![]);var _0x1bca98=_0x1d6a42[_0x3afd3f(0xa5)][_0x3afd3f(0x90)];_0x1bca98==undefined&&(_0x1bca98=_0x1d6a42['query'][_0x3afd3f(0x90)]);var _0x1443a6=_0x1d6a42['body'][_0x3afd3f(0xc0)];_0x1443a6==undefined&&(_0x1443a6=_0x1d6a42['query']['loadtype']);_0x1bca98=decodeURI(_0x1bca98),_0x1bca98=_0x1bca98['replace'](/%3A/g,':'),_0x1bca98=_0x1bca98['replace'](/%2F/g,'/'),_0x1bca98=_0x1bca98[_0x3afd3f(0x83)](/%20/g,'\x20'),_0x1bca98=_0x1bca98[_0x3afd3f(0xbe)]('+','\x20');if(config[_0x3afd3f(0x9f)])console['log'](_0x3afd3f(0xa2)+_0x1bca98+'\x20\x20loadtype=\x20'+_0x1443a6);if(config[_0x3afd3f(0xba)]!=''&&_0x1bca98['indexOf'](config[_0x3afd3f(0xba)])==0x0&&_0x1bca98[_0x3afd3f(0xab)](config[_0x3afd3f(0x92)])!=0x0){if(config[_0x3afd3f(0x9f)])console[_0x3afd3f(0x82)](_0x3afd3f(0x8f));_0x1bca98=config[_0x3afd3f(0xb7)]+_0x1bca98[_0x3afd3f(0x7b)](config[_0x3afd3f(0xba)][_0x3afd3f(0x87)]);}else{if(_0x1bca98[_0x3afd3f(0xab)](config['ServerUrl'])==0x0){if(config['cvjs_debug'])console[_0x3afd3f(0x82)](_0x3afd3f(0x85));_0x1bca98=config['ServerLocation']+_0x1bca98[_0x3afd3f(0x7b)](config['ServerUrl'][_0x3afd3f(0x87)]);}else{if(_0x1443a6!=undefined&&_0x1443a6['indexOf'](_0x3afd3f(0x9d))==0x0||_0x1443a6!=undefined&&_0x1443a6[_0x3afd3f(0xab)](_0x3afd3f(0xae))==0x0||_0x1443a6!=undefined&&_0x1443a6[_0x3afd3f(0xab)](_0x3afd3f(0xa4))==0x0||_0x1443a6!=undefined&&_0x1443a6[_0x3afd3f(0xab)](_0x3afd3f(0x8a))==0x0){if(_0x1bca98['indexOf'](_0x3afd3f(0x93))==0x0||_0x1bca98[_0x3afd3f(0xab)](_0x3afd3f(0x81))==0x0){if(config['cvjs_debug'])console[_0x3afd3f(0x82)](_0x3afd3f(0xc3));}else{if(_0x1bca98['indexOf'](config['ServerLocation'])==0x0){if(config[_0x3afd3f(0x9f)])console[_0x3afd3f(0x82)](_0x3afd3f(0x9c));}else{if(config[_0x3afd3f(0x9f)])console[_0x3afd3f(0x82)](_0x3afd3f(0xb8));_0x1bca98=config[_0x3afd3f(0xb7)]+_0x1bca98;}}}}}var _0x5ed62c=require('fs');if(_0x1bca98['indexOf']('http')==0x0){var _0x1c5314=Math[_0x3afd3f(0xc1)](Math[_0x3afd3f(0xb9)]()*Math[_0x3afd3f(0xc1)](0xf4240)),_0x4f82f4='F'+_0x1c5314,_0x55b219=_0x1bca98[_0x3afd3f(0x7b)](_0x1bca98[_0x3afd3f(0x88)]('.')+0x1),_0x493706=config['fileLocation']+_0x4f82f4+'.'+_0x55b219;if(cvjs_debug)console[_0x3afd3f(0x82)](_0x3afd3f(0x9e)+_0x493706);var _0x5ed62c=require('fs');httprequest(_0x1bca98)['pipe'](_0x5ed62c['createWriteStream'](_0x493706))['on'](_0x3afd3f(0x8e),()=>{var _0x2930ce=_0x3afd3f;console[_0x2930ce(0x82)](_0x2930ce(0x8c)+_0x1bca98),_0x2402d0[_0x2930ce(0xa9)](_0x2930ce(0x97));})['on']('finish',()=>{var _0x4ab144=_0x3afd3f;if(cvjs_debug)console['log'](_0x4ab144(0xa8)+_0x1bca98+'\x20,\x20writing\x20to:\x20'+_0x493706);var _0x5bd215=_0x5ed62c[_0x4ab144(0x96)](_0x493706);if(_0x55b219[_0x4ab144(0xab)](_0x4ab144(0x9a))==0x0)_0x2402d0[_0x4ab144(0x9b)](_0x4ab144(0xc2),'image/png');else{if(_0x55b219['indexOf'](_0x4ab144(0x7e))==0x0)_0x2402d0['setHeader']('Content-Type','image/jpeg');else{if(_0x55b219[_0x4ab144(0xab)](_0x4ab144(0x98))==0x0)_0x2402d0[_0x4ab144(0x9b)](_0x4ab144(0xc2),_0x4ab144(0x7a));else{if(_0x55b219[_0x4ab144(0xab)](_0x4ab144(0xb4))==0x0)_0x2402d0['setHeader'](_0x4ab144(0xc2),_0x4ab144(0xb0));else{if(_0x55b219[_0x4ab144(0xab)](_0x4ab144(0x94))==0x0)_0x2402d0['setHeader'](_0x4ab144(0xc2),_0x4ab144(0x91));else{if(_0x55b219[_0x4ab144(0xab)](_0x4ab144(0xa0))==0x0)_0x2402d0[_0x4ab144(0x9b)](_0x4ab144(0xc2),_0x4ab144(0x7c));else{if(_0x55b219[_0x4ab144(0xab)](_0x4ab144(0xb2))==0x0){_0x2402d0[_0x4ab144(0x9b)](_0x4ab144(0xc2),'application/dwg');var _0x233d76=_0x1bca98[_0x4ab144(0x7b)](_0x1bca98[_0x4ab144(0x88)]('/')+0x1);_0x2402d0[_0x4ab144(0x9b)](_0x4ab144(0x84),_0x4ab144(0xa1)+_0x233d76+'\x22');}else _0x2402d0[_0x4ab144(0x9b)](_0x4ab144(0xc2),_0x4ab144(0xb6));}}}}}}if(cvjs_debug)console[_0x4ab144(0x82)]('4:'+_0x55b219);if(cvjs_debug)console['log'](_0x4ab144(0x80)+(_0x55b219[_0x4ab144(0xab)]('png')==0x0));_0x2402d0['send'](_0x5bd215);});}else{var _0x3587c5=_0x5ed62c[_0x3afd3f(0x96)](_0x1bca98),_0x55b219=_0x1bca98[_0x3afd3f(0x7b)](_0x1bca98[_0x3afd3f(0x88)]('.')+0x1);if(_0x55b219['indexOf'](_0x3afd3f(0x9a))==0x0)_0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0xc2),_0x3afd3f(0x95));else{if(_0x55b219[_0x3afd3f(0xab)]('jpg')==0x0)_0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0xc2),'image/jpeg');else{if(_0x55b219['indexOf'](_0x3afd3f(0x98))==0x0)_0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0xc2),'image/jpeg');else{if(_0x55b219[_0x3afd3f(0xab)](_0x3afd3f(0xb4))==0x0)_0x2402d0['setHeader']('Content-Type',_0x3afd3f(0xb0));else{if(_0x55b219[_0x3afd3f(0xab)]('json')==0x0)_0x2402d0['setHeader'](_0x3afd3f(0xc2),'application/json');else{if(_0x55b219['indexOf'](_0x3afd3f(0xa0))==0x0)_0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0xc2),_0x3afd3f(0x7c));else{if(_0x55b219[_0x3afd3f(0xab)](_0x3afd3f(0xb2))==0x0){_0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0xc2),_0x3afd3f(0xaf));var _0x2ea375=_0x1bca98[_0x3afd3f(0x7b)](_0x1bca98['lastIndexOf']('/')+0x1);_0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0x84),_0x3afd3f(0xa1)+_0x2ea375+'\x22');}else _0x2402d0[_0x3afd3f(0x9b)](_0x3afd3f(0xc2),_0x3afd3f(0xb6));}}}}}}_0x2402d0['send'](_0x3587c5);}}catch(_0x21c451){_0x2402d0[_0x3afd3f(0xa9)](_0x3afd3f(0xac));if(config[_0x3afd3f(0x9f)])console[_0x3afd3f(0x82)](_0x3afd3f(0x99)+_0x21c451);}}router['get'](a16_0x4adcd1(0xbc),function(_0x1086e9,_0x3c43bd){loadFile(_0x1086e9,_0x3c43bd);}),router['post'](a16_0x4adcd1(0xbc),(_0x1469e9,_0x2f9d59)=>{loadFile(_0x1469e9,_0x2f9d59);}),module['exports']=router;