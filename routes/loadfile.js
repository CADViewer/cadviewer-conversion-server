var a16_0x43255b=a16_0x9902;(function(_0x5cd055,_0x339dee){var _0x1c67f2=a16_0x9902,_0x35b7c0=_0x5cd055();while(!![]){try{var _0x4dc4e8=-parseInt(_0x1c67f2(0x1b8))/0x1+parseInt(_0x1c67f2(0x1c1))/0x2+-parseInt(_0x1c67f2(0x1ce))/0x3+-parseInt(_0x1c67f2(0x1d4))/0x4+-parseInt(_0x1c67f2(0x1db))/0x5+parseInt(_0x1c67f2(0x1ba))/0x6*(parseInt(_0x1c67f2(0x1c6))/0x7)+parseInt(_0x1c67f2(0x1d6))/0x8;if(_0x4dc4e8===_0x339dee)break;else _0x35b7c0['push'](_0x35b7c0['shift']());}catch(_0x3640cf){_0x35b7c0['push'](_0x35b7c0['shift']());}}}(a16_0x3615,0xcc47a));var config=require(a16_0x43255b(0x1a6)),cvjs_debug=config[a16_0x43255b(0x1af)];function a16_0x9902(_0x478305,_0x1dc29f){var _0x361593=a16_0x3615();return a16_0x9902=function(_0x9902a5,_0x370ff5){_0x9902a5=_0x9902a5-0x19c;var _0x126bf1=_0x361593[_0x9902a5];return _0x126bf1;},a16_0x9902(_0x478305,_0x1dc29f);}const httprequest=require(a16_0x43255b(0x1a5));var express=require('express'),router=express[a16_0x43255b(0x1df)]();function a16_0x3615(){var _0x3bc98d=['replace','merge','cvjs_debug','\x20\x20loadtype=\x20','Access-Control-Allow-Origin','pipe','ServerFrontEndUrlAsAllowedOriginOnly','body','https:','setHeader','Access-Control-Allow-Methods','316746XnpLuU','ServerFrontEndUrl','18ZebQwK','http:','length','Content-Type','image/png','text/plain','Error\x20loadfile:','1542210jCXSoi','query','jpg','random','ServerUrl','1261092eRYZtV','fileLocation','gif','substring','png','branch\x203','log','get','2622681ojcyuQ','\x20reading\x20and\x20sending\x20data\x20png:','error\x20-\x20loadfile','image/svg+xml','loadtype','branch\x201','4790404hhWSJF','json','19487032vAFrwu','dwg','languagefile','Content-Disposition','1:\x20/loadfile:\x20','2610740DUZLQW','file','jpeg','attachment;filename=\x22','Router','Access-Control-Allow-Credentials','lastIndexOf','redline','image/jpeg','finish','readFileSync','replaceAll','application/dwg','\x20,\x20writing\x20to:\x20','ServerLocation','send','branch\x204','floor','/loadfile\x20-\x20error','request','../CADViewer_config.json','indexOf','error','X-Requested-With,content-type','svg','image/gif','application/json'];a16_0x3615=function(){return _0x3bc98d;};return a16_0x3615();}function loadFile(_0x1ea36d,_0x74167b){var _0x36abae=a16_0x43255b;try{config[_0x36abae(0x1b3)]==!![]?_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1b1),config[_0x36abae(0x1b9)]):_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1b1),'*');_0x74167b['setHeader'](_0x36abae(0x1b7),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x74167b['setHeader']('Access-Control-Allow-Headers',_0x36abae(0x1a9)),_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1e0),!![]);var _0xbcacd3=_0x1ea36d[_0x36abae(0x1b4)]['file'];_0xbcacd3==undefined&&(_0xbcacd3=_0x1ea36d[_0x36abae(0x1c2)][_0x36abae(0x1dc)]);var _0x4e3f73=_0x1ea36d[_0x36abae(0x1b4)][_0x36abae(0x1d2)];_0x4e3f73==undefined&&(_0x4e3f73=_0x1ea36d[_0x36abae(0x1c2)][_0x36abae(0x1d2)]);_0xbcacd3=decodeURI(_0xbcacd3),_0xbcacd3=_0xbcacd3[_0x36abae(0x1ad)](/%3A/g,':'),_0xbcacd3=_0xbcacd3[_0x36abae(0x1ad)](/%2F/g,'/'),_0xbcacd3=_0xbcacd3[_0x36abae(0x1ad)](/%20/g,'\x20'),_0xbcacd3=_0xbcacd3[_0x36abae(0x19d)]('+','\x20');if(config[_0x36abae(0x1af)])console[_0x36abae(0x1cc)](_0x36abae(0x1da)+_0xbcacd3+_0x36abae(0x1b0)+_0x4e3f73);if(config[_0x36abae(0x1b9)]!=''&&_0xbcacd3[_0x36abae(0x1a7)](config['ServerFrontEndUrl'])==0x0&&_0xbcacd3[_0x36abae(0x1a7)](config['ServerUrl'])!=0x0){if(config[_0x36abae(0x1af)])console[_0x36abae(0x1cc)](_0x36abae(0x1d3));_0xbcacd3=config[_0x36abae(0x1a0)]+_0xbcacd3[_0x36abae(0x1c9)](config['ServerFrontEndUrl'][_0x36abae(0x1bc)]);}else{if(_0xbcacd3[_0x36abae(0x1a7)](config[_0x36abae(0x1c5)])==0x0){if(config[_0x36abae(0x1af)])console[_0x36abae(0x1cc)]('branch\x202');_0xbcacd3=config[_0x36abae(0x1a0)]+_0xbcacd3['substring'](config[_0x36abae(0x1c5)][_0x36abae(0x1bc)]);}else{if(_0x4e3f73!=undefined&&_0x4e3f73['indexOf']('menufile')==0x0||_0x4e3f73!=undefined&&_0x4e3f73['indexOf'](_0x36abae(0x1d8))==0x0||_0x4e3f73!=undefined&&_0x4e3f73[_0x36abae(0x1a7)](_0x36abae(0x1ae))==0x0||_0x4e3f73!=undefined&&_0x4e3f73[_0x36abae(0x1a7)](_0x36abae(0x1e2))==0x0){if(_0xbcacd3['indexOf'](_0x36abae(0x1bb))==0x0||_0xbcacd3[_0x36abae(0x1a7)](_0x36abae(0x1b5))==0x0){if(config[_0x36abae(0x1af)])console[_0x36abae(0x1cc)](_0x36abae(0x1cb));}else{if(_0xbcacd3[_0x36abae(0x1a7)](config[_0x36abae(0x1a0)])==0x0){if(config[_0x36abae(0x1af)])console['log'](_0x36abae(0x1a2));}else{if(config[_0x36abae(0x1af)])console[_0x36abae(0x1cc)]('branch\x205');_0xbcacd3=config[_0x36abae(0x1a0)]+_0xbcacd3;}}}}}var _0x175c32=require('fs');if(_0xbcacd3[_0x36abae(0x1a7)]('http')==0x0){var _0xd33dab=Math[_0x36abae(0x1a3)](Math[_0x36abae(0x1c4)]()*Math[_0x36abae(0x1a3)](0xf4240)),_0x1f98d3='F'+_0xd33dab,_0x304176=_0xbcacd3[_0x36abae(0x1c9)](_0xbcacd3[_0x36abae(0x1e1)]('.')+0x1),_0x415872=config[_0x36abae(0x1c7)]+_0x1f98d3+'.'+_0x304176;if(cvjs_debug)console['log']('newcontenLocation\x20'+_0x415872);var _0x175c32=require('fs');httprequest(_0xbcacd3)[_0x36abae(0x1b2)](_0x175c32['createWriteStream'](_0x415872))['on'](_0x36abae(0x1a8),()=>{var _0x198ec8=_0x36abae;console[_0x198ec8(0x1cc)]('ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20'+_0xbcacd3),_0x74167b[_0x198ec8(0x1a1)](_0x198ec8(0x1a4));})['on'](_0x36abae(0x1e4),()=>{var _0x15f68b=_0x36abae;if(cvjs_debug)console[_0x15f68b(0x1cc)]('finshed\x20loading\x20'+_0xbcacd3+_0x15f68b(0x19f)+_0x415872);var _0xc31f4d=_0x175c32[_0x15f68b(0x19c)](_0x415872);if(_0x304176['indexOf'](_0x15f68b(0x1ca))==0x0)_0x74167b[_0x15f68b(0x1b6)](_0x15f68b(0x1bd),_0x15f68b(0x1be));else{if(_0x304176[_0x15f68b(0x1a7)](_0x15f68b(0x1c3))==0x0)_0x74167b[_0x15f68b(0x1b6)](_0x15f68b(0x1bd),_0x15f68b(0x1e3));else{if(_0x304176[_0x15f68b(0x1a7)](_0x15f68b(0x1dd))==0x0)_0x74167b['setHeader'](_0x15f68b(0x1bd),_0x15f68b(0x1e3));else{if(_0x304176[_0x15f68b(0x1a7)](_0x15f68b(0x1c8))==0x0)_0x74167b[_0x15f68b(0x1b6)](_0x15f68b(0x1bd),_0x15f68b(0x1ab));else{if(_0x304176[_0x15f68b(0x1a7)]('json')==0x0)_0x74167b[_0x15f68b(0x1b6)]('Content-Type',_0x15f68b(0x1ac));else{if(_0x304176['indexOf']('svg')==0x0)_0x74167b[_0x15f68b(0x1b6)](_0x15f68b(0x1bd),_0x15f68b(0x1d1));else{if(_0x304176[_0x15f68b(0x1a7)]('dwg')==0x0){_0x74167b['setHeader'](_0x15f68b(0x1bd),_0x15f68b(0x19e));var _0x3817e9=_0xbcacd3[_0x15f68b(0x1c9)](_0xbcacd3[_0x15f68b(0x1e1)]('/')+0x1);_0x74167b[_0x15f68b(0x1b6)](_0x15f68b(0x1d9),_0x15f68b(0x1de)+_0x3817e9+'\x22');}else _0x74167b[_0x15f68b(0x1b6)]('Content-Type','text/plain');}}}}}}if(cvjs_debug)console[_0x15f68b(0x1cc)]('4:'+_0x304176);if(cvjs_debug)console[_0x15f68b(0x1cc)](_0x15f68b(0x1cf)+(_0x304176['indexOf'](_0x15f68b(0x1ca))==0x0));_0x74167b[_0x15f68b(0x1a1)](_0xc31f4d);});}else{var _0x1d4979=_0x175c32[_0x36abae(0x19c)](_0xbcacd3),_0x304176=_0xbcacd3[_0x36abae(0x1c9)](_0xbcacd3[_0x36abae(0x1e1)]('.')+0x1);if(_0x304176[_0x36abae(0x1a7)](_0x36abae(0x1ca))==0x0)_0x74167b[_0x36abae(0x1b6)]('Content-Type','image/png');else{if(_0x304176[_0x36abae(0x1a7)](_0x36abae(0x1c3))==0x0)_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1bd),'image/jpeg');else{if(_0x304176[_0x36abae(0x1a7)](_0x36abae(0x1dd))==0x0)_0x74167b['setHeader'](_0x36abae(0x1bd),_0x36abae(0x1e3));else{if(_0x304176[_0x36abae(0x1a7)]('gif')==0x0)_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1bd),_0x36abae(0x1ab));else{if(_0x304176['indexOf'](_0x36abae(0x1d5))==0x0)_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1bd),_0x36abae(0x1ac));else{if(_0x304176[_0x36abae(0x1a7)](_0x36abae(0x1aa))==0x0)_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1bd),'image/svg+xml');else{if(_0x304176[_0x36abae(0x1a7)](_0x36abae(0x1d7))==0x0){_0x74167b[_0x36abae(0x1b6)]('Content-Type',_0x36abae(0x19e));var _0x53f638=_0xbcacd3[_0x36abae(0x1c9)](_0xbcacd3[_0x36abae(0x1e1)]('/')+0x1);_0x74167b[_0x36abae(0x1b6)](_0x36abae(0x1d9),_0x36abae(0x1de)+_0x53f638+'\x22');}else _0x74167b[_0x36abae(0x1b6)]('Content-Type',_0x36abae(0x1bf));}}}}}}_0x74167b[_0x36abae(0x1a1)](_0x1d4979);}}catch(_0x391d63){_0x74167b['send'](_0x36abae(0x1d0));if(config[_0x36abae(0x1af)])console[_0x36abae(0x1cc)](_0x36abae(0x1c0)+_0x391d63);}}router[a16_0x43255b(0x1cd)]('/loadfile',function(_0x57c275,_0x15c569){loadFile(_0x57c275,_0x15c569);}),router['post']('/loadfile',(_0xb586e,_0x4a3fbc)=>{loadFile(_0xb586e,_0x4a3fbc);}),module['exports']=router;