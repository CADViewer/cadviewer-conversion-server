var a16_0x585904=a16_0x5360;(function(_0x12b2cf,_0xbedbbd){var _0x15d8f9=a16_0x5360,_0x579e9b=_0x12b2cf();while(!![]){try{var _0x18607c=parseInt(_0x15d8f9(0x107))/0x1*(parseInt(_0x15d8f9(0x113))/0x2)+-parseInt(_0x15d8f9(0xfc))/0x3*(-parseInt(_0x15d8f9(0x12d))/0x4)+-parseInt(_0x15d8f9(0x12f))/0x5+parseInt(_0x15d8f9(0x119))/0x6+-parseInt(_0x15d8f9(0x127))/0x7*(-parseInt(_0x15d8f9(0x10f))/0x8)+-parseInt(_0x15d8f9(0x141))/0x9*(-parseInt(_0x15d8f9(0x131))/0xa)+-parseInt(_0x15d8f9(0x124))/0xb;if(_0x18607c===_0xbedbbd)break;else _0x579e9b['push'](_0x579e9b['shift']());}catch(_0x2f87f4){_0x579e9b['push'](_0x579e9b['shift']());}}}(a16_0x2554,0x39587));var config=require('../CADViewer_config.json'),cvjs_debug=config[a16_0x585904(0x121)];function a16_0x2554(){var _0x4a98a3=['GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','error','redline','Content-Disposition','/loadfile','1389804milifB','image/png','\x20reading\x20and\x20sending\x20data\x20png:','text/plain','Access-Control-Allow-Methods','finish','random','Content-Type','cvjs_debug','newcontenLocation\x20','lastIndexOf','10710095WnqtbP','file','ServerLocation','7819ANSTzX','branch\x203','log','body','X-Requested-With,content-type','http','5764EvDxyD','send','200380cXNxze','setHeader','542140pjejto','attachment;filename=\x22','fileLocation','https:','indexOf','floor','request','json','/loadfile\x20-\x20error','ServerFrontEndUrlAsAllowedOriginOnly','Router','image/svg+xml','png','application/dwg','ServerUrl','get','54xajarP','image/gif','readFileSync','342udmHMQ','application/json','jpeg','substring','replace','Access-Control-Allow-Origin','query','ServerFrontEndUrl','svg','merge','image/jpeg','1JWQRZV','length','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','1:\x20/loadfile:\x20','dwg','gif','replaceAll','loadtype','1432DdkwHf','menufile','exports','branch\x202','654946xPQEOj'];a16_0x2554=function(){return _0x4a98a3;};return a16_0x2554();}const httprequest=require(a16_0x585904(0x137));var express=require('express'),router=express[a16_0x585904(0x13b)]();function a16_0x5360(_0x5aae32,_0x4564de){var _0x2554bb=a16_0x2554();return a16_0x5360=function(_0x536021,_0x4a315b){_0x536021=_0x536021-0xfa;var _0x27ef7b=_0x2554bb[_0x536021];return _0x27ef7b;},a16_0x5360(_0x5aae32,_0x4564de);}function loadFile(_0x5500c4,_0xd73814){var _0x34e99e=a16_0x585904;try{config[_0x34e99e(0x13a)]==!![]?_0xd73814[_0x34e99e(0x130)](_0x34e99e(0x101),config[_0x34e99e(0x103)]):_0xd73814['setHeader']('Access-Control-Allow-Origin','*');_0xd73814[_0x34e99e(0x130)](_0x34e99e(0x11d),_0x34e99e(0x114)),_0xd73814[_0x34e99e(0x130)]('Access-Control-Allow-Headers',_0x34e99e(0x12b)),_0xd73814[_0x34e99e(0x130)]('Access-Control-Allow-Credentials',!![]);var _0x1190a6=_0x5500c4[_0x34e99e(0x12a)][_0x34e99e(0x125)];_0x1190a6==undefined&&(_0x1190a6=_0x5500c4[_0x34e99e(0x102)][_0x34e99e(0x125)]);var _0x1c5670=_0x5500c4[_0x34e99e(0x12a)]['loadtype'];_0x1c5670==undefined&&(_0x1c5670=_0x5500c4[_0x34e99e(0x102)][_0x34e99e(0x10e)]);_0x1190a6=decodeURI(_0x1190a6),_0x1190a6=_0x1190a6['replace'](/%3A/g,':'),_0x1190a6=_0x1190a6[_0x34e99e(0x100)](/%2F/g,'/'),_0x1190a6=_0x1190a6[_0x34e99e(0x100)](/%20/g,'\x20'),_0x1190a6=_0x1190a6[_0x34e99e(0x10d)]('+','\x20');if(config[_0x34e99e(0x121)])console[_0x34e99e(0x129)](_0x34e99e(0x10a)+_0x1190a6+'\x20\x20loadtype=\x20'+_0x1c5670);if(config[_0x34e99e(0x103)]!=''&&_0x1190a6[_0x34e99e(0x135)](config[_0x34e99e(0x103)])==0x0&&_0x1190a6[_0x34e99e(0x135)](config[_0x34e99e(0x13f)])!=0x0){if(config['cvjs_debug'])console[_0x34e99e(0x129)]('branch\x201');_0x1190a6=config['ServerLocation']+_0x1190a6[_0x34e99e(0xff)](config['ServerFrontEndUrl'][_0x34e99e(0x108)]);}else{if(_0x1190a6[_0x34e99e(0x135)](config[_0x34e99e(0x13f)])==0x0){if(config[_0x34e99e(0x121)])console[_0x34e99e(0x129)](_0x34e99e(0x112));_0x1190a6=config['ServerLocation']+_0x1190a6['substring'](config[_0x34e99e(0x13f)][_0x34e99e(0x108)]);}else{if(_0x1c5670!=undefined&&_0x1c5670[_0x34e99e(0x135)](_0x34e99e(0x110))==0x0||_0x1c5670!=undefined&&_0x1c5670[_0x34e99e(0x135)]('languagefile')==0x0||_0x1c5670!=undefined&&_0x1c5670['indexOf'](_0x34e99e(0x105))==0x0||_0x1c5670!=undefined&&_0x1c5670[_0x34e99e(0x135)](_0x34e99e(0x116))==0x0){if(_0x1190a6[_0x34e99e(0x135)]('http:')==0x0||_0x1190a6[_0x34e99e(0x135)](_0x34e99e(0x134))==0x0){if(config[_0x34e99e(0x121)])console[_0x34e99e(0x129)](_0x34e99e(0x128));}else{if(_0x1190a6[_0x34e99e(0x135)](config[_0x34e99e(0x126)])==0x0){if(config['cvjs_debug'])console['log']('branch\x204');}else{if(config[_0x34e99e(0x121)])console[_0x34e99e(0x129)]('branch\x205');_0x1190a6=config[_0x34e99e(0x126)]+_0x1190a6;}}}}}var _0x19d73b=require('fs');if(_0x1190a6[_0x34e99e(0x135)](_0x34e99e(0x12c))==0x0){var _0x2c080b=Math[_0x34e99e(0x136)](Math[_0x34e99e(0x11f)]()*Math['floor'](0xf4240)),_0x2cefd9='F'+_0x2c080b,_0x395583=_0x1190a6['substring'](_0x1190a6['lastIndexOf']('.')+0x1),_0xa39c45=config[_0x34e99e(0x133)]+_0x2cefd9+'.'+_0x395583;if(cvjs_debug)console[_0x34e99e(0x129)](_0x34e99e(0x122)+_0xa39c45);var _0x19d73b=require('fs');httprequest(_0x1190a6)['pipe'](_0x19d73b['createWriteStream'](_0xa39c45))['on'](_0x34e99e(0x115),()=>{var _0x49c439=_0x34e99e;console['log'](_0x49c439(0x109)+_0x1190a6),_0xd73814[_0x49c439(0x12e)](_0x49c439(0x139));})['on'](_0x34e99e(0x11e),()=>{var _0x261d8a=_0x34e99e;if(cvjs_debug)console[_0x261d8a(0x129)]('finshed\x20loading\x20'+_0x1190a6+'\x20,\x20writing\x20to:\x20'+_0xa39c45);var _0x25907d=_0x19d73b[_0x261d8a(0xfb)](_0xa39c45);if(_0x395583['indexOf'](_0x261d8a(0x13d))==0x0)_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0x11a));else{if(_0x395583[_0x261d8a(0x135)]('jpg')==0x0)_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0x106));else{if(_0x395583['indexOf'](_0x261d8a(0xfe))==0x0)_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0x106));else{if(_0x395583[_0x261d8a(0x135)](_0x261d8a(0x10c))==0x0)_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0xfa));else{if(_0x395583[_0x261d8a(0x135)](_0x261d8a(0x138))==0x0)_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0xfd));else{if(_0x395583[_0x261d8a(0x135)](_0x261d8a(0x104))==0x0)_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0x13c));else{if(_0x395583[_0x261d8a(0x135)](_0x261d8a(0x10b))==0x0){_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0x13e));var _0x3ea1d6=_0x1190a6[_0x261d8a(0xff)](_0x1190a6[_0x261d8a(0x123)]('/')+0x1);_0xd73814[_0x261d8a(0x130)](_0x261d8a(0x117),_0x261d8a(0x132)+_0x3ea1d6+'\x22');}else _0xd73814[_0x261d8a(0x130)](_0x261d8a(0x120),_0x261d8a(0x11c));}}}}}}if(cvjs_debug)console[_0x261d8a(0x129)]('4:'+_0x395583);if(cvjs_debug)console[_0x261d8a(0x129)](_0x261d8a(0x11b)+(_0x395583[_0x261d8a(0x135)](_0x261d8a(0x13d))==0x0));_0xd73814[_0x261d8a(0x12e)](_0x25907d);});}else{var _0x383ff6=_0x19d73b[_0x34e99e(0xfb)](_0x1190a6),_0x395583=_0x1190a6['substring'](_0x1190a6[_0x34e99e(0x123)]('.')+0x1);if(_0x395583[_0x34e99e(0x135)]('png')==0x0)_0xd73814[_0x34e99e(0x130)](_0x34e99e(0x120),_0x34e99e(0x11a));else{if(_0x395583[_0x34e99e(0x135)]('jpg')==0x0)_0xd73814['setHeader']('Content-Type',_0x34e99e(0x106));else{if(_0x395583['indexOf'](_0x34e99e(0xfe))==0x0)_0xd73814['setHeader']('Content-Type',_0x34e99e(0x106));else{if(_0x395583[_0x34e99e(0x135)](_0x34e99e(0x10c))==0x0)_0xd73814['setHeader']('Content-Type',_0x34e99e(0xfa));else{if(_0x395583[_0x34e99e(0x135)]('json')==0x0)_0xd73814[_0x34e99e(0x130)](_0x34e99e(0x120),_0x34e99e(0xfd));else{if(_0x395583['indexOf'](_0x34e99e(0x104))==0x0)_0xd73814['setHeader'](_0x34e99e(0x120),_0x34e99e(0x13c));else{if(_0x395583['indexOf'](_0x34e99e(0x10b))==0x0){_0xd73814[_0x34e99e(0x130)](_0x34e99e(0x120),_0x34e99e(0x13e));var _0x27191c=_0x1190a6[_0x34e99e(0xff)](_0x1190a6[_0x34e99e(0x123)]('/')+0x1);_0xd73814[_0x34e99e(0x130)](_0x34e99e(0x117),_0x34e99e(0x132)+_0x27191c+'\x22');}else _0xd73814[_0x34e99e(0x130)](_0x34e99e(0x120),_0x34e99e(0x11c));}}}}}}_0xd73814[_0x34e99e(0x12e)](_0x383ff6);}}catch(_0x4d5724){_0xd73814[_0x34e99e(0x12e)]('error\x20-\x20loadfile');if(config['cvjs_debug'])console[_0x34e99e(0x129)]('Error\x20loadfile:'+_0x4d5724);}}router[a16_0x585904(0x140)](a16_0x585904(0x118),function(_0x5bc8fd,_0x1039fa){loadFile(_0x5bc8fd,_0x1039fa);}),router['post']('/loadfile',(_0x49acc2,_0x3df6e3)=>{loadFile(_0x49acc2,_0x3df6e3);}),module[a16_0x585904(0x111)]=router;