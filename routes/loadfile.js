var a17_0x2cc772=a17_0x4bb9;function a17_0x4bb9(_0x474749,_0x2a831b){var _0x12382c=a17_0x1238();return a17_0x4bb9=function(_0x4bb909,_0xf33a65){_0x4bb909=_0x4bb909-0x67;var _0x332fa2=_0x12382c[_0x4bb909];return _0x332fa2;},a17_0x4bb9(_0x474749,_0x2a831b);}function a17_0x1238(){var _0x5a5e87=['456588FqxgCU','fileLocation','5456rQiwKg','Access-Control-Allow-Headers','floor','lastIndexOf','newcontenLocation\x20','send','3YQKBgr','\x20,\x20writing\x20to:\x20','../CADViewer_config.json','ServerFrontEndUrl','jpg','svg','png','ServerFrontEndUrlAsAllowedOriginOnly','attachment;filename=\x22','branch\x203','/loadfile','get','application/dwg','indexOf','14857jRItrI','request','dwg','image/svg+xml','5646372UnegyZ','log','setHeader','merge','55FLshTT','express','post','finish','\x20\x20loadtype=\x20','Content-Disposition','gif','3336774JSlFUu','body','createWriteStream','branch\x205','ServerUrl','branch\x201','replace','6CGoPgI','https:','languagefile','image/jpeg','Content-Type','jpeg','finshed\x20loading\x20','/loadfile\x20-\x20error','http:','query','substring','branch\x202','length','Access-Control-Allow-Origin','pipe','redline','file','8253nNqMUB','http','image/gif','text/plain','X-Requested-With,content-type','1722015PMayti','Router','10833570YdwZgb','ServerLocation','image/png','error','46fxXLKn','error\x20-\x20loadfile','loadtype','application/json','cvjs_debug','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','Access-Control-Allow-Credentials','1:\x20/loadfile:\x20','branch\x204'];a17_0x1238=function(){return _0x5a5e87;};return a17_0x1238();}(function(_0x54ee21,_0x206dd2){var _0x16b073=a17_0x4bb9,_0x1c58d2=_0x54ee21();while(!![]){try{var _0x54106c=parseInt(_0x16b073(0x85))/0x1*(-parseInt(_0x16b073(0xb7))/0x2)+parseInt(_0x16b073(0x77))/0x3*(parseInt(_0x16b073(0x6f))/0x4)+-parseInt(_0x16b073(0xb1))/0x5+parseInt(_0x16b073(0x9b))/0x6*(parseInt(_0x16b073(0x94))/0x7)+-parseInt(_0x16b073(0x71))/0x8*(parseInt(_0x16b073(0xac))/0x9)+-parseInt(_0x16b073(0xb3))/0xa+parseInt(_0x16b073(0x8d))/0xb*(parseInt(_0x16b073(0x89))/0xc);if(_0x54106c===_0x206dd2)break;else _0x1c58d2['push'](_0x1c58d2['shift']());}catch(_0x24b2c8){_0x1c58d2['push'](_0x1c58d2['shift']());}}}(a17_0x1238,0x85f0b));var config=require(a17_0x2cc772(0x79)),cvjs_debug=config['cvjs_debug'];const httprequest=require(a17_0x2cc772(0x86));var express=require(a17_0x2cc772(0x8e)),router=express[a17_0x2cc772(0xb2)]();function loadFile(_0x51a479,_0x531517){var _0x7b946a=a17_0x2cc772;try{config[_0x7b946a(0x7e)]==!![]?_0x531517[_0x7b946a(0x8b)](_0x7b946a(0xa8),config[_0x7b946a(0x7a)]):_0x531517[_0x7b946a(0x8b)]('Access-Control-Allow-Origin','*');_0x531517[_0x7b946a(0x8b)]('Access-Control-Allow-Methods','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x531517[_0x7b946a(0x8b)](_0x7b946a(0x72),_0x7b946a(0xb0)),_0x531517['setHeader'](_0x7b946a(0x6c),!![]);var _0x9e6fcf=_0x51a479[_0x7b946a(0x95)]['file'];_0x9e6fcf==undefined&&(_0x9e6fcf=_0x51a479[_0x7b946a(0xa4)][_0x7b946a(0xab)]);var _0x450ddf=_0x51a479['body'][_0x7b946a(0x68)];_0x450ddf==undefined&&(_0x450ddf=_0x51a479['query'][_0x7b946a(0x68)]);_0x9e6fcf=decodeURI(_0x9e6fcf),_0x9e6fcf=_0x9e6fcf[_0x7b946a(0x9a)](/%3A/g,':'),_0x9e6fcf=_0x9e6fcf[_0x7b946a(0x9a)](/%2F/g,'/'),_0x9e6fcf=_0x9e6fcf[_0x7b946a(0x9a)](/%20/g,'\x20'),_0x9e6fcf=_0x9e6fcf['replaceAll']('+','\x20');if(config[_0x7b946a(0x6a)])console[_0x7b946a(0x8a)](_0x7b946a(0x6d)+_0x9e6fcf+_0x7b946a(0x91)+_0x450ddf);if(config['ServerFrontEndUrl']!=''&&_0x9e6fcf[_0x7b946a(0x84)](config[_0x7b946a(0x7a)])==0x0&&_0x9e6fcf[_0x7b946a(0x84)](config[_0x7b946a(0x98)])!=0x0){if(config[_0x7b946a(0x6a)])console[_0x7b946a(0x8a)](_0x7b946a(0x99));_0x9e6fcf=config[_0x7b946a(0xb4)]+_0x9e6fcf[_0x7b946a(0xa5)](config['ServerFrontEndUrl'][_0x7b946a(0xa7)]);}else{if(_0x9e6fcf[_0x7b946a(0x84)](config[_0x7b946a(0x98)])==0x0){if(config[_0x7b946a(0x6a)])console['log'](_0x7b946a(0xa6));_0x9e6fcf=config[_0x7b946a(0xb4)]+_0x9e6fcf[_0x7b946a(0xa5)](config[_0x7b946a(0x98)][_0x7b946a(0xa7)]);}else{if(_0x450ddf!=undefined&&_0x450ddf[_0x7b946a(0x84)]('menufile')==0x0||_0x450ddf!=undefined&&_0x450ddf['indexOf'](_0x7b946a(0x9d))==0x0||_0x450ddf!=undefined&&_0x450ddf[_0x7b946a(0x84)](_0x7b946a(0x8c))==0x0||_0x450ddf!=undefined&&_0x450ddf[_0x7b946a(0x84)](_0x7b946a(0xaa))==0x0){if(_0x9e6fcf[_0x7b946a(0x84)](_0x7b946a(0xa3))==0x0||_0x9e6fcf[_0x7b946a(0x84)](_0x7b946a(0x9c))==0x0){if(config[_0x7b946a(0x6a)])console['log'](_0x7b946a(0x80));}else{if(_0x9e6fcf[_0x7b946a(0x84)](config[_0x7b946a(0xb4)])==0x0){if(config['cvjs_debug'])console[_0x7b946a(0x8a)](_0x7b946a(0x6e));}else{if(config[_0x7b946a(0x6a)])console[_0x7b946a(0x8a)](_0x7b946a(0x97));_0x9e6fcf=config[_0x7b946a(0xb4)]+_0x9e6fcf;}}}}}var _0x2b489c=require('fs');if(_0x9e6fcf['indexOf'](_0x7b946a(0xad))==0x0){var _0x40dc12=Math['floor'](Math['random']()*Math[_0x7b946a(0x73)](0xf4240)),_0x13d343='F'+_0x40dc12,_0x249ec8=_0x9e6fcf[_0x7b946a(0xa5)](_0x9e6fcf[_0x7b946a(0x74)]('.')+0x1),_0x4c4cd5=config[_0x7b946a(0x70)]+_0x13d343+'.'+_0x249ec8;if(cvjs_debug)console[_0x7b946a(0x8a)](_0x7b946a(0x75)+_0x4c4cd5);var _0x2b489c=require('fs');httprequest(_0x9e6fcf)[_0x7b946a(0xa9)](_0x2b489c[_0x7b946a(0x96)](_0x4c4cd5))['on'](_0x7b946a(0xb6),()=>{var _0x2b192f=_0x7b946a;console[_0x2b192f(0x8a)](_0x2b192f(0x6b)+_0x9e6fcf),_0x531517[_0x2b192f(0x76)](_0x2b192f(0xa2));})['on'](_0x7b946a(0x90),()=>{var _0x1a0274=_0x7b946a;if(cvjs_debug)console[_0x1a0274(0x8a)](_0x1a0274(0xa1)+_0x9e6fcf+_0x1a0274(0x78)+_0x4c4cd5);var _0x42cc94=_0x2b489c['readFileSync'](_0x4c4cd5);if(_0x249ec8[_0x1a0274(0x84)](_0x1a0274(0x7d))==0x0)_0x531517[_0x1a0274(0x8b)](_0x1a0274(0x9f),_0x1a0274(0xb5));else{if(_0x249ec8[_0x1a0274(0x84)](_0x1a0274(0x7b))==0x0)_0x531517[_0x1a0274(0x8b)](_0x1a0274(0x9f),_0x1a0274(0x9e));else{if(_0x249ec8[_0x1a0274(0x84)](_0x1a0274(0xa0))==0x0)_0x531517[_0x1a0274(0x8b)]('Content-Type','image/jpeg');else{if(_0x249ec8['indexOf'](_0x1a0274(0x93))==0x0)_0x531517[_0x1a0274(0x8b)]('Content-Type',_0x1a0274(0xae));else{if(_0x249ec8[_0x1a0274(0x84)]('json')==0x0)_0x531517['setHeader'](_0x1a0274(0x9f),_0x1a0274(0x69));else{if(_0x249ec8[_0x1a0274(0x84)](_0x1a0274(0x7c))==0x0)_0x531517[_0x1a0274(0x8b)](_0x1a0274(0x9f),_0x1a0274(0x88));else{if(_0x249ec8[_0x1a0274(0x84)](_0x1a0274(0x87))==0x0){_0x531517['setHeader'](_0x1a0274(0x9f),_0x1a0274(0x83));var _0x1efdf7=_0x9e6fcf[_0x1a0274(0xa5)](_0x9e6fcf[_0x1a0274(0x74)]('/')+0x1);_0x531517[_0x1a0274(0x8b)]('Content-Disposition','attachment;filename=\x22'+_0x1efdf7+'\x22');}else _0x531517[_0x1a0274(0x8b)](_0x1a0274(0x9f),_0x1a0274(0xaf));}}}}}}if(cvjs_debug)console['log']('4:'+_0x249ec8);if(cvjs_debug)console[_0x1a0274(0x8a)]('\x20reading\x20and\x20sending\x20data\x20png:'+(_0x249ec8[_0x1a0274(0x84)](_0x1a0274(0x7d))==0x0));_0x531517[_0x1a0274(0x76)](_0x42cc94);});}else{var _0x54bde4=_0x2b489c['readFileSync'](_0x9e6fcf),_0x249ec8=_0x9e6fcf[_0x7b946a(0xa5)](_0x9e6fcf['lastIndexOf']('.')+0x1);if(_0x249ec8['indexOf']('png')==0x0)_0x531517[_0x7b946a(0x8b)]('Content-Type',_0x7b946a(0xb5));else{if(_0x249ec8['indexOf'](_0x7b946a(0x7b))==0x0)_0x531517[_0x7b946a(0x8b)](_0x7b946a(0x9f),_0x7b946a(0x9e));else{if(_0x249ec8['indexOf'](_0x7b946a(0xa0))==0x0)_0x531517['setHeader'](_0x7b946a(0x9f),'image/jpeg');else{if(_0x249ec8['indexOf'](_0x7b946a(0x93))==0x0)_0x531517[_0x7b946a(0x8b)](_0x7b946a(0x9f),_0x7b946a(0xae));else{if(_0x249ec8[_0x7b946a(0x84)]('json')==0x0)_0x531517[_0x7b946a(0x8b)]('Content-Type','application/json');else{if(_0x249ec8['indexOf'](_0x7b946a(0x7c))==0x0)_0x531517[_0x7b946a(0x8b)](_0x7b946a(0x9f),_0x7b946a(0x88));else{if(_0x249ec8[_0x7b946a(0x84)](_0x7b946a(0x87))==0x0){_0x531517[_0x7b946a(0x8b)]('Content-Type',_0x7b946a(0x83));var _0x3c78ea=_0x9e6fcf['substring'](_0x9e6fcf['lastIndexOf']('/')+0x1);_0x531517[_0x7b946a(0x8b)](_0x7b946a(0x92),_0x7b946a(0x7f)+_0x3c78ea+'\x22');}else _0x531517[_0x7b946a(0x8b)](_0x7b946a(0x9f),_0x7b946a(0xaf));}}}}}}_0x531517['send'](_0x54bde4);}}catch(_0x19bd40){_0x531517[_0x7b946a(0x76)](_0x7b946a(0x67));if(config['cvjs_debug'])console[_0x7b946a(0x8a)]('Error\x20loadfile:'+_0x19bd40);}}router[a17_0x2cc772(0x82)]('/loadfile',function(_0x5f5a92,_0x34b2b2){loadFile(_0x5f5a92,_0x34b2b2);}),router[a17_0x2cc772(0x8f)](a17_0x2cc772(0x81),(_0x124255,_0x3e141a)=>{loadFile(_0x124255,_0x3e141a);}),module['exports']=router;