var a17_0x5e1c66=a17_0x2d8e;(function(_0x51bd0d,_0xe2d72e){var _0x2fac19=a17_0x2d8e,_0xb9ed50=_0x51bd0d();while(!![]){try{var _0x448374=-parseInt(_0x2fac19(0x1d0))/0x1*(parseInt(_0x2fac19(0x219))/0x2)+-parseInt(_0x2fac19(0x1dd))/0x3+-parseInt(_0x2fac19(0x1f3))/0x4*(-parseInt(_0x2fac19(0x1df))/0x5)+-parseInt(_0x2fac19(0x1e6))/0x6+parseInt(_0x2fac19(0x1fd))/0x7*(-parseInt(_0x2fac19(0x1d1))/0x8)+-parseInt(_0x2fac19(0x1e3))/0x9*(-parseInt(_0x2fac19(0x1d5))/0xa)+parseInt(_0x2fac19(0x1e8))/0xb;if(_0x448374===_0xe2d72e)break;else _0xb9ed50['push'](_0xb9ed50['shift']());}catch(_0x17713a){_0xb9ed50['push'](_0xb9ed50['shift']());}}}(a17_0x4d00,0x4df12));var config=require(a17_0x5e1c66(0x1e4)),cvjs_debug=config[a17_0x5e1c66(0x1fa)];function a17_0x2d8e(_0x224e9b,_0x30b2f7){var _0x4d0071=a17_0x4d00();return a17_0x2d8e=function(_0x2d8e4e,_0x5dbe08){_0x2d8e4e=_0x2d8e4e-0x1cd;var _0x4e5ef1=_0x4d0071[_0x2d8e4e];return _0x4e5ef1;},a17_0x2d8e(_0x224e9b,_0x30b2f7);}const httprequest=require(a17_0x5e1c66(0x206));var express=require(a17_0x5e1c66(0x217)),router=express[a17_0x5e1c66(0x1e2)]();function a17_0x4d00(){var _0x75ed4b=['/loadfile\x20-\x20error','xx\x20\x20loadtype=\x20','send','branch\x203','Access-Control-Allow-Headers','Access-Control-Allow-Credentials','cvjs_debug','https:','Content-Disposition','203hwotsS','Content-Type','json','file','image/jpeg','length','lastIndexOf','ServerLocation','menufile','request','application/json','X-Requested-With,content-type','error\x20-\x20loadfile','body','get','branch\x202','gif','branch\x205','indexOf','ServerUrl','\x20,\x20writing\x20to:\x20','dwg','Access-Control-Allow-Methods','readFileSync','Error\x20loadfile:','redline','express','ServerFrontEndUrl','22vlpVAV','\x20reading\x20and\x20sending\x20data\x20png:','error','branch\x201','substring','jpg','jpeg','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','47427bvGDnx','28936uTbVVm','floor','post','log','177760ZGHCxT','http:','Access-Control-Allow-Origin','replaceAll','setHeader','2:\x20\x20/loadfile:\x20','png','application/dwg','831807BDaHOA','attachment;filename=\x22','140twarYT','svg','replace','Router','99XEAiLI','../CADViewer_config.json','random','3224406vyzEph','query','14627822HbznUz','text/plain','/loadfile','loadtype','branch\x204','pipe','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','image/gif','languagefile','image/svg+xml','http','33596jeXSWC'];a17_0x4d00=function(){return _0x75ed4b;};return a17_0x4d00();}function loadFile(_0x2c9d29,_0xa607f){var _0xef6d59=a17_0x5e1c66;try{config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]?_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1d7),config[_0xef6d59(0x218)]):_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1d7),'*');_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x213),_0xef6d59(0x1cf)),_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1f8),_0xef6d59(0x208)),_0xa607f['setHeader'](_0xef6d59(0x1f9),!![]);var _0x285fc8=_0x2c9d29[_0xef6d59(0x20a)][_0xef6d59(0x200)];_0x285fc8==undefined&&(_0x285fc8=_0x2c9d29[_0xef6d59(0x1e7)][_0xef6d59(0x200)]);var _0x5e31a3=_0x2c9d29[_0xef6d59(0x20a)][_0xef6d59(0x1eb)];_0x5e31a3==undefined&&(_0x5e31a3=_0x2c9d29[_0xef6d59(0x1e7)][_0xef6d59(0x1eb)]);_0x285fc8=decodeURI(_0x285fc8),_0x285fc8=_0x285fc8['replace'](/%3A/g,':'),_0x285fc8=_0x285fc8[_0xef6d59(0x1e1)](/%2F/g,'/'),_0x285fc8=_0x285fc8[_0xef6d59(0x1e1)](/%20/g,'\x20'),_0x285fc8=_0x285fc8[_0xef6d59(0x1d8)]('+','\x20');if(config[_0xef6d59(0x1fa)])console[_0xef6d59(0x1d4)]('1:\x20/loadfile:\x20xx'+_0x285fc8+_0xef6d59(0x1f5)+_0x5e31a3);if(config['ServerFrontEndUrl']!=''&&_0x285fc8[_0xef6d59(0x20f)](config[_0xef6d59(0x218)])==0x0&&_0x285fc8[_0xef6d59(0x20f)](config[_0xef6d59(0x210)])!=0x0){if(config['cvjs_debug'])console[_0xef6d59(0x1d4)](_0xef6d59(0x21c));_0x285fc8=config[_0xef6d59(0x204)]+_0x285fc8['substring'](config[_0xef6d59(0x218)][_0xef6d59(0x202)]);}else{if(_0x285fc8[_0xef6d59(0x20f)](config[_0xef6d59(0x210)])==0x0){if(config['cvjs_debug'])console[_0xef6d59(0x1d4)](_0xef6d59(0x20c));_0x285fc8=config['ServerLocation']+_0x285fc8[_0xef6d59(0x21d)](config['ServerUrl'][_0xef6d59(0x202)]);}else{if(_0x5e31a3!=undefined&&_0x5e31a3[_0xef6d59(0x20f)](_0xef6d59(0x205))==0x0||_0x5e31a3!=undefined&&_0x5e31a3['indexOf'](_0xef6d59(0x1f0))==0x0||_0x5e31a3!=undefined&&_0x5e31a3[_0xef6d59(0x20f)]('merge')==0x0||_0x5e31a3!=undefined&&_0x5e31a3['indexOf'](_0xef6d59(0x216))==0x0){if(_0x285fc8['indexOf'](_0xef6d59(0x1d6))==0x0||_0x285fc8[_0xef6d59(0x20f)](_0xef6d59(0x1fb))==0x0){if(config[_0xef6d59(0x1fa)])console[_0xef6d59(0x1d4)](_0xef6d59(0x1f7));}else{if(_0x285fc8[_0xef6d59(0x20f)](config['ServerLocation'])==0x0){if(config[_0xef6d59(0x1fa)])console['log'](_0xef6d59(0x1ec));}else{if(config[_0xef6d59(0x1fa)])console[_0xef6d59(0x1d4)](_0xef6d59(0x20e));_0x285fc8=config[_0xef6d59(0x204)]+_0x285fc8;}}}}}if(config[_0xef6d59(0x1fa)])console['log'](_0xef6d59(0x1da)+_0x285fc8+'\x20\x20\x20');var _0x56ac7b=require('fs');if(_0x285fc8[_0xef6d59(0x20f)](_0xef6d59(0x1f2))==0x0){var _0xe19860=Math[_0xef6d59(0x1d2)](Math[_0xef6d59(0x1e5)]()*Math[_0xef6d59(0x1d2)](0xf4240)),_0x4c5180='F'+_0xe19860,_0x563549=_0x285fc8['substring'](_0x285fc8['lastIndexOf']('.')+0x1),_0x4b3b4b=config['fileLocation']+_0x4c5180+'.'+_0x563549;if(cvjs_debug)console[_0xef6d59(0x1d4)]('newcontenLocation\x20'+_0x4b3b4b);var _0x56ac7b=require('fs');httprequest(_0x285fc8)[_0xef6d59(0x1ed)](_0x56ac7b['createWriteStream'](_0x4b3b4b))['on'](_0xef6d59(0x21b),()=>{var _0x5bf79d=_0xef6d59;console[_0x5bf79d(0x1d4)](_0x5bf79d(0x1ee)+_0x285fc8),_0xa607f[_0x5bf79d(0x1f6)](_0x5bf79d(0x1f4));})['on']('finish',()=>{var _0x3f6078=_0xef6d59;if(cvjs_debug)console[_0x3f6078(0x1d4)]('finshed\x20loading\x20'+_0x285fc8+_0x3f6078(0x211)+_0x4b3b4b);var _0x5570a0=_0x56ac7b['readFileSync'](_0x4b3b4b);if(_0x563549['indexOf']('png')==0x0)_0xa607f['setHeader'](_0x3f6078(0x1fe),'image/png');else{if(_0x563549[_0x3f6078(0x20f)](_0x3f6078(0x1cd))==0x0)_0xa607f[_0x3f6078(0x1d9)](_0x3f6078(0x1fe),'image/jpeg');else{if(_0x563549[_0x3f6078(0x20f)](_0x3f6078(0x1ce))==0x0)_0xa607f['setHeader']('Content-Type',_0x3f6078(0x201));else{if(_0x563549[_0x3f6078(0x20f)](_0x3f6078(0x20d))==0x0)_0xa607f[_0x3f6078(0x1d9)](_0x3f6078(0x1fe),_0x3f6078(0x1ef));else{if(_0x563549[_0x3f6078(0x20f)]('json')==0x0)_0xa607f[_0x3f6078(0x1d9)](_0x3f6078(0x1fe),_0x3f6078(0x207));else{if(_0x563549[_0x3f6078(0x20f)](_0x3f6078(0x1e0))==0x0)_0xa607f[_0x3f6078(0x1d9)](_0x3f6078(0x1fe),'image/svg+xml');else{if(_0x563549[_0x3f6078(0x20f)]('dwg')==0x0){_0xa607f['setHeader'](_0x3f6078(0x1fe),_0x3f6078(0x1dc));var _0x4ad1de=_0x285fc8['substring'](_0x285fc8['lastIndexOf']('/')+0x1);_0xa607f[_0x3f6078(0x1d9)]('Content-Disposition',_0x3f6078(0x1de)+_0x4ad1de+'\x22');}else _0xa607f[_0x3f6078(0x1d9)]('Content-Type',_0x3f6078(0x1e9));}}}}}}if(cvjs_debug)console[_0x3f6078(0x1d4)]('4:'+_0x563549);if(cvjs_debug)console[_0x3f6078(0x1d4)](_0x3f6078(0x21a)+(_0x563549[_0x3f6078(0x20f)](_0x3f6078(0x1db))==0x0));_0xa607f['send'](_0x5570a0);});}else{var _0x22556e=_0x56ac7b[_0xef6d59(0x214)](_0x285fc8),_0x563549=_0x285fc8[_0xef6d59(0x21d)](_0x285fc8[_0xef6d59(0x203)]('.')+0x1);if(_0x563549[_0xef6d59(0x20f)](_0xef6d59(0x1db))==0x0)_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1fe),'image/png');else{if(_0x563549['indexOf'](_0xef6d59(0x1cd))==0x0)_0xa607f['setHeader'](_0xef6d59(0x1fe),_0xef6d59(0x201));else{if(_0x563549[_0xef6d59(0x20f)](_0xef6d59(0x1ce))==0x0)_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1fe),_0xef6d59(0x201));else{if(_0x563549[_0xef6d59(0x20f)]('gif')==0x0)_0xa607f['setHeader'](_0xef6d59(0x1fe),_0xef6d59(0x1ef));else{if(_0x563549[_0xef6d59(0x20f)](_0xef6d59(0x1ff))==0x0)_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1fe),_0xef6d59(0x207));else{if(_0x563549[_0xef6d59(0x20f)](_0xef6d59(0x1e0))==0x0)_0xa607f[_0xef6d59(0x1d9)]('Content-Type',_0xef6d59(0x1f1));else{if(_0x563549[_0xef6d59(0x20f)](_0xef6d59(0x212))==0x0){_0xa607f[_0xef6d59(0x1d9)]('Content-Type','application/dwg');var _0x13112a=_0x285fc8['substring'](_0x285fc8[_0xef6d59(0x203)]('/')+0x1);_0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1fc),_0xef6d59(0x1de)+_0x13112a+'\x22');}else _0xa607f[_0xef6d59(0x1d9)](_0xef6d59(0x1fe),_0xef6d59(0x1e9));}}}}}}_0xa607f[_0xef6d59(0x1f6)](_0x22556e);}}catch(_0x1007ca){_0xa607f['send'](_0xef6d59(0x209));if(config[_0xef6d59(0x1fa)])console['log'](_0xef6d59(0x215)+_0x1007ca);}}router[a17_0x5e1c66(0x20b)](a17_0x5e1c66(0x1ea),function(_0x2d0caa,_0x2f58a6){loadFile(_0x2d0caa,_0x2f58a6);}),router[a17_0x5e1c66(0x1d3)]('/loadfile',(_0x164925,_0x1b983e)=>{loadFile(_0x164925,_0x1b983e);}),module['exports']=router;