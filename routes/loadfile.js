var a16_0x2fbb79=a16_0x2427;function a16_0x2427(_0x114cc6,_0x530821){var _0x39a4ce=a16_0x39a4();return a16_0x2427=function(_0x24275c,_0x40cac7){_0x24275c=_0x24275c-0xa6;var _0x1648ef=_0x39a4ce[_0x24275c];return _0x1648ef;},a16_0x2427(_0x114cc6,_0x530821);}(function(_0xa1a603,_0x441eb8){var _0x1c616f=a16_0x2427,_0x52fa5c=_0xa1a603();while(!![]){try{var _0x1a8b36=parseInt(_0x1c616f(0xe7))/0x1*(-parseInt(_0x1c616f(0xab))/0x2)+-parseInt(_0x1c616f(0xba))/0x3+parseInt(_0x1c616f(0xd1))/0x4+-parseInt(_0x1c616f(0xc7))/0x5+parseInt(_0x1c616f(0xbe))/0x6*(-parseInt(_0x1c616f(0xb6))/0x7)+-parseInt(_0x1c616f(0xdf))/0x8+parseInt(_0x1c616f(0xb8))/0x9*(parseInt(_0x1c616f(0xbb))/0xa);if(_0x1a8b36===_0x441eb8)break;else _0x52fa5c['push'](_0x52fa5c['shift']());}catch(_0xe28bae){_0x52fa5c['push'](_0x52fa5c['shift']());}}}(a16_0x39a4,0x4d215));var config=require(a16_0x2fbb79(0xb7)),cvjs_debug=config[a16_0x2fbb79(0xa8)];const httprequest=require(a16_0x2fbb79(0xaf));var express=require('express'),router=express[a16_0x2fbb79(0xbd)]();function a16_0x39a4(){var _0x262003=['branch\x204','indexOf','Content-Type','gif','14DMIYtz','../CADViewer_config.json','333AcmfKn','ServerLocation','737418bvrtnH','420730YXNoYn','replace','Router','1505796ORBadR','pipe','attachment;filename=\x22','jpeg','merge','floor','finish','Content-Disposition','post','3140675TXLRBu','/loadfile\x20-\x20error','body','length','ServerUrl','readFileSync','ServerFrontEndUrlAsAllowedOriginOnly','menufile','ServerFrontEndUrl','http','2396936ANQVmu','branch\x205','https:','Error\x20loadfile:','dwg','\x20\x20loadtype=\x20','\x20reading\x20and\x20sending\x20data\x20png:','svg','http:','fileLocation','random','error','file','image/gif','2617024yTafOy','branch\x202','png','loadtype','text/plain','substring','newcontenLocation\x20','image/png','1GteGxS','error\x20-\x20loadfile','json','jpg','exports','send','log','lastIndexOf','branch\x203','application/dwg','cvjs_debug','Access-Control-Allow-Origin','setHeader','274018tlAKei','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','image/svg+xml','redline','request','image/jpeg','/loadfile'];a16_0x39a4=function(){return _0x262003;};return a16_0x39a4();}function loadFile(_0x7d6908,_0xa7346){var _0x5bdb58=a16_0x2fbb79;try{config[_0x5bdb58(0xcd)]==!![]?_0xa7346[_0x5bdb58(0xaa)](_0x5bdb58(0xa9),config[_0x5bdb58(0xcf)]):_0xa7346[_0x5bdb58(0xaa)](_0x5bdb58(0xa9),'*');_0xa7346[_0x5bdb58(0xaa)]('Access-Control-Allow-Methods',_0x5bdb58(0xac)),_0xa7346[_0x5bdb58(0xaa)]('Access-Control-Allow-Headers','X-Requested-With,content-type'),_0xa7346[_0x5bdb58(0xaa)]('Access-Control-Allow-Credentials',!![]);var _0x1fd9a0=_0x7d6908[_0x5bdb58(0xc9)][_0x5bdb58(0xdd)];_0x1fd9a0==undefined&&(_0x1fd9a0=_0x7d6908['query'][_0x5bdb58(0xdd)]);var _0x194913=_0x7d6908[_0x5bdb58(0xc9)][_0x5bdb58(0xe2)];_0x194913==undefined&&(_0x194913=_0x7d6908['query'][_0x5bdb58(0xe2)]);_0x1fd9a0=decodeURI(_0x1fd9a0),_0x1fd9a0=_0x1fd9a0[_0x5bdb58(0xbc)](/%3A/g,':'),_0x1fd9a0=_0x1fd9a0[_0x5bdb58(0xbc)](/%2F/g,'/'),_0x1fd9a0=_0x1fd9a0[_0x5bdb58(0xbc)](/%20/g,'\x20'),_0x1fd9a0=_0x1fd9a0['replaceAll']('+','\x20');if(config[_0x5bdb58(0xa8)])console['log']('1:\x20/loadfile:\x20'+_0x1fd9a0+_0x5bdb58(0xd6)+_0x194913);if(config['ServerFrontEndUrl']!=''&&_0x1fd9a0[_0x5bdb58(0xb3)](config[_0x5bdb58(0xcf)])==0x0&&_0x1fd9a0['indexOf'](config[_0x5bdb58(0xcb)])!=0x0){if(config[_0x5bdb58(0xa8)])console[_0x5bdb58(0xed)]('branch\x201');_0x1fd9a0=config[_0x5bdb58(0xb9)]+_0x1fd9a0[_0x5bdb58(0xe4)](config[_0x5bdb58(0xcf)][_0x5bdb58(0xca)]);}else{if(_0x1fd9a0[_0x5bdb58(0xb3)](config[_0x5bdb58(0xcb)])==0x0){if(config[_0x5bdb58(0xa8)])console[_0x5bdb58(0xed)](_0x5bdb58(0xe0));_0x1fd9a0=config[_0x5bdb58(0xb9)]+_0x1fd9a0['substring'](config[_0x5bdb58(0xcb)][_0x5bdb58(0xca)]);}else{if(_0x194913!=undefined&&_0x194913['indexOf'](_0x5bdb58(0xce))==0x0||_0x194913!=undefined&&_0x194913[_0x5bdb58(0xb3)]('languagefile')==0x0||_0x194913!=undefined&&_0x194913[_0x5bdb58(0xb3)](_0x5bdb58(0xc2))==0x0||_0x194913!=undefined&&_0x194913[_0x5bdb58(0xb3)](_0x5bdb58(0xae))==0x0){if(_0x1fd9a0['indexOf'](_0x5bdb58(0xd9))==0x0||_0x1fd9a0[_0x5bdb58(0xb3)](_0x5bdb58(0xd3))==0x0){if(config[_0x5bdb58(0xa8)])console[_0x5bdb58(0xed)](_0x5bdb58(0xa6));}else{if(_0x1fd9a0[_0x5bdb58(0xb3)](config['ServerLocation'])==0x0){if(config[_0x5bdb58(0xa8)])console[_0x5bdb58(0xed)](_0x5bdb58(0xb2));}else{if(config['cvjs_debug'])console[_0x5bdb58(0xed)](_0x5bdb58(0xd2));_0x1fd9a0=config[_0x5bdb58(0xb9)]+_0x1fd9a0;}}}}}var _0x558e0b=require('fs');if(_0x1fd9a0[_0x5bdb58(0xb3)](_0x5bdb58(0xd0))==0x0){var _0x4d47fb=Math['floor'](Math[_0x5bdb58(0xdb)]()*Math[_0x5bdb58(0xc3)](0xf4240)),_0x7e1aca='F'+_0x4d47fb,_0x388698=_0x1fd9a0[_0x5bdb58(0xe4)](_0x1fd9a0['lastIndexOf']('.')+0x1),_0x34a97e=config[_0x5bdb58(0xda)]+_0x7e1aca+'.'+_0x388698;if(cvjs_debug)console[_0x5bdb58(0xed)](_0x5bdb58(0xe5)+_0x34a97e);var _0x558e0b=require('fs');httprequest(_0x1fd9a0)[_0x5bdb58(0xbf)](_0x558e0b['createWriteStream'](_0x34a97e))['on'](_0x5bdb58(0xdc),()=>{var _0x40b5bd=_0x5bdb58;console[_0x40b5bd(0xed)]('ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20'+_0x1fd9a0),_0xa7346[_0x40b5bd(0xec)](_0x40b5bd(0xc8));})['on'](_0x5bdb58(0xc4),()=>{var _0x41daf2=_0x5bdb58;if(cvjs_debug)console[_0x41daf2(0xed)]('finshed\x20loading\x20'+_0x1fd9a0+'\x20,\x20writing\x20to:\x20'+_0x34a97e);var _0x3081e5=_0x558e0b['readFileSync'](_0x34a97e);if(_0x388698[_0x41daf2(0xb3)]('png')==0x0)_0xa7346['setHeader'](_0x41daf2(0xb4),_0x41daf2(0xe6));else{if(_0x388698[_0x41daf2(0xb3)](_0x41daf2(0xea))==0x0)_0xa7346[_0x41daf2(0xaa)](_0x41daf2(0xb4),_0x41daf2(0xb0));else{if(_0x388698[_0x41daf2(0xb3)]('jpeg')==0x0)_0xa7346['setHeader'](_0x41daf2(0xb4),_0x41daf2(0xb0));else{if(_0x388698['indexOf'](_0x41daf2(0xb5))==0x0)_0xa7346[_0x41daf2(0xaa)](_0x41daf2(0xb4),_0x41daf2(0xde));else{if(_0x388698[_0x41daf2(0xb3)](_0x41daf2(0xe9))==0x0)_0xa7346[_0x41daf2(0xaa)]('Content-Type','application/json');else{if(_0x388698[_0x41daf2(0xb3)]('svg')==0x0)_0xa7346[_0x41daf2(0xaa)](_0x41daf2(0xb4),_0x41daf2(0xad));else{if(_0x388698[_0x41daf2(0xb3)](_0x41daf2(0xd5))==0x0){_0xa7346[_0x41daf2(0xaa)](_0x41daf2(0xb4),'application/dwg');var _0x303430=_0x1fd9a0['substring'](_0x1fd9a0[_0x41daf2(0xee)]('/')+0x1);_0xa7346['setHeader'](_0x41daf2(0xc5),_0x41daf2(0xc0)+_0x303430+'\x22');}else _0xa7346[_0x41daf2(0xaa)](_0x41daf2(0xb4),_0x41daf2(0xe3));}}}}}}if(cvjs_debug)console['log']('4:'+_0x388698);if(cvjs_debug)console[_0x41daf2(0xed)](_0x41daf2(0xd7)+(_0x388698[_0x41daf2(0xb3)](_0x41daf2(0xe1))==0x0));_0xa7346['send'](_0x3081e5);});}else{var _0x534209=_0x558e0b[_0x5bdb58(0xcc)](_0x1fd9a0),_0x388698=_0x1fd9a0['substring'](_0x1fd9a0[_0x5bdb58(0xee)]('.')+0x1);if(_0x388698['indexOf']('png')==0x0)_0xa7346[_0x5bdb58(0xaa)]('Content-Type',_0x5bdb58(0xe6));else{if(_0x388698[_0x5bdb58(0xb3)](_0x5bdb58(0xea))==0x0)_0xa7346[_0x5bdb58(0xaa)](_0x5bdb58(0xb4),'image/jpeg');else{if(_0x388698[_0x5bdb58(0xb3)](_0x5bdb58(0xc1))==0x0)_0xa7346[_0x5bdb58(0xaa)](_0x5bdb58(0xb4),'image/jpeg');else{if(_0x388698[_0x5bdb58(0xb3)](_0x5bdb58(0xb5))==0x0)_0xa7346['setHeader']('Content-Type',_0x5bdb58(0xde));else{if(_0x388698[_0x5bdb58(0xb3)]('json')==0x0)_0xa7346[_0x5bdb58(0xaa)]('Content-Type','application/json');else{if(_0x388698[_0x5bdb58(0xb3)](_0x5bdb58(0xd8))==0x0)_0xa7346[_0x5bdb58(0xaa)](_0x5bdb58(0xb4),_0x5bdb58(0xad));else{if(_0x388698[_0x5bdb58(0xb3)](_0x5bdb58(0xd5))==0x0){_0xa7346[_0x5bdb58(0xaa)]('Content-Type',_0x5bdb58(0xa7));var _0x3c0476=_0x1fd9a0[_0x5bdb58(0xe4)](_0x1fd9a0[_0x5bdb58(0xee)]('/')+0x1);_0xa7346['setHeader']('Content-Disposition',_0x5bdb58(0xc0)+_0x3c0476+'\x22');}else _0xa7346[_0x5bdb58(0xaa)](_0x5bdb58(0xb4),_0x5bdb58(0xe3));}}}}}}_0xa7346[_0x5bdb58(0xec)](_0x534209);}}catch(_0x3285bf){_0xa7346[_0x5bdb58(0xec)](_0x5bdb58(0xe8));if(config[_0x5bdb58(0xa8)])console['log'](_0x5bdb58(0xd4)+_0x3285bf);}}router['get'](a16_0x2fbb79(0xb1),function(_0x50b795,_0x2aa097){loadFile(_0x50b795,_0x2aa097);}),router[a16_0x2fbb79(0xc6)](a16_0x2fbb79(0xb1),(_0x4067e4,_0x51febe)=>{loadFile(_0x4067e4,_0x51febe);}),module[a16_0x2fbb79(0xeb)]=router;