var a16_0x261411=a16_0x3b60;(function(_0x5a8830,_0x1dd411){var _0x5ed419=a16_0x3b60,_0x23f089=_0x5a8830();while(!![]){try{var _0x5095d5=-parseInt(_0x5ed419(0x1c5))/0x1+parseInt(_0x5ed419(0x1bf))/0x2*(parseInt(_0x5ed419(0x1cf))/0x3)+-parseInt(_0x5ed419(0x1a3))/0x4+-parseInt(_0x5ed419(0x1a1))/0x5*(parseInt(_0x5ed419(0x1ce))/0x6)+-parseInt(_0x5ed419(0x19b))/0x7+-parseInt(_0x5ed419(0x1d8))/0x8+-parseInt(_0x5ed419(0x1ac))/0x9*(-parseInt(_0x5ed419(0x1b7))/0xa);if(_0x5095d5===_0x1dd411)break;else _0x23f089['push'](_0x23f089['shift']());}catch(_0x254ed8){_0x23f089['push'](_0x23f089['shift']());}}}(a16_0x3cc7,0x80841));var config=require(a16_0x261411(0x1b3)),cvjs_debug=config[a16_0x261411(0x1bc)];const httprequest=require(a16_0x261411(0x1c1));var express=require(a16_0x261411(0x1e0)),router=express[a16_0x261411(0x1d6)]();function a16_0x3cc7(){var _0x50ccfe=['ServerUrl','55zqWVCJ','image/jpeg','3198748pGnhNI','finish','random','http','gif','text/plain','/loadfile','languagefile','application/dwg','1053QSailW','Content-Type','readFileSync','indexOf','X-Requested-With,content-type','https:','fileLocation','../CADViewer_config.json','replace','length','setHeader','282050HMpIDX','branch\x204','query','Error\x20loadfile:','body','cvjs_debug','\x20\x20loadtype=\x20','Access-Control-Allow-Headers','8278ggKSSo','post','request','Access-Control-Allow-Methods','log','svg','117713ayFXCW','image/png','\x20,\x20writing\x20to:\x20','lastIndexOf','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','send','file','jpeg','application/json','438324CTdYzE','84dTBKzQ','Content-Disposition','dwg','menufile','merge','error\x20-\x20loadfile','branch\x202','Router','replaceAll','7298520PwDlBi','loadtype','attachment;filename=\x22','ServerLocation','png','branch\x201','floor','pipe','express','json','Access-Control-Allow-Origin','ServerFrontEndUrl','ERROR\x20-\x20httprequest/createWriteStream\x20does\x20this\x20location\x20exist?:\x20','jpg','ServerFrontEndUrlAsAllowedOriginOnly','substring','image/gif','get','1793169qbngeT','createWriteStream','image/svg+xml','branch\x203','redline'];a16_0x3cc7=function(){return _0x50ccfe;};return a16_0x3cc7();}function a16_0x3b60(_0xb4f2ce,_0x377e2c){var _0x3cc7a3=a16_0x3cc7();return a16_0x3b60=function(_0x3b600f,_0x37e193){_0x3b600f=_0x3b600f-0x19a;var _0x4a8011=_0x3cc7a3[_0x3b600f];return _0x4a8011;},a16_0x3b60(_0xb4f2ce,_0x377e2c);}function loadFile(_0x17b971,_0x3a3999){var _0x446789=a16_0x261411;try{config[_0x446789(0x1e6)]==!![]?_0x3a3999[_0x446789(0x1b6)](_0x446789(0x1e2),config[_0x446789(0x1e3)]):_0x3a3999[_0x446789(0x1b6)]('Access-Control-Allow-Origin','*');_0x3a3999[_0x446789(0x1b6)](_0x446789(0x1c2),_0x446789(0x1c9)),_0x3a3999[_0x446789(0x1b6)](_0x446789(0x1be),_0x446789(0x1b0)),_0x3a3999[_0x446789(0x1b6)]('Access-Control-Allow-Credentials',!![]);var _0x15587a=_0x17b971[_0x446789(0x1bb)][_0x446789(0x1cb)];_0x15587a==undefined&&(_0x15587a=_0x17b971[_0x446789(0x1b9)]['file']);var _0x505990=_0x17b971[_0x446789(0x1bb)][_0x446789(0x1d9)];_0x505990==undefined&&(_0x505990=_0x17b971['query']['loadtype']);_0x15587a=decodeURI(_0x15587a),_0x15587a=_0x15587a[_0x446789(0x1b4)](/%3A/g,':'),_0x15587a=_0x15587a['replace'](/%2F/g,'/'),_0x15587a=_0x15587a['replace'](/%20/g,'\x20'),_0x15587a=_0x15587a[_0x446789(0x1d7)]('+','\x20');if(config[_0x446789(0x1bc)])console[_0x446789(0x1c3)]('1:\x20/loadfile:\x20'+_0x15587a+_0x446789(0x1bd)+_0x505990);if(config[_0x446789(0x1e3)]!=''&&_0x15587a[_0x446789(0x1af)](config['ServerFrontEndUrl'])==0x0&&_0x15587a[_0x446789(0x1af)](config[_0x446789(0x1a0)])!=0x0){if(config['cvjs_debug'])console['log'](_0x446789(0x1dd));_0x15587a=config[_0x446789(0x1db)]+_0x15587a['substring'](config[_0x446789(0x1e3)][_0x446789(0x1b5)]);}else{if(_0x15587a[_0x446789(0x1af)](config[_0x446789(0x1a0)])==0x0){if(config[_0x446789(0x1bc)])console[_0x446789(0x1c3)](_0x446789(0x1d5));_0x15587a=config[_0x446789(0x1db)]+_0x15587a['substring'](config['ServerUrl'][_0x446789(0x1b5)]);}else{if(_0x505990!=undefined&&_0x505990[_0x446789(0x1af)](_0x446789(0x1d2))==0x0||_0x505990!=undefined&&_0x505990[_0x446789(0x1af)](_0x446789(0x1aa))==0x0||_0x505990!=undefined&&_0x505990[_0x446789(0x1af)](_0x446789(0x1d3))==0x0||_0x505990!=undefined&&_0x505990['indexOf'](_0x446789(0x19f))==0x0){if(_0x15587a[_0x446789(0x1af)]('http:')==0x0||_0x15587a['indexOf'](_0x446789(0x1b1))==0x0){if(config[_0x446789(0x1bc)])console['log'](_0x446789(0x19e));}else{if(_0x15587a['indexOf'](config[_0x446789(0x1db)])==0x0){if(config['cvjs_debug'])console['log'](_0x446789(0x1b8));}else{if(config[_0x446789(0x1bc)])console[_0x446789(0x1c3)]('branch\x205');_0x15587a=config[_0x446789(0x1db)]+_0x15587a;}}}}}var _0x1c266e=require('fs');if(_0x15587a[_0x446789(0x1af)](_0x446789(0x1a6))==0x0){var _0x1dec93=Math['floor'](Math[_0x446789(0x1a5)]()*Math[_0x446789(0x1de)](0xf4240)),_0x45fd73='F'+_0x1dec93,_0x46b606=_0x15587a['substring'](_0x15587a['lastIndexOf']('.')+0x1),_0x5587e7=config[_0x446789(0x1b2)]+_0x45fd73+'.'+_0x46b606;if(cvjs_debug)console[_0x446789(0x1c3)]('newcontenLocation\x20'+_0x5587e7);var _0x1c266e=require('fs');httprequest(_0x15587a)[_0x446789(0x1df)](_0x1c266e[_0x446789(0x19c)](_0x5587e7))['on']('error',()=>{var _0x434a35=_0x446789;console[_0x434a35(0x1c3)](_0x434a35(0x1e4)+_0x15587a),_0x3a3999['send']('/loadfile\x20-\x20error');})['on'](_0x446789(0x1a4),()=>{var _0x1d66a1=_0x446789;if(cvjs_debug)console[_0x1d66a1(0x1c3)]('finshed\x20loading\x20'+_0x15587a+_0x1d66a1(0x1c7)+_0x5587e7);var _0x51a4c4=_0x1c266e[_0x1d66a1(0x1ae)](_0x5587e7);if(_0x46b606['indexOf'](_0x1d66a1(0x1dc))==0x0)_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),_0x1d66a1(0x1c6));else{if(_0x46b606['indexOf'](_0x1d66a1(0x1e5))==0x0)_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),_0x1d66a1(0x1a2));else{if(_0x46b606[_0x1d66a1(0x1af)](_0x1d66a1(0x1cc))==0x0)_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),_0x1d66a1(0x1a2));else{if(_0x46b606[_0x1d66a1(0x1af)](_0x1d66a1(0x1a7))==0x0)_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),_0x1d66a1(0x1e8));else{if(_0x46b606[_0x1d66a1(0x1af)]('json')==0x0)_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),_0x1d66a1(0x1cd));else{if(_0x46b606['indexOf'](_0x1d66a1(0x1c4))==0x0)_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),_0x1d66a1(0x19d));else{if(_0x46b606[_0x1d66a1(0x1af)](_0x1d66a1(0x1d1))==0x0){_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),'application/dwg');var _0x3ec8ae=_0x15587a[_0x1d66a1(0x1e7)](_0x15587a['lastIndexOf']('/')+0x1);_0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1d0),_0x1d66a1(0x1da)+_0x3ec8ae+'\x22');}else _0x3a3999[_0x1d66a1(0x1b6)](_0x1d66a1(0x1ad),_0x1d66a1(0x1a8));}}}}}}if(cvjs_debug)console[_0x1d66a1(0x1c3)]('4:'+_0x46b606);if(cvjs_debug)console['log']('\x20reading\x20and\x20sending\x20data\x20png:'+(_0x46b606['indexOf'](_0x1d66a1(0x1dc))==0x0));_0x3a3999['send'](_0x51a4c4);});}else{var _0x3ff8ce=_0x1c266e[_0x446789(0x1ae)](_0x15587a),_0x46b606=_0x15587a[_0x446789(0x1e7)](_0x15587a[_0x446789(0x1c8)]('.')+0x1);if(_0x46b606[_0x446789(0x1af)](_0x446789(0x1dc))==0x0)_0x3a3999[_0x446789(0x1b6)](_0x446789(0x1ad),_0x446789(0x1c6));else{if(_0x46b606['indexOf'](_0x446789(0x1e5))==0x0)_0x3a3999['setHeader'](_0x446789(0x1ad),_0x446789(0x1a2));else{if(_0x46b606[_0x446789(0x1af)]('jpeg')==0x0)_0x3a3999[_0x446789(0x1b6)](_0x446789(0x1ad),_0x446789(0x1a2));else{if(_0x46b606['indexOf'](_0x446789(0x1a7))==0x0)_0x3a3999[_0x446789(0x1b6)]('Content-Type',_0x446789(0x1e8));else{if(_0x46b606['indexOf'](_0x446789(0x1e1))==0x0)_0x3a3999[_0x446789(0x1b6)]('Content-Type',_0x446789(0x1cd));else{if(_0x46b606['indexOf'](_0x446789(0x1c4))==0x0)_0x3a3999['setHeader'](_0x446789(0x1ad),_0x446789(0x19d));else{if(_0x46b606['indexOf'](_0x446789(0x1d1))==0x0){_0x3a3999['setHeader'](_0x446789(0x1ad),_0x446789(0x1ab));var _0x3f85b1=_0x15587a['substring'](_0x15587a[_0x446789(0x1c8)]('/')+0x1);_0x3a3999[_0x446789(0x1b6)](_0x446789(0x1d0),_0x446789(0x1da)+_0x3f85b1+'\x22');}else _0x3a3999['setHeader'](_0x446789(0x1ad),'text/plain');}}}}}}_0x3a3999[_0x446789(0x1ca)](_0x3ff8ce);}}catch(_0x104863){_0x3a3999[_0x446789(0x1ca)](_0x446789(0x1d4));if(config['cvjs_debug'])console[_0x446789(0x1c3)](_0x446789(0x1ba)+_0x104863);}}router[a16_0x261411(0x19a)]('/loadfile',function(_0x407a18,_0x5f2e07){loadFile(_0x407a18,_0x5f2e07);}),router[a16_0x261411(0x1c0)](a16_0x261411(0x1a9),(_0x12488d,_0xf8aa7b)=>{loadFile(_0x12488d,_0xf8aa7b);}),module['exports']=router;