function a15_0x460c(_0x3983c6,_0x39e7f4){const _0x4df618=a15_0x4df6();return a15_0x460c=function(_0x460c22,_0x1f1da5){_0x460c22=_0x460c22-0x15e;let _0x1b55da=_0x4df618[_0x460c22];return _0x1b55da;},a15_0x460c(_0x3983c6,_0x39e7f4);}const a15_0x2dc515=a15_0x460c;(function(_0xb11106,_0x22de3b){const _0x3eb017=a15_0x460c,_0x2a9595=_0xb11106();while(!![]){try{const _0x4af50a=parseInt(_0x3eb017(0x166))/0x1+-parseInt(_0x3eb017(0x15f))/0x2+-parseInt(_0x3eb017(0x173))/0x3+parseInt(_0x3eb017(0x168))/0x4*(-parseInt(_0x3eb017(0x196))/0x5)+parseInt(_0x3eb017(0x17a))/0x6*(parseInt(_0x3eb017(0x170))/0x7)+parseInt(_0x3eb017(0x193))/0x8*(parseInt(_0x3eb017(0x175))/0x9)+-parseInt(_0x3eb017(0x15e))/0xa*(-parseInt(_0x3eb017(0x163))/0xb);if(_0x4af50a===_0x22de3b)break;else _0x2a9595['push'](_0x2a9595['shift']());}catch(_0x571819){_0x2a9595['push'](_0x2a9595['shift']());}}}(a15_0x4df6,0xf37ca));const fs=require('fs'),path=require('path'),config=require(a15_0x2dc515(0x17b)),verifyTokenOptional=require(a15_0x2dc515(0x16a))[a15_0x2dc515(0x171)],show_folders=![],express=require(a15_0x2dc515(0x198)),router=express[a15_0x2dc515(0x184)](),conn=require(a15_0x2dc515(0x188)),{randomUUID}=require(a15_0x2dc515(0x16f)),dir=a15_0x2dc515(0x17e);!fs['existsSync'](dir)&&fs[a15_0x2dc515(0x18d)](dir);const sortFoldersFirst=(_0x47ff37,_0x494d5c)=>{const _0x3bbc6a=a15_0x2dc515;if(_0x47ff37[_0x3bbc6a(0x194)]&&!_0x494d5c['children'])return-0x1;else return!_0x47ff37[_0x3bbc6a(0x194)]&&_0x494d5c[_0x3bbc6a(0x194)]?0x1:0x0;},listFolderStructure=(_0x1b41b6,_0x61aea8='')=>{const _0x11c1b7=a15_0x2dc515,_0x4ced81=fs[_0x11c1b7(0x179)](_0x1b41b6),_0x85cbac=[];return _0x4ced81['forEach'](_0x339276=>{const _0x313502=_0x11c1b7,_0xff88a3=path[_0x313502(0x18e)](_0x1b41b6,_0x339276),_0x511256=fs['statSync'](_0xff88a3);if(_0x511256[_0x313502(0x195)]()){if(config[_0x313502(0x177)]&&show_folders)console[_0x313502(0x172)](_0x61aea8+'└──\x20'+_0x339276);const _0x254a74=listFolderStructure(_0xff88a3,_0x61aea8+_0x313502(0x16c));_0x85cbac[_0x313502(0x161)]({'name':_0x339276,'path':_0xff88a3,'size':_0x511256['size'],'created':_0x511256['birthtime'],'modified':_0x511256[_0x313502(0x167)],'isFolder':!![],'children':_0x254a74});}else{_0x85cbac[_0x313502(0x161)]({'name':_0x339276,'path':_0xff88a3,'size':_0x511256[_0x313502(0x18a)],'created':_0x511256[_0x313502(0x160)],'modified':_0x511256[_0x313502(0x167)],'isFolder':![]});if(config[_0x313502(0x177)]&&show_folders)console['log'](_0x61aea8+_0x313502(0x185)+_0x339276);}}),_0x85cbac['sort'](sortFoldersFirst);};router[a15_0x2dc515(0x190)]('',verifyTokenOptional,async(_0x4d2678,_0x533c5b)=>{const _0x32d6b1=a15_0x2dc515,_0x2b4751=path[_0x32d6b1(0x18e)](path[_0x32d6b1(0x180)](require['main'][_0x32d6b1(0x176)]),'CADViewer_config.json'),_0x43ac55=JSON['parse'](fs[_0x32d6b1(0x192)](_0x2b4751,'utf8')),_0xcc3c64=_0x4d2678[_0x32d6b1(0x162)][_0x32d6b1(0x199)];let _0x21f5e9=_0x43ac55[_0x32d6b1(0x164)];_0xcc3c64==='false'&&(_0x21f5e9=_0x43ac55[_0x32d6b1(0x189)]);console['log'](_0x32d6b1(0x178)+_0x21f5e9+_0x32d6b1(0x17c)+show_folders+'cvhs_debug:'+config[_0x32d6b1(0x177)]);if(_0x4d2678[_0x32d6b1(0x16e)]){let _0x1bfb90;try{const [_0x2e18f3]=await conn[_0x32d6b1(0x169)]()['execute'](_0x32d6b1(0x18f),[_0x4d2678[_0x32d6b1(0x16e)]['email']]);_0x2e18f3[_0x32d6b1(0x165)]>0x0&&(_0x1bfb90=_0x2e18f3[0x0]);}catch(_0x1438e2){console[_0x32d6b1(0x172)]({'err':_0x1438e2}),_0x533c5b[_0x32d6b1(0x18c)](0x1f4)[_0x32d6b1(0x17f)]({'error':_0x32d6b1(0x16b)});return;}if(!_0x1bfb90){_0x533c5b['status'](0x191)[_0x32d6b1(0x17f)]({'error':_0x32d6b1(0x18b)});return;}_0x1bfb90[_0x32d6b1(0x181)]===_0x32d6b1(0x186)&&(_0x21f5e9=_0x43ac55[_0x32d6b1(0x189)]);let _0x59da36=_0x1bfb90[_0x32d6b1(0x174)];if(!_0x59da36){_0x59da36=randomUUID();try{await conn[_0x32d6b1(0x169)]()[_0x32d6b1(0x16d)](_0x32d6b1(0x187),[_0x59da36,_0x4d2678[_0x32d6b1(0x16e)]['email']]);}catch(_0x293c9b){console[_0x32d6b1(0x172)]({'err':_0x293c9b}),_0x533c5b[_0x32d6b1(0x18c)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x5ce88a=_0x32d6b1(0x191)+_0x59da36;!fs[_0x32d6b1(0x183)](_0x5ce88a)&&fs['mkdirSync'](_0x5ce88a);const _0x55f11d=path[_0x32d6b1(0x182)](_0x5ce88a),_0x5a8028=listFolderStructure(_0x55f11d);!fs[_0x32d6b1(0x183)](_0x21f5e9)&&fs[_0x32d6b1(0x18d)](_0x21f5e9),dirs=[{'own':!![],'name':_0x32d6b1(0x17d),'path':_0x5ce88a,'isFolder':!![],'children':_0x5a8028},...listFolderStructure(_0x21f5e9)],_0x533c5b['send'](dirs);}else!fs[_0x32d6b1(0x183)](_0x21f5e9)&&fs[_0x32d6b1(0x18d)](_0x21f5e9),_0x533c5b['send'](listFolderStructure(_0x21f5e9));}),module[a15_0x2dc515(0x197)]=router;function a15_0x4df6(){const _0x2f9376=['push','query','11zmJzDQ','folderLocationDemoUser','length','1286866wsqzqQ','mtime','4afRdcX','promise','../libs/jwt','Error!\x20Something\x20went\x20wrong.','\x20\x20\x20','execute','user','crypto','7BcMAaK','verifyTokenOptional','log','2227737srQueo','folder_name','1899LXUegf','filename','cvjs_debug','in\x20listFolderStructure\x20folderLocation=','readdirSync','11235306wEMsnO','../CADViewer_config.json','\x20show_folders:','MY\x20FOLDER','./uploads','json','dirname','role','resolve','existsSync','Router','├──\x20','admin','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`email`\x20=\x20?','../libs/mysql','folderLocation','size','Invalid\x20user','status','mkdirSync','join','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?','get','./uploads/','readFileSync','15512AQKaAk','children','isDirectory','7182035FhaibB','exports','express','loginFeatureEnabled','2825080KRHxVb','1349492eMlQsZ','birthtime'];a15_0x4df6=function(){return _0x2f9376;};return a15_0x4df6();}