function a15_0x29cb(_0xd555b2,_0x3fbbc6){const _0x4f0504=a15_0x4f05();return a15_0x29cb=function(_0x29cbcd,_0x39616c){_0x29cbcd=_0x29cbcd-0x169;let _0x15d637=_0x4f0504[_0x29cbcd];return _0x15d637;},a15_0x29cb(_0xd555b2,_0x3fbbc6);}const a15_0x3e291a=a15_0x29cb;function a15_0x4f05(){const _0x529821=['query','MY\x20FOLDER','mkdirSync','crypto','resolve','utf8','isDirectory','\x20\x20\x20','cvjs_debug','statSync','./uploads/','Invalid\x20user','birthtime','status','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`email`\x20=\x20?','filename','execute','dirname','../libs/mysql','existsSync','../libs/jwt','Error!\x20Something\x20went\x20wrong.','size','readdirSync','get','json','children','folderLocationDemoUser','CADViewer_config.json','main','3785xJsnXY','216319odQFuT','in\x20listFolderStructure\x20folderLocation=','1138248UyRnuu','push','327rrVWVY','cvhs_debug:','user','1423884VYbyHT','false','join','send','../CADViewer_config.json','express','Router','log','8BDurwK','parse','1320290iGejQl','promise','folderLocation','2EXRnWB','2272rzmpcE','role','forEach','path','762YckDmJ','admin','email','1490083pcAvzb','mtime','exports'];a15_0x4f05=function(){return _0x529821;};return a15_0x4f05();}(function(_0xb7c4ed,_0x24158c){const _0x13419c=a15_0x29cb,_0xa0e247=_0xb7c4ed();while(!![]){try{const _0x2d54b5=-parseInt(_0x13419c(0x19f))/0x1*(parseInt(_0x13419c(0x175))/0x2)+-parseInt(_0x13419c(0x1a3))/0x3*(-parseInt(_0x13419c(0x176))/0x4)+parseInt(_0x13419c(0x19e))/0x5*(parseInt(_0x13419c(0x17a))/0x6)+-parseInt(_0x13419c(0x17d))/0x7*(parseInt(_0x13419c(0x170))/0x8)+parseInt(_0x13419c(0x1a1))/0x9+parseInt(_0x13419c(0x172))/0xa+parseInt(_0x13419c(0x1a6))/0xb;if(_0x2d54b5===_0x24158c)break;else _0xa0e247['push'](_0xa0e247['shift']());}catch(_0x2d7ef7){_0xa0e247['push'](_0xa0e247['shift']());}}}(a15_0x4f05,0x1c848));const fs=require('fs'),path=require(a15_0x3e291a(0x179)),config=require(a15_0x3e291a(0x16c)),verifyTokenOptional=require(a15_0x3e291a(0x194))['verifyTokenOptional'],show_folders=![],express=require(a15_0x3e291a(0x16d)),router=express[a15_0x3e291a(0x16e)](),conn=require(a15_0x3e291a(0x192)),{randomUUID}=require(a15_0x3e291a(0x183)),dir='./uploads';!fs[a15_0x3e291a(0x193)](dir)&&fs[a15_0x3e291a(0x182)](dir);const sortFoldersFirst=(_0x55587c,_0x188b30)=>{const _0x555079=a15_0x3e291a;if(_0x55587c[_0x555079(0x19a)]&&!_0x188b30[_0x555079(0x19a)])return-0x1;else return!_0x55587c[_0x555079(0x19a)]&&_0x188b30[_0x555079(0x19a)]?0x1:0x0;},listFolderStructure=(_0x5e7f46,_0x4515c3='')=>{const _0x1cfce4=a15_0x3e291a,_0x59d98a=fs[_0x1cfce4(0x197)](_0x5e7f46),_0xbc8fbc=[];return _0x59d98a[_0x1cfce4(0x178)](_0x2ef683=>{const _0x1d12f1=_0x1cfce4,_0x4d4830=path[_0x1d12f1(0x16a)](_0x5e7f46,_0x2ef683),_0x178cb3=fs[_0x1d12f1(0x189)](_0x4d4830);if(_0x178cb3[_0x1d12f1(0x186)]()){if(config[_0x1d12f1(0x188)]&&show_folders)console[_0x1d12f1(0x16f)](_0x4515c3+'└──\x20'+_0x2ef683);const _0x53aeec=listFolderStructure(_0x4d4830,_0x4515c3+_0x1d12f1(0x187));_0xbc8fbc[_0x1d12f1(0x1a2)]({'name':_0x2ef683,'path':_0x4d4830,'size':_0x178cb3[_0x1d12f1(0x196)],'created':_0x178cb3[_0x1d12f1(0x18c)],'modified':_0x178cb3[_0x1d12f1(0x17e)],'isFolder':!![],'children':_0x53aeec});}else{_0xbc8fbc[_0x1d12f1(0x1a2)]({'name':_0x2ef683,'path':_0x4d4830,'size':_0x178cb3[_0x1d12f1(0x196)],'created':_0x178cb3[_0x1d12f1(0x18c)],'modified':_0x178cb3[_0x1d12f1(0x17e)],'isFolder':![]});if(config['cvjs_debug']&&show_folders)console['log'](_0x4515c3+'├──\x20'+_0x2ef683);}}),_0xbc8fbc['sort'](sortFoldersFirst);};router[a15_0x3e291a(0x198)]('',verifyTokenOptional,async(_0xe81308,_0x5383dd)=>{const _0xcee1ea=a15_0x3e291a,_0x12a8a0=path['join'](path[_0xcee1ea(0x191)](require[_0xcee1ea(0x19d)][_0xcee1ea(0x18f)]),_0xcee1ea(0x19c)),_0x4e423f=JSON[_0xcee1ea(0x171)](fs['readFileSync'](_0x12a8a0,_0xcee1ea(0x185))),_0x2bb873=_0xe81308[_0xcee1ea(0x180)]['loginFeatureEnabled'];let _0x43b3e6=_0x4e423f[_0xcee1ea(0x19b)];_0x2bb873===_0xcee1ea(0x169)&&(_0x43b3e6=_0x4e423f[_0xcee1ea(0x174)]);console['log'](_0xcee1ea(0x1a0)+_0x43b3e6+'\x20show_folders:'+show_folders+_0xcee1ea(0x1a4)+config[_0xcee1ea(0x188)]);if(_0xe81308[_0xcee1ea(0x1a5)]){let _0x5fe9c5;try{const [_0x4ad6be]=await conn['promise']()[_0xcee1ea(0x190)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?',[_0xe81308[_0xcee1ea(0x1a5)][_0xcee1ea(0x17c)]]);_0x4ad6be['length']>0x0&&(_0x5fe9c5=_0x4ad6be[0x0]);}catch(_0x467f01){console['log']({'err':_0x467f01}),_0x5383dd[_0xcee1ea(0x18d)](0x1f4)[_0xcee1ea(0x199)]({'error':_0xcee1ea(0x195)});return;}if(!_0x5fe9c5){_0x5383dd[_0xcee1ea(0x18d)](0x191)[_0xcee1ea(0x199)]({'error':_0xcee1ea(0x18b)});return;}_0x5fe9c5[_0xcee1ea(0x177)]===_0xcee1ea(0x17b)&&(_0x43b3e6=_0x4e423f[_0xcee1ea(0x174)]);let _0x222cdf=_0x5fe9c5['folder_name'];if(!_0x222cdf){_0x222cdf=randomUUID();try{await conn[_0xcee1ea(0x173)]()[_0xcee1ea(0x190)](_0xcee1ea(0x18e),[_0x222cdf,_0xe81308['user'][_0xcee1ea(0x17c)]]);}catch(_0x35e7a0){console[_0xcee1ea(0x16f)]({'err':_0x35e7a0}),_0x5383dd[_0xcee1ea(0x18d)](0x1f4)[_0xcee1ea(0x199)]({'error':_0xcee1ea(0x195)});return;}}const _0x459843=_0xcee1ea(0x18a)+_0x222cdf;!fs[_0xcee1ea(0x193)](_0x459843)&&fs[_0xcee1ea(0x182)](_0x459843);const _0xc06d70=path[_0xcee1ea(0x184)](_0x459843),_0x4e01a1=listFolderStructure(_0xc06d70);!fs[_0xcee1ea(0x193)](_0x43b3e6)&&fs[_0xcee1ea(0x182)](_0x43b3e6),dirs=[{'own':!![],'name':_0xcee1ea(0x181),'path':_0x459843,'isFolder':!![],'children':_0x4e01a1},...listFolderStructure(_0x43b3e6)],_0x5383dd[_0xcee1ea(0x16b)](dirs);}else!fs[_0xcee1ea(0x193)](_0x43b3e6)&&fs[_0xcee1ea(0x182)](_0x43b3e6),_0x5383dd[_0xcee1ea(0x16b)](listFolderStructure(_0x43b3e6));}),module[a15_0x3e291a(0x17f)]=router;