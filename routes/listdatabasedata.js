function a12_0x663f(){const _0x253692=['exports','floor_id','color_id','employeeName','room_id','promise','549gEZNwv','33079794JXewmE','query','/original/','DB\x20/employees\x20error','/photos/','/org2s','path','name','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','299190pTpLcu','log','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','updated_at','SELECT\x20id,\x20hex\x20FROM\x20colors','get','1660504dPaKZx','7272671oaXksQ','push','3LwsrnL','12JXHTOo','/employees','send','Router','express','6uVqlFn','../libs/mysql.js','split','5CzxyVM','110792WDpyeh','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','org2_id','4310450JdlufQ','employee_number','437918orMexL','DB\x20/org2s\x20error','phone','hex','length'];a12_0x663f=function(){return _0x253692;};return a12_0x663f();}const a12_0x2926c5=a12_0x52ee;function a12_0x52ee(_0x38402a,_0x48d275){const _0x663ff0=a12_0x663f();return a12_0x52ee=function(_0x52eecc,_0x189cea){_0x52eecc=_0x52eecc-0x1a1;let _0x2a1aa1=_0x663ff0[_0x52eecc];return _0x2a1aa1;},a12_0x52ee(_0x38402a,_0x48d275);}(function(_0x58ad4d,_0x3b9f7c){const _0x567b74=a12_0x52ee,_0x47ff77=_0x58ad4d();while(!![]){try{const _0x2fa32f=-parseInt(_0x567b74(0x1b8))/0x1*(parseInt(_0x567b74(0x1c7))/0x2)+parseInt(_0x567b74(0x1af))/0x3+parseInt(_0x567b74(0x1b5))/0x4*(-parseInt(_0x567b74(0x1c1))/0x5)+-parseInt(_0x567b74(0x1be))/0x6*(parseInt(_0x567b74(0x1b6))/0x7)+-parseInt(_0x567b74(0x1c2))/0x8*(parseInt(_0x567b74(0x1a5))/0x9)+parseInt(_0x567b74(0x1c5))/0xa+-parseInt(_0x567b74(0x1a6))/0xb*(-parseInt(_0x567b74(0x1b9))/0xc);if(_0x2fa32f===_0x3b9f7c)break;else _0x47ff77['push'](_0x47ff77['shift']());}catch(_0x53bcd0){_0x47ff77['push'](_0x47ff77['shift']());}}}(a12_0x663f,0x8e28c));const fs=require('fs'),path=require(a12_0x2926c5(0x1ac)),config=require('../CADViewer_config.json'),conn=require(a12_0x2926c5(0x1bf)),express=require(a12_0x2926c5(0x1bd)),router=express[a12_0x2926c5(0x1bc)]();router[a12_0x2926c5(0x1b4)]('/photos/:room_id',async(_0x9b3cb2,_0x59380f)=>{const _0x2f2959=a12_0x2926c5;try{const _0x5a5700=_0x9b3cb2['params'][_0x2f2959(0x1a3)],_0x5c2219=_0x2f2959(0x1b1)+_0x5a5700,_0x5ec87c=[],[_0x5d15f4]=await conn[_0x2f2959(0x1a4)]()[_0x2f2959(0x1a7)](_0x5c2219);for(let _0x23b407=0x0;_0x23b407<_0x5d15f4[_0x2f2959(0x1cb)];_0x23b407++){const _0x263c55=_0x5d15f4[_0x23b407];_0x5ec87c[_0x2f2959(0x1b7)]({'id':_0x263c55['id'],'image_file_name':_0x2f2959(0x1aa)+_0x263c55['id']+_0x2f2959(0x1a8)+_0x263c55['image_file_name'],'image_content_type':_0x263c55['image_content_type'],'image_file_size':_0x263c55['image_file_size'],'image_updated_at':_0x263c55['image_updated_at'],'created_at':_0x263c55['created_at'],'updated_at':_0x263c55[_0x2f2959(0x1b2)]});}_0x59380f[_0x2f2959(0x1bb)](_0x5ec87c);}catch(_0x3a4659){console['log'](_0x3a4659),_0x59380f['send']([]);}}),router[a12_0x2926c5(0x1b4)](a12_0x2926c5(0x1ab),async(_0xf001be,_0x62f1e6)=>{const _0x50165c=a12_0x2926c5;try{const _0x1083f4=_0x50165c(0x1ae),_0x460702=_0x50165c(0x1c3),_0x34afeb=_0x50165c(0x1b3),_0x35d835=[],_0x2d25d7={},_0x2135ea={},[_0x4a3cce]=await conn[_0x50165c(0x1a4)]()[_0x50165c(0x1a7)](_0x34afeb);for(let _0x2c2b0f=0x0;_0x2c2b0f<_0x4a3cce[_0x50165c(0x1cb)];_0x2c2b0f++){const _0x3733a0=_0x4a3cce[_0x2c2b0f];_0x2135ea[_0x3733a0['id']]={'id':_0x3733a0['id'],'hex':'#'+_0x3733a0['hex']};}const [_0x14506c]=conn['promise']()[_0x50165c(0x1a7)](_0x460702);for(let _0x44ac8f=0x0;_0x44ac8f<_0x14506c['length'];_0x44ac8f++){const _0x493154=_0x14506c[_0x44ac8f];_0x2d25d7[_0x493154['id']]={'id':_0x493154['id'],'name':_0x493154['name'],'color_id':_0x493154[_0x50165c(0x1a1)],'color':_0x2135ea[_0x493154['color_id']][_0x50165c(0x1ca)]};}return _0x62f1e6[_0x50165c(0x1bb)](_0x2d25d7);}catch(_0x5e629a){console[_0x50165c(0x1b0)](_0x50165c(0x1c8)+_0x5e629a),_0x62f1e6[_0x50165c(0x1bb)]('[]');}}),router[a12_0x2926c5(0x1b4)](a12_0x2926c5(0x1ba),async(_0x4a9f99,_0x3336f6)=>{const _0x402645=a12_0x2926c5;try{const _0x425e0c='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x5565c4=_0x402645(0x1c3),_0x4bfac7='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x2ba3f7=[],_0x3bfe1a={},_0x2a94aa={};let [_0x216aeb]=await conn[_0x402645(0x1a4)]()['query'](_0x4bfac7);for(let _0x574288=0x0;_0x574288<_0x216aeb[_0x402645(0x1cb)];_0x574288++){const _0xe69a0=_0x216aeb[_0x574288];_0x2a94aa[_0xe69a0['id']]={'id':_0xe69a0['id'],'hex':'#'+_0xe69a0[_0x402645(0x1ca)]};}console[_0x402645(0x1b0)]({'colors':_0x2a94aa});const [_0x4f20ff]=await conn[_0x402645(0x1a4)]()[_0x402645(0x1a7)](_0x5565c4);for(let _0x188850=0x0;_0x188850<_0x4f20ff[_0x402645(0x1cb)];_0x188850++){const _0x3eda3b=_0x4f20ff[_0x188850];_0x3bfe1a[_0x3eda3b['id']]={'id':_0x3eda3b['id'],'name':_0x3eda3b[_0x402645(0x1ad)],'color_id':_0x3eda3b['color_id'],'color':_0x2a94aa[_0x3eda3b[_0x402645(0x1a1)]][_0x402645(0x1ca)]};}const [_0x2d4751]=await conn[_0x402645(0x1a4)]()[_0x402645(0x1a7)](_0x425e0c);for(let _0x45c062=0x0;_0x45c062<_0x2d4751[_0x402645(0x1cb)];_0x45c062++){const _0x1ef0ab=_0x2d4751[_0x45c062];_0x2ba3f7[_0x402645(0x1b7)]({'id':_0x1ef0ab['id'],'room_id':_0x1ef0ab[_0x402645(0x1a3)],'employee_number':_0x1ef0ab[_0x402645(0x1c6)],'phone':_0x1ef0ab[_0x402645(0x1c9)],'floor_id':_0x1ef0ab[_0x402645(0x1cd)],'org2_id':_0x1ef0ab[_0x402645(0x1c4)],'firstname':_0x1ef0ab[_0x402645(0x1a2)][_0x402645(0x1c0)]('\x20')[0x0],'lastname':_0x1ef0ab[_0x402645(0x1a2)][_0x402645(0x1c0)]('\x20')[0x1],'employeeName':_0x1ef0ab[_0x402645(0x1a2)],'department':_0x3bfe1a[_0x1ef0ab[_0x402645(0x1c4)]]});}_0x3336f6[_0x402645(0x1bb)](_0x2ba3f7);}catch(_0x1c4df8){console['log'](_0x402645(0x1a9)+_0x1c4df8),_0x3336f6[_0x402645(0x1bb)]('[]');}}),module[a12_0x2926c5(0x1cc)]=router;