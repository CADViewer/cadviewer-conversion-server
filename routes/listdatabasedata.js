const a12_0x4cd817=a12_0x2dd1;function a12_0x2dd1(_0x1165f0,_0x281ac9){const _0x34a399=a12_0x34a3();return a12_0x2dd1=function(_0x2dd141,_0x1f1ff7){_0x2dd141=_0x2dd141-0x125;let _0x4839ea=_0x34a399[_0x2dd141];return _0x4839ea;},a12_0x2dd1(_0x1165f0,_0x281ac9);}(function(_0x1acd47,_0x3c20e9){const _0x2ef001=a12_0x2dd1,_0x48237d=_0x1acd47();while(!![]){try{const _0x8928ed=parseInt(_0x2ef001(0x138))/0x1*(parseInt(_0x2ef001(0x132))/0x2)+parseInt(_0x2ef001(0x13c))/0x3*(parseInt(_0x2ef001(0x14a))/0x4)+parseInt(_0x2ef001(0x127))/0x5*(parseInt(_0x2ef001(0x12c))/0x6)+parseInt(_0x2ef001(0x12b))/0x7*(parseInt(_0x2ef001(0x129))/0x8)+-parseInt(_0x2ef001(0x12e))/0x9+parseInt(_0x2ef001(0x12f))/0xa+-parseInt(_0x2ef001(0x140))/0xb;if(_0x8928ed===_0x3c20e9)break;else _0x48237d['push'](_0x48237d['shift']());}catch(_0x2a1d15){_0x48237d['push'](_0x48237d['shift']());}}}(a12_0x34a3,0x46cbd));const fs=require('fs'),path=require(a12_0x4cd817(0x142)),config=require(a12_0x4cd817(0x14f)),conn=require('../libs/mysql.js'),express=require(a12_0x4cd817(0x144)),router=express[a12_0x4cd817(0x133)]();router['get'](a12_0x4cd817(0x128),async(_0x1a13ff,_0x1820c9)=>{const _0x41eeb5=a12_0x4cd817;try{const _0x4dc262=_0x1a13ff[_0x41eeb5(0x147)][_0x41eeb5(0x14b)],_0x3ed69d=_0x41eeb5(0x149)+_0x4dc262,_0x19ebd0=[],[_0x5402c7]=await conn[_0x41eeb5(0x13b)]()['query'](_0x3ed69d);for(let _0x529acf=0x0;_0x529acf<_0x5402c7[_0x41eeb5(0x14d)];_0x529acf++){const _0x456370=_0x5402c7[_0x529acf];_0x19ebd0[_0x41eeb5(0x150)]({'id':_0x456370['id'],'image_file_name':'/photos/'+_0x456370['id']+_0x41eeb5(0x13d)+_0x456370['image_file_name'],'image_content_type':_0x456370[_0x41eeb5(0x145)],'image_file_size':_0x456370[_0x41eeb5(0x134)],'image_updated_at':_0x456370[_0x41eeb5(0x143)],'created_at':_0x456370['created_at'],'updated_at':_0x456370[_0x41eeb5(0x146)]});}_0x1820c9[_0x41eeb5(0x137)](_0x19ebd0);}catch(_0x3180dc){console[_0x41eeb5(0x12a)](_0x3180dc),_0x1820c9[_0x41eeb5(0x137)]([]);}}),router[a12_0x4cd817(0x141)]('/org2s',async(_0x8ea397,_0x5c5184)=>{const _0x117021=a12_0x4cd817;try{const _0x385989=_0x117021(0x139),_0x2a6352='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x5df8be=_0x117021(0x130),_0xd4ed47=[],_0xb7a92b={},_0x26a217={},[_0xda5685]=await conn[_0x117021(0x13b)]()['query'](_0x5df8be);for(let _0x5b8a91=0x0;_0x5b8a91<_0xda5685['length'];_0x5b8a91++){const _0x47f92d=_0xda5685[_0x5b8a91];_0x26a217[_0x47f92d['id']]={'id':_0x47f92d['id'],'hex':'#'+_0x47f92d[_0x117021(0x151)]};}const [_0x5e62db]=conn[_0x117021(0x13b)]()[_0x117021(0x13e)](_0x2a6352);for(let _0x52e32e=0x0;_0x52e32e<_0x5e62db[_0x117021(0x14d)];_0x52e32e++){const _0x230205=_0x5e62db[_0x52e32e];_0xb7a92b[_0x230205['id']]={'id':_0x230205['id'],'name':_0x230205[_0x117021(0x12d)],'color_id':_0x230205[_0x117021(0x13a)],'color':_0x26a217[_0x230205[_0x117021(0x13a)]][_0x117021(0x151)]};}return _0x5c5184['send'](_0xb7a92b);}catch(_0x3f495f){console['log'](_0x117021(0x14c)+_0x3f495f),_0x5c5184[_0x117021(0x137)]('[]');}}),router[a12_0x4cd817(0x141)](a12_0x4cd817(0x14e),async(_0x733750,_0x425129)=>{const _0x35cf5f=a12_0x4cd817;try{const _0x4abdfb=_0x35cf5f(0x139),_0x5ed177='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x50c0c=_0x35cf5f(0x130),_0x1ae2e7=[],_0x46df48={},_0x4138c5={};let [_0x680ef6]=await conn['promise']()[_0x35cf5f(0x13e)](_0x50c0c);for(let _0x264c40=0x0;_0x264c40<_0x680ef6[_0x35cf5f(0x14d)];_0x264c40++){const _0x234dba=_0x680ef6[_0x264c40];_0x4138c5[_0x234dba['id']]={'id':_0x234dba['id'],'hex':'#'+_0x234dba[_0x35cf5f(0x151)]};}console[_0x35cf5f(0x12a)]({'colors':_0x4138c5});const [_0x556353]=await conn[_0x35cf5f(0x13b)]()[_0x35cf5f(0x13e)](_0x5ed177);for(let _0x51b033=0x0;_0x51b033<_0x556353[_0x35cf5f(0x14d)];_0x51b033++){const _0x18fd62=_0x556353[_0x51b033];_0x46df48[_0x18fd62['id']]={'id':_0x18fd62['id'],'name':_0x18fd62[_0x35cf5f(0x12d)],'color_id':_0x18fd62[_0x35cf5f(0x13a)],'color':_0x4138c5[_0x18fd62['color_id']]['hex']};}const [_0x13de34]=await conn[_0x35cf5f(0x13b)]()[_0x35cf5f(0x13e)](_0x4abdfb);for(let _0x46e685=0x0;_0x46e685<_0x13de34[_0x35cf5f(0x14d)];_0x46e685++){const _0x494a1f=_0x13de34[_0x46e685];_0x1ae2e7[_0x35cf5f(0x150)]({'id':_0x494a1f['id'],'room_id':_0x494a1f['room_id'],'employee_number':_0x494a1f[_0x35cf5f(0x126)],'phone':_0x494a1f[_0x35cf5f(0x131)],'floor_id':_0x494a1f[_0x35cf5f(0x135)],'org2_id':_0x494a1f[_0x35cf5f(0x125)],'firstname':_0x494a1f['employeeName'][_0x35cf5f(0x148)]('\x20')[0x0],'lastname':_0x494a1f['employeeName']['split']('\x20')[0x1],'employeeName':_0x494a1f[_0x35cf5f(0x13f)],'department':_0x46df48[_0x494a1f[_0x35cf5f(0x125)]]});}_0x425129[_0x35cf5f(0x137)](_0x1ae2e7);}catch(_0x34e213){console[_0x35cf5f(0x12a)](_0x35cf5f(0x136)+_0x34e213),_0x425129[_0x35cf5f(0x137)]('[]');}}),module['exports']=router;function a12_0x34a3(){const _0x477400=['path','image_updated_at','express','image_content_type','updated_at','params','split','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','108548HTIMkS','room_id','DB\x20/org2s\x20error','length','/employees','../CADViewer_config.json','push','hex','org2_id','employee_number','576545SMgBbq','/photos/:room_id','7960Lpyfwe','log','3731bFtVVg','12jSJJhn','name','1037754dCCdDp','5033640gIYYUj','SELECT\x20id,\x20hex\x20FROM\x20colors','phone','12aiBteq','Router','image_file_size','floor_id','DB\x20/employees\x20error','send','28841dlMJvG','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','color_id','promise','51wdKpZM','/original/','query','employeeName','16427455fTkNFv','get'];a12_0x34a3=function(){return _0x477400;};return a12_0x34a3();}