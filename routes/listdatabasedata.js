function a12_0x355f(_0x45de6e,_0x13739d){const _0x30912d=a12_0x3091();return a12_0x355f=function(_0x355f93,_0x3dadb9){_0x355f93=_0x355f93-0x15d;let _0x3e496c=_0x30912d[_0x355f93];return _0x3e496c;},a12_0x355f(_0x45de6e,_0x13739d);}const a12_0x40a129=a12_0x355f;function a12_0x3091(){const _0x20da53=['Router','620400CMajgG','length','/original/','name','DB\x20/org2s\x20error','updated_at','express','2759155CpAzhh','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','split','log','phone','2078685KsYJsn','color_id','push','DB\x20/employees\x20error','employee_number','image_updated_at','/photos/','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','229199pbbaby','/employees','org2_id','query','created_at','room_id','get','2121570NGJoir','SELECT\x20id,\x20hex\x20FROM\x20colors','promise','image_file_size','/photos/:room_id','hex','289383JVteKD','2qrrrOX','employeeName','image_content_type','1862628NGdPec','8LNezsR','send'];a12_0x3091=function(){return _0x20da53;};return a12_0x3091();}(function(_0x1ed9d5,_0x41c103){const _0x4fbe0d=a12_0x355f,_0x52568e=_0x1ed9d5();while(!![]){try{const _0x13acea=-parseInt(_0x4fbe0d(0x162))/0x1+-parseInt(_0x4fbe0d(0x170))/0x2*(parseInt(_0x4fbe0d(0x16f))/0x3)+parseInt(_0x4fbe0d(0x173))/0x4+-parseInt(_0x4fbe0d(0x169))/0x5+-parseInt(_0x4fbe0d(0x177))/0x6+-parseInt(_0x4fbe0d(0x17e))/0x7*(-parseInt(_0x4fbe0d(0x174))/0x8)+parseInt(_0x4fbe0d(0x183))/0x9;if(_0x13acea===_0x41c103)break;else _0x52568e['push'](_0x52568e['shift']());}catch(_0x527705){_0x52568e['push'](_0x52568e['shift']());}}}(a12_0x3091,0x39f65));const fs=require('fs'),path=require('path'),config=require('../CADViewer_config.json'),conn=require('../libs/mysql.js'),express=require(a12_0x40a129(0x17d)),router=express[a12_0x40a129(0x176)]();router[a12_0x40a129(0x168)](a12_0x40a129(0x16d),async(_0x988890,_0x1ed8b2)=>{const _0x17114c=a12_0x40a129;try{const _0x362357=_0x988890['params'][_0x17114c(0x167)],_0x60a427='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x362357,_0x2f317c=[],[_0x360fd0]=await conn[_0x17114c(0x16b)]()[_0x17114c(0x165)](_0x60a427);for(let _0x345ade=0x0;_0x345ade<_0x360fd0[_0x17114c(0x178)];_0x345ade++){const _0x202ba8=_0x360fd0[_0x345ade];_0x2f317c[_0x17114c(0x185)]({'id':_0x202ba8['id'],'image_file_name':_0x17114c(0x160)+_0x202ba8['id']+_0x17114c(0x179)+_0x202ba8['image_file_name'],'image_content_type':_0x202ba8[_0x17114c(0x172)],'image_file_size':_0x202ba8[_0x17114c(0x16c)],'image_updated_at':_0x202ba8[_0x17114c(0x15f)],'created_at':_0x202ba8[_0x17114c(0x166)],'updated_at':_0x202ba8[_0x17114c(0x17c)]});}_0x1ed8b2[_0x17114c(0x175)](_0x2f317c);}catch(_0x44b553){console[_0x17114c(0x181)](_0x44b553),_0x1ed8b2[_0x17114c(0x175)]([]);}}),router[a12_0x40a129(0x168)]('/org2s',async(_0x75c041,_0x167b9a)=>{const _0xf18a5b=a12_0x40a129;try{const _0xc70ac8=_0xf18a5b(0x17f),_0x6bf9b7=_0xf18a5b(0x161),_0x221aaa='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x5bd412=[],_0x298d02={},_0x2e0fc9={},[_0x441a07]=await conn[_0xf18a5b(0x16b)]()[_0xf18a5b(0x165)](_0x221aaa);for(let _0x3691e7=0x0;_0x3691e7<_0x441a07['length'];_0x3691e7++){const _0xf40400=_0x441a07[_0x3691e7];_0x2e0fc9[_0xf40400['id']]={'id':_0xf40400['id'],'hex':'#'+_0xf40400[_0xf18a5b(0x16e)]};}const [_0x5371a4]=conn[_0xf18a5b(0x16b)]()[_0xf18a5b(0x165)](_0x6bf9b7);for(let _0x511f02=0x0;_0x511f02<_0x5371a4['length'];_0x511f02++){const _0x2397f4=_0x5371a4[_0x511f02];_0x298d02[_0x2397f4['id']]={'id':_0x2397f4['id'],'name':_0x2397f4[_0xf18a5b(0x17a)],'color_id':_0x2397f4[_0xf18a5b(0x184)],'color':_0x2e0fc9[_0x2397f4[_0xf18a5b(0x184)]]['hex']};}return _0x167b9a['send'](_0x298d02);}catch(_0x14d0df){console[_0xf18a5b(0x181)](_0xf18a5b(0x17b)+_0x14d0df),_0x167b9a['send']('[]');}}),router[a12_0x40a129(0x168)](a12_0x40a129(0x163),async(_0x3b6fe8,_0x5df2bd)=>{const _0x54a322=a12_0x40a129;try{const _0x20eb6f=_0x54a322(0x17f),_0x461d64=_0x54a322(0x161),_0x3bb18f=_0x54a322(0x16a),_0xc9d5be=[],_0x39ee94={},_0x5df51e={};let [_0x31cdcd]=await conn[_0x54a322(0x16b)]()[_0x54a322(0x165)](_0x3bb18f);for(let _0x4ec301=0x0;_0x4ec301<_0x31cdcd['length'];_0x4ec301++){const _0xe2c2ee=_0x31cdcd[_0x4ec301];_0x5df51e[_0xe2c2ee['id']]={'id':_0xe2c2ee['id'],'hex':'#'+_0xe2c2ee[_0x54a322(0x16e)]};}console[_0x54a322(0x181)]({'colors':_0x5df51e});const [_0x358356]=await conn['promise']()[_0x54a322(0x165)](_0x461d64);for(let _0x59d3ec=0x0;_0x59d3ec<_0x358356[_0x54a322(0x178)];_0x59d3ec++){const _0x3969ae=_0x358356[_0x59d3ec];_0x39ee94[_0x3969ae['id']]={'id':_0x3969ae['id'],'name':_0x3969ae['name'],'color_id':_0x3969ae[_0x54a322(0x184)],'color':_0x5df51e[_0x3969ae[_0x54a322(0x184)]][_0x54a322(0x16e)]};}const [_0x58150b]=await conn[_0x54a322(0x16b)]()[_0x54a322(0x165)](_0x20eb6f);for(let _0x1599ac=0x0;_0x1599ac<_0x58150b['length'];_0x1599ac++){const _0x4f3e3c=_0x58150b[_0x1599ac];_0xc9d5be[_0x54a322(0x185)]({'id':_0x4f3e3c['id'],'room_id':_0x4f3e3c[_0x54a322(0x167)],'employee_number':_0x4f3e3c[_0x54a322(0x15e)],'phone':_0x4f3e3c[_0x54a322(0x182)],'floor_id':_0x4f3e3c['floor_id'],'org2_id':_0x4f3e3c[_0x54a322(0x164)],'firstname':_0x4f3e3c['employeeName'][_0x54a322(0x180)]('\x20')[0x0],'lastname':_0x4f3e3c['employeeName']['split']('\x20')[0x1],'employeeName':_0x4f3e3c[_0x54a322(0x171)],'department':_0x39ee94[_0x4f3e3c[_0x54a322(0x164)]]});}_0x5df2bd[_0x54a322(0x175)](_0xc9d5be);}catch(_0x185b58){console[_0x54a322(0x181)](_0x54a322(0x15d)+_0x185b58),_0x5df2bd['send']('[]');}}),module['exports']=router;