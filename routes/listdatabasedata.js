function a12_0x1f70(_0x8391b2,_0x55051d){const _0x4af9b2=a12_0x4af9();return a12_0x1f70=function(_0x1f7086,_0x35acf3){_0x1f7086=_0x1f7086-0x125;let _0x128629=_0x4af9b2[_0x1f7086];return _0x128629;},a12_0x1f70(_0x8391b2,_0x55051d);}const a12_0x43e29e=a12_0x1f70;(function(_0x38e179,_0x5cdb54){const _0x344224=a12_0x1f70,_0x3d6c29=_0x38e179();while(!![]){try{const _0x4ea8bd=parseInt(_0x344224(0x144))/0x1+parseInt(_0x344224(0x133))/0x2+parseInt(_0x344224(0x13d))/0x3+-parseInt(_0x344224(0x135))/0x4*(parseInt(_0x344224(0x137))/0x5)+-parseInt(_0x344224(0x12e))/0x6*(-parseInt(_0x344224(0x13c))/0x7)+-parseInt(_0x344224(0x134))/0x8+parseInt(_0x344224(0x145))/0x9*(parseInt(_0x344224(0x139))/0xa);if(_0x4ea8bd===_0x5cdb54)break;else _0x3d6c29['push'](_0x3d6c29['shift']());}catch(_0x2a3584){_0x3d6c29['push'](_0x3d6c29['shift']());}}}(a12_0x4af9,0x752b0));const fs=require('fs'),path=require('path'),config=require('../CADViewer_config.json'),conn=require('../libs/mysql.js'),express=require(a12_0x43e29e(0x130)),router=express['Router']();router[a12_0x43e29e(0x12a)](a12_0x43e29e(0x146),async(_0x3c5c27,_0x2c7015)=>{const _0x1325ac=a12_0x43e29e;try{const _0x242fd2=_0x3c5c27['params'][_0x1325ac(0x148)],_0x2b34af=_0x1325ac(0x125)+_0x242fd2,_0x3a5912=[],[_0x14ff6c]=await conn[_0x1325ac(0x129)]()[_0x1325ac(0x12c)](_0x2b34af);for(let _0x511929=0x0;_0x511929<_0x14ff6c[_0x1325ac(0x12f)];_0x511929++){const _0x1d4389=_0x14ff6c[_0x511929];_0x3a5912[_0x1325ac(0x12b)]({'id':_0x1d4389['id'],'image_file_name':_0x1325ac(0x14c)+_0x1d4389['id']+'/original/'+_0x1d4389[_0x1325ac(0x13f)],'image_content_type':_0x1d4389[_0x1325ac(0x149)],'image_file_size':_0x1d4389[_0x1325ac(0x140)],'image_updated_at':_0x1d4389[_0x1325ac(0x126)],'created_at':_0x1d4389[_0x1325ac(0x147)],'updated_at':_0x1d4389['updated_at']});}_0x2c7015[_0x1325ac(0x132)](_0x3a5912);}catch(_0x420a79){console[_0x1325ac(0x14b)](_0x420a79),_0x2c7015[_0x1325ac(0x132)]([]);}}),router[a12_0x43e29e(0x12a)](a12_0x43e29e(0x127),async(_0x25e7a8,_0x132361)=>{const _0x4d0fab=a12_0x43e29e;try{const _0x33c95c=_0x4d0fab(0x142),_0x506c3d=_0x4d0fab(0x131),_0x2609f9=_0x4d0fab(0x136),_0x4cbfbb=[],_0x1a8ce4={},_0x2a90a7={},[_0x1d13a6]=await conn[_0x4d0fab(0x129)]()[_0x4d0fab(0x12c)](_0x2609f9);for(let _0x1d21e2=0x0;_0x1d21e2<_0x1d13a6[_0x4d0fab(0x12f)];_0x1d21e2++){const _0x576c0b=_0x1d13a6[_0x1d21e2];_0x2a90a7[_0x576c0b['id']]={'id':_0x576c0b['id'],'hex':'#'+_0x576c0b[_0x4d0fab(0x13b)]};}const [_0x169798]=conn[_0x4d0fab(0x129)]()[_0x4d0fab(0x12c)](_0x506c3d);for(let _0x14d5ae=0x0;_0x14d5ae<_0x169798[_0x4d0fab(0x12f)];_0x14d5ae++){const _0xb2977e=_0x169798[_0x14d5ae];_0x1a8ce4[_0xb2977e['id']]={'id':_0xb2977e['id'],'name':_0xb2977e[_0x4d0fab(0x13e)],'color_id':_0xb2977e[_0x4d0fab(0x14a)],'color':_0x2a90a7[_0xb2977e[_0x4d0fab(0x14a)]][_0x4d0fab(0x13b)]};}return _0x132361[_0x4d0fab(0x132)](_0x1a8ce4);}catch(_0x17ef40){console[_0x4d0fab(0x14b)]('DB\x20/org2s\x20error'+_0x17ef40),_0x132361[_0x4d0fab(0x132)]('[]');}}),router[a12_0x43e29e(0x12a)]('/employees',async(_0x359230,_0x5002e7)=>{const _0x2b7a3d=a12_0x43e29e;try{const _0x3c013b=_0x2b7a3d(0x142),_0x3e59e6=_0x2b7a3d(0x131),_0x2d3203=_0x2b7a3d(0x136),_0x176693=[],_0x456bed={},_0x1f1ad8={};let [_0x34d1f5]=await conn[_0x2b7a3d(0x129)]()[_0x2b7a3d(0x12c)](_0x2d3203);for(let _0x16b124=0x0;_0x16b124<_0x34d1f5['length'];_0x16b124++){const _0x14e010=_0x34d1f5[_0x16b124];_0x1f1ad8[_0x14e010['id']]={'id':_0x14e010['id'],'hex':'#'+_0x14e010['hex']};}console['log']({'colors':_0x1f1ad8});const [_0x395a2a]=await conn['promise']()[_0x2b7a3d(0x12c)](_0x3e59e6);for(let _0x3dd624=0x0;_0x3dd624<_0x395a2a['length'];_0x3dd624++){const _0x387a12=_0x395a2a[_0x3dd624];_0x456bed[_0x387a12['id']]={'id':_0x387a12['id'],'name':_0x387a12[_0x2b7a3d(0x13e)],'color_id':_0x387a12[_0x2b7a3d(0x14a)],'color':_0x1f1ad8[_0x387a12['color_id']][_0x2b7a3d(0x13b)]};}const [_0x324e84]=await conn['promise']()[_0x2b7a3d(0x12c)](_0x3c013b);for(let _0xd35c9c=0x0;_0xd35c9c<_0x324e84['length'];_0xd35c9c++){const _0x4079bf=_0x324e84[_0xd35c9c];_0x176693['push']({'id':_0x4079bf['id'],'room_id':_0x4079bf[_0x2b7a3d(0x148)],'employee_number':_0x4079bf[_0x2b7a3d(0x12d)],'phone':_0x4079bf[_0x2b7a3d(0x128)],'floor_id':_0x4079bf[_0x2b7a3d(0x141)],'org2_id':_0x4079bf['org2_id'],'firstname':_0x4079bf[_0x2b7a3d(0x138)]['split']('\x20')[0x0],'lastname':_0x4079bf[_0x2b7a3d(0x138)][_0x2b7a3d(0x13a)]('\x20')[0x1],'employeeName':_0x4079bf['employeeName'],'department':_0x456bed[_0x4079bf['org2_id']]});}_0x5002e7[_0x2b7a3d(0x132)](_0x176693);}catch(_0x4634fd){console[_0x2b7a3d(0x14b)]('DB\x20/employees\x20error'+_0x4634fd),_0x5002e7[_0x2b7a3d(0x132)]('[]');}}),module[a12_0x43e29e(0x143)]=router;function a12_0x4af9(){const _0x2dcbdc=['SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','image_updated_at','/org2s','phone','promise','get','push','query','employee_number','6oMXtrp','length','express','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','send','1521294NBUbFx','5318352VXewck','251300gPtXEs','SELECT\x20id,\x20hex\x20FROM\x20colors','55xBAEnz','employeeName','23120PIvWJt','split','hex','2002749EeIcAu','1031550vjlKWX','name','image_file_name','image_file_size','floor_id','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','exports','163121EbXAFY','1098ObTOhI','/photos/:room_id','created_at','room_id','image_content_type','color_id','log','/photos/'];a12_0x4af9=function(){return _0x2dcbdc;};return a12_0x4af9();}