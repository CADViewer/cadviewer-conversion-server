function a12_0x5690(_0x49ab08,_0x3b6c10){const _0x53c62f=a12_0x53c6();return a12_0x5690=function(_0x569058,_0x2a44df){_0x569058=_0x569058-0xc0;let _0x38afc9=_0x53c62f[_0x569058];return _0x38afc9;},a12_0x5690(_0x49ab08,_0x3b6c10);}const a12_0x27c43a=a12_0x5690;(function(_0x311553,_0x935d59){const _0x3cbe87=a12_0x5690,_0x4f0b55=_0x311553();while(!![]){try{const _0x20ebf6=-parseInt(_0x3cbe87(0xda))/0x1*(-parseInt(_0x3cbe87(0xd5))/0x2)+parseInt(_0x3cbe87(0xe8))/0x3*(-parseInt(_0x3cbe87(0xc0))/0x4)+parseInt(_0x3cbe87(0xd7))/0x5*(-parseInt(_0x3cbe87(0xce))/0x6)+parseInt(_0x3cbe87(0xe4))/0x7+parseInt(_0x3cbe87(0xd8))/0x8+-parseInt(_0x3cbe87(0xe6))/0x9*(-parseInt(_0x3cbe87(0xcd))/0xa)+-parseInt(_0x3cbe87(0xc7))/0xb*(parseInt(_0x3cbe87(0xca))/0xc);if(_0x20ebf6===_0x935d59)break;else _0x4f0b55['push'](_0x4f0b55['shift']());}catch(_0x19a016){_0x4f0b55['push'](_0x4f0b55['shift']());}}}(a12_0x53c6,0x82f9d));function a12_0x53c6(){const _0x7e120e=['648bLfHLU','get','3017997COzjPF','employee_number','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','image_content_type','send','DB\x20/org2s\x20error','log','4vNMcnP','promise','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','query','../libs/mysql.js','created_at','DB\x20/employees\x20error','1045VVyfKk','push','org2_id','6660JceHVU','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','length','70690erHPBS','797136PYDKWy','name','exports','hex','room_id','image_file_size','../CADViewer_config.json','20122XOcvOT','employeeName','40vFQoUP','6797640wDoKNU','params','56FDWReo','/org2s','SELECT\x20id,\x20hex\x20FROM\x20colors','image_updated_at','/employees','/original/','color_id','express','path','split','5151720TCpksQ','phone'];a12_0x53c6=function(){return _0x7e120e;};return a12_0x53c6();}const fs=require('fs'),path=require(a12_0x27c43a(0xe2)),config=require(a12_0x27c43a(0xd4)),conn=require(a12_0x27c43a(0xc4)),express=require(a12_0x27c43a(0xe1)),router=express['Router']();router[a12_0x27c43a(0xe7)]('/photos/:room_id',async(_0xe04fa5,_0x37e768)=>{const _0x2d5828=a12_0x27c43a;try{const _0x483c88=_0xe04fa5[_0x2d5828(0xd9)][_0x2d5828(0xd2)],_0x14cf34=_0x2d5828(0xea)+_0x483c88,_0x44cb9b=[],[_0x293833]=await conn[_0x2d5828(0xc1)]()[_0x2d5828(0xc3)](_0x14cf34);for(let _0x28277e=0x0;_0x28277e<_0x293833[_0x2d5828(0xcc)];_0x28277e++){const _0x305750=_0x293833[_0x28277e];_0x44cb9b[_0x2d5828(0xc8)]({'id':_0x305750['id'],'image_file_name':'/photos/'+_0x305750['id']+_0x2d5828(0xdf)+_0x305750['image_file_name'],'image_content_type':_0x305750[_0x2d5828(0xeb)],'image_file_size':_0x305750[_0x2d5828(0xd3)],'image_updated_at':_0x305750[_0x2d5828(0xdd)],'created_at':_0x305750[_0x2d5828(0xc5)],'updated_at':_0x305750['updated_at']});}_0x37e768['send'](_0x44cb9b);}catch(_0x13b8ab){console[_0x2d5828(0xee)](_0x13b8ab),_0x37e768[_0x2d5828(0xec)]([]);}}),router[a12_0x27c43a(0xe7)](a12_0x27c43a(0xdb),async(_0x428dd9,_0x455afb)=>{const _0x285ab=a12_0x27c43a;try{const _0xa4a582=_0x285ab(0xcb),_0xda61e7=_0x285ab(0xc2),_0x52996f=_0x285ab(0xdc),_0x2fd6dc=[],_0x14db8c={},_0x33ba64={},[_0xf09fe1]=await conn[_0x285ab(0xc1)]()['query'](_0x52996f);for(let _0x4a5f93=0x0;_0x4a5f93<_0xf09fe1[_0x285ab(0xcc)];_0x4a5f93++){const _0xb3b3b6=_0xf09fe1[_0x4a5f93];_0x33ba64[_0xb3b3b6['id']]={'id':_0xb3b3b6['id'],'hex':'#'+_0xb3b3b6[_0x285ab(0xd1)]};}const [_0x5e2db6]=conn[_0x285ab(0xc1)]()[_0x285ab(0xc3)](_0xda61e7);for(let _0x57bd86=0x0;_0x57bd86<_0x5e2db6[_0x285ab(0xcc)];_0x57bd86++){const _0x37430b=_0x5e2db6[_0x57bd86];_0x14db8c[_0x37430b['id']]={'id':_0x37430b['id'],'name':_0x37430b[_0x285ab(0xcf)],'color_id':_0x37430b[_0x285ab(0xe0)],'color':_0x33ba64[_0x37430b['color_id']][_0x285ab(0xd1)]};}return _0x455afb['send'](_0x14db8c);}catch(_0x5326a9){console[_0x285ab(0xee)](_0x285ab(0xed)+_0x5326a9),_0x455afb['send']('[]');}}),router[a12_0x27c43a(0xe7)](a12_0x27c43a(0xde),async(_0x3cc77c,_0xdd5e1f)=>{const _0x3b99ab=a12_0x27c43a;try{const _0x17c324=_0x3b99ab(0xcb),_0x3953f2=_0x3b99ab(0xc2),_0x390795=_0x3b99ab(0xdc),_0x4b1f97=[],_0x271e43={},_0x4ed6ba={};let [_0x2427f3]=await conn['promise']()[_0x3b99ab(0xc3)](_0x390795);for(let _0x44b28e=0x0;_0x44b28e<_0x2427f3['length'];_0x44b28e++){const _0x460610=_0x2427f3[_0x44b28e];_0x4ed6ba[_0x460610['id']]={'id':_0x460610['id'],'hex':'#'+_0x460610[_0x3b99ab(0xd1)]};}console[_0x3b99ab(0xee)]({'colors':_0x4ed6ba});const [_0x29476d]=await conn[_0x3b99ab(0xc1)]()['query'](_0x3953f2);for(let _0x30370b=0x0;_0x30370b<_0x29476d[_0x3b99ab(0xcc)];_0x30370b++){const _0x535939=_0x29476d[_0x30370b];_0x271e43[_0x535939['id']]={'id':_0x535939['id'],'name':_0x535939[_0x3b99ab(0xcf)],'color_id':_0x535939[_0x3b99ab(0xe0)],'color':_0x4ed6ba[_0x535939[_0x3b99ab(0xe0)]][_0x3b99ab(0xd1)]};}const [_0x256a57]=await conn[_0x3b99ab(0xc1)]()['query'](_0x17c324);for(let _0x26cb51=0x0;_0x26cb51<_0x256a57[_0x3b99ab(0xcc)];_0x26cb51++){const _0x44e483=_0x256a57[_0x26cb51];_0x4b1f97[_0x3b99ab(0xc8)]({'id':_0x44e483['id'],'room_id':_0x44e483['room_id'],'employee_number':_0x44e483[_0x3b99ab(0xe9)],'phone':_0x44e483[_0x3b99ab(0xe5)],'floor_id':_0x44e483['floor_id'],'org2_id':_0x44e483[_0x3b99ab(0xc9)],'firstname':_0x44e483['employeeName'][_0x3b99ab(0xe3)]('\x20')[0x0],'lastname':_0x44e483[_0x3b99ab(0xd6)][_0x3b99ab(0xe3)]('\x20')[0x1],'employeeName':_0x44e483['employeeName'],'department':_0x271e43[_0x44e483[_0x3b99ab(0xc9)]]});}_0xdd5e1f['send'](_0x4b1f97);}catch(_0x14230a){console[_0x3b99ab(0xee)](_0x3b99ab(0xc6)+_0x14230a),_0xdd5e1f[_0x3b99ab(0xec)]('[]');}}),module[a12_0x27c43a(0xd0)]=router;