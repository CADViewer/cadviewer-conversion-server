const a12_0x407edc=a12_0x5d8c;(function(_0x544437,_0x1b60b1){const _0x457c4b=a12_0x5d8c,_0x4c2234=_0x544437();while(!![]){try{const _0x4b8f5c=parseInt(_0x457c4b(0xb5))/0x1+-parseInt(_0x457c4b(0xa5))/0x2*(-parseInt(_0x457c4b(0x8d))/0x3)+-parseInt(_0x457c4b(0x8e))/0x4+parseInt(_0x457c4b(0xb9))/0x5*(parseInt(_0x457c4b(0x97))/0x6)+parseInt(_0x457c4b(0xb7))/0x7*(-parseInt(_0x457c4b(0x93))/0x8)+-parseInt(_0x457c4b(0x90))/0x9+parseInt(_0x457c4b(0xb3))/0xa;if(_0x4b8f5c===_0x1b60b1)break;else _0x4c2234['push'](_0x4c2234['shift']());}catch(_0x2424d4){_0x4c2234['push'](_0x4c2234['shift']());}}}(a12_0x25df,0xafeae));const fs=require('fs'),path=require(a12_0x407edc(0xa2)),config=require(a12_0x407edc(0xa1)),conn=require(a12_0x407edc(0x99)),express=require(a12_0x407edc(0x96)),router=express[a12_0x407edc(0x92)]();function a12_0x5d8c(_0x21b08e,_0x37e6d0){const _0x25df7f=a12_0x25df();return a12_0x5d8c=function(_0x5d8c5e,_0x243641){_0x5d8c5e=_0x5d8c5e-0x8c;let _0x2cf517=_0x25df7f[_0x5d8c5e];return _0x2cf517;},a12_0x5d8c(_0x21b08e,_0x37e6d0);}function a12_0x25df(){const _0x4ea40d=['DB\x20/employees\x20error','employee_number','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','15577690rhnVRX','updated_at','339413UWqXiL','/photos/:room_id','2629179NzRqjx','/employees','5QKZWOk','split','141UJadgK','4986392ypVDMj','query','4771845fdVqZm','created_at','Router','24YemAjF','get','name','express','6522954McqKEx','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','../libs/mysql.js','exports','org2_id','/original/','hex','room_id','DB\x20/org2s\x20error','phone','../CADViewer_config.json','path','color_id','image_file_size','27226VsaPTg','promise','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','/org2s','log','push','employeeName','length','params','SELECT\x20id,\x20hex\x20FROM\x20colors','send'];a12_0x25df=function(){return _0x4ea40d;};return a12_0x25df();}router[a12_0x407edc(0x94)](a12_0x407edc(0xb6),async(_0x345df1,_0x4b8dfc)=>{const _0x146dfa=a12_0x407edc;try{const _0x4ed855=_0x345df1[_0x146dfa(0xad)][_0x146dfa(0x9e)],_0x227d9d=_0x146dfa(0x98)+_0x4ed855,_0x541365=[],[_0x1d8971]=await conn[_0x146dfa(0xa6)]()['query'](_0x227d9d);for(let _0x4c3c73=0x0;_0x4c3c73<_0x1d8971[_0x146dfa(0xac)];_0x4c3c73++){const _0x57acac=_0x1d8971[_0x4c3c73];_0x541365[_0x146dfa(0xaa)]({'id':_0x57acac['id'],'image_file_name':'/photos/'+_0x57acac['id']+_0x146dfa(0x9c)+_0x57acac['image_file_name'],'image_content_type':_0x57acac['image_content_type'],'image_file_size':_0x57acac[_0x146dfa(0xa4)],'image_updated_at':_0x57acac['image_updated_at'],'created_at':_0x57acac[_0x146dfa(0x91)],'updated_at':_0x57acac[_0x146dfa(0xb4)]});}_0x4b8dfc[_0x146dfa(0xaf)](_0x541365);}catch(_0x33ba58){console[_0x146dfa(0xa9)](_0x33ba58),_0x4b8dfc[_0x146dfa(0xaf)]([]);}}),router[a12_0x407edc(0x94)](a12_0x407edc(0xa8),async(_0xbfe6fc,_0x504c2d)=>{const _0x2a0bcd=a12_0x407edc;try{const _0x3816db=_0x2a0bcd(0xa7),_0x5a44fe=_0x2a0bcd(0xb2),_0x531252=_0x2a0bcd(0xae),_0x2019ec=[],_0x4fec89={},_0x36e3ad={},[_0x503df9]=await conn[_0x2a0bcd(0xa6)]()[_0x2a0bcd(0x8f)](_0x531252);for(let _0xdf110d=0x0;_0xdf110d<_0x503df9[_0x2a0bcd(0xac)];_0xdf110d++){const _0x312bbe=_0x503df9[_0xdf110d];_0x36e3ad[_0x312bbe['id']]={'id':_0x312bbe['id'],'hex':'#'+_0x312bbe[_0x2a0bcd(0x9d)]};}const [_0x4dc318]=conn[_0x2a0bcd(0xa6)]()['query'](_0x5a44fe);for(let _0x2bc375=0x0;_0x2bc375<_0x4dc318['length'];_0x2bc375++){const _0x3dd512=_0x4dc318[_0x2bc375];_0x4fec89[_0x3dd512['id']]={'id':_0x3dd512['id'],'name':_0x3dd512['name'],'color_id':_0x3dd512['color_id'],'color':_0x36e3ad[_0x3dd512[_0x2a0bcd(0xa3)]]['hex']};}return _0x504c2d['send'](_0x4fec89);}catch(_0x48922a){console[_0x2a0bcd(0xa9)](_0x2a0bcd(0x9f)+_0x48922a),_0x504c2d[_0x2a0bcd(0xaf)]('[]');}}),router['get'](a12_0x407edc(0xb8),async(_0x44725c,_0x29597d)=>{const _0x24a0fc=a12_0x407edc;try{const _0x1102eb=_0x24a0fc(0xa7),_0x1d0b22=_0x24a0fc(0xb2),_0x3d98c2=_0x24a0fc(0xae),_0x4dcb8e=[],_0x5d5af0={},_0x1ddc22={};let [_0x21e10d]=await conn[_0x24a0fc(0xa6)]()['query'](_0x3d98c2);for(let _0x3f91a8=0x0;_0x3f91a8<_0x21e10d[_0x24a0fc(0xac)];_0x3f91a8++){const _0x27b1c0=_0x21e10d[_0x3f91a8];_0x1ddc22[_0x27b1c0['id']]={'id':_0x27b1c0['id'],'hex':'#'+_0x27b1c0[_0x24a0fc(0x9d)]};}console['log']({'colors':_0x1ddc22});const [_0x3783ce]=await conn[_0x24a0fc(0xa6)]()['query'](_0x1d0b22);for(let _0x4e3554=0x0;_0x4e3554<_0x3783ce[_0x24a0fc(0xac)];_0x4e3554++){const _0x5ecc6b=_0x3783ce[_0x4e3554];_0x5d5af0[_0x5ecc6b['id']]={'id':_0x5ecc6b['id'],'name':_0x5ecc6b[_0x24a0fc(0x95)],'color_id':_0x5ecc6b[_0x24a0fc(0xa3)],'color':_0x1ddc22[_0x5ecc6b[_0x24a0fc(0xa3)]]['hex']};}const [_0x1bc5ca]=await conn[_0x24a0fc(0xa6)]()[_0x24a0fc(0x8f)](_0x1102eb);for(let _0x57c8ac=0x0;_0x57c8ac<_0x1bc5ca['length'];_0x57c8ac++){const _0x155f00=_0x1bc5ca[_0x57c8ac];_0x4dcb8e[_0x24a0fc(0xaa)]({'id':_0x155f00['id'],'room_id':_0x155f00[_0x24a0fc(0x9e)],'employee_number':_0x155f00[_0x24a0fc(0xb1)],'phone':_0x155f00[_0x24a0fc(0xa0)],'floor_id':_0x155f00['floor_id'],'org2_id':_0x155f00[_0x24a0fc(0x9b)],'firstname':_0x155f00[_0x24a0fc(0xab)][_0x24a0fc(0x8c)]('\x20')[0x0],'lastname':_0x155f00[_0x24a0fc(0xab)]['split']('\x20')[0x1],'employeeName':_0x155f00[_0x24a0fc(0xab)],'department':_0x5d5af0[_0x155f00['org2_id']]});}_0x29597d[_0x24a0fc(0xaf)](_0x4dcb8e);}catch(_0x529416){console[_0x24a0fc(0xa9)](_0x24a0fc(0xb0)+_0x529416),_0x29597d[_0x24a0fc(0xaf)]('[]');}}),module[a12_0x407edc(0x9a)]=router;