const a13_0x4fa2ee=a13_0x5eb8;function a13_0x5eb8(_0xd55c18,_0x6823e7){const _0x46ad57=a13_0x46ad();return a13_0x5eb8=function(_0x5eb83a,_0x2b4602){_0x5eb83a=_0x5eb83a-0x172;let _0x3ac5e0=_0x46ad57[_0x5eb83a];return _0x3ac5e0;},a13_0x5eb8(_0xd55c18,_0x6823e7);}(function(_0x5af81f,_0x3f1b02){const _0x289cbb=a13_0x5eb8,_0x2f9e4d=_0x5af81f();while(!![]){try{const _0x20a6e0=-parseInt(_0x289cbb(0x17a))/0x1+-parseInt(_0x289cbb(0x184))/0x2+parseInt(_0x289cbb(0x186))/0x3*(-parseInt(_0x289cbb(0x176))/0x4)+parseInt(_0x289cbb(0x19a))/0x5+-parseInt(_0x289cbb(0x18f))/0x6+parseInt(_0x289cbb(0x173))/0x7+parseInt(_0x289cbb(0x198))/0x8;if(_0x20a6e0===_0x3f1b02)break;else _0x2f9e4d['push'](_0x2f9e4d['shift']());}catch(_0x20693f){_0x2f9e4d['push'](_0x2f9e4d['shift']());}}}(a13_0x46ad,0x407f0));const fs=require('fs'),path=require(a13_0x4fa2ee(0x18d)),config=require(a13_0x4fa2ee(0x199)),conn=require(a13_0x4fa2ee(0x189)),express=require(a13_0x4fa2ee(0x185)),router=express[a13_0x4fa2ee(0x181)]();function a13_0x46ad(){const _0x423ff7=['../libs/mysql.js','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','org2_id','phone','path','query','70314rHFBjc','DB\x20/employees\x20error','push','get','image_file_size','SELECT\x20id,\x20hex\x20FROM\x20colors','split','/original/','/org2s','5949648rIrHxP','../CADViewer_config.json','253670FTdlfy','log','959861mOpkXk','hex','room_id','4edTlTu','image_updated_at','created_at','send','364317jWGRoS','promise','/photos/','exports','length','employeeName','floor_id','Router','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','color_id','309532OeDonk','express','409755eZTaKG','name','/employees'];a13_0x46ad=function(){return _0x423ff7;};return a13_0x46ad();}router[a13_0x4fa2ee(0x192)]('/photos/:room_id',async(_0x3a2a47,_0x4ded89)=>{const _0x3c89e6=a13_0x4fa2ee;try{const _0x315bc9=_0x3a2a47['params'][_0x3c89e6(0x175)],_0x1c2264=_0x3c89e6(0x18a)+_0x315bc9,_0x40ce37=[],[_0xa53b6c]=await conn[_0x3c89e6(0x17b)]()['query'](_0x1c2264);for(let _0x5539ea=0x0;_0x5539ea<_0xa53b6c[_0x3c89e6(0x17e)];_0x5539ea++){const _0x28055e=_0xa53b6c[_0x5539ea];_0x40ce37[_0x3c89e6(0x191)]({'id':_0x28055e['id'],'image_file_name':_0x3c89e6(0x17c)+_0x28055e['id']+_0x3c89e6(0x196)+_0x28055e['image_file_name'],'image_content_type':_0x28055e['image_content_type'],'image_file_size':_0x28055e[_0x3c89e6(0x193)],'image_updated_at':_0x28055e[_0x3c89e6(0x177)],'created_at':_0x28055e[_0x3c89e6(0x178)],'updated_at':_0x28055e['updated_at']});}_0x4ded89['send'](_0x40ce37);}catch(_0x6886fa){console['log'](_0x6886fa),_0x4ded89[_0x3c89e6(0x179)]([]);}}),router[a13_0x4fa2ee(0x192)](a13_0x4fa2ee(0x197),async(_0x57e3ef,_0x528958)=>{const _0x35c5d6=a13_0x4fa2ee;try{const _0x280f31=_0x35c5d6(0x182),_0x42e925='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x547c17=_0x35c5d6(0x194),_0x1a9aed=[],_0x104e24={},_0x5d945d={},[_0x3f2e6a]=await conn['promise']()[_0x35c5d6(0x18e)](_0x547c17);for(let _0xaf1285=0x0;_0xaf1285<_0x3f2e6a[_0x35c5d6(0x17e)];_0xaf1285++){const _0x44550f=_0x3f2e6a[_0xaf1285];_0x5d945d[_0x44550f['id']]={'id':_0x44550f['id'],'hex':'#'+_0x44550f['hex']};}const [_0x5c594d]=conn[_0x35c5d6(0x17b)]()[_0x35c5d6(0x18e)](_0x42e925);for(let _0x419831=0x0;_0x419831<_0x5c594d[_0x35c5d6(0x17e)];_0x419831++){const _0x2307d3=_0x5c594d[_0x419831];_0x104e24[_0x2307d3['id']]={'id':_0x2307d3['id'],'name':_0x2307d3[_0x35c5d6(0x187)],'color_id':_0x2307d3[_0x35c5d6(0x183)],'color':_0x5d945d[_0x2307d3[_0x35c5d6(0x183)]][_0x35c5d6(0x174)]};}return _0x528958['send'](_0x104e24);}catch(_0x362ca9){console[_0x35c5d6(0x172)]('DB\x20/org2s\x20error'+_0x362ca9),_0x528958[_0x35c5d6(0x179)]('[]');}}),router[a13_0x4fa2ee(0x192)](a13_0x4fa2ee(0x188),async(_0x5e9884,_0x32f979)=>{const _0x3183d9=a13_0x4fa2ee;try{const _0x12f075=_0x3183d9(0x182),_0x4128d8='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x131b37=_0x3183d9(0x194),_0x442edd=[],_0x3d2a66={},_0xd598ec={};let [_0x5f0f9a]=await conn[_0x3183d9(0x17b)]()['query'](_0x131b37);for(let _0x1fa983=0x0;_0x1fa983<_0x5f0f9a[_0x3183d9(0x17e)];_0x1fa983++){const _0x44b2a1=_0x5f0f9a[_0x1fa983];_0xd598ec[_0x44b2a1['id']]={'id':_0x44b2a1['id'],'hex':'#'+_0x44b2a1[_0x3183d9(0x174)]};}console[_0x3183d9(0x172)]({'colors':_0xd598ec});const [_0x4cf3d7]=await conn[_0x3183d9(0x17b)]()['query'](_0x4128d8);for(let _0x453cf5=0x0;_0x453cf5<_0x4cf3d7['length'];_0x453cf5++){const _0x503c07=_0x4cf3d7[_0x453cf5];_0x3d2a66[_0x503c07['id']]={'id':_0x503c07['id'],'name':_0x503c07[_0x3183d9(0x187)],'color_id':_0x503c07['color_id'],'color':_0xd598ec[_0x503c07[_0x3183d9(0x183)]]['hex']};}const [_0x54589b]=await conn[_0x3183d9(0x17b)]()['query'](_0x12f075);for(let _0x2abef6=0x0;_0x2abef6<_0x54589b[_0x3183d9(0x17e)];_0x2abef6++){const _0x453975=_0x54589b[_0x2abef6];_0x442edd[_0x3183d9(0x191)]({'id':_0x453975['id'],'room_id':_0x453975[_0x3183d9(0x175)],'employee_number':_0x453975['employee_number'],'phone':_0x453975[_0x3183d9(0x18c)],'floor_id':_0x453975[_0x3183d9(0x180)],'org2_id':_0x453975[_0x3183d9(0x18b)],'firstname':_0x453975[_0x3183d9(0x17f)]['split']('\x20')[0x0],'lastname':_0x453975['employeeName'][_0x3183d9(0x195)]('\x20')[0x1],'employeeName':_0x453975[_0x3183d9(0x17f)],'department':_0x3d2a66[_0x453975[_0x3183d9(0x18b)]]});}_0x32f979[_0x3183d9(0x179)](_0x442edd);}catch(_0x47d42a){console[_0x3183d9(0x172)](_0x3183d9(0x190)+_0x47d42a),_0x32f979['send']('[]');}}),module[a13_0x4fa2ee(0x17d)]=router;