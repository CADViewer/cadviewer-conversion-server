const a12_0x40b3f8=a12_0x1a34;function a12_0x577b(){const _0x47343b=['room_id','1217775qIArbh','121OvahbX','employee_number','color_id','1PKgiVq','exports','name','image_file_size','employeeName','push','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','log','hex','get','org2_id','19504SdRQZV','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','../CADViewer_config.json','/photos/','image_file_name','phone','533iDOVDf','promise','12jwNUpV','/employees','../libs/mysql.js','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','created_at','split','DB\x20/employees\x20error','image_content_type','7uuDEvM','906850RKxFEk','express','params','2437406MuMFWN','237891aguSTd','send','/photos/:room_id','floor_id','SELECT\x20id,\x20hex\x20FROM\x20colors','6550122TPLDHJ','query','length','4932Ladxbt','DB\x20/org2s\x20error','/org2s','/original/','1065156qfJrXk'];a12_0x577b=function(){return _0x47343b;};return a12_0x577b();}(function(_0x285e5e,_0x1b8acd){const _0x2912d2=a12_0x1a34,_0x4558fa=_0x285e5e();while(!![]){try{const _0xf0bb4a=-parseInt(_0x2912d2(0x1ad))/0x1*(parseInt(_0x2912d2(0x19a))/0x2)+-parseInt(_0x2912d2(0x19b))/0x3*(parseInt(_0x2912d2(0x18e))/0x4)+-parseInt(_0x2912d2(0x1a9))/0x5+parseInt(_0x2912d2(0x1a0))/0x6*(parseInt(_0x2912d2(0x196))/0x7)+-parseInt(_0x2912d2(0x186))/0x8*(parseInt(_0x2912d2(0x1a3))/0x9)+-parseInt(_0x2912d2(0x197))/0xa*(parseInt(_0x2912d2(0x1aa))/0xb)+parseInt(_0x2912d2(0x1a7))/0xc*(parseInt(_0x2912d2(0x18c))/0xd);if(_0xf0bb4a===_0x1b8acd)break;else _0x4558fa['push'](_0x4558fa['shift']());}catch(_0x35f740){_0x4558fa['push'](_0x4558fa['shift']());}}}(a12_0x577b,0xaa3ae));function a12_0x1a34(_0x125b48,_0x4160d2){const _0x577b66=a12_0x577b();return a12_0x1a34=function(_0x1a34ab,_0x2c462f){_0x1a34ab=_0x1a34ab-0x17d;let _0x37c621=_0x577b66[_0x1a34ab];return _0x37c621;},a12_0x1a34(_0x125b48,_0x4160d2);}const fs=require('fs'),path=require('path'),config=require(a12_0x40b3f8(0x188)),conn=require(a12_0x40b3f8(0x190)),express=require(a12_0x40b3f8(0x198)),router=express['Router']();router[a12_0x40b3f8(0x184)](a12_0x40b3f8(0x19d),async(_0x1deb7d,_0x466214)=>{const _0x40e7a7=a12_0x40b3f8;try{const _0x23e291=_0x1deb7d[_0x40e7a7(0x199)]['room_id'],_0x2ac9de=_0x40e7a7(0x191)+_0x23e291,_0x4e3754=[],[_0x19165f]=await conn['promise']()[_0x40e7a7(0x1a1)](_0x2ac9de);for(let _0x3e22c4=0x0;_0x3e22c4<_0x19165f[_0x40e7a7(0x1a2)];_0x3e22c4++){const _0x328846=_0x19165f[_0x3e22c4];_0x4e3754['push']({'id':_0x328846['id'],'image_file_name':_0x40e7a7(0x189)+_0x328846['id']+_0x40e7a7(0x1a6)+_0x328846[_0x40e7a7(0x18a)],'image_content_type':_0x328846[_0x40e7a7(0x195)],'image_file_size':_0x328846[_0x40e7a7(0x17e)],'image_updated_at':_0x328846['image_updated_at'],'created_at':_0x328846[_0x40e7a7(0x192)],'updated_at':_0x328846['updated_at']});}_0x466214['send'](_0x4e3754);}catch(_0x3d12f2){console[_0x40e7a7(0x182)](_0x3d12f2),_0x466214['send']([]);}}),router[a12_0x40b3f8(0x184)](a12_0x40b3f8(0x1a5),async(_0x182509,_0x435257)=>{const _0x4dbaa8=a12_0x40b3f8;try{const _0x380a7f=_0x4dbaa8(0x187),_0x5e0f5f=_0x4dbaa8(0x181),_0x460d56=_0x4dbaa8(0x19f),_0xc2c3a4=[],_0x3f434b={},_0x3f59d6={},[_0x5836ce]=await conn['promise']()['query'](_0x460d56);for(let _0x5b2133=0x0;_0x5b2133<_0x5836ce['length'];_0x5b2133++){const _0x3fd316=_0x5836ce[_0x5b2133];_0x3f59d6[_0x3fd316['id']]={'id':_0x3fd316['id'],'hex':'#'+_0x3fd316[_0x4dbaa8(0x183)]};}const [_0x570590]=conn[_0x4dbaa8(0x18d)]()[_0x4dbaa8(0x1a1)](_0x5e0f5f);for(let _0x206aac=0x0;_0x206aac<_0x570590[_0x4dbaa8(0x1a2)];_0x206aac++){const _0x3833e5=_0x570590[_0x206aac];_0x3f434b[_0x3833e5['id']]={'id':_0x3833e5['id'],'name':_0x3833e5[_0x4dbaa8(0x17d)],'color_id':_0x3833e5[_0x4dbaa8(0x1ac)],'color':_0x3f59d6[_0x3833e5['color_id']][_0x4dbaa8(0x183)]};}return _0x435257[_0x4dbaa8(0x19c)](_0x3f434b);}catch(_0x76c2b0){console[_0x4dbaa8(0x182)](_0x4dbaa8(0x1a4)+_0x76c2b0),_0x435257[_0x4dbaa8(0x19c)]('[]');}}),router[a12_0x40b3f8(0x184)](a12_0x40b3f8(0x18f),async(_0x5dbcea,_0x49d16f)=>{const _0x1772cd=a12_0x40b3f8;try{const _0x8b9303=_0x1772cd(0x187),_0x476a16='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0xdffa12=_0x1772cd(0x19f),_0x39d2fa=[],_0x3f8cd1={},_0x4d7b50={};let [_0x28390c]=await conn[_0x1772cd(0x18d)]()[_0x1772cd(0x1a1)](_0xdffa12);for(let _0x1aab94=0x0;_0x1aab94<_0x28390c[_0x1772cd(0x1a2)];_0x1aab94++){const _0x2e87d9=_0x28390c[_0x1aab94];_0x4d7b50[_0x2e87d9['id']]={'id':_0x2e87d9['id'],'hex':'#'+_0x2e87d9['hex']};}console[_0x1772cd(0x182)]({'colors':_0x4d7b50});const [_0x1f1c31]=await conn[_0x1772cd(0x18d)]()['query'](_0x476a16);for(let _0x4dde7a=0x0;_0x4dde7a<_0x1f1c31['length'];_0x4dde7a++){const _0x564165=_0x1f1c31[_0x4dde7a];_0x3f8cd1[_0x564165['id']]={'id':_0x564165['id'],'name':_0x564165['name'],'color_id':_0x564165[_0x1772cd(0x1ac)],'color':_0x4d7b50[_0x564165[_0x1772cd(0x1ac)]][_0x1772cd(0x183)]};}const [_0x4e3514]=await conn['promise']()[_0x1772cd(0x1a1)](_0x8b9303);for(let _0x18624f=0x0;_0x18624f<_0x4e3514[_0x1772cd(0x1a2)];_0x18624f++){const _0x2774ba=_0x4e3514[_0x18624f];_0x39d2fa[_0x1772cd(0x180)]({'id':_0x2774ba['id'],'room_id':_0x2774ba[_0x1772cd(0x1a8)],'employee_number':_0x2774ba[_0x1772cd(0x1ab)],'phone':_0x2774ba[_0x1772cd(0x18b)],'floor_id':_0x2774ba[_0x1772cd(0x19e)],'org2_id':_0x2774ba[_0x1772cd(0x185)],'firstname':_0x2774ba[_0x1772cd(0x17f)][_0x1772cd(0x193)]('\x20')[0x0],'lastname':_0x2774ba[_0x1772cd(0x17f)][_0x1772cd(0x193)]('\x20')[0x1],'employeeName':_0x2774ba['employeeName'],'department':_0x3f8cd1[_0x2774ba['org2_id']]});}_0x49d16f[_0x1772cd(0x19c)](_0x39d2fa);}catch(_0x23ea56){console[_0x1772cd(0x182)](_0x1772cd(0x194)+_0x23ea56),_0x49d16f[_0x1772cd(0x19c)]('[]');}}),module[a12_0x40b3f8(0x1ae)]=router;