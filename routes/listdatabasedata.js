const a13_0x5da460=a13_0x5ca6;(function(_0x26320d,_0x2471b2){const _0x5831a1=a13_0x5ca6,_0x1304f3=_0x26320d();while(!![]){try{const _0x71f45f=parseInt(_0x5831a1(0x130))/0x1*(-parseInt(_0x5831a1(0x13c))/0x2)+parseInt(_0x5831a1(0x141))/0x3+-parseInt(_0x5831a1(0x151))/0x4*(-parseInt(_0x5831a1(0x150))/0x5)+parseInt(_0x5831a1(0x159))/0x6*(parseInt(_0x5831a1(0x131))/0x7)+parseInt(_0x5831a1(0x139))/0x8+-parseInt(_0x5831a1(0x137))/0x9+parseInt(_0x5831a1(0x133))/0xa;if(_0x71f45f===_0x2471b2)break;else _0x1304f3['push'](_0x1304f3['shift']());}catch(_0x172dcc){_0x1304f3['push'](_0x1304f3['shift']());}}}(a13_0x32ff,0xe7f87));function a13_0x32ff(){const _0x47a76e=['/employees','created_at','1825613eClEra','7rzlKcN','room_id','27430500LGDmDf','color_id','employee_number','exports','15197175hSyweW','floor_id','6011304kgADoZ','image_updated_at','name','2GnnzAx','push','image_file_size','log','path','3048lrcAPW','../CADViewer_config.json','/photos/:room_id','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','promise','Router','updated_at','SELECT\x20id,\x20hex\x20FROM\x20colors','DB\x20/employees\x20error','/photos/','length','employeeName','hex','image_content_type','express','5eKNkTt','702692eCfAGJ','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','query','get','../libs/mysql.js','send','/org2s','org2_id','4759122TcFkWo'];a13_0x32ff=function(){return _0x47a76e;};return a13_0x32ff();}function a13_0x5ca6(_0x26eab9,_0xc1d0b6){const _0x32ff2a=a13_0x32ff();return a13_0x5ca6=function(_0x5ca655,_0x66ca48){_0x5ca655=_0x5ca655-0x130;let _0x102ea4=_0x32ff2a[_0x5ca655];return _0x102ea4;},a13_0x5ca6(_0x26eab9,_0xc1d0b6);}const fs=require('fs'),path=require(a13_0x5da460(0x140)),config=require(a13_0x5da460(0x142)),conn=require(a13_0x5da460(0x155)),express=require(a13_0x5da460(0x14f)),router=express[a13_0x5da460(0x146)]();router[a13_0x5da460(0x154)](a13_0x5da460(0x143),async(_0x22054d,_0x1b7017)=>{const _0x122e26=a13_0x5da460;try{const _0x43d965=_0x22054d['params'][_0x122e26(0x132)],_0x35bdf4='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x43d965,_0x55db9c=[],[_0x490031]=await conn[_0x122e26(0x145)]()[_0x122e26(0x153)](_0x35bdf4);for(let _0x17c00d=0x0;_0x17c00d<_0x490031[_0x122e26(0x14b)];_0x17c00d++){const _0x288e55=_0x490031[_0x17c00d];_0x55db9c['push']({'id':_0x288e55['id'],'image_file_name':_0x122e26(0x14a)+_0x288e55['id']+'/original/'+_0x288e55['image_file_name'],'image_content_type':_0x288e55[_0x122e26(0x14e)],'image_file_size':_0x288e55[_0x122e26(0x13e)],'image_updated_at':_0x288e55[_0x122e26(0x13a)],'created_at':_0x288e55[_0x122e26(0x15b)],'updated_at':_0x288e55[_0x122e26(0x147)]});}_0x1b7017['send'](_0x55db9c);}catch(_0x87ac97){console[_0x122e26(0x13f)](_0x87ac97),_0x1b7017[_0x122e26(0x156)]([]);}}),router['get'](a13_0x5da460(0x157),async(_0xe719be,_0x59980e)=>{const _0x44812c=a13_0x5da460;try{const _0x554ae6='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x1bff39=_0x44812c(0x152),_0x6bbed9='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x27dc74=[],_0x6be804={},_0x3851a5={},[_0x43bcb4]=await conn[_0x44812c(0x145)]()[_0x44812c(0x153)](_0x6bbed9);for(let _0x527cff=0x0;_0x527cff<_0x43bcb4[_0x44812c(0x14b)];_0x527cff++){const _0xb2b613=_0x43bcb4[_0x527cff];_0x3851a5[_0xb2b613['id']]={'id':_0xb2b613['id'],'hex':'#'+_0xb2b613['hex']};}const [_0x361238]=conn[_0x44812c(0x145)]()[_0x44812c(0x153)](_0x1bff39);for(let _0x773c63=0x0;_0x773c63<_0x361238[_0x44812c(0x14b)];_0x773c63++){const _0x2cfb6d=_0x361238[_0x773c63];_0x6be804[_0x2cfb6d['id']]={'id':_0x2cfb6d['id'],'name':_0x2cfb6d[_0x44812c(0x13b)],'color_id':_0x2cfb6d['color_id'],'color':_0x3851a5[_0x2cfb6d[_0x44812c(0x134)]]['hex']};}return _0x59980e[_0x44812c(0x156)](_0x6be804);}catch(_0x35c404){console[_0x44812c(0x13f)]('DB\x20/org2s\x20error'+_0x35c404),_0x59980e[_0x44812c(0x156)]('[]');}}),router[a13_0x5da460(0x154)](a13_0x5da460(0x15a),async(_0x4da620,_0x6d01b8)=>{const _0x1732f5=a13_0x5da460;try{const _0x183ff4=_0x1732f5(0x144),_0x486888=_0x1732f5(0x152),_0x12a889=_0x1732f5(0x148),_0x4aef00=[],_0x5d8d82={},_0x516f48={};let [_0x419970]=await conn[_0x1732f5(0x145)]()['query'](_0x12a889);for(let _0x5797bc=0x0;_0x5797bc<_0x419970['length'];_0x5797bc++){const _0x5d4295=_0x419970[_0x5797bc];_0x516f48[_0x5d4295['id']]={'id':_0x5d4295['id'],'hex':'#'+_0x5d4295['hex']};}console[_0x1732f5(0x13f)]({'colors':_0x516f48});const [_0x2f42f6]=await conn[_0x1732f5(0x145)]()[_0x1732f5(0x153)](_0x486888);for(let _0x517c08=0x0;_0x517c08<_0x2f42f6[_0x1732f5(0x14b)];_0x517c08++){const _0x5e3697=_0x2f42f6[_0x517c08];_0x5d8d82[_0x5e3697['id']]={'id':_0x5e3697['id'],'name':_0x5e3697[_0x1732f5(0x13b)],'color_id':_0x5e3697[_0x1732f5(0x134)],'color':_0x516f48[_0x5e3697[_0x1732f5(0x134)]][_0x1732f5(0x14d)]};}const [_0x326d7b]=await conn['promise']()[_0x1732f5(0x153)](_0x183ff4);for(let _0x218a5f=0x0;_0x218a5f<_0x326d7b[_0x1732f5(0x14b)];_0x218a5f++){const _0x16d3a9=_0x326d7b[_0x218a5f];_0x4aef00[_0x1732f5(0x13d)]({'id':_0x16d3a9['id'],'room_id':_0x16d3a9[_0x1732f5(0x132)],'employee_number':_0x16d3a9[_0x1732f5(0x135)],'phone':_0x16d3a9['phone'],'floor_id':_0x16d3a9[_0x1732f5(0x138)],'org2_id':_0x16d3a9[_0x1732f5(0x158)],'firstname':_0x16d3a9[_0x1732f5(0x14c)]['split']('\x20')[0x0],'lastname':_0x16d3a9['employeeName']['split']('\x20')[0x1],'employeeName':_0x16d3a9[_0x1732f5(0x14c)],'department':_0x5d8d82[_0x16d3a9[_0x1732f5(0x158)]]});}_0x6d01b8[_0x1732f5(0x156)](_0x4aef00);}catch(_0x4e16d5){console[_0x1732f5(0x13f)](_0x1732f5(0x149)+_0x4e16d5),_0x6d01b8[_0x1732f5(0x156)]('[]');}}),module[a13_0x5da460(0x136)]=router;