const a12_0x15ad76=a12_0x4bc7;(function(_0x2ca77d,_0x3aa676){const _0x5d657b=a12_0x4bc7,_0x4a8e76=_0x2ca77d();while(!![]){try{const _0x24fc67=parseInt(_0x5d657b(0x1fd))/0x1*(-parseInt(_0x5d657b(0x1ed))/0x2)+parseInt(_0x5d657b(0x215))/0x3+parseInt(_0x5d657b(0x203))/0x4+-parseInt(_0x5d657b(0x1f9))/0x5*(-parseInt(_0x5d657b(0x209))/0x6)+parseInt(_0x5d657b(0x1ff))/0x7*(-parseInt(_0x5d657b(0x1e6))/0x8)+-parseInt(_0x5d657b(0x214))/0x9*(parseInt(_0x5d657b(0x1ea))/0xa)+-parseInt(_0x5d657b(0x1e7))/0xb;if(_0x24fc67===_0x3aa676)break;else _0x4a8e76['push'](_0x4a8e76['shift']());}catch(_0x1dfeef){_0x4a8e76['push'](_0x4a8e76['shift']());}}}(a12_0x45a6,0x51871));const fs=require('fs'),path=require('path'),config=require(a12_0x15ad76(0x207)),conn=require(a12_0x15ad76(0x1fe)),express=require(a12_0x15ad76(0x1ef)),router=express[a12_0x15ad76(0x1f8)]();function a12_0x45a6(){const _0x2b27b7=['1215032rpFIgZ','length','/employees','split','../CADViewer_config.json','image_updated_at','6QqexFT','room_id','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','promise','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','/org2s','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','DB\x20/org2s\x20error','push','log','exports','1593234UxAXCL','1329528IBGnsB','16qlRVgl','1357026NdbsqF','floor_id','DB\x20/employees\x20error','30LkrbUI','SELECT\x20id,\x20hex\x20FROM\x20colors','updated_at','6376npsxQE','params','express','hex','query','image_file_name','image_content_type','/photos/:room_id','org2_id','phone','created_at','Router','2517505jxOyfh','send','color_id','name','35KSDAvG','../libs/mysql.js','526659bSfkDK','employeeName','get','/photos/'];a12_0x45a6=function(){return _0x2b27b7;};return a12_0x45a6();}function a12_0x4bc7(_0x2fbd66,_0x28a528){const _0x45a69e=a12_0x45a6();return a12_0x4bc7=function(_0x4bc786,_0x4ee078){_0x4bc786=_0x4bc786-0x1e6;let _0x265e2b=_0x45a69e[_0x4bc786];return _0x265e2b;},a12_0x4bc7(_0x2fbd66,_0x28a528);}router['get'](a12_0x15ad76(0x1f4),async(_0x2187b4,_0x3ffb86)=>{const _0x21bef6=a12_0x15ad76;try{const _0x6b2c39=_0x2187b4[_0x21bef6(0x1ee)][_0x21bef6(0x20a)],_0x478ed7=_0x21bef6(0x20d)+_0x6b2c39,_0x40e316=[],[_0x24ffea]=await conn['promise']()[_0x21bef6(0x1f1)](_0x478ed7);for(let _0x841f02=0x0;_0x841f02<_0x24ffea[_0x21bef6(0x204)];_0x841f02++){const _0x4f5118=_0x24ffea[_0x841f02];_0x40e316[_0x21bef6(0x211)]({'id':_0x4f5118['id'],'image_file_name':_0x21bef6(0x202)+_0x4f5118['id']+'/original/'+_0x4f5118[_0x21bef6(0x1f2)],'image_content_type':_0x4f5118[_0x21bef6(0x1f3)],'image_file_size':_0x4f5118['image_file_size'],'image_updated_at':_0x4f5118[_0x21bef6(0x208)],'created_at':_0x4f5118[_0x21bef6(0x1f7)],'updated_at':_0x4f5118[_0x21bef6(0x1ec)]});}_0x3ffb86[_0x21bef6(0x1fa)](_0x40e316);}catch(_0x4f0529){console[_0x21bef6(0x212)](_0x4f0529),_0x3ffb86[_0x21bef6(0x1fa)]([]);}}),router['get'](a12_0x15ad76(0x20e),async(_0x191db7,_0x343943)=>{const _0x207595=a12_0x15ad76;try{const _0xcc30b5=_0x207595(0x20f),_0x701dc9=_0x207595(0x20b),_0x33467d=_0x207595(0x1eb),_0x4f0dfd=[],_0x18968b={},_0x93bcb2={},[_0x455ab8]=await conn[_0x207595(0x20c)]()[_0x207595(0x1f1)](_0x33467d);for(let _0x37fa5b=0x0;_0x37fa5b<_0x455ab8[_0x207595(0x204)];_0x37fa5b++){const _0x2e1fa5=_0x455ab8[_0x37fa5b];_0x93bcb2[_0x2e1fa5['id']]={'id':_0x2e1fa5['id'],'hex':'#'+_0x2e1fa5['hex']};}const [_0x127d57]=conn[_0x207595(0x20c)]()[_0x207595(0x1f1)](_0x701dc9);for(let _0x57d38e=0x0;_0x57d38e<_0x127d57[_0x207595(0x204)];_0x57d38e++){const _0x10da96=_0x127d57[_0x57d38e];_0x18968b[_0x10da96['id']]={'id':_0x10da96['id'],'name':_0x10da96['name'],'color_id':_0x10da96['color_id'],'color':_0x93bcb2[_0x10da96['color_id']][_0x207595(0x1f0)]};}return _0x343943[_0x207595(0x1fa)](_0x18968b);}catch(_0x206785){console['log'](_0x207595(0x210)+_0x206785),_0x343943['send']('[]');}}),router[a12_0x15ad76(0x201)](a12_0x15ad76(0x205),async(_0x4776c6,_0x16f264)=>{const _0x29e243=a12_0x15ad76;try{const _0x1efa1d='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x2d460c='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x356c45=_0x29e243(0x1eb),_0x508ce4=[],_0x5d692c={},_0x528e43={};let [_0x15c519]=await conn[_0x29e243(0x20c)]()[_0x29e243(0x1f1)](_0x356c45);for(let _0x5880e0=0x0;_0x5880e0<_0x15c519[_0x29e243(0x204)];_0x5880e0++){const _0x1f14c0=_0x15c519[_0x5880e0];_0x528e43[_0x1f14c0['id']]={'id':_0x1f14c0['id'],'hex':'#'+_0x1f14c0[_0x29e243(0x1f0)]};}console[_0x29e243(0x212)]({'colors':_0x528e43});const [_0x1d113d]=await conn[_0x29e243(0x20c)]()['query'](_0x2d460c);for(let _0x45c3e0=0x0;_0x45c3e0<_0x1d113d['length'];_0x45c3e0++){const _0x353e8f=_0x1d113d[_0x45c3e0];_0x5d692c[_0x353e8f['id']]={'id':_0x353e8f['id'],'name':_0x353e8f[_0x29e243(0x1fc)],'color_id':_0x353e8f['color_id'],'color':_0x528e43[_0x353e8f[_0x29e243(0x1fb)]][_0x29e243(0x1f0)]};}const [_0x43d9ca]=await conn[_0x29e243(0x20c)]()['query'](_0x1efa1d);for(let _0x59f59f=0x0;_0x59f59f<_0x43d9ca[_0x29e243(0x204)];_0x59f59f++){const _0x2488bd=_0x43d9ca[_0x59f59f];_0x508ce4[_0x29e243(0x211)]({'id':_0x2488bd['id'],'room_id':_0x2488bd['room_id'],'employee_number':_0x2488bd['employee_number'],'phone':_0x2488bd[_0x29e243(0x1f6)],'floor_id':_0x2488bd[_0x29e243(0x1e8)],'org2_id':_0x2488bd[_0x29e243(0x1f5)],'firstname':_0x2488bd['employeeName'][_0x29e243(0x206)]('\x20')[0x0],'lastname':_0x2488bd[_0x29e243(0x200)][_0x29e243(0x206)]('\x20')[0x1],'employeeName':_0x2488bd[_0x29e243(0x200)],'department':_0x5d692c[_0x2488bd[_0x29e243(0x1f5)]]});}_0x16f264[_0x29e243(0x1fa)](_0x508ce4);}catch(_0x2dfc34){console['log'](_0x29e243(0x1e9)+_0x2dfc34),_0x16f264[_0x29e243(0x1fa)]('[]');}}),module[a12_0x15ad76(0x213)]=router;