function a12_0x3456(_0x41281e,_0x148135){const _0x34bc56=a12_0x34bc();return a12_0x3456=function(_0x3456fd,_0x20346e){_0x3456fd=_0x3456fd-0x1b6;let _0x4247c7=_0x34bc56[_0x3456fd];return _0x4247c7;},a12_0x3456(_0x41281e,_0x148135);}const a12_0x3372ad=a12_0x3456;(function(_0x501c4d,_0x4200f1){const _0x3db87a=a12_0x3456,_0x10734e=_0x501c4d();while(!![]){try{const _0x153888=parseInt(_0x3db87a(0x1d5))/0x1*(-parseInt(_0x3db87a(0x1d3))/0x2)+-parseInt(_0x3db87a(0x1c8))/0x3*(-parseInt(_0x3db87a(0x1cd))/0x4)+parseInt(_0x3db87a(0x1d8))/0x5+parseInt(_0x3db87a(0x1b6))/0x6*(-parseInt(_0x3db87a(0x1d1))/0x7)+-parseInt(_0x3db87a(0x1dc))/0x8+-parseInt(_0x3db87a(0x1ba))/0x9*(-parseInt(_0x3db87a(0x1e2))/0xa)+parseInt(_0x3db87a(0x1db))/0xb;if(_0x153888===_0x4200f1)break;else _0x10734e['push'](_0x10734e['shift']());}catch(_0x1aa729){_0x10734e['push'](_0x10734e['shift']());}}}(a12_0x34bc,0x5bcda));function a12_0x34bc(){const _0x1708ae=['3712ftGVOy','/org2s','updated_at','phone','70iavrIo','hex','21512DPBwtL','org2_id','43nGNajn','length','push','1697750fseZVX','exports','Router','12655555WQLtIb','4153952ffWzPi','room_id','../libs/mysql.js','path','send','image_content_type','580950ZRcXuE','365340iWLIuO','DB\x20/employees\x20error','params','color_id','9gQDJDG','split','employeeName','SELECT\x20id,\x20hex\x20FROM\x20colors','query','/employees','/photos/','../CADViewer_config.json','get','express','image_file_size','employee_number','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','name','1353vQMZBq','promise','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','created_at','log'];a12_0x34bc=function(){return _0x1708ae;};return a12_0x34bc();}const fs=require('fs'),path=require(a12_0x3372ad(0x1df)),config=require(a12_0x3372ad(0x1c1)),conn=require(a12_0x3372ad(0x1de)),express=require(a12_0x3372ad(0x1c3)),router=express[a12_0x3372ad(0x1da)]();router[a12_0x3372ad(0x1c2)]('/photos/:room_id',async(_0x5e361f,_0x5017a5)=>{const _0x201b98=a12_0x3372ad;try{const _0x5a0af3=_0x5e361f[_0x201b98(0x1b8)][_0x201b98(0x1dd)],_0x5e7795='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x5a0af3,_0x2db6c3=[],[_0x45afd4]=await conn[_0x201b98(0x1c9)]()[_0x201b98(0x1be)](_0x5e7795);for(let _0x5e1181=0x0;_0x5e1181<_0x45afd4['length'];_0x5e1181++){const _0x25859f=_0x45afd4[_0x5e1181];_0x2db6c3[_0x201b98(0x1d7)]({'id':_0x25859f['id'],'image_file_name':_0x201b98(0x1c0)+_0x25859f['id']+'/original/'+_0x25859f['image_file_name'],'image_content_type':_0x25859f[_0x201b98(0x1e1)],'image_file_size':_0x25859f[_0x201b98(0x1c4)],'image_updated_at':_0x25859f['image_updated_at'],'created_at':_0x25859f[_0x201b98(0x1cb)],'updated_at':_0x25859f[_0x201b98(0x1cf)]});}_0x5017a5[_0x201b98(0x1e0)](_0x2db6c3);}catch(_0x304649){console['log'](_0x304649),_0x5017a5['send']([]);}}),router[a12_0x3372ad(0x1c2)](a12_0x3372ad(0x1ce),async(_0x486ebf,_0x51c357)=>{const _0x184f18=a12_0x3372ad;try{const _0x576429=_0x184f18(0x1ca),_0x4cd89f=_0x184f18(0x1c6),_0x15300f=_0x184f18(0x1bd),_0x1d916d=[],_0x29c6f5={},_0x357b56={},[_0x39b0ca]=await conn['promise']()[_0x184f18(0x1be)](_0x15300f);for(let _0x51b4c0=0x0;_0x51b4c0<_0x39b0ca[_0x184f18(0x1d6)];_0x51b4c0++){const _0x298f7f=_0x39b0ca[_0x51b4c0];_0x357b56[_0x298f7f['id']]={'id':_0x298f7f['id'],'hex':'#'+_0x298f7f[_0x184f18(0x1d2)]};}const [_0x3edc06]=conn['promise']()[_0x184f18(0x1be)](_0x4cd89f);for(let _0x3b9bf5=0x0;_0x3b9bf5<_0x3edc06['length'];_0x3b9bf5++){const _0x20ae18=_0x3edc06[_0x3b9bf5];_0x29c6f5[_0x20ae18['id']]={'id':_0x20ae18['id'],'name':_0x20ae18[_0x184f18(0x1c7)],'color_id':_0x20ae18[_0x184f18(0x1b9)],'color':_0x357b56[_0x20ae18[_0x184f18(0x1b9)]][_0x184f18(0x1d2)]};}return _0x51c357[_0x184f18(0x1e0)](_0x29c6f5);}catch(_0x160c5e){console['log']('DB\x20/org2s\x20error'+_0x160c5e),_0x51c357[_0x184f18(0x1e0)]('[]');}}),router[a12_0x3372ad(0x1c2)](a12_0x3372ad(0x1bf),async(_0x10ce89,_0x18e785)=>{const _0x427a13=a12_0x3372ad;try{const _0x2ebd00='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0xf22b46='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x405fa3=_0x427a13(0x1bd),_0x30bcd2=[],_0x70e027={},_0xaa75b8={};let [_0x4c31ea]=await conn['promise']()['query'](_0x405fa3);for(let _0x1cd1bb=0x0;_0x1cd1bb<_0x4c31ea[_0x427a13(0x1d6)];_0x1cd1bb++){const _0x301bcd=_0x4c31ea[_0x1cd1bb];_0xaa75b8[_0x301bcd['id']]={'id':_0x301bcd['id'],'hex':'#'+_0x301bcd[_0x427a13(0x1d2)]};}console[_0x427a13(0x1cc)]({'colors':_0xaa75b8});const [_0x382b50]=await conn[_0x427a13(0x1c9)]()[_0x427a13(0x1be)](_0xf22b46);for(let _0x21049f=0x0;_0x21049f<_0x382b50[_0x427a13(0x1d6)];_0x21049f++){const _0x3929a5=_0x382b50[_0x21049f];_0x70e027[_0x3929a5['id']]={'id':_0x3929a5['id'],'name':_0x3929a5[_0x427a13(0x1c7)],'color_id':_0x3929a5[_0x427a13(0x1b9)],'color':_0xaa75b8[_0x3929a5[_0x427a13(0x1b9)]][_0x427a13(0x1d2)]};}const [_0x32b0a3]=await conn[_0x427a13(0x1c9)]()[_0x427a13(0x1be)](_0x2ebd00);for(let _0x585c49=0x0;_0x585c49<_0x32b0a3[_0x427a13(0x1d6)];_0x585c49++){const _0x5021bf=_0x32b0a3[_0x585c49];_0x30bcd2[_0x427a13(0x1d7)]({'id':_0x5021bf['id'],'room_id':_0x5021bf[_0x427a13(0x1dd)],'employee_number':_0x5021bf[_0x427a13(0x1c5)],'phone':_0x5021bf[_0x427a13(0x1d0)],'floor_id':_0x5021bf['floor_id'],'org2_id':_0x5021bf[_0x427a13(0x1d4)],'firstname':_0x5021bf['employeeName'][_0x427a13(0x1bb)]('\x20')[0x0],'lastname':_0x5021bf[_0x427a13(0x1bc)][_0x427a13(0x1bb)]('\x20')[0x1],'employeeName':_0x5021bf[_0x427a13(0x1bc)],'department':_0x70e027[_0x5021bf['org2_id']]});}_0x18e785[_0x427a13(0x1e0)](_0x30bcd2);}catch(_0x15af0c){console['log'](_0x427a13(0x1b7)+_0x15af0c),_0x18e785[_0x427a13(0x1e0)]('[]');}}),module[a12_0x3372ad(0x1d9)]=router;