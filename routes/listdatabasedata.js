function a12_0x2916(_0x1840c0,_0x303d2f){const _0x6723d0=a12_0x6723();return a12_0x2916=function(_0x291612,_0x46db11){_0x291612=_0x291612-0x19e;let _0x3bf291=_0x6723d0[_0x291612];return _0x3bf291;},a12_0x2916(_0x1840c0,_0x303d2f);}const a12_0x3117f2=a12_0x2916;(function(_0x23bb81,_0x8eebca){const _0x2f23e5=a12_0x2916,_0x46b9bd=_0x23bb81();while(!![]){try{const _0x1eaeb6=parseInt(_0x2f23e5(0x1cb))/0x1+parseInt(_0x2f23e5(0x1a0))/0x2+parseInt(_0x2f23e5(0x1c5))/0x3*(-parseInt(_0x2f23e5(0x1b5))/0x4)+parseInt(_0x2f23e5(0x1c7))/0x5*(-parseInt(_0x2f23e5(0x1be))/0x6)+parseInt(_0x2f23e5(0x1bf))/0x7+-parseInt(_0x2f23e5(0x1a2))/0x8+-parseInt(_0x2f23e5(0x1ae))/0x9;if(_0x1eaeb6===_0x8eebca)break;else _0x46b9bd['push'](_0x46b9bd['shift']());}catch(_0x176b73){_0x46b9bd['push'](_0x46b9bd['shift']());}}}(a12_0x6723,0x2d1ae));const fs=require('fs'),path=require('path'),config=require(a12_0x3117f2(0x1b3)),conn=require(a12_0x3117f2(0x1b1)),express=require(a12_0x3117f2(0x1a7)),router=express['Router']();function a12_0x6723(){const _0xb58cfa=['277888KgDwRK','push','send','split','image_file_size','express','image_updated_at','/employees','length','name','room_id','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','3197682RrlIGi','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','log','../libs/mysql.js','updated_at','../CADViewer_config.json','hex','24LGSAJM','params','employee_number','/photos/','/original/','image_content_type','query','exports','phone','2274hmrLDA','2473562YRiZKi','get','employeeName','image_file_name','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','SELECT\x20id,\x20hex\x20FROM\x20colors','4221KsKWgu','color_id','2335ACnrFT','promise','DB\x20/org2s\x20error','/photos/:room_id','246927tkhFro','/org2s','org2_id','319852BvFDQW','created_at'];a12_0x6723=function(){return _0xb58cfa;};return a12_0x6723();}router['get'](a12_0x3117f2(0x1ca),async(_0x266e6b,_0x847a1f)=>{const _0x3f94ff=a12_0x3117f2;try{const _0xc3c928=_0x266e6b[_0x3f94ff(0x1b6)][_0x3f94ff(0x1ac)],_0x5f28d6=_0x3f94ff(0x1af)+_0xc3c928,_0x5a6936=[],[_0x5f19dc]=await conn[_0x3f94ff(0x1c8)]()['query'](_0x5f28d6);for(let _0x339021=0x0;_0x339021<_0x5f19dc['length'];_0x339021++){const _0x204e36=_0x5f19dc[_0x339021];_0x5a6936['push']({'id':_0x204e36['id'],'image_file_name':_0x3f94ff(0x1b8)+_0x204e36['id']+_0x3f94ff(0x1b9)+_0x204e36[_0x3f94ff(0x1c2)],'image_content_type':_0x204e36[_0x3f94ff(0x1ba)],'image_file_size':_0x204e36[_0x3f94ff(0x1a6)],'image_updated_at':_0x204e36[_0x3f94ff(0x1a8)],'created_at':_0x204e36[_0x3f94ff(0x1a1)],'updated_at':_0x204e36[_0x3f94ff(0x1b2)]});}_0x847a1f[_0x3f94ff(0x1a4)](_0x5a6936);}catch(_0x30490f){console[_0x3f94ff(0x1b0)](_0x30490f),_0x847a1f['send']([]);}}),router[a12_0x3117f2(0x1c0)](a12_0x3117f2(0x19e),async(_0x52d4bd,_0x4da3b0)=>{const _0x4a1939=a12_0x3117f2;try{const _0x17e223=_0x4a1939(0x1ad),_0x5aa756='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x2931c6=_0x4a1939(0x1c4),_0x130b13=[],_0x20feff={},_0x162fff={},[_0x5e635a]=await conn[_0x4a1939(0x1c8)]()[_0x4a1939(0x1bb)](_0x2931c6);for(let _0x1f9eb0=0x0;_0x1f9eb0<_0x5e635a[_0x4a1939(0x1aa)];_0x1f9eb0++){const _0x167bb9=_0x5e635a[_0x1f9eb0];_0x162fff[_0x167bb9['id']]={'id':_0x167bb9['id'],'hex':'#'+_0x167bb9[_0x4a1939(0x1b4)]};}const [_0x1593d7]=conn[_0x4a1939(0x1c8)]()[_0x4a1939(0x1bb)](_0x5aa756);for(let _0x5b10d6=0x0;_0x5b10d6<_0x1593d7['length'];_0x5b10d6++){const _0x10e925=_0x1593d7[_0x5b10d6];_0x20feff[_0x10e925['id']]={'id':_0x10e925['id'],'name':_0x10e925['name'],'color_id':_0x10e925['color_id'],'color':_0x162fff[_0x10e925[_0x4a1939(0x1c6)]][_0x4a1939(0x1b4)]};}return _0x4da3b0[_0x4a1939(0x1a4)](_0x20feff);}catch(_0x43f9b0){console[_0x4a1939(0x1b0)](_0x4a1939(0x1c9)+_0x43f9b0),_0x4da3b0['send']('[]');}}),router['get'](a12_0x3117f2(0x1a9),async(_0x5006b,_0x365911)=>{const _0x3cebc9=a12_0x3117f2;try{const _0x3ff6af='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x49e8f1=_0x3cebc9(0x1c3),_0xe23661=_0x3cebc9(0x1c4),_0x3dd1b6=[],_0xe86ebd={},_0x43fe1e={};let [_0x401b77]=await conn['promise']()[_0x3cebc9(0x1bb)](_0xe23661);for(let _0x589222=0x0;_0x589222<_0x401b77[_0x3cebc9(0x1aa)];_0x589222++){const _0x32cb76=_0x401b77[_0x589222];_0x43fe1e[_0x32cb76['id']]={'id':_0x32cb76['id'],'hex':'#'+_0x32cb76[_0x3cebc9(0x1b4)]};}console[_0x3cebc9(0x1b0)]({'colors':_0x43fe1e});const [_0x583038]=await conn[_0x3cebc9(0x1c8)]()['query'](_0x49e8f1);for(let _0x180d45=0x0;_0x180d45<_0x583038[_0x3cebc9(0x1aa)];_0x180d45++){const _0x3ec4e1=_0x583038[_0x180d45];_0xe86ebd[_0x3ec4e1['id']]={'id':_0x3ec4e1['id'],'name':_0x3ec4e1[_0x3cebc9(0x1ab)],'color_id':_0x3ec4e1['color_id'],'color':_0x43fe1e[_0x3ec4e1[_0x3cebc9(0x1c6)]][_0x3cebc9(0x1b4)]};}const [_0x3f6754]=await conn['promise']()[_0x3cebc9(0x1bb)](_0x3ff6af);for(let _0x4c30ff=0x0;_0x4c30ff<_0x3f6754[_0x3cebc9(0x1aa)];_0x4c30ff++){const _0x4ec2e4=_0x3f6754[_0x4c30ff];_0x3dd1b6[_0x3cebc9(0x1a3)]({'id':_0x4ec2e4['id'],'room_id':_0x4ec2e4[_0x3cebc9(0x1ac)],'employee_number':_0x4ec2e4[_0x3cebc9(0x1b7)],'phone':_0x4ec2e4[_0x3cebc9(0x1bd)],'floor_id':_0x4ec2e4['floor_id'],'org2_id':_0x4ec2e4[_0x3cebc9(0x19f)],'firstname':_0x4ec2e4['employeeName'][_0x3cebc9(0x1a5)]('\x20')[0x0],'lastname':_0x4ec2e4[_0x3cebc9(0x1c1)][_0x3cebc9(0x1a5)]('\x20')[0x1],'employeeName':_0x4ec2e4[_0x3cebc9(0x1c1)],'department':_0xe86ebd[_0x4ec2e4[_0x3cebc9(0x19f)]]});}_0x365911['send'](_0x3dd1b6);}catch(_0x142ada){console[_0x3cebc9(0x1b0)]('DB\x20/employees\x20error'+_0x142ada),_0x365911['send']('[]');}}),module[a12_0x3117f2(0x1bc)]=router;