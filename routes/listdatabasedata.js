const a13_0x751fba=a13_0x2b02;(function(_0xee4176,_0x622504){const _0x1327a9=a13_0x2b02,_0x396dbb=_0xee4176();while(!![]){try{const _0x58e51f=parseInt(_0x1327a9(0x167))/0x1+parseInt(_0x1327a9(0x17e))/0x2*(parseInt(_0x1327a9(0x16c))/0x3)+parseInt(_0x1327a9(0x15a))/0x4*(parseInt(_0x1327a9(0x165))/0x5)+-parseInt(_0x1327a9(0x180))/0x6*(-parseInt(_0x1327a9(0x173))/0x7)+parseInt(_0x1327a9(0x16d))/0x8*(parseInt(_0x1327a9(0x161))/0x9)+parseInt(_0x1327a9(0x172))/0xa*(-parseInt(_0x1327a9(0x16e))/0xb)+-parseInt(_0x1327a9(0x15d))/0xc*(parseInt(_0x1327a9(0x168))/0xd);if(_0x58e51f===_0x622504)break;else _0x396dbb['push'](_0x396dbb['shift']());}catch(_0x453a49){_0x396dbb['push'](_0x396dbb['shift']());}}}(a13_0x556d,0x6e204));function a13_0x2b02(_0x3f0ad5,_0x5dea06){const _0x556d85=a13_0x556d();return a13_0x2b02=function(_0x2b02a5,_0x1c4b8e){_0x2b02a5=_0x2b02a5-0x155;let _0x4af633=_0x556d85[_0x2b02a5];return _0x4af633;},a13_0x2b02(_0x3f0ad5,_0x5dea06);}const fs=require('fs'),path=require('path'),config=require(a13_0x751fba(0x169)),conn=require(a13_0x751fba(0x174)),express=require(a13_0x751fba(0x17a)),router=express['Router']();router[a13_0x751fba(0x162)](a13_0x751fba(0x182),async(_0xeac15,_0x9066f7)=>{const _0x186c6a=a13_0x751fba;try{const _0x20c455=_0xeac15[_0x186c6a(0x183)][_0x186c6a(0x159)],_0xbb5c60=_0x186c6a(0x17d)+_0x20c455,_0x556cb4=[],[_0x14251e]=await conn[_0x186c6a(0x175)]()[_0x186c6a(0x157)](_0xbb5c60);for(let _0x1099dd=0x0;_0x1099dd<_0x14251e[_0x186c6a(0x160)];_0x1099dd++){const _0x4bbc2e=_0x14251e[_0x1099dd];_0x556cb4[_0x186c6a(0x177)]({'id':_0x4bbc2e['id'],'image_file_name':_0x186c6a(0x155)+_0x4bbc2e['id']+'/original/'+_0x4bbc2e['image_file_name'],'image_content_type':_0x4bbc2e[_0x186c6a(0x176)],'image_file_size':_0x4bbc2e[_0x186c6a(0x17f)],'image_updated_at':_0x4bbc2e[_0x186c6a(0x163)],'created_at':_0x4bbc2e['created_at'],'updated_at':_0x4bbc2e[_0x186c6a(0x15f)]});}_0x9066f7[_0x186c6a(0x166)](_0x556cb4);}catch(_0x4013c1){console[_0x186c6a(0x156)](_0x4013c1),_0x9066f7['send']([]);}}),router[a13_0x751fba(0x162)](a13_0x751fba(0x171),async(_0x4fa173,_0x36073d)=>{const _0x47008b=a13_0x751fba;try{const _0x195f19=_0x47008b(0x15b),_0x2d1955='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x2b4991=_0x47008b(0x158),_0x739730=[],_0x1cec3b={},_0x1e7d20={},[_0x12d879]=await conn[_0x47008b(0x175)]()[_0x47008b(0x157)](_0x2b4991);for(let _0x6888c5=0x0;_0x6888c5<_0x12d879[_0x47008b(0x160)];_0x6888c5++){const _0x26e0dd=_0x12d879[_0x6888c5];_0x1e7d20[_0x26e0dd['id']]={'id':_0x26e0dd['id'],'hex':'#'+_0x26e0dd[_0x47008b(0x15c)]};}const [_0x4842ef]=conn[_0x47008b(0x175)]()['query'](_0x2d1955);for(let _0x4ef4f7=0x0;_0x4ef4f7<_0x4842ef[_0x47008b(0x160)];_0x4ef4f7++){const _0x2d2cde=_0x4842ef[_0x4ef4f7];_0x1cec3b[_0x2d2cde['id']]={'id':_0x2d2cde['id'],'name':_0x2d2cde[_0x47008b(0x179)],'color_id':_0x2d2cde[_0x47008b(0x16f)],'color':_0x1e7d20[_0x2d2cde[_0x47008b(0x16f)]][_0x47008b(0x15c)]};}return _0x36073d[_0x47008b(0x166)](_0x1cec3b);}catch(_0x39cce9){console[_0x47008b(0x156)]('DB\x20/org2s\x20error'+_0x39cce9),_0x36073d['send']('[]');}}),router[a13_0x751fba(0x162)]('/employees',async(_0x411337,_0x184c9b)=>{const _0x992f9b=a13_0x751fba;try{const _0x9683e4=_0x992f9b(0x15b),_0x3c7af0=_0x992f9b(0x178),_0x1cb0ca=_0x992f9b(0x158),_0x1e93b0=[],_0x375c26={},_0x417d91={};let [_0x5d5f50]=await conn['promise']()[_0x992f9b(0x157)](_0x1cb0ca);for(let _0x267df7=0x0;_0x267df7<_0x5d5f50[_0x992f9b(0x160)];_0x267df7++){const _0x2ea944=_0x5d5f50[_0x267df7];_0x417d91[_0x2ea944['id']]={'id':_0x2ea944['id'],'hex':'#'+_0x2ea944[_0x992f9b(0x15c)]};}console[_0x992f9b(0x156)]({'colors':_0x417d91});const [_0x51c9c5]=await conn['promise']()[_0x992f9b(0x157)](_0x3c7af0);for(let _0x5e0987=0x0;_0x5e0987<_0x51c9c5['length'];_0x5e0987++){const _0x126ddd=_0x51c9c5[_0x5e0987];_0x375c26[_0x126ddd['id']]={'id':_0x126ddd['id'],'name':_0x126ddd[_0x992f9b(0x179)],'color_id':_0x126ddd['color_id'],'color':_0x417d91[_0x126ddd['color_id']][_0x992f9b(0x15c)]};}const [_0x1a9f7c]=await conn[_0x992f9b(0x175)]()['query'](_0x9683e4);for(let _0xb62d61=0x0;_0xb62d61<_0x1a9f7c[_0x992f9b(0x160)];_0xb62d61++){const _0x156983=_0x1a9f7c[_0xb62d61];_0x1e93b0['push']({'id':_0x156983['id'],'room_id':_0x156983[_0x992f9b(0x159)],'employee_number':_0x156983[_0x992f9b(0x181)],'phone':_0x156983[_0x992f9b(0x16b)],'floor_id':_0x156983[_0x992f9b(0x17b)],'org2_id':_0x156983['org2_id'],'firstname':_0x156983[_0x992f9b(0x164)][_0x992f9b(0x16a)]('\x20')[0x0],'lastname':_0x156983[_0x992f9b(0x164)][_0x992f9b(0x16a)]('\x20')[0x1],'employeeName':_0x156983['employeeName'],'department':_0x375c26[_0x156983[_0x992f9b(0x170)]]});}_0x184c9b['send'](_0x1e93b0);}catch(_0x508ca6){console[_0x992f9b(0x156)](_0x992f9b(0x15e)+_0x508ca6),_0x184c9b[_0x992f9b(0x166)]('[]');}}),module[a13_0x751fba(0x17c)]=router;function a13_0x556d(){const _0xf10b2f=['promise','image_content_type','push','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','name','express','floor_id','exports','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','10xkJzFt','image_file_size','6Vddjis','employee_number','/photos/:room_id','params','/photos/','log','query','SELECT\x20id,\x20hex\x20FROM\x20colors','room_id','4GVihBJ','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','hex','1870608rXGRGP','DB\x20/employees\x20error','updated_at','length','6789753VbSlUL','get','image_updated_at','employeeName','4105435IzngTp','send','116639nDufxa','169vbiqPJ','../CADViewer_config.json','split','phone','339954sECvQB','8IjoKxO','11BwdAvR','color_id','org2_id','/org2s','1236850ykWHuY','2397640EudVft','../libs/mysql.js'];a13_0x556d=function(){return _0xf10b2f;};return a13_0x556d();}