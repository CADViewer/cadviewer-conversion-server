const a12_0x5b4f78=a12_0x105a;(function(_0x125f94,_0x13a943){const _0x5dc358=a12_0x105a,_0x64f4a8=_0x125f94();while(!![]){try{const _0x2b176d=parseInt(_0x5dc358(0x16a))/0x1*(-parseInt(_0x5dc358(0x174))/0x2)+parseInt(_0x5dc358(0x15b))/0x3*(parseInt(_0x5dc358(0x16f))/0x4)+parseInt(_0x5dc358(0x17d))/0x5+-parseInt(_0x5dc358(0x17c))/0x6*(-parseInt(_0x5dc358(0x17b))/0x7)+parseInt(_0x5dc358(0x15d))/0x8+-parseInt(_0x5dc358(0x179))/0x9+-parseInt(_0x5dc358(0x15e))/0xa;if(_0x2b176d===_0x13a943)break;else _0x64f4a8['push'](_0x64f4a8['shift']());}catch(_0x5b1e39){_0x64f4a8['push'](_0x64f4a8['shift']());}}}(a12_0x448b,0xe36fa));function a12_0x105a(_0x5eca56,_0x25956b){const _0x448b5e=a12_0x448b();return a12_0x105a=function(_0x105afe,_0x48fc58){_0x105afe=_0x105afe-0x15b;let _0x14d3a9=_0x448b5e[_0x105afe];return _0x14d3a9;},a12_0x105a(_0x5eca56,_0x25956b);}function a12_0x448b(){const _0x1d5aa6=['1722486LPMkkx','get','4613912ZbyPke','9757510TOZHuc','express','Router','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','DB\x20/org2s\x20error','query','length','params','DB\x20/employees\x20error','promise','/employees','log','1601533MzAlEI','color_id','image_updated_at','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','split','12OFOVnp','image_file_size','org2_id','hex','../libs/mysql.js','2VkXiQW','created_at','image_content_type','exports','path','5446647vclsXL','name','70HNIeiB','263334wlmCfR','6879650NbAhTK','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','/photos/','image_file_name','/photos/:room_id','updated_at','room_id','send','push','SELECT\x20id,\x20hex\x20FROM\x20colors','/original/','employee_number','employeeName'];a12_0x448b=function(){return _0x1d5aa6;};return a12_0x448b();}const fs=require('fs'),path=require(a12_0x5b4f78(0x178)),config=require('../CADViewer_config.json'),conn=require(a12_0x5b4f78(0x173)),express=require(a12_0x5b4f78(0x15f)),router=express[a12_0x5b4f78(0x160)]();router[a12_0x5b4f78(0x15c)](a12_0x5b4f78(0x181),async(_0x352786,_0x38ef39)=>{const _0x1c71fe=a12_0x5b4f78;try{const _0xffa7ad=_0x352786[_0x1c71fe(0x165)]['room_id'],_0x1d6b96=_0x1c71fe(0x17e)+_0xffa7ad,_0x231b61=[],[_0x43d1f0]=await conn[_0x1c71fe(0x167)]()['query'](_0x1d6b96);for(let _0x1dfdf8=0x0;_0x1dfdf8<_0x43d1f0[_0x1c71fe(0x164)];_0x1dfdf8++){const _0x317430=_0x43d1f0[_0x1dfdf8];_0x231b61[_0x1c71fe(0x185)]({'id':_0x317430['id'],'image_file_name':_0x1c71fe(0x17f)+_0x317430['id']+_0x1c71fe(0x187)+_0x317430[_0x1c71fe(0x180)],'image_content_type':_0x317430[_0x1c71fe(0x176)],'image_file_size':_0x317430[_0x1c71fe(0x170)],'image_updated_at':_0x317430[_0x1c71fe(0x16c)],'created_at':_0x317430[_0x1c71fe(0x175)],'updated_at':_0x317430[_0x1c71fe(0x182)]});}_0x38ef39[_0x1c71fe(0x184)](_0x231b61);}catch(_0x168280){console['log'](_0x168280),_0x38ef39[_0x1c71fe(0x184)]([]);}}),router[a12_0x5b4f78(0x15c)]('/org2s',async(_0x223207,_0x2b000c)=>{const _0x42986a=a12_0x5b4f78;try{const _0x35cbe4=_0x42986a(0x16d),_0x27cafe='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x3c57c6='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x1657ca=[],_0x52d7d4={},_0x6fb01c={},[_0x46a46b]=await conn['promise']()['query'](_0x3c57c6);for(let _0x5bd84d=0x0;_0x5bd84d<_0x46a46b['length'];_0x5bd84d++){const _0x2e4608=_0x46a46b[_0x5bd84d];_0x6fb01c[_0x2e4608['id']]={'id':_0x2e4608['id'],'hex':'#'+_0x2e4608[_0x42986a(0x172)]};}const [_0x13bd51]=conn['promise']()['query'](_0x27cafe);for(let _0x3882d3=0x0;_0x3882d3<_0x13bd51[_0x42986a(0x164)];_0x3882d3++){const _0x493356=_0x13bd51[_0x3882d3];_0x52d7d4[_0x493356['id']]={'id':_0x493356['id'],'name':_0x493356[_0x42986a(0x17a)],'color_id':_0x493356[_0x42986a(0x16b)],'color':_0x6fb01c[_0x493356[_0x42986a(0x16b)]][_0x42986a(0x172)]};}return _0x2b000c[_0x42986a(0x184)](_0x52d7d4);}catch(_0x4a8d78){console[_0x42986a(0x169)](_0x42986a(0x162)+_0x4a8d78),_0x2b000c[_0x42986a(0x184)]('[]');}}),router['get'](a12_0x5b4f78(0x168),async(_0x58fd22,_0x2eab68)=>{const _0x17481c=a12_0x5b4f78;try{const _0x20959c=_0x17481c(0x16d),_0x51bdec=_0x17481c(0x161),_0x5ea677=_0x17481c(0x186),_0xdb433b=[],_0x4220aa={},_0xd3cc9f={};let [_0x533a74]=await conn['promise']()[_0x17481c(0x163)](_0x5ea677);for(let _0x3b7b6b=0x0;_0x3b7b6b<_0x533a74[_0x17481c(0x164)];_0x3b7b6b++){const _0x41b5ca=_0x533a74[_0x3b7b6b];_0xd3cc9f[_0x41b5ca['id']]={'id':_0x41b5ca['id'],'hex':'#'+_0x41b5ca[_0x17481c(0x172)]};}console[_0x17481c(0x169)]({'colors':_0xd3cc9f});const [_0x99894e]=await conn[_0x17481c(0x167)]()[_0x17481c(0x163)](_0x51bdec);for(let _0x365495=0x0;_0x365495<_0x99894e[_0x17481c(0x164)];_0x365495++){const _0x3b6337=_0x99894e[_0x365495];_0x4220aa[_0x3b6337['id']]={'id':_0x3b6337['id'],'name':_0x3b6337['name'],'color_id':_0x3b6337[_0x17481c(0x16b)],'color':_0xd3cc9f[_0x3b6337[_0x17481c(0x16b)]][_0x17481c(0x172)]};}const [_0x16c8ec]=await conn[_0x17481c(0x167)]()[_0x17481c(0x163)](_0x20959c);for(let _0x3df645=0x0;_0x3df645<_0x16c8ec[_0x17481c(0x164)];_0x3df645++){const _0xbfdfeb=_0x16c8ec[_0x3df645];_0xdb433b[_0x17481c(0x185)]({'id':_0xbfdfeb['id'],'room_id':_0xbfdfeb[_0x17481c(0x183)],'employee_number':_0xbfdfeb[_0x17481c(0x188)],'phone':_0xbfdfeb['phone'],'floor_id':_0xbfdfeb['floor_id'],'org2_id':_0xbfdfeb[_0x17481c(0x171)],'firstname':_0xbfdfeb[_0x17481c(0x189)][_0x17481c(0x16e)]('\x20')[0x0],'lastname':_0xbfdfeb[_0x17481c(0x189)]['split']('\x20')[0x1],'employeeName':_0xbfdfeb['employeeName'],'department':_0x4220aa[_0xbfdfeb[_0x17481c(0x171)]]});}_0x2eab68[_0x17481c(0x184)](_0xdb433b);}catch(_0x5ab029){console['log'](_0x17481c(0x166)+_0x5ab029),_0x2eab68[_0x17481c(0x184)]('[]');}}),module[a12_0x5b4f78(0x177)]=router;