function a12_0x43e5(){const _0x3aee99=['path','params','/photos/:room_id','employeeName','room_id','3263953DokBAg','200xXgCjG','push','84834ZzkfOE','org2_id','created_at','4yfYbeI','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','1360785eeyEWg','3738xPeRAy','phone','/photos/','3984RSMQcl','name','exports','log','floor_id','DB\x20/org2s\x20error','76MtcDGv','get','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','hex','2344448Zlioib','promise','/employees','color_id','send','SELECT\x20id,\x20hex\x20FROM\x20colors','58570DwztNC','../libs/mysql.js','Router','split','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','/original/','query','length','/org2s','4006PZIaCW'];a12_0x43e5=function(){return _0x3aee99;};return a12_0x43e5();}function a12_0x16fd(_0x281f6d,_0x1b19c4){const _0x43e54b=a12_0x43e5();return a12_0x16fd=function(_0x16fd71,_0x240f08){_0x16fd71=_0x16fd71-0x1cd;let _0x2de24b=_0x43e54b[_0x16fd71];return _0x2de24b;},a12_0x16fd(_0x281f6d,_0x1b19c4);}const a12_0x23fafc=a12_0x16fd;(function(_0x1b030b,_0x58bdde){const _0x1e2bde=a12_0x16fd,_0x51aa5b=_0x1b030b();while(!![]){try{const _0x27106b=parseInt(_0x1e2bde(0x1d6))/0x1*(-parseInt(_0x1e2bde(0x1e2))/0x2)+parseInt(_0x1e2bde(0x1e4))/0x3+parseInt(_0x1e2bde(0x1ee))/0x4*(-parseInt(_0x1e2bde(0x1cd))/0x5)+-parseInt(_0x1e2bde(0x1e8))/0x6*(parseInt(_0x1e2bde(0x1e5))/0x7)+parseInt(_0x1e2bde(0x1f2))/0x8+-parseInt(_0x1e2bde(0x1df))/0x9*(parseInt(_0x1e2bde(0x1dd))/0xa)+parseInt(_0x1e2bde(0x1dc))/0xb;if(_0x27106b===_0x58bdde)break;else _0x51aa5b['push'](_0x51aa5b['shift']());}catch(_0xdef723){_0x51aa5b['push'](_0x51aa5b['shift']());}}}(a12_0x43e5,0x41d84));const fs=require('fs'),path=require(a12_0x23fafc(0x1d7)),config=require('../CADViewer_config.json'),conn=require(a12_0x23fafc(0x1ce)),express=require('express'),router=express[a12_0x23fafc(0x1cf)]();router[a12_0x23fafc(0x1ef)](a12_0x23fafc(0x1d9),async(_0x2671b8,_0x2fb287)=>{const _0x94a297=a12_0x23fafc;try{const _0x5819d8=_0x2671b8[_0x94a297(0x1d8)][_0x94a297(0x1db)],_0x128fc4=_0x94a297(0x1f0)+_0x5819d8,_0x4a226b=[],[_0x152314]=await conn[_0x94a297(0x1f3)]()['query'](_0x128fc4);for(let _0x13998f=0x0;_0x13998f<_0x152314['length'];_0x13998f++){const _0x53546e=_0x152314[_0x13998f];_0x4a226b[_0x94a297(0x1de)]({'id':_0x53546e['id'],'image_file_name':_0x94a297(0x1e7)+_0x53546e['id']+_0x94a297(0x1d2)+_0x53546e['image_file_name'],'image_content_type':_0x53546e['image_content_type'],'image_file_size':_0x53546e['image_file_size'],'image_updated_at':_0x53546e['image_updated_at'],'created_at':_0x53546e[_0x94a297(0x1e1)],'updated_at':_0x53546e['updated_at']});}_0x2fb287['send'](_0x4a226b);}catch(_0x3bde87){console[_0x94a297(0x1eb)](_0x3bde87),_0x2fb287[_0x94a297(0x1f6)]([]);}}),router[a12_0x23fafc(0x1ef)](a12_0x23fafc(0x1d5),async(_0x144356,_0x800685)=>{const _0x5897ea=a12_0x23fafc;try{const _0x5b3671='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x3a2dfb=_0x5897ea(0x1d1),_0x16e5f6=_0x5897ea(0x1f7),_0x85f6de=[],_0x20d955={},_0x47bb87={},[_0x1e3ce8]=await conn[_0x5897ea(0x1f3)]()[_0x5897ea(0x1d3)](_0x16e5f6);for(let _0x2b32c4=0x0;_0x2b32c4<_0x1e3ce8['length'];_0x2b32c4++){const _0x2db995=_0x1e3ce8[_0x2b32c4];_0x47bb87[_0x2db995['id']]={'id':_0x2db995['id'],'hex':'#'+_0x2db995[_0x5897ea(0x1f1)]};}const [_0x51072e]=conn[_0x5897ea(0x1f3)]()['query'](_0x3a2dfb);for(let _0x3405ed=0x0;_0x3405ed<_0x51072e[_0x5897ea(0x1d4)];_0x3405ed++){const _0x2b2ff1=_0x51072e[_0x3405ed];_0x20d955[_0x2b2ff1['id']]={'id':_0x2b2ff1['id'],'name':_0x2b2ff1[_0x5897ea(0x1e9)],'color_id':_0x2b2ff1[_0x5897ea(0x1f5)],'color':_0x47bb87[_0x2b2ff1['color_id']][_0x5897ea(0x1f1)]};}return _0x800685[_0x5897ea(0x1f6)](_0x20d955);}catch(_0x1eb5e2){console['log'](_0x5897ea(0x1ed)+_0x1eb5e2),_0x800685[_0x5897ea(0x1f6)]('[]');}}),router[a12_0x23fafc(0x1ef)](a12_0x23fafc(0x1f4),async(_0x45fb0d,_0x39a70a)=>{const _0x5aa194=a12_0x23fafc;try{const _0x1b9041=_0x5aa194(0x1e3),_0x2c9ac4=_0x5aa194(0x1d1),_0x3d0671=_0x5aa194(0x1f7),_0x1bc9b9=[],_0x4acf46={},_0x5786bc={};let [_0x2881ca]=await conn[_0x5aa194(0x1f3)]()[_0x5aa194(0x1d3)](_0x3d0671);for(let _0x1e1264=0x0;_0x1e1264<_0x2881ca[_0x5aa194(0x1d4)];_0x1e1264++){const _0x45effc=_0x2881ca[_0x1e1264];_0x5786bc[_0x45effc['id']]={'id':_0x45effc['id'],'hex':'#'+_0x45effc[_0x5aa194(0x1f1)]};}console[_0x5aa194(0x1eb)]({'colors':_0x5786bc});const [_0x28a977]=await conn[_0x5aa194(0x1f3)]()[_0x5aa194(0x1d3)](_0x2c9ac4);for(let _0x1b9e5b=0x0;_0x1b9e5b<_0x28a977[_0x5aa194(0x1d4)];_0x1b9e5b++){const _0x363a87=_0x28a977[_0x1b9e5b];_0x4acf46[_0x363a87['id']]={'id':_0x363a87['id'],'name':_0x363a87[_0x5aa194(0x1e9)],'color_id':_0x363a87[_0x5aa194(0x1f5)],'color':_0x5786bc[_0x363a87[_0x5aa194(0x1f5)]][_0x5aa194(0x1f1)]};}const [_0x321311]=await conn['promise']()[_0x5aa194(0x1d3)](_0x1b9041);for(let _0x45230c=0x0;_0x45230c<_0x321311[_0x5aa194(0x1d4)];_0x45230c++){const _0x26d4a6=_0x321311[_0x45230c];_0x1bc9b9[_0x5aa194(0x1de)]({'id':_0x26d4a6['id'],'room_id':_0x26d4a6[_0x5aa194(0x1db)],'employee_number':_0x26d4a6['employee_number'],'phone':_0x26d4a6[_0x5aa194(0x1e6)],'floor_id':_0x26d4a6[_0x5aa194(0x1ec)],'org2_id':_0x26d4a6[_0x5aa194(0x1e0)],'firstname':_0x26d4a6['employeeName'][_0x5aa194(0x1d0)]('\x20')[0x0],'lastname':_0x26d4a6['employeeName']['split']('\x20')[0x1],'employeeName':_0x26d4a6[_0x5aa194(0x1da)],'department':_0x4acf46[_0x26d4a6['org2_id']]});}_0x39a70a['send'](_0x1bc9b9);}catch(_0x24592c){console['log']('DB\x20/employees\x20error'+_0x24592c),_0x39a70a['send']('[]');}}),module[a12_0x23fafc(0x1ea)]=router;