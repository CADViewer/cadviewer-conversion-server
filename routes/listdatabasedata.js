const a12_0xe1b525=a12_0x3d55;(function(_0x5bee86,_0xd4aaaa){const _0x511e5b=a12_0x3d55,_0x469d5f=_0x5bee86();while(!![]){try{const _0x12e642=parseInt(_0x511e5b(0x156))/0x1*(-parseInt(_0x511e5b(0x134))/0x2)+-parseInt(_0x511e5b(0x158))/0x3*(-parseInt(_0x511e5b(0x140))/0x4)+-parseInt(_0x511e5b(0x138))/0x5*(parseInt(_0x511e5b(0x154))/0x6)+-parseInt(_0x511e5b(0x12f))/0x7+-parseInt(_0x511e5b(0x12c))/0x8+parseInt(_0x511e5b(0x149))/0x9*(-parseInt(_0x511e5b(0x148))/0xa)+-parseInt(_0x511e5b(0x14a))/0xb*(-parseInt(_0x511e5b(0x159))/0xc);if(_0x12e642===_0xd4aaaa)break;else _0x469d5f['push'](_0x469d5f['shift']());}catch(_0x1f352e){_0x469d5f['push'](_0x469d5f['shift']());}}}(a12_0x22a9,0x1ad1f));const fs=require('fs'),path=require(a12_0xe1b525(0x13f)),config=require(a12_0xe1b525(0x139)),conn=require(a12_0xe1b525(0x12d)),express=require(a12_0xe1b525(0x144)),router=express[a12_0xe1b525(0x14c)]();function a12_0x22a9(){const _0x229ee0=['name','Router','log','push','split','created_at','exports','DB\x20/employees\x20error','get','678zwCnLQ','length','2CqBfuL','SELECT\x20id,\x20hex\x20FROM\x20colors','3kdfxIv','8916nMyKaM','/photos/','780184nQezzA','../libs/mysql.js','/org2s','687106vqixpj','image_content_type','/photos/:room_id','hex','image_file_size','122532aMHbFM','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','query','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','7320muZozL','../CADViewer_config.json','org2_id','room_id','floor_id','params','/original/','path','465484ceqPqy','image_updated_at','send','promise','express','image_file_name','employeeName','DB\x20/org2s\x20error','15920mRyMpD','1062MgTVom','9845MKrhZD'];a12_0x22a9=function(){return _0x229ee0;};return a12_0x22a9();}function a12_0x3d55(_0xf9fa9c,_0x32dc92){const _0x22a9aa=a12_0x22a9();return a12_0x3d55=function(_0x3d55db,_0x5aa8ba){_0x3d55db=_0x3d55db-0x12b;let _0x13062e=_0x22a9aa[_0x3d55db];return _0x13062e;},a12_0x3d55(_0xf9fa9c,_0x32dc92);}router[a12_0xe1b525(0x153)](a12_0xe1b525(0x131),async(_0x1d017a,_0x549cd2)=>{const _0x4f448f=a12_0xe1b525;try{const _0x55a7d4=_0x1d017a[_0x4f448f(0x13d)][_0x4f448f(0x13b)],_0x5696df='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x55a7d4,_0x146551=[],[_0x44a095]=await conn[_0x4f448f(0x143)]()[_0x4f448f(0x136)](_0x5696df);for(let _0x447a75=0x0;_0x447a75<_0x44a095[_0x4f448f(0x155)];_0x447a75++){const _0x384fc2=_0x44a095[_0x447a75];_0x146551['push']({'id':_0x384fc2['id'],'image_file_name':_0x4f448f(0x12b)+_0x384fc2['id']+_0x4f448f(0x13e)+_0x384fc2[_0x4f448f(0x145)],'image_content_type':_0x384fc2[_0x4f448f(0x130)],'image_file_size':_0x384fc2[_0x4f448f(0x133)],'image_updated_at':_0x384fc2[_0x4f448f(0x141)],'created_at':_0x384fc2[_0x4f448f(0x150)],'updated_at':_0x384fc2['updated_at']});}_0x549cd2[_0x4f448f(0x142)](_0x146551);}catch(_0x1a84a0){console['log'](_0x1a84a0),_0x549cd2[_0x4f448f(0x142)]([]);}}),router[a12_0xe1b525(0x153)](a12_0xe1b525(0x12e),async(_0x11d810,_0x3fcf4b)=>{const _0x4fa29e=a12_0xe1b525;try{const _0x4237ff=_0x4fa29e(0x135),_0x292de3='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x1ebba7=_0x4fa29e(0x157),_0x364ed8=[],_0x3c3a67={},_0xd64e9c={},[_0x402564]=await conn[_0x4fa29e(0x143)]()[_0x4fa29e(0x136)](_0x1ebba7);for(let _0x330c9c=0x0;_0x330c9c<_0x402564['length'];_0x330c9c++){const _0x1d8367=_0x402564[_0x330c9c];_0xd64e9c[_0x1d8367['id']]={'id':_0x1d8367['id'],'hex':'#'+_0x1d8367[_0x4fa29e(0x132)]};}const [_0xa579a9]=conn[_0x4fa29e(0x143)]()['query'](_0x292de3);for(let _0x5de510=0x0;_0x5de510<_0xa579a9[_0x4fa29e(0x155)];_0x5de510++){const _0x3ab54a=_0xa579a9[_0x5de510];_0x3c3a67[_0x3ab54a['id']]={'id':_0x3ab54a['id'],'name':_0x3ab54a[_0x4fa29e(0x14b)],'color_id':_0x3ab54a['color_id'],'color':_0xd64e9c[_0x3ab54a['color_id']][_0x4fa29e(0x132)]};}return _0x3fcf4b[_0x4fa29e(0x142)](_0x3c3a67);}catch(_0xa77a54){console[_0x4fa29e(0x14d)](_0x4fa29e(0x147)+_0xa77a54),_0x3fcf4b[_0x4fa29e(0x142)]('[]');}}),router[a12_0xe1b525(0x153)]('/employees',async(_0x88a854,_0x29c217)=>{const _0x47af42=a12_0xe1b525;try{const _0x114e54='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x3ff3ce=_0x47af42(0x137),_0x582fc7=_0x47af42(0x157),_0x295945=[],_0xfbff8f={},_0x335ddb={};let [_0x2c5580]=await conn[_0x47af42(0x143)]()[_0x47af42(0x136)](_0x582fc7);for(let _0x200658=0x0;_0x200658<_0x2c5580[_0x47af42(0x155)];_0x200658++){const _0x4180b4=_0x2c5580[_0x200658];_0x335ddb[_0x4180b4['id']]={'id':_0x4180b4['id'],'hex':'#'+_0x4180b4[_0x47af42(0x132)]};}console['log']({'colors':_0x335ddb});const [_0x3766fc]=await conn[_0x47af42(0x143)]()['query'](_0x3ff3ce);for(let _0x515e06=0x0;_0x515e06<_0x3766fc[_0x47af42(0x155)];_0x515e06++){const _0x3de86a=_0x3766fc[_0x515e06];_0xfbff8f[_0x3de86a['id']]={'id':_0x3de86a['id'],'name':_0x3de86a[_0x47af42(0x14b)],'color_id':_0x3de86a['color_id'],'color':_0x335ddb[_0x3de86a['color_id']]['hex']};}const [_0x486fc4]=await conn[_0x47af42(0x143)]()['query'](_0x114e54);for(let _0x1cfb51=0x0;_0x1cfb51<_0x486fc4[_0x47af42(0x155)];_0x1cfb51++){const _0x244717=_0x486fc4[_0x1cfb51];_0x295945[_0x47af42(0x14e)]({'id':_0x244717['id'],'room_id':_0x244717[_0x47af42(0x13b)],'employee_number':_0x244717['employee_number'],'phone':_0x244717['phone'],'floor_id':_0x244717[_0x47af42(0x13c)],'org2_id':_0x244717[_0x47af42(0x13a)],'firstname':_0x244717[_0x47af42(0x146)][_0x47af42(0x14f)]('\x20')[0x0],'lastname':_0x244717[_0x47af42(0x146)][_0x47af42(0x14f)]('\x20')[0x1],'employeeName':_0x244717['employeeName'],'department':_0xfbff8f[_0x244717[_0x47af42(0x13a)]]});}_0x29c217[_0x47af42(0x142)](_0x295945);}catch(_0x2d72b5){console[_0x47af42(0x14d)](_0x47af42(0x152)+_0x2d72b5),_0x29c217[_0x47af42(0x142)]('[]');}}),module[a12_0xe1b525(0x151)]=router;