function a12_0x91a1(){const _0x35e6e0=['phone','5017130WBfAhB','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','send','color_id','/original/','/org2s','2419290TyBduw','get','image_content_type','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','3042936WrRRgs','name','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','/employees','hex','floor_id','exports','39317540SzuBlw','promise','employeeName','length','image_file_size','express','DB\x20/org2s\x20error','log','1113536bgRVVk','split','4438365SctRJK','15557859nYCmrl','DB\x20/employees\x20error','image_updated_at','8ClBhlh','7KoOFWr','room_id','push','query','SELECT\x20id,\x20hex\x20FROM\x20colors','/photos/:room_id','2PwGWrQ','11rPbgOJ'];a12_0x91a1=function(){return _0x35e6e0;};return a12_0x91a1();}const a12_0x105ae7=a12_0x39d0;(function(_0x39087e,_0x2d5b1f){const _0x25e598=a12_0x39d0,_0x89b38a=_0x39087e();while(!![]){try{const _0x32e6d=-parseInt(_0x25e598(0x199))/0x1+-parseInt(_0x25e598(0x1a6))/0x2*(parseInt(_0x25e598(0x19b))/0x3)+-parseInt(_0x25e598(0x18a))/0x4+-parseInt(_0x25e598(0x1a9))/0x5+parseInt(_0x25e598(0x1af))/0x6*(-parseInt(_0x25e598(0x1a0))/0x7)+-parseInt(_0x25e598(0x19f))/0x8*(-parseInt(_0x25e598(0x19c))/0x9)+-parseInt(_0x25e598(0x191))/0xa*(-parseInt(_0x25e598(0x1a7))/0xb);if(_0x32e6d===_0x2d5b1f)break;else _0x89b38a['push'](_0x89b38a['shift']());}catch(_0x1a1466){_0x89b38a['push'](_0x89b38a['shift']());}}}(a12_0x91a1,0xdbbc7));function a12_0x39d0(_0x239614,_0x24bdef){const _0x91a147=a12_0x91a1();return a12_0x39d0=function(_0x39d09b,_0xc6def0){_0x39d09b=_0x39d09b-0x187;let _0x34d1fd=_0x91a147[_0x39d09b];return _0x34d1fd;},a12_0x39d0(_0x239614,_0x24bdef);}const fs=require('fs'),path=require('path'),config=require('../CADViewer_config.json'),conn=require('../libs/mysql.js'),express=require(a12_0x105ae7(0x196)),router=express['Router']();router['get'](a12_0x105ae7(0x1a5),async(_0x4e022e,_0x4d0292)=>{const _0x5d59b9=a12_0x105ae7;try{const _0x1530b4=_0x4e022e['params'][_0x5d59b9(0x1a1)],_0x3c6eae=_0x5d59b9(0x189)+_0x1530b4,_0x593af8=[],[_0x5c5be5]=await conn['promise']()[_0x5d59b9(0x1a3)](_0x3c6eae);for(let _0x5c535f=0x0;_0x5c535f<_0x5c5be5['length'];_0x5c535f++){const _0x261808=_0x5c5be5[_0x5c535f];_0x593af8[_0x5d59b9(0x1a2)]({'id':_0x261808['id'],'image_file_name':'/photos/'+_0x261808['id']+_0x5d59b9(0x1ad)+_0x261808['image_file_name'],'image_content_type':_0x261808[_0x5d59b9(0x188)],'image_file_size':_0x261808[_0x5d59b9(0x195)],'image_updated_at':_0x261808[_0x5d59b9(0x19e)],'created_at':_0x261808['created_at'],'updated_at':_0x261808['updated_at']});}_0x4d0292[_0x5d59b9(0x1ab)](_0x593af8);}catch(_0x44e37b){console['log'](_0x44e37b),_0x4d0292['send']([]);}}),router[a12_0x105ae7(0x187)](a12_0x105ae7(0x1ae),async(_0x3d491a,_0x2f770a)=>{const _0xfc62a=a12_0x105ae7;try{const _0xb533f9=_0xfc62a(0x18c),_0x724dca=_0xfc62a(0x1aa),_0x18f4c1=_0xfc62a(0x1a4),_0x33ae59=[],_0x23c315={},_0x1d534e={},[_0x536840]=await conn[_0xfc62a(0x192)]()[_0xfc62a(0x1a3)](_0x18f4c1);for(let _0xb9108e=0x0;_0xb9108e<_0x536840['length'];_0xb9108e++){const _0x17fa6c=_0x536840[_0xb9108e];_0x1d534e[_0x17fa6c['id']]={'id':_0x17fa6c['id'],'hex':'#'+_0x17fa6c[_0xfc62a(0x18e)]};}const [_0x22d174]=conn[_0xfc62a(0x192)]()[_0xfc62a(0x1a3)](_0x724dca);for(let _0x590598=0x0;_0x590598<_0x22d174[_0xfc62a(0x194)];_0x590598++){const _0x41f1cd=_0x22d174[_0x590598];_0x23c315[_0x41f1cd['id']]={'id':_0x41f1cd['id'],'name':_0x41f1cd[_0xfc62a(0x18b)],'color_id':_0x41f1cd[_0xfc62a(0x1ac)],'color':_0x1d534e[_0x41f1cd['color_id']][_0xfc62a(0x18e)]};}return _0x2f770a[_0xfc62a(0x1ab)](_0x23c315);}catch(_0x14e127){console['log'](_0xfc62a(0x197)+_0x14e127),_0x2f770a[_0xfc62a(0x1ab)]('[]');}}),router['get'](a12_0x105ae7(0x18d),async(_0x2f4807,_0x5d8d5b)=>{const _0x41c24e=a12_0x105ae7;try{const _0x33c996=_0x41c24e(0x18c),_0x416c9d=_0x41c24e(0x1aa),_0x3104fc=_0x41c24e(0x1a4),_0xad7e7a=[],_0x59cee6={},_0xbf8ee={};let [_0xcd9ab1]=await conn[_0x41c24e(0x192)]()[_0x41c24e(0x1a3)](_0x3104fc);for(let _0x1eecb0=0x0;_0x1eecb0<_0xcd9ab1[_0x41c24e(0x194)];_0x1eecb0++){const _0x4ae14f=_0xcd9ab1[_0x1eecb0];_0xbf8ee[_0x4ae14f['id']]={'id':_0x4ae14f['id'],'hex':'#'+_0x4ae14f[_0x41c24e(0x18e)]};}console[_0x41c24e(0x198)]({'colors':_0xbf8ee});const [_0x99efce]=await conn[_0x41c24e(0x192)]()[_0x41c24e(0x1a3)](_0x416c9d);for(let _0x87b2bf=0x0;_0x87b2bf<_0x99efce[_0x41c24e(0x194)];_0x87b2bf++){const _0x3e771e=_0x99efce[_0x87b2bf];_0x59cee6[_0x3e771e['id']]={'id':_0x3e771e['id'],'name':_0x3e771e[_0x41c24e(0x18b)],'color_id':_0x3e771e[_0x41c24e(0x1ac)],'color':_0xbf8ee[_0x3e771e[_0x41c24e(0x1ac)]][_0x41c24e(0x18e)]};}const [_0x19450a]=await conn[_0x41c24e(0x192)]()[_0x41c24e(0x1a3)](_0x33c996);for(let _0x4aa8ed=0x0;_0x4aa8ed<_0x19450a['length'];_0x4aa8ed++){const _0x67e0aa=_0x19450a[_0x4aa8ed];_0xad7e7a[_0x41c24e(0x1a2)]({'id':_0x67e0aa['id'],'room_id':_0x67e0aa[_0x41c24e(0x1a1)],'employee_number':_0x67e0aa['employee_number'],'phone':_0x67e0aa[_0x41c24e(0x1a8)],'floor_id':_0x67e0aa[_0x41c24e(0x18f)],'org2_id':_0x67e0aa['org2_id'],'firstname':_0x67e0aa['employeeName']['split']('\x20')[0x0],'lastname':_0x67e0aa[_0x41c24e(0x193)][_0x41c24e(0x19a)]('\x20')[0x1],'employeeName':_0x67e0aa['employeeName'],'department':_0x59cee6[_0x67e0aa['org2_id']]});}_0x5d8d5b['send'](_0xad7e7a);}catch(_0x3fd2b9){console[_0x41c24e(0x198)](_0x41c24e(0x19d)+_0x3fd2b9),_0x5d8d5b['send']('[]');}}),module[a12_0x105ae7(0x190)]=router;