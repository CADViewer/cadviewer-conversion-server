const a12_0x4f6fcc=a12_0x244b;(function(_0x13dbef,_0x415c06){const _0x3116b5=a12_0x244b,_0x423716=_0x13dbef();while(!![]){try{const _0x134b9a=-parseInt(_0x3116b5(0x20c))/0x1+-parseInt(_0x3116b5(0x1fd))/0x2*(parseInt(_0x3116b5(0x20e))/0x3)+-parseInt(_0x3116b5(0x208))/0x4+-parseInt(_0x3116b5(0x1f7))/0x5*(parseInt(_0x3116b5(0x1e8))/0x6)+-parseInt(_0x3116b5(0x205))/0x7*(parseInt(_0x3116b5(0x207))/0x8)+parseInt(_0x3116b5(0x1f8))/0x9+parseInt(_0x3116b5(0x209))/0xa;if(_0x134b9a===_0x415c06)break;else _0x423716['push'](_0x423716['shift']());}catch(_0x4ac7f2){_0x423716['push'](_0x423716['shift']());}}}(a12_0x5223,0x7163f));const fs=require('fs'),path=require(a12_0x4f6fcc(0x200)),config=require(a12_0x4f6fcc(0x1e5)),conn=require('../libs/mysql.js'),express=require(a12_0x4f6fcc(0x1f2)),router=express['Router']();router[a12_0x4f6fcc(0x1e7)](a12_0x4f6fcc(0x1fe),async(_0x67316f,_0x2639b3)=>{const _0x1296eb=a12_0x4f6fcc;try{const _0x3fbd7e=_0x67316f[_0x1296eb(0x202)][_0x1296eb(0x20f)],_0x54a8ef=_0x1296eb(0x1ed)+_0x3fbd7e,_0x3c340a=[],[_0x33c129]=await conn[_0x1296eb(0x1fa)]()[_0x1296eb(0x1ff)](_0x54a8ef);for(let _0x34a4ff=0x0;_0x34a4ff<_0x33c129['length'];_0x34a4ff++){const _0x1b940f=_0x33c129[_0x34a4ff];_0x3c340a[_0x1296eb(0x201)]({'id':_0x1b940f['id'],'image_file_name':_0x1296eb(0x1e9)+_0x1b940f['id']+_0x1296eb(0x1f6)+_0x1b940f[_0x1296eb(0x1fc)],'image_content_type':_0x1b940f[_0x1296eb(0x1f5)],'image_file_size':_0x1b940f[_0x1296eb(0x1f0)],'image_updated_at':_0x1b940f['image_updated_at'],'created_at':_0x1b940f['created_at'],'updated_at':_0x1b940f[_0x1296eb(0x204)]});}_0x2639b3['send'](_0x3c340a);}catch(_0xcfd015){console[_0x1296eb(0x210)](_0xcfd015),_0x2639b3[_0x1296eb(0x206)]([]);}}),router['get']('/org2s',async(_0x4b4be1,_0x19ac58)=>{const _0x1154cb=a12_0x4f6fcc;try{const _0x1e8cb8='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x8a27f7=_0x1154cb(0x1fb),_0x1fe21a=_0x1154cb(0x1f1),_0x1cdd7a=[],_0x4d682d={},_0x2aa547={},[_0x551d27]=await conn[_0x1154cb(0x1fa)]()[_0x1154cb(0x1ff)](_0x1fe21a);for(let _0x5d660a=0x0;_0x5d660a<_0x551d27[_0x1154cb(0x20a)];_0x5d660a++){const _0x32391c=_0x551d27[_0x5d660a];_0x2aa547[_0x32391c['id']]={'id':_0x32391c['id'],'hex':'#'+_0x32391c[_0x1154cb(0x1f9)]};}const [_0x25664a]=conn[_0x1154cb(0x1fa)]()[_0x1154cb(0x1ff)](_0x8a27f7);for(let _0x1fd893=0x0;_0x1fd893<_0x25664a[_0x1154cb(0x20a)];_0x1fd893++){const _0x85dfc=_0x25664a[_0x1fd893];_0x4d682d[_0x85dfc['id']]={'id':_0x85dfc['id'],'name':_0x85dfc[_0x1154cb(0x1ec)],'color_id':_0x85dfc[_0x1154cb(0x1ef)],'color':_0x2aa547[_0x85dfc[_0x1154cb(0x1ef)]][_0x1154cb(0x1f9)]};}return _0x19ac58[_0x1154cb(0x206)](_0x4d682d);}catch(_0x2607e0){console['log'](_0x1154cb(0x1eb)+_0x2607e0),_0x19ac58[_0x1154cb(0x206)]('[]');}}),router[a12_0x4f6fcc(0x1e7)](a12_0x4f6fcc(0x20d),async(_0x44d447,_0xf10758)=>{const _0x5d7d4f=a12_0x4f6fcc;try{const _0x571a1d=_0x5d7d4f(0x203),_0x41d824='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x2d1bbc=_0x5d7d4f(0x1f1),_0x51a66b=[],_0x1c27ee={},_0x4731de={};let [_0x41747e]=await conn['promise']()[_0x5d7d4f(0x1ff)](_0x2d1bbc);for(let _0x11cf68=0x0;_0x11cf68<_0x41747e[_0x5d7d4f(0x20a)];_0x11cf68++){const _0xdf37f7=_0x41747e[_0x11cf68];_0x4731de[_0xdf37f7['id']]={'id':_0xdf37f7['id'],'hex':'#'+_0xdf37f7[_0x5d7d4f(0x1f9)]};}console['log']({'colors':_0x4731de});const [_0x4031a9]=await conn[_0x5d7d4f(0x1fa)]()[_0x5d7d4f(0x1ff)](_0x41d824);for(let _0x8551e5=0x0;_0x8551e5<_0x4031a9[_0x5d7d4f(0x20a)];_0x8551e5++){const _0x133173=_0x4031a9[_0x8551e5];_0x1c27ee[_0x133173['id']]={'id':_0x133173['id'],'name':_0x133173['name'],'color_id':_0x133173[_0x5d7d4f(0x1ef)],'color':_0x4731de[_0x133173['color_id']]['hex']};}const [_0x504475]=await conn[_0x5d7d4f(0x1fa)]()[_0x5d7d4f(0x1ff)](_0x571a1d);for(let _0x5c9308=0x0;_0x5c9308<_0x504475[_0x5d7d4f(0x20a)];_0x5c9308++){const _0xe4ae48=_0x504475[_0x5c9308];_0x51a66b[_0x5d7d4f(0x201)]({'id':_0xe4ae48['id'],'room_id':_0xe4ae48[_0x5d7d4f(0x20f)],'employee_number':_0xe4ae48[_0x5d7d4f(0x1ea)],'phone':_0xe4ae48['phone'],'floor_id':_0xe4ae48[_0x5d7d4f(0x1e6)],'org2_id':_0xe4ae48[_0x5d7d4f(0x20b)],'firstname':_0xe4ae48[_0x5d7d4f(0x1ee)]['split']('\x20')[0x0],'lastname':_0xe4ae48[_0x5d7d4f(0x1ee)][_0x5d7d4f(0x1f4)]('\x20')[0x1],'employeeName':_0xe4ae48[_0x5d7d4f(0x1ee)],'department':_0x1c27ee[_0xe4ae48[_0x5d7d4f(0x20b)]]});}_0xf10758['send'](_0x51a66b);}catch(_0x528474){console[_0x5d7d4f(0x210)]('DB\x20/employees\x20error'+_0x528474),_0xf10758['send']('[]');}}),module[a12_0x4f6fcc(0x1f3)]=router;function a12_0x244b(_0x238287,_0x101ca3){const _0x522372=a12_0x5223();return a12_0x244b=function(_0x244b59,_0x39b42d){_0x244b59=_0x244b59-0x1e5;let _0x9e56a2=_0x522372[_0x244b59];return _0x9e56a2;},a12_0x244b(_0x238287,_0x101ca3);}function a12_0x5223(){const _0x1fa0ec=['express','exports','split','image_content_type','/original/','830LxKsij','3431637pIlnsX','hex','promise','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','image_file_name','10yHhwus','/photos/:room_id','query','path','push','params','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','updated_at','7805iDgvlz','send','2648RoprOn','3135864LMNfCk','28153690NAmuRY','length','org2_id','225803hcXREd','/employees','445401kKziMm','room_id','log','../CADViewer_config.json','floor_id','get','22086ojMaQZ','/photos/','employee_number','DB\x20/org2s\x20error','name','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','employeeName','color_id','image_file_size','SELECT\x20id,\x20hex\x20FROM\x20colors'];a12_0x5223=function(){return _0x1fa0ec;};return a12_0x5223();}