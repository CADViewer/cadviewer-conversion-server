function a12_0x467e(_0x572890,_0x3cfba7){const _0x2ea9b9=a12_0x2ea9();return a12_0x467e=function(_0x467ec6,_0x21957c){_0x467ec6=_0x467ec6-0x178;let _0x12fb7f=_0x2ea9b9[_0x467ec6];return _0x12fb7f;},a12_0x467e(_0x572890,_0x3cfba7);}const a12_0x3d6c20=a12_0x467e;function a12_0x2ea9(){const _0x4c0e76=['/photos/','query','SELECT\x20id,\x20hex\x20FROM\x20colors','created_at','3090ySkJUr','send','image_content_type','floor_id','room_id','color_id','phone','/employees','image_file_size','12007665arCNiD','exports','1548976cRkCcJ','name','employeeName','230OGYWIt','push','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','promise','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','log','image_file_name','../CADViewer_config.json','length','employee_number','split','DB\x20/org2s\x20error','702725FEGQMT','/org2s','../libs/mysql.js','org2_id','DB\x20/employees\x20error','1250910hZBqfd','updated_at','35QNHYaZ','hex','express','/photos/:room_id','125844ZIFxES','1601036zQgCBj','get'];a12_0x2ea9=function(){return _0x4c0e76;};return a12_0x2ea9();}(function(_0xd6f614,_0x406401){const _0x3af2c9=a12_0x467e,_0x298231=_0xd6f614();while(!![]){try{const _0x4a0134=parseInt(_0x3af2c9(0x185))/0x1*(-parseInt(_0x3af2c9(0x193))/0x2)+-parseInt(_0x3af2c9(0x178))/0x3+-parseInt(_0x3af2c9(0x17f))/0x4+parseInt(_0x3af2c9(0x1a0))/0x5+-parseInt(_0x3af2c9(0x17e))/0x6*(-parseInt(_0x3af2c9(0x17a))/0x7)+-parseInt(_0x3af2c9(0x190))/0x8+parseInt(_0x3af2c9(0x18e))/0x9;if(_0x4a0134===_0x406401)break;else _0x298231['push'](_0x298231['shift']());}catch(_0x4e583f){_0x298231['push'](_0x298231['shift']());}}}(a12_0x2ea9,0x34197));const fs=require('fs'),path=require('path'),config=require(a12_0x3d6c20(0x19b)),conn=require(a12_0x3d6c20(0x1a2)),express=require(a12_0x3d6c20(0x17c)),router=express['Router']();router[a12_0x3d6c20(0x180)](a12_0x3d6c20(0x17d),async(_0x4fb0b7,_0x564e1f)=>{const _0x98cd6e=a12_0x3d6c20;try{const _0x44d619=_0x4fb0b7['params'][_0x98cd6e(0x189)],_0x45a9b1=_0x98cd6e(0x198)+_0x44d619,_0x48d74c=[],[_0x1d8a45]=await conn['promise']()[_0x98cd6e(0x182)](_0x45a9b1);for(let _0x918c1c=0x0;_0x918c1c<_0x1d8a45[_0x98cd6e(0x19c)];_0x918c1c++){const _0x451667=_0x1d8a45[_0x918c1c];_0x48d74c[_0x98cd6e(0x194)]({'id':_0x451667['id'],'image_file_name':_0x98cd6e(0x181)+_0x451667['id']+'/original/'+_0x451667[_0x98cd6e(0x19a)],'image_content_type':_0x451667[_0x98cd6e(0x187)],'image_file_size':_0x451667[_0x98cd6e(0x18d)],'image_updated_at':_0x451667['image_updated_at'],'created_at':_0x451667[_0x98cd6e(0x184)],'updated_at':_0x451667[_0x98cd6e(0x179)]});}_0x564e1f[_0x98cd6e(0x186)](_0x48d74c);}catch(_0x3c49cb){console[_0x98cd6e(0x199)](_0x3c49cb),_0x564e1f['send']([]);}}),router[a12_0x3d6c20(0x180)](a12_0x3d6c20(0x1a1),async(_0x2cf53c,_0x27d0a4)=>{const _0xbd4300=a12_0x3d6c20;try{const _0x24355a=_0xbd4300(0x195),_0x10fde7=_0xbd4300(0x196),_0x26f8a8=_0xbd4300(0x183),_0x41b7dd=[],_0xc4b5d5={},_0x2808ed={},[_0x1d4e7c]=await conn[_0xbd4300(0x197)]()[_0xbd4300(0x182)](_0x26f8a8);for(let _0xa3d49a=0x0;_0xa3d49a<_0x1d4e7c['length'];_0xa3d49a++){const _0xc07c42=_0x1d4e7c[_0xa3d49a];_0x2808ed[_0xc07c42['id']]={'id':_0xc07c42['id'],'hex':'#'+_0xc07c42[_0xbd4300(0x17b)]};}const [_0x509ff0]=conn['promise']()['query'](_0x10fde7);for(let _0x158dae=0x0;_0x158dae<_0x509ff0[_0xbd4300(0x19c)];_0x158dae++){const _0x46ecbb=_0x509ff0[_0x158dae];_0xc4b5d5[_0x46ecbb['id']]={'id':_0x46ecbb['id'],'name':_0x46ecbb['name'],'color_id':_0x46ecbb['color_id'],'color':_0x2808ed[_0x46ecbb[_0xbd4300(0x18a)]][_0xbd4300(0x17b)]};}return _0x27d0a4[_0xbd4300(0x186)](_0xc4b5d5);}catch(_0x11345d){console['log'](_0xbd4300(0x19f)+_0x11345d),_0x27d0a4[_0xbd4300(0x186)]('[]');}}),router[a12_0x3d6c20(0x180)](a12_0x3d6c20(0x18c),async(_0x2f4e06,_0x1c2a9e)=>{const _0x48b312=a12_0x3d6c20;try{const _0x314fda=_0x48b312(0x195),_0x20f5ef='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x3ac23e=_0x48b312(0x183),_0x114801=[],_0x252ef={},_0x2289c5={};let [_0x40f6f9]=await conn[_0x48b312(0x197)]()[_0x48b312(0x182)](_0x3ac23e);for(let _0x4cd0b4=0x0;_0x4cd0b4<_0x40f6f9[_0x48b312(0x19c)];_0x4cd0b4++){const _0x7ff2f6=_0x40f6f9[_0x4cd0b4];_0x2289c5[_0x7ff2f6['id']]={'id':_0x7ff2f6['id'],'hex':'#'+_0x7ff2f6[_0x48b312(0x17b)]};}console[_0x48b312(0x199)]({'colors':_0x2289c5});const [_0x1c036f]=await conn[_0x48b312(0x197)]()['query'](_0x20f5ef);for(let _0x4d1282=0x0;_0x4d1282<_0x1c036f[_0x48b312(0x19c)];_0x4d1282++){const _0x5b58d1=_0x1c036f[_0x4d1282];_0x252ef[_0x5b58d1['id']]={'id':_0x5b58d1['id'],'name':_0x5b58d1[_0x48b312(0x191)],'color_id':_0x5b58d1['color_id'],'color':_0x2289c5[_0x5b58d1['color_id']][_0x48b312(0x17b)]};}const [_0x1bebb4]=await conn[_0x48b312(0x197)]()['query'](_0x314fda);for(let _0x4b7bb9=0x0;_0x4b7bb9<_0x1bebb4['length'];_0x4b7bb9++){const _0x5570c2=_0x1bebb4[_0x4b7bb9];_0x114801[_0x48b312(0x194)]({'id':_0x5570c2['id'],'room_id':_0x5570c2[_0x48b312(0x189)],'employee_number':_0x5570c2[_0x48b312(0x19d)],'phone':_0x5570c2[_0x48b312(0x18b)],'floor_id':_0x5570c2[_0x48b312(0x188)],'org2_id':_0x5570c2['org2_id'],'firstname':_0x5570c2['employeeName'][_0x48b312(0x19e)]('\x20')[0x0],'lastname':_0x5570c2[_0x48b312(0x192)][_0x48b312(0x19e)]('\x20')[0x1],'employeeName':_0x5570c2['employeeName'],'department':_0x252ef[_0x5570c2[_0x48b312(0x1a3)]]});}_0x1c2a9e[_0x48b312(0x186)](_0x114801);}catch(_0x55ab82){console[_0x48b312(0x199)](_0x48b312(0x1a4)+_0x55ab82),_0x1c2a9e[_0x48b312(0x186)]('[]');}}),module[a12_0x3d6c20(0x18f)]=router;