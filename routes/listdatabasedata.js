function a12_0x1a81(_0x4ca539,_0x513f6c){const _0x134dbe=a12_0x134d();return a12_0x1a81=function(_0x1a8125,_0x47bac8){_0x1a8125=_0x1a8125-0x1b5;let _0x555586=_0x134dbe[_0x1a8125];return _0x555586;},a12_0x1a81(_0x4ca539,_0x513f6c);}const a12_0x4ced56=a12_0x1a81;function a12_0x134d(){const _0x3973bd=['/original/','/org2s','213165wXECKu','3113652ytcuot','/employees','get','18240FMUDsn','exports','90549UryXfF','22sozsmj','name','room_id','630194hOGZIH','hex','Router','org2_id','employeeName','image_file_size','../CADViewer_config.json','20uuYEUA','1393JfnOfA','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','split','DB\x20/employees\x20error','promise','phone','image_updated_at','329142mplfuB','path','send','params','log','push','query','1720212TQWNza','1gTdCaY','color_id','../libs/mysql.js','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','DB\x20/org2s\x20error','SELECT\x20id,\x20hex\x20FROM\x20colors','employee_number','created_at','length','image_file_name','24ZvLEyZ'];a12_0x134d=function(){return _0x3973bd;};return a12_0x134d();}(function(_0xf16b8c,_0x435daa){const _0x2253d2=a12_0x1a81,_0x22e2ed=_0xf16b8c();while(!![]){try{const _0x48d5e0=-parseInt(_0x2253d2(0x1d4))/0x1*(-parseInt(_0x2253d2(0x1bd))/0x2)+-parseInt(_0x2253d2(0x1cc))/0x3*(-parseInt(_0x2253d2(0x1de))/0x4)+parseInt(_0x2253d2(0x1e1))/0x5+-parseInt(_0x2253d2(0x1e2))/0x6+-parseInt(_0x2253d2(0x1c5))/0x7*(parseInt(_0x2253d2(0x1b7))/0x8)+-parseInt(_0x2253d2(0x1b9))/0x9*(-parseInt(_0x2253d2(0x1c4))/0xa)+parseInt(_0x2253d2(0x1ba))/0xb*(parseInt(_0x2253d2(0x1d3))/0xc);if(_0x48d5e0===_0x435daa)break;else _0x22e2ed['push'](_0x22e2ed['shift']());}catch(_0x5541c9){_0x22e2ed['push'](_0x22e2ed['shift']());}}}(a12_0x134d,0x557e0));const fs=require('fs'),path=require(a12_0x4ced56(0x1cd)),config=require(a12_0x4ced56(0x1c3)),conn=require(a12_0x4ced56(0x1d6)),express=require('express'),router=express[a12_0x4ced56(0x1bf)]();router[a12_0x4ced56(0x1b6)]('/photos/:room_id',async(_0x252410,_0x127c27)=>{const _0x4e0f77=a12_0x4ced56;try{const _0x40757b=_0x252410[_0x4e0f77(0x1cf)][_0x4e0f77(0x1bc)],_0x3a2d93=_0x4e0f77(0x1d7)+_0x40757b,_0x1e8d79=[],[_0xd53303]=await conn[_0x4e0f77(0x1c9)]()[_0x4e0f77(0x1d2)](_0x3a2d93);for(let _0x3887ca=0x0;_0x3887ca<_0xd53303[_0x4e0f77(0x1dc)];_0x3887ca++){const _0x3bf248=_0xd53303[_0x3887ca];_0x1e8d79[_0x4e0f77(0x1d1)]({'id':_0x3bf248['id'],'image_file_name':'/photos/'+_0x3bf248['id']+_0x4e0f77(0x1df)+_0x3bf248[_0x4e0f77(0x1dd)],'image_content_type':_0x3bf248['image_content_type'],'image_file_size':_0x3bf248[_0x4e0f77(0x1c2)],'image_updated_at':_0x3bf248[_0x4e0f77(0x1cb)],'created_at':_0x3bf248[_0x4e0f77(0x1db)],'updated_at':_0x3bf248['updated_at']});}_0x127c27[_0x4e0f77(0x1ce)](_0x1e8d79);}catch(_0x5c631f){console[_0x4e0f77(0x1d0)](_0x5c631f),_0x127c27['send']([]);}}),router[a12_0x4ced56(0x1b6)](a12_0x4ced56(0x1e0),async(_0x23ddaf,_0x3f752f)=>{const _0x36093f=a12_0x4ced56;try{const _0x3f5447=_0x36093f(0x1c6),_0x2c3470='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x109b23=_0x36093f(0x1d9),_0x3eafbc=[],_0x15ac2a={},_0x269334={},[_0x1a8b91]=await conn['promise']()['query'](_0x109b23);for(let _0x37b6fb=0x0;_0x37b6fb<_0x1a8b91[_0x36093f(0x1dc)];_0x37b6fb++){const _0x285334=_0x1a8b91[_0x37b6fb];_0x269334[_0x285334['id']]={'id':_0x285334['id'],'hex':'#'+_0x285334[_0x36093f(0x1be)]};}const [_0x7c9725]=conn[_0x36093f(0x1c9)]()[_0x36093f(0x1d2)](_0x2c3470);for(let _0x498f56=0x0;_0x498f56<_0x7c9725[_0x36093f(0x1dc)];_0x498f56++){const _0x33bfe2=_0x7c9725[_0x498f56];_0x15ac2a[_0x33bfe2['id']]={'id':_0x33bfe2['id'],'name':_0x33bfe2[_0x36093f(0x1bb)],'color_id':_0x33bfe2[_0x36093f(0x1d5)],'color':_0x269334[_0x33bfe2[_0x36093f(0x1d5)]][_0x36093f(0x1be)]};}return _0x3f752f[_0x36093f(0x1ce)](_0x15ac2a);}catch(_0x2a559d){console[_0x36093f(0x1d0)](_0x36093f(0x1d8)+_0x2a559d),_0x3f752f[_0x36093f(0x1ce)]('[]');}}),router['get'](a12_0x4ced56(0x1b5),async(_0x30839b,_0x153da8)=>{const _0x3b1d2b=a12_0x4ced56;try{const _0x3b3983=_0x3b1d2b(0x1c6),_0x4c63d6='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x284636=_0x3b1d2b(0x1d9),_0x1d071f=[],_0x1d8ee4={},_0x49c94a={};let [_0x414a43]=await conn['promise']()[_0x3b1d2b(0x1d2)](_0x284636);for(let _0x22830c=0x0;_0x22830c<_0x414a43['length'];_0x22830c++){const _0x5c69da=_0x414a43[_0x22830c];_0x49c94a[_0x5c69da['id']]={'id':_0x5c69da['id'],'hex':'#'+_0x5c69da[_0x3b1d2b(0x1be)]};}console['log']({'colors':_0x49c94a});const [_0xb999e0]=await conn[_0x3b1d2b(0x1c9)]()[_0x3b1d2b(0x1d2)](_0x4c63d6);for(let _0x3e9b00=0x0;_0x3e9b00<_0xb999e0[_0x3b1d2b(0x1dc)];_0x3e9b00++){const _0x202b9b=_0xb999e0[_0x3e9b00];_0x1d8ee4[_0x202b9b['id']]={'id':_0x202b9b['id'],'name':_0x202b9b['name'],'color_id':_0x202b9b[_0x3b1d2b(0x1d5)],'color':_0x49c94a[_0x202b9b['color_id']][_0x3b1d2b(0x1be)]};}const [_0x162ec5]=await conn[_0x3b1d2b(0x1c9)]()[_0x3b1d2b(0x1d2)](_0x3b3983);for(let _0x378f75=0x0;_0x378f75<_0x162ec5['length'];_0x378f75++){const _0x2bb3e7=_0x162ec5[_0x378f75];_0x1d071f[_0x3b1d2b(0x1d1)]({'id':_0x2bb3e7['id'],'room_id':_0x2bb3e7[_0x3b1d2b(0x1bc)],'employee_number':_0x2bb3e7[_0x3b1d2b(0x1da)],'phone':_0x2bb3e7[_0x3b1d2b(0x1ca)],'floor_id':_0x2bb3e7['floor_id'],'org2_id':_0x2bb3e7[_0x3b1d2b(0x1c0)],'firstname':_0x2bb3e7[_0x3b1d2b(0x1c1)][_0x3b1d2b(0x1c7)]('\x20')[0x0],'lastname':_0x2bb3e7['employeeName'][_0x3b1d2b(0x1c7)]('\x20')[0x1],'employeeName':_0x2bb3e7[_0x3b1d2b(0x1c1)],'department':_0x1d8ee4[_0x2bb3e7['org2_id']]});}_0x153da8[_0x3b1d2b(0x1ce)](_0x1d071f);}catch(_0x441b18){console[_0x3b1d2b(0x1d0)](_0x3b1d2b(0x1c8)+_0x441b18),_0x153da8['send']('[]');}}),module[a12_0x4ced56(0x1b8)]=router;