function a12_0x1dd3(_0x87d0ff,_0xd8677){const _0x43e3bb=a12_0x43e3();return a12_0x1dd3=function(_0x1dd301,_0x36e3b2){_0x1dd301=_0x1dd301-0x1c2;let _0x4e266b=_0x43e3bb[_0x1dd301];return _0x4e266b;},a12_0x1dd3(_0x87d0ff,_0xd8677);}function a12_0x43e3(){const _0x382be8=['Router','color_id','/org2s','175392slUDIf','210768YUxOck','504TryIAR','image_file_name','push','image_updated_at','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','976551LMgdiK','updated_at','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','DB\x20/employees\x20error','query','params','room_id','SELECT\x20id,\x20hex\x20FROM\x20colors','employee_number','hex','split','log','/photos/:room_id','/employees','length','send','2850550nuGDVg','employeeName','path','151440oTCuDH','../libs/mysql.js','created_at','express','783YpLAUh','org2_id','image_content_type','2QEPBud','name','exports','42888aVLPCI','/photos/','promise','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','30vrzLtT','get','floor_id'];a12_0x43e3=function(){return _0x382be8;};return a12_0x43e3();}const a12_0x331d81=a12_0x1dd3;(function(_0x5bb3d5,_0x3c84c0){const _0x5a3706=a12_0x1dd3,_0x486005=_0x5bb3d5();while(!![]){try{const _0x25080a=parseInt(_0x5a3706(0x1dd))/0x1+parseInt(_0x5a3706(0x1d0))/0x2*(-parseInt(_0x5a3706(0x1e4))/0x3)+-parseInt(_0x5a3706(0x1c9))/0x4+-parseInt(_0x5a3706(0x1d7))/0x5*(parseInt(_0x5a3706(0x1de))/0x6)+-parseInt(_0x5a3706(0x1df))/0x7*(-parseInt(_0x5a3706(0x1d3))/0x8)+parseInt(_0x5a3706(0x1cd))/0x9+parseInt(_0x5a3706(0x1c6))/0xa;if(_0x25080a===_0x3c84c0)break;else _0x486005['push'](_0x486005['shift']());}catch(_0x3a7d3f){_0x486005['push'](_0x486005['shift']());}}}(a12_0x43e3,0x427fd));const fs=require('fs'),path=require(a12_0x331d81(0x1c8)),config=require('../CADViewer_config.json'),conn=require(a12_0x331d81(0x1ca)),express=require(a12_0x331d81(0x1cc)),router=express[a12_0x331d81(0x1da)]();router[a12_0x331d81(0x1d8)](a12_0x331d81(0x1c2),async(_0x5dbcbb,_0x547934)=>{const _0x1f2624=a12_0x331d81;try{const _0x588175=_0x5dbcbb[_0x1f2624(0x1e9)][_0x1f2624(0x1ea)],_0x5e328f=_0x1f2624(0x1e6)+_0x588175,_0x26a9cf=[],[_0xcd12f7]=await conn[_0x1f2624(0x1d5)]()[_0x1f2624(0x1e8)](_0x5e328f);for(let _0x1870c6=0x0;_0x1870c6<_0xcd12f7[_0x1f2624(0x1c4)];_0x1870c6++){const _0x40d77d=_0xcd12f7[_0x1870c6];_0x26a9cf[_0x1f2624(0x1e1)]({'id':_0x40d77d['id'],'image_file_name':_0x1f2624(0x1d4)+_0x40d77d['id']+'/original/'+_0x40d77d[_0x1f2624(0x1e0)],'image_content_type':_0x40d77d[_0x1f2624(0x1cf)],'image_file_size':_0x40d77d['image_file_size'],'image_updated_at':_0x40d77d[_0x1f2624(0x1e2)],'created_at':_0x40d77d[_0x1f2624(0x1cb)],'updated_at':_0x40d77d[_0x1f2624(0x1e5)]});}_0x547934[_0x1f2624(0x1c5)](_0x26a9cf);}catch(_0x3dab72){console[_0x1f2624(0x1ef)](_0x3dab72),_0x547934['send']([]);}}),router[a12_0x331d81(0x1d8)](a12_0x331d81(0x1dc),async(_0x144382,_0x4ef140)=>{const _0x205b06=a12_0x331d81;try{const _0x526979=_0x205b06(0x1d6),_0x122e58=_0x205b06(0x1e3),_0x1a9e35='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x27208b=[],_0x1f0d2f={},_0xe1de9={},[_0x4d7127]=await conn[_0x205b06(0x1d5)]()['query'](_0x1a9e35);for(let _0x4a0463=0x0;_0x4a0463<_0x4d7127[_0x205b06(0x1c4)];_0x4a0463++){const _0x37eac9=_0x4d7127[_0x4a0463];_0xe1de9[_0x37eac9['id']]={'id':_0x37eac9['id'],'hex':'#'+_0x37eac9[_0x205b06(0x1ed)]};}const [_0x53b8e5]=conn['promise']()['query'](_0x122e58);for(let _0x1bddf8=0x0;_0x1bddf8<_0x53b8e5[_0x205b06(0x1c4)];_0x1bddf8++){const _0x2ce3b6=_0x53b8e5[_0x1bddf8];_0x1f0d2f[_0x2ce3b6['id']]={'id':_0x2ce3b6['id'],'name':_0x2ce3b6[_0x205b06(0x1d1)],'color_id':_0x2ce3b6[_0x205b06(0x1db)],'color':_0xe1de9[_0x2ce3b6['color_id']]['hex']};}return _0x4ef140['send'](_0x1f0d2f);}catch(_0x315123){console[_0x205b06(0x1ef)]('DB\x20/org2s\x20error'+_0x315123),_0x4ef140[_0x205b06(0x1c5)]('[]');}}),router[a12_0x331d81(0x1d8)](a12_0x331d81(0x1c3),async(_0x5d54c8,_0x5d3cd7)=>{const _0x33491b=a12_0x331d81;try{const _0x928ec2=_0x33491b(0x1d6),_0x1755a4=_0x33491b(0x1e3),_0x1c2e08=_0x33491b(0x1eb),_0x3eaeb6=[],_0x2e6da6={},_0x47721b={};let [_0x267f98]=await conn['promise']()[_0x33491b(0x1e8)](_0x1c2e08);for(let _0x167be4=0x0;_0x167be4<_0x267f98['length'];_0x167be4++){const _0x2c4b5c=_0x267f98[_0x167be4];_0x47721b[_0x2c4b5c['id']]={'id':_0x2c4b5c['id'],'hex':'#'+_0x2c4b5c['hex']};}console[_0x33491b(0x1ef)]({'colors':_0x47721b});const [_0x1d6255]=await conn[_0x33491b(0x1d5)]()[_0x33491b(0x1e8)](_0x1755a4);for(let _0x24c200=0x0;_0x24c200<_0x1d6255[_0x33491b(0x1c4)];_0x24c200++){const _0x2f4c7e=_0x1d6255[_0x24c200];_0x2e6da6[_0x2f4c7e['id']]={'id':_0x2f4c7e['id'],'name':_0x2f4c7e['name'],'color_id':_0x2f4c7e[_0x33491b(0x1db)],'color':_0x47721b[_0x2f4c7e['color_id']][_0x33491b(0x1ed)]};}const [_0x4d1273]=await conn[_0x33491b(0x1d5)]()[_0x33491b(0x1e8)](_0x928ec2);for(let _0x148db8=0x0;_0x148db8<_0x4d1273['length'];_0x148db8++){const _0x157450=_0x4d1273[_0x148db8];_0x3eaeb6['push']({'id':_0x157450['id'],'room_id':_0x157450[_0x33491b(0x1ea)],'employee_number':_0x157450[_0x33491b(0x1ec)],'phone':_0x157450['phone'],'floor_id':_0x157450[_0x33491b(0x1d9)],'org2_id':_0x157450[_0x33491b(0x1ce)],'firstname':_0x157450['employeeName'][_0x33491b(0x1ee)]('\x20')[0x0],'lastname':_0x157450[_0x33491b(0x1c7)][_0x33491b(0x1ee)]('\x20')[0x1],'employeeName':_0x157450[_0x33491b(0x1c7)],'department':_0x2e6da6[_0x157450['org2_id']]});}_0x5d3cd7[_0x33491b(0x1c5)](_0x3eaeb6);}catch(_0x309e82){console['log'](_0x33491b(0x1e7)+_0x309e82),_0x5d3cd7['send']('[]');}}),module[a12_0x331d81(0x1d2)]=router;