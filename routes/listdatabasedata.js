const a12_0x5c6493=a12_0x4906;(function(_0x457650,_0x44151c){const _0x380b7d=a12_0x4906,_0x592857=_0x457650();while(!![]){try{const _0x3f8002=-parseInt(_0x380b7d(0x102))/0x1*(-parseInt(_0x380b7d(0x100))/0x2)+parseInt(_0x380b7d(0x106))/0x3+-parseInt(_0x380b7d(0x113))/0x4*(parseInt(_0x380b7d(0x108))/0x5)+-parseInt(_0x380b7d(0x10e))/0x6+-parseInt(_0x380b7d(0x10f))/0x7+-parseInt(_0x380b7d(0x129))/0x8*(-parseInt(_0x380b7d(0x127))/0x9)+parseInt(_0x380b7d(0x11e))/0xa;if(_0x3f8002===_0x44151c)break;else _0x592857['push'](_0x592857['shift']());}catch(_0xe6d117){_0x592857['push'](_0x592857['shift']());}}}(a12_0x3ced,0x88a86));const fs=require('fs'),path=require(a12_0x5c6493(0x11a)),config=require(a12_0x5c6493(0x105)),conn=require('../libs/mysql.js'),express=require(a12_0x5c6493(0x110)),router=express[a12_0x5c6493(0x126)]();router[a12_0x5c6493(0x11b)](a12_0x5c6493(0x11d),async(_0x54bbe3,_0x486e24)=>{const _0xc74110=a12_0x5c6493;try{const _0x4a5c9b=_0x54bbe3[_0xc74110(0x120)]['room_id'],_0x523e2e=_0xc74110(0x125)+_0x4a5c9b,_0x35ea57=[],[_0x4f8f75]=await conn[_0xc74110(0x128)]()[_0xc74110(0x119)](_0x523e2e);for(let _0x383f74=0x0;_0x383f74<_0x4f8f75[_0xc74110(0xfd)];_0x383f74++){const _0x11549f=_0x4f8f75[_0x383f74];_0x35ea57[_0xc74110(0x11f)]({'id':_0x11549f['id'],'image_file_name':_0xc74110(0x111)+_0x11549f['id']+'/original/'+_0x11549f[_0xc74110(0x10c)],'image_content_type':_0x11549f[_0xc74110(0x103)],'image_file_size':_0x11549f[_0xc74110(0x114)],'image_updated_at':_0x11549f[_0xc74110(0x101)],'created_at':_0x11549f[_0xc74110(0x104)],'updated_at':_0x11549f['updated_at']});}_0x486e24[_0xc74110(0x112)](_0x35ea57);}catch(_0x551fa0){console[_0xc74110(0x117)](_0x551fa0),_0x486e24[_0xc74110(0x112)]([]);}}),router['get'](a12_0x5c6493(0x118),async(_0x635ac1,_0x183a76)=>{const _0x2f3e41=a12_0x5c6493;try{const _0x413d8e=_0x2f3e41(0x10d),_0xb339f9=_0x2f3e41(0x109),_0x137c92=_0x2f3e41(0xfe),_0x36ca6e=[],_0x3f6af5={},_0x43fa55={},[_0x56d2ed]=await conn['promise']()[_0x2f3e41(0x119)](_0x137c92);for(let _0x1071ab=0x0;_0x1071ab<_0x56d2ed[_0x2f3e41(0xfd)];_0x1071ab++){const _0x170afe=_0x56d2ed[_0x1071ab];_0x43fa55[_0x170afe['id']]={'id':_0x170afe['id'],'hex':'#'+_0x170afe[_0x2f3e41(0x10a)]};}const [_0x522344]=conn[_0x2f3e41(0x128)]()[_0x2f3e41(0x119)](_0xb339f9);for(let _0x1e8938=0x0;_0x1e8938<_0x522344['length'];_0x1e8938++){const _0x4180df=_0x522344[_0x1e8938];_0x3f6af5[_0x4180df['id']]={'id':_0x4180df['id'],'name':_0x4180df['name'],'color_id':_0x4180df[_0x2f3e41(0x12a)],'color':_0x43fa55[_0x4180df['color_id']][_0x2f3e41(0x10a)]};}return _0x183a76[_0x2f3e41(0x112)](_0x3f6af5);}catch(_0x3e374e){console[_0x2f3e41(0x117)]('DB\x20/org2s\x20error'+_0x3e374e),_0x183a76[_0x2f3e41(0x112)]('[]');}}),router[a12_0x5c6493(0x11b)]('/employees',async(_0x542da6,_0xaded43)=>{const _0x13084a=a12_0x5c6493;try{const _0x505aa5=_0x13084a(0x10d),_0x38b11c=_0x13084a(0x109),_0x1c9fd2=_0x13084a(0xfe),_0x58aa08=[],_0x5ed515={},_0x3b66df={};let [_0x5b6c71]=await conn[_0x13084a(0x128)]()[_0x13084a(0x119)](_0x1c9fd2);for(let _0x219942=0x0;_0x219942<_0x5b6c71[_0x13084a(0xfd)];_0x219942++){const _0x2cc5d1=_0x5b6c71[_0x219942];_0x3b66df[_0x2cc5d1['id']]={'id':_0x2cc5d1['id'],'hex':'#'+_0x2cc5d1[_0x13084a(0x10a)]};}console[_0x13084a(0x117)]({'colors':_0x3b66df});const [_0x43f995]=await conn[_0x13084a(0x128)]()[_0x13084a(0x119)](_0x38b11c);for(let _0x5ab60b=0x0;_0x5ab60b<_0x43f995[_0x13084a(0xfd)];_0x5ab60b++){const _0x1d905c=_0x43f995[_0x5ab60b];_0x5ed515[_0x1d905c['id']]={'id':_0x1d905c['id'],'name':_0x1d905c[_0x13084a(0x10b)],'color_id':_0x1d905c[_0x13084a(0x12a)],'color':_0x3b66df[_0x1d905c[_0x13084a(0x12a)]]['hex']};}const [_0x5eda3d]=await conn[_0x13084a(0x128)]()[_0x13084a(0x119)](_0x505aa5);for(let _0x111832=0x0;_0x111832<_0x5eda3d[_0x13084a(0xfd)];_0x111832++){const _0x26329e=_0x5eda3d[_0x111832];_0x58aa08['push']({'id':_0x26329e['id'],'room_id':_0x26329e[_0x13084a(0x121)],'employee_number':_0x26329e[_0x13084a(0x116)],'phone':_0x26329e[_0x13084a(0x115)],'floor_id':_0x26329e[_0x13084a(0x122)],'org2_id':_0x26329e[_0x13084a(0x124)],'firstname':_0x26329e[_0x13084a(0x107)][_0x13084a(0x123)]('\x20')[0x0],'lastname':_0x26329e[_0x13084a(0x107)]['split']('\x20')[0x1],'employeeName':_0x26329e[_0x13084a(0x107)],'department':_0x5ed515[_0x26329e[_0x13084a(0x124)]]});}_0xaded43['send'](_0x58aa08);}catch(_0x4df0bf){console['log'](_0x13084a(0xff)+_0x4df0bf),_0xaded43[_0x13084a(0x112)]('[]');}}),module[a12_0x5c6493(0x11c)]=router;function a12_0x4906(_0x15673a,_0x1c8479){const _0x3ced08=a12_0x3ced();return a12_0x4906=function(_0x4906ad,_0x56921b){_0x4906ad=_0x4906ad-0xfd;let _0x4b02b9=_0x3ced08[_0x4906ad];return _0x4b02b9;},a12_0x4906(_0x15673a,_0x1c8479);}function a12_0x3ced(){const _0x53aa15=['2394690IFOazW','4442501hvSFEL','express','/photos/','send','12WzecPR','image_file_size','phone','employee_number','log','/org2s','query','path','get','exports','/photos/:room_id','7256520NVNZHI','push','params','room_id','floor_id','split','org2_id','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','Router','9310374RomjoM','promise','8ZjTisP','color_id','length','SELECT\x20id,\x20hex\x20FROM\x20colors','DB\x20/employees\x20error','58hlbPIc','image_updated_at','8123iluPNs','image_content_type','created_at','../CADViewer_config.json','950448VEjUDy','employeeName','1198355ujKHAn','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','hex','name','image_file_name','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees'];a12_0x3ced=function(){return _0x53aa15;};return a12_0x3ced();}