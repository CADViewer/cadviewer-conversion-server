function a12_0x2ff3(_0x46c984,_0x4fc97a){const _0x352aad=a12_0x352a();return a12_0x2ff3=function(_0x2ff3a4,_0x3fc549){_0x2ff3a4=_0x2ff3a4-0x111;let _0x5b5f10=_0x352aad[_0x2ff3a4];return _0x5b5f10;},a12_0x2ff3(_0x46c984,_0x4fc97a);}function a12_0x352a(){const _0x15a12c=['get','622665VWLxqU','log','image_file_name','image_updated_at','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','259674JdIMjF','push','promise','/photos/:room_id','hex','exports','/org2s','/original/','94700osLsBa','express','org2_id','split','send','3Pobpba','10mNFxlV','SELECT\x20id,\x20hex\x20FROM\x20colors','employeeName','path','created_at','3102850hjbpST','name','/photos/','room_id','query','image_file_size','params','color_id','../libs/mysql.js','20758DcCIQT','../CADViewer_config.json','Router','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','39081raiOUR','579060ndManM','312autcMX','length','DB\x20/employees\x20error'];a12_0x352a=function(){return _0x15a12c;};return a12_0x352a();}const a12_0x546a92=a12_0x2ff3;(function(_0x3b9410,_0x25f917){const _0x2e64ef=a12_0x2ff3,_0x37042b=_0x3b9410();while(!![]){try{const _0x6ecd2c=parseInt(_0x2e64ef(0x12c))/0x1+parseInt(_0x2e64ef(0x115))/0x2*(parseInt(_0x2e64ef(0x131))/0x3)+parseInt(_0x2e64ef(0x11a))/0x4+parseInt(_0x2e64ef(0x132))/0x5*(-parseInt(_0x2e64ef(0x124))/0x6)+parseInt(_0x2e64ef(0x119))/0x7*(parseInt(_0x2e64ef(0x11b))/0x8)+parseInt(_0x2e64ef(0x11f))/0x9+-parseInt(_0x2e64ef(0x137))/0xa;if(_0x6ecd2c===_0x25f917)break;else _0x37042b['push'](_0x37042b['shift']());}catch(_0x21ef6a){_0x37042b['push'](_0x37042b['shift']());}}}(a12_0x352a,0x22293));const fs=require('fs'),path=require(a12_0x546a92(0x135)),config=require(a12_0x546a92(0x116)),conn=require(a12_0x546a92(0x114)),express=require(a12_0x546a92(0x12d)),router=express[a12_0x546a92(0x117)]();router[a12_0x546a92(0x11e)](a12_0x546a92(0x127),async(_0x2a3632,_0x199dff)=>{const _0x398e49=a12_0x546a92;try{const _0x4ce829=_0x2a3632[_0x398e49(0x112)][_0x398e49(0x13a)],_0x40f405='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x4ce829,_0xef530d=[],[_0x366bbc]=await conn[_0x398e49(0x126)]()[_0x398e49(0x13b)](_0x40f405);for(let _0x4d1661=0x0;_0x4d1661<_0x366bbc[_0x398e49(0x11c)];_0x4d1661++){const _0xba8856=_0x366bbc[_0x4d1661];_0xef530d[_0x398e49(0x125)]({'id':_0xba8856['id'],'image_file_name':_0x398e49(0x139)+_0xba8856['id']+_0x398e49(0x12b)+_0xba8856[_0x398e49(0x121)],'image_content_type':_0xba8856['image_content_type'],'image_file_size':_0xba8856[_0x398e49(0x111)],'image_updated_at':_0xba8856[_0x398e49(0x122)],'created_at':_0xba8856[_0x398e49(0x136)],'updated_at':_0xba8856['updated_at']});}_0x199dff[_0x398e49(0x130)](_0xef530d);}catch(_0x3c8be8){console[_0x398e49(0x120)](_0x3c8be8),_0x199dff['send']([]);}}),router[a12_0x546a92(0x11e)](a12_0x546a92(0x12a),async(_0x2a8fe9,_0x35573e)=>{const _0x53e3d8=a12_0x546a92;try{const _0x28bf0e=_0x53e3d8(0x118),_0x17c9a4=_0x53e3d8(0x123),_0x34199e=_0x53e3d8(0x133),_0x3c1f14=[],_0x34475b={},_0x32406a={},[_0x45ead4]=await conn['promise']()['query'](_0x34199e);for(let _0x39bc10=0x0;_0x39bc10<_0x45ead4[_0x53e3d8(0x11c)];_0x39bc10++){const _0x423be8=_0x45ead4[_0x39bc10];_0x32406a[_0x423be8['id']]={'id':_0x423be8['id'],'hex':'#'+_0x423be8[_0x53e3d8(0x128)]};}const [_0x417583]=conn[_0x53e3d8(0x126)]()[_0x53e3d8(0x13b)](_0x17c9a4);for(let _0x1b8444=0x0;_0x1b8444<_0x417583['length'];_0x1b8444++){const _0x1be90b=_0x417583[_0x1b8444];_0x34475b[_0x1be90b['id']]={'id':_0x1be90b['id'],'name':_0x1be90b[_0x53e3d8(0x138)],'color_id':_0x1be90b[_0x53e3d8(0x113)],'color':_0x32406a[_0x1be90b['color_id']]['hex']};}return _0x35573e[_0x53e3d8(0x130)](_0x34475b);}catch(_0x36175f){console[_0x53e3d8(0x120)]('DB\x20/org2s\x20error'+_0x36175f),_0x35573e['send']('[]');}}),router[a12_0x546a92(0x11e)]('/employees',async(_0x1c43d7,_0x3d934a)=>{const _0x3deb30=a12_0x546a92;try{const _0xe77220=_0x3deb30(0x118),_0xa7007a=_0x3deb30(0x123),_0x427680='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x379b3c=[],_0xf5689b={},_0x2f9ed2={};let [_0x56d6f1]=await conn['promise']()[_0x3deb30(0x13b)](_0x427680);for(let _0x13e94e=0x0;_0x13e94e<_0x56d6f1[_0x3deb30(0x11c)];_0x13e94e++){const _0x5dc3f1=_0x56d6f1[_0x13e94e];_0x2f9ed2[_0x5dc3f1['id']]={'id':_0x5dc3f1['id'],'hex':'#'+_0x5dc3f1['hex']};}console[_0x3deb30(0x120)]({'colors':_0x2f9ed2});const [_0x236b53]=await conn['promise']()['query'](_0xa7007a);for(let _0x575f85=0x0;_0x575f85<_0x236b53['length'];_0x575f85++){const _0x1ca5e6=_0x236b53[_0x575f85];_0xf5689b[_0x1ca5e6['id']]={'id':_0x1ca5e6['id'],'name':_0x1ca5e6['name'],'color_id':_0x1ca5e6['color_id'],'color':_0x2f9ed2[_0x1ca5e6[_0x3deb30(0x113)]][_0x3deb30(0x128)]};}const [_0x468a07]=await conn[_0x3deb30(0x126)]()[_0x3deb30(0x13b)](_0xe77220);for(let _0x4d0a67=0x0;_0x4d0a67<_0x468a07['length'];_0x4d0a67++){const _0x4bebc6=_0x468a07[_0x4d0a67];_0x379b3c['push']({'id':_0x4bebc6['id'],'room_id':_0x4bebc6[_0x3deb30(0x13a)],'employee_number':_0x4bebc6['employee_number'],'phone':_0x4bebc6['phone'],'floor_id':_0x4bebc6['floor_id'],'org2_id':_0x4bebc6[_0x3deb30(0x12e)],'firstname':_0x4bebc6['employeeName'][_0x3deb30(0x12f)]('\x20')[0x0],'lastname':_0x4bebc6['employeeName']['split']('\x20')[0x1],'employeeName':_0x4bebc6[_0x3deb30(0x134)],'department':_0xf5689b[_0x4bebc6[_0x3deb30(0x12e)]]});}_0x3d934a[_0x3deb30(0x130)](_0x379b3c);}catch(_0x51bfe4){console[_0x3deb30(0x120)](_0x3deb30(0x11d)+_0x51bfe4),_0x3d934a[_0x3deb30(0x130)]('[]');}}),module[a12_0x546a92(0x129)]=router;