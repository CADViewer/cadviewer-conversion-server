const a12_0x3ef482=a12_0x13b6;(function(_0x2b9a74,_0xf2d7ed){const _0x49ddd5=a12_0x13b6,_0x2cc034=_0x2b9a74();while(!![]){try{const _0xf638d6=-parseInt(_0x49ddd5(0x1c8))/0x1*(parseInt(_0x49ddd5(0x1c5))/0x2)+-parseInt(_0x49ddd5(0x1a2))/0x3*(-parseInt(_0x49ddd5(0x1c0))/0x4)+parseInt(_0x49ddd5(0x1b9))/0x5+parseInt(_0x49ddd5(0x1b8))/0x6*(-parseInt(_0x49ddd5(0x1cd))/0x7)+-parseInt(_0x49ddd5(0x1c1))/0x8*(-parseInt(_0x49ddd5(0x1bd))/0x9)+parseInt(_0x49ddd5(0x1b3))/0xa+-parseInt(_0x49ddd5(0x1cb))/0xb;if(_0xf638d6===_0xf2d7ed)break;else _0x2cc034['push'](_0x2cc034['shift']());}catch(_0x175e33){_0x2cc034['push'](_0x2cc034['shift']());}}}(a12_0x11fa,0xa8f60));function a12_0x11fa(){const _0xb5ad19=['SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','split','9907205DcrGRn','get','2397052JGvjUh','/original/','log','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','3834861nUpxYS','employee_number','name','image_file_name','image_content_type','express','/employees','send','/photos/:room_id','/photos/','employeeName','push','Router','exports','updated_at','image_updated_at','path','6466500lXRiDf','room_id','params','hex','floor_id','24jwxJKJ','3862170YHsFFi','SELECT\x20id,\x20hex\x20FROM\x20colors','query','../CADViewer_config.json','308601qaAQAH','DB\x20/employees\x20error','/org2s','4MbrEjH','112uvgHDC','promise','org2_id','color_id','6934wOFnBW','../libs/mysql.js','length','62ZIRKdv'];a12_0x11fa=function(){return _0xb5ad19;};return a12_0x11fa();}const fs=require('fs'),path=require(a12_0x3ef482(0x1b2)),config=require(a12_0x3ef482(0x1bc)),conn=require(a12_0x3ef482(0x1c6)),express=require(a12_0x3ef482(0x1a7)),router=express[a12_0x3ef482(0x1ae)]();function a12_0x13b6(_0xe1f063,_0x4f383a){const _0x11fac6=a12_0x11fa();return a12_0x13b6=function(_0x13b6a5,_0x12ad32){_0x13b6a5=_0x13b6a5-0x1a0;let _0x32525e=_0x11fac6[_0x13b6a5];return _0x32525e;},a12_0x13b6(_0xe1f063,_0x4f383a);}router[a12_0x3ef482(0x1cc)](a12_0x3ef482(0x1aa),async(_0x353e60,_0x4a1eec)=>{const _0x369498=a12_0x3ef482;try{const _0x535116=_0x353e60[_0x369498(0x1b5)][_0x369498(0x1b4)],_0x37f304=_0x369498(0x1a1)+_0x535116,_0x442eb4=[],[_0x5cc657]=await conn[_0x369498(0x1c2)]()[_0x369498(0x1bb)](_0x37f304);for(let _0x5d3b71=0x0;_0x5d3b71<_0x5cc657[_0x369498(0x1c7)];_0x5d3b71++){const _0x56edc2=_0x5cc657[_0x5d3b71];_0x442eb4[_0x369498(0x1ad)]({'id':_0x56edc2['id'],'image_file_name':_0x369498(0x1ab)+_0x56edc2['id']+_0x369498(0x1ce)+_0x56edc2[_0x369498(0x1a5)],'image_content_type':_0x56edc2[_0x369498(0x1a6)],'image_file_size':_0x56edc2['image_file_size'],'image_updated_at':_0x56edc2[_0x369498(0x1b1)],'created_at':_0x56edc2['created_at'],'updated_at':_0x56edc2[_0x369498(0x1b0)]});}_0x4a1eec['send'](_0x442eb4);}catch(_0xa7d96e){console[_0x369498(0x1a0)](_0xa7d96e),_0x4a1eec[_0x369498(0x1a9)]([]);}}),router['get'](a12_0x3ef482(0x1bf),async(_0x5bbc62,_0x1d8a4d)=>{const _0x5f4f08=a12_0x3ef482;try{const _0x5e2675=_0x5f4f08(0x1c9),_0x16f91e='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x391323=_0x5f4f08(0x1ba),_0x40027b=[],_0x513121={},_0x386839={},[_0x1ccee7]=await conn[_0x5f4f08(0x1c2)]()[_0x5f4f08(0x1bb)](_0x391323);for(let _0x4f8835=0x0;_0x4f8835<_0x1ccee7[_0x5f4f08(0x1c7)];_0x4f8835++){const _0x164ce2=_0x1ccee7[_0x4f8835];_0x386839[_0x164ce2['id']]={'id':_0x164ce2['id'],'hex':'#'+_0x164ce2[_0x5f4f08(0x1b6)]};}const [_0x26d34e]=conn['promise']()[_0x5f4f08(0x1bb)](_0x16f91e);for(let _0x2021f1=0x0;_0x2021f1<_0x26d34e['length'];_0x2021f1++){const _0x3d87f0=_0x26d34e[_0x2021f1];_0x513121[_0x3d87f0['id']]={'id':_0x3d87f0['id'],'name':_0x3d87f0[_0x5f4f08(0x1a4)],'color_id':_0x3d87f0[_0x5f4f08(0x1c4)],'color':_0x386839[_0x3d87f0[_0x5f4f08(0x1c4)]][_0x5f4f08(0x1b6)]};}return _0x1d8a4d[_0x5f4f08(0x1a9)](_0x513121);}catch(_0x51d0cf){console['log']('DB\x20/org2s\x20error'+_0x51d0cf),_0x1d8a4d['send']('[]');}}),router['get'](a12_0x3ef482(0x1a8),async(_0x1803d1,_0x90408a)=>{const _0xafae7f=a12_0x3ef482;try{const _0x43aeef=_0xafae7f(0x1c9),_0x5014d4='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x218872='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x3e95a2=[],_0x2a18de={},_0x550543={};let [_0x20b832]=await conn[_0xafae7f(0x1c2)]()[_0xafae7f(0x1bb)](_0x218872);for(let _0x584a28=0x0;_0x584a28<_0x20b832[_0xafae7f(0x1c7)];_0x584a28++){const _0x51da53=_0x20b832[_0x584a28];_0x550543[_0x51da53['id']]={'id':_0x51da53['id'],'hex':'#'+_0x51da53[_0xafae7f(0x1b6)]};}console[_0xafae7f(0x1a0)]({'colors':_0x550543});const [_0x5cda06]=await conn['promise']()['query'](_0x5014d4);for(let _0x47066d=0x0;_0x47066d<_0x5cda06['length'];_0x47066d++){const _0x1b770a=_0x5cda06[_0x47066d];_0x2a18de[_0x1b770a['id']]={'id':_0x1b770a['id'],'name':_0x1b770a[_0xafae7f(0x1a4)],'color_id':_0x1b770a[_0xafae7f(0x1c4)],'color':_0x550543[_0x1b770a['color_id']][_0xafae7f(0x1b6)]};}const [_0x1c8871]=await conn['promise']()['query'](_0x43aeef);for(let _0x5f2903=0x0;_0x5f2903<_0x1c8871[_0xafae7f(0x1c7)];_0x5f2903++){const _0x161987=_0x1c8871[_0x5f2903];_0x3e95a2[_0xafae7f(0x1ad)]({'id':_0x161987['id'],'room_id':_0x161987[_0xafae7f(0x1b4)],'employee_number':_0x161987[_0xafae7f(0x1a3)],'phone':_0x161987['phone'],'floor_id':_0x161987[_0xafae7f(0x1b7)],'org2_id':_0x161987[_0xafae7f(0x1c3)],'firstname':_0x161987[_0xafae7f(0x1ac)][_0xafae7f(0x1ca)]('\x20')[0x0],'lastname':_0x161987[_0xafae7f(0x1ac)][_0xafae7f(0x1ca)]('\x20')[0x1],'employeeName':_0x161987[_0xafae7f(0x1ac)],'department':_0x2a18de[_0x161987[_0xafae7f(0x1c3)]]});}_0x90408a['send'](_0x3e95a2);}catch(_0xbca10b){console['log'](_0xafae7f(0x1be)+_0xbca10b),_0x90408a[_0xafae7f(0x1a9)]('[]');}}),module[a12_0x3ef482(0x1af)]=router;