function a12_0x1146(){const _0x171334=['updated_at','323948fkkTUt','DB\x20/employees\x20error','hex','phone','SELECT\x20id,\x20hex\x20FROM\x20colors','DB\x20/org2s\x20error','employeeName','10644bCoTFw','promise','../libs/mysql.js','574048YeOyLc','../CADViewer_config.json','send','employee_number','room_id','express','207YKmJAs','2139765XCCcUD','/org2s','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','push','/photos/','name','exports','30FoSrTd','split','2781584yIpQLc','length','created_at','image_file_size','floor_id','log','params','/original/','46772JqHnFZ','path','get','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','7060GORnDZ','image_updated_at','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','color_id','Router','query','6657RpCCOb','585048kpfpGN'];a12_0x1146=function(){return _0x171334;};return a12_0x1146();}const a12_0x4e3540=a12_0xb954;(function(_0x306b4f,_0x3184e3){const _0x2a9e05=a12_0xb954,_0x3c65b5=_0x306b4f();while(!![]){try{const _0x682d74=-parseInt(_0x2a9e05(0x16d))/0x1+parseInt(_0x2a9e05(0x17d))/0x2+-parseInt(_0x2a9e05(0x174))/0x3+parseInt(_0x2a9e05(0x163))/0x4*(parseInt(_0x2a9e05(0x17b))/0x5)+parseInt(_0x2a9e05(0x16a))/0x6*(parseInt(_0x2a9e05(0x160))/0x7)+parseInt(_0x2a9e05(0x161))/0x8*(parseInt(_0x2a9e05(0x173))/0x9)+-parseInt(_0x2a9e05(0x15a))/0xa*(parseInt(_0x2a9e05(0x156))/0xb);if(_0x682d74===_0x3184e3)break;else _0x3c65b5['push'](_0x3c65b5['shift']());}catch(_0xd31653){_0x3c65b5['push'](_0x3c65b5['shift']());}}}(a12_0x1146,0xe98aa));const fs=require('fs'),path=require(a12_0x4e3540(0x157)),config=require(a12_0x4e3540(0x16e)),conn=require(a12_0x4e3540(0x16c)),express=require(a12_0x4e3540(0x172)),router=express[a12_0x4e3540(0x15e)]();function a12_0xb954(_0x4f1b74,_0x522fe1){const _0x1146e0=a12_0x1146();return a12_0xb954=function(_0xb954b2,_0x20ac2b){_0xb954b2=_0xb954b2-0x150;let _0x596959=_0x1146e0[_0xb954b2];return _0x596959;},a12_0xb954(_0x4f1b74,_0x522fe1);}router[a12_0x4e3540(0x158)]('/photos/:room_id',async(_0x1d7142,_0x3b570f)=>{const _0x4e3eb0=a12_0x4e3540;try{const _0x3baac1=_0x1d7142[_0x4e3eb0(0x154)][_0x4e3eb0(0x171)],_0xb74b68=_0x4e3eb0(0x159)+_0x3baac1,_0x5be3c7=[],[_0x4515cc]=await conn[_0x4e3eb0(0x16b)]()[_0x4e3eb0(0x15f)](_0xb74b68);for(let _0x34da27=0x0;_0x34da27<_0x4515cc[_0x4e3eb0(0x17e)];_0x34da27++){const _0x545df7=_0x4515cc[_0x34da27];_0x5be3c7[_0x4e3eb0(0x177)]({'id':_0x545df7['id'],'image_file_name':_0x4e3eb0(0x178)+_0x545df7['id']+_0x4e3eb0(0x155)+_0x545df7['image_file_name'],'image_content_type':_0x545df7['image_content_type'],'image_file_size':_0x545df7[_0x4e3eb0(0x151)],'image_updated_at':_0x545df7[_0x4e3eb0(0x15b)],'created_at':_0x545df7[_0x4e3eb0(0x150)],'updated_at':_0x545df7[_0x4e3eb0(0x162)]});}_0x3b570f[_0x4e3eb0(0x16f)](_0x5be3c7);}catch(_0x13c0cc){console[_0x4e3eb0(0x153)](_0x13c0cc),_0x3b570f[_0x4e3eb0(0x16f)]([]);}}),router[a12_0x4e3540(0x158)](a12_0x4e3540(0x175),async(_0x5b5029,_0x4d3e71)=>{const _0x41f018=a12_0x4e3540;try{const _0x34c91f=_0x41f018(0x15c),_0x31a5b4=_0x41f018(0x176),_0x3c5e9e=_0x41f018(0x167),_0x2b6d46=[],_0x405fd4={},_0x2e452b={},[_0x3c6bb7]=await conn[_0x41f018(0x16b)]()[_0x41f018(0x15f)](_0x3c5e9e);for(let _0x10b3d3=0x0;_0x10b3d3<_0x3c6bb7[_0x41f018(0x17e)];_0x10b3d3++){const _0x501b49=_0x3c6bb7[_0x10b3d3];_0x2e452b[_0x501b49['id']]={'id':_0x501b49['id'],'hex':'#'+_0x501b49[_0x41f018(0x165)]};}const [_0x370acb]=conn[_0x41f018(0x16b)]()[_0x41f018(0x15f)](_0x31a5b4);for(let _0x43410a=0x0;_0x43410a<_0x370acb['length'];_0x43410a++){const _0x5de1ae=_0x370acb[_0x43410a];_0x405fd4[_0x5de1ae['id']]={'id':_0x5de1ae['id'],'name':_0x5de1ae[_0x41f018(0x179)],'color_id':_0x5de1ae['color_id'],'color':_0x2e452b[_0x5de1ae[_0x41f018(0x15d)]][_0x41f018(0x165)]};}return _0x4d3e71[_0x41f018(0x16f)](_0x405fd4);}catch(_0x582cfe){console[_0x41f018(0x153)](_0x41f018(0x168)+_0x582cfe),_0x4d3e71[_0x41f018(0x16f)]('[]');}}),router[a12_0x4e3540(0x158)]('/employees',async(_0x4e9a2e,_0xe7cf51)=>{const _0x454ca3=a12_0x4e3540;try{const _0x4a827f='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x290e89='SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s',_0x1bbf66=_0x454ca3(0x167),_0x3d7842=[],_0x128b5b={},_0x42c81b={};let [_0x29c3cd]=await conn[_0x454ca3(0x16b)]()['query'](_0x1bbf66);for(let _0x23dfbe=0x0;_0x23dfbe<_0x29c3cd[_0x454ca3(0x17e)];_0x23dfbe++){const _0x35f4c0=_0x29c3cd[_0x23dfbe];_0x42c81b[_0x35f4c0['id']]={'id':_0x35f4c0['id'],'hex':'#'+_0x35f4c0[_0x454ca3(0x165)]};}console['log']({'colors':_0x42c81b});const [_0x1b94fe]=await conn[_0x454ca3(0x16b)]()[_0x454ca3(0x15f)](_0x290e89);for(let _0x165b5f=0x0;_0x165b5f<_0x1b94fe[_0x454ca3(0x17e)];_0x165b5f++){const _0x2f42f0=_0x1b94fe[_0x165b5f];_0x128b5b[_0x2f42f0['id']]={'id':_0x2f42f0['id'],'name':_0x2f42f0[_0x454ca3(0x179)],'color_id':_0x2f42f0[_0x454ca3(0x15d)],'color':_0x42c81b[_0x2f42f0[_0x454ca3(0x15d)]]['hex']};}const [_0x9c8249]=await conn[_0x454ca3(0x16b)]()[_0x454ca3(0x15f)](_0x4a827f);for(let _0xd3681c=0x0;_0xd3681c<_0x9c8249['length'];_0xd3681c++){const _0x55e0bd=_0x9c8249[_0xd3681c];_0x3d7842['push']({'id':_0x55e0bd['id'],'room_id':_0x55e0bd[_0x454ca3(0x171)],'employee_number':_0x55e0bd[_0x454ca3(0x170)],'phone':_0x55e0bd[_0x454ca3(0x166)],'floor_id':_0x55e0bd[_0x454ca3(0x152)],'org2_id':_0x55e0bd['org2_id'],'firstname':_0x55e0bd[_0x454ca3(0x169)][_0x454ca3(0x17c)]('\x20')[0x0],'lastname':_0x55e0bd['employeeName'][_0x454ca3(0x17c)]('\x20')[0x1],'employeeName':_0x55e0bd['employeeName'],'department':_0x128b5b[_0x55e0bd['org2_id']]});}_0xe7cf51[_0x454ca3(0x16f)](_0x3d7842);}catch(_0x4dc574){console[_0x454ca3(0x153)](_0x454ca3(0x164)+_0x4dc574),_0xe7cf51[_0x454ca3(0x16f)]('[]');}}),module[a12_0x4e3540(0x17a)]=router;