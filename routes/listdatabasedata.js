function a13_0x5973(_0xab13a4,_0x10c4a7){const _0x3d9caf=a13_0x3d9c();return a13_0x5973=function(_0x597384,_0x27c773){_0x597384=_0x597384-0x143;let _0x224ac7=_0x3d9caf[_0x597384];return _0x224ac7;},a13_0x5973(_0xab13a4,_0x10c4a7);}const a13_0x466e8b=a13_0x5973;(function(_0xdbc08,_0x217c05){const _0x2f4df3=a13_0x5973,_0x510e67=_0xdbc08();while(!![]){try{const _0x19644b=parseInt(_0x2f4df3(0x166))/0x1*(parseInt(_0x2f4df3(0x162))/0x2)+-parseInt(_0x2f4df3(0x14f))/0x3*(parseInt(_0x2f4df3(0x150))/0x4)+parseInt(_0x2f4df3(0x14c))/0x5+-parseInt(_0x2f4df3(0x14a))/0x6+parseInt(_0x2f4df3(0x143))/0x7*(-parseInt(_0x2f4df3(0x152))/0x8)+parseInt(_0x2f4df3(0x158))/0x9+parseInt(_0x2f4df3(0x154))/0xa*(-parseInt(_0x2f4df3(0x159))/0xb);if(_0x19644b===_0x217c05)break;else _0x510e67['push'](_0x510e67['shift']());}catch(_0x8d1f8f){_0x510e67['push'](_0x510e67['shift']());}}}(a13_0x3d9c,0xc7cf7));const fs=require('fs'),path=require(a13_0x466e8b(0x168)),config=require(a13_0x466e8b(0x16c)),conn=require('../libs/mysql.js'),express=require('express'),router=express[a13_0x466e8b(0x149)]();function a13_0x3d9c(){const _0x804324=['hex','params','Router','1523190sbwXrQ','push','1698255paAnhI','updated_at','color_id','3574869nsHGWT','4HolFzM','DB\x20/employees\x20error','33592bIFHYv','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','696950gPnNEk','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','get','length','13051548lerkoc','154ZHqmWk','employeeName','phone','employee_number','/photos/','org2_id','exports','room_id','query','2TpipQd','split','promise','/original/','1571589iCVtYj','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','path','/photos/:room_id','name','image_file_name','../CADViewer_config.json','203XRtonJ','log','image_updated_at','send'];a13_0x3d9c=function(){return _0x804324;};return a13_0x3d9c();}router[a13_0x466e8b(0x156)](a13_0x466e8b(0x169),async(_0x446fea,_0x1f7ed5)=>{const _0xc63000=a13_0x466e8b;try{const _0x19efbf=_0x446fea[_0xc63000(0x148)]['room_id'],_0x43272=_0xc63000(0x155)+_0x19efbf,_0x3307f6=[],[_0x2b4242]=await conn[_0xc63000(0x164)]()[_0xc63000(0x161)](_0x43272);for(let _0x43c8ef=0x0;_0x43c8ef<_0x2b4242['length'];_0x43c8ef++){const _0x1482b5=_0x2b4242[_0x43c8ef];_0x3307f6[_0xc63000(0x14b)]({'id':_0x1482b5['id'],'image_file_name':_0xc63000(0x15d)+_0x1482b5['id']+_0xc63000(0x165)+_0x1482b5[_0xc63000(0x16b)],'image_content_type':_0x1482b5['image_content_type'],'image_file_size':_0x1482b5['image_file_size'],'image_updated_at':_0x1482b5[_0xc63000(0x145)],'created_at':_0x1482b5['created_at'],'updated_at':_0x1482b5[_0xc63000(0x14d)]});}_0x1f7ed5[_0xc63000(0x146)](_0x3307f6);}catch(_0x8f1b3){console[_0xc63000(0x144)](_0x8f1b3),_0x1f7ed5[_0xc63000(0x146)]([]);}}),router[a13_0x466e8b(0x156)]('/org2s',async(_0x1f585a,_0x1060cb)=>{const _0x41680a=a13_0x466e8b;try{const _0x274e42='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x25f9e7=_0x41680a(0x167),_0x28cd3c='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x20ad9f=[],_0x3b7dfc={},_0x115573={},[_0x370c3c]=await conn[_0x41680a(0x164)]()[_0x41680a(0x161)](_0x28cd3c);for(let _0x38c849=0x0;_0x38c849<_0x370c3c[_0x41680a(0x157)];_0x38c849++){const _0x133a41=_0x370c3c[_0x38c849];_0x115573[_0x133a41['id']]={'id':_0x133a41['id'],'hex':'#'+_0x133a41['hex']};}const [_0x3e3e49]=conn[_0x41680a(0x164)]()[_0x41680a(0x161)](_0x25f9e7);for(let _0x260fca=0x0;_0x260fca<_0x3e3e49[_0x41680a(0x157)];_0x260fca++){const _0x3ade5c=_0x3e3e49[_0x260fca];_0x3b7dfc[_0x3ade5c['id']]={'id':_0x3ade5c['id'],'name':_0x3ade5c[_0x41680a(0x16a)],'color_id':_0x3ade5c['color_id'],'color':_0x115573[_0x3ade5c[_0x41680a(0x14e)]][_0x41680a(0x147)]};}return _0x1060cb[_0x41680a(0x146)](_0x3b7dfc);}catch(_0x525eaa){console[_0x41680a(0x144)]('DB\x20/org2s\x20error'+_0x525eaa),_0x1060cb[_0x41680a(0x146)]('[]');}}),router[a13_0x466e8b(0x156)]('/employees',async(_0x94b6a,_0x304229)=>{const _0x30d9f3=a13_0x466e8b;try{const _0x202b1=_0x30d9f3(0x153),_0x14a5b4=_0x30d9f3(0x167),_0x20ffc2='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x49b02=[],_0x281db5={},_0x522446={};let [_0x5d5a5b]=await conn[_0x30d9f3(0x164)]()[_0x30d9f3(0x161)](_0x20ffc2);for(let _0x43d48f=0x0;_0x43d48f<_0x5d5a5b['length'];_0x43d48f++){const _0x2695ae=_0x5d5a5b[_0x43d48f];_0x522446[_0x2695ae['id']]={'id':_0x2695ae['id'],'hex':'#'+_0x2695ae[_0x30d9f3(0x147)]};}console['log']({'colors':_0x522446});const [_0x280401]=await conn[_0x30d9f3(0x164)]()[_0x30d9f3(0x161)](_0x14a5b4);for(let _0x58f5b2=0x0;_0x58f5b2<_0x280401['length'];_0x58f5b2++){const _0x4700b0=_0x280401[_0x58f5b2];_0x281db5[_0x4700b0['id']]={'id':_0x4700b0['id'],'name':_0x4700b0[_0x30d9f3(0x16a)],'color_id':_0x4700b0[_0x30d9f3(0x14e)],'color':_0x522446[_0x4700b0[_0x30d9f3(0x14e)]]['hex']};}const [_0x4e31bd]=await conn['promise']()[_0x30d9f3(0x161)](_0x202b1);for(let _0x3951d9=0x0;_0x3951d9<_0x4e31bd[_0x30d9f3(0x157)];_0x3951d9++){const _0x1423b4=_0x4e31bd[_0x3951d9];_0x49b02[_0x30d9f3(0x14b)]({'id':_0x1423b4['id'],'room_id':_0x1423b4[_0x30d9f3(0x160)],'employee_number':_0x1423b4[_0x30d9f3(0x15c)],'phone':_0x1423b4[_0x30d9f3(0x15b)],'floor_id':_0x1423b4['floor_id'],'org2_id':_0x1423b4[_0x30d9f3(0x15e)],'firstname':_0x1423b4['employeeName'][_0x30d9f3(0x163)]('\x20')[0x0],'lastname':_0x1423b4[_0x30d9f3(0x15a)][_0x30d9f3(0x163)]('\x20')[0x1],'employeeName':_0x1423b4[_0x30d9f3(0x15a)],'department':_0x281db5[_0x1423b4['org2_id']]});}_0x304229[_0x30d9f3(0x146)](_0x49b02);}catch(_0x1a06fd){console['log'](_0x30d9f3(0x151)+_0x1a06fd),_0x304229['send']('[]');}}),module[a13_0x466e8b(0x15f)]=router;