const a13_0x35a853=a13_0x48a6;function a13_0x48a6(_0x1bcb21,_0x424ba5){const _0x191866=a13_0x1918();return a13_0x48a6=function(_0x48a678,_0x38e472){_0x48a678=_0x48a678-0x1e1;let _0x5d1c12=_0x191866[_0x48a678];return _0x5d1c12;},a13_0x48a6(_0x1bcb21,_0x424ba5);}(function(_0x2a2c93,_0xc19ef7){const _0x4c6cf5=a13_0x48a6,_0x1e68e6=_0x2a2c93();while(!![]){try{const _0x3f4ea2=parseInt(_0x4c6cf5(0x1fb))/0x1+parseInt(_0x4c6cf5(0x1f6))/0x2+-parseInt(_0x4c6cf5(0x1e7))/0x3+-parseInt(_0x4c6cf5(0x1eb))/0x4+parseInt(_0x4c6cf5(0x1e9))/0x5*(-parseInt(_0x4c6cf5(0x1e5))/0x6)+parseInt(_0x4c6cf5(0x1f0))/0x7+parseInt(_0x4c6cf5(0x1ed))/0x8;if(_0x3f4ea2===_0xc19ef7)break;else _0x1e68e6['push'](_0x1e68e6['shift']());}catch(_0x31cdf5){_0x1e68e6['push'](_0x1e68e6['shift']());}}}(a13_0x1918,0xe47e2));const fs=require('fs'),path=require(a13_0x35a853(0x203)),config=require(a13_0x35a853(0x1f1)),conn=require(a13_0x35a853(0x207)),express=require(a13_0x35a853(0x1e4)),router=express['Router']();function a13_0x1918(){const _0x2e0d80=['get','image_file_size','path','send','length','query','../libs/mysql.js','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','employeeName','created_at','log','push','promise','express','59478CJwNZM','params','2130153sIIgQp','org2_id','695kyzoqW','name','872484VjEEbo','image_updated_at','19799560HqswwI','DB\x20/org2s\x20error','/photos/:room_id','3122385qyrfje','../CADViewer_config.json','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','exports','employee_number','floor_id','106132VGDgLy','hex','DB\x20/employees\x20error','SELECT\x20id,\x20hex\x20FROM\x20colors','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','267919NFQlYo','updated_at','/employees','color_id','/photos/','room_id'];a13_0x1918=function(){return _0x2e0d80;};return a13_0x1918();}router[a13_0x35a853(0x201)](a13_0x35a853(0x1ef),async(_0x2e498d,_0xcc8bad)=>{const _0x1a46ba=a13_0x35a853;try{const _0x2ba56e=_0x2e498d[_0x1a46ba(0x1e6)][_0x1a46ba(0x200)],_0x3821a3=_0x1a46ba(0x1fa)+_0x2ba56e,_0x3e81b5=[],[_0x2d09c6]=await conn[_0x1a46ba(0x1e3)]()[_0x1a46ba(0x206)](_0x3821a3);for(let _0x3bc790=0x0;_0x3bc790<_0x2d09c6[_0x1a46ba(0x205)];_0x3bc790++){const _0x1a660b=_0x2d09c6[_0x3bc790];_0x3e81b5[_0x1a46ba(0x1e2)]({'id':_0x1a660b['id'],'image_file_name':_0x1a46ba(0x1ff)+_0x1a660b['id']+'/original/'+_0x1a660b['image_file_name'],'image_content_type':_0x1a660b['image_content_type'],'image_file_size':_0x1a660b[_0x1a46ba(0x202)],'image_updated_at':_0x1a660b[_0x1a46ba(0x1ec)],'created_at':_0x1a660b[_0x1a46ba(0x20a)],'updated_at':_0x1a660b[_0x1a46ba(0x1fc)]});}_0xcc8bad['send'](_0x3e81b5);}catch(_0x1fc4bb){console[_0x1a46ba(0x1e1)](_0x1fc4bb),_0xcc8bad[_0x1a46ba(0x204)]([]);}}),router['get']('/org2s',async(_0x259852,_0x101564)=>{const _0x4a6e86=a13_0x35a853;try{const _0x68826b=_0x4a6e86(0x208),_0x3677f6=_0x4a6e86(0x1f2),_0x2af3a2=_0x4a6e86(0x1f9),_0x28627a=[],_0x344720={},_0x9f33d8={},[_0x35555f]=await conn[_0x4a6e86(0x1e3)]()['query'](_0x2af3a2);for(let _0x181775=0x0;_0x181775<_0x35555f[_0x4a6e86(0x205)];_0x181775++){const _0x3abf96=_0x35555f[_0x181775];_0x9f33d8[_0x3abf96['id']]={'id':_0x3abf96['id'],'hex':'#'+_0x3abf96[_0x4a6e86(0x1f7)]};}const [_0x25cb9a]=conn['promise']()[_0x4a6e86(0x206)](_0x3677f6);for(let _0x384db8=0x0;_0x384db8<_0x25cb9a['length'];_0x384db8++){const _0x2d9479=_0x25cb9a[_0x384db8];_0x344720[_0x2d9479['id']]={'id':_0x2d9479['id'],'name':_0x2d9479[_0x4a6e86(0x1ea)],'color_id':_0x2d9479[_0x4a6e86(0x1fe)],'color':_0x9f33d8[_0x2d9479[_0x4a6e86(0x1fe)]][_0x4a6e86(0x1f7)]};}return _0x101564['send'](_0x344720);}catch(_0x29f5b7){console[_0x4a6e86(0x1e1)](_0x4a6e86(0x1ee)+_0x29f5b7),_0x101564[_0x4a6e86(0x204)]('[]');}}),router[a13_0x35a853(0x201)](a13_0x35a853(0x1fd),async(_0x130726,_0x56fe19)=>{const _0x624fa=a13_0x35a853;try{const _0x32aa54='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0xcc0488=_0x624fa(0x1f2),_0x45b6fb=_0x624fa(0x1f9),_0x18e96d=[],_0x1484e9={},_0x2ea03d={};let [_0x52622f]=await conn[_0x624fa(0x1e3)]()[_0x624fa(0x206)](_0x45b6fb);for(let _0x1f832c=0x0;_0x1f832c<_0x52622f[_0x624fa(0x205)];_0x1f832c++){const _0x55990b=_0x52622f[_0x1f832c];_0x2ea03d[_0x55990b['id']]={'id':_0x55990b['id'],'hex':'#'+_0x55990b[_0x624fa(0x1f7)]};}console[_0x624fa(0x1e1)]({'colors':_0x2ea03d});const [_0x30a56a]=await conn[_0x624fa(0x1e3)]()['query'](_0xcc0488);for(let _0x22f8c0=0x0;_0x22f8c0<_0x30a56a[_0x624fa(0x205)];_0x22f8c0++){const _0x2ff37d=_0x30a56a[_0x22f8c0];_0x1484e9[_0x2ff37d['id']]={'id':_0x2ff37d['id'],'name':_0x2ff37d[_0x624fa(0x1ea)],'color_id':_0x2ff37d[_0x624fa(0x1fe)],'color':_0x2ea03d[_0x2ff37d['color_id']][_0x624fa(0x1f7)]};}const [_0x19c24b]=await conn[_0x624fa(0x1e3)]()[_0x624fa(0x206)](_0x32aa54);for(let _0x13ac60=0x0;_0x13ac60<_0x19c24b['length'];_0x13ac60++){const _0xe63390=_0x19c24b[_0x13ac60];_0x18e96d[_0x624fa(0x1e2)]({'id':_0xe63390['id'],'room_id':_0xe63390['room_id'],'employee_number':_0xe63390[_0x624fa(0x1f4)],'phone':_0xe63390['phone'],'floor_id':_0xe63390[_0x624fa(0x1f5)],'org2_id':_0xe63390[_0x624fa(0x1e8)],'firstname':_0xe63390[_0x624fa(0x209)]['split']('\x20')[0x0],'lastname':_0xe63390[_0x624fa(0x209)]['split']('\x20')[0x1],'employeeName':_0xe63390['employeeName'],'department':_0x1484e9[_0xe63390[_0x624fa(0x1e8)]]});}_0x56fe19[_0x624fa(0x204)](_0x18e96d);}catch(_0x321eea){console['log'](_0x624fa(0x1f8)+_0x321eea),_0x56fe19['send']('[]');}}),module[a13_0x35a853(0x1f3)]=router;