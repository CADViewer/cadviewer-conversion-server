const a13_0x225ee5=a13_0x2e63;(function(_0x1f3ec9,_0xfa55e1){const _0x29535c=a13_0x2e63,_0x3b9f2e=_0x1f3ec9();while(!![]){try{const _0x3a9fa3=parseInt(_0x29535c(0xf4))/0x1+parseInt(_0x29535c(0xf2))/0x2*(parseInt(_0x29535c(0xef))/0x3)+-parseInt(_0x29535c(0xfd))/0x4+-parseInt(_0x29535c(0xdd))/0x5+-parseInt(_0x29535c(0xf6))/0x6+parseInt(_0x29535c(0x104))/0x7*(parseInt(_0x29535c(0xed))/0x8)+parseInt(_0x29535c(0xe5))/0x9;if(_0x3a9fa3===_0xfa55e1)break;else _0x3b9f2e['push'](_0x3b9f2e['shift']());}catch(_0x921328){_0x3b9f2e['push'](_0x3b9f2e['shift']());}}}(a13_0x4096,0xadd02));const fs=require('fs'),path=require('path'),config=require('../CADViewer_config.json'),conn=require(a13_0x225ee5(0xe7)),express=require('express'),router=express[a13_0x225ee5(0xf0)]();function a13_0x4096(){const _0x32836a=['SELECT\x20id,\x20hex\x20FROM\x20colors','/employees','name','21051243CbVOid','/photos/','../libs/mysql.js','promise','log','params','send','exports','135544jqmpvJ','hex','3stwoiq','Router','/original/','26134lfJNho','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','664674pJMlSN','phone','4647780iiLxEX','get','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','employeeName','/photos/:room_id','image_updated_at','query','4568536kWXjcm','DB\x20/employees\x20error','employee_number','/org2s','updated_at','split','image_content_type','21uRZEnS','color_id','room_id','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','org2_id','push','2194475NbuCBQ','floor_id','DB\x20/org2s\x20error','length','image_file_size'];a13_0x4096=function(){return _0x32836a;};return a13_0x4096();}function a13_0x2e63(_0x586d05,_0x1a4e7c){const _0x409623=a13_0x4096();return a13_0x2e63=function(_0x2e63ae,_0x9bd9e8){_0x2e63ae=_0x2e63ae-0xd8;let _0x3c837a=_0x409623[_0x2e63ae];return _0x3c837a;},a13_0x2e63(_0x586d05,_0x1a4e7c);}router[a13_0x225ee5(0xf7)](a13_0x225ee5(0xfa),async(_0x4d7ba4,_0x496d35)=>{const _0x1cc86c=a13_0x225ee5;try{const _0x4b6a04=_0x4d7ba4[_0x1cc86c(0xea)][_0x1cc86c(0xd9)],_0x5e2e26=_0x1cc86c(0xda)+_0x4b6a04,_0x3bbe31=[],[_0x3a7fdc]=await conn[_0x1cc86c(0xe8)]()[_0x1cc86c(0xfc)](_0x5e2e26);for(let _0x481ec5=0x0;_0x481ec5<_0x3a7fdc[_0x1cc86c(0xe0)];_0x481ec5++){const _0x3bd033=_0x3a7fdc[_0x481ec5];_0x3bbe31[_0x1cc86c(0xdc)]({'id':_0x3bd033['id'],'image_file_name':_0x1cc86c(0xe6)+_0x3bd033['id']+_0x1cc86c(0xf1)+_0x3bd033['image_file_name'],'image_content_type':_0x3bd033[_0x1cc86c(0x103)],'image_file_size':_0x3bd033[_0x1cc86c(0xe1)],'image_updated_at':_0x3bd033[_0x1cc86c(0xfb)],'created_at':_0x3bd033['created_at'],'updated_at':_0x3bd033[_0x1cc86c(0x101)]});}_0x496d35[_0x1cc86c(0xeb)](_0x3bbe31);}catch(_0xdebebf){console[_0x1cc86c(0xe9)](_0xdebebf),_0x496d35[_0x1cc86c(0xeb)]([]);}}),router[a13_0x225ee5(0xf7)](a13_0x225ee5(0x100),async(_0x1b420f,_0x391ae0)=>{const _0x18963d=a13_0x225ee5;try{const _0x11972f=_0x18963d(0xf3),_0x56b372=_0x18963d(0xf8),_0x3b320f=_0x18963d(0xe2),_0x452dd3=[],_0x25db3f={},_0x22d87c={},[_0x1b2333]=await conn[_0x18963d(0xe8)]()[_0x18963d(0xfc)](_0x3b320f);for(let _0x31e219=0x0;_0x31e219<_0x1b2333[_0x18963d(0xe0)];_0x31e219++){const _0x41b875=_0x1b2333[_0x31e219];_0x22d87c[_0x41b875['id']]={'id':_0x41b875['id'],'hex':'#'+_0x41b875['hex']};}const [_0x41ea89]=conn['promise']()[_0x18963d(0xfc)](_0x56b372);for(let _0x16217e=0x0;_0x16217e<_0x41ea89[_0x18963d(0xe0)];_0x16217e++){const _0x42f84b=_0x41ea89[_0x16217e];_0x25db3f[_0x42f84b['id']]={'id':_0x42f84b['id'],'name':_0x42f84b[_0x18963d(0xe4)],'color_id':_0x42f84b['color_id'],'color':_0x22d87c[_0x42f84b[_0x18963d(0xd8)]][_0x18963d(0xee)]};}return _0x391ae0[_0x18963d(0xeb)](_0x25db3f);}catch(_0x4d3a4e){console[_0x18963d(0xe9)](_0x18963d(0xdf)+_0x4d3a4e),_0x391ae0[_0x18963d(0xeb)]('[]');}}),router[a13_0x225ee5(0xf7)](a13_0x225ee5(0xe3),async(_0x545778,_0x14bf5c)=>{const _0x59063b=a13_0x225ee5;try{const _0x5e9df5='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x77b94f=_0x59063b(0xf8),_0x1c70a4='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x1f2d0c=[],_0x10808e={},_0x5ae9c0={};let [_0x172352]=await conn[_0x59063b(0xe8)]()[_0x59063b(0xfc)](_0x1c70a4);for(let _0x35d451=0x0;_0x35d451<_0x172352[_0x59063b(0xe0)];_0x35d451++){const _0x33ef80=_0x172352[_0x35d451];_0x5ae9c0[_0x33ef80['id']]={'id':_0x33ef80['id'],'hex':'#'+_0x33ef80[_0x59063b(0xee)]};}console[_0x59063b(0xe9)]({'colors':_0x5ae9c0});const [_0x13496c]=await conn[_0x59063b(0xe8)]()[_0x59063b(0xfc)](_0x77b94f);for(let _0x40119b=0x0;_0x40119b<_0x13496c[_0x59063b(0xe0)];_0x40119b++){const _0x4b42ed=_0x13496c[_0x40119b];_0x10808e[_0x4b42ed['id']]={'id':_0x4b42ed['id'],'name':_0x4b42ed[_0x59063b(0xe4)],'color_id':_0x4b42ed[_0x59063b(0xd8)],'color':_0x5ae9c0[_0x4b42ed[_0x59063b(0xd8)]]['hex']};}const [_0x5990c4]=await conn['promise']()['query'](_0x5e9df5);for(let _0x3f895b=0x0;_0x3f895b<_0x5990c4[_0x59063b(0xe0)];_0x3f895b++){const _0x207ba3=_0x5990c4[_0x3f895b];_0x1f2d0c[_0x59063b(0xdc)]({'id':_0x207ba3['id'],'room_id':_0x207ba3[_0x59063b(0xd9)],'employee_number':_0x207ba3[_0x59063b(0xff)],'phone':_0x207ba3[_0x59063b(0xf5)],'floor_id':_0x207ba3[_0x59063b(0xde)],'org2_id':_0x207ba3[_0x59063b(0xdb)],'firstname':_0x207ba3[_0x59063b(0xf9)][_0x59063b(0x102)]('\x20')[0x0],'lastname':_0x207ba3[_0x59063b(0xf9)]['split']('\x20')[0x1],'employeeName':_0x207ba3[_0x59063b(0xf9)],'department':_0x10808e[_0x207ba3['org2_id']]});}_0x14bf5c[_0x59063b(0xeb)](_0x1f2d0c);}catch(_0x4445f1){console['log'](_0x59063b(0xfe)+_0x4445f1),_0x14bf5c[_0x59063b(0xeb)]('[]');}}),module[a13_0x225ee5(0xec)]=router;