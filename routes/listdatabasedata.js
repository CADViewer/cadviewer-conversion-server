function a13_0x4c10(_0x489727,_0x475020){const _0x8a9f50=a13_0x8a9f();return a13_0x4c10=function(_0x4c1041,_0x53d136){_0x4c1041=_0x4c1041-0xbe;let _0xf5e328=_0x8a9f50[_0x4c1041];return _0xf5e328;},a13_0x4c10(_0x489727,_0x475020);}const a13_0x5d1b69=a13_0x4c10;(function(_0x3dc611,_0x3e9474){const _0x25de56=a13_0x4c10,_0x394dd1=_0x3dc611();while(!![]){try{const _0x5918b7=parseInt(_0x25de56(0xc8))/0x1+-parseInt(_0x25de56(0xc5))/0x2*(parseInt(_0x25de56(0xce))/0x3)+parseInt(_0x25de56(0xe1))/0x4+parseInt(_0x25de56(0xc0))/0x5+parseInt(_0x25de56(0xc7))/0x6*(-parseInt(_0x25de56(0xcd))/0x7)+-parseInt(_0x25de56(0xcc))/0x8*(-parseInt(_0x25de56(0xc2))/0x9)+-parseInt(_0x25de56(0xd4))/0xa*(-parseInt(_0x25de56(0xd1))/0xb);if(_0x5918b7===_0x3e9474)break;else _0x394dd1['push'](_0x394dd1['shift']());}catch(_0x2c2fa4){_0x394dd1['push'](_0x394dd1['shift']());}}}(a13_0x8a9f,0xe26a3));const fs=require('fs'),path=require(a13_0x5d1b69(0xe4)),config=require(a13_0x5d1b69(0xe7)),conn=require('../libs/mysql.js'),express=require('express'),router=express[a13_0x5d1b69(0xea)]();function a13_0x8a9f(){const _0x156131=['employeeName','split','params','9433384MbYDuH','259PaTnEz','15uOcxGF','exports','/photos/','173206nhfnnZ','employee_number','image_file_name','450Gxqyge','hex','org2_id','log','push','color_id','/photos/:room_id','created_at','/employees','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','SELECT\x20id,\x20hex\x20FROM\x20colors','name','query','1434788IhnVSS','floor_id','get','path','/original/','/org2s','../CADViewer_config.json','length','DB\x20/org2s\x20error','Router','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','promise','1092370jreWxo','image_updated_at','9SUNhto','updated_at','send','474378PxtCzo','image_content_type','180534HcJMBa','761719MNsgAt'];a13_0x8a9f=function(){return _0x156131;};return a13_0x8a9f();}router[a13_0x5d1b69(0xe3)](a13_0x5d1b69(0xda),async(_0x532399,_0x26ca09)=>{const _0xec013=a13_0x5d1b69;try{const _0x550e45=_0x532399[_0xec013(0xcb)]['room_id'],_0x1594bf='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x550e45,_0x9c845a=[],[_0x57d891]=await conn['promise']()[_0xec013(0xe0)](_0x1594bf);for(let _0x35420b=0x0;_0x35420b<_0x57d891[_0xec013(0xe8)];_0x35420b++){const _0xf407bd=_0x57d891[_0x35420b];_0x9c845a[_0xec013(0xd8)]({'id':_0xf407bd['id'],'image_file_name':_0xec013(0xd0)+_0xf407bd['id']+_0xec013(0xe5)+_0xf407bd[_0xec013(0xd3)],'image_content_type':_0xf407bd[_0xec013(0xc6)],'image_file_size':_0xf407bd['image_file_size'],'image_updated_at':_0xf407bd[_0xec013(0xc1)],'created_at':_0xf407bd[_0xec013(0xdb)],'updated_at':_0xf407bd[_0xec013(0xc3)]});}_0x26ca09[_0xec013(0xc4)](_0x9c845a);}catch(_0x595bc5){console[_0xec013(0xd7)](_0x595bc5),_0x26ca09['send']([]);}}),router[a13_0x5d1b69(0xe3)](a13_0x5d1b69(0xe6),async(_0x5b81f1,_0x461695)=>{const _0x2d744a=a13_0x5d1b69;try{const _0xaff04=_0x2d744a(0xdd),_0x34533d=_0x2d744a(0xbe),_0x65c723=_0x2d744a(0xde),_0x2b2549=[],_0x3dabff={},_0x4d88c0={},[_0x27a58b]=await conn[_0x2d744a(0xbf)]()[_0x2d744a(0xe0)](_0x65c723);for(let _0x113196=0x0;_0x113196<_0x27a58b[_0x2d744a(0xe8)];_0x113196++){const _0x228e69=_0x27a58b[_0x113196];_0x4d88c0[_0x228e69['id']]={'id':_0x228e69['id'],'hex':'#'+_0x228e69['hex']};}const [_0x38c4f1]=conn[_0x2d744a(0xbf)]()[_0x2d744a(0xe0)](_0x34533d);for(let _0x313db6=0x0;_0x313db6<_0x38c4f1[_0x2d744a(0xe8)];_0x313db6++){const _0x5d9e0a=_0x38c4f1[_0x313db6];_0x3dabff[_0x5d9e0a['id']]={'id':_0x5d9e0a['id'],'name':_0x5d9e0a[_0x2d744a(0xdf)],'color_id':_0x5d9e0a[_0x2d744a(0xd9)],'color':_0x4d88c0[_0x5d9e0a[_0x2d744a(0xd9)]][_0x2d744a(0xd5)]};}return _0x461695[_0x2d744a(0xc4)](_0x3dabff);}catch(_0x244d04){console[_0x2d744a(0xd7)](_0x2d744a(0xe9)+_0x244d04),_0x461695[_0x2d744a(0xc4)]('[]');}}),router[a13_0x5d1b69(0xe3)](a13_0x5d1b69(0xdc),async(_0x1b3fcf,_0x3b7626)=>{const _0x2db0d4=a13_0x5d1b69;try{const _0x2e994b=_0x2db0d4(0xdd),_0x502408=_0x2db0d4(0xbe),_0x373f19='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x3be1bf=[],_0x54db12={},_0x20e50f={};let [_0x5d11cd]=await conn[_0x2db0d4(0xbf)]()[_0x2db0d4(0xe0)](_0x373f19);for(let _0x1abdf5=0x0;_0x1abdf5<_0x5d11cd[_0x2db0d4(0xe8)];_0x1abdf5++){const _0x1d25af=_0x5d11cd[_0x1abdf5];_0x20e50f[_0x1d25af['id']]={'id':_0x1d25af['id'],'hex':'#'+_0x1d25af[_0x2db0d4(0xd5)]};}console[_0x2db0d4(0xd7)]({'colors':_0x20e50f});const [_0x3b8dad]=await conn['promise']()[_0x2db0d4(0xe0)](_0x502408);for(let _0x4ae9ed=0x0;_0x4ae9ed<_0x3b8dad[_0x2db0d4(0xe8)];_0x4ae9ed++){const _0x1a5746=_0x3b8dad[_0x4ae9ed];_0x54db12[_0x1a5746['id']]={'id':_0x1a5746['id'],'name':_0x1a5746[_0x2db0d4(0xdf)],'color_id':_0x1a5746[_0x2db0d4(0xd9)],'color':_0x20e50f[_0x1a5746[_0x2db0d4(0xd9)]][_0x2db0d4(0xd5)]};}const [_0x4c7d16]=await conn[_0x2db0d4(0xbf)]()['query'](_0x2e994b);for(let _0x6a5016=0x0;_0x6a5016<_0x4c7d16['length'];_0x6a5016++){const _0x58eb1a=_0x4c7d16[_0x6a5016];_0x3be1bf[_0x2db0d4(0xd8)]({'id':_0x58eb1a['id'],'room_id':_0x58eb1a['room_id'],'employee_number':_0x58eb1a[_0x2db0d4(0xd2)],'phone':_0x58eb1a['phone'],'floor_id':_0x58eb1a[_0x2db0d4(0xe2)],'org2_id':_0x58eb1a['org2_id'],'firstname':_0x58eb1a[_0x2db0d4(0xc9)][_0x2db0d4(0xca)]('\x20')[0x0],'lastname':_0x58eb1a['employeeName']['split']('\x20')[0x1],'employeeName':_0x58eb1a[_0x2db0d4(0xc9)],'department':_0x54db12[_0x58eb1a[_0x2db0d4(0xd6)]]});}_0x3b7626[_0x2db0d4(0xc4)](_0x3be1bf);}catch(_0xf7f178){console[_0x2db0d4(0xd7)]('DB\x20/employees\x20error'+_0xf7f178),_0x3b7626[_0x2db0d4(0xc4)]('[]');}}),module[a13_0x5d1b69(0xcf)]=router;