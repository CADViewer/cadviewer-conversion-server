const a12_0xf9337c=a12_0x1cd2;(function(_0x1ac0dc,_0xf74358){const _0x3e97f8=a12_0x1cd2,_0x163a57=_0x1ac0dc();while(!![]){try{const _0x4eb710=parseInt(_0x3e97f8(0xf6))/0x1+-parseInt(_0x3e97f8(0xd6))/0x2+-parseInt(_0x3e97f8(0xfb))/0x3*(-parseInt(_0x3e97f8(0xd3))/0x4)+-parseInt(_0x3e97f8(0xf1))/0x5*(-parseInt(_0x3e97f8(0xd8))/0x6)+parseInt(_0x3e97f8(0xf0))/0x7+-parseInt(_0x3e97f8(0xf3))/0x8+parseInt(_0x3e97f8(0xee))/0x9*(-parseInt(_0x3e97f8(0xe5))/0xa);if(_0x4eb710===_0xf74358)break;else _0x163a57['push'](_0x163a57['shift']());}catch(_0x305849){_0x163a57['push'](_0x163a57['shift']());}}}(a12_0x5b7b,0xacb07));function a12_0x1cd2(_0x1492a9,_0x2104ac){const _0x5b7bd7=a12_0x5b7b();return a12_0x1cd2=function(_0x1cd2c1,_0x3d6819){_0x1cd2c1=_0x1cd2c1-0xd1;let _0x4da73c=_0x5b7bd7[_0x1cd2c1];return _0x4da73c;},a12_0x1cd2(_0x1492a9,_0x2104ac);}const fs=require('fs'),path=require(a12_0xf9337c(0xe9)),config=require(a12_0xf9337c(0xd9)),conn=require(a12_0xf9337c(0xeb)),express=require(a12_0xf9337c(0xf9)),router=express['Router']();router[a12_0xf9337c(0xe0)](a12_0xf9337c(0xfd),async(_0x5c02bd,_0x9c4529)=>{const _0x35ae71=a12_0xf9337c;try{const _0x40120b=_0x5c02bd['params'][_0x35ae71(0xd4)],_0x2e0fbd='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x40120b,_0x38885a=[],[_0x4e33c0]=await conn[_0x35ae71(0xe2)]()[_0x35ae71(0xfe)](_0x2e0fbd);for(let _0x3eea1c=0x0;_0x3eea1c<_0x4e33c0[_0x35ae71(0xdd)];_0x3eea1c++){const _0x17a31f=_0x4e33c0[_0x3eea1c];_0x38885a[_0x35ae71(0xda)]({'id':_0x17a31f['id'],'image_file_name':_0x35ae71(0xf7)+_0x17a31f['id']+_0x35ae71(0xde)+_0x17a31f[_0x35ae71(0xec)],'image_content_type':_0x17a31f[_0x35ae71(0xea)],'image_file_size':_0x17a31f['image_file_size'],'image_updated_at':_0x17a31f[_0x35ae71(0xe3)],'created_at':_0x17a31f[_0x35ae71(0xf2)],'updated_at':_0x17a31f[_0x35ae71(0xef)]});}_0x9c4529['send'](_0x38885a);}catch(_0x2a0fac){console['log'](_0x2a0fac),_0x9c4529[_0x35ae71(0xd7)]([]);}}),router[a12_0xf9337c(0xe0)](a12_0xf9337c(0xe6),async(_0x3da3e9,_0x43dea4)=>{const _0x462ffd=a12_0xf9337c;try{const _0x29dbd5=_0x462ffd(0xfc),_0x24f289=_0x462ffd(0xe8),_0x30ac9c=_0x462ffd(0xdc),_0x4cf693=[],_0x12e1de={},_0x10e817={},[_0x393024]=await conn['promise']()[_0x462ffd(0xfe)](_0x30ac9c);for(let _0x5abf21=0x0;_0x5abf21<_0x393024[_0x462ffd(0xdd)];_0x5abf21++){const _0x485c4b=_0x393024[_0x5abf21];_0x10e817[_0x485c4b['id']]={'id':_0x485c4b['id'],'hex':'#'+_0x485c4b[_0x462ffd(0xe1)]};}const [_0xfb1eb0]=conn[_0x462ffd(0xe2)]()[_0x462ffd(0xfe)](_0x24f289);for(let _0x2e5ff9=0x0;_0x2e5ff9<_0xfb1eb0[_0x462ffd(0xdd)];_0x2e5ff9++){const _0x49a477=_0xfb1eb0[_0x2e5ff9];_0x12e1de[_0x49a477['id']]={'id':_0x49a477['id'],'name':_0x49a477[_0x462ffd(0xd1)],'color_id':_0x49a477[_0x462ffd(0xfa)],'color':_0x10e817[_0x49a477['color_id']][_0x462ffd(0xe1)]};}return _0x43dea4[_0x462ffd(0xd7)](_0x12e1de);}catch(_0x4f828f){console['log'](_0x462ffd(0xf4)+_0x4f828f),_0x43dea4['send']('[]');}}),router[a12_0xf9337c(0xe0)](a12_0xf9337c(0xd2),async(_0x407314,_0x4c94a9)=>{const _0x73f238=a12_0xf9337c;try{const _0x17dac0=_0x73f238(0xfc),_0x56cc17=_0x73f238(0xe8),_0x52542b=_0x73f238(0xdc),_0x25541d=[],_0x3b48b5={},_0x136a5d={};let [_0x1a85a1]=await conn[_0x73f238(0xe2)]()['query'](_0x52542b);for(let _0x2e766d=0x0;_0x2e766d<_0x1a85a1[_0x73f238(0xdd)];_0x2e766d++){const _0x398e67=_0x1a85a1[_0x2e766d];_0x136a5d[_0x398e67['id']]={'id':_0x398e67['id'],'hex':'#'+_0x398e67[_0x73f238(0xe1)]};}console[_0x73f238(0xf5)]({'colors':_0x136a5d});const [_0xeafb9]=await conn[_0x73f238(0xe2)]()[_0x73f238(0xfe)](_0x56cc17);for(let _0x1756d2=0x0;_0x1756d2<_0xeafb9['length'];_0x1756d2++){const _0x2066d3=_0xeafb9[_0x1756d2];_0x3b48b5[_0x2066d3['id']]={'id':_0x2066d3['id'],'name':_0x2066d3[_0x73f238(0xd1)],'color_id':_0x2066d3[_0x73f238(0xfa)],'color':_0x136a5d[_0x2066d3[_0x73f238(0xfa)]][_0x73f238(0xe1)]};}const [_0x54882c]=await conn['promise']()['query'](_0x17dac0);for(let _0x34c39e=0x0;_0x34c39e<_0x54882c[_0x73f238(0xdd)];_0x34c39e++){const _0xd900ba=_0x54882c[_0x34c39e];_0x25541d['push']({'id':_0xd900ba['id'],'room_id':_0xd900ba[_0x73f238(0xd4)],'employee_number':_0xd900ba[_0x73f238(0xd5)],'phone':_0xd900ba['phone'],'floor_id':_0xd900ba[_0x73f238(0xf8)],'org2_id':_0xd900ba[_0x73f238(0xe7)],'firstname':_0xd900ba[_0x73f238(0xe4)][_0x73f238(0xed)]('\x20')[0x0],'lastname':_0xd900ba[_0x73f238(0xe4)][_0x73f238(0xed)]('\x20')[0x1],'employeeName':_0xd900ba[_0x73f238(0xe4)],'department':_0x3b48b5[_0xd900ba['org2_id']]});}_0x4c94a9['send'](_0x25541d);}catch(_0x4412c2){console[_0x73f238(0xf5)](_0x73f238(0xdf)+_0x4412c2),_0x4c94a9[_0x73f238(0xd7)]('[]');}}),module[a12_0xf9337c(0xdb)]=router;function a12_0x5b7b(){const _0x4461ae=['SELECT\x20id,\x20hex\x20FROM\x20colors','length','/original/','DB\x20/employees\x20error','get','hex','promise','image_updated_at','employeeName','1300mXcFlq','/org2s','org2_id','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','path','image_content_type','../libs/mysql.js','image_file_name','split','57231bMXdQB','updated_at','2503151prwuaz','5835JvAzDS','created_at','7304280glCIqq','DB\x20/org2s\x20error','log','692100uBhgdJ','/photos/','floor_id','express','color_id','39oMhezC','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','/photos/:room_id','query','name','/employees','414156RVMSRb','room_id','employee_number','2562748stjqvr','send','6852RpibVL','../CADViewer_config.json','push','exports'];a12_0x5b7b=function(){return _0x4461ae;};return a12_0x5b7b();}