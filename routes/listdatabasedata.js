const a12_0x5db01d=a12_0x1a20;(function(_0x4f959a,_0x2318d0){const _0x89f209=a12_0x1a20,_0xbce19b=_0x4f959a();while(!![]){try{const _0x3f7917=parseInt(_0x89f209(0x17e))/0x1+-parseInt(_0x89f209(0x172))/0x2*(-parseInt(_0x89f209(0x15c))/0x3)+-parseInt(_0x89f209(0x16a))/0x4+-parseInt(_0x89f209(0x166))/0x5+-parseInt(_0x89f209(0x17d))/0x6+parseInt(_0x89f209(0x178))/0x7*(parseInt(_0x89f209(0x171))/0x8)+parseInt(_0x89f209(0x174))/0x9*(parseInt(_0x89f209(0x159))/0xa);if(_0x3f7917===_0x2318d0)break;else _0xbce19b['push'](_0xbce19b['shift']());}catch(_0x5dff35){_0xbce19b['push'](_0xbce19b['shift']());}}}(a12_0x1bbe,0xb3e66));const fs=require('fs'),path=require(a12_0x5db01d(0x185)),config=require(a12_0x5db01d(0x180)),conn=require(a12_0x5db01d(0x163)),express=require('express'),router=express['Router']();function a12_0x1a20(_0x3e8e12,_0x28fed8){const _0x1bbebb=a12_0x1bbe();return a12_0x1a20=function(_0x1a2075,_0x4c1aae){_0x1a2075=_0x1a2075-0x159;let _0x13aec=_0x1bbebb[_0x1a2075];return _0x13aec;},a12_0x1a20(_0x3e8e12,_0x28fed8);}router[a12_0x5db01d(0x162)](a12_0x5db01d(0x168),async(_0x5d6143,_0x5f0994)=>{const _0x530d7d=a12_0x5db01d;try{const _0x5cfc21=_0x5d6143[_0x530d7d(0x181)][_0x530d7d(0x17a)],_0x45653d='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x5cfc21,_0x3e6f81=[],[_0x274967]=await conn[_0x530d7d(0x165)]()[_0x530d7d(0x17b)](_0x45653d);for(let _0x2a15b0=0x0;_0x2a15b0<_0x274967[_0x530d7d(0x17f)];_0x2a15b0++){const _0x5586b=_0x274967[_0x2a15b0];_0x3e6f81[_0x530d7d(0x161)]({'id':_0x5586b['id'],'image_file_name':_0x530d7d(0x169)+_0x5586b['id']+_0x530d7d(0x167)+_0x5586b[_0x530d7d(0x16c)],'image_content_type':_0x5586b[_0x530d7d(0x176)],'image_file_size':_0x5586b[_0x530d7d(0x177)],'image_updated_at':_0x5586b['image_updated_at'],'created_at':_0x5586b[_0x530d7d(0x170)],'updated_at':_0x5586b[_0x530d7d(0x15e)]});}_0x5f0994['send'](_0x3e6f81);}catch(_0x14a700){console['log'](_0x14a700),_0x5f0994[_0x530d7d(0x184)]([]);}}),router[a12_0x5db01d(0x162)](a12_0x5db01d(0x16d),async(_0x1a3192,_0x18af3d)=>{const _0x1f62f0=a12_0x5db01d;try{const _0x56a584=_0x1f62f0(0x15b),_0x4e22af=_0x1f62f0(0x164),_0x3e4381='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x2007c4=[],_0x3211fc={},_0x59b31e={},[_0x393736]=await conn[_0x1f62f0(0x165)]()[_0x1f62f0(0x17b)](_0x3e4381);for(let _0x3d6576=0x0;_0x3d6576<_0x393736[_0x1f62f0(0x17f)];_0x3d6576++){const _0x193678=_0x393736[_0x3d6576];_0x59b31e[_0x193678['id']]={'id':_0x193678['id'],'hex':'#'+_0x193678['hex']};}const [_0x19aa0d]=conn['promise']()[_0x1f62f0(0x17b)](_0x4e22af);for(let _0x4da845=0x0;_0x4da845<_0x19aa0d['length'];_0x4da845++){const _0x3c04e9=_0x19aa0d[_0x4da845];_0x3211fc[_0x3c04e9['id']]={'id':_0x3c04e9['id'],'name':_0x3c04e9[_0x1f62f0(0x183)],'color_id':_0x3c04e9[_0x1f62f0(0x179)],'color':_0x59b31e[_0x3c04e9[_0x1f62f0(0x179)]][_0x1f62f0(0x15f)]};}return _0x18af3d[_0x1f62f0(0x184)](_0x3211fc);}catch(_0x99a7dc){console[_0x1f62f0(0x160)](_0x1f62f0(0x182)+_0x99a7dc),_0x18af3d[_0x1f62f0(0x184)]('[]');}}),router[a12_0x5db01d(0x162)](a12_0x5db01d(0x16b),async(_0x13379f,_0x485e1f)=>{const _0x592035=a12_0x5db01d;try{const _0x4a2c4b=_0x592035(0x15b),_0x5e7596=_0x592035(0x164),_0x297bae='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x5c53fc=[],_0x4b2f08={},_0xaaf23e={};let [_0x1a6b1b]=await conn[_0x592035(0x165)]()[_0x592035(0x17b)](_0x297bae);for(let _0x36c705=0x0;_0x36c705<_0x1a6b1b[_0x592035(0x17f)];_0x36c705++){const _0x5035f0=_0x1a6b1b[_0x36c705];_0xaaf23e[_0x5035f0['id']]={'id':_0x5035f0['id'],'hex':'#'+_0x5035f0[_0x592035(0x15f)]};}console[_0x592035(0x160)]({'colors':_0xaaf23e});const [_0x2933e3]=await conn['promise']()[_0x592035(0x17b)](_0x5e7596);for(let _0x317604=0x0;_0x317604<_0x2933e3['length'];_0x317604++){const _0x7c7341=_0x2933e3[_0x317604];_0x4b2f08[_0x7c7341['id']]={'id':_0x7c7341['id'],'name':_0x7c7341['name'],'color_id':_0x7c7341[_0x592035(0x179)],'color':_0xaaf23e[_0x7c7341[_0x592035(0x179)]][_0x592035(0x15f)]};}const [_0x1e6484]=await conn[_0x592035(0x165)]()[_0x592035(0x17b)](_0x4a2c4b);for(let _0x1c1906=0x0;_0x1c1906<_0x1e6484[_0x592035(0x17f)];_0x1c1906++){const _0x33ee15=_0x1e6484[_0x1c1906];_0x5c53fc[_0x592035(0x161)]({'id':_0x33ee15['id'],'room_id':_0x33ee15[_0x592035(0x17a)],'employee_number':_0x33ee15[_0x592035(0x16f)],'phone':_0x33ee15[_0x592035(0x16e)],'floor_id':_0x33ee15['floor_id'],'org2_id':_0x33ee15[_0x592035(0x173)],'firstname':_0x33ee15[_0x592035(0x17c)][_0x592035(0x175)]('\x20')[0x0],'lastname':_0x33ee15[_0x592035(0x17c)][_0x592035(0x175)]('\x20')[0x1],'employeeName':_0x33ee15[_0x592035(0x17c)],'department':_0x4b2f08[_0x33ee15[_0x592035(0x173)]]});}_0x485e1f[_0x592035(0x184)](_0x5c53fc);}catch(_0x1a31ec){console[_0x592035(0x160)](_0x592035(0x15a)+_0x1a31ec),_0x485e1f[_0x592035(0x184)]('[]');}}),module[a12_0x5db01d(0x15d)]=router;function a12_0x1bbe(){const _0x1f4660=['length','../CADViewer_config.json','params','DB\x20/org2s\x20error','name','send','path','79740lZuBbm','DB\x20/employees\x20error','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','72447QXlDKy','exports','updated_at','hex','log','push','get','../libs/mysql.js','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','promise','6214835esrPRc','/original/','/photos/:room_id','/photos/','5439108eUlxhn','/employees','image_file_name','/org2s','phone','employee_number','created_at','265288BJquje','12akDXSb','org2_id','3303WVwLvw','split','image_content_type','image_file_size','84BFCvOJ','color_id','room_id','query','employeeName','7726038bSLtYb','1158003dcNIIm'];a12_0x1bbe=function(){return _0x1f4660;};return a12_0x1bbe();}