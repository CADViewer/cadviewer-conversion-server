const a12_0x423c54=a12_0x1749;function a12_0x25dc(){const _0x2b9043=['employeeName','image_file_size','image_updated_at','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','139551kGWzxM','color_id','phone','SELECT\x20id,\x20hex\x20FROM\x20colors','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','335545VEUFEU','852656dyfwic','updated_at','1505120GtfJbl','send','express','../libs/mysql.js','split','/org2s','image_file_name','DB\x20/org2s\x20error','4YPCtWf','promise','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','/photos/:room_id','get','org2_id','1307152jDxqZs','/original/','room_id','hex','515979KTWjeg','log','query','length','/photos/','push','floor_id','12783609ihghPQ','Router','image_content_type','6fShYNW','created_at','exports'];a12_0x25dc=function(){return _0x2b9043;};return a12_0x25dc();}(function(_0x1132e4,_0x46ba63){const _0x199d9a=a12_0x1749,_0x51f293=_0x1132e4();while(!![]){try{const _0x219f96=-parseInt(_0x199d9a(0x1b8))/0x1+parseInt(_0x199d9a(0x1c8))/0x2*(-parseInt(_0x199d9a(0x1a7))/0x3)+-parseInt(_0x199d9a(0x1be))/0x4+-parseInt(_0x199d9a(0x1c0))/0x5+parseInt(_0x199d9a(0x1b1))/0x6*(-parseInt(_0x199d9a(0x1bd))/0x7)+-parseInt(_0x199d9a(0x1a3))/0x8+parseInt(_0x199d9a(0x1ae))/0x9;if(_0x219f96===_0x46ba63)break;else _0x51f293['push'](_0x51f293['shift']());}catch(_0x3d08d8){_0x51f293['push'](_0x51f293['shift']());}}}(a12_0x25dc,0x33993));const fs=require('fs'),path=require('path'),config=require('../CADViewer_config.json'),conn=require(a12_0x423c54(0x1c3)),express=require(a12_0x423c54(0x1c2)),router=express[a12_0x423c54(0x1af)]();function a12_0x1749(_0x4a4aee,_0x100391){const _0x25dc78=a12_0x25dc();return a12_0x1749=function(_0x1749c3,_0x4ded49){_0x1749c3=_0x1749c3-0x1a2;let _0xc0fb4e=_0x25dc78[_0x1749c3];return _0xc0fb4e;},a12_0x1749(_0x4a4aee,_0x100391);}router[a12_0x423c54(0x1cc)](a12_0x423c54(0x1cb),async(_0x4c347a,_0x3c02f8)=>{const _0x556def=a12_0x423c54;try{const _0x4cf38d=_0x4c347a['params'][_0x556def(0x1a5)],_0x54e24e=_0x556def(0x1b7)+_0x4cf38d,_0x3bc4c9=[],[_0xf9fb]=await conn[_0x556def(0x1c9)]()[_0x556def(0x1a9)](_0x54e24e);for(let _0x2fc6cd=0x0;_0x2fc6cd<_0xf9fb[_0x556def(0x1aa)];_0x2fc6cd++){const _0x4d08c9=_0xf9fb[_0x2fc6cd];_0x3bc4c9[_0x556def(0x1ac)]({'id':_0x4d08c9['id'],'image_file_name':_0x556def(0x1ab)+_0x4d08c9['id']+_0x556def(0x1a4)+_0x4d08c9[_0x556def(0x1c6)],'image_content_type':_0x4d08c9[_0x556def(0x1b0)],'image_file_size':_0x4d08c9[_0x556def(0x1b5)],'image_updated_at':_0x4d08c9[_0x556def(0x1b6)],'created_at':_0x4d08c9[_0x556def(0x1b2)],'updated_at':_0x4d08c9[_0x556def(0x1bf)]});}_0x3c02f8[_0x556def(0x1c1)](_0x3bc4c9);}catch(_0x34869d){console[_0x556def(0x1a8)](_0x34869d),_0x3c02f8[_0x556def(0x1c1)]([]);}}),router[a12_0x423c54(0x1cc)](a12_0x423c54(0x1c5),async(_0x2a63a1,_0x416542)=>{const _0x4f9d60=a12_0x423c54;try{const _0x5eacc7=_0x4f9d60(0x1ca),_0x5960a7=_0x4f9d60(0x1bc),_0x36f275=_0x4f9d60(0x1bb),_0x3d4401=[],_0xecf7e5={},_0x561b0d={},[_0x4ea28e]=await conn[_0x4f9d60(0x1c9)]()[_0x4f9d60(0x1a9)](_0x36f275);for(let _0x13ef7a=0x0;_0x13ef7a<_0x4ea28e['length'];_0x13ef7a++){const _0x364020=_0x4ea28e[_0x13ef7a];_0x561b0d[_0x364020['id']]={'id':_0x364020['id'],'hex':'#'+_0x364020[_0x4f9d60(0x1a6)]};}const [_0x46d60b]=conn[_0x4f9d60(0x1c9)]()[_0x4f9d60(0x1a9)](_0x5960a7);for(let _0x17c5ce=0x0;_0x17c5ce<_0x46d60b[_0x4f9d60(0x1aa)];_0x17c5ce++){const _0x39e3c0=_0x46d60b[_0x17c5ce];_0xecf7e5[_0x39e3c0['id']]={'id':_0x39e3c0['id'],'name':_0x39e3c0['name'],'color_id':_0x39e3c0[_0x4f9d60(0x1b9)],'color':_0x561b0d[_0x39e3c0['color_id']][_0x4f9d60(0x1a6)]};}return _0x416542['send'](_0xecf7e5);}catch(_0x529401){console['log'](_0x4f9d60(0x1c7)+_0x529401),_0x416542[_0x4f9d60(0x1c1)]('[]');}}),router[a12_0x423c54(0x1cc)]('/employees',async(_0x489383,_0x4e371f)=>{const _0x10cd3c=a12_0x423c54;try{const _0x330abe=_0x10cd3c(0x1ca),_0x435d07=_0x10cd3c(0x1bc),_0x4825c9='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x3c3070=[],_0x1309bd={},_0x411dca={};let [_0x329f4c]=await conn[_0x10cd3c(0x1c9)]()['query'](_0x4825c9);for(let _0x2fbc18=0x0;_0x2fbc18<_0x329f4c[_0x10cd3c(0x1aa)];_0x2fbc18++){const _0x3d214f=_0x329f4c[_0x2fbc18];_0x411dca[_0x3d214f['id']]={'id':_0x3d214f['id'],'hex':'#'+_0x3d214f[_0x10cd3c(0x1a6)]};}console['log']({'colors':_0x411dca});const [_0x3a8609]=await conn['promise']()['query'](_0x435d07);for(let _0x6bbfa2=0x0;_0x6bbfa2<_0x3a8609[_0x10cd3c(0x1aa)];_0x6bbfa2++){const _0x55cf1d=_0x3a8609[_0x6bbfa2];_0x1309bd[_0x55cf1d['id']]={'id':_0x55cf1d['id'],'name':_0x55cf1d['name'],'color_id':_0x55cf1d[_0x10cd3c(0x1b9)],'color':_0x411dca[_0x55cf1d['color_id']][_0x10cd3c(0x1a6)]};}const [_0x4ef5cd]=await conn[_0x10cd3c(0x1c9)]()[_0x10cd3c(0x1a9)](_0x330abe);for(let _0x53ef2e=0x0;_0x53ef2e<_0x4ef5cd[_0x10cd3c(0x1aa)];_0x53ef2e++){const _0x46da8a=_0x4ef5cd[_0x53ef2e];_0x3c3070[_0x10cd3c(0x1ac)]({'id':_0x46da8a['id'],'room_id':_0x46da8a[_0x10cd3c(0x1a5)],'employee_number':_0x46da8a['employee_number'],'phone':_0x46da8a[_0x10cd3c(0x1ba)],'floor_id':_0x46da8a[_0x10cd3c(0x1ad)],'org2_id':_0x46da8a[_0x10cd3c(0x1a2)],'firstname':_0x46da8a['employeeName'][_0x10cd3c(0x1c4)]('\x20')[0x0],'lastname':_0x46da8a[_0x10cd3c(0x1b4)][_0x10cd3c(0x1c4)]('\x20')[0x1],'employeeName':_0x46da8a[_0x10cd3c(0x1b4)],'department':_0x1309bd[_0x46da8a['org2_id']]});}_0x4e371f[_0x10cd3c(0x1c1)](_0x3c3070);}catch(_0xe29425){console[_0x10cd3c(0x1a8)]('DB\x20/employees\x20error'+_0xe29425),_0x4e371f[_0x10cd3c(0x1c1)]('[]');}}),module[a12_0x423c54(0x1b3)]=router;