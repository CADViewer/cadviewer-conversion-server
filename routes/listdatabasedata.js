function a12_0x52be(_0x1b5b57,_0x1348a2){const _0x21b612=a12_0x21b6();return a12_0x52be=function(_0x52be82,_0x8fdb22){_0x52be82=_0x52be82-0xc2;let _0x9e86af=_0x21b612[_0x52be82];return _0x9e86af;},a12_0x52be(_0x1b5b57,_0x1348a2);}function a12_0x21b6(){const _0x1ec968=['employee_number','/org2s','get','/employees','query','../CADViewer_config.json','length','exports','split','image_file_name','org2_id','SELECT\x20id,\x20hex\x20FROM\x20colors','employeeName','promise','928XmattQ','express','4466sRrnml','params','name','448919ylEFZg','22065KNVFPA','4txoVaq','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','../libs/mysql.js','send','9816pLcEXq','color_id','push','image_file_size','floor_id','hex','/original/','13628079pvlevH','log','1499870xyXSvp','image_content_type','5OfpuqW','path','20190786ZpVJtr','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','5105166ClqAAM','Router','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','created_at','/photos/'];a12_0x21b6=function(){return _0x1ec968;};return a12_0x21b6();}const a12_0x101ed6=a12_0x52be;(function(_0x51224a,_0x20dc4a){const _0x507e99=a12_0x52be,_0x543de0=_0x51224a();while(!![]){try{const _0x47a950=-parseInt(_0x507e99(0xe3))/0x1*(-parseInt(_0x507e99(0xe5))/0x2)+-parseInt(_0x507e99(0xe4))/0x3*(parseInt(_0x507e99(0xde))/0x4)+parseInt(_0x507e99(0xc7))/0x5*(parseInt(_0x507e99(0xcb))/0x6)+parseInt(_0x507e99(0xe0))/0x7*(parseInt(_0x507e99(0xe9))/0x8)+-parseInt(_0x507e99(0xc3))/0x9+-parseInt(_0x507e99(0xc5))/0xa+parseInt(_0x507e99(0xc9))/0xb;if(_0x47a950===_0x20dc4a)break;else _0x543de0['push'](_0x543de0['shift']());}catch(_0x23a353){_0x543de0['push'](_0x543de0['shift']());}}}(a12_0x21b6,0xf3479));const fs=require('fs'),path=require(a12_0x101ed6(0xc8)),config=require(a12_0x101ed6(0xd5)),conn=require(a12_0x101ed6(0xe7)),express=require(a12_0x101ed6(0xdf)),router=express[a12_0x101ed6(0xcc)]();router['get']('/photos/:room_id',async(_0x497364,_0x248fa8)=>{const _0x41a9dd=a12_0x101ed6;try{const _0x59c2da=_0x497364[_0x41a9dd(0xe1)]['room_id'],_0x244b24=_0x41a9dd(0xcd)+_0x59c2da,_0x4839d7=[],[_0xf0d415]=await conn[_0x41a9dd(0xdd)]()[_0x41a9dd(0xd4)](_0x244b24);for(let _0x53fdac=0x0;_0x53fdac<_0xf0d415['length'];_0x53fdac++){const _0x2dcf44=_0xf0d415[_0x53fdac];_0x4839d7['push']({'id':_0x2dcf44['id'],'image_file_name':_0x41a9dd(0xcf)+_0x2dcf44['id']+_0x41a9dd(0xc2)+_0x2dcf44[_0x41a9dd(0xd9)],'image_content_type':_0x2dcf44[_0x41a9dd(0xc6)],'image_file_size':_0x2dcf44[_0x41a9dd(0xec)],'image_updated_at':_0x2dcf44['image_updated_at'],'created_at':_0x2dcf44[_0x41a9dd(0xce)],'updated_at':_0x2dcf44['updated_at']});}_0x248fa8['send'](_0x4839d7);}catch(_0x1b251d){console[_0x41a9dd(0xc4)](_0x1b251d),_0x248fa8[_0x41a9dd(0xe8)]([]);}}),router[a12_0x101ed6(0xd2)](a12_0x101ed6(0xd1),async(_0x5e172d,_0x553541)=>{const _0x8438c2=a12_0x101ed6;try{const _0x2b9f4b='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x4b9895=_0x8438c2(0xca),_0x6430dc='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x160aae=[],_0x306352={},_0x2e5088={},[_0x351360]=await conn[_0x8438c2(0xdd)]()[_0x8438c2(0xd4)](_0x6430dc);for(let _0x569ba6=0x0;_0x569ba6<_0x351360[_0x8438c2(0xd6)];_0x569ba6++){const _0x383afc=_0x351360[_0x569ba6];_0x2e5088[_0x383afc['id']]={'id':_0x383afc['id'],'hex':'#'+_0x383afc[_0x8438c2(0xee)]};}const [_0x558e25]=conn['promise']()[_0x8438c2(0xd4)](_0x4b9895);for(let _0x324918=0x0;_0x324918<_0x558e25[_0x8438c2(0xd6)];_0x324918++){const _0x4670fe=_0x558e25[_0x324918];_0x306352[_0x4670fe['id']]={'id':_0x4670fe['id'],'name':_0x4670fe[_0x8438c2(0xe2)],'color_id':_0x4670fe[_0x8438c2(0xea)],'color':_0x2e5088[_0x4670fe['color_id']][_0x8438c2(0xee)]};}return _0x553541[_0x8438c2(0xe8)](_0x306352);}catch(_0xe7301b){console[_0x8438c2(0xc4)]('DB\x20/org2s\x20error'+_0xe7301b),_0x553541['send']('[]');}}),router[a12_0x101ed6(0xd2)](a12_0x101ed6(0xd3),async(_0x36ff08,_0x342e48)=>{const _0x1cb00f=a12_0x101ed6;try{const _0x15be2a=_0x1cb00f(0xe6),_0x2e9313=_0x1cb00f(0xca),_0x56e67f=_0x1cb00f(0xdb),_0x213f70=[],_0x3271a7={},_0x9c992e={};let [_0x1e5e69]=await conn['promise']()[_0x1cb00f(0xd4)](_0x56e67f);for(let _0x41250b=0x0;_0x41250b<_0x1e5e69[_0x1cb00f(0xd6)];_0x41250b++){const _0x31872d=_0x1e5e69[_0x41250b];_0x9c992e[_0x31872d['id']]={'id':_0x31872d['id'],'hex':'#'+_0x31872d[_0x1cb00f(0xee)]};}console[_0x1cb00f(0xc4)]({'colors':_0x9c992e});const [_0x4a0d26]=await conn[_0x1cb00f(0xdd)]()['query'](_0x2e9313);for(let _0x228c62=0x0;_0x228c62<_0x4a0d26[_0x1cb00f(0xd6)];_0x228c62++){const _0x581a5d=_0x4a0d26[_0x228c62];_0x3271a7[_0x581a5d['id']]={'id':_0x581a5d['id'],'name':_0x581a5d[_0x1cb00f(0xe2)],'color_id':_0x581a5d[_0x1cb00f(0xea)],'color':_0x9c992e[_0x581a5d['color_id']]['hex']};}const [_0x259985]=await conn['promise']()[_0x1cb00f(0xd4)](_0x15be2a);for(let _0x2929b9=0x0;_0x2929b9<_0x259985['length'];_0x2929b9++){const _0x40e97c=_0x259985[_0x2929b9];_0x213f70[_0x1cb00f(0xeb)]({'id':_0x40e97c['id'],'room_id':_0x40e97c['room_id'],'employee_number':_0x40e97c[_0x1cb00f(0xd0)],'phone':_0x40e97c['phone'],'floor_id':_0x40e97c[_0x1cb00f(0xed)],'org2_id':_0x40e97c[_0x1cb00f(0xda)],'firstname':_0x40e97c[_0x1cb00f(0xdc)][_0x1cb00f(0xd8)]('\x20')[0x0],'lastname':_0x40e97c[_0x1cb00f(0xdc)]['split']('\x20')[0x1],'employeeName':_0x40e97c[_0x1cb00f(0xdc)],'department':_0x3271a7[_0x40e97c[_0x1cb00f(0xda)]]});}_0x342e48[_0x1cb00f(0xe8)](_0x213f70);}catch(_0x5f47d3){console[_0x1cb00f(0xc4)]('DB\x20/employees\x20error'+_0x5f47d3),_0x342e48[_0x1cb00f(0xe8)]('[]');}}),module[a12_0x101ed6(0xd7)]=router;