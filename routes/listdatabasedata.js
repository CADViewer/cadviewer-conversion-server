const a12_0x322d5e=a12_0x38d6;(function(_0x19fbc3,_0x539265){const _0x3c3b5c=a12_0x38d6,_0x7a2bae=_0x19fbc3();while(!![]){try{const _0x3ac622=parseInt(_0x3c3b5c(0x19a))/0x1+parseInt(_0x3c3b5c(0x1ac))/0x2*(-parseInt(_0x3c3b5c(0x1aa))/0x3)+-parseInt(_0x3c3b5c(0x195))/0x4*(-parseInt(_0x3c3b5c(0x1b3))/0x5)+-parseInt(_0x3c3b5c(0x19c))/0x6*(parseInt(_0x3c3b5c(0x197))/0x7)+-parseInt(_0x3c3b5c(0x1b2))/0x8+parseInt(_0x3c3b5c(0x198))/0x9+-parseInt(_0x3c3b5c(0x1a0))/0xa*(-parseInt(_0x3c3b5c(0x19f))/0xb);if(_0x3ac622===_0x539265)break;else _0x7a2bae['push'](_0x7a2bae['shift']());}catch(_0x32cff3){_0x7a2bae['push'](_0x7a2bae['shift']());}}}(a12_0x4cb3,0xa1e83));function a12_0x38d6(_0x1944df,_0x51e43d){const _0x4cb34e=a12_0x4cb3();return a12_0x38d6=function(_0x38d695,_0x2a8636){_0x38d695=_0x38d695-0x189;let _0x23e765=_0x4cb34e[_0x38d695];return _0x23e765;},a12_0x38d6(_0x1944df,_0x51e43d);}const fs=require('fs'),path=require('path'),config=require(a12_0x322d5e(0x1ad)),conn=require(a12_0x322d5e(0x1b4)),express=require(a12_0x322d5e(0x18e)),router=express[a12_0x322d5e(0x191)]();function a12_0x4cb3(){const _0x257921=['org2_id','get','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','room_id','/photos/','express','updated_at','split','Router','promise','name','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','4VXQWZS','SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20','831838jRkOgS','10288224pzXEcC','created_at','479449jKrEES','params','54mRvrcP','/org2s','exports','2222LRFDJj','15220HhITxz','length','log','SELECT\x20id,\x20hex\x20FROM\x20colors','color_id','phone','employee_number','hex','DB\x20/employees\x20error','query','519BkhDby','image_file_size','7396cJxHew','../CADViewer_config.json','employeeName','send','push','DB\x20/org2s\x20error','5283288lfgXms','5514065CyRlwA','../libs/mysql.js','floor_id'];a12_0x4cb3=function(){return _0x257921;};return a12_0x4cb3();}router[a12_0x322d5e(0x18a)]('/photos/:room_id',async(_0x7e22f6,_0x1a0fb0)=>{const _0x399ac2=a12_0x322d5e;try{const _0x2f3c85=_0x7e22f6[_0x399ac2(0x19b)][_0x399ac2(0x18c)],_0x2aded7=_0x399ac2(0x196)+_0x2f3c85,_0x4c3ad1=[],[_0xf17cb6]=await conn[_0x399ac2(0x192)]()[_0x399ac2(0x1a9)](_0x2aded7);for(let _0x1e5b6d=0x0;_0x1e5b6d<_0xf17cb6[_0x399ac2(0x1a1)];_0x1e5b6d++){const _0xe80615=_0xf17cb6[_0x1e5b6d];_0x4c3ad1[_0x399ac2(0x1b0)]({'id':_0xe80615['id'],'image_file_name':_0x399ac2(0x18d)+_0xe80615['id']+'/original/'+_0xe80615['image_file_name'],'image_content_type':_0xe80615['image_content_type'],'image_file_size':_0xe80615[_0x399ac2(0x1ab)],'image_updated_at':_0xe80615['image_updated_at'],'created_at':_0xe80615[_0x399ac2(0x199)],'updated_at':_0xe80615[_0x399ac2(0x18f)]});}_0x1a0fb0[_0x399ac2(0x1af)](_0x4c3ad1);}catch(_0x5ac816){console['log'](_0x5ac816),_0x1a0fb0[_0x399ac2(0x1af)]([]);}}),router[a12_0x322d5e(0x18a)](a12_0x322d5e(0x19d),async(_0x15c70e,_0x34dc68)=>{const _0x5a4f1e=a12_0x322d5e;try{const _0x4694a7='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x581f7e=_0x5a4f1e(0x194),_0x43d9a2=_0x5a4f1e(0x1a3),_0x2cf4c9=[],_0x15bcdf={},_0x2472cd={},[_0xe41609]=await conn[_0x5a4f1e(0x192)]()[_0x5a4f1e(0x1a9)](_0x43d9a2);for(let _0xdccd0b=0x0;_0xdccd0b<_0xe41609[_0x5a4f1e(0x1a1)];_0xdccd0b++){const _0x51a4f7=_0xe41609[_0xdccd0b];_0x2472cd[_0x51a4f7['id']]={'id':_0x51a4f7['id'],'hex':'#'+_0x51a4f7['hex']};}const [_0x380bdb]=conn[_0x5a4f1e(0x192)]()[_0x5a4f1e(0x1a9)](_0x581f7e);for(let _0x3bd8ca=0x0;_0x3bd8ca<_0x380bdb[_0x5a4f1e(0x1a1)];_0x3bd8ca++){const _0x473c78=_0x380bdb[_0x3bd8ca];_0x15bcdf[_0x473c78['id']]={'id':_0x473c78['id'],'name':_0x473c78[_0x5a4f1e(0x193)],'color_id':_0x473c78[_0x5a4f1e(0x1a4)],'color':_0x2472cd[_0x473c78['color_id']][_0x5a4f1e(0x1a7)]};}return _0x34dc68[_0x5a4f1e(0x1af)](_0x15bcdf);}catch(_0x241383){console[_0x5a4f1e(0x1a2)](_0x5a4f1e(0x1b1)+_0x241383),_0x34dc68[_0x5a4f1e(0x1af)]('[]');}}),router[a12_0x322d5e(0x18a)]('/employees',async(_0x5703b6,_0x19f8c2)=>{const _0x23ea15=a12_0x322d5e;try{const _0x4248ec=_0x23ea15(0x18b),_0x4fe6d4=_0x23ea15(0x194),_0x5bf974=_0x23ea15(0x1a3),_0x1fcdfc=[],_0x4c724d={},_0x5ee19f={};let [_0x301088]=await conn[_0x23ea15(0x192)]()['query'](_0x5bf974);for(let _0x476b00=0x0;_0x476b00<_0x301088[_0x23ea15(0x1a1)];_0x476b00++){const _0x17c9e6=_0x301088[_0x476b00];_0x5ee19f[_0x17c9e6['id']]={'id':_0x17c9e6['id'],'hex':'#'+_0x17c9e6[_0x23ea15(0x1a7)]};}console[_0x23ea15(0x1a2)]({'colors':_0x5ee19f});const [_0x15f1df]=await conn[_0x23ea15(0x192)]()[_0x23ea15(0x1a9)](_0x4fe6d4);for(let _0x480f55=0x0;_0x480f55<_0x15f1df['length'];_0x480f55++){const _0x5ece86=_0x15f1df[_0x480f55];_0x4c724d[_0x5ece86['id']]={'id':_0x5ece86['id'],'name':_0x5ece86[_0x23ea15(0x193)],'color_id':_0x5ece86['color_id'],'color':_0x5ee19f[_0x5ece86[_0x23ea15(0x1a4)]]['hex']};}const [_0x202190]=await conn[_0x23ea15(0x192)]()[_0x23ea15(0x1a9)](_0x4248ec);for(let _0x4ec966=0x0;_0x4ec966<_0x202190['length'];_0x4ec966++){const _0x4417b8=_0x202190[_0x4ec966];_0x1fcdfc[_0x23ea15(0x1b0)]({'id':_0x4417b8['id'],'room_id':_0x4417b8[_0x23ea15(0x18c)],'employee_number':_0x4417b8[_0x23ea15(0x1a6)],'phone':_0x4417b8[_0x23ea15(0x1a5)],'floor_id':_0x4417b8[_0x23ea15(0x1b5)],'org2_id':_0x4417b8[_0x23ea15(0x189)],'firstname':_0x4417b8[_0x23ea15(0x1ae)]['split']('\x20')[0x0],'lastname':_0x4417b8[_0x23ea15(0x1ae)][_0x23ea15(0x190)]('\x20')[0x1],'employeeName':_0x4417b8[_0x23ea15(0x1ae)],'department':_0x4c724d[_0x4417b8[_0x23ea15(0x189)]]});}_0x19f8c2[_0x23ea15(0x1af)](_0x1fcdfc);}catch(_0x23b46a){console['log'](_0x23ea15(0x1a8)+_0x23b46a),_0x19f8c2[_0x23ea15(0x1af)]('[]');}}),module[a12_0x322d5e(0x19e)]=router;