const a12_0xbfb731=a12_0x2722;(function(_0x5b76e6,_0xf9b8f4){const _0x21a29c=a12_0x2722,_0x4715bf=_0x5b76e6();while(!![]){try{const _0x189095=-parseInt(_0x21a29c(0x7d))/0x1*(parseInt(_0x21a29c(0xa6))/0x2)+-parseInt(_0x21a29c(0x91))/0x3*(parseInt(_0x21a29c(0x89))/0x4)+parseInt(_0x21a29c(0x9d))/0x5+-parseInt(_0x21a29c(0xab))/0x6*(-parseInt(_0x21a29c(0x85))/0x7)+-parseInt(_0x21a29c(0x7f))/0x8+parseInt(_0x21a29c(0x83))/0x9+parseInt(_0x21a29c(0x7c))/0xa*(-parseInt(_0x21a29c(0x8f))/0xb);if(_0x189095===_0xf9b8f4)break;else _0x4715bf['push'](_0x4715bf['shift']());}catch(_0x117d7f){_0x4715bf['push'](_0x4715bf['shift']());}}}(a12_0x3e93,0x85fa9));const fs=require('fs'),path=require(a12_0xbfb731(0x9a)),config=require(a12_0xbfb731(0x9f)),conn=require(a12_0xbfb731(0xa0)),express=require(a12_0xbfb731(0x80)),router=express[a12_0xbfb731(0x8d)]();function a12_0x3e93(){const _0x3547f4=['../CADViewer_config.json','../libs/mysql.js','room_id','DB\x20/org2s\x20error','SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees','/photos/:room_id','promise','2027726vtQiOw','log','DB\x20/employees\x20error','created_at','hex','925638dIZrIk','image_file_size','updated_at','/original/','2295490kvhRLU','1OBMiYT','params','2376968tvZmLx','express','color_id','send','6091380leiTSq','floor_id','49HlWVTu','length','employeeName','get','4SxoVce','/employees','SELECT\x20id,\x20name,\x20color_id\x20FROM\x20org2s','phone','Router','image_updated_at','11ggRePA','image_file_name','147024nAwlLa','employee_number','push','/photos/','name','org2_id','query','/org2s','image_content_type','path','split','exports','1907935KzvKmT','SELECT\x20id,\x20hex\x20FROM\x20colors'];a12_0x3e93=function(){return _0x3547f4;};return a12_0x3e93();}function a12_0x2722(_0x10e6d9,_0x31cea6){const _0x3e930e=a12_0x3e93();return a12_0x2722=function(_0x272297,_0x1c8001){_0x272297=_0x272297-0x79;let _0x4a9cb9=_0x3e930e[_0x272297];return _0x4a9cb9;},a12_0x2722(_0x10e6d9,_0x31cea6);}router[a12_0xbfb731(0x88)](a12_0xbfb731(0xa4),async(_0x261e95,_0x34d068)=>{const _0x102154=a12_0xbfb731;try{const _0x45e6eb=_0x261e95[_0x102154(0x7e)][_0x102154(0xa1)],_0x2968bd='SELECT\x20id,\x20image_file_name,\x20image_content_type,\x20image_file_size,\x20image_updated_at,\x20created_at,\x20updated_at\x20FROM\x20photos\x20WHERE\x20room_id\x20=\x20'+_0x45e6eb,_0x44cab2=[],[_0x356ba4]=await conn[_0x102154(0xa5)]()['query'](_0x2968bd);for(let _0x3dbaa2=0x0;_0x3dbaa2<_0x356ba4[_0x102154(0x86)];_0x3dbaa2++){const _0x16da6b=_0x356ba4[_0x3dbaa2];_0x44cab2[_0x102154(0x93)]({'id':_0x16da6b['id'],'image_file_name':_0x102154(0x94)+_0x16da6b['id']+_0x102154(0x7b)+_0x16da6b[_0x102154(0x90)],'image_content_type':_0x16da6b[_0x102154(0x99)],'image_file_size':_0x16da6b[_0x102154(0x79)],'image_updated_at':_0x16da6b[_0x102154(0x8e)],'created_at':_0x16da6b[_0x102154(0xa9)],'updated_at':_0x16da6b[_0x102154(0x7a)]});}_0x34d068[_0x102154(0x82)](_0x44cab2);}catch(_0x18facc){console[_0x102154(0xa7)](_0x18facc),_0x34d068[_0x102154(0x82)]([]);}}),router[a12_0xbfb731(0x88)](a12_0xbfb731(0x98),async(_0x2828da,_0xf88426)=>{const _0xf14d33=a12_0xbfb731;try{const _0x19ee6a='SELECT\x20id,\x20room_id,\x20employee_number,\x20phone,\x20floor_id,\x20org2_id,\x20employeeName\x20FROM\x20employees',_0x146a37=_0xf14d33(0x8b),_0x289330='SELECT\x20id,\x20hex\x20FROM\x20colors',_0x33c3c8=[],_0x31576d={},_0x1250d0={},[_0x2d3c5d]=await conn['promise']()['query'](_0x289330);for(let _0x39d0fc=0x0;_0x39d0fc<_0x2d3c5d[_0xf14d33(0x86)];_0x39d0fc++){const _0x497488=_0x2d3c5d[_0x39d0fc];_0x1250d0[_0x497488['id']]={'id':_0x497488['id'],'hex':'#'+_0x497488[_0xf14d33(0xaa)]};}const [_0x57a033]=conn[_0xf14d33(0xa5)]()['query'](_0x146a37);for(let _0x181d01=0x0;_0x181d01<_0x57a033['length'];_0x181d01++){const _0x5c44cc=_0x57a033[_0x181d01];_0x31576d[_0x5c44cc['id']]={'id':_0x5c44cc['id'],'name':_0x5c44cc[_0xf14d33(0x95)],'color_id':_0x5c44cc[_0xf14d33(0x81)],'color':_0x1250d0[_0x5c44cc[_0xf14d33(0x81)]]['hex']};}return _0xf88426[_0xf14d33(0x82)](_0x31576d);}catch(_0x241b25){console[_0xf14d33(0xa7)](_0xf14d33(0xa2)+_0x241b25),_0xf88426[_0xf14d33(0x82)]('[]');}}),router[a12_0xbfb731(0x88)](a12_0xbfb731(0x8a),async(_0x16053c,_0x208ff4)=>{const _0x578df5=a12_0xbfb731;try{const _0x264c90=_0x578df5(0xa3),_0x51583e=_0x578df5(0x8b),_0x14770d=_0x578df5(0x9e),_0x22fe2c=[],_0x325c54={},_0x3ad495={};let [_0x12f98a]=await conn['promise']()[_0x578df5(0x97)](_0x14770d);for(let _0x533a6c=0x0;_0x533a6c<_0x12f98a[_0x578df5(0x86)];_0x533a6c++){const _0x3ec884=_0x12f98a[_0x533a6c];_0x3ad495[_0x3ec884['id']]={'id':_0x3ec884['id'],'hex':'#'+_0x3ec884[_0x578df5(0xaa)]};}console['log']({'colors':_0x3ad495});const [_0x1967e7]=await conn[_0x578df5(0xa5)]()[_0x578df5(0x97)](_0x51583e);for(let _0x78d9a4=0x0;_0x78d9a4<_0x1967e7[_0x578df5(0x86)];_0x78d9a4++){const _0x7b4e67=_0x1967e7[_0x78d9a4];_0x325c54[_0x7b4e67['id']]={'id':_0x7b4e67['id'],'name':_0x7b4e67[_0x578df5(0x95)],'color_id':_0x7b4e67[_0x578df5(0x81)],'color':_0x3ad495[_0x7b4e67[_0x578df5(0x81)]]['hex']};}const [_0x53ce97]=await conn[_0x578df5(0xa5)]()[_0x578df5(0x97)](_0x264c90);for(let _0x248124=0x0;_0x248124<_0x53ce97[_0x578df5(0x86)];_0x248124++){const _0x4318b2=_0x53ce97[_0x248124];_0x22fe2c[_0x578df5(0x93)]({'id':_0x4318b2['id'],'room_id':_0x4318b2[_0x578df5(0xa1)],'employee_number':_0x4318b2[_0x578df5(0x92)],'phone':_0x4318b2[_0x578df5(0x8c)],'floor_id':_0x4318b2[_0x578df5(0x84)],'org2_id':_0x4318b2['org2_id'],'firstname':_0x4318b2[_0x578df5(0x87)][_0x578df5(0x9b)]('\x20')[0x0],'lastname':_0x4318b2['employeeName'][_0x578df5(0x9b)]('\x20')[0x1],'employeeName':_0x4318b2[_0x578df5(0x87)],'department':_0x325c54[_0x4318b2[_0x578df5(0x96)]]});}_0x208ff4[_0x578df5(0x82)](_0x22fe2c);}catch(_0x5e29a6){console[_0x578df5(0xa7)](_0x578df5(0xa8)+_0x5e29a6),_0x208ff4[_0x578df5(0x82)]('[]');}}),module[a12_0xbfb731(0x9c)]=router;