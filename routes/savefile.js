function a24_0x1265(){var _0x48a078=['substring','2846864ovStiL','/savefile','52025rEZCWJ','send','\x20first\x20index:','close','ServerFrontEndUrl','body','124HKEYKI','error\x20-\x20savefile','550ARSSLa','http:','Access-Control-Allow-Origin\x20:','14onobHm','876iLvIfu','express','existsSync','replace','cvjs_debug','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','length','Succes','https:','4470VNArNq','open','exports','file\x20written','post','log','setHeader','ServerLocation','join','dirname','mkdirSync','Access-Control-Allow-Origin','80692aYQDEJ','error\x20savefile:\x20','from','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','X\x20\x20','file_content','file','ServerUrl','after:','path','583GqPStx','Router','99477DlNYJv','1311699yAcRML','indexOf','3416xtDOPm','Access-Control-Allow-Origin\x20:\x20*'];a24_0x1265=function(){return _0x48a078;};return a24_0x1265();}var a24_0x271fa1=a24_0x53e5;(function(_0x5527de,_0x4e43f1){var _0x23c7a7=a24_0x53e5,_0x2f36d9=_0x5527de();while(!![]){try{var _0x42cca0=parseInt(_0x23c7a7(0x13a))/0x1*(-parseInt(_0x23c7a7(0x150))/0x2)+parseInt(_0x23c7a7(0x128))/0x3+parseInt(_0x23c7a7(0x135))/0x4*(parseInt(_0x23c7a7(0x12f))/0x5)+-parseInt(_0x23c7a7(0x144))/0x6*(-parseInt(_0x23c7a7(0x12a))/0x7)+parseInt(_0x23c7a7(0x12d))/0x8+parseInt(_0x23c7a7(0x127))/0x9*(-parseInt(_0x23c7a7(0x137))/0xa)+-parseInt(_0x23c7a7(0x15a))/0xb*(-parseInt(_0x23c7a7(0x13b))/0xc);if(_0x42cca0===_0x4e43f1)break;else _0x2f36d9['push'](_0x2f36d9['shift']());}catch(_0x3e9e9e){_0x2f36d9['push'](_0x2f36d9['shift']());}}}(a24_0x1265,0x4bc2c));function a24_0x53e5(_0x280ade,_0x5ecedf){var _0x1265c5=a24_0x1265();return a24_0x53e5=function(_0x53e5d9,_0x24c816){_0x53e5d9=_0x53e5d9-0x126;var _0x3de18c=_0x1265c5[_0x53e5d9];return _0x3de18c;},a24_0x53e5(_0x280ade,_0x5ecedf);}var config=require('../CADViewer_config.json'),cvjs_debug=config[a24_0x271fa1(0x13f)],express=require(a24_0x271fa1(0x13c)),router=express[a24_0x271fa1(0x126)]();const fs=require('fs'),path=require(a24_0x271fa1(0x159));function createDirRecursively(_0x4a9403){var _0x4b740c=a24_0x271fa1;!fs[_0x4b740c(0x13d)](_0x4a9403)&&(createDirRecursively(path[_0x4b740c(0x14c)](_0x4a9403,'..')),fs[_0x4b740c(0x14e)](_0x4a9403));}router[a24_0x271fa1(0x148)](a24_0x271fa1(0x12e),(_0x2a9383,_0x1df31c)=>{var _0x3f6a88=a24_0x271fa1;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x1df31c[_0x3f6a88(0x14a)](_0x3f6a88(0x14f),config[_0x3f6a88(0x133)]);if(cvjs_debug)console[_0x3f6a88(0x149)](_0x3f6a88(0x139)+config[_0x3f6a88(0x133)]);}else{_0x1df31c[_0x3f6a88(0x14a)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console['log'](_0x3f6a88(0x12b));}try{var _0x18f44a=_0x2a9383[_0x3f6a88(0x134)][_0x3f6a88(0x156)],_0x42da37=_0x2a9383[_0x3f6a88(0x134)][_0x3f6a88(0x155)],_0xfc943e=Buffer[_0x3f6a88(0x152)](_0x42da37),_0x75b942=![];console[_0x3f6a88(0x149)]('savefile:'+_0x18f44a+_0x3f6a88(0x131)+_0x18f44a[_0x3f6a88(0x129)]('/'));if(_0x18f44a[_0x3f6a88(0x129)](_0x3f6a88(0x138))>-0x1||_0x18f44a[_0x3f6a88(0x129)](_0x3f6a88(0x143))>-0x1){}else{if(_0x18f44a[_0x3f6a88(0x129)](':')>0x0&&_0x18f44a[_0x3f6a88(0x129)](':')<0x3){if(_0x18f44a[_0x3f6a88(0x129)]('/')==0x0)_0x18f44a=_0x18f44a['substring'](0x1);}else(_0x18f44a['indexOf']('/')==0x0||_0x18f44a['indexOf']('\x5c')==0x0)&&(console[_0x3f6a88(0x149)](_0x3f6a88(0x140)+_0x18f44a['indexOf'](config[_0x3f6a88(0x14b)])),(_0x18f44a['indexOf'](config[_0x3f6a88(0x14b)])==-0x1||_0x18f44a[_0x3f6a88(0x129)](config[_0x3f6a88(0x14b)])>0x3)&&(console[_0x3f6a88(0x149)](_0x3f6a88(0x153)),_0x18f44a=config[_0x3f6a88(0x14b)]+_0x18f44a,_0x75b942=!![]));}console[_0x3f6a88(0x149)](_0x3f6a88(0x158)+_0x18f44a);var _0x42a945=path[_0x3f6a88(0x14d)](_0x18f44a);createDirRecursively(_0x42a945),_0x18f44a=decodeURI(_0x18f44a),_0x18f44a=_0x18f44a[_0x3f6a88(0x13e)](/%3A/g,':'),_0x18f44a=_0x18f44a[_0x3f6a88(0x13e)](/%2F/g,'/'),_0x18f44a=_0x18f44a[_0x3f6a88(0x13e)](/%20/g,'\x20');if(config[_0x3f6a88(0x13f)])console[_0x3f6a88(0x149)]('HERE\x20'+_0x18f44a+'\x20X'+config[_0x3f6a88(0x133)]+_0x3f6a88(0x154)+config[_0x3f6a88(0x157)]);if(_0x18f44a[_0x3f6a88(0x129)](config[_0x3f6a88(0x133)])==0x0){if(_0x75b942){}else _0x18f44a=config['ServerLocation']+_0x18f44a[_0x3f6a88(0x12c)](config[_0x3f6a88(0x133)][_0x3f6a88(0x141)]);}else _0x18f44a[_0x3f6a88(0x129)](config['ServerUrl'])==0x0&&(_0x18f44a=config[_0x3f6a88(0x14b)]+_0x18f44a['substring'](config[_0x3f6a88(0x157)][_0x3f6a88(0x141)]));_0x18f44a=_0x18f44a['replace'](/\\/g,'/');if(config['cvjs_debug'])console[_0x3f6a88(0x149)]('savefile:'+_0x18f44a);fs[_0x3f6a88(0x145)](_0x18f44a,'w',function(_0x21bebe,_0x5b7a8b){fs['write'](_0x5b7a8b,_0xfc943e,0x0,_0xfc943e['length'],null,function(_0x1e0124){var _0x52b7c7=a24_0x53e5;if(_0x1e0124){if(config[_0x52b7c7(0x13f)])console[_0x52b7c7(0x149)](_0x52b7c7(0x151)+_0x1e0124);_0x1df31c['send'](_0x52b7c7(0x151)+_0x1e0124);}else fs[_0x52b7c7(0x132)](_0x5b7a8b,function(){var _0x24f658=_0x52b7c7;if(config['cvjs_debug'])console[_0x24f658(0x149)](_0x24f658(0x147));_0x1df31c[_0x24f658(0x130)](_0x24f658(0x142));});});});}catch(_0x5d4837){_0x1df31c[_0x3f6a88(0x130)](_0x3f6a88(0x136));if(config['cvjs_debug'])console[_0x3f6a88(0x149)](_0x5d4837);}}),module[a24_0x271fa1(0x146)]=router;