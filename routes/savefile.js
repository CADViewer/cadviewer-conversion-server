var a24_0x1fc9e5=a24_0x2eec;(function(_0x5473f1,_0x28f662){var _0x675a87=a24_0x2eec,_0x47a76d=_0x5473f1();while(!![]){try{var _0x3f0e1f=parseInt(_0x675a87(0x178))/0x1+parseInt(_0x675a87(0x193))/0x2+parseInt(_0x675a87(0x185))/0x3+-parseInt(_0x675a87(0x173))/0x4+-parseInt(_0x675a87(0x17d))/0x5+-parseInt(_0x675a87(0x171))/0x6+parseInt(_0x675a87(0x18f))/0x7*(parseInt(_0x675a87(0x181))/0x8);if(_0x3f0e1f===_0x28f662)break;else _0x47a76d['push'](_0x47a76d['shift']());}catch(_0x2f3f26){_0x47a76d['push'](_0x47a76d['shift']());}}}(a24_0x2448,0x4e6bb));var config=require(a24_0x1fc9e5(0x17a)),cvjs_debug=config[a24_0x1fc9e5(0x19a)],express=require(a24_0x1fc9e5(0x18e)),router=express[a24_0x1fc9e5(0x16f)]();function a24_0x2eec(_0x47033c,_0x20fc55){var _0x244866=a24_0x2448();return a24_0x2eec=function(_0x2eec97,_0x2afe6f){_0x2eec97=_0x2eec97-0x16e;var _0x510581=_0x244866[_0x2eec97];return _0x510581;},a24_0x2eec(_0x47033c,_0x20fc55);}function a24_0x2448(){var _0x4c8999=['open','2133845MWtVnP','savefile:','write','close','8CIIPOj','log','after:','X\x20\x20','510195hCIIdq','path','replace','body','Succes','Access-Control-Allow-Origin\x20:','indexOf','join','from','express','1942367aynxSC','https:','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','ServerUrl','861222mHKNih','HERE\x20','ServerFrontEndUrl','Access-Control-Allow-Origin\x20:\x20*','ServerFrontEndUrlAsAllowedOriginOnly','http:','send','cvjs_debug','mkdirSync','setHeader','file','Router','Access-Control-Allow-Origin','922608gxMpcj','existsSync','489344UIzQgU','substring','file_content','file\x20written','error\x20-\x20savefile','145927VapCIG','ServerLocation','../CADViewer_config.json','length'];a24_0x2448=function(){return _0x4c8999;};return a24_0x2448();}const fs=require('fs'),path=require(a24_0x1fc9e5(0x186));function createDirRecursively(_0x3fa5c3){var _0x130597=a24_0x1fc9e5;!fs[_0x130597(0x172)](_0x3fa5c3)&&(createDirRecursively(path[_0x130597(0x18c)](_0x3fa5c3,'..')),fs[_0x130597(0x19b)](_0x3fa5c3));}router['post']('/savefile',(_0x4ba41b,_0x112645)=>{var _0x5be9e3=a24_0x1fc9e5;if(config[_0x5be9e3(0x197)]==!![]){_0x112645[_0x5be9e3(0x19c)](_0x5be9e3(0x170),config[_0x5be9e3(0x195)]);if(cvjs_debug)console[_0x5be9e3(0x182)](_0x5be9e3(0x18a)+config[_0x5be9e3(0x195)]);}else{_0x112645['setHeader'](_0x5be9e3(0x170),'*');if(cvjs_debug)console[_0x5be9e3(0x182)](_0x5be9e3(0x196));}try{var _0x172568=_0x4ba41b[_0x5be9e3(0x188)][_0x5be9e3(0x16e)],_0x3e3aef=_0x4ba41b['body'][_0x5be9e3(0x175)],_0x2a0ecd=Buffer[_0x5be9e3(0x18d)](_0x3e3aef),_0x32bcd3=![];console['log'](_0x5be9e3(0x17e)+_0x172568+'\x20first\x20index:'+_0x172568[_0x5be9e3(0x18b)]('/'));if(_0x172568[_0x5be9e3(0x18b)](_0x5be9e3(0x198))>-0x1||_0x172568[_0x5be9e3(0x18b)](_0x5be9e3(0x190))>-0x1){}else{if(_0x172568[_0x5be9e3(0x18b)](':')>0x0&&_0x172568[_0x5be9e3(0x18b)](':')<0x3){if(_0x172568[_0x5be9e3(0x18b)]('/')==0x0)_0x172568=_0x172568[_0x5be9e3(0x174)](0x1);}else(_0x172568['indexOf']('/')==0x0||_0x172568[_0x5be9e3(0x18b)]('\x5c')==0x0)&&(console['log'](_0x5be9e3(0x191)+_0x172568[_0x5be9e3(0x18b)](config[_0x5be9e3(0x179)])),(_0x172568[_0x5be9e3(0x18b)](config[_0x5be9e3(0x179)])==-0x1||_0x172568[_0x5be9e3(0x18b)](config[_0x5be9e3(0x179)])>0x3)&&(console[_0x5be9e3(0x182)]('no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item'),_0x172568=config[_0x5be9e3(0x179)]+_0x172568,_0x32bcd3=!![]));}console[_0x5be9e3(0x182)](_0x5be9e3(0x183)+_0x172568);var _0x4b6c68=path['dirname'](_0x172568);createDirRecursively(_0x4b6c68),_0x172568=decodeURI(_0x172568),_0x172568=_0x172568[_0x5be9e3(0x187)](/%3A/g,':'),_0x172568=_0x172568[_0x5be9e3(0x187)](/%2F/g,'/'),_0x172568=_0x172568[_0x5be9e3(0x187)](/%20/g,'\x20');if(config[_0x5be9e3(0x19a)])console[_0x5be9e3(0x182)](_0x5be9e3(0x194)+_0x172568+'\x20X'+config[_0x5be9e3(0x195)]+_0x5be9e3(0x184)+config['ServerUrl']);if(_0x172568[_0x5be9e3(0x18b)](config[_0x5be9e3(0x195)])==0x0){if(_0x32bcd3){}else _0x172568=config[_0x5be9e3(0x179)]+_0x172568[_0x5be9e3(0x174)](config[_0x5be9e3(0x195)][_0x5be9e3(0x17b)]);}else _0x172568[_0x5be9e3(0x18b)](config['ServerUrl'])==0x0&&(_0x172568=config[_0x5be9e3(0x179)]+_0x172568[_0x5be9e3(0x174)](config[_0x5be9e3(0x192)][_0x5be9e3(0x17b)]));_0x172568=_0x172568[_0x5be9e3(0x187)](/\\/g,'/');if(config['cvjs_debug'])console['log'](_0x5be9e3(0x17e)+_0x172568);fs[_0x5be9e3(0x17c)](_0x172568,'w',function(_0x1d3fc0,_0x302e44){var _0x519ba1=_0x5be9e3;fs[_0x519ba1(0x17f)](_0x302e44,_0x2a0ecd,0x0,_0x2a0ecd['length'],null,function(_0x56d576){var _0xedb9d=_0x519ba1;if(_0x56d576){if(config[_0xedb9d(0x19a)])console['log']('error\x20savefile:\x20'+_0x56d576);_0x112645[_0xedb9d(0x199)]('error\x20savefile:\x20'+_0x56d576);}else fs[_0xedb9d(0x180)](_0x302e44,function(){var _0x24949d=_0xedb9d;if(config[_0x24949d(0x19a)])console[_0x24949d(0x182)](_0x24949d(0x176));_0x112645[_0x24949d(0x199)](_0x24949d(0x189));});});});}catch(_0x2cc25f){_0x112645[_0x5be9e3(0x199)](_0x5be9e3(0x177));if(config[_0x5be9e3(0x19a)])console[_0x5be9e3(0x182)](_0x2cc25f);}}),module['exports']=router;