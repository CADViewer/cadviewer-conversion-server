var a24_0x569ed7=a24_0x5467;(function(_0x1d3e63,_0x3b4005){var _0x22b3f2=a24_0x5467,_0x32a70a=_0x1d3e63();while(!![]){try{var _0x478257=-parseInt(_0x22b3f2(0x90))/0x1*(-parseInt(_0x22b3f2(0x93))/0x2)+-parseInt(_0x22b3f2(0x9a))/0x3+-parseInt(_0x22b3f2(0xa4))/0x4*(parseInt(_0x22b3f2(0x92))/0x5)+-parseInt(_0x22b3f2(0x7e))/0x6+parseInt(_0x22b3f2(0x9f))/0x7*(parseInt(_0x22b3f2(0x8f))/0x8)+-parseInt(_0x22b3f2(0x7b))/0x9*(-parseInt(_0x22b3f2(0x9d))/0xa)+parseInt(_0x22b3f2(0x7a))/0xb*(parseInt(_0x22b3f2(0xa2))/0xc);if(_0x478257===_0x3b4005)break;else _0x32a70a['push'](_0x32a70a['shift']());}catch(_0x27ca9f){_0x32a70a['push'](_0x32a70a['shift']());}}}(a24_0x86fc,0xb2951));var config=require('../CADViewer_config.json'),cvjs_debug=config[a24_0x569ed7(0x7f)],express=require(a24_0x569ed7(0x91)),router=express['Router']();function a24_0x5467(_0x378293,_0x5bf9dd){var _0x86fcb1=a24_0x86fc();return a24_0x5467=function(_0x5467e7,_0x34e32c){_0x5467e7=_0x5467e7-0x7a;var _0xb07c51=_0x86fcb1[_0x5467e7];return _0xb07c51;},a24_0x5467(_0x378293,_0x5bf9dd);}const fs=require('fs'),path=require(a24_0x569ed7(0xa0));function createDirRecursively(_0x108ca2){!fs['existsSync'](_0x108ca2)&&(createDirRecursively(path['join'](_0x108ca2,'..')),fs['mkdirSync'](_0x108ca2));}router[a24_0x569ed7(0x85)]('/savefile',(_0x35e9b3,_0x2a0d31)=>{var _0x59ae92=a24_0x569ed7;if(config[_0x59ae92(0xa1)]==!![]){_0x2a0d31[_0x59ae92(0x97)](_0x59ae92(0x7d),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x59ae92(0x84)](_0x59ae92(0x98)+config[_0x59ae92(0x80)]);}else{_0x2a0d31[_0x59ae92(0x97)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x59ae92(0x84)](_0x59ae92(0xa6));}try{var _0x2f29ed=_0x35e9b3[_0x59ae92(0x8a)][_0x59ae92(0xa3)],_0x14b011=_0x35e9b3[_0x59ae92(0x8a)][_0x59ae92(0x9c)],_0x4e6b70=Buffer[_0x59ae92(0x81)](_0x14b011),_0x3d8f0b=![];console[_0x59ae92(0x84)](_0x59ae92(0x94)+_0x2f29ed+_0x59ae92(0x9e)+_0x2f29ed['indexOf']('/'));if(_0x2f29ed[_0x59ae92(0x86)]('http:')>-0x1||_0x2f29ed[_0x59ae92(0x86)]('https:')>-0x1){}else{if(_0x2f29ed[_0x59ae92(0x86)](':')>0x0&&_0x2f29ed[_0x59ae92(0x86)](':')<0x3){if(_0x2f29ed[_0x59ae92(0x86)]('/')==0x0)_0x2f29ed=_0x2f29ed[_0x59ae92(0x99)](0x1);}else(_0x2f29ed[_0x59ae92(0x86)]('/')==0x0||_0x2f29ed[_0x59ae92(0x86)]('\x5c')==0x0)&&(console[_0x59ae92(0x84)](_0x59ae92(0x87)+_0x2f29ed[_0x59ae92(0x86)](config[_0x59ae92(0xa5)])),(_0x2f29ed[_0x59ae92(0x86)](config[_0x59ae92(0xa5)])==-0x1||_0x2f29ed[_0x59ae92(0x86)](config[_0x59ae92(0xa5)])>0x3)&&(console[_0x59ae92(0x84)](_0x59ae92(0x83)),_0x2f29ed=config[_0x59ae92(0xa5)]+_0x2f29ed,_0x3d8f0b=!![]));}console[_0x59ae92(0x84)](_0x59ae92(0x82)+_0x2f29ed);var _0x3a7bb4=path[_0x59ae92(0x7c)](_0x2f29ed);createDirRecursively(_0x3a7bb4),_0x2f29ed=decodeURI(_0x2f29ed),_0x2f29ed=_0x2f29ed[_0x59ae92(0x9b)](/%3A/g,':'),_0x2f29ed=_0x2f29ed[_0x59ae92(0x9b)](/%2F/g,'/'),_0x2f29ed=_0x2f29ed[_0x59ae92(0x9b)](/%20/g,'\x20');if(config[_0x59ae92(0x7f)])console['log'](_0x59ae92(0x88)+_0x2f29ed+'\x20X'+config[_0x59ae92(0x80)]+_0x59ae92(0x8d)+config[_0x59ae92(0x8e)]);if(_0x2f29ed[_0x59ae92(0x86)](config[_0x59ae92(0x80)])==0x0){if(_0x3d8f0b){}else _0x2f29ed=config['ServerLocation']+_0x2f29ed[_0x59ae92(0x99)](config[_0x59ae92(0x80)]['length']);}else _0x2f29ed[_0x59ae92(0x86)](config[_0x59ae92(0x8e)])==0x0&&(_0x2f29ed=config[_0x59ae92(0xa5)]+_0x2f29ed[_0x59ae92(0x99)](config[_0x59ae92(0x8e)][_0x59ae92(0x8b)]));_0x2f29ed=_0x2f29ed[_0x59ae92(0x9b)](/\\/g,'/');if(config[_0x59ae92(0x7f)])console[_0x59ae92(0x84)](_0x59ae92(0x94)+_0x2f29ed);fs['open'](_0x2f29ed,'w',function(_0x5a6c58,_0x102baf){var _0x129007=_0x59ae92;fs[_0x129007(0x8c)](_0x102baf,_0x4e6b70,0x0,_0x4e6b70['length'],null,function(_0x2a1867){var _0x27a8c9=_0x129007;if(_0x2a1867){if(config['cvjs_debug'])console[_0x27a8c9(0x84)]('error\x20savefile:\x20'+_0x2a1867);_0x2a0d31['send']('error\x20savefile:\x20'+_0x2a1867);}else fs['close'](_0x102baf,function(){var _0x4cecd2=_0x27a8c9;if(config['cvjs_debug'])console[_0x4cecd2(0x84)]('file\x20written');_0x2a0d31[_0x4cecd2(0x96)](_0x4cecd2(0x95));});});});}catch(_0x2d34f6){_0x2a0d31[_0x59ae92(0x96)](_0x59ae92(0x89));if(config[_0x59ae92(0x7f)])console[_0x59ae92(0x84)](_0x2d34f6);}}),module[a24_0x569ed7(0xa7)]=router;function a24_0x86fc(){var _0x39c21b=['length','write','X\x20\x20','ServerUrl','152kWwMLm','16pOJwpB','express','10iNBfDY','143256uwCvDG','savefile:','Succes','send','setHeader','Access-Control-Allow-Origin\x20:','substring','3915672AvnLTh','replace','file_content','10FlixYb','\x20first\x20index:','527569Ueknsv','path','ServerFrontEndUrlAsAllowedOriginOnly','6334392fEveBr','file','949704iEulXS','ServerLocation','Access-Control-Allow-Origin\x20:\x20*','exports','11iTVnFs','1411794rGuVPn','dirname','Access-Control-Allow-Origin','4507224GSiqtH','cvjs_debug','ServerFrontEndUrl','from','after:','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','log','post','indexOf','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','HERE\x20','error\x20-\x20savefile','body'];a24_0x86fc=function(){return _0x39c21b;};return a24_0x86fc();}