var a24_0x551c20=a24_0x1d10;function a24_0x3c39(){var _0x25dfe2=['indexOf','Router','send','log','cvjs_debug','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','after:','setHeader','Access-Control-Allow-Origin','2493fuIhpa','21136kguMsu','substring','exports','20994YapoVy','885696gxNvIO','savefile:','dirname','HERE\x20','join','../CADViewer_config.json','replace','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','close','file_content','ServerFrontEndUrl','4459988PWWLdO','755568bNbWnO','3101bAYADY','length','express','https:','/savefile','write','ServerFrontEndUrlAsAllowedOriginOnly','69910glTiwf','ServerUrl','1507pyIAHS','open','http:','from','ServerLocation','error\x20-\x20savefile','Succes','4386365BZsfrD','file','4PcCHew','path'];a24_0x3c39=function(){return _0x25dfe2;};return a24_0x3c39();}function a24_0x1d10(_0x193c95,_0x2e900f){var _0x3c3955=a24_0x3c39();return a24_0x1d10=function(_0x1d1024,_0x4d2812){_0x1d1024=_0x1d1024-0x126;var _0x33e3bb=_0x3c3955[_0x1d1024];return _0x33e3bb;},a24_0x1d10(_0x193c95,_0x2e900f);}(function(_0x3f2509,_0x2a6a5e){var _0x100e7e=a24_0x1d10,_0xfb173=_0x3f2509();while(!![]){try{var _0x433a89=-parseInt(_0x100e7e(0x14f))/0x1*(-parseInt(_0x100e7e(0x13c))/0x2)+-parseInt(_0x100e7e(0x130))/0x3+-parseInt(_0x100e7e(0x13b))/0x4+parseInt(_0x100e7e(0x14d))/0x5+parseInt(_0x100e7e(0x12f))/0x6*(parseInt(_0x100e7e(0x13d))/0x7)+parseInt(_0x100e7e(0x12c))/0x8*(-parseInt(_0x100e7e(0x12b))/0x9)+parseInt(_0x100e7e(0x144))/0xa*(-parseInt(_0x100e7e(0x146))/0xb);if(_0x433a89===_0x2a6a5e)break;else _0xfb173['push'](_0xfb173['shift']());}catch(_0x5147d5){_0xfb173['push'](_0xfb173['shift']());}}}(a24_0x3c39,0xccbec));var config=require(a24_0x551c20(0x135)),cvjs_debug=config[a24_0x551c20(0x126)],express=require(a24_0x551c20(0x13f)),router=express[a24_0x551c20(0x152)]();const fs=require('fs'),path=require(a24_0x551c20(0x150));function createDirRecursively(_0x3043e4){var _0x336012=a24_0x551c20;!fs['existsSync'](_0x3043e4)&&(createDirRecursively(path[_0x336012(0x134)](_0x3043e4,'..')),fs['mkdirSync'](_0x3043e4));}router['post'](a24_0x551c20(0x141),(_0x6164f,_0x5c3ea1)=>{var _0x291948=a24_0x551c20;if(config[_0x291948(0x143)]==!![]){_0x5c3ea1['setHeader'](_0x291948(0x12a),config[_0x291948(0x13a)]);if(cvjs_debug)console[_0x291948(0x154)]('Access-Control-Allow-Origin\x20:'+config[_0x291948(0x13a)]);}else{_0x5c3ea1[_0x291948(0x129)](_0x291948(0x12a),'*');if(cvjs_debug)console[_0x291948(0x154)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x42a75e=_0x6164f['body'][_0x291948(0x14e)],_0x271ef8=_0x6164f['body'][_0x291948(0x139)],_0x1bec3d=Buffer[_0x291948(0x149)](_0x271ef8),_0x369d62=![];console[_0x291948(0x154)](_0x291948(0x131)+_0x42a75e+'\x20first\x20index:'+_0x42a75e['indexOf']('/'));if(_0x42a75e[_0x291948(0x151)](_0x291948(0x148))>-0x1||_0x42a75e[_0x291948(0x151)](_0x291948(0x140))>-0x1){}else{if(_0x42a75e[_0x291948(0x151)](':')>0x0&&_0x42a75e[_0x291948(0x151)](':')<0x3){if(_0x42a75e['indexOf']('/')==0x0)_0x42a75e=_0x42a75e[_0x291948(0x12d)](0x1);}else(_0x42a75e[_0x291948(0x151)]('/')==0x0||_0x42a75e['indexOf']('\x5c')==0x0)&&(console[_0x291948(0x154)](_0x291948(0x127)+_0x42a75e[_0x291948(0x151)](config['ServerLocation'])),(_0x42a75e[_0x291948(0x151)](config[_0x291948(0x14a)])==-0x1||_0x42a75e[_0x291948(0x151)](config['ServerLocation'])>0x3)&&(console[_0x291948(0x154)](_0x291948(0x137)),_0x42a75e=config[_0x291948(0x14a)]+_0x42a75e,_0x369d62=!![]));}console[_0x291948(0x154)](_0x291948(0x128)+_0x42a75e);var _0xe8176d=path[_0x291948(0x132)](_0x42a75e);createDirRecursively(_0xe8176d),_0x42a75e=decodeURI(_0x42a75e),_0x42a75e=_0x42a75e[_0x291948(0x136)](/%3A/g,':'),_0x42a75e=_0x42a75e['replace'](/%2F/g,'/'),_0x42a75e=_0x42a75e[_0x291948(0x136)](/%20/g,'\x20');if(config['cvjs_debug'])console[_0x291948(0x154)](_0x291948(0x133)+_0x42a75e+'\x20X'+config[_0x291948(0x13a)]+'X\x20\x20'+config[_0x291948(0x145)]);if(_0x42a75e[_0x291948(0x151)](config['ServerFrontEndUrl'])==0x0){if(_0x369d62){}else _0x42a75e=config[_0x291948(0x14a)]+_0x42a75e[_0x291948(0x12d)](config[_0x291948(0x13a)][_0x291948(0x13e)]);}else _0x42a75e[_0x291948(0x151)](config['ServerUrl'])==0x0&&(_0x42a75e=config[_0x291948(0x14a)]+_0x42a75e[_0x291948(0x12d)](config[_0x291948(0x145)][_0x291948(0x13e)]));_0x42a75e=_0x42a75e['replace'](/\\/g,'/');if(config[_0x291948(0x126)])console[_0x291948(0x154)](_0x291948(0x131)+_0x42a75e);fs[_0x291948(0x147)](_0x42a75e,'w',function(_0xd02112,_0x412d56){var _0x1173d4=_0x291948;fs[_0x1173d4(0x142)](_0x412d56,_0x1bec3d,0x0,_0x1bec3d[_0x1173d4(0x13e)],null,function(_0x4915ab){var _0x55c0a2=_0x1173d4;if(_0x4915ab){if(config['cvjs_debug'])console[_0x55c0a2(0x154)]('error\x20savefile:\x20'+_0x4915ab);_0x5c3ea1[_0x55c0a2(0x153)]('error\x20savefile:\x20'+_0x4915ab);}else fs[_0x55c0a2(0x138)](_0x412d56,function(){var _0x458315=_0x55c0a2;if(config[_0x458315(0x126)])console[_0x458315(0x154)]('file\x20written');_0x5c3ea1[_0x458315(0x153)](_0x458315(0x14c));});});});}catch(_0x215599){_0x5c3ea1[_0x291948(0x153)](_0x291948(0x14b));if(config[_0x291948(0x126)])console[_0x291948(0x154)](_0x215599);}}),module[a24_0x551c20(0x12e)]=router;