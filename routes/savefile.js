var a24_0x200ee7=a24_0xf69f;(function(_0x525606,_0x11145b){var _0x1856bf=a24_0xf69f,_0x25e4f3=_0x525606();while(!![]){try{var _0x532c56=parseInt(_0x1856bf(0xd5))/0x1*(parseInt(_0x1856bf(0xe1))/0x2)+parseInt(_0x1856bf(0xe4))/0x3+parseInt(_0x1856bf(0xe7))/0x4*(parseInt(_0x1856bf(0xec))/0x5)+parseInt(_0x1856bf(0xda))/0x6+parseInt(_0x1856bf(0xfc))/0x7+-parseInt(_0x1856bf(0xf8))/0x8+-parseInt(_0x1856bf(0xd8))/0x9;if(_0x532c56===_0x11145b)break;else _0x25e4f3['push'](_0x25e4f3['shift']());}catch(_0xb658ff){_0x25e4f3['push'](_0x25e4f3['shift']());}}}(a24_0x452a,0x86e50));function a24_0xf69f(_0x48d73e,_0xd2f74e){var _0x452add=a24_0x452a();return a24_0xf69f=function(_0xf69fae,_0x2ab7cd){_0xf69fae=_0xf69fae-0xd5;var _0x44391d=_0x452add[_0xf69fae];return _0x44391d;},a24_0xf69f(_0x48d73e,_0xd2f74e);}var config=require('../CADViewer_config.json'),cvjs_debug=config[a24_0x200ee7(0xed)],express=require('express'),router=express[a24_0x200ee7(0xee)]();const fs=require('fs'),path=require('path');function createDirRecursively(_0x29b0af){var _0x33d420=a24_0x200ee7;!fs[_0x33d420(0xeb)](_0x29b0af)&&(createDirRecursively(path[_0x33d420(0xff)](_0x29b0af,'..')),fs[_0x33d420(0xd6)](_0x29b0af));}router[a24_0x200ee7(0xfd)]('/savefile',(_0x4e31e8,_0x3171e2)=>{var _0xd5c023=a24_0x200ee7;if(config[_0xd5c023(0xdc)]==!![]){_0x3171e2[_0xd5c023(0xe6)](_0xd5c023(0xdf),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0xd5c023(0xd7)](_0xd5c023(0xfa)+config[_0xd5c023(0xdd)]);}else{_0x3171e2[_0xd5c023(0xe6)](_0xd5c023(0xdf),'*');if(cvjs_debug)console[_0xd5c023(0xd7)](_0xd5c023(0xf6));}try{var _0x183de0=_0x4e31e8[_0xd5c023(0xdb)][_0xd5c023(0xf4)],_0x3f493f=_0x4e31e8[_0xd5c023(0xdb)]['file_content'],_0x4ad624=Buffer[_0xd5c023(0xe5)](_0x3f493f),_0x34e148=![];console[_0xd5c023(0xd7)](_0xd5c023(0xef)+_0x183de0+'\x20first\x20index:'+_0x183de0[_0xd5c023(0xf5)]('/'));if(_0x183de0['indexOf'](_0xd5c023(0xf7))>-0x1||_0x183de0[_0xd5c023(0xf5)](_0xd5c023(0xf3))>-0x1){}else{if(_0x183de0['indexOf'](':')>0x0&&_0x183de0[_0xd5c023(0xf5)](':')<0x3){if(_0x183de0[_0xd5c023(0xf5)]('/')==0x0)_0x183de0=_0x183de0['substring'](0x1);}else(_0x183de0[_0xd5c023(0xf5)]('/')==0x0||_0x183de0[_0xd5c023(0xf5)]('\x5c')==0x0)&&(console[_0xd5c023(0xd7)](_0xd5c023(0xfb)+_0x183de0[_0xd5c023(0xf5)](config[_0xd5c023(0x100)])),(_0x183de0[_0xd5c023(0xf5)](config[_0xd5c023(0x100)])==-0x1||_0x183de0['indexOf'](config[_0xd5c023(0x100)])>0x3)&&(console[_0xd5c023(0xd7)](_0xd5c023(0xe9)),_0x183de0=config[_0xd5c023(0x100)]+_0x183de0,_0x34e148=!![]));}console[_0xd5c023(0xd7)](_0xd5c023(0xe2)+_0x183de0);var _0xf0dfc7=path['dirname'](_0x183de0);createDirRecursively(_0xf0dfc7),_0x183de0=decodeURI(_0x183de0),_0x183de0=_0x183de0[_0xd5c023(0xd9)](/%3A/g,':'),_0x183de0=_0x183de0[_0xd5c023(0xd9)](/%2F/g,'/'),_0x183de0=_0x183de0[_0xd5c023(0xd9)](/%20/g,'\x20');if(config[_0xd5c023(0xed)])console[_0xd5c023(0xd7)]('HERE\x20'+_0x183de0+'\x20X'+config['ServerFrontEndUrl']+_0xd5c023(0xe3)+config[_0xd5c023(0xde)]);if(_0x183de0[_0xd5c023(0xf5)](config['ServerFrontEndUrl'])==0x0){if(_0x34e148){}else _0x183de0=config['ServerLocation']+_0x183de0[_0xd5c023(0xf2)](config['ServerFrontEndUrl'][_0xd5c023(0xe0)]);}else _0x183de0[_0xd5c023(0xf5)](config[_0xd5c023(0xde)])==0x0&&(_0x183de0=config[_0xd5c023(0x100)]+_0x183de0[_0xd5c023(0xf2)](config['ServerUrl']['length']));_0x183de0=_0x183de0[_0xd5c023(0xd9)](/\\/g,'/');if(config['cvjs_debug'])console[_0xd5c023(0xd7)](_0xd5c023(0xef)+_0x183de0);fs[_0xd5c023(0xf9)](_0x183de0,'w',function(_0x20024c,_0x40d2bc){var _0x4e31ca=_0xd5c023;fs[_0x4e31ca(0xf0)](_0x40d2bc,_0x4ad624,0x0,_0x4ad624[_0x4e31ca(0xe0)],null,function(_0xe001a7){var _0x499412=_0x4e31ca;if(_0xe001a7){if(config['cvjs_debug'])console[_0x499412(0xd7)]('error\x20savefile:\x20'+_0xe001a7);_0x3171e2[_0x499412(0xea)](_0x499412(0xfe)+_0xe001a7);}else fs['close'](_0x40d2bc,function(){var _0x267d6b=_0x499412;if(config[_0x267d6b(0xed)])console['log'](_0x267d6b(0xf1));_0x3171e2[_0x267d6b(0xea)](_0x267d6b(0xe8));});});});}catch(_0x4362dc){_0x3171e2[_0xd5c023(0xea)]('error\x20-\x20savefile');if(config[_0xd5c023(0xed)])console[_0xd5c023(0xd7)](_0x4362dc);}}),module['exports']=router;function a24_0x452a(){var _0x8aa649=['length','328766FGDTQZ','after:','X\x20\x20','1022016cxtXJG','from','setHeader','272fwQeaw','Succes','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','send','existsSync','3690cZYwqL','cvjs_debug','Router','savefile:','write','file\x20written','substring','https:','file','indexOf','Access-Control-Allow-Origin\x20:\x20*','http:','2168232BhXHZo','open','Access-Control-Allow-Origin\x20:','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','802305RQjjxr','post','error\x20savefile:\x20','join','ServerLocation','5XFdlXp','mkdirSync','log','13158927KwGfJv','replace','5749644ZEJpsk','body','ServerFrontEndUrlAsAllowedOriginOnly','ServerFrontEndUrl','ServerUrl','Access-Control-Allow-Origin'];a24_0x452a=function(){return _0x8aa649;};return a24_0x452a();}