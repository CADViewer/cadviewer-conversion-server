var a24_0x55bd58=a24_0x77b1;(function(_0x1cfa57,_0x1a22dd){var _0x5406ec=a24_0x77b1,_0x5be971=_0x1cfa57();while(!![]){try{var _0xeee6e9=parseInt(_0x5406ec(0x207))/0x1+parseInt(_0x5406ec(0x1f8))/0x2*(-parseInt(_0x5406ec(0x1ef))/0x3)+-parseInt(_0x5406ec(0x1de))/0x4+-parseInt(_0x5406ec(0x1f9))/0x5*(-parseInt(_0x5406ec(0x200))/0x6)+-parseInt(_0x5406ec(0x1eb))/0x7+-parseInt(_0x5406ec(0x1fe))/0x8+parseInt(_0x5406ec(0x1f0))/0x9;if(_0xeee6e9===_0x1a22dd)break;else _0x5be971['push'](_0x5be971['shift']());}catch(_0x27d0c2){_0x5be971['push'](_0x5be971['shift']());}}}(a24_0x1368,0x9687b));var config=require(a24_0x55bd58(0x202)),cvjs_debug=config[a24_0x55bd58(0x1f5)],express=require('express'),router=express['Router']();const fs=require('fs'),path=require(a24_0x55bd58(0x1e2));function a24_0x77b1(_0x29a2bf,_0x102db8){var _0x1368cf=a24_0x1368();return a24_0x77b1=function(_0x77b1f4,_0x5e03bb){_0x77b1f4=_0x77b1f4-0x1dd;var _0x4db3e4=_0x1368cf[_0x77b1f4];return _0x4db3e4;},a24_0x77b1(_0x29a2bf,_0x102db8);}function a24_0x1368(){var _0x4b1227=['send','cvjs_debug','HERE\x20','dirname','1106eZLqsT','15ARBsWM','post','error\x20-\x20savefile','ServerLocation','savefile:','9717352Slczmh','Access-Control-Allow-Origin','1621176NHqDyM','Succes','../CADViewer_config.json','ServerFrontEndUrl','body','open','existsSync','202932juvdeV','ServerFrontEndUrlAsAllowedOriginOnly','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','http:','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','error\x20savefile:\x20','join','1431124eRmLqL','replace','write','substring','path','\x20first\x20index:','ServerUrl','file\x20written','file_content','indexOf','X\x20\x20','exports','after:','8477784kXtWJC','log','length','setHeader','2121LEHXqL','24998256XPztvZ','close','from','file'];a24_0x1368=function(){return _0x4b1227;};return a24_0x1368();}function createDirRecursively(_0x2ce5b9){var _0x2a7f41=a24_0x55bd58;!fs[_0x2a7f41(0x206)](_0x2ce5b9)&&(createDirRecursively(path[_0x2a7f41(0x1dd)](_0x2ce5b9,'..')),fs['mkdirSync'](_0x2ce5b9));}router[a24_0x55bd58(0x1fa)]('/savefile',(_0x9b674f,_0x507a56)=>{var _0x2545a4=a24_0x55bd58;if(config[_0x2545a4(0x208)]==!![]){_0x507a56['setHeader'](_0x2545a4(0x1ff),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x2545a4(0x1ec)]('Access-Control-Allow-Origin\x20:'+config[_0x2545a4(0x203)]);}else{_0x507a56[_0x2545a4(0x1ee)](_0x2545a4(0x1ff),'*');if(cvjs_debug)console[_0x2545a4(0x1ec)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x323b1f=_0x9b674f[_0x2545a4(0x204)][_0x2545a4(0x1f3)],_0x213735=_0x9b674f[_0x2545a4(0x204)][_0x2545a4(0x1e6)],_0x1c5775=Buffer[_0x2545a4(0x1f2)](_0x213735),_0x5043bb=![];console[_0x2545a4(0x1ec)]('savefile:'+_0x323b1f+_0x2545a4(0x1e3)+_0x323b1f[_0x2545a4(0x1e7)]('/'));if(_0x323b1f[_0x2545a4(0x1e7)](_0x2545a4(0x20a))>-0x1||_0x323b1f['indexOf']('https:')>-0x1){}else{if(_0x323b1f[_0x2545a4(0x1e7)](':')>0x0&&_0x323b1f[_0x2545a4(0x1e7)](':')<0x3){if(_0x323b1f[_0x2545a4(0x1e7)]('/')==0x0)_0x323b1f=_0x323b1f[_0x2545a4(0x1e1)](0x1);}else(_0x323b1f[_0x2545a4(0x1e7)]('/')==0x0||_0x323b1f['indexOf']('\x5c')==0x0)&&(console['log'](_0x2545a4(0x20b)+_0x323b1f[_0x2545a4(0x1e7)](config[_0x2545a4(0x1fc)])),(_0x323b1f[_0x2545a4(0x1e7)](config['ServerLocation'])==-0x1||_0x323b1f[_0x2545a4(0x1e7)](config[_0x2545a4(0x1fc)])>0x3)&&(console[_0x2545a4(0x1ec)](_0x2545a4(0x209)),_0x323b1f=config[_0x2545a4(0x1fc)]+_0x323b1f,_0x5043bb=!![]));}console[_0x2545a4(0x1ec)](_0x2545a4(0x1ea)+_0x323b1f);var _0x1021a0=path[_0x2545a4(0x1f7)](_0x323b1f);createDirRecursively(_0x1021a0),_0x323b1f=decodeURI(_0x323b1f),_0x323b1f=_0x323b1f[_0x2545a4(0x1df)](/%3A/g,':'),_0x323b1f=_0x323b1f['replace'](/%2F/g,'/'),_0x323b1f=_0x323b1f[_0x2545a4(0x1df)](/%20/g,'\x20');if(config[_0x2545a4(0x1f5)])console[_0x2545a4(0x1ec)](_0x2545a4(0x1f6)+_0x323b1f+'\x20X'+config[_0x2545a4(0x203)]+_0x2545a4(0x1e8)+config['ServerUrl']);if(_0x323b1f['indexOf'](config['ServerFrontEndUrl'])==0x0){if(_0x5043bb){}else _0x323b1f=config['ServerLocation']+_0x323b1f['substring'](config[_0x2545a4(0x203)][_0x2545a4(0x1ed)]);}else _0x323b1f[_0x2545a4(0x1e7)](config['ServerUrl'])==0x0&&(_0x323b1f=config[_0x2545a4(0x1fc)]+_0x323b1f[_0x2545a4(0x1e1)](config[_0x2545a4(0x1e4)][_0x2545a4(0x1ed)]));_0x323b1f=_0x323b1f[_0x2545a4(0x1df)](/\\/g,'/');if(config[_0x2545a4(0x1f5)])console[_0x2545a4(0x1ec)](_0x2545a4(0x1fd)+_0x323b1f);fs[_0x2545a4(0x205)](_0x323b1f,'w',function(_0x4a0e17,_0x533cfa){var _0x316f8c=_0x2545a4;fs[_0x316f8c(0x1e0)](_0x533cfa,_0x1c5775,0x0,_0x1c5775['length'],null,function(_0x37abb6){var _0x38d01f=_0x316f8c;if(_0x37abb6){if(config['cvjs_debug'])console[_0x38d01f(0x1ec)](_0x38d01f(0x20c)+_0x37abb6);_0x507a56['send'](_0x38d01f(0x20c)+_0x37abb6);}else fs[_0x38d01f(0x1f1)](_0x533cfa,function(){var _0x4c072f=_0x38d01f;if(config[_0x4c072f(0x1f5)])console[_0x4c072f(0x1ec)](_0x4c072f(0x1e5));_0x507a56['send'](_0x4c072f(0x201));});});});}catch(_0x553440){_0x507a56[_0x2545a4(0x1f4)](_0x2545a4(0x1fb));if(config[_0x2545a4(0x1f5)])console['log'](_0x553440);}}),module[a24_0x55bd58(0x1e9)]=router;