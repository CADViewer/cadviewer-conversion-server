var a24_0x4c63e8=a24_0x5f5c;(function(_0x31dbbc,_0x2e6c3c){var _0x741feb=a24_0x5f5c,_0x709ed0=_0x31dbbc();while(!![]){try{var _0x1d1ff8=parseInt(_0x741feb(0x143))/0x1*(parseInt(_0x741feb(0x122))/0x2)+parseInt(_0x741feb(0x12e))/0x3+-parseInt(_0x741feb(0x124))/0x4+-parseInt(_0x741feb(0x128))/0x5*(-parseInt(_0x741feb(0x11b))/0x6)+-parseInt(_0x741feb(0x126))/0x7+parseInt(_0x741feb(0x11e))/0x8*(-parseInt(_0x741feb(0x12f))/0x9)+parseInt(_0x741feb(0x13c))/0xa;if(_0x1d1ff8===_0x2e6c3c)break;else _0x709ed0['push'](_0x709ed0['shift']());}catch(_0xb2ab45){_0x709ed0['push'](_0x709ed0['shift']());}}}(a24_0xc693,0x4e705));function a24_0xc693(){var _0x512d5d=['Access-Control-Allow-Origin\x20:','ServerFrontEndUrl','close','1181lhAQCB','https:','indexOf','mkdirSync','setHeader','ServerLocation','Router','path','X\x20\x20','1644EMcUUy','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','../CADViewer_config.json','32SMAlPb','substring','Access-Control-Allow-Origin','send','866CYntux','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','2496416amJOFN','file\x20written','4042276SgahpP','body','3770GxcmoZ','savefile:','file_content','replace','cvjs_debug','from','1140963IgrRkX','1329921qEQPMx','open','dirname','HERE\x20','\x20first\x20index:','ServerUrl','file','existsSync','after:','ServerFrontEndUrlAsAllowedOriginOnly','length','write','Access-Control-Allow-Origin\x20:\x20*','10156430rjMbtl','Succes','log','error\x20savefile:\x20'];a24_0xc693=function(){return _0x512d5d;};return a24_0xc693();}function a24_0x5f5c(_0x24ed06,_0xa844bc){var _0xc6932=a24_0xc693();return a24_0x5f5c=function(_0x5f5c05,_0x47f605){_0x5f5c05=_0x5f5c05-0x118;var _0x458123=_0xc6932[_0x5f5c05];return _0x458123;},a24_0x5f5c(_0x24ed06,_0xa844bc);}var config=require(a24_0x4c63e8(0x11d)),cvjs_debug=config[a24_0x4c63e8(0x12c)],express=require('express'),router=express[a24_0x4c63e8(0x118)]();const fs=require('fs'),path=require(a24_0x4c63e8(0x119));function createDirRecursively(_0xba5400){var _0x3eae22=a24_0x4c63e8;!fs[_0x3eae22(0x136)](_0xba5400)&&(createDirRecursively(path['join'](_0xba5400,'..')),fs[_0x3eae22(0x146)](_0xba5400));}router['post']('/savefile',(_0x36e1ab,_0x3afcb7)=>{var _0x250992=a24_0x4c63e8;if(config[_0x250992(0x138)]==!![]){_0x3afcb7[_0x250992(0x147)](_0x250992(0x120),config[_0x250992(0x141)]);if(cvjs_debug)console['log'](_0x250992(0x140)+config[_0x250992(0x141)]);}else{_0x3afcb7['setHeader'](_0x250992(0x120),'*');if(cvjs_debug)console['log'](_0x250992(0x13b));}try{var _0x472e44=_0x36e1ab[_0x250992(0x127)][_0x250992(0x135)],_0x344bfe=_0x36e1ab[_0x250992(0x127)][_0x250992(0x12a)],_0xbaa225=Buffer[_0x250992(0x12d)](_0x344bfe),_0x51ca0e=![];console[_0x250992(0x13e)](_0x250992(0x129)+_0x472e44+_0x250992(0x133)+_0x472e44[_0x250992(0x145)]('/'));if(_0x472e44[_0x250992(0x145)]('http:')>-0x1||_0x472e44[_0x250992(0x145)](_0x250992(0x144))>-0x1){}else{if(_0x472e44[_0x250992(0x145)](':')>0x0&&_0x472e44[_0x250992(0x145)](':')<0x3){if(_0x472e44[_0x250992(0x145)]('/')==0x0)_0x472e44=_0x472e44['substring'](0x1);}else(_0x472e44['indexOf']('/')==0x0||_0x472e44[_0x250992(0x145)]('\x5c')==0x0)&&(console[_0x250992(0x13e)](_0x250992(0x11c)+_0x472e44[_0x250992(0x145)](config[_0x250992(0x148)])),(_0x472e44[_0x250992(0x145)](config[_0x250992(0x148)])==-0x1||_0x472e44[_0x250992(0x145)](config['ServerLocation'])>0x3)&&(console['log'](_0x250992(0x123)),_0x472e44=config[_0x250992(0x148)]+_0x472e44,_0x51ca0e=!![]));}console[_0x250992(0x13e)](_0x250992(0x137)+_0x472e44);var _0x307d64=path[_0x250992(0x131)](_0x472e44);createDirRecursively(_0x307d64),_0x472e44=decodeURI(_0x472e44),_0x472e44=_0x472e44[_0x250992(0x12b)](/%3A/g,':'),_0x472e44=_0x472e44[_0x250992(0x12b)](/%2F/g,'/'),_0x472e44=_0x472e44[_0x250992(0x12b)](/%20/g,'\x20');if(config[_0x250992(0x12c)])console[_0x250992(0x13e)](_0x250992(0x132)+_0x472e44+'\x20X'+config[_0x250992(0x141)]+_0x250992(0x11a)+config[_0x250992(0x134)]);if(_0x472e44[_0x250992(0x145)](config[_0x250992(0x141)])==0x0){if(_0x51ca0e){}else _0x472e44=config[_0x250992(0x148)]+_0x472e44[_0x250992(0x11f)](config[_0x250992(0x141)][_0x250992(0x139)]);}else _0x472e44[_0x250992(0x145)](config['ServerUrl'])==0x0&&(_0x472e44=config['ServerLocation']+_0x472e44[_0x250992(0x11f)](config[_0x250992(0x134)][_0x250992(0x139)]));_0x472e44=_0x472e44[_0x250992(0x12b)](/\\/g,'/');if(config[_0x250992(0x12c)])console[_0x250992(0x13e)](_0x250992(0x129)+_0x472e44);fs[_0x250992(0x130)](_0x472e44,'w',function(_0x56e43f,_0x3df469){var _0x53d9d3=_0x250992;fs[_0x53d9d3(0x13a)](_0x3df469,_0xbaa225,0x0,_0xbaa225[_0x53d9d3(0x139)],null,function(_0x5cd63e){var _0x7c62d2=_0x53d9d3;if(_0x5cd63e){if(config[_0x7c62d2(0x12c)])console['log'](_0x7c62d2(0x13f)+_0x5cd63e);_0x3afcb7['send']('error\x20savefile:\x20'+_0x5cd63e);}else fs[_0x7c62d2(0x142)](_0x3df469,function(){var _0x8359a0=_0x7c62d2;if(config[_0x8359a0(0x12c)])console[_0x8359a0(0x13e)](_0x8359a0(0x125));_0x3afcb7[_0x8359a0(0x121)](_0x8359a0(0x13d));});});});}catch(_0xa819ad){_0x3afcb7[_0x250992(0x121)]('error\x20-\x20savefile');if(config[_0x250992(0x12c)])console[_0x250992(0x13e)](_0xa819ad);}}),module['exports']=router;