function a25_0x926e(){var _0x968c0a=['open','error\x20-\x20savefile','indexOf','1006510hvQqAi','227SpkuHA','Succes','existsSync','log','ServerFrontEndUrl','../CADViewer_config.json','post','ServerLocation','ServerUrl','\x20first\x20index:','path','Access-Control-Allow-Origin','error\x20savefile:\x20','http:','savefile:','after:','substring','63NrtaZM','784416hQVjLk','express','setHeader','mkdirSync','Access-Control-Allow-Origin\x20:','join','30aozMHH','https:','dirname','send','file\x20written','HERE\x20','length','from','544055BqnBFS','1656vOAOUo','2167464hswwIn','Router','cvjs_debug','ServerFrontEndUrlAsAllowedOriginOnly','replace','write','file','2495738NytFLN','215604BXbeEi','close'];a25_0x926e=function(){return _0x968c0a;};return a25_0x926e();}var a25_0x131768=a25_0x3a06;(function(_0x170a2b,_0x2985ba){var _0x40a399=a25_0x3a06,_0x5b72ba=_0x170a2b();while(!![]){try{var _0x233fb1=parseInt(_0x40a399(0x16b))/0x1*(-parseInt(_0x40a399(0x15c))/0x2)+parseInt(_0x40a399(0x17d))/0x3+parseInt(_0x40a399(0x165))/0x4+-parseInt(_0x40a399(0x18b))/0x5*(parseInt(_0x40a399(0x183))/0x6)+parseInt(_0x40a399(0x164))/0x7+-parseInt(_0x40a399(0x15d))/0x8+parseInt(_0x40a399(0x17c))/0x9*(parseInt(_0x40a399(0x16a))/0xa);if(_0x233fb1===_0x2985ba)break;else _0x5b72ba['push'](_0x5b72ba['shift']());}catch(_0x3003db){_0x5b72ba['push'](_0x5b72ba['shift']());}}}(a25_0x926e,0x5b310));function a25_0x3a06(_0x2392b6,_0x3ec9d6){var _0x926ee9=a25_0x926e();return a25_0x3a06=function(_0x3a063a,_0xaa6814){_0x3a063a=_0x3a063a-0x15c;var _0x256037=_0x926ee9[_0x3a063a];return _0x256037;},a25_0x3a06(_0x2392b6,_0x3ec9d6);}var config=require(a25_0x131768(0x170)),cvjs_debug=config['cvjs_debug'],express=require(a25_0x131768(0x17e)),router=express[a25_0x131768(0x15e)]();const fs=require('fs'),path=require(a25_0x131768(0x175));function createDirRecursively(_0x57862d){var _0x172345=a25_0x131768;!fs[_0x172345(0x16d)](_0x57862d)&&(createDirRecursively(path[_0x172345(0x182)](_0x57862d,'..')),fs[_0x172345(0x180)](_0x57862d));}router[a25_0x131768(0x171)]('/savefile',(_0x5c2f61,_0x1d0840)=>{var _0x50c05b=a25_0x131768;if(config[_0x50c05b(0x160)]==!![]){_0x1d0840[_0x50c05b(0x17f)](_0x50c05b(0x176),config[_0x50c05b(0x16f)]);if(cvjs_debug)console['log'](_0x50c05b(0x181)+config['ServerFrontEndUrl']);}else{_0x1d0840[_0x50c05b(0x17f)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x50c05b(0x16e)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x11836e=_0x5c2f61['body'][_0x50c05b(0x163)],_0x466ec9=_0x5c2f61['body']['file_content'],_0x20097b=Buffer[_0x50c05b(0x18a)](_0x466ec9),_0x1444df=![];console[_0x50c05b(0x16e)]('savefile:'+_0x11836e+_0x50c05b(0x174)+_0x11836e[_0x50c05b(0x169)]('/'));if(_0x11836e[_0x50c05b(0x169)](_0x50c05b(0x178))>-0x1||_0x11836e[_0x50c05b(0x169)](_0x50c05b(0x184))>-0x1){}else{if(_0x11836e['indexOf'](':')>0x0&&_0x11836e['indexOf'](':')<0x3){if(_0x11836e['indexOf']('/')==0x0)_0x11836e=_0x11836e[_0x50c05b(0x17b)](0x1);}else(_0x11836e[_0x50c05b(0x169)]('/')==0x0||_0x11836e[_0x50c05b(0x169)]('\x5c')==0x0)&&(console[_0x50c05b(0x16e)]('first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:'+_0x11836e[_0x50c05b(0x169)](config[_0x50c05b(0x172)])),(_0x11836e['indexOf'](config['ServerLocation'])==-0x1||_0x11836e[_0x50c05b(0x169)](config[_0x50c05b(0x172)])>0x3)&&(console[_0x50c05b(0x16e)]('no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item'),_0x11836e=config[_0x50c05b(0x172)]+_0x11836e,_0x1444df=!![]));}console[_0x50c05b(0x16e)](_0x50c05b(0x17a)+_0x11836e);var _0x23684d=path[_0x50c05b(0x185)](_0x11836e);createDirRecursively(_0x23684d),_0x11836e=decodeURI(_0x11836e),_0x11836e=_0x11836e[_0x50c05b(0x161)](/%3A/g,':'),_0x11836e=_0x11836e[_0x50c05b(0x161)](/%2F/g,'/'),_0x11836e=_0x11836e['replace'](/%20/g,'\x20');if(config[_0x50c05b(0x15f)])console[_0x50c05b(0x16e)](_0x50c05b(0x188)+_0x11836e+'\x20X'+config[_0x50c05b(0x16f)]+'X\x20\x20'+config[_0x50c05b(0x173)]);if(_0x11836e[_0x50c05b(0x169)](config['ServerFrontEndUrl'])==0x0){if(_0x1444df){}else _0x11836e=config[_0x50c05b(0x172)]+_0x11836e[_0x50c05b(0x17b)](config[_0x50c05b(0x16f)][_0x50c05b(0x189)]);}else _0x11836e[_0x50c05b(0x169)](config[_0x50c05b(0x173)])==0x0&&(_0x11836e=config[_0x50c05b(0x172)]+_0x11836e[_0x50c05b(0x17b)](config['ServerUrl']['length']));_0x11836e=_0x11836e[_0x50c05b(0x161)](/\\/g,'/');if(config[_0x50c05b(0x15f)])console[_0x50c05b(0x16e)](_0x50c05b(0x179)+_0x11836e);fs[_0x50c05b(0x167)](_0x11836e,'w',function(_0x3e46fe,_0xfb8e4a){var _0x255e21=_0x50c05b;fs[_0x255e21(0x162)](_0xfb8e4a,_0x20097b,0x0,_0x20097b['length'],null,function(_0x82cf07){var _0x2f1584=_0x255e21;if(_0x82cf07){if(config[_0x2f1584(0x15f)])console[_0x2f1584(0x16e)](_0x2f1584(0x177)+_0x82cf07);_0x1d0840['send'](_0x2f1584(0x177)+_0x82cf07);}else fs[_0x2f1584(0x166)](_0xfb8e4a,function(){var _0x1c24bc=_0x2f1584;if(config[_0x1c24bc(0x15f)])console[_0x1c24bc(0x16e)](_0x1c24bc(0x187));_0x1d0840[_0x1c24bc(0x186)](_0x1c24bc(0x16c));});});});}catch(_0x3d46d0){_0x1d0840['send'](_0x50c05b(0x168));if(config[_0x50c05b(0x15f)])console[_0x50c05b(0x16e)](_0x3d46d0);}}),module['exports']=router;