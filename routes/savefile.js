var a24_0x4a37fd=a24_0x9fe1;function a24_0x9fe1(_0xccbdd2,_0x26e9cf){var _0x4c2eca=a24_0x4c2e();return a24_0x9fe1=function(_0x9fe16,_0xd196f3){_0x9fe16=_0x9fe16-0xab;var _0x5477bf=_0x4c2eca[_0x9fe16];return _0x5477bf;},a24_0x9fe1(_0xccbdd2,_0x26e9cf);}(function(_0x38b942,_0x306100){var _0x2923a7=a24_0x9fe1,_0xb0541f=_0x38b942();while(!![]){try{var _0xfe08d2=-parseInt(_0x2923a7(0xb4))/0x1*(parseInt(_0x2923a7(0xb3))/0x2)+-parseInt(_0x2923a7(0xca))/0x3+parseInt(_0x2923a7(0xde))/0x4+-parseInt(_0x2923a7(0xce))/0x5*(-parseInt(_0x2923a7(0xd1))/0x6)+parseInt(_0x2923a7(0xb5))/0x7+parseInt(_0x2923a7(0xb6))/0x8*(parseInt(_0x2923a7(0xd3))/0x9)+parseInt(_0x2923a7(0xbc))/0xa*(-parseInt(_0x2923a7(0xd6))/0xb);if(_0xfe08d2===_0x306100)break;else _0xb0541f['push'](_0xb0541f['shift']());}catch(_0x53ad99){_0xb0541f['push'](_0xb0541f['shift']());}}}(a24_0x4c2e,0xb4680));var config=require('../CADViewer_config.json'),cvjs_debug=config[a24_0x4a37fd(0xc2)],express=require(a24_0x4a37fd(0xcf)),router=express[a24_0x4a37fd(0xaf)]();const fs=require('fs'),path=require(a24_0x4a37fd(0xcd));function createDirRecursively(_0xafc6a1){var _0x5f4834=a24_0x4a37fd;!fs[_0x5f4834(0xdf)](_0xafc6a1)&&(createDirRecursively(path[_0x5f4834(0xbe)](_0xafc6a1,'..')),fs[_0x5f4834(0xab)](_0xafc6a1));}function a24_0x4c2e(){var _0xf9f83f=['after:','setHeader','file_content','length','HERE\x20','1339284vGbvGe','ServerLocation','open','path','3745040ZcFsKZ','express','error\x20-\x20savefile','6sqcppS','ServerUrl','9VgiQuH','/savefile','savefile:','4290RpFmNl','write','post','replace','Access-Control-Allow-Origin\x20:','file','dirname','log','1356924odlBsR','existsSync','mkdirSync','send','close','file\x20written','Router','http:','from','Access-Control-Allow-Origin','446jaeIXm','2269zVmJlr','6319397jiiFGa','7221752PTalkf','substring','https:','Access-Control-Allow-Origin\x20:\x20*','Succes','ServerFrontEndUrlAsAllowedOriginOnly','30830TLJzOd','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','join','ServerFrontEndUrl','body','indexOf','cvjs_debug','\x20first\x20index:','X\x20\x20'];a24_0x4c2e=function(){return _0xf9f83f;};return a24_0x4c2e();}router[a24_0x4a37fd(0xd8)](a24_0x4a37fd(0xd4),(_0x35007c,_0x6e359a)=>{var _0x307b22=a24_0x4a37fd;if(config[_0x307b22(0xbb)]==!![]){_0x6e359a[_0x307b22(0xc6)](_0x307b22(0xb2),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x307b22(0xdd)](_0x307b22(0xda)+config['ServerFrontEndUrl']);}else{_0x6e359a[_0x307b22(0xc6)](_0x307b22(0xb2),'*');if(cvjs_debug)console[_0x307b22(0xdd)](_0x307b22(0xb9));}try{var _0x198e60=_0x35007c['body'][_0x307b22(0xdb)],_0x5c194e=_0x35007c[_0x307b22(0xc0)][_0x307b22(0xc7)],_0x4df35=Buffer[_0x307b22(0xb1)](_0x5c194e),_0x194104=![];console[_0x307b22(0xdd)](_0x307b22(0xd5)+_0x198e60+_0x307b22(0xc3)+_0x198e60[_0x307b22(0xc1)]('/'));if(_0x198e60[_0x307b22(0xc1)](_0x307b22(0xb0))>-0x1||_0x198e60[_0x307b22(0xc1)](_0x307b22(0xb8))>-0x1){}else{if(_0x198e60[_0x307b22(0xc1)](':')>0x0&&_0x198e60[_0x307b22(0xc1)](':')<0x3){if(_0x198e60['indexOf']('/')==0x0)_0x198e60=_0x198e60[_0x307b22(0xb7)](0x1);}else(_0x198e60['indexOf']('/')==0x0||_0x198e60[_0x307b22(0xc1)]('\x5c')==0x0)&&(console[_0x307b22(0xdd)]('first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:'+_0x198e60[_0x307b22(0xc1)](config[_0x307b22(0xcb)])),(_0x198e60[_0x307b22(0xc1)](config['ServerLocation'])==-0x1||_0x198e60[_0x307b22(0xc1)](config[_0x307b22(0xcb)])>0x3)&&(console[_0x307b22(0xdd)](_0x307b22(0xbd)),_0x198e60=config['ServerLocation']+_0x198e60,_0x194104=!![]));}console[_0x307b22(0xdd)](_0x307b22(0xc5)+_0x198e60);var _0x4281d5=path[_0x307b22(0xdc)](_0x198e60);createDirRecursively(_0x4281d5),_0x198e60=decodeURI(_0x198e60),_0x198e60=_0x198e60[_0x307b22(0xd9)](/%3A/g,':'),_0x198e60=_0x198e60['replace'](/%2F/g,'/'),_0x198e60=_0x198e60[_0x307b22(0xd9)](/%20/g,'\x20');if(config[_0x307b22(0xc2)])console[_0x307b22(0xdd)](_0x307b22(0xc9)+_0x198e60+'\x20X'+config['ServerFrontEndUrl']+_0x307b22(0xc4)+config[_0x307b22(0xd2)]);if(_0x198e60['indexOf'](config[_0x307b22(0xbf)])==0x0){if(_0x194104){}else _0x198e60=config['ServerLocation']+_0x198e60[_0x307b22(0xb7)](config['ServerFrontEndUrl'][_0x307b22(0xc8)]);}else _0x198e60[_0x307b22(0xc1)](config[_0x307b22(0xd2)])==0x0&&(_0x198e60=config[_0x307b22(0xcb)]+_0x198e60[_0x307b22(0xb7)](config['ServerUrl'][_0x307b22(0xc8)]));_0x198e60=_0x198e60[_0x307b22(0xd9)](/\\/g,'/');if(config['cvjs_debug'])console[_0x307b22(0xdd)](_0x307b22(0xd5)+_0x198e60);fs[_0x307b22(0xcc)](_0x198e60,'w',function(_0x386d07,_0x43ae62){var _0x14a84f=_0x307b22;fs[_0x14a84f(0xd7)](_0x43ae62,_0x4df35,0x0,_0x4df35[_0x14a84f(0xc8)],null,function(_0x232f49){var _0x270fa5=_0x14a84f;if(_0x232f49){if(config['cvjs_debug'])console['log']('error\x20savefile:\x20'+_0x232f49);_0x6e359a['send']('error\x20savefile:\x20'+_0x232f49);}else fs[_0x270fa5(0xad)](_0x43ae62,function(){var _0x55cc92=_0x270fa5;if(config[_0x55cc92(0xc2)])console[_0x55cc92(0xdd)](_0x55cc92(0xae));_0x6e359a[_0x55cc92(0xac)](_0x55cc92(0xba));});});});}catch(_0x4ca457){_0x6e359a[_0x307b22(0xac)](_0x307b22(0xd0));if(config[_0x307b22(0xc2)])console[_0x307b22(0xdd)](_0x4ca457);}}),module['exports']=router;