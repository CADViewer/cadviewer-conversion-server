var a25_0x2b6504=a25_0x585d;(function(_0x4f00d5,_0x4b2ae1){var _0x446a48=a25_0x585d,_0x4fc7c8=_0x4f00d5();while(!![]){try{var _0x4a58cf=parseInt(_0x446a48(0x111))/0x1+-parseInt(_0x446a48(0x10a))/0x2+-parseInt(_0x446a48(0x11a))/0x3+-parseInt(_0x446a48(0x132))/0x4*(parseInt(_0x446a48(0x12b))/0x5)+parseInt(_0x446a48(0x115))/0x6*(parseInt(_0x446a48(0x12d))/0x7)+-parseInt(_0x446a48(0x126))/0x8+parseInt(_0x446a48(0x11c))/0x9;if(_0x4a58cf===_0x4b2ae1)break;else _0x4fc7c8['push'](_0x4fc7c8['shift']());}catch(_0x3be7de){_0x4fc7c8['push'](_0x4fc7c8['shift']());}}}(a25_0x10db,0x5889f));var config=require(a25_0x2b6504(0x122)),cvjs_debug=config[a25_0x2b6504(0x135)],express=require(a25_0x2b6504(0x113)),router=express['Router']();function a25_0x585d(_0x29f540,_0x12fc2a){var _0x10db11=a25_0x10db();return a25_0x585d=function(_0x585d10,_0x3571cd){_0x585d10=_0x585d10-0x108;var _0xd12720=_0x10db11[_0x585d10];return _0xd12720;},a25_0x585d(_0x29f540,_0x12fc2a);}const fs=require('fs'),path=require('path');function createDirRecursively(_0x3fe27a){var _0x29160b=a25_0x2b6504;!fs[_0x29160b(0x11d)](_0x3fe27a)&&(createDirRecursively(path[_0x29160b(0x11b)](_0x3fe27a,'..')),fs['mkdirSync'](_0x3fe27a));}function a25_0x10db(){var _0x303971=['join','14169546tozcyT','existsSync','savefile:','open','post','send','../CADViewer_config.json','body','substring','indexOf','5351320LjWTfb','after:','from','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','ServerFrontEndUrlAsAllowedOriginOnly','145qOixEv','http:','321223QvieKZ','ServerLocation','close','length','error\x20savefile:\x20','86716jjARwC','ServerFrontEndUrl','log','cvjs_debug','setHeader','replace','1270242WzUFzD','file\x20written','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','Access-Control-Allow-Origin\x20:','error\x20-\x20savefile','write','dirname','572604rUCBWv','X\x20\x20','express','HERE\x20','78jWpVpF','ServerUrl','file_content','file','Succes','1344519sZYXOP'];a25_0x10db=function(){return _0x303971;};return a25_0x10db();}router[a25_0x2b6504(0x120)]('/savefile',(_0x1978a7,_0x4dd5f1)=>{var _0xbd5f91=a25_0x2b6504;if(config[_0xbd5f91(0x12a)]==!![]){_0x4dd5f1[_0xbd5f91(0x108)]('Access-Control-Allow-Origin',config['ServerFrontEndUrl']);if(cvjs_debug)console[_0xbd5f91(0x134)](_0xbd5f91(0x10d)+config[_0xbd5f91(0x133)]);}else{_0x4dd5f1[_0xbd5f91(0x108)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0xbd5f91(0x134)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x4e0e69=_0x1978a7[_0xbd5f91(0x123)][_0xbd5f91(0x118)],_0x37e08b=_0x1978a7['body'][_0xbd5f91(0x117)],_0x2f858e=Buffer[_0xbd5f91(0x128)](_0x37e08b),_0xba8f6a=![];console[_0xbd5f91(0x134)](_0xbd5f91(0x11e)+_0x4e0e69+'\x20first\x20index:'+_0x4e0e69[_0xbd5f91(0x125)]('/'));if(_0x4e0e69['indexOf'](_0xbd5f91(0x12c))>-0x1||_0x4e0e69[_0xbd5f91(0x125)]('https:')>-0x1){}else{if(_0x4e0e69[_0xbd5f91(0x125)](':')>0x0&&_0x4e0e69['indexOf'](':')<0x3){if(_0x4e0e69[_0xbd5f91(0x125)]('/')==0x0)_0x4e0e69=_0x4e0e69[_0xbd5f91(0x124)](0x1);}else(_0x4e0e69[_0xbd5f91(0x125)]('/')==0x0||_0x4e0e69[_0xbd5f91(0x125)]('\x5c')==0x0)&&(console[_0xbd5f91(0x134)](_0xbd5f91(0x129)+_0x4e0e69[_0xbd5f91(0x125)](config[_0xbd5f91(0x12e)])),(_0x4e0e69[_0xbd5f91(0x125)](config[_0xbd5f91(0x12e)])==-0x1||_0x4e0e69[_0xbd5f91(0x125)](config[_0xbd5f91(0x12e)])>0x3)&&(console[_0xbd5f91(0x134)](_0xbd5f91(0x10c)),_0x4e0e69=config[_0xbd5f91(0x12e)]+_0x4e0e69,_0xba8f6a=!![]));}console[_0xbd5f91(0x134)](_0xbd5f91(0x127)+_0x4e0e69);var _0x475839=path[_0xbd5f91(0x110)](_0x4e0e69);createDirRecursively(_0x475839),_0x4e0e69=decodeURI(_0x4e0e69),_0x4e0e69=_0x4e0e69['replace'](/%3A/g,':'),_0x4e0e69=_0x4e0e69[_0xbd5f91(0x109)](/%2F/g,'/'),_0x4e0e69=_0x4e0e69[_0xbd5f91(0x109)](/%20/g,'\x20');if(config[_0xbd5f91(0x135)])console[_0xbd5f91(0x134)](_0xbd5f91(0x114)+_0x4e0e69+'\x20X'+config[_0xbd5f91(0x133)]+_0xbd5f91(0x112)+config[_0xbd5f91(0x116)]);if(_0x4e0e69[_0xbd5f91(0x125)](config[_0xbd5f91(0x133)])==0x0){if(_0xba8f6a){}else _0x4e0e69=config[_0xbd5f91(0x12e)]+_0x4e0e69[_0xbd5f91(0x124)](config[_0xbd5f91(0x133)][_0xbd5f91(0x130)]);}else _0x4e0e69[_0xbd5f91(0x125)](config['ServerUrl'])==0x0&&(_0x4e0e69=config[_0xbd5f91(0x12e)]+_0x4e0e69[_0xbd5f91(0x124)](config[_0xbd5f91(0x116)][_0xbd5f91(0x130)]));_0x4e0e69=_0x4e0e69[_0xbd5f91(0x109)](/\\/g,'/');if(config[_0xbd5f91(0x135)])console[_0xbd5f91(0x134)](_0xbd5f91(0x11e)+_0x4e0e69);fs[_0xbd5f91(0x11f)](_0x4e0e69,'w',function(_0x29142b,_0x12d4c8){var _0x593578=_0xbd5f91;fs[_0x593578(0x10f)](_0x12d4c8,_0x2f858e,0x0,_0x2f858e[_0x593578(0x130)],null,function(_0xaa38b2){var _0x263929=_0x593578;if(_0xaa38b2){if(config[_0x263929(0x135)])console[_0x263929(0x134)](_0x263929(0x131)+_0xaa38b2);_0x4dd5f1[_0x263929(0x121)](_0x263929(0x131)+_0xaa38b2);}else fs[_0x263929(0x12f)](_0x12d4c8,function(){var _0x2db231=_0x263929;if(config[_0x2db231(0x135)])console['log'](_0x2db231(0x10b));_0x4dd5f1[_0x2db231(0x121)](_0x2db231(0x119));});});});}catch(_0x57f1a8){_0x4dd5f1[_0xbd5f91(0x121)](_0xbd5f91(0x10e));if(config['cvjs_debug'])console[_0xbd5f91(0x134)](_0x57f1a8);}}),module['exports']=router;