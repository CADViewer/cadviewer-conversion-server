var a24_0x30f910=a24_0x289f;function a24_0x4056(){var _0x29d758=['Succes','body','ServerFrontEndUrlAsAllowedOriginOnly','Access-Control-Allow-Origin','error\x20savefile:\x20','ServerUrl','express','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','1032322KkJbVM','1059018EaTTAX','post','https:','existsSync','setHeader','dirname','indexOf','savefile:','35EUgflj','path','open','length','write','Access-Control-Allow-Origin\x20:','Router','substring','exports','499702gWXEMt','file_content','send','286904ZCLpSj','1171272kEeJlI','http:','64aPCvwS','\x20first\x20index:','error\x20-\x20savefile','X\x20\x20','/savefile','333696WcQmGF','ServerFrontEndUrl','mkdirSync','cvjs_debug','4434489KSIZZb','ServerLocation','replace','join','close','Access-Control-Allow-Origin\x20:\x20*','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','log'];a24_0x4056=function(){return _0x29d758;};return a24_0x4056();}(function(_0x548dfe,_0x3cc766){var _0x176ba7=a24_0x289f,_0x5f55ab=_0x548dfe();while(!![]){try{var _0x533a96=-parseInt(_0x176ba7(0x18e))/0x1+-parseInt(_0x176ba7(0x171))/0x2+parseInt(_0x176ba7(0x187))/0x3+parseInt(_0x176ba7(0x186))/0x4*(parseInt(_0x176ba7(0x17a))/0x5)+parseInt(_0x176ba7(0x172))/0x6+parseInt(_0x176ba7(0x183))/0x7*(parseInt(_0x176ba7(0x189))/0x8)+-parseInt(_0x176ba7(0x192))/0x9;if(_0x533a96===_0x3cc766)break;else _0x5f55ab['push'](_0x5f55ab['shift']());}catch(_0x1d8aab){_0x5f55ab['push'](_0x5f55ab['shift']());}}}(a24_0x4056,0x48a2f));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require(a24_0x30f910(0x16f)),router=express[a24_0x30f910(0x180)]();const fs=require('fs'),path=require(a24_0x30f910(0x17b));function a24_0x289f(_0x213e5d,_0x1cd74d){var _0x405683=a24_0x4056();return a24_0x289f=function(_0x289f7c,_0x3e50bb){_0x289f7c=_0x289f7c-0x16e;var _0x4a9e46=_0x405683[_0x289f7c];return _0x4a9e46;},a24_0x289f(_0x213e5d,_0x1cd74d);}function createDirRecursively(_0x231fc9){var _0x34c136=a24_0x30f910;!fs[_0x34c136(0x175)](_0x231fc9)&&(createDirRecursively(path[_0x34c136(0x195)](_0x231fc9,'..')),fs[_0x34c136(0x190)](_0x231fc9));}router[a24_0x30f910(0x173)](a24_0x30f910(0x18d),(_0x1f37ab,_0x5708f2)=>{var _0x2bcc77=a24_0x30f910;if(config[_0x2bcc77(0x19c)]==!![]){_0x5708f2[_0x2bcc77(0x176)](_0x2bcc77(0x19d),config[_0x2bcc77(0x18f)]);if(cvjs_debug)console[_0x2bcc77(0x199)](_0x2bcc77(0x17f)+config[_0x2bcc77(0x18f)]);}else{_0x5708f2['setHeader'](_0x2bcc77(0x19d),'*');if(cvjs_debug)console[_0x2bcc77(0x199)](_0x2bcc77(0x197));}try{var _0x49cc38=_0x1f37ab[_0x2bcc77(0x19b)]['file'],_0x545ea8=_0x1f37ab[_0x2bcc77(0x19b)][_0x2bcc77(0x184)],_0x1ca87c=Buffer['from'](_0x545ea8),_0x444082=![];console['log'](_0x2bcc77(0x179)+_0x49cc38+_0x2bcc77(0x18a)+_0x49cc38[_0x2bcc77(0x178)]('/'));if(_0x49cc38[_0x2bcc77(0x178)](_0x2bcc77(0x188))>-0x1||_0x49cc38[_0x2bcc77(0x178)](_0x2bcc77(0x174))>-0x1){}else{if(_0x49cc38[_0x2bcc77(0x178)](':')>0x0&&_0x49cc38[_0x2bcc77(0x178)](':')<0x3){if(_0x49cc38[_0x2bcc77(0x178)]('/')==0x0)_0x49cc38=_0x49cc38[_0x2bcc77(0x181)](0x1);}else(_0x49cc38['indexOf']('/')==0x0||_0x49cc38[_0x2bcc77(0x178)]('\x5c')==0x0)&&(console[_0x2bcc77(0x199)](_0x2bcc77(0x198)+_0x49cc38[_0x2bcc77(0x178)](config[_0x2bcc77(0x193)])),(_0x49cc38[_0x2bcc77(0x178)](config['ServerLocation'])==-0x1||_0x49cc38[_0x2bcc77(0x178)](config[_0x2bcc77(0x193)])>0x3)&&(console[_0x2bcc77(0x199)](_0x2bcc77(0x170)),_0x49cc38=config[_0x2bcc77(0x193)]+_0x49cc38,_0x444082=!![]));}console[_0x2bcc77(0x199)]('after:'+_0x49cc38);var _0x374971=path[_0x2bcc77(0x177)](_0x49cc38);createDirRecursively(_0x374971),_0x49cc38=decodeURI(_0x49cc38),_0x49cc38=_0x49cc38[_0x2bcc77(0x194)](/%3A/g,':'),_0x49cc38=_0x49cc38['replace'](/%2F/g,'/'),_0x49cc38=_0x49cc38[_0x2bcc77(0x194)](/%20/g,'\x20');if(config[_0x2bcc77(0x191)])console['log']('HERE\x20'+_0x49cc38+'\x20X'+config[_0x2bcc77(0x18f)]+_0x2bcc77(0x18c)+config[_0x2bcc77(0x16e)]);if(_0x49cc38[_0x2bcc77(0x178)](config[_0x2bcc77(0x18f)])==0x0){if(_0x444082){}else _0x49cc38=config['ServerLocation']+_0x49cc38['substring'](config[_0x2bcc77(0x18f)][_0x2bcc77(0x17d)]);}else _0x49cc38['indexOf'](config['ServerUrl'])==0x0&&(_0x49cc38=config[_0x2bcc77(0x193)]+_0x49cc38[_0x2bcc77(0x181)](config['ServerUrl'][_0x2bcc77(0x17d)]));_0x49cc38=_0x49cc38['replace'](/\\/g,'/');if(config[_0x2bcc77(0x191)])console[_0x2bcc77(0x199)]('savefile:'+_0x49cc38);fs[_0x2bcc77(0x17c)](_0x49cc38,'w',function(_0x2fe2bb,_0x1ad19a){var _0x3a66da=_0x2bcc77;fs[_0x3a66da(0x17e)](_0x1ad19a,_0x1ca87c,0x0,_0x1ca87c[_0x3a66da(0x17d)],null,function(_0x46bfc6){var _0x339459=_0x3a66da;if(_0x46bfc6){if(config[_0x339459(0x191)])console[_0x339459(0x199)]('error\x20savefile:\x20'+_0x46bfc6);_0x5708f2[_0x339459(0x185)](_0x339459(0x19e)+_0x46bfc6);}else fs[_0x339459(0x196)](_0x1ad19a,function(){var _0x55b3b1=_0x339459;if(config[_0x55b3b1(0x191)])console[_0x55b3b1(0x199)]('file\x20written');_0x5708f2[_0x55b3b1(0x185)](_0x55b3b1(0x19a));});});});}catch(_0x96478b){_0x5708f2[_0x2bcc77(0x185)](_0x2bcc77(0x18b));if(config[_0x2bcc77(0x191)])console[_0x2bcc77(0x199)](_0x96478b);}}),module[a24_0x30f910(0x182)]=router;