function a24_0x3fdc(){var _0x30ecb2=['HERE\x20','6823572gyyDuq','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','indexOf','substring','Access-Control-Allow-Origin\x20:\x20*','8639911ezKOxc','mkdirSync','send','post','ServerFrontEndUrl','ServerUrl','9lhhScX','1042236PJtlNj','dirname','write','join','file\x20written','body','after:','X\x20\x20','1735474PRJvDI','Access-Control-Allow-Origin\x20:','length','Succes','Router','ServerLocation','6436730stpwfi','setHeader','close','ServerFrontEndUrlAsAllowedOriginOnly','log','cvjs_debug','http:','15022016SgriqV','/savefile','savefile:','error\x20savefile:\x20','\x20first\x20index:','file','error\x20-\x20savefile','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','exports','open','104155GdTjuL','replace','path'];a24_0x3fdc=function(){return _0x30ecb2;};return a24_0x3fdc();}function a24_0xff70(_0xce0737,_0x33642a){var _0x3fdc55=a24_0x3fdc();return a24_0xff70=function(_0xff70ad,_0x13261a){_0xff70ad=_0xff70ad-0x9e;var _0x10f857=_0x3fdc55[_0xff70ad];return _0x10f857;},a24_0xff70(_0xce0737,_0x33642a);}var a24_0x40769d=a24_0xff70;(function(_0x585bb4,_0x5bf045){var _0x4e048e=a24_0xff70,_0x4dd6e9=_0x585bb4();while(!![]){try{var _0x22f9b2=-parseInt(_0x4e048e(0xc7))/0x1+parseInt(_0x4e048e(0xb0))/0x2+-parseInt(_0x4e048e(0xa7))/0x3*(parseInt(_0x4e048e(0xa8))/0x4)+parseInt(_0x4e048e(0xb6))/0x5+-parseInt(_0x4e048e(0xcb))/0x6+-parseInt(_0x4e048e(0xa1))/0x7+parseInt(_0x4e048e(0xbd))/0x8;if(_0x22f9b2===_0x5bf045)break;else _0x4dd6e9['push'](_0x4dd6e9['shift']());}catch(_0x12a391){_0x4dd6e9['push'](_0x4dd6e9['shift']());}}}(a24_0x3fdc,0xbd52c));var config=require('../CADViewer_config.json'),cvjs_debug=config[a24_0x40769d(0xbb)],express=require('express'),router=express[a24_0x40769d(0xb4)]();const fs=require('fs'),path=require(a24_0x40769d(0xc9));function createDirRecursively(_0x6490bd){var _0xd234ff=a24_0x40769d;!fs['existsSync'](_0x6490bd)&&(createDirRecursively(path[_0xd234ff(0xab)](_0x6490bd,'..')),fs[_0xd234ff(0xa2)](_0x6490bd));}router[a24_0x40769d(0xa4)](a24_0x40769d(0xbe),(_0xa5871c,_0x543bce)=>{var _0x261882=a24_0x40769d;if(config[_0x261882(0xb9)]==!![]){_0x543bce[_0x261882(0xb7)]('Access-Control-Allow-Origin',config[_0x261882(0xa5)]);if(cvjs_debug)console[_0x261882(0xba)](_0x261882(0xb1)+config[_0x261882(0xa5)]);}else{_0x543bce[_0x261882(0xb7)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x261882(0xba)](_0x261882(0xa0));}try{var _0x1d1154=_0xa5871c[_0x261882(0xad)][_0x261882(0xc2)],_0x17e01a=_0xa5871c[_0x261882(0xad)]['file_content'],_0x5ec2b6=Buffer['from'](_0x17e01a),_0x1af046=![];console[_0x261882(0xba)](_0x261882(0xbf)+_0x1d1154+_0x261882(0xc1)+_0x1d1154[_0x261882(0x9e)]('/'));if(_0x1d1154[_0x261882(0x9e)](_0x261882(0xbc))>-0x1||_0x1d1154[_0x261882(0x9e)]('https:')>-0x1){}else{if(_0x1d1154[_0x261882(0x9e)](':')>0x0&&_0x1d1154[_0x261882(0x9e)](':')<0x3){if(_0x1d1154[_0x261882(0x9e)]('/')==0x0)_0x1d1154=_0x1d1154['substring'](0x1);}else(_0x1d1154[_0x261882(0x9e)]('/')==0x0||_0x1d1154[_0x261882(0x9e)]('\x5c')==0x0)&&(console[_0x261882(0xba)](_0x261882(0xc4)+_0x1d1154[_0x261882(0x9e)](config[_0x261882(0xb5)])),(_0x1d1154['indexOf'](config[_0x261882(0xb5)])==-0x1||_0x1d1154[_0x261882(0x9e)](config[_0x261882(0xb5)])>0x3)&&(console[_0x261882(0xba)](_0x261882(0xcc)),_0x1d1154=config['ServerLocation']+_0x1d1154,_0x1af046=!![]));}console[_0x261882(0xba)](_0x261882(0xae)+_0x1d1154);var _0x356936=path[_0x261882(0xa9)](_0x1d1154);createDirRecursively(_0x356936),_0x1d1154=decodeURI(_0x1d1154),_0x1d1154=_0x1d1154[_0x261882(0xc8)](/%3A/g,':'),_0x1d1154=_0x1d1154[_0x261882(0xc8)](/%2F/g,'/'),_0x1d1154=_0x1d1154['replace'](/%20/g,'\x20');if(config[_0x261882(0xbb)])console[_0x261882(0xba)](_0x261882(0xca)+_0x1d1154+'\x20X'+config[_0x261882(0xa5)]+_0x261882(0xaf)+config[_0x261882(0xa6)]);if(_0x1d1154[_0x261882(0x9e)](config['ServerFrontEndUrl'])==0x0){if(_0x1af046){}else _0x1d1154=config[_0x261882(0xb5)]+_0x1d1154[_0x261882(0x9f)](config[_0x261882(0xa5)][_0x261882(0xb2)]);}else _0x1d1154[_0x261882(0x9e)](config['ServerUrl'])==0x0&&(_0x1d1154=config[_0x261882(0xb5)]+_0x1d1154['substring'](config['ServerUrl']['length']));_0x1d1154=_0x1d1154[_0x261882(0xc8)](/\\/g,'/');if(config['cvjs_debug'])console['log'](_0x261882(0xbf)+_0x1d1154);fs[_0x261882(0xc6)](_0x1d1154,'w',function(_0x4fdd36,_0x45b0d3){var _0x18d8e5=_0x261882;fs[_0x18d8e5(0xaa)](_0x45b0d3,_0x5ec2b6,0x0,_0x5ec2b6[_0x18d8e5(0xb2)],null,function(_0x12368f){var _0x1d52f5=_0x18d8e5;if(_0x12368f){if(config[_0x1d52f5(0xbb)])console[_0x1d52f5(0xba)](_0x1d52f5(0xc0)+_0x12368f);_0x543bce[_0x1d52f5(0xa3)](_0x1d52f5(0xc0)+_0x12368f);}else fs[_0x1d52f5(0xb8)](_0x45b0d3,function(){var _0x310168=_0x1d52f5;if(config[_0x310168(0xbb)])console[_0x310168(0xba)](_0x310168(0xac));_0x543bce[_0x310168(0xa3)](_0x310168(0xb3));});});});}catch(_0x5786af){_0x543bce['send'](_0x261882(0xc3));if(config[_0x261882(0xbb)])console[_0x261882(0xba)](_0x5786af);}}),module[a24_0x40769d(0xc5)]=router;