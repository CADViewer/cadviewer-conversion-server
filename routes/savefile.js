var a24_0x10eba0=a24_0x2754;function a24_0x4120(){var _0x4ea976=['replace','cvjs_debug','close','HERE\x20','substring','ServerLocation','join','1528312yZvmvg','indexOf','Succes','length','X\x20\x20','express','../CADViewer_config.json','path','dirname','exports','6wqlYPr','from','file','https:','6996715rUNuLq','437313JZLJlu','log','error\x20-\x20savefile','send','file_content','40VaxYkN','ServerUrl','1775175EVPBkF','2206320lCjDBr','Access-Control-Allow-Origin\x20:','post','Access-Control-Allow-Origin','body','file\x20written','226887lNUVQB','existsSync','9DAqutH','2AurqCp','open','savefile:','error\x20savefile:\x20','3506699VWwIng','http:','\x20first\x20index:','ServerFrontEndUrl','Access-Control-Allow-Origin\x20:\x20*','/savefile','after:','setHeader'];a24_0x4120=function(){return _0x4ea976;};return a24_0x4120();}function a24_0x2754(_0x136d6b,_0x599d2f){var _0x41206b=a24_0x4120();return a24_0x2754=function(_0x2754cd,_0x1372c){_0x2754cd=_0x2754cd-0xf8;var _0x14b1ce=_0x41206b[_0x2754cd];return _0x14b1ce;},a24_0x2754(_0x136d6b,_0x599d2f);}(function(_0xad5556,_0x2388d1){var _0x407ee8=a24_0x2754,_0x212226=_0xad5556();while(!![]){try{var _0x548be4=-parseInt(_0x407ee8(0x108))/0x1+parseInt(_0x407ee8(0x119))/0x2*(-parseInt(_0x407ee8(0x116))/0x3)+-parseInt(_0x407ee8(0x110))/0x4+-parseInt(_0x407ee8(0x10f))/0x5+-parseInt(_0x407ee8(0x103))/0x6*(parseInt(_0x407ee8(0x11d))/0x7)+parseInt(_0x407ee8(0xf9))/0x8*(-parseInt(_0x407ee8(0x118))/0x9)+-parseInt(_0x407ee8(0x10d))/0xa*(-parseInt(_0x407ee8(0x107))/0xb);if(_0x548be4===_0x2388d1)break;else _0x212226['push'](_0x212226['shift']());}catch(_0x3c74d9){_0x212226['push'](_0x212226['shift']());}}}(a24_0x4120,0x69a43));var config=require(a24_0x10eba0(0xff)),cvjs_debug=config['cvjs_debug'],express=require(a24_0x10eba0(0xfe)),router=express['Router']();const fs=require('fs'),path=require(a24_0x10eba0(0x100));function createDirRecursively(_0x26ec8f){var _0x4436e5=a24_0x10eba0;!fs[_0x4436e5(0x117)](_0x26ec8f)&&(createDirRecursively(path[_0x4436e5(0xf8)](_0x26ec8f,'..')),fs['mkdirSync'](_0x26ec8f));}router[a24_0x10eba0(0x112)](a24_0x10eba0(0x122),(_0x37ddfa,_0x3d61a1)=>{var _0x1658c0=a24_0x10eba0;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x3d61a1[_0x1658c0(0x124)]('Access-Control-Allow-Origin',config[_0x1658c0(0x120)]);if(cvjs_debug)console['log'](_0x1658c0(0x111)+config['ServerFrontEndUrl']);}else{_0x3d61a1[_0x1658c0(0x124)](_0x1658c0(0x113),'*');if(cvjs_debug)console[_0x1658c0(0x109)](_0x1658c0(0x121));}try{var _0x230e04=_0x37ddfa[_0x1658c0(0x114)][_0x1658c0(0x105)],_0x3b927e=_0x37ddfa[_0x1658c0(0x114)][_0x1658c0(0x10c)],_0x24e5eb=Buffer[_0x1658c0(0x104)](_0x3b927e),_0x5a6a35=![];console[_0x1658c0(0x109)](_0x1658c0(0x11b)+_0x230e04+_0x1658c0(0x11f)+_0x230e04[_0x1658c0(0xfa)]('/'));if(_0x230e04[_0x1658c0(0xfa)](_0x1658c0(0x11e))>-0x1||_0x230e04[_0x1658c0(0xfa)](_0x1658c0(0x106))>-0x1){}else{if(_0x230e04['indexOf'](':')>0x0&&_0x230e04[_0x1658c0(0xfa)](':')<0x3){if(_0x230e04[_0x1658c0(0xfa)]('/')==0x0)_0x230e04=_0x230e04[_0x1658c0(0x129)](0x1);}else(_0x230e04[_0x1658c0(0xfa)]('/')==0x0||_0x230e04[_0x1658c0(0xfa)]('\x5c')==0x0)&&(console[_0x1658c0(0x109)]('first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:'+_0x230e04[_0x1658c0(0xfa)](config[_0x1658c0(0x12a)])),(_0x230e04[_0x1658c0(0xfa)](config[_0x1658c0(0x12a)])==-0x1||_0x230e04[_0x1658c0(0xfa)](config['ServerLocation'])>0x3)&&(console[_0x1658c0(0x109)]('no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item'),_0x230e04=config[_0x1658c0(0x12a)]+_0x230e04,_0x5a6a35=!![]));}console[_0x1658c0(0x109)](_0x1658c0(0x123)+_0x230e04);var _0x1a7606=path[_0x1658c0(0x101)](_0x230e04);createDirRecursively(_0x1a7606),_0x230e04=decodeURI(_0x230e04),_0x230e04=_0x230e04['replace'](/%3A/g,':'),_0x230e04=_0x230e04[_0x1658c0(0x125)](/%2F/g,'/'),_0x230e04=_0x230e04[_0x1658c0(0x125)](/%20/g,'\x20');if(config[_0x1658c0(0x126)])console['log'](_0x1658c0(0x128)+_0x230e04+'\x20X'+config['ServerFrontEndUrl']+_0x1658c0(0xfd)+config[_0x1658c0(0x10e)]);if(_0x230e04[_0x1658c0(0xfa)](config[_0x1658c0(0x120)])==0x0){if(_0x5a6a35){}else _0x230e04=config['ServerLocation']+_0x230e04[_0x1658c0(0x129)](config[_0x1658c0(0x120)][_0x1658c0(0xfc)]);}else _0x230e04[_0x1658c0(0xfa)](config[_0x1658c0(0x10e)])==0x0&&(_0x230e04=config[_0x1658c0(0x12a)]+_0x230e04[_0x1658c0(0x129)](config[_0x1658c0(0x10e)][_0x1658c0(0xfc)]));_0x230e04=_0x230e04['replace'](/\\/g,'/');if(config[_0x1658c0(0x126)])console[_0x1658c0(0x109)]('savefile:'+_0x230e04);fs[_0x1658c0(0x11a)](_0x230e04,'w',function(_0x271b19,_0x4c6ea3){fs['write'](_0x4c6ea3,_0x24e5eb,0x0,_0x24e5eb['length'],null,function(_0x54fbee){var _0x358ccb=a24_0x2754;if(_0x54fbee){if(config['cvjs_debug'])console[_0x358ccb(0x109)]('error\x20savefile:\x20'+_0x54fbee);_0x3d61a1[_0x358ccb(0x10b)](_0x358ccb(0x11c)+_0x54fbee);}else fs[_0x358ccb(0x127)](_0x4c6ea3,function(){var _0x3c41bd=_0x358ccb;if(config['cvjs_debug'])console[_0x3c41bd(0x109)](_0x3c41bd(0x115));_0x3d61a1[_0x3c41bd(0x10b)](_0x3c41bd(0xfb));});});});}catch(_0x3c22d1){_0x3d61a1['send'](_0x1658c0(0x10a));if(config[_0x1658c0(0x126)])console[_0x1658c0(0x109)](_0x3c22d1);}}),module[a24_0x10eba0(0x102)]=router;