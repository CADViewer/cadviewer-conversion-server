var a24_0xbd9494=a24_0x3201;function a24_0x3201(_0x3184ec,_0x314699){var _0x364542=a24_0x3645();return a24_0x3201=function(_0x320185,_0x2f2c82){_0x320185=_0x320185-0x90;var _0x3b72ea=_0x364542[_0x320185];return _0x3b72ea;},a24_0x3201(_0x3184ec,_0x314699);}function a24_0x3645(){var _0x38bad8=['after:','exports','Access-Control-Allow-Origin\x20:\x20*','Succes','Router','open','/savefile','12846etLPyS','11331189eLIEqH','join','http:','6710TKKtkL','savefile:','28809LVFgtF','dirname','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','2615535ZNYpBz','setHeader','188tjEaSa','ServerFrontEndUrl','error\x20-\x20savefile','ServerUrl','file_content','ServerLocation','\x20first\x20index:','close','substring','post','indexOf','send','replace','error\x20savefile:\x20','file','X\x20\x20','https:','5930448EqdXUN','length','ServerFrontEndUrlAsAllowedOriginOnly','log','mkdirSync','cvjs_debug','Access-Control-Allow-Origin\x20:','34yeLKbM','3167759bfGbuH','18gfdfhT','body','express','19464chKSNg'];a24_0x3645=function(){return _0x38bad8;};return a24_0x3645();}(function(_0x57fb81,_0x3829c3){var _0x51c22b=a24_0x3201,_0x4f10fa=_0x57fb81();while(!![]){try{var _0x40d4f5=-parseInt(_0x51c22b(0x93))/0x1*(-parseInt(_0x51c22b(0x98))/0x2)+parseInt(_0x51c22b(0xa0))/0x3*(-parseInt(_0x51c22b(0xab))/0x4)+-parseInt(_0x51c22b(0xa9))/0x5+parseInt(_0x51c22b(0x95))/0x6*(parseInt(_0x51c22b(0x94))/0x7)+-parseInt(_0x51c22b(0xbc))/0x8+-parseInt(_0x51c22b(0xa1))/0x9+-parseInt(_0x51c22b(0xa4))/0xa*(-parseInt(_0x51c22b(0xa6))/0xb);if(_0x40d4f5===_0x3829c3)break;else _0x4f10fa['push'](_0x4f10fa['shift']());}catch(_0x493b77){_0x4f10fa['push'](_0x4f10fa['shift']());}}}(a24_0x3645,0xb0108));var config=require('../CADViewer_config.json'),cvjs_debug=config[a24_0xbd9494(0x91)],express=require(a24_0xbd9494(0x97)),router=express[a24_0xbd9494(0x9d)]();const fs=require('fs'),path=require('path');function createDirRecursively(_0x46c768){var _0x15c7ca=a24_0xbd9494;!fs['existsSync'](_0x46c768)&&(createDirRecursively(path[_0x15c7ca(0xa2)](_0x46c768,'..')),fs[_0x15c7ca(0x90)](_0x46c768));}router[a24_0xbd9494(0xb4)](a24_0xbd9494(0x9f),(_0x122b05,_0xcb73c7)=>{var _0xcf44b2=a24_0xbd9494;if(config[_0xcf44b2(0xbe)]==!![]){_0xcb73c7[_0xcf44b2(0xaa)]('Access-Control-Allow-Origin',config[_0xcf44b2(0xac)]);if(cvjs_debug)console[_0xcf44b2(0xbf)](_0xcf44b2(0x92)+config[_0xcf44b2(0xac)]);}else{_0xcb73c7[_0xcf44b2(0xaa)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0xcf44b2(0xbf)](_0xcf44b2(0x9b));}try{var _0x592d7f=_0x122b05[_0xcf44b2(0x96)][_0xcf44b2(0xb9)],_0x43113a=_0x122b05[_0xcf44b2(0x96)][_0xcf44b2(0xaf)],_0x6d0821=Buffer['from'](_0x43113a),_0x364675=![];console[_0xcf44b2(0xbf)](_0xcf44b2(0xa5)+_0x592d7f+_0xcf44b2(0xb1)+_0x592d7f[_0xcf44b2(0xb5)]('/'));if(_0x592d7f['indexOf'](_0xcf44b2(0xa3))>-0x1||_0x592d7f[_0xcf44b2(0xb5)](_0xcf44b2(0xbb))>-0x1){}else{if(_0x592d7f['indexOf'](':')>0x0&&_0x592d7f['indexOf'](':')<0x3){if(_0x592d7f[_0xcf44b2(0xb5)]('/')==0x0)_0x592d7f=_0x592d7f['substring'](0x1);}else(_0x592d7f[_0xcf44b2(0xb5)]('/')==0x0||_0x592d7f[_0xcf44b2(0xb5)]('\x5c')==0x0)&&(console['log']('first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:'+_0x592d7f[_0xcf44b2(0xb5)](config[_0xcf44b2(0xb0)])),(_0x592d7f['indexOf'](config[_0xcf44b2(0xb0)])==-0x1||_0x592d7f[_0xcf44b2(0xb5)](config['ServerLocation'])>0x3)&&(console[_0xcf44b2(0xbf)](_0xcf44b2(0xa8)),_0x592d7f=config['ServerLocation']+_0x592d7f,_0x364675=!![]));}console[_0xcf44b2(0xbf)](_0xcf44b2(0x99)+_0x592d7f);var _0x4a2cab=path[_0xcf44b2(0xa7)](_0x592d7f);createDirRecursively(_0x4a2cab),_0x592d7f=decodeURI(_0x592d7f),_0x592d7f=_0x592d7f['replace'](/%3A/g,':'),_0x592d7f=_0x592d7f[_0xcf44b2(0xb7)](/%2F/g,'/'),_0x592d7f=_0x592d7f[_0xcf44b2(0xb7)](/%20/g,'\x20');if(config['cvjs_debug'])console[_0xcf44b2(0xbf)]('HERE\x20'+_0x592d7f+'\x20X'+config['ServerFrontEndUrl']+_0xcf44b2(0xba)+config[_0xcf44b2(0xae)]);if(_0x592d7f['indexOf'](config[_0xcf44b2(0xac)])==0x0){if(_0x364675){}else _0x592d7f=config[_0xcf44b2(0xb0)]+_0x592d7f[_0xcf44b2(0xb3)](config[_0xcf44b2(0xac)][_0xcf44b2(0xbd)]);}else _0x592d7f[_0xcf44b2(0xb5)](config[_0xcf44b2(0xae)])==0x0&&(_0x592d7f=config['ServerLocation']+_0x592d7f[_0xcf44b2(0xb3)](config[_0xcf44b2(0xae)]['length']));_0x592d7f=_0x592d7f[_0xcf44b2(0xb7)](/\\/g,'/');if(config[_0xcf44b2(0x91)])console[_0xcf44b2(0xbf)]('savefile:'+_0x592d7f);fs[_0xcf44b2(0x9e)](_0x592d7f,'w',function(_0x29f303,_0x32b8a5){fs['write'](_0x32b8a5,_0x6d0821,0x0,_0x6d0821['length'],null,function(_0x33b3e3){var _0x176aad=a24_0x3201;if(_0x33b3e3){if(config[_0x176aad(0x91)])console[_0x176aad(0xbf)](_0x176aad(0xb8)+_0x33b3e3);_0xcb73c7[_0x176aad(0xb6)](_0x176aad(0xb8)+_0x33b3e3);}else fs[_0x176aad(0xb2)](_0x32b8a5,function(){var _0x10d751=_0x176aad;if(config[_0x10d751(0x91)])console[_0x10d751(0xbf)]('file\x20written');_0xcb73c7[_0x10d751(0xb6)](_0x10d751(0x9c));});});});}catch(_0x5bd719){_0xcb73c7[_0xcf44b2(0xb6)](_0xcf44b2(0xad));if(config[_0xcf44b2(0x91)])console[_0xcf44b2(0xbf)](_0x5bd719);}}),module[a24_0xbd9494(0x9a)]=router;