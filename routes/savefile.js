function a24_0x3360(){var _0x196b4d=['ServerLocation','setHeader','7Ijojdx','file_content','savefile:','open','replace','1774944fSKlXA','Succes','length','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','../CADViewer_config.json','substring','ServerFrontEndUrlAsAllowedOriginOnly','800680AZNcOg','dirname','ServerFrontEndUrl','cvjs_debug','indexOf','https:','send','after:','Access-Control-Allow-Origin','5109069gyAqqX','file','2345650oexNen','\x20first\x20index:','367340AqSRiE','287592qrNKrg','error\x20-\x20savefile','ServerUrl','post','mkdirSync','X\x20\x20','join','log','Access-Control-Allow-Origin\x20:\x20*','existsSync','exports','body','Router','20492024Jodbnb','path','error\x20savefile:\x20','HERE\x20'];a24_0x3360=function(){return _0x196b4d;};return a24_0x3360();}function a24_0x33af(_0x414e3f,_0x4b608e){var _0x3360eb=a24_0x3360();return a24_0x33af=function(_0x33afab,_0x2e50bd){_0x33afab=_0x33afab-0x16d;var _0x1ec827=_0x3360eb[_0x33afab];return _0x1ec827;},a24_0x33af(_0x414e3f,_0x4b608e);}var a24_0x1de7f0=a24_0x33af;(function(_0x3d3de1,_0x3f4a47){var _0x491e58=a24_0x33af,_0xc73bd9=_0x3d3de1();while(!![]){try{var _0x1de2b4=parseInt(_0x491e58(0x175))/0x1+-parseInt(_0x491e58(0x180))/0x2+-parseInt(_0x491e58(0x17e))/0x3+parseInt(_0x491e58(0x16e))/0x4+parseInt(_0x491e58(0x182))/0x5+-parseInt(_0x491e58(0x183))/0x6+-parseInt(_0x491e58(0x196))/0x7*(-parseInt(_0x491e58(0x190))/0x8);if(_0x1de2b4===_0x3f4a47)break;else _0xc73bd9['push'](_0xc73bd9['shift']());}catch(_0x18ddbb){_0xc73bd9['push'](_0xc73bd9['shift']());}}}(a24_0x3360,0xe94d7));var config=require(a24_0x1de7f0(0x172)),cvjs_debug=config[a24_0x1de7f0(0x178)],express=require('express'),router=express[a24_0x1de7f0(0x18f)]();const fs=require('fs'),path=require(a24_0x1de7f0(0x191));function createDirRecursively(_0x2ce457){var _0x3d77f3=a24_0x1de7f0;!fs[_0x3d77f3(0x18c)](_0x2ce457)&&(createDirRecursively(path[_0x3d77f3(0x189)](_0x2ce457,'..')),fs[_0x3d77f3(0x187)](_0x2ce457));}router[a24_0x1de7f0(0x186)]('/savefile',(_0x5084cf,_0x283df5)=>{var _0x55ccfd=a24_0x1de7f0;if(config[_0x55ccfd(0x174)]==!![]){_0x283df5[_0x55ccfd(0x195)](_0x55ccfd(0x17d),config[_0x55ccfd(0x177)]);if(cvjs_debug)console[_0x55ccfd(0x18a)]('Access-Control-Allow-Origin\x20:'+config[_0x55ccfd(0x177)]);}else{_0x283df5[_0x55ccfd(0x195)](_0x55ccfd(0x17d),'*');if(cvjs_debug)console[_0x55ccfd(0x18a)](_0x55ccfd(0x18b));}try{var _0x3464ce=_0x5084cf[_0x55ccfd(0x18e)][_0x55ccfd(0x17f)],_0x5928f6=_0x5084cf[_0x55ccfd(0x18e)][_0x55ccfd(0x197)],_0x142e7f=Buffer['from'](_0x5928f6),_0x286463=![];console['log'](_0x55ccfd(0x198)+_0x3464ce+_0x55ccfd(0x181)+_0x3464ce[_0x55ccfd(0x179)]('/'));if(_0x3464ce[_0x55ccfd(0x179)]('http:')>-0x1||_0x3464ce['indexOf'](_0x55ccfd(0x17a))>-0x1){}else{if(_0x3464ce[_0x55ccfd(0x179)](':')>0x0&&_0x3464ce[_0x55ccfd(0x179)](':')<0x3){if(_0x3464ce[_0x55ccfd(0x179)]('/')==0x0)_0x3464ce=_0x3464ce[_0x55ccfd(0x173)](0x1);}else(_0x3464ce['indexOf']('/')==0x0||_0x3464ce[_0x55ccfd(0x179)]('\x5c')==0x0)&&(console[_0x55ccfd(0x18a)](_0x55ccfd(0x171)+_0x3464ce['indexOf'](config[_0x55ccfd(0x194)])),(_0x3464ce[_0x55ccfd(0x179)](config[_0x55ccfd(0x194)])==-0x1||_0x3464ce[_0x55ccfd(0x179)](config[_0x55ccfd(0x194)])>0x3)&&(console[_0x55ccfd(0x18a)]('no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item'),_0x3464ce=config[_0x55ccfd(0x194)]+_0x3464ce,_0x286463=!![]));}console['log'](_0x55ccfd(0x17c)+_0x3464ce);var _0x578826=path[_0x55ccfd(0x176)](_0x3464ce);createDirRecursively(_0x578826),_0x3464ce=decodeURI(_0x3464ce),_0x3464ce=_0x3464ce[_0x55ccfd(0x16d)](/%3A/g,':'),_0x3464ce=_0x3464ce[_0x55ccfd(0x16d)](/%2F/g,'/'),_0x3464ce=_0x3464ce[_0x55ccfd(0x16d)](/%20/g,'\x20');if(config['cvjs_debug'])console['log'](_0x55ccfd(0x193)+_0x3464ce+'\x20X'+config[_0x55ccfd(0x177)]+_0x55ccfd(0x188)+config[_0x55ccfd(0x185)]);if(_0x3464ce[_0x55ccfd(0x179)](config['ServerFrontEndUrl'])==0x0){if(_0x286463){}else _0x3464ce=config['ServerLocation']+_0x3464ce['substring'](config[_0x55ccfd(0x177)][_0x55ccfd(0x170)]);}else _0x3464ce[_0x55ccfd(0x179)](config['ServerUrl'])==0x0&&(_0x3464ce=config[_0x55ccfd(0x194)]+_0x3464ce['substring'](config[_0x55ccfd(0x185)][_0x55ccfd(0x170)]));_0x3464ce=_0x3464ce[_0x55ccfd(0x16d)](/\\/g,'/');if(config[_0x55ccfd(0x178)])console[_0x55ccfd(0x18a)]('savefile:'+_0x3464ce);fs[_0x55ccfd(0x199)](_0x3464ce,'w',function(_0xcf5d9e,_0x47fcf4){var _0x562550=_0x55ccfd;fs['write'](_0x47fcf4,_0x142e7f,0x0,_0x142e7f[_0x562550(0x170)],null,function(_0x57ab25){var _0x438287=_0x562550;if(_0x57ab25){if(config['cvjs_debug'])console[_0x438287(0x18a)](_0x438287(0x192)+_0x57ab25);_0x283df5[_0x438287(0x17b)](_0x438287(0x192)+_0x57ab25);}else fs['close'](_0x47fcf4,function(){var _0xb8b123=_0x438287;if(config[_0xb8b123(0x178)])console[_0xb8b123(0x18a)]('file\x20written');_0x283df5[_0xb8b123(0x17b)](_0xb8b123(0x16f));});});});}catch(_0x4ed576){_0x283df5[_0x55ccfd(0x17b)](_0x55ccfd(0x184));if(config[_0x55ccfd(0x178)])console['log'](_0x4ed576);}}),module[a24_0x1de7f0(0x18d)]=router;