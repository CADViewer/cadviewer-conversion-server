var a24_0xb2dcd2=a24_0x41af;(function(_0x4b74ff,_0x2f55d3){var _0xc6af3b=a24_0x41af,_0x243276=_0x4b74ff();while(!![]){try{var _0x1c9867=parseInt(_0xc6af3b(0x9b))/0x1+parseInt(_0xc6af3b(0x8c))/0x2+parseInt(_0xc6af3b(0x97))/0x3*(-parseInt(_0xc6af3b(0x93))/0x4)+parseInt(_0xc6af3b(0x94))/0x5*(parseInt(_0xc6af3b(0xad))/0x6)+parseInt(_0xc6af3b(0xac))/0x7*(-parseInt(_0xc6af3b(0xa0))/0x8)+parseInt(_0xc6af3b(0xaa))/0x9+-parseInt(_0xc6af3b(0x92))/0xa;if(_0x1c9867===_0x2f55d3)break;else _0x243276['push'](_0x243276['shift']());}catch(_0x2d9607){_0x243276['push'](_0x243276['shift']());}}}(a24_0x3323,0xd339a));var config=require(a24_0xb2dcd2(0xae)),cvjs_debug=config[a24_0xb2dcd2(0xb4)],express=require('express'),router=express[a24_0xb2dcd2(0x99)]();const fs=require('fs'),path=require(a24_0xb2dcd2(0x8d));function a24_0x41af(_0x59351a,_0x26b75c){var _0x3323d9=a24_0x3323();return a24_0x41af=function(_0x41af74,_0x32feb2){_0x41af74=_0x41af74-0x8c;var _0x587d3e=_0x3323d9[_0x41af74];return _0x587d3e;},a24_0x41af(_0x59351a,_0x26b75c);}function a24_0x3323(){var _0xd5374a=['indexOf','14508670tgDSLv','1671052amiLrc','5kaWvBV','ServerUrl','Access-Control-Allow-Origin\x20:','6KHIrON','HERE\x20','Router','substring','1141253tuFeax','Succes','error\x20savefile:\x20','dirname','file_content','3048ViUjCt','Access-Control-Allow-Origin\x20:\x20*','post','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','ServerLocation','after:','log','existsSync','body','savefile:','15204960KKEJYQ','open','23429iUMumA','4340148FEHJJw','../CADViewer_config.json','join','length','replace','setHeader','send','cvjs_debug','http:','\x20first\x20index:','write','ServerFrontEndUrl','Access-Control-Allow-Origin','file','error\x20-\x20savefile','1745454VmQTWT','path','file\x20written','ServerFrontEndUrlAsAllowedOriginOnly','from'];a24_0x3323=function(){return _0xd5374a;};return a24_0x3323();}function createDirRecursively(_0x3af65c){var _0x35d313=a24_0xb2dcd2;!fs[_0x35d313(0xa7)](_0x3af65c)&&(createDirRecursively(path[_0x35d313(0xaf)](_0x3af65c,'..')),fs['mkdirSync'](_0x3af65c));}router[a24_0xb2dcd2(0xa2)]('/savefile',(_0x39e0a9,_0xa31c20)=>{var _0xd91524=a24_0xb2dcd2;if(config[_0xd91524(0x8f)]==!![]){_0xa31c20['setHeader'](_0xd91524(0xb9),config[_0xd91524(0xb8)]);if(cvjs_debug)console[_0xd91524(0xa6)](_0xd91524(0x96)+config[_0xd91524(0xb8)]);}else{_0xa31c20[_0xd91524(0xb2)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0xd91524(0xa6)](_0xd91524(0xa1));}try{var _0x530221=_0x39e0a9[_0xd91524(0xa8)][_0xd91524(0xba)],_0x2d5075=_0x39e0a9[_0xd91524(0xa8)][_0xd91524(0x9f)],_0x387e67=Buffer[_0xd91524(0x90)](_0x2d5075),_0x3a8494=![];console[_0xd91524(0xa6)](_0xd91524(0xa9)+_0x530221+_0xd91524(0xb6)+_0x530221[_0xd91524(0x91)]('/'));if(_0x530221[_0xd91524(0x91)](_0xd91524(0xb5))>-0x1||_0x530221['indexOf']('https:')>-0x1){}else{if(_0x530221[_0xd91524(0x91)](':')>0x0&&_0x530221['indexOf'](':')<0x3){if(_0x530221[_0xd91524(0x91)]('/')==0x0)_0x530221=_0x530221[_0xd91524(0x9a)](0x1);}else(_0x530221['indexOf']('/')==0x0||_0x530221[_0xd91524(0x91)]('\x5c')==0x0)&&(console[_0xd91524(0xa6)](_0xd91524(0xa3)+_0x530221['indexOf'](config[_0xd91524(0xa4)])),(_0x530221[_0xd91524(0x91)](config['ServerLocation'])==-0x1||_0x530221[_0xd91524(0x91)](config['ServerLocation'])>0x3)&&(console['log']('no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item'),_0x530221=config[_0xd91524(0xa4)]+_0x530221,_0x3a8494=!![]));}console[_0xd91524(0xa6)](_0xd91524(0xa5)+_0x530221);var _0x1eb896=path[_0xd91524(0x9e)](_0x530221);createDirRecursively(_0x1eb896),_0x530221=decodeURI(_0x530221),_0x530221=_0x530221['replace'](/%3A/g,':'),_0x530221=_0x530221['replace'](/%2F/g,'/'),_0x530221=_0x530221[_0xd91524(0xb1)](/%20/g,'\x20');if(config[_0xd91524(0xb4)])console[_0xd91524(0xa6)](_0xd91524(0x98)+_0x530221+'\x20X'+config[_0xd91524(0xb8)]+'X\x20\x20'+config[_0xd91524(0x95)]);if(_0x530221['indexOf'](config['ServerFrontEndUrl'])==0x0){if(_0x3a8494){}else _0x530221=config[_0xd91524(0xa4)]+_0x530221[_0xd91524(0x9a)](config[_0xd91524(0xb8)][_0xd91524(0xb0)]);}else _0x530221[_0xd91524(0x91)](config['ServerUrl'])==0x0&&(_0x530221=config['ServerLocation']+_0x530221[_0xd91524(0x9a)](config[_0xd91524(0x95)][_0xd91524(0xb0)]));_0x530221=_0x530221[_0xd91524(0xb1)](/\\/g,'/');if(config['cvjs_debug'])console['log']('savefile:'+_0x530221);fs[_0xd91524(0xab)](_0x530221,'w',function(_0x4f0ef5,_0x2eeb55){var _0x23b95e=_0xd91524;fs[_0x23b95e(0xb7)](_0x2eeb55,_0x387e67,0x0,_0x387e67['length'],null,function(_0x3f6c68){var _0x1ee1f1=_0x23b95e;if(_0x3f6c68){if(config[_0x1ee1f1(0xb4)])console[_0x1ee1f1(0xa6)](_0x1ee1f1(0x9d)+_0x3f6c68);_0xa31c20[_0x1ee1f1(0xb3)](_0x1ee1f1(0x9d)+_0x3f6c68);}else fs['close'](_0x2eeb55,function(){var _0x53edb4=_0x1ee1f1;if(config[_0x53edb4(0xb4)])console[_0x53edb4(0xa6)](_0x53edb4(0x8e));_0xa31c20[_0x53edb4(0xb3)](_0x53edb4(0x9c));});});});}catch(_0xf13a82){_0xa31c20[_0xd91524(0xb3)](_0xd91524(0xbb));if(config[_0xd91524(0xb4)])console[_0xd91524(0xa6)](_0xf13a82);}}),module['exports']=router;