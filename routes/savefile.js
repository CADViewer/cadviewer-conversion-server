var a24_0x4c9bb6=a24_0x27f0;function a24_0x4a0e(){var _0x2cc8bb=['setHeader','length','post','exports','error\x20-\x20savefile','file_content','from','Access-Control-Allow-Origin\x20:','close','body','18iXFRUD','\x20first\x20index:','substring','1184276hsslQy','ServerUrl','dirname','https:','9399496AQkqzW','log','join','115806avSVlc','Access-Control-Allow-Origin\x20:\x20*','3884094VIabRP','write','send','300104UAhJIh','ServerFrontEndUrlAsAllowedOriginOnly','error\x20savefile:\x20','1313465vFyVXB','replace','mkdirSync','http:','Access-Control-Allow-Origin','4FZxYEu','HERE\x20','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','cvjs_debug','file\x20written','X\x20\x20','22zzMoBd','savefile:','ServerFrontEndUrl','indexOf','138YHkWPT','express','ServerLocation','900110DeeMzW','path'];a24_0x4a0e=function(){return _0x2cc8bb;};return a24_0x4a0e();}function a24_0x27f0(_0x4507d8,_0xe8c477){var _0x4a0e52=a24_0x4a0e();return a24_0x27f0=function(_0x27f008,_0x58547e){_0x27f008=_0x27f008-0x19f;var _0x1df40d=_0x4a0e52[_0x27f008];return _0x1df40d;},a24_0x27f0(_0x4507d8,_0xe8c477);}(function(_0x5ead81,_0x3a5855){var _0x357f08=a24_0x27f0,_0x47e434=_0x5ead81();while(!![]){try{var _0x47d137=parseInt(_0x357f08(0x1a3))/0x1+-parseInt(_0x357f08(0x1aa))/0x2*(-parseInt(_0x357f08(0x1a0))/0x3)+-parseInt(_0x357f08(0x1b7))/0x4*(parseInt(_0x357f08(0x1b2))/0x5)+parseInt(_0x357f08(0x1c1))/0x6*(parseInt(_0x357f08(0x1af))/0x7)+-parseInt(_0x357f08(0x1a7))/0x8+-parseInt(_0x357f08(0x1ac))/0x9+-parseInt(_0x357f08(0x1c4))/0xa*(-parseInt(_0x357f08(0x1bd))/0xb);if(_0x47d137===_0x3a5855)break;else _0x47e434['push'](_0x47e434['shift']());}catch(_0x3b80a1){_0x47e434['push'](_0x47e434['shift']());}}}(a24_0x4a0e,0xca4a0));var config=require('../CADViewer_config.json'),cvjs_debug=config[a24_0x4c9bb6(0x1ba)],express=require(a24_0x4c9bb6(0x1c2)),router=express['Router']();const fs=require('fs'),path=require(a24_0x4c9bb6(0x1c5));function createDirRecursively(_0x53ca5c){var _0x574f6f=a24_0x4c9bb6;!fs['existsSync'](_0x53ca5c)&&(createDirRecursively(path[_0x574f6f(0x1a9)](_0x53ca5c,'..')),fs[_0x574f6f(0x1b4)](_0x53ca5c));}router[a24_0x4c9bb6(0x1c8)]('/savefile',(_0x23f9b5,_0x3c5b20)=>{var _0x216d3b=a24_0x4c9bb6;if(config[_0x216d3b(0x1b0)]==!![]){_0x3c5b20[_0x216d3b(0x1c6)](_0x216d3b(0x1b6),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x216d3b(0x1a8)](_0x216d3b(0x1cd)+config[_0x216d3b(0x1bf)]);}else{_0x3c5b20[_0x216d3b(0x1c6)](_0x216d3b(0x1b6),'*');if(cvjs_debug)console[_0x216d3b(0x1a8)](_0x216d3b(0x1ab));}try{var _0x1e9f02=_0x23f9b5[_0x216d3b(0x19f)]['file'],_0x48adb7=_0x23f9b5['body'][_0x216d3b(0x1cb)],_0x2756ea=Buffer[_0x216d3b(0x1cc)](_0x48adb7),_0x3bf510=![];console['log'](_0x216d3b(0x1be)+_0x1e9f02+_0x216d3b(0x1a1)+_0x1e9f02[_0x216d3b(0x1c0)]('/'));if(_0x1e9f02[_0x216d3b(0x1c0)](_0x216d3b(0x1b5))>-0x1||_0x1e9f02['indexOf'](_0x216d3b(0x1a6))>-0x1){}else{if(_0x1e9f02[_0x216d3b(0x1c0)](':')>0x0&&_0x1e9f02[_0x216d3b(0x1c0)](':')<0x3){if(_0x1e9f02[_0x216d3b(0x1c0)]('/')==0x0)_0x1e9f02=_0x1e9f02[_0x216d3b(0x1a2)](0x1);}else(_0x1e9f02[_0x216d3b(0x1c0)]('/')==0x0||_0x1e9f02[_0x216d3b(0x1c0)]('\x5c')==0x0)&&(console[_0x216d3b(0x1a8)]('first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:'+_0x1e9f02[_0x216d3b(0x1c0)](config['ServerLocation'])),(_0x1e9f02['indexOf'](config['ServerLocation'])==-0x1||_0x1e9f02[_0x216d3b(0x1c0)](config[_0x216d3b(0x1c3)])>0x3)&&(console[_0x216d3b(0x1a8)](_0x216d3b(0x1b9)),_0x1e9f02=config[_0x216d3b(0x1c3)]+_0x1e9f02,_0x3bf510=!![]));}console[_0x216d3b(0x1a8)]('after:'+_0x1e9f02);var _0x5cb1f5=path[_0x216d3b(0x1a5)](_0x1e9f02);createDirRecursively(_0x5cb1f5),_0x1e9f02=decodeURI(_0x1e9f02),_0x1e9f02=_0x1e9f02[_0x216d3b(0x1b3)](/%3A/g,':'),_0x1e9f02=_0x1e9f02[_0x216d3b(0x1b3)](/%2F/g,'/'),_0x1e9f02=_0x1e9f02[_0x216d3b(0x1b3)](/%20/g,'\x20');if(config[_0x216d3b(0x1ba)])console[_0x216d3b(0x1a8)](_0x216d3b(0x1b8)+_0x1e9f02+'\x20X'+config[_0x216d3b(0x1bf)]+_0x216d3b(0x1bc)+config['ServerUrl']);if(_0x1e9f02[_0x216d3b(0x1c0)](config[_0x216d3b(0x1bf)])==0x0){if(_0x3bf510){}else _0x1e9f02=config[_0x216d3b(0x1c3)]+_0x1e9f02[_0x216d3b(0x1a2)](config[_0x216d3b(0x1bf)][_0x216d3b(0x1c7)]);}else _0x1e9f02[_0x216d3b(0x1c0)](config['ServerUrl'])==0x0&&(_0x1e9f02=config[_0x216d3b(0x1c3)]+_0x1e9f02['substring'](config[_0x216d3b(0x1a4)]['length']));_0x1e9f02=_0x1e9f02[_0x216d3b(0x1b3)](/\\/g,'/');if(config[_0x216d3b(0x1ba)])console['log'](_0x216d3b(0x1be)+_0x1e9f02);fs['open'](_0x1e9f02,'w',function(_0x51621c,_0x25f000){var _0x5a08c5=_0x216d3b;fs[_0x5a08c5(0x1ad)](_0x25f000,_0x2756ea,0x0,_0x2756ea[_0x5a08c5(0x1c7)],null,function(_0x422822){var _0x4ec0f5=_0x5a08c5;if(_0x422822){if(config['cvjs_debug'])console[_0x4ec0f5(0x1a8)](_0x4ec0f5(0x1b1)+_0x422822);_0x3c5b20[_0x4ec0f5(0x1ae)](_0x4ec0f5(0x1b1)+_0x422822);}else fs[_0x4ec0f5(0x1ce)](_0x25f000,function(){var _0x57e77a=_0x4ec0f5;if(config[_0x57e77a(0x1ba)])console[_0x57e77a(0x1a8)](_0x57e77a(0x1bb));_0x3c5b20[_0x57e77a(0x1ae)]('Succes');});});});}catch(_0x1914b0){_0x3c5b20[_0x216d3b(0x1ae)](_0x216d3b(0x1ca));if(config[_0x216d3b(0x1ba)])console[_0x216d3b(0x1a8)](_0x1914b0);}}),module[a24_0x4c9bb6(0x1c9)]=router;