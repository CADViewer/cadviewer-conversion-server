var a24_0x3c3eae=a24_0x4a2b;(function(_0x3db044,_0x3f5087){var _0x30301e=a24_0x4a2b,_0x4db27=_0x3db044();while(!![]){try{var _0x55c031=parseInt(_0x30301e(0x12e))/0x1+-parseInt(_0x30301e(0x14b))/0x2*(parseInt(_0x30301e(0x14f))/0x3)+-parseInt(_0x30301e(0x12b))/0x4*(parseInt(_0x30301e(0x140))/0x5)+-parseInt(_0x30301e(0x14c))/0x6+-parseInt(_0x30301e(0x129))/0x7+parseInt(_0x30301e(0x142))/0x8*(-parseInt(_0x30301e(0x141))/0x9)+parseInt(_0x30301e(0x13a))/0xa;if(_0x55c031===_0x3f5087)break;else _0x4db27['push'](_0x4db27['shift']());}catch(_0x2c919c){_0x4db27['push'](_0x4db27['shift']());}}}(a24_0xc0b3,0x9be3d));function a24_0x4a2b(_0x581250,_0xc60ff3){var _0xc0b3f7=a24_0xc0b3();return a24_0x4a2b=function(_0x4a2b7b,_0x553c07){_0x4a2b7b=_0x4a2b7b-0x124;var _0x5b40f2=_0xc0b3f7[_0x4a2b7b];return _0x5b40f2;},a24_0x4a2b(_0x581250,_0xc60ff3);}var config=require(a24_0x3c3eae(0x125)),cvjs_debug=config[a24_0x3c3eae(0x127)],express=require('express'),router=express['Router']();const fs=require('fs'),path=require(a24_0x3c3eae(0x12f));function a24_0xc0b3(){var _0x3733b9=['21128720RFjZMF','exports','from','write','X\x20\x20','ServerUrl','975530lfgQDh','6500259BbsGkM','8wzCiie','dirname','setHeader','existsSync','send','file\x20written','mkdirSync','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','ServerLocation','264EREnqD','2594160impIfn','close','\x20first\x20index:','519MfZups','body','https:','length','ServerFrontEndUrl','../CADViewer_config.json','error\x20savefile:\x20','cvjs_debug','log','1866928ajqrqT','/savefile','12YEoUGr','substring','error\x20-\x20savefile','555122hfzvQS','path','post','savefile:','Access-Control-Allow-Origin\x20:','http:','file','indexOf','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','Succes','after:','replace'];a24_0xc0b3=function(){return _0x3733b9;};return a24_0xc0b3();}function createDirRecursively(_0x315213){var _0x236edd=a24_0x3c3eae;!fs[_0x236edd(0x145)](_0x315213)&&(createDirRecursively(path['join'](_0x315213,'..')),fs[_0x236edd(0x148)](_0x315213));}router[a24_0x3c3eae(0x130)](a24_0x3c3eae(0x12a),(_0x12a16e,_0x312f46)=>{var _0x511fe4=a24_0x3c3eae;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x312f46[_0x511fe4(0x144)]('Access-Control-Allow-Origin',config['ServerFrontEndUrl']);if(cvjs_debug)console['log'](_0x511fe4(0x132)+config[_0x511fe4(0x124)]);}else{_0x312f46[_0x511fe4(0x144)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x511fe4(0x128)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x573001=_0x12a16e[_0x511fe4(0x150)][_0x511fe4(0x134)],_0x5be6b8=_0x12a16e[_0x511fe4(0x150)]['file_content'],_0x3eeccd=Buffer[_0x511fe4(0x13c)](_0x5be6b8),_0x526ca3=![];console[_0x511fe4(0x128)](_0x511fe4(0x131)+_0x573001+_0x511fe4(0x14e)+_0x573001['indexOf']('/'));if(_0x573001[_0x511fe4(0x135)](_0x511fe4(0x133))>-0x1||_0x573001[_0x511fe4(0x135)](_0x511fe4(0x151))>-0x1){}else{if(_0x573001[_0x511fe4(0x135)](':')>0x0&&_0x573001[_0x511fe4(0x135)](':')<0x3){if(_0x573001[_0x511fe4(0x135)]('/')==0x0)_0x573001=_0x573001['substring'](0x1);}else(_0x573001[_0x511fe4(0x135)]('/')==0x0||_0x573001[_0x511fe4(0x135)]('\x5c')==0x0)&&(console[_0x511fe4(0x128)](_0x511fe4(0x149)+_0x573001[_0x511fe4(0x135)](config[_0x511fe4(0x14a)])),(_0x573001['indexOf'](config[_0x511fe4(0x14a)])==-0x1||_0x573001[_0x511fe4(0x135)](config[_0x511fe4(0x14a)])>0x3)&&(console[_0x511fe4(0x128)](_0x511fe4(0x136)),_0x573001=config['ServerLocation']+_0x573001,_0x526ca3=!![]));}console['log'](_0x511fe4(0x138)+_0x573001);var _0x5335ad=path[_0x511fe4(0x143)](_0x573001);createDirRecursively(_0x5335ad),_0x573001=decodeURI(_0x573001),_0x573001=_0x573001[_0x511fe4(0x139)](/%3A/g,':'),_0x573001=_0x573001['replace'](/%2F/g,'/'),_0x573001=_0x573001[_0x511fe4(0x139)](/%20/g,'\x20');if(config[_0x511fe4(0x127)])console[_0x511fe4(0x128)]('HERE\x20'+_0x573001+'\x20X'+config[_0x511fe4(0x124)]+_0x511fe4(0x13e)+config[_0x511fe4(0x13f)]);if(_0x573001[_0x511fe4(0x135)](config[_0x511fe4(0x124)])==0x0){if(_0x526ca3){}else _0x573001=config['ServerLocation']+_0x573001[_0x511fe4(0x12c)](config[_0x511fe4(0x124)]['length']);}else _0x573001['indexOf'](config[_0x511fe4(0x13f)])==0x0&&(_0x573001=config[_0x511fe4(0x14a)]+_0x573001[_0x511fe4(0x12c)](config[_0x511fe4(0x13f)][_0x511fe4(0x152)]));_0x573001=_0x573001[_0x511fe4(0x139)](/\\/g,'/');if(config['cvjs_debug'])console[_0x511fe4(0x128)]('savefile:'+_0x573001);fs['open'](_0x573001,'w',function(_0x2a00e4,_0x1f2050){var _0x545eb2=_0x511fe4;fs[_0x545eb2(0x13d)](_0x1f2050,_0x3eeccd,0x0,_0x3eeccd[_0x545eb2(0x152)],null,function(_0x481e7f){var _0x2d75f6=_0x545eb2;if(_0x481e7f){if(config[_0x2d75f6(0x127)])console[_0x2d75f6(0x128)](_0x2d75f6(0x126)+_0x481e7f);_0x312f46[_0x2d75f6(0x146)]('error\x20savefile:\x20'+_0x481e7f);}else fs[_0x2d75f6(0x14d)](_0x1f2050,function(){var _0x2467fe=_0x2d75f6;if(config[_0x2467fe(0x127)])console[_0x2467fe(0x128)](_0x2467fe(0x147));_0x312f46[_0x2467fe(0x146)](_0x2467fe(0x137));});});});}catch(_0x470b9b){_0x312f46[_0x511fe4(0x146)](_0x511fe4(0x12d));if(config[_0x511fe4(0x127)])console[_0x511fe4(0x128)](_0x470b9b);}}),module[a24_0x3c3eae(0x13b)]=router;