var a24_0x4169e3=a24_0x214f;(function(_0x2158a4,_0x10063d){var _0x2011de=a24_0x214f,_0x207c4e=_0x2158a4();while(!![]){try{var _0x2f4d14=-parseInt(_0x2011de(0x105))/0x1*(-parseInt(_0x2011de(0x129))/0x2)+-parseInt(_0x2011de(0x128))/0x3+parseInt(_0x2011de(0x120))/0x4*(-parseInt(_0x2011de(0x11d))/0x5)+-parseInt(_0x2011de(0x11e))/0x6*(-parseInt(_0x2011de(0x126))/0x7)+parseInt(_0x2011de(0x115))/0x8+parseInt(_0x2011de(0x109))/0x9+-parseInt(_0x2011de(0x114))/0xa;if(_0x2f4d14===_0x10063d)break;else _0x207c4e['push'](_0x207c4e['shift']());}catch(_0x220d1f){_0x207c4e['push'](_0x207c4e['shift']());}}}(a24_0x4015,0x4dedd));function a24_0x4015(){var _0x52ae4c=['X\x20\x20','3831336IuKBQz','express','indexOf','ServerLocation','ServerFrontEndUrlAsAllowedOriginOnly','http:','join','Access-Control-Allow-Origin','log','Access-Control-Allow-Origin\x20:','length','8366340XRAtRp','3709624FnVsoS','file\x20written','cvjs_debug','path','from','ServerFrontEndUrl','open','write','1415etLFZL','55158XAnEnG','HERE\x20','6068oUByms','file','after:','replace','ServerUrl','setHeader','448nVVzfh','no\x20serverlocation\x20in\x20part,\x20or\x20begins\x20after\x203rd\x20item','279375ydpfRx','66vZXvCs','savefile:','Access-Control-Allow-Origin\x20:\x20*','../CADViewer_config.json','first\x20part\x20is\x20/\x20or\x20\x5c\x20,\x20it\x20is\x20at:','error\x20savefile:\x20','send','substring','Router','Succes','6076BxrySb','post','dirname'];a24_0x4015=function(){return _0x52ae4c;};return a24_0x4015();}function a24_0x214f(_0x31abe3,_0x554eeb){var _0x401531=a24_0x4015();return a24_0x214f=function(_0x214fe4,_0x3202c1){_0x214fe4=_0x214fe4-0x100;var _0x4ba287=_0x401531[_0x214fe4];return _0x4ba287;},a24_0x214f(_0x31abe3,_0x554eeb);}var config=require(a24_0x4169e3(0x12c)),cvjs_debug=config[a24_0x4169e3(0x117)],express=require(a24_0x4169e3(0x10a)),router=express[a24_0x4169e3(0x103)]();const fs=require('fs'),path=require(a24_0x4169e3(0x118));function createDirRecursively(_0x2a17f7){var _0x38db5a=a24_0x4169e3;!fs['existsSync'](_0x2a17f7)&&(createDirRecursively(path[_0x38db5a(0x10f)](_0x2a17f7,'..')),fs['mkdirSync'](_0x2a17f7));}router[a24_0x4169e3(0x106)]('/savefile',(_0x28c9c9,_0x157b50)=>{var _0x5ba3b0=a24_0x4169e3;if(config[_0x5ba3b0(0x10d)]==!![]){_0x157b50[_0x5ba3b0(0x125)](_0x5ba3b0(0x110),config[_0x5ba3b0(0x11a)]);if(cvjs_debug)console[_0x5ba3b0(0x111)](_0x5ba3b0(0x112)+config[_0x5ba3b0(0x11a)]);}else{_0x157b50[_0x5ba3b0(0x125)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x5ba3b0(0x111)](_0x5ba3b0(0x12b));}try{var _0x1e7baa=_0x28c9c9['body'][_0x5ba3b0(0x121)],_0x3330bb=_0x28c9c9['body']['file_content'],_0x435c22=Buffer[_0x5ba3b0(0x119)](_0x3330bb),_0x12fc6f=![];console[_0x5ba3b0(0x111)](_0x5ba3b0(0x12a)+_0x1e7baa+'\x20first\x20index:'+_0x1e7baa[_0x5ba3b0(0x10b)]('/'));if(_0x1e7baa[_0x5ba3b0(0x10b)](_0x5ba3b0(0x10e))>-0x1||_0x1e7baa[_0x5ba3b0(0x10b)]('https:')>-0x1){}else{if(_0x1e7baa['indexOf'](':')>0x0&&_0x1e7baa[_0x5ba3b0(0x10b)](':')<0x3){if(_0x1e7baa[_0x5ba3b0(0x10b)]('/')==0x0)_0x1e7baa=_0x1e7baa[_0x5ba3b0(0x102)](0x1);}else(_0x1e7baa[_0x5ba3b0(0x10b)]('/')==0x0||_0x1e7baa[_0x5ba3b0(0x10b)]('\x5c')==0x0)&&(console[_0x5ba3b0(0x111)](_0x5ba3b0(0x12d)+_0x1e7baa[_0x5ba3b0(0x10b)](config['ServerLocation'])),(_0x1e7baa[_0x5ba3b0(0x10b)](config[_0x5ba3b0(0x10c)])==-0x1||_0x1e7baa['indexOf'](config[_0x5ba3b0(0x10c)])>0x3)&&(console[_0x5ba3b0(0x111)](_0x5ba3b0(0x127)),_0x1e7baa=config['ServerLocation']+_0x1e7baa,_0x12fc6f=!![]));}console[_0x5ba3b0(0x111)](_0x5ba3b0(0x122)+_0x1e7baa);var _0x32b6c0=path[_0x5ba3b0(0x107)](_0x1e7baa);createDirRecursively(_0x32b6c0),_0x1e7baa=decodeURI(_0x1e7baa),_0x1e7baa=_0x1e7baa[_0x5ba3b0(0x123)](/%3A/g,':'),_0x1e7baa=_0x1e7baa[_0x5ba3b0(0x123)](/%2F/g,'/'),_0x1e7baa=_0x1e7baa[_0x5ba3b0(0x123)](/%20/g,'\x20');if(config[_0x5ba3b0(0x117)])console[_0x5ba3b0(0x111)](_0x5ba3b0(0x11f)+_0x1e7baa+'\x20X'+config[_0x5ba3b0(0x11a)]+_0x5ba3b0(0x108)+config[_0x5ba3b0(0x124)]);if(_0x1e7baa[_0x5ba3b0(0x10b)](config[_0x5ba3b0(0x11a)])==0x0){if(_0x12fc6f){}else _0x1e7baa=config[_0x5ba3b0(0x10c)]+_0x1e7baa[_0x5ba3b0(0x102)](config[_0x5ba3b0(0x11a)][_0x5ba3b0(0x113)]);}else _0x1e7baa[_0x5ba3b0(0x10b)](config[_0x5ba3b0(0x124)])==0x0&&(_0x1e7baa=config[_0x5ba3b0(0x10c)]+_0x1e7baa[_0x5ba3b0(0x102)](config[_0x5ba3b0(0x124)][_0x5ba3b0(0x113)]));_0x1e7baa=_0x1e7baa[_0x5ba3b0(0x123)](/\\/g,'/');if(config[_0x5ba3b0(0x117)])console['log'](_0x5ba3b0(0x12a)+_0x1e7baa);fs[_0x5ba3b0(0x11b)](_0x1e7baa,'w',function(_0x1937e9,_0x43c7fb){var _0x1b52e2=_0x5ba3b0;fs[_0x1b52e2(0x11c)](_0x43c7fb,_0x435c22,0x0,_0x435c22['length'],null,function(_0x52d6b1){var _0x5723fc=_0x1b52e2;if(_0x52d6b1){if(config[_0x5723fc(0x117)])console['log'](_0x5723fc(0x100)+_0x52d6b1);_0x157b50[_0x5723fc(0x101)](_0x5723fc(0x100)+_0x52d6b1);}else fs['close'](_0x43c7fb,function(){var _0x534615=_0x5723fc;if(config['cvjs_debug'])console[_0x534615(0x111)](_0x534615(0x116));_0x157b50[_0x534615(0x101)](_0x534615(0x104));});});});}catch(_0x2167e2){_0x157b50[_0x5ba3b0(0x101)]('error\x20-\x20savefile');if(config[_0x5ba3b0(0x117)])console['log'](_0x2167e2);}}),module['exports']=router;