var a10_0x3a3a26=a10_0x40a1;(function(_0x400f5c,_0x421614){var _0x7ceaf2=a10_0x40a1,_0x73a404=_0x400f5c();while(!![]){try{var _0x5a5cd0=parseInt(_0x7ceaf2(0x99))/0x1+-parseInt(_0x7ceaf2(0x68))/0x2*(parseInt(_0x7ceaf2(0xaf))/0x3)+parseInt(_0x7ceaf2(0x9c))/0x4+parseInt(_0x7ceaf2(0x76))/0x5*(-parseInt(_0x7ceaf2(0x8e))/0x6)+parseInt(_0x7ceaf2(0x84))/0x7*(-parseInt(_0x7ceaf2(0xdc))/0x8)+parseInt(_0x7ceaf2(0xb7))/0x9+parseInt(_0x7ceaf2(0xbd))/0xa;if(_0x5a5cd0===_0x421614)break;else _0x73a404['push'](_0x73a404['shift']());}catch(_0x5f41ad){_0x73a404['push'](_0x73a404['shift']());}}}(a10_0x3e56,0x780e1));const {exit}=require(a10_0x3a3a26(0x74)),{getEnabledCategories}=require('trace_events');var config=require(a10_0x3a3a26(0x7a)),cvjs_debug=config[a10_0x3a3a26(0xc2)],express=require(a10_0x3a3a26(0x78)),router=express[a10_0x3a3a26(0xe2)](),crypto=require(a10_0x3a3a26(0xb2));function a10_0x40a1(_0x2fa631,_0x528403){var _0x3e56ac=a10_0x3e56();return a10_0x40a1=function(_0x40a15b,_0x25b219){_0x40a15b=_0x40a15b-0x65;var _0x2fec23=_0x3e56ac[_0x40a15b];return _0x2fec23;},a10_0x40a1(_0x2fa631,_0x528403);}const isGzip=require(a10_0x3a3a26(0x85));function a10_0x3e56(){var _0xe9128b=['random','returnCadviewer','open','INSERTNONCE','error\x20-\x20getCADViewerContent','Access-Control-Allow-Headers','param_10','readFileSync','process','\x22,\x22\x22);\x0a','305325zsPwPA','param_2','express','Type','../CADViewer_config.json','send','value_1','value_4','exports','value_2','svg','value_6','cvjs_svgz_compress','zlib\x20unzip\x20data:','37184rnjUci','is-gzip','ContentSecurityPolicy','\x20fileType=','\x22,\x22','application/octet-stream','Access-Control-Allow-Origin','param_3','fileLocationUrl','json','90FYxeSt','value_9','indexOf','Error\x20Found:','ContentSecurityPolicyReportOnly','write','file\x20written','::1','Access-Control-Allow-Credentials','param_5','value_8','534428ayGXDB','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','param_1','3625268fjUgYp','ERROR:\x20app.get\x20','INSERTSERVERBACKEND','unlink','from','param_9','get','INSERTSERVERURL','randomBytes','param_0','zlib','param_7','X-Requested-With,content-type','readFile','utf8','INSERTCONVERSIONPARAMETERS','ServerUrl','gunzip','cvjs_conversion_addAXconversionParameter(\x22','2292006bCSZuj','length','application/json','crypto','error\x20-\x20get\x20/app/*\x20','value_0','.html','error','262620qXyMaC','remainOnServer','ServerLocation','\x22);\x0a','zlib\x20unzip\x20data\x20already\x20compressed:','localhost','10045810PHojdx','floor','ServerFrontEndUrlAsAllowedOriginOnly','ServerFrontEndUrl','zlib\x20error:','cvjs_debug','toString','replace','image/svg+xml','close','Content-Type','utf-8','log','setHeader','Access-Control-Allow-Origin\x20:\x20*','value_10','first\x20in\x20/getcadviewercontent','Content-Security-Policy-Report-Only','pickOriginalFile','error\x20savefile:\x20','INSERTFILENAME','currentLoadedDrawingFullName=\x22','gzip','Access-Control-Allow-Methods','File\x20deleted!','\x20TYPE=','image/jpeg','/loadfile:\x20\x20A\x20pickOriginalFile:','zlib\x20unzip\x20inputFile=','/loadfile:\x20D\x20svgz\x20compression:','\x20inputFile=','456cWTueS','/loadfile:\x20D\x20plain\x20svg:','value_3','query','callbackMethod_gatewayUrl','/loadfile:\x20','Router','substring','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','svgz','2ztcNHK','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','CURRETNLOADEDDRAWINGFULLNAME','value_5'];a10_0x3e56=function(){return _0xe9128b;};return a10_0x3e56();}router[a10_0x3a3a26(0xa2)]('/getcadviewercontent',function(_0x59fc4d,_0x3285eb){var _0x574135=a10_0x3a3a26;if(config[_0x574135(0xbf)]==!![]){_0x3285eb[_0x574135(0xca)]('Access-Control-Allow-Origin',config[_0x574135(0xc0)]);if(cvjs_debug)console[_0x574135(0xc9)]('Access-Control-Allow-Origin\x20:'+config[_0x574135(0xc0)]);}else{_0x3285eb[_0x574135(0xca)](_0x574135(0x8a),'*');if(cvjs_debug)console['log'](_0x574135(0xcb));}_0x3285eb[_0x574135(0xca)](_0x574135(0xd4),_0x574135(0x66)),_0x3285eb[_0x574135(0xca)](_0x574135(0x71),_0x574135(0xa8)),_0x3285eb['setHeader'](_0x574135(0x96),!![]);var _0x4f4be4=crypto[_0x574135(0xa4)](0x10)[_0x574135(0xc3)]('base64'),_0x2d7df0=config[_0x574135(0x86)];_0x2d7df0=_0x2d7df0[_0x574135(0xc4)](_0x574135(0x6f),_0x4f4be4);if(config[_0x574135(0x92)])_0x3285eb[_0x574135(0xca)](_0x574135(0xce),_0x2d7df0);else _0x3285eb[_0x574135(0xca)]('Content-Security-Policy',_0x2d7df0);if(config[_0x574135(0xc2)])console[_0x574135(0xc9)](_0x574135(0xcd));try{var _0x502172=_0x59fc4d['query'][_0x574135(0xb8)],_0x5e2cf4=_0x59fc4d[_0x574135(0xdf)]['fileTag'],_0x46cf09=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x79)],_0x51bc39=_0x59fc4d['query'][_0x574135(0x6d)],_0x554bd3=_0x59fc4d[_0x574135(0xdf)][_0x574135(0xcf)],_0x25b82a=config['fileLocation']+_0x5e2cf4+'.'+_0x46cf09,_0x54cc91=_0x59fc4d['query']['iscached'];if(config[_0x574135(0xc2)])console[_0x574135(0xc9)](_0x574135(0xe1)+_0x25b82a+'\x20Remain\x20on\x20Server:\x20\x20'+_0x502172+_0x574135(0x87)+_0x46cf09+'\x20returnCadviewer='+_0x51bc39+'\x20pickOriginalFile='+_0x554bd3);var _0x401ad5=require('fs');if(_0x554bd3==0x1){if(config['cvjs_debug'])console['log'](_0x574135(0xd8)+_0x554bd3+_0x574135(0xdb)+_0x25b82a);try{const _0x2325f7=_0x401ad5[_0x574135(0x73)](_0x25b82a);_0x3285eb[_0x574135(0xca)](_0x574135(0xc7),_0x574135(0x89)),_0x3285eb['send'](_0x2325f7),console[_0x574135(0xc9)]('pickOriginalFile\x20return\x20length='+_0x2325f7[_0x574135(0xb0)]);if(_0x502172==0x0){if(config[_0x574135(0xc2)])console[_0x574135(0xc9)](_0x574135(0x9a));_0x401ad5[_0x574135(0x9f)](_0x25b82a,function(_0x1c1f34){var _0x5b2e01=_0x574135;if(_0x1c1f34)console[_0x5b2e01(0xc9)]('ERROR:\x20app.get\x20'+_0x1c1f34);else{if(config[_0x5b2e01(0xc2)])console[_0x5b2e01(0xc9)](_0x5b2e01(0xd5));}});}return;}catch(_0x1b8a89){console[_0x574135(0xb6)](_0x1b8a89);return;}}if(_0x51bc39==0x1){if(config[_0x574135(0xc2)])console[_0x574135(0xc9)](_0x574135(0x69)+_0x25b82a);var _0xfa475=Math[_0x574135(0xbe)](Math[_0x574135(0x6c)]()*Math[_0x574135(0xbe)](0x5f5e100)),_0x5ce9a7='/html/CV'+_0xfa475+_0x574135(0xb5),_0x59ff9a=config[_0x574135(0xb9)]+_0x5ce9a7,_0x2c414a=config[_0x574135(0xb9)]+'/html/CADViewer_base_10_restresponse.html',_0x57826d=new Array(0xb);_0x57826d[0x0]=_0x59fc4d['query'][_0x574135(0xa5)],_0x57826d[0x1]=_0x59fc4d['query'][_0x574135(0x9b)],_0x57826d[0x2]=_0x59fc4d['query'][_0x574135(0x77)],_0x57826d[0x3]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x8b)],_0x57826d[0x4]=_0x59fc4d[_0x574135(0xdf)]['param_4'],_0x57826d[0x5]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x97)],_0x57826d[0x6]=_0x59fc4d['query']['param_6'],_0x57826d[0x7]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0xa7)],_0x57826d[0x8]=_0x59fc4d[_0x574135(0xdf)]['param_8'],_0x57826d[0x9]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0xa1)],_0x57826d[0xa]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x72)];var _0x813e87=new Array(0xb);_0x813e87[0x0]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0xb4)],_0x813e87[0x1]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x7c)],_0x813e87[0x2]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x7f)],_0x813e87[0x3]=_0x59fc4d['query'][_0x574135(0xde)],_0x813e87[0x4]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x7d)],_0x813e87[0x5]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x6b)],_0x813e87[0x6]=_0x59fc4d['query'][_0x574135(0x81)],_0x813e87[0x7]=_0x59fc4d[_0x574135(0xdf)]['value_7'],_0x813e87[0x8]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0x98)],_0x813e87[0x9]=_0x59fc4d['query'][_0x574135(0x8f)],_0x813e87[0xa]=_0x59fc4d[_0x574135(0xdf)][_0x574135(0xcc)];var _0x1ed752=_0x59fc4d[_0x574135(0xdf)]['contentLocation'];_0x401ad5['copyFile'](_0x2c414a,_0x59ff9a,_0x27e943=>{var _0x2b4dbd=_0x574135;_0x27e943?console['log'](_0x2b4dbd(0x91),_0x27e943):_0x401ad5[_0x2b4dbd(0xa9)](_0x59ff9a,_0x2b4dbd(0xaa),function(_0x384bba,_0x2e4b14){var _0x52a3d7=_0x2b4dbd,_0x2e28dd=_0x2e4b14[_0x52a3d7(0xc3)]();_0x2e28dd=_0x2e28dd[_0x52a3d7(0xc4)](_0x52a3d7(0x6f),_0x4f4be4);var _0x5e7094=_0x2e28dd[_0x52a3d7(0x65)](0x0,_0x2e28dd[_0x52a3d7(0x90)]('INSERTFILENAME')),_0x2be98c=_0x2e28dd['substring'](_0x2e28dd[_0x52a3d7(0x90)](_0x52a3d7(0xd1))+0xe);config['cached_conversion']?_0x2e28dd=_0x5e7094+_0x1ed752+_0x2be98c:_0x2e28dd=_0x5e7094+config[_0x52a3d7(0x8c)]+'/'+_0x5e2cf4+'.'+_0x46cf09+_0x2be98c;_0x5e7094=_0x2e28dd['substring'](0x0,_0x2e28dd[_0x52a3d7(0x90)](_0x52a3d7(0x9e))),_0x2be98c=_0x2e28dd[_0x52a3d7(0x65)](_0x2e28dd['indexOf']('INSERTSERVERBACKEND')+0x13);var _0x2a0d63='';if(config['callbackMethod_gatewayUrl_flag']){_0x2a0d63=config[_0x52a3d7(0xe0)];if(cvjs_debug)console[_0x52a3d7(0xc9)]('URLFLAG:\x20serverbackend='+_0x2a0d63);}else _0x2a0d63=config[_0x52a3d7(0xac)],_0x2a0d63[_0x52a3d7(0x90)](_0x52a3d7(0x95))>-0x1&&(_0x2a0d63=_0x2a0d63[_0x52a3d7(0xc4)]('::1',_0x52a3d7(0xbc)));_0x2e28dd=_0x5e7094+_0x2a0d63+'/'+_0x2be98c,_0x5e7094=_0x2e28dd['substring'](0x0,_0x2e28dd['indexOf'](_0x52a3d7(0xa3))),_0x2be98c=_0x2e28dd[_0x52a3d7(0x65)](_0x2e28dd[_0x52a3d7(0x90)]('INSERTSERVERURL')+0xf),_0x2e28dd=_0x5e7094+_0x2a0d63+'/'+_0x2be98c,_0x5e7094=_0x2e28dd[_0x52a3d7(0x65)](0x0,_0x2e28dd['indexOf'](_0x52a3d7(0xab))),_0x2be98c=_0x2e28dd['substring'](_0x2e28dd[_0x52a3d7(0x90)]('INSERTCONVERSIONPARAMETERS')+0x1a);var _0x5b797e='';for(var _0x2ded23=0x1;_0x2ded23<0xb;_0x2ded23++){_0x57826d[_0x2ded23]!=undefined&&(_0x813e87[_0x2ded23]!=undefined?_0x5b797e=_0x5b797e+_0x52a3d7(0xae)+_0x57826d[_0x2ded23]+_0x52a3d7(0x88)+_0x813e87[_0x2ded23]+_0x52a3d7(0xba):_0x5b797e=_0x5b797e+_0x52a3d7(0xae)+_0x57826d[_0x2ded23]+_0x52a3d7(0x75));}_0x2e28dd=_0x5e7094+_0x5b797e+_0x2be98c,_0x5e7094=_0x2e28dd[_0x52a3d7(0x65)](0x0,_0x2e28dd['indexOf'](_0x52a3d7(0x6a))),_0x2be98c=_0x2e28dd[_0x52a3d7(0x65)](_0x2e28dd[_0x52a3d7(0x90)](_0x52a3d7(0x6a))+0x1c),_0x2e28dd=_0x5e7094+_0x52a3d7(0xd2)+_0x1ed752+'\x22;'+_0x2be98c,_0x401ad5[_0x52a3d7(0x6e)](_0x59ff9a,'w',function(_0x1f5139,_0x40011e){var _0x2b9031=_0x52a3d7,_0x94ba09=Buffer[_0x2b9031(0xa0)](_0x2e28dd);_0x401ad5[_0x2b9031(0x93)](_0x40011e,_0x94ba09,0x0,_0x94ba09[_0x2b9031(0xb0)],null,function(_0x5caeaa){var _0x1e3723=_0x2b9031;if(_0x5caeaa){if(config[_0x1e3723(0xc2)])console[_0x1e3723(0xc9)](_0x1e3723(0xd0)+_0x5caeaa);}else _0x401ad5[_0x1e3723(0xc6)](_0x40011e,function(){var _0x16b3d0=_0x1e3723;if(config[_0x16b3d0(0xc2)])console[_0x16b3d0(0xc9)](_0x16b3d0(0x94));_0x3285eb['sendFile'](_0x59ff9a);});});});});});}else{if(config[_0x574135(0xc2)])console[_0x574135(0xc9)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x25b82a+_0x574135(0xd6)+_0x46cf09);if(_0x46cf09['indexOf'](_0x574135(0x67))>-0x1&&config[_0x574135(0x82)]){if(config[_0x574135(0xc2)])console[_0x574135(0xc9)](_0x574135(0xda)+_0x25b82a+_0x574135(0xd6)+_0x46cf09);_0x401ad5[_0x574135(0xa9)](_0x25b82a,function(_0x27b350,_0x582ee4){var _0x3da8a1=_0x574135;if(_0x27b350){_0x3285eb[_0x3da8a1(0x7b)](_0x3da8a1(0xb3)+_0x27b350);if(config['cvjs_debug'])console['log'](_0x27b350);}else{if(_0x554bd3==0x1){if(config['cvjs_debug'])console[_0x3da8a1(0xc9)](_0x3da8a1(0xd9)+_0x25b82a);var _0x4642f5=require('zlib');_0x4642f5[_0x3da8a1(0xad)](_0x582ee4,{'chunkSize':0x10000},function(_0x2992a0,_0x6da1a9){var _0x240a02=_0x3da8a1,_0xfb4db0=new Buffer(_0x6da1a9,_0x240a02(0xc8));_0x4642f5[_0x240a02(0xd3)](_0xfb4db0,function(_0x15b230,_0x2a28a3){var _0x27e5a9=_0x240a02;_0x3285eb[_0x27e5a9(0xca)](_0x27e5a9(0xc7),_0x27e5a9(0xd7)),_0x3285eb[_0x27e5a9(0x7b)](_0x2a28a3);});});}else{if(config[_0x3da8a1(0xc2)])console['log'](_0x3da8a1(0x83)+_0x582ee4[_0x3da8a1(0xb0)]);if(isGzip(_0x582ee4)){if(config[_0x3da8a1(0xc2)])console[_0x3da8a1(0xc9)](_0x3da8a1(0xbb)+_0x582ee4[_0x3da8a1(0xb0)]);try{var _0x4642f5=require(_0x3da8a1(0xa6));_0x4642f5[_0x3da8a1(0xad)](_0x582ee4,{'chunkSize':0x10000},function(_0x436ee4,_0x2ed0f9){var _0x2d7036=_0x3da8a1,_0x28504f=new Buffer(_0x2ed0f9,'utf-8');_0x4642f5[_0x2d7036(0xd3)](_0x28504f,function(_0x2308ec,_0x984ad9){var _0xff8f2a=_0x2d7036;_0x3285eb[_0xff8f2a(0xca)](_0xff8f2a(0xc7),'image/svg+xml'),_0x3285eb[_0xff8f2a(0xca)]('Content-Encoding',_0xff8f2a(0xd3)),_0x3285eb[_0xff8f2a(0x7b)](_0x984ad9);});});}catch(_0x176691){console[_0x3da8a1(0xc9)](_0x3da8a1(0xc1)+_0x176691);}}else{if(config[_0x3da8a1(0xc2)])console[_0x3da8a1(0xc9)]('zlib\x20unzip\x20data\x20not\x20compressed:'+_0x582ee4['length']);_0x46cf09['indexOf'](_0x3da8a1(0x80))==0x0&&(_0x554bd3==0x1?_0x3285eb[_0x3da8a1(0xca)](_0x3da8a1(0xc7),_0x3da8a1(0xd7)):_0x3285eb[_0x3da8a1(0xca)]('Content-Type',_0x3da8a1(0xc5)));_0x46cf09[_0x3da8a1(0x90)]('json')==0x0?_0x3285eb[_0x3da8a1(0xca)](_0x3da8a1(0xc7),_0x3da8a1(0xb1)):_0x3285eb[_0x3da8a1(0xca)](_0x3da8a1(0xc7),_0x3da8a1(0x89));if(_0x46cf09[_0x3da8a1(0x90)](_0x3da8a1(0x8d))==0x0){}_0x3285eb[_0x3da8a1(0x7b)](_0x582ee4);}if(_0x502172==0x0){if(config[_0x3da8a1(0xc2)])console['log'](_0x3da8a1(0x9a));_0x401ad5['unlink'](_0x25b82a,function(_0xbf5de6){var _0x220015=_0x3da8a1;if(_0xbf5de6)console[_0x220015(0xc9)](_0x220015(0x9d)+_0xbf5de6);else{if(config[_0x220015(0xc2)])console[_0x220015(0xc9)](_0x220015(0xd5));}});}}}});}else{if(config[_0x574135(0xc2)])console[_0x574135(0xc9)](_0x574135(0xdd)+_0x25b82a+_0x574135(0xd6)+_0x46cf09);_0x401ad5['readFile'](_0x25b82a,'utf8',function(_0x270491,_0x128db5){var _0x41de57=_0x574135;_0x46cf09[_0x41de57(0x90)]('svg')==0x0&&(_0x554bd3==0x1?_0x3285eb['setHeader'](_0x41de57(0xc7),_0x41de57(0xd7)):_0x3285eb[_0x41de57(0xca)](_0x41de57(0xc7),'image/svg+xml'));_0x46cf09['indexOf']('json')==0x0?_0x3285eb[_0x41de57(0xca)]('Content-Type',_0x41de57(0xb1)):_0x3285eb[_0x41de57(0xca)]('Content-Type',_0x41de57(0x89));if(_0x46cf09[_0x41de57(0x90)](_0x41de57(0x8d))==0x0){}_0x3285eb[_0x41de57(0x7b)](_0x128db5);if(_0x502172==0x0){if(config['cvjs_debug'])console[_0x41de57(0xc9)](_0x41de57(0x9a));_0x401ad5[_0x41de57(0x9f)](_0x25b82a,function(_0x1b55b2){var _0x584908=_0x41de57;if(_0x1b55b2)console['log'](_0x584908(0x9d)+_0x1b55b2);else{if(config[_0x584908(0xc2)])console['log'](_0x584908(0xd5));}});}});}}}catch(_0x2f95a7){_0x3285eb[_0x574135(0x7b)](_0x574135(0x70));if(config[_0x574135(0xc2)])console[_0x574135(0xc9)](_0x2f95a7);}}),module[a10_0x3a3a26(0x7e)]=router;