var a10_0x354075=a10_0x374e;function a10_0x3716(){var _0x4f4ec1=['/loadfile:\x20','error\x20-\x20get\x20/app/*\x20','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','gunzip','param_1','write','2081885Pxbgxv','random','json','param_9','image/jpeg','Content-Encoding','fileLocation','query','value_8','express','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','INSERTSERVERBACKEND','/loadfile:\x20D\x20svgz\x20compression:','cvjs_conversion_addAXconversionParameter(\x22','370391xBmOKg','param_0','zlib\x20unzip\x20inputFile=','value_10','zlib\x20error:','param_10','gzip','zlib','replace','cvjs_debug','first\x20in\x20/getcadviewercontent','length','floor','Content-Security-Policy-Report-Only','1247703hppfxM','4ROerXV','cvjs_svgz_compress','substring','svg','Content-Type','Error\x20Found:','../CADViewer_config.json','randomBytes','param_7','send','base64','readFile','File\x20deleted!','\x22,\x22\x22);\x0a','INSERTFILENAME','error\x20-\x20getCADViewerContent','\x22);\x0a','CURRETNLOADEDDRAWINGFULLNAME','INSERTCONVERSIONPARAMETERS','sendFile','indexOf','ServerLocation','291068KaMPUY','ERROR:\x20app.get\x20','4110OTTONj','INSERTNONCE','readFileSync','Access-Control-Allow-Origin\x20:\x20*','pickOriginalFile','\x20pickOriginalFile=','Access-Control-Allow-Origin\x20:','Router','/html/CADViewer_base_10_restresponse.html','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','toString','zlib\x20unzip\x20data\x20already\x20compressed:','application/json','unlink','51489pJDeMW','680Oocnki','ServerFrontEndUrlAsAllowedOriginOnly','param_4','Access-Control-Allow-Credentials','param_2','/html/CV','zlib\x20unzip\x20data:','currentLoadedDrawingFullName=\x22','from','/getcadviewercontent','3sDqnkY','value_1','20581AAXTLR','process','error','get','image/svg+xml','INSERTSERVERURL','contentLocation','crypto','utf8','copyFile','pickOriginalFile\x20return\x20length=','open','fileLocationUrl','\x20fileType=','ServerFrontEndUrl','ContentSecurityPolicy','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','Access-Control-Allow-Methods','fileTag','log','setHeader','param_5','2318418SswIAy','Access-Control-Allow-Origin','Type','\x20TYPE=','\x20Remain\x20on\x20Server:\x20\x20','utf-8','file\x20written','ServerUrl','application/octet-stream','svgz','value_7','is-gzip','Content-Security-Policy'];a10_0x3716=function(){return _0x4f4ec1;};return a10_0x3716();}(function(_0x1184ea,_0x4f53a3){var _0x130a70=a10_0x374e,_0x236f95=_0x1184ea();while(!![]){try{var _0x22b364=parseInt(_0x130a70(0x134))/0x1*(parseInt(_0x130a70(0x192))/0x2)+-parseInt(_0x130a70(0x17b))/0x3*(parseInt(_0x130a70(0x17c))/0x4)+parseInt(_0x130a70(0x15f))/0x5+-parseInt(_0x130a70(0x14c))/0x6+-parseInt(_0x130a70(0x16d))/0x7+-parseInt(_0x130a70(0x1a3))/0x8*(parseInt(_0x130a70(0x1a2))/0x9)+parseInt(_0x130a70(0x194))/0xa*(parseInt(_0x130a70(0x136))/0xb);if(_0x22b364===_0x4f53a3)break;else _0x236f95['push'](_0x236f95['shift']());}catch(_0x16cd76){_0x236f95['push'](_0x236f95['shift']());}}}(a10_0x3716,0x4478a));const {exit}=require(a10_0x354075(0x137)),{getEnabledCategories}=require('trace_events');var config=require(a10_0x354075(0x182)),cvjs_debug=config['cvjs_debug'],express=require(a10_0x354075(0x168)),router=express[a10_0x354075(0x19b)](),crypto=require(a10_0x354075(0x13d));function a10_0x374e(_0x28b8e3,_0x575ecb){var _0x3716f0=a10_0x3716();return a10_0x374e=function(_0x374e68,_0x1ec305){_0x374e68=_0x374e68-0x130;var _0x5e6e9a=_0x3716f0[_0x374e68];return _0x5e6e9a;},a10_0x374e(_0x28b8e3,_0x575ecb);}const isGzip=require(a10_0x354075(0x157));router[a10_0x354075(0x139)](a10_0x354075(0x133),function(_0x184219,_0x5bdb86){var _0x2e88fa=a10_0x354075;if(config[_0x2e88fa(0x1a4)]==!![]){_0x5bdb86[_0x2e88fa(0x14a)]('Access-Control-Allow-Origin',config[_0x2e88fa(0x144)]);if(cvjs_debug)console[_0x2e88fa(0x149)](_0x2e88fa(0x19a)+config[_0x2e88fa(0x144)]);}else{_0x5bdb86['setHeader'](_0x2e88fa(0x14d),'*');if(cvjs_debug)console[_0x2e88fa(0x149)](_0x2e88fa(0x197));}_0x5bdb86[_0x2e88fa(0x14a)](_0x2e88fa(0x147),_0x2e88fa(0x15b)),_0x5bdb86[_0x2e88fa(0x14a)]('Access-Control-Allow-Headers','X-Requested-With,content-type'),_0x5bdb86[_0x2e88fa(0x14a)](_0x2e88fa(0x1a6),!![]);var _0x1c37a4=crypto[_0x2e88fa(0x183)](0x10)['toString'](_0x2e88fa(0x186)),_0x18c2d6=config[_0x2e88fa(0x145)];_0x18c2d6=_0x18c2d6[_0x2e88fa(0x175)](_0x2e88fa(0x195),_0x1c37a4);if(config['ContentSecurityPolicyReportOnly'])_0x5bdb86[_0x2e88fa(0x14a)](_0x2e88fa(0x17a),_0x18c2d6);else _0x5bdb86[_0x2e88fa(0x14a)](_0x2e88fa(0x158),_0x18c2d6);if(config['cvjs_debug'])console[_0x2e88fa(0x149)](_0x2e88fa(0x177));try{var _0x13aa80=_0x184219[_0x2e88fa(0x166)]['remainOnServer'],_0x5564cf=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x148)],_0x52e395=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x14e)],_0xccc367=_0x184219[_0x2e88fa(0x166)]['returnCadviewer'],_0x5e0612=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x198)],_0x125d51=config[_0x2e88fa(0x165)]+_0x5564cf+'.'+_0x52e395;if(config[_0x2e88fa(0x176)])console[_0x2e88fa(0x149)](_0x2e88fa(0x159)+_0x125d51+_0x2e88fa(0x150)+_0x13aa80+_0x2e88fa(0x143)+_0x52e395+'\x20returnCadviewer='+_0xccc367+_0x2e88fa(0x199)+_0x5e0612);var _0x239e07=require('fs');if(_0x5e0612==0x1){if(config[_0x2e88fa(0x176)])console[_0x2e88fa(0x149)]('/loadfile:\x20\x20A\x20pickOriginalFile:'+_0x5e0612+'\x20inputFile='+_0x125d51);try{const _0x4c6d30=_0x239e07[_0x2e88fa(0x196)](_0x125d51);_0x5bdb86[_0x2e88fa(0x14a)](_0x2e88fa(0x180),_0x2e88fa(0x154)),_0x5bdb86['send'](_0x4c6d30),console[_0x2e88fa(0x149)](_0x2e88fa(0x140)+_0x4c6d30[_0x2e88fa(0x178)]);if(_0x13aa80==0x0){if(config[_0x2e88fa(0x176)])console[_0x2e88fa(0x149)](_0x2e88fa(0x19d));_0x239e07[_0x2e88fa(0x1a1)](_0x125d51,function(_0x29d608){var _0x311e63=_0x2e88fa;if(_0x29d608)console['log'](_0x311e63(0x193)+_0x29d608);else{if(config[_0x311e63(0x176)])console[_0x311e63(0x149)]('File\x20deleted!');}});}return;}catch(_0x539d4b){console[_0x2e88fa(0x138)](_0x539d4b);return;}}if(_0xccc367==0x1){if(config[_0x2e88fa(0x176)])console[_0x2e88fa(0x149)](_0x2e88fa(0x146)+_0x125d51);var _0x4680f6=Math[_0x2e88fa(0x179)](Math[_0x2e88fa(0x160)]()*Math[_0x2e88fa(0x179)](0x5f5e100)),_0x1929f6=_0x2e88fa(0x1a8)+_0x4680f6+'.html',_0x52754c=config['ServerLocation']+_0x1929f6,_0x13b533=config[_0x2e88fa(0x191)]+_0x2e88fa(0x19c),_0x56478a=new Array(0xb);_0x56478a[0x0]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x16e)],_0x56478a[0x1]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x15d)],_0x56478a[0x2]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x1a7)],_0x56478a[0x3]=_0x184219[_0x2e88fa(0x166)]['param_3'],_0x56478a[0x4]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x1a5)],_0x56478a[0x5]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x14b)],_0x56478a[0x6]=_0x184219[_0x2e88fa(0x166)]['param_6'],_0x56478a[0x7]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x184)],_0x56478a[0x8]=_0x184219[_0x2e88fa(0x166)]['param_8'],_0x56478a[0x9]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x162)],_0x56478a[0xa]=_0x184219['query'][_0x2e88fa(0x172)];var _0x2d008e=new Array(0xb);_0x2d008e[0x0]=_0x184219[_0x2e88fa(0x166)]['value_0'],_0x2d008e[0x1]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x135)],_0x2d008e[0x2]=_0x184219[_0x2e88fa(0x166)]['value_2'],_0x2d008e[0x3]=_0x184219[_0x2e88fa(0x166)]['value_3'],_0x2d008e[0x4]=_0x184219['query']['value_4'],_0x2d008e[0x5]=_0x184219[_0x2e88fa(0x166)]['value_5'],_0x2d008e[0x6]=_0x184219[_0x2e88fa(0x166)]['value_6'],_0x2d008e[0x7]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x156)],_0x2d008e[0x8]=_0x184219['query'][_0x2e88fa(0x167)],_0x2d008e[0x9]=_0x184219['query']['value_9'],_0x2d008e[0xa]=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x170)];var _0x9ddf2e=_0x184219[_0x2e88fa(0x166)][_0x2e88fa(0x13c)];_0x239e07[_0x2e88fa(0x13f)](_0x13b533,_0x52754c,_0x7f1523=>{var _0x5bd4ce=_0x2e88fa;_0x7f1523?console[_0x5bd4ce(0x149)](_0x5bd4ce(0x181),_0x7f1523):_0x239e07[_0x5bd4ce(0x187)](_0x52754c,_0x5bd4ce(0x13e),function(_0x21e3c5,_0x497c42){var _0x1439fa=_0x5bd4ce,_0x77106b=_0x497c42[_0x1439fa(0x19e)]();_0x77106b=_0x77106b[_0x1439fa(0x175)]('INSERTNONCE',_0x1c37a4);var _0x339413=_0x77106b[_0x1439fa(0x17e)](0x0,_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x18a))),_0x49b140=_0x77106b[_0x1439fa(0x17e)](_0x77106b[_0x1439fa(0x190)]('INSERTFILENAME')+0xe);_0x77106b=_0x339413+config[_0x1439fa(0x142)]+'/'+_0x5564cf+'.'+_0x52e395+_0x49b140,_0x339413=_0x77106b[_0x1439fa(0x17e)](0x0,_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x16a))),_0x49b140=_0x77106b[_0x1439fa(0x17e)](_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x16a))+0x13),_0x77106b=_0x339413+config[_0x1439fa(0x153)]+'/'+_0x49b140,_0x339413=_0x77106b[_0x1439fa(0x17e)](0x0,_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x13b))),_0x49b140=_0x77106b[_0x1439fa(0x17e)](_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x13b))+0xf),_0x77106b=_0x339413+config[_0x1439fa(0x153)]+'/'+_0x49b140,_0x339413=_0x77106b['substring'](0x0,_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x18e))),_0x49b140=_0x77106b[_0x1439fa(0x17e)](_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x18e))+0x1a);var _0x34833d='';for(var _0x3e7178=0x1;_0x3e7178<0xb;_0x3e7178++){_0x56478a[_0x3e7178]!=undefined&&(_0x2d008e[_0x3e7178]!=undefined?_0x34833d=_0x34833d+_0x1439fa(0x16c)+_0x56478a[_0x3e7178]+'\x22,\x22'+_0x2d008e[_0x3e7178]+_0x1439fa(0x18c):_0x34833d=_0x34833d+'cvjs_conversion_addAXconversionParameter(\x22'+_0x56478a[_0x3e7178]+_0x1439fa(0x189));}_0x77106b=_0x339413+_0x34833d+_0x49b140,_0x339413=_0x77106b[_0x1439fa(0x17e)](0x0,_0x77106b['indexOf'](_0x1439fa(0x18d))),_0x49b140=_0x77106b['substring'](_0x77106b[_0x1439fa(0x190)](_0x1439fa(0x18d))+0x1c),_0x77106b=_0x339413+_0x1439fa(0x131)+_0x9ddf2e+'\x22;'+_0x49b140,_0x239e07[_0x1439fa(0x141)](_0x52754c,'w',function(_0xd9f5e5,_0x2741f8){var _0x25dac2=_0x1439fa,_0x156aa0=Buffer[_0x25dac2(0x132)](_0x77106b);_0x239e07[_0x25dac2(0x15e)](_0x2741f8,_0x156aa0,0x0,_0x156aa0[_0x25dac2(0x178)],null,function(_0x557b0e){var _0x16030d=_0x25dac2;if(_0x557b0e){if(config[_0x16030d(0x176)])console[_0x16030d(0x149)]('error\x20savefile:\x20'+_0x557b0e);}else _0x239e07['close'](_0x2741f8,function(){var _0x5ab361=_0x16030d;if(config[_0x5ab361(0x176)])console[_0x5ab361(0x149)](_0x5ab361(0x152));_0x5bdb86[_0x5ab361(0x18f)](_0x52754c);});});});});});}else{if(config[_0x2e88fa(0x176)])console['log'](_0x2e88fa(0x169)+_0x125d51+_0x2e88fa(0x14f)+_0x52e395);if(_0x52e395[_0x2e88fa(0x190)](_0x2e88fa(0x155))>-0x1&&config[_0x2e88fa(0x17d)]){if(config[_0x2e88fa(0x176)])console[_0x2e88fa(0x149)](_0x2e88fa(0x16b)+_0x125d51+_0x2e88fa(0x14f)+_0x52e395);_0x239e07[_0x2e88fa(0x187)](_0x125d51,function(_0x497133,_0x49c4d8){var _0x802a62=_0x2e88fa;if(_0x497133){_0x5bdb86[_0x802a62(0x185)](_0x802a62(0x15a)+_0x497133);if(config['cvjs_debug'])console['log'](_0x497133);}else{if(_0x5e0612==0x1){if(config['cvjs_debug'])console['log'](_0x802a62(0x16f)+_0x125d51);var _0x5a15c1=require(_0x802a62(0x174));_0x5a15c1[_0x802a62(0x15c)](_0x49c4d8,{'chunkSize':0x10000},function(_0x27a99c,_0x977811){var _0x291342=_0x802a62,_0x2cfa4f=new Buffer(_0x977811,'utf-8');_0x5a15c1[_0x291342(0x173)](_0x2cfa4f,function(_0x289831,_0x409408){var _0x5ec178=_0x291342;_0x5bdb86[_0x5ec178(0x14a)]('Content-Type',_0x5ec178(0x163)),_0x5bdb86[_0x5ec178(0x185)](_0x409408);});});}else{if(config[_0x802a62(0x176)])console[_0x802a62(0x149)](_0x802a62(0x130)+_0x49c4d8[_0x802a62(0x178)]);if(isGzip(_0x49c4d8)){if(config[_0x802a62(0x176)])console[_0x802a62(0x149)](_0x802a62(0x19f)+_0x49c4d8[_0x802a62(0x178)]);try{var _0x5a15c1=require(_0x802a62(0x174));_0x5a15c1['gunzip'](_0x49c4d8,{'chunkSize':0x10000},function(_0x41f2d0,_0x1dc07c){var _0x13e00d=_0x802a62,_0x20e612=new Buffer(_0x1dc07c,_0x13e00d(0x151));_0x5a15c1[_0x13e00d(0x173)](_0x20e612,function(_0x5a9f43,_0x3e381f){var _0x442412=_0x13e00d;_0x5bdb86[_0x442412(0x14a)](_0x442412(0x180),_0x442412(0x13a)),_0x5bdb86[_0x442412(0x14a)](_0x442412(0x164),_0x442412(0x173)),_0x5bdb86['send'](_0x3e381f);});});}catch(_0x83b87){console[_0x802a62(0x149)](_0x802a62(0x171)+_0x83b87);}}else{if(config[_0x802a62(0x176)])console[_0x802a62(0x149)]('zlib\x20unzip\x20data\x20not\x20compressed:'+_0x49c4d8[_0x802a62(0x178)]);_0x52e395[_0x802a62(0x190)](_0x802a62(0x17f))==0x0&&(_0x5e0612==0x1?_0x5bdb86[_0x802a62(0x14a)](_0x802a62(0x180),_0x802a62(0x163)):_0x5bdb86[_0x802a62(0x14a)](_0x802a62(0x180),_0x802a62(0x13a)));_0x52e395[_0x802a62(0x190)]('json')==0x0?_0x5bdb86[_0x802a62(0x14a)](_0x802a62(0x180),_0x802a62(0x1a0)):_0x5bdb86['setHeader'](_0x802a62(0x180),'application/octet-stream');if(_0x52e395['indexOf']('json')==0x0){}_0x5bdb86['send'](_0x49c4d8);}if(_0x13aa80==0x0){if(config['cvjs_debug'])console[_0x802a62(0x149)](_0x802a62(0x19d));_0x239e07[_0x802a62(0x1a1)](_0x125d51,function(_0x45f896){var _0x38a99c=_0x802a62;if(_0x45f896)console['log'](_0x38a99c(0x193)+_0x45f896);else{if(config[_0x38a99c(0x176)])console[_0x38a99c(0x149)](_0x38a99c(0x188));}});}}}});}else{if(config[_0x2e88fa(0x176)])console[_0x2e88fa(0x149)]('/loadfile:\x20D\x20plain\x20svg:'+_0x125d51+_0x2e88fa(0x14f)+_0x52e395);_0x239e07[_0x2e88fa(0x187)](_0x125d51,_0x2e88fa(0x13e),function(_0x4d47c6,_0x4e14db){var _0x3e8bfd=_0x2e88fa;_0x52e395[_0x3e8bfd(0x190)](_0x3e8bfd(0x17f))==0x0&&(_0x5e0612==0x1?_0x5bdb86[_0x3e8bfd(0x14a)]('Content-Type','image/jpeg'):_0x5bdb86[_0x3e8bfd(0x14a)](_0x3e8bfd(0x180),'image/svg+xml'));_0x52e395[_0x3e8bfd(0x190)](_0x3e8bfd(0x161))==0x0?_0x5bdb86[_0x3e8bfd(0x14a)](_0x3e8bfd(0x180),'application/json'):_0x5bdb86[_0x3e8bfd(0x14a)](_0x3e8bfd(0x180),_0x3e8bfd(0x154));if(_0x52e395[_0x3e8bfd(0x190)](_0x3e8bfd(0x161))==0x0){}_0x5bdb86['send'](_0x4e14db);if(_0x13aa80==0x0){if(config[_0x3e8bfd(0x176)])console['log'](_0x3e8bfd(0x19d));_0x239e07[_0x3e8bfd(0x1a1)](_0x125d51,function(_0x168a4a){var _0x29b775=_0x3e8bfd;if(_0x168a4a)console[_0x29b775(0x149)](_0x29b775(0x193)+_0x168a4a);else{if(config[_0x29b775(0x176)])console['log'](_0x29b775(0x188));}});}});}}}catch(_0x474d44){_0x5bdb86['send'](_0x2e88fa(0x18b));if(config[_0x2e88fa(0x176)])console['log'](_0x474d44);}}),module['exports']=router;