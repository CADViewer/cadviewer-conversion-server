var a10_0x5ba6a0=a10_0x59f5;(function(_0x439f21,_0x2f4b4e){var _0x1ab227=a10_0x59f5,_0xe5c736=_0x439f21();while(!![]){try{var _0x2503e6=-parseInt(_0x1ab227(0xd0))/0x1*(-parseInt(_0x1ab227(0x11e))/0x2)+parseInt(_0x1ab227(0xca))/0x3*(-parseInt(_0x1ab227(0xfe))/0x4)+parseInt(_0x1ab227(0xbf))/0x5+-parseInt(_0x1ab227(0xd7))/0x6*(parseInt(_0x1ab227(0xb6))/0x7)+parseInt(_0x1ab227(0xaa))/0x8*(parseInt(_0x1ab227(0xfc))/0x9)+-parseInt(_0x1ab227(0x11d))/0xa*(parseInt(_0x1ab227(0xb2))/0xb)+-parseInt(_0x1ab227(0xae))/0xc*(-parseInt(_0x1ab227(0xfa))/0xd);if(_0x2503e6===_0x2f4b4e)break;else _0xe5c736['push'](_0xe5c736['shift']());}catch(_0x2fad57){_0xe5c736['push'](_0xe5c736['shift']());}}}(a10_0x2b17,0x5dffd));function a10_0x59f5(_0x8bc757,_0x9f9050){var _0x2b17e3=a10_0x2b17();return a10_0x59f5=function(_0x59f5ed,_0x23d181){_0x59f5ed=_0x59f5ed-0xaa;var _0x1b89c5=_0x2b17e3[_0x59f5ed];return _0x1b89c5;},a10_0x59f5(_0x8bc757,_0x9f9050);}const {exit}=require('process'),{getEnabledCategories}=require('trace_events');var config=require(a10_0x5ba6a0(0xdd)),cvjs_debug=config[a10_0x5ba6a0(0xb3)],express=require('express'),router=express['Router'](),crypto=require(a10_0x5ba6a0(0xcf));const isGzip=require('is-gzip');function a10_0x2b17(){var _0x3cad0d=['value_4','../CADViewer_config.json','error','.html','send','zlib\x20unzip\x20inputFile=','value_1','image/svg+xml','replace','Content-Encoding','Access-Control-Allow-Origin','currentLoadedDrawingFullName=\x22','zlib\x20unzip\x20data\x20not\x20compressed:','substring','\x22);\x0a','write','\x20inputFile=','param_5','fileLocationUrl','param_8','value_0','pickOriginalFile\x20return\x20length=','length','error\x20savefile:\x20','value_8','value_7','setHeader','ERROR:\x20app.get\x20','open','value_10','1886209moTaBL','value_6','9mXimOk','utf8','604784ViOblQ','Content-Type','/loadfile:\x20D\x20svgz\x20compression:','param_4','INSERTNONCE','utf-8','error\x20-\x20getCADViewerContent','\x20Remain\x20on\x20Server:\x20\x20','svgz','Content-Security-Policy-Report-Only','\x22,\x22\x22);\x0a','INSERTSERVERBACKEND','readFileSync','file\x20written','zlib','value_2','/loadfile:\x20\x20A\x20pickOriginalFile:','ServerUrl','ServerFrontEndUrl','/loadfile:\x20D\x20plain\x20svg:','sendFile','CURRETNLOADEDDRAWINGFULLNAME','application/octet-stream','/html/CV','\x20pickOriginalFile=','INSERTFILENAME','indexOf','copyFile','/loadfile:\x20','/getcadviewercontent','param_3','10LBHFsn','20euzjmL','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','log','\x20returnCadviewer=','gunzip','application/json','3135544TibRME','Access-Control-Allow-Credentials','\x20TYPE=','fileLocation','72jXGEwh','readFile','param_9','\x20fileType=','308847LKEZuP','cvjs_debug','floor','exports','276962NfRjaV','Access-Control-Allow-Methods','Type','value_3','json','gzip','param_7','INSERTCONVERSIONPARAMETERS','INSERTSERVERURL','219355GEtnsu','X-Requested-With,content-type','query','close','toString','cvjs_svgz_compress','contentLocation','zlib\x20unzip\x20data\x20already\x20compressed:','value_5','Content-Security-Policy','randomBytes','12GeArSv','get','ServerLocation','File\x20deleted!','\x22,\x22','crypto','30500ZrhQNR','svg','param_0','unlink','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','param_2','pickOriginalFile','90wBVoUL','param_10','Error\x20Found:','returnCadviewer','value_9'];a10_0x2b17=function(){return _0x3cad0d;};return a10_0x2b17();}router[a10_0x5ba6a0(0xcb)](a10_0x5ba6a0(0x11b),function(_0xe641c4,_0x44065e){var _0x553099=a10_0x5ba6a0;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x44065e['setHeader'](_0x553099(0xe6),config['ServerFrontEndUrl']);if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:'+config[_0x553099(0x110)]);}else{_0x44065e[_0x553099(0xf6)](_0x553099(0xe6),'*');if(cvjs_debug)console[_0x553099(0x120)]('Access-Control-Allow-Origin\x20:\x20*');}_0x44065e[_0x553099(0xf6)](_0x553099(0xb7),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x44065e[_0x553099(0xf6)]('Access-Control-Allow-Headers',_0x553099(0xc0)),_0x44065e[_0x553099(0xf6)](_0x553099(0xab),!![]);var _0x3dcf0f=crypto[_0x553099(0xc9)](0x10)[_0x553099(0xc3)]('base64'),_0x39f4cd=config['ContentSecurityPolicy'];_0x39f4cd=_0x39f4cd[_0x553099(0xe4)](_0x553099(0x102),_0x3dcf0f);if(config['ContentSecurityPolicyReportOnly'])_0x44065e[_0x553099(0xf6)](_0x553099(0x107),_0x39f4cd);else _0x44065e[_0x553099(0xf6)](_0x553099(0xc8),_0x39f4cd);if(config[_0x553099(0xb3)])console[_0x553099(0x120)]('first\x20in\x20/getcadviewercontent');try{var _0x273e9d=_0xe641c4[_0x553099(0xc1)]['remainOnServer'],_0x26a47c=_0xe641c4[_0x553099(0xc1)]['fileTag'],_0x2889dd=_0xe641c4[_0x553099(0xc1)][_0x553099(0xb8)],_0x2c74e7=_0xe641c4[_0x553099(0xc1)][_0x553099(0xda)],_0x32955a=_0xe641c4[_0x553099(0xc1)][_0x553099(0xd6)],_0xfaa861=config[_0x553099(0xad)]+_0x26a47c+'.'+_0x2889dd,_0x4f2802=_0xe641c4[_0x553099(0xc1)]['iscached'];if(config[_0x553099(0xb3)])console[_0x553099(0x120)](_0x553099(0x11a)+_0xfaa861+_0x553099(0x105)+_0x273e9d+_0x553099(0xb1)+_0x2889dd+_0x553099(0x121)+_0x2c74e7+_0x553099(0x116)+_0x32955a);var _0x1aaa41=require('fs');if(_0x32955a==0x1){if(config[_0x553099(0xb3)])console['log'](_0x553099(0x10e)+_0x32955a+_0x553099(0xec)+_0xfaa861);try{const _0x25c06f=_0x1aaa41[_0x553099(0x10a)](_0xfaa861);_0x44065e[_0x553099(0xf6)]('Content-Type',_0x553099(0x114)),_0x44065e['send'](_0x25c06f),console[_0x553099(0x120)](_0x553099(0xf1)+_0x25c06f[_0x553099(0xf2)]);if(_0x273e9d==0x0){if(config[_0x553099(0xb3)])console['log']('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x1aaa41[_0x553099(0xd3)](_0xfaa861,function(_0x12e580){var _0x56dacc=_0x553099;if(_0x12e580)console[_0x56dacc(0x120)]('ERROR:\x20app.get\x20'+_0x12e580);else{if(config[_0x56dacc(0xb3)])console[_0x56dacc(0x120)](_0x56dacc(0xcd));}});}return;}catch(_0x4f3ef9){console[_0x553099(0xde)](_0x4f3ef9);return;}}if(_0x2c74e7==0x1){if(config[_0x553099(0xb3)])console[_0x553099(0x120)](_0x553099(0xd4)+_0xfaa861);var _0x5394d9=Math[_0x553099(0xb4)](Math['random']()*Math[_0x553099(0xb4)](0x5f5e100)),_0xcd730a=_0x553099(0x115)+_0x5394d9+_0x553099(0xdf),_0x160a3d=config[_0x553099(0xcc)]+_0xcd730a,_0x384473=config[_0x553099(0xcc)]+'/html/CADViewer_base_10_restresponse.html',_0x310697=new Array(0xb);_0x310697[0x0]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xd2)],_0x310697[0x1]=_0xe641c4[_0x553099(0xc1)]['param_1'],_0x310697[0x2]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xd5)],_0x310697[0x3]=_0xe641c4['query'][_0x553099(0x11c)],_0x310697[0x4]=_0xe641c4[_0x553099(0xc1)][_0x553099(0x101)],_0x310697[0x5]=_0xe641c4['query'][_0x553099(0xed)],_0x310697[0x6]=_0xe641c4[_0x553099(0xc1)]['param_6'],_0x310697[0x7]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xbc)],_0x310697[0x8]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xef)],_0x310697[0x9]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xb0)],_0x310697[0xa]=_0xe641c4['query'][_0x553099(0xd8)];var _0x40337c=new Array(0xb);_0x40337c[0x0]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xf0)],_0x40337c[0x1]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xe2)],_0x40337c[0x2]=_0xe641c4[_0x553099(0xc1)][_0x553099(0x10d)],_0x40337c[0x3]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xb9)],_0x40337c[0x4]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xdc)],_0x40337c[0x5]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xc7)],_0x40337c[0x6]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xfb)],_0x40337c[0x7]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xf5)],_0x40337c[0x8]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xf4)],_0x40337c[0x9]=_0xe641c4[_0x553099(0xc1)][_0x553099(0xdb)],_0x40337c[0xa]=_0xe641c4['query'][_0x553099(0xf9)];var _0x1b33b8=_0xe641c4[_0x553099(0xc1)][_0x553099(0xc5)];_0x1aaa41[_0x553099(0x119)](_0x384473,_0x160a3d,_0x4ffb8c=>{var _0x24d321=_0x553099;_0x4ffb8c?console[_0x24d321(0x120)](_0x24d321(0xd9),_0x4ffb8c):_0x1aaa41['readFile'](_0x160a3d,_0x24d321(0xfd),function(_0xe656bd,_0x26b700){var _0x25f9fe=_0x24d321,_0x1d1f1d=_0x26b700['toString']();_0x1d1f1d=_0x1d1f1d['replace'](_0x25f9fe(0x102),_0x3dcf0f);var _0x30408e=_0x1d1f1d['substring'](0x0,_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0x117))),_0x1368c2=_0x1d1f1d[_0x25f9fe(0xe9)](_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0x117))+0xe);config['cached_conversion']?_0x1d1f1d=_0x30408e+_0x1b33b8+_0x1368c2:_0x1d1f1d=_0x30408e+config[_0x25f9fe(0xee)]+'/'+_0x26a47c+'.'+_0x2889dd+_0x1368c2;_0x30408e=_0x1d1f1d[_0x25f9fe(0xe9)](0x0,_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0x109))),_0x1368c2=_0x1d1f1d['substring'](_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0x109))+0x13),_0x1d1f1d=_0x30408e+config[_0x25f9fe(0x10f)]+'/'+_0x1368c2,_0x30408e=_0x1d1f1d[_0x25f9fe(0xe9)](0x0,_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0xbe))),_0x1368c2=_0x1d1f1d[_0x25f9fe(0xe9)](_0x1d1f1d[_0x25f9fe(0x118)]('INSERTSERVERURL')+0xf),_0x1d1f1d=_0x30408e+config[_0x25f9fe(0x10f)]+'/'+_0x1368c2,_0x30408e=_0x1d1f1d['substring'](0x0,_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0xbd))),_0x1368c2=_0x1d1f1d[_0x25f9fe(0xe9)](_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0xbd))+0x1a);var _0x2bdde2='';for(var _0x3304da=0x1;_0x3304da<0xb;_0x3304da++){_0x310697[_0x3304da]!=undefined&&(_0x40337c[_0x3304da]!=undefined?_0x2bdde2=_0x2bdde2+'cvjs_conversion_addAXconversionParameter(\x22'+_0x310697[_0x3304da]+_0x25f9fe(0xce)+_0x40337c[_0x3304da]+_0x25f9fe(0xea):_0x2bdde2=_0x2bdde2+'cvjs_conversion_addAXconversionParameter(\x22'+_0x310697[_0x3304da]+_0x25f9fe(0x108));}_0x1d1f1d=_0x30408e+_0x2bdde2+_0x1368c2,_0x30408e=_0x1d1f1d[_0x25f9fe(0xe9)](0x0,_0x1d1f1d['indexOf'](_0x25f9fe(0x113))),_0x1368c2=_0x1d1f1d['substring'](_0x1d1f1d[_0x25f9fe(0x118)](_0x25f9fe(0x113))+0x1c),_0x1d1f1d=_0x30408e+_0x25f9fe(0xe7)+_0x1b33b8+'\x22;'+_0x1368c2,_0x1aaa41[_0x25f9fe(0xf8)](_0x160a3d,'w',function(_0x2a1d8c,_0xe0d1a2){var _0x383858=_0x25f9fe,_0x4629ae=Buffer['from'](_0x1d1f1d);_0x1aaa41[_0x383858(0xeb)](_0xe0d1a2,_0x4629ae,0x0,_0x4629ae[_0x383858(0xf2)],null,function(_0x22dc48){var _0x565f0f=_0x383858;if(_0x22dc48){if(config[_0x565f0f(0xb3)])console[_0x565f0f(0x120)](_0x565f0f(0xf3)+_0x22dc48);}else _0x1aaa41[_0x565f0f(0xc2)](_0xe0d1a2,function(){var _0x2d1e5d=_0x565f0f;if(config['cvjs_debug'])console[_0x2d1e5d(0x120)](_0x2d1e5d(0x10b));_0x44065e[_0x2d1e5d(0x112)](_0x160a3d);});});});});});}else{if(config[_0x553099(0xb3)])console['log']('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0xfaa861+_0x553099(0xac)+_0x2889dd);if(_0x2889dd['indexOf'](_0x553099(0x106))>-0x1&&config[_0x553099(0xc4)]){if(config['cvjs_debug'])console[_0x553099(0x120)](_0x553099(0x100)+_0xfaa861+'\x20TYPE='+_0x2889dd);_0x1aaa41[_0x553099(0xaf)](_0xfaa861,function(_0x522f77,_0x247e8b){var _0x2c235f=_0x553099;if(_0x522f77){_0x44065e['send']('error\x20-\x20get\x20/app/*\x20'+_0x522f77);if(config['cvjs_debug'])console[_0x2c235f(0x120)](_0x522f77);}else{if(_0x32955a==0x1){if(config[_0x2c235f(0xb3)])console[_0x2c235f(0x120)](_0x2c235f(0xe1)+_0xfaa861);var _0x4da243=require('zlib');_0x4da243[_0x2c235f(0x122)](_0x247e8b,{'chunkSize':0x10000},function(_0x32030d,_0x54f414){var _0x3bbefc=_0x2c235f,_0x3d78e4=new Buffer(_0x54f414,_0x3bbefc(0x103));_0x4da243['gzip'](_0x3d78e4,function(_0x2666ed,_0x325e6b){var _0x50a3cb=_0x3bbefc;_0x44065e['setHeader'](_0x50a3cb(0xff),'image/jpeg'),_0x44065e['send'](_0x325e6b);});});}else{if(config['cvjs_debug'])console[_0x2c235f(0x120)]('zlib\x20unzip\x20data:'+_0x247e8b[_0x2c235f(0xf2)]);if(isGzip(_0x247e8b)){if(config[_0x2c235f(0xb3)])console[_0x2c235f(0x120)](_0x2c235f(0xc6)+_0x247e8b[_0x2c235f(0xf2)]);try{var _0x4da243=require(_0x2c235f(0x10c));_0x4da243[_0x2c235f(0x122)](_0x247e8b,{'chunkSize':0x10000},function(_0x2a5f08,_0x3c5757){var _0x2e78a0=_0x2c235f,_0x5e2f90=new Buffer(_0x3c5757,_0x2e78a0(0x103));_0x4da243[_0x2e78a0(0xbb)](_0x5e2f90,function(_0xdac35a,_0x322ce4){var _0x2bdc2b=_0x2e78a0;_0x44065e[_0x2bdc2b(0xf6)]('Content-Type',_0x2bdc2b(0xe3)),_0x44065e[_0x2bdc2b(0xf6)](_0x2bdc2b(0xe5),_0x2bdc2b(0xbb)),_0x44065e[_0x2bdc2b(0xe0)](_0x322ce4);});});}catch(_0x256475){console[_0x2c235f(0x120)]('zlib\x20error:'+_0x256475);}}else{if(config[_0x2c235f(0xb3)])console['log'](_0x2c235f(0xe8)+_0x247e8b[_0x2c235f(0xf2)]);_0x2889dd['indexOf']('svg')==0x0&&(_0x32955a==0x1?_0x44065e[_0x2c235f(0xf6)]('Content-Type','image/jpeg'):_0x44065e[_0x2c235f(0xf6)](_0x2c235f(0xff),_0x2c235f(0xe3)));_0x2889dd[_0x2c235f(0x118)](_0x2c235f(0xba))==0x0?_0x44065e['setHeader'](_0x2c235f(0xff),_0x2c235f(0x123)):_0x44065e[_0x2c235f(0xf6)](_0x2c235f(0xff),_0x2c235f(0x114));if(_0x2889dd['indexOf'](_0x2c235f(0xba))==0x0){}_0x44065e[_0x2c235f(0xe0)](_0x247e8b);}if(_0x273e9d==0x0){if(config[_0x2c235f(0xb3)])console[_0x2c235f(0x120)](_0x2c235f(0x11f));_0x1aaa41[_0x2c235f(0xd3)](_0xfaa861,function(_0x287edc){var _0x1379df=_0x2c235f;if(_0x287edc)console[_0x1379df(0x120)](_0x1379df(0xf7)+_0x287edc);else{if(config[_0x1379df(0xb3)])console[_0x1379df(0x120)](_0x1379df(0xcd));}});}}}});}else{if(config[_0x553099(0xb3)])console[_0x553099(0x120)](_0x553099(0x111)+_0xfaa861+_0x553099(0xac)+_0x2889dd);_0x1aaa41[_0x553099(0xaf)](_0xfaa861,_0x553099(0xfd),function(_0x168859,_0x215794){var _0x1fd0e0=_0x553099;_0x2889dd[_0x1fd0e0(0x118)](_0x1fd0e0(0xd1))==0x0&&(_0x32955a==0x1?_0x44065e[_0x1fd0e0(0xf6)](_0x1fd0e0(0xff),'image/jpeg'):_0x44065e[_0x1fd0e0(0xf6)](_0x1fd0e0(0xff),_0x1fd0e0(0xe3)));_0x2889dd[_0x1fd0e0(0x118)]('json')==0x0?_0x44065e[_0x1fd0e0(0xf6)](_0x1fd0e0(0xff),_0x1fd0e0(0x123)):_0x44065e['setHeader'](_0x1fd0e0(0xff),_0x1fd0e0(0x114));if(_0x2889dd[_0x1fd0e0(0x118)]('json')==0x0){}_0x44065e[_0x1fd0e0(0xe0)](_0x215794);if(_0x273e9d==0x0){if(config['cvjs_debug'])console[_0x1fd0e0(0x120)](_0x1fd0e0(0x11f));_0x1aaa41[_0x1fd0e0(0xd3)](_0xfaa861,function(_0x295b2e){var _0x3b2f86=_0x1fd0e0;if(_0x295b2e)console['log'](_0x3b2f86(0xf7)+_0x295b2e);else{if(config['cvjs_debug'])console[_0x3b2f86(0x120)](_0x3b2f86(0xcd));}});}});}}}catch(_0x4e1966){_0x44065e['send'](_0x553099(0x104));if(config[_0x553099(0xb3)])console['log'](_0x4e1966);}}),module[a10_0x5ba6a0(0xb5)]=router;