var a10_0x533f05=a10_0x26eb;(function(_0x45cf4b,_0x340d1f){var _0x3a477c=a10_0x26eb,_0x199e4c=_0x45cf4b();while(!![]){try{var _0x560655=parseInt(_0x3a477c(0xd5))/0x1*(-parseInt(_0x3a477c(0xf6))/0x2)+parseInt(_0x3a477c(0xb7))/0x3+-parseInt(_0x3a477c(0xda))/0x4*(parseInt(_0x3a477c(0xf1))/0x5)+-parseInt(_0x3a477c(0x8f))/0x6+parseInt(_0x3a477c(0xa5))/0x7+parseInt(_0x3a477c(0x99))/0x8*(parseInt(_0x3a477c(0xd0))/0x9)+parseInt(_0x3a477c(0xcf))/0xa;if(_0x560655===_0x340d1f)break;else _0x199e4c['push'](_0x199e4c['shift']());}catch(_0x45b843){_0x199e4c['push'](_0x199e4c['shift']());}}}(a10_0x510f,0x511fe));const {exit}=require('process'),{getEnabledCategories}=require(a10_0x533f05(0xc9));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require(a10_0x533f05(0xbe)),router=express[a10_0x533f05(0xaf)](),crypto=require('crypto');const isGzip=require(a10_0x533f05(0xd1));router['get'](a10_0x533f05(0xdb),function(_0xdc9585,_0x47529d){var _0x2f491f=a10_0x533f05;if(config[_0x2f491f(0x90)]==!![]){_0x47529d[_0x2f491f(0xa0)]('Access-Control-Allow-Origin',config[_0x2f491f(0xc5)]);if(cvjs_debug)console['log'](_0x2f491f(0x9f)+config[_0x2f491f(0xc5)]);}else{_0x47529d[_0x2f491f(0xa0)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x2f491f(0xcb)](_0x2f491f(0xe3));}_0x47529d[_0x2f491f(0xa0)]('Access-Control-Allow-Methods',_0x2f491f(0x95)),_0x47529d['setHeader']('Access-Control-Allow-Headers',_0x2f491f(0xa6)),_0x47529d[_0x2f491f(0xa0)]('Access-Control-Allow-Credentials',!![]);var _0x32fe9f=crypto['randomBytes'](0x10)['toString']('base64'),_0x408d4d=config[_0x2f491f(0x92)];_0x408d4d=_0x408d4d[_0x2f491f(0xc0)]('INSERTNONCE',_0x32fe9f);if(config['ContentSecurityPolicyReportOnly'])_0x47529d[_0x2f491f(0xa0)]('Content-Security-Policy-Report-Only',_0x408d4d);else _0x47529d['setHeader']('Content-Security-Policy',_0x408d4d);if(config[_0x2f491f(0xab)])console[_0x2f491f(0xcb)](_0x2f491f(0xbd));try{var _0x3d6d1f=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xd8)],_0x4fc56e=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xed)],_0x4d3592=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xde)],_0x7fe637=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0x89)],_0x55c151=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xa7)],_0x57441a=config[_0x2f491f(0xeb)]+_0x4fc56e+'.'+_0x4d3592,_0x20d825=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xdd)];if(config['cvjs_debug'])console[_0x2f491f(0xcb)](_0x2f491f(0x9c)+_0x57441a+'\x20Remain\x20on\x20Server:\x20\x20'+_0x3d6d1f+_0x2f491f(0xc3)+_0x4d3592+_0x2f491f(0xf9)+_0x7fe637+_0x2f491f(0xb2)+_0x55c151);var _0x213b0d=require('fs');if(_0x55c151==0x1){if(config[_0x2f491f(0xab)])console[_0x2f491f(0xcb)](_0x2f491f(0xa8)+_0x55c151+'\x20inputFile='+_0x57441a);try{const _0x12ef7a=_0x213b0d[_0x2f491f(0x9d)](_0x57441a);_0x47529d[_0x2f491f(0xa0)](_0x2f491f(0x91),_0x2f491f(0xe5)),_0x47529d[_0x2f491f(0xa4)](_0x12ef7a),console['log'](_0x2f491f(0xdf)+_0x12ef7a['length']);if(_0x3d6d1f==0x0){if(config[_0x2f491f(0xab)])console[_0x2f491f(0xcb)]('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x213b0d[_0x2f491f(0xb3)](_0x57441a,function(_0x4a9e69){var _0x316296=_0x2f491f;if(_0x4a9e69)console[_0x316296(0xcb)]('ERROR:\x20app.get\x20'+_0x4a9e69);else{if(config['cvjs_debug'])console[_0x316296(0xcb)](_0x316296(0xd3));}});}return;}catch(_0x297eb8){console[_0x2f491f(0x88)](_0x297eb8);return;}}if(_0x7fe637==0x1){if(config[_0x2f491f(0xab)])console[_0x2f491f(0xcb)](_0x2f491f(0x98)+_0x57441a);var _0x23451c=Math['floor'](Math[_0x2f491f(0x8c)]()*Math['floor'](0x5f5e100)),_0x420fd2=_0x2f491f(0xe8)+_0x23451c+_0x2f491f(0xc2),_0x467d5d=config[_0x2f491f(0xa1)]+_0x420fd2,_0x3d29be=config['ServerLocation']+_0x2f491f(0xe1),_0x9c72cf=new Array(0xb);_0x9c72cf[0x0]=_0xdc9585[_0x2f491f(0x8a)]['param_0'],_0x9c72cf[0x1]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xe7)],_0x9c72cf[0x2]=_0xdc9585[_0x2f491f(0x8a)]['param_2'],_0x9c72cf[0x3]=_0xdc9585[_0x2f491f(0x8a)]['param_3'],_0x9c72cf[0x4]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0x96)],_0x9c72cf[0x5]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xef)],_0x9c72cf[0x6]=_0xdc9585[_0x2f491f(0x8a)]['param_6'],_0x9c72cf[0x7]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xa3)],_0x9c72cf[0x8]=_0xdc9585['query'][_0x2f491f(0xfc)],_0x9c72cf[0x9]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xe4)],_0x9c72cf[0xa]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0x94)];var _0x33d87a=new Array(0xb);_0x33d87a[0x0]=_0xdc9585['query']['value_0'],_0x33d87a[0x1]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xe9)],_0x33d87a[0x2]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0x8e)],_0x33d87a[0x3]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xea)],_0x33d87a[0x4]=_0xdc9585[_0x2f491f(0x8a)]['value_4'],_0x33d87a[0x5]=_0xdc9585[_0x2f491f(0x8a)]['value_5'],_0x33d87a[0x6]=_0xdc9585[_0x2f491f(0x8a)]['value_6'],_0x33d87a[0x7]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xf7)],_0x33d87a[0x8]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xe2)],_0x33d87a[0x9]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xf4)],_0x33d87a[0xa]=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xee)];var _0x313a4d=_0xdc9585[_0x2f491f(0x8a)][_0x2f491f(0xdc)];_0x213b0d['copyFile'](_0x3d29be,_0x467d5d,_0x5271f0=>{var _0x3de6e2=_0x2f491f;_0x5271f0?console[_0x3de6e2(0xcb)](_0x3de6e2(0xa2),_0x5271f0):_0x213b0d[_0x3de6e2(0xf5)](_0x467d5d,_0x3de6e2(0xcc),function(_0x3aaf40,_0x1d90e9){var _0x365ea9=_0x3de6e2,_0xfc2af8=_0x1d90e9[_0x365ea9(0xd2)]();_0xfc2af8=_0xfc2af8[_0x365ea9(0xc0)](_0x365ea9(0xbc),_0x32fe9f);var _0x10bd4f=_0xfc2af8['substring'](0x0,_0xfc2af8[_0x365ea9(0xd9)]('INSERTFILENAME')),_0x49b890=_0xfc2af8[_0x365ea9(0xca)](_0xfc2af8[_0x365ea9(0xd9)]('INSERTFILENAME')+0xe);config[_0x365ea9(0x8b)]?_0xfc2af8=_0x10bd4f+_0x313a4d+_0x49b890:_0xfc2af8=_0x10bd4f+config[_0x365ea9(0x8d)]+'/'+_0x4fc56e+'.'+_0x4d3592+_0x49b890;_0x10bd4f=_0xfc2af8[_0x365ea9(0xca)](0x0,_0xfc2af8[_0x365ea9(0xd9)]('INSERTSERVERBACKEND')),_0x49b890=_0xfc2af8[_0x365ea9(0xca)](_0xfc2af8[_0x365ea9(0xd9)](_0x365ea9(0xf3))+0x13);var _0x17650d='';if(config[_0x365ea9(0xd4)]){_0x17650d=config[_0x365ea9(0xaa)];if(cvjs_debug)console['log'](_0x365ea9(0xfa)+_0x17650d);}else _0x17650d=config[_0x365ea9(0xc6)],_0x17650d[_0x365ea9(0xd9)]('::1')>-0x1&&(_0x17650d=_0x17650d['replace'](_0x365ea9(0xc7),'localhost'));_0xfc2af8=_0x10bd4f+_0x17650d+'/'+_0x49b890,_0x10bd4f=_0xfc2af8[_0x365ea9(0xca)](0x0,_0xfc2af8[_0x365ea9(0xd9)](_0x365ea9(0x9e))),_0x49b890=_0xfc2af8[_0x365ea9(0xca)](_0xfc2af8[_0x365ea9(0xd9)](_0x365ea9(0x9e))+0xf),_0xfc2af8=_0x10bd4f+_0x17650d+'/'+_0x49b890,_0x10bd4f=_0xfc2af8[_0x365ea9(0xca)](0x0,_0xfc2af8[_0x365ea9(0xd9)](_0x365ea9(0xce))),_0x49b890=_0xfc2af8[_0x365ea9(0xca)](_0xfc2af8['indexOf'](_0x365ea9(0xce))+0x1a);var _0x54dd38='';for(var _0x29c32f=0x1;_0x29c32f<0xb;_0x29c32f++){_0x9c72cf[_0x29c32f]!=undefined&&(_0x33d87a[_0x29c32f]!=undefined?_0x54dd38=_0x54dd38+_0x365ea9(0xbf)+_0x9c72cf[_0x29c32f]+_0x365ea9(0xb0)+_0x33d87a[_0x29c32f]+'\x22);\x0a':_0x54dd38=_0x54dd38+_0x365ea9(0xbf)+_0x9c72cf[_0x29c32f]+_0x365ea9(0xc8));}_0xfc2af8=_0x10bd4f+_0x54dd38+_0x49b890,_0x10bd4f=_0xfc2af8[_0x365ea9(0xca)](0x0,_0xfc2af8[_0x365ea9(0xd9)](_0x365ea9(0xc1))),_0x49b890=_0xfc2af8[_0x365ea9(0xca)](_0xfc2af8[_0x365ea9(0xd9)](_0x365ea9(0xc1))+0x1c),_0xfc2af8=_0x10bd4f+_0x365ea9(0xe6)+_0x313a4d+'\x22;'+_0x49b890,_0x213b0d[_0x365ea9(0xae)](_0x467d5d,'w',function(_0x4008cf,_0x485101){var _0x363a6c=_0x365ea9,_0x261520=Buffer[_0x363a6c(0xf0)](_0xfc2af8);_0x213b0d['write'](_0x485101,_0x261520,0x0,_0x261520[_0x363a6c(0xac)],null,function(_0xedcccd){var _0x2883b5=_0x363a6c;if(_0xedcccd){if(config[_0x2883b5(0xab)])console[_0x2883b5(0xcb)](_0x2883b5(0xa9)+_0xedcccd);}else _0x213b0d['close'](_0x485101,function(){var _0xbde77f=_0x2883b5;if(config[_0xbde77f(0xab)])console[_0xbde77f(0xcb)](_0xbde77f(0xb8));_0x47529d['sendFile'](_0x467d5d);});});});});});}else{if(config['cvjs_debug'])console[_0x2f491f(0xcb)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x57441a+'\x20TYPE='+_0x4d3592);if(_0x4d3592[_0x2f491f(0xd9)](_0x2f491f(0x97))>-0x1&&config[_0x2f491f(0xd7)]){if(config[_0x2f491f(0xab)])console[_0x2f491f(0xcb)](_0x2f491f(0xd6)+_0x57441a+_0x2f491f(0xb1)+_0x4d3592);_0x213b0d[_0x2f491f(0xf5)](_0x57441a,function(_0x29a825,_0x1f24d5){var _0x429a1f=_0x2f491f;if(_0x29a825){_0x47529d[_0x429a1f(0xa4)]('error\x20-\x20get\x20/app/*\x20'+_0x29a825);if(config['cvjs_debug'])console['log'](_0x29a825);}else{if(_0x55c151==0x1){if(config[_0x429a1f(0xab)])console[_0x429a1f(0xcb)](_0x429a1f(0xba)+_0x57441a);var _0x328ef8=require(_0x429a1f(0xbb));_0x328ef8['gunzip'](_0x1f24d5,{'chunkSize':0x10000},function(_0x38e1ae,_0x43d893){var _0x52e35c=_0x429a1f,_0x35ae03=new Buffer(_0x43d893,_0x52e35c(0x9b));_0x328ef8[_0x52e35c(0xf2)](_0x35ae03,function(_0x3b524e,_0x6e7f31){var _0x11d284=_0x52e35c;_0x47529d['setHeader'](_0x11d284(0x91),'image/jpeg'),_0x47529d[_0x11d284(0xa4)](_0x6e7f31);});});}else{if(config['cvjs_debug'])console['log'](_0x429a1f(0xcd)+_0x1f24d5[_0x429a1f(0xac)]);if(isGzip(_0x1f24d5)){if(config[_0x429a1f(0xab)])console[_0x429a1f(0xcb)]('zlib\x20unzip\x20data\x20already\x20compressed:'+_0x1f24d5[_0x429a1f(0xac)]);try{var _0x328ef8=require(_0x429a1f(0xbb));_0x328ef8['gunzip'](_0x1f24d5,{'chunkSize':0x10000},function(_0x31e8fc,_0x5a7f5e){var _0x5124b9=_0x429a1f,_0x56ae50=new Buffer(_0x5a7f5e,_0x5124b9(0x9b));_0x328ef8[_0x5124b9(0xf2)](_0x56ae50,function(_0x1982a0,_0x32ca6b){var _0x62c076=_0x5124b9;_0x47529d[_0x62c076(0xa0)](_0x62c076(0x91),_0x62c076(0xb4)),_0x47529d[_0x62c076(0xa0)](_0x62c076(0xc4),'gzip'),_0x47529d[_0x62c076(0xa4)](_0x32ca6b);});});}catch(_0x359a0d){console['log'](_0x429a1f(0xf8)+_0x359a0d);}}else{if(config['cvjs_debug'])console[_0x429a1f(0xcb)](_0x429a1f(0xec)+_0x1f24d5['length']);_0x4d3592[_0x429a1f(0xd9)](_0x429a1f(0xb9))==0x0&&(_0x55c151==0x1?_0x47529d[_0x429a1f(0xa0)]('Content-Type',_0x429a1f(0x9a)):_0x47529d[_0x429a1f(0xa0)](_0x429a1f(0x91),'image/svg+xml'));_0x4d3592[_0x429a1f(0xd9)](_0x429a1f(0xb6))==0x0?_0x47529d[_0x429a1f(0xa0)](_0x429a1f(0x91),_0x429a1f(0xad)):_0x47529d[_0x429a1f(0xa0)](_0x429a1f(0x91),_0x429a1f(0xe5));if(_0x4d3592['indexOf'](_0x429a1f(0xb6))==0x0){}_0x47529d['send'](_0x1f24d5);}if(_0x3d6d1f==0x0){if(config['cvjs_debug'])console[_0x429a1f(0xcb)](_0x429a1f(0x93));_0x213b0d[_0x429a1f(0xb3)](_0x57441a,function(_0x30bfa8){var _0x15676e=_0x429a1f;if(_0x30bfa8)console[_0x15676e(0xcb)](_0x15676e(0xb5)+_0x30bfa8);else{if(config['cvjs_debug'])console[_0x15676e(0xcb)](_0x15676e(0xd3));}});}}}});}else{if(config[_0x2f491f(0xab)])console[_0x2f491f(0xcb)]('/loadfile:\x20D\x20plain\x20svg:'+_0x57441a+_0x2f491f(0xb1)+_0x4d3592);_0x213b0d[_0x2f491f(0xf5)](_0x57441a,_0x2f491f(0xcc),function(_0xa4357f,_0x508ab4){var _0x2002e9=_0x2f491f;_0x4d3592['indexOf'](_0x2002e9(0xb9))==0x0&&(_0x55c151==0x1?_0x47529d[_0x2002e9(0xa0)]('Content-Type',_0x2002e9(0x9a)):_0x47529d[_0x2002e9(0xa0)](_0x2002e9(0x91),_0x2002e9(0xb4)));_0x4d3592[_0x2002e9(0xd9)](_0x2002e9(0xb6))==0x0?_0x47529d[_0x2002e9(0xa0)]('Content-Type',_0x2002e9(0xad)):_0x47529d[_0x2002e9(0xa0)](_0x2002e9(0x91),_0x2002e9(0xe5));if(_0x4d3592['indexOf']('json')==0x0){}_0x47529d[_0x2002e9(0xa4)](_0x508ab4);if(_0x3d6d1f==0x0){if(config['cvjs_debug'])console[_0x2002e9(0xcb)]('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x213b0d[_0x2002e9(0xb3)](_0x57441a,function(_0x239c31){var _0x24cf76=_0x2002e9;if(_0x239c31)console[_0x24cf76(0xcb)]('ERROR:\x20app.get\x20'+_0x239c31);else{if(config['cvjs_debug'])console[_0x24cf76(0xcb)](_0x24cf76(0xd3));}});}});}}}catch(_0x1e0da8){_0x47529d[_0x2f491f(0xa4)](_0x2f491f(0xfb));if(config['cvjs_debug'])console[_0x2f491f(0xcb)](_0x1e0da8);}}),module[a10_0x533f05(0xe0)]=router;function a10_0x26eb(_0x1608e1,_0x4d8502){var _0x510f0a=a10_0x510f();return a10_0x26eb=function(_0x26ebd0,_0x4f36cc){_0x26ebd0=_0x26ebd0-0x88;var _0x500412=_0x510f0a[_0x26ebd0];return _0x500412;},a10_0x26eb(_0x1608e1,_0x4d8502);}function a10_0x510f(){var _0x409dea=['ERROR:\x20app.get\x20','json','1376127wfslcl','file\x20written','svg','zlib\x20unzip\x20inputFile=','zlib','INSERTNONCE','first\x20in\x20/getcadviewercontent','express','cvjs_conversion_addAXconversionParameter(\x22','replace','CURRETNLOADEDDRAWINGFULLNAME','.html','\x20fileType=','Content-Encoding','ServerFrontEndUrl','ServerUrl','::1','\x22,\x22\x22);\x0a','trace_events','substring','log','utf8','zlib\x20unzip\x20data:','INSERTCONVERSIONPARAMETERS','6550480tBFqMV','9387sCxERv','is-gzip','toString','File\x20deleted!','callbackMethod_gatewayUrl_flag','11499VaOPvC','/loadfile:\x20D\x20svgz\x20compression:','cvjs_svgz_compress','remainOnServer','indexOf','2056xEOzlq','/getcadviewercontent','contentLocation','iscached','Type','pickOriginalFile\x20return\x20length=','exports','/html/CADViewer_base_10_restresponse.html','value_8','Access-Control-Allow-Origin\x20:\x20*','param_9','application/octet-stream','currentLoadedDrawingFullName=\x22','param_1','/html/CV','value_1','value_3','fileLocation','zlib\x20unzip\x20data\x20not\x20compressed:','fileTag','value_10','param_5','from','5105HmGAdI','gzip','INSERTSERVERBACKEND','value_9','readFile','6ssXhqR','value_7','zlib\x20error:','\x20returnCadviewer=','URLFLAG:\x20serverbackend=','error\x20-\x20getCADViewerContent','param_8','error','returnCadviewer','query','cached_conversion','random','fileLocationUrl','value_2','2673630bWvwbR','ServerFrontEndUrlAsAllowedOriginOnly','Content-Type','ContentSecurityPolicy','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','param_10','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','param_4','svgz','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','488hdArmN','image/jpeg','utf-8','/loadfile:\x20','readFileSync','INSERTSERVERURL','Access-Control-Allow-Origin\x20:','setHeader','ServerLocation','Error\x20Found:','param_7','send','1118614yNFKds','X-Requested-With,content-type','pickOriginalFile','/loadfile:\x20\x20A\x20pickOriginalFile:','error\x20savefile:\x20','callbackMethod_gatewayUrl','cvjs_debug','length','application/json','open','Router','\x22,\x22','\x20TYPE=','\x20pickOriginalFile=','unlink','image/svg+xml'];a10_0x510f=function(){return _0x409dea;};return a10_0x510f();}