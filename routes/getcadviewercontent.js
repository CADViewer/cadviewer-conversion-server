var a10_0x193120=a10_0x15b7;function a10_0x15b7(_0x3b39ec,_0x491d9c){var _0x62c71b=a10_0x62c7();return a10_0x15b7=function(_0x15b7af,_0x241af6){_0x15b7af=_0x15b7af-0x9d;var _0x1a49e8=_0x62c71b[_0x15b7af];return _0x1a49e8;},a10_0x15b7(_0x3b39ec,_0x491d9c);}(function(_0xc1c8bc,_0x2f3c94){var _0x2728f0=a10_0x15b7,_0x41e26a=_0xc1c8bc();while(!![]){try{var _0x4ef839=-parseInt(_0x2728f0(0xba))/0x1*(-parseInt(_0x2728f0(0xd1))/0x2)+-parseInt(_0x2728f0(0xbd))/0x3+-parseInt(_0x2728f0(0x108))/0x4*(parseInt(_0x2728f0(0xf8))/0x5)+parseInt(_0x2728f0(0xf0))/0x6+-parseInt(_0x2728f0(0x103))/0x7*(-parseInt(_0x2728f0(0xab))/0x8)+-parseInt(_0x2728f0(0xf3))/0x9+-parseInt(_0x2728f0(0xce))/0xa*(parseInt(_0x2728f0(0xc6))/0xb);if(_0x4ef839===_0x2f3c94)break;else _0x41e26a['push'](_0x41e26a['shift']());}catch(_0x5be74e){_0x41e26a['push'](_0x41e26a['shift']());}}}(a10_0x62c7,0xc86ca));function a10_0x62c7(){var _0x118111=['image/svg+xml','INSERTSERVERBACKEND','16136HMklGO','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','length','value_0','ERROR:\x20app.get\x20','File\x20deleted!','param_7','fileTag','readFile','cvjs_debug','param_5','../CADViewer_config.json','process','INSERTNONCE','value_1','499413JBpPKx','ServerUrl','readFileSync','568050pkzHTW','zlib\x20unzip\x20inputFile=','Access-Control-Allow-Headers','value_8','json','base64','value_6','fileLocation','utf8','402754xvqqUB','gunzip','trace_events','zlib\x20error:','Content-Type','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','/loadfile:\x20D\x20plain\x20svg:','Content-Security-Policy','10NwSoDI','value_4','error\x20-\x20getCADViewerContent','6dTJAUB','/html/CADViewer_base_10_restresponse.html','Access-Control-Allow-Credentials','setHeader','replace','log','param_6','value_2','contentLocation','\x20returnCadviewer=','pickOriginalFile','fileLocationUrl','randomBytes','param_8','param_10','Access-Control-Allow-Origin','Error\x20Found:','CURRETNLOADEDDRAWINGFULLNAME','value_5','unlink','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','INSERTFILENAME','Access-Control-Allow-Methods','\x22,\x22\x22);\x0a','is-gzip','/getcadviewercontent','param_9','value_7','random','Content-Security-Policy-Report-Only','\x20Remain\x20on\x20Server:\x20\x20','2434482uJEqDl','/loadfile:\x20','param_2','2254320aBmIBp','zlib\x20unzip\x20data\x20already\x20compressed:','toString','ServerFrontEndUrlAsAllowedOriginOnly','application/json','5QLDlyf','\x20pickOriginalFile=','error\x20savefile:\x20','INSERTCONVERSIONPARAMETERS','svg','param_0','error','ServerLocation','remainOnServer','indexOf','ServerFrontEndUrl','1981wSegGj','gzip','query','copyFile','application/octet-stream','4709660XJVeuT','\x20TYPE=','\x22);\x0a','first\x20in\x20/getcadviewercontent','value_9','substring','param_4','zlib\x20unzip\x20data:','param_3','param_1','utf-8','get','returnCadviewer','zlib\x20unzip\x20data\x20not\x20compressed:','exports','X-Requested-With,content-type','image/jpeg','close','\x20fileType=','sendFile','\x20inputFile=','send','value_3','zlib','/loadfile:\x20D\x20svgz\x20compression:','floor','INSERTSERVERURL'];a10_0x62c7=function(){return _0x118111;};return a10_0x62c7();}const {exit}=require(a10_0x193120(0xb7)),{getEnabledCategories}=require(a10_0x193120(0xc8));var config=require(a10_0x193120(0xb6)),cvjs_debug=config['cvjs_debug'],express=require('express'),router=express['Router'](),crypto=require('crypto');const isGzip=require(a10_0x193120(0xe9));router[a10_0x193120(0x113)](a10_0x193120(0xea),function(_0xb821ff,_0x1c53de){var _0x3a20aa=a10_0x193120;if(config[_0x3a20aa(0xf6)]==!![]){_0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xe0),config['ServerFrontEndUrl']);if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:'+config[_0x3a20aa(0x102)]);}else{_0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xe0),'*');if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:\x20*');}_0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xe7),_0x3a20aa(0xe5)),_0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xbf),_0x3a20aa(0x9d)),_0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xd3),!![]);var _0x171041=crypto[_0x3a20aa(0xdd)](0x10)[_0x3a20aa(0xf5)](_0x3a20aa(0xc2)),_0x36cd49=config['ContentSecurityPolicy'];_0x36cd49=_0x36cd49[_0x3a20aa(0xd5)](_0x3a20aa(0xb8),_0x171041);if(config['ContentSecurityPolicyReportOnly'])_0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xee),_0x36cd49);else _0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xcd),_0x36cd49);if(config['cvjs_debug'])console['log'](_0x3a20aa(0x10b));try{var _0x19a558=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0x100)],_0x2e4d1a=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xb2)],_0x1c495f=_0xb821ff[_0x3a20aa(0x105)]['Type'],_0x4d644f=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0x114)],_0x6a656c=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xdb)],_0x707a43=config[_0x3a20aa(0xc4)]+_0x2e4d1a+'.'+_0x1c495f;if(config[_0x3a20aa(0xb4)])console['log'](_0x3a20aa(0xf1)+_0x707a43+_0x3a20aa(0xef)+_0x19a558+_0x3a20aa(0xa0)+_0x1c495f+_0x3a20aa(0xda)+_0x4d644f+_0x3a20aa(0xf9)+_0x6a656c);var _0x2389e6=require('fs');if(_0x6a656c==0x1){if(config['cvjs_debug'])console[_0x3a20aa(0xd6)]('/loadfile:\x20\x20A\x20pickOriginalFile:'+_0x6a656c+_0x3a20aa(0xa2)+_0x707a43);try{const _0x19860c=_0x2389e6[_0x3a20aa(0xbc)](_0x707a43);_0x1c53de[_0x3a20aa(0xd4)](_0x3a20aa(0xca),_0x3a20aa(0x107)),_0x1c53de[_0x3a20aa(0xa3)](_0x19860c),console['log']('pickOriginalFile\x20return\x20length='+_0x19860c['length']);if(_0x19a558==0x0){if(config[_0x3a20aa(0xb4)])console[_0x3a20aa(0xd6)]('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x2389e6['unlink'](_0x707a43,function(_0x7816fd){var _0x18d469=_0x3a20aa;if(_0x7816fd)console['log'](_0x18d469(0xaf)+_0x7816fd);else{if(config[_0x18d469(0xb4)])console[_0x18d469(0xd6)](_0x18d469(0xb0));}});}return;}catch(_0x5a7ddd){console[_0x3a20aa(0xfe)](_0x5a7ddd);return;}}if(_0x4d644f==0x1){if(config['cvjs_debug'])console[_0x3a20aa(0xd6)]('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x707a43);var _0x33347b=Math[_0x3a20aa(0xa7)](Math[_0x3a20aa(0xed)]()*Math[_0x3a20aa(0xa7)](0x5f5e100)),_0x4cfbb5='/html/CV'+_0x33347b+'.html',_0x53b075=config['ServerLocation']+_0x4cfbb5,_0xa968a7=config[_0x3a20aa(0xff)]+_0x3a20aa(0xd2),_0x11f1f9=new Array(0xb);_0x11f1f9[0x0]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xfd)],_0x11f1f9[0x1]=_0xb821ff['query'][_0x3a20aa(0x111)],_0x11f1f9[0x2]=_0xb821ff['query'][_0x3a20aa(0xf2)],_0x11f1f9[0x3]=_0xb821ff['query'][_0x3a20aa(0x110)],_0x11f1f9[0x4]=_0xb821ff['query'][_0x3a20aa(0x10e)],_0x11f1f9[0x5]=_0xb821ff['query'][_0x3a20aa(0xb5)],_0x11f1f9[0x6]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xd7)],_0x11f1f9[0x7]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xb1)],_0x11f1f9[0x8]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xde)],_0x11f1f9[0x9]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xeb)],_0x11f1f9[0xa]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xdf)];var _0x32b1a6=new Array(0xb);_0x32b1a6[0x0]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xae)],_0x32b1a6[0x1]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xb9)],_0x32b1a6[0x2]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xd8)],_0x32b1a6[0x3]=_0xb821ff['query'][_0x3a20aa(0xa4)],_0x32b1a6[0x4]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xcf)],_0x32b1a6[0x5]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xe3)],_0x32b1a6[0x6]=_0xb821ff['query'][_0x3a20aa(0xc3)],_0x32b1a6[0x7]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xec)],_0x32b1a6[0x8]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xc0)],_0x32b1a6[0x9]=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0x10c)],_0x32b1a6[0xa]=_0xb821ff[_0x3a20aa(0x105)]['value_10'];var _0x37ec4e=_0xb821ff[_0x3a20aa(0x105)][_0x3a20aa(0xd9)];_0x2389e6[_0x3a20aa(0x106)](_0xa968a7,_0x53b075,_0xeedc20=>{var _0x4c1b4b=_0x3a20aa;_0xeedc20?console[_0x4c1b4b(0xd6)](_0x4c1b4b(0xe1),_0xeedc20):_0x2389e6[_0x4c1b4b(0xb3)](_0x53b075,_0x4c1b4b(0xc5),function(_0xdf9057,_0x314b70){var _0x12d09b=_0x4c1b4b,_0x117f17=_0x314b70[_0x12d09b(0xf5)]();_0x117f17=_0x117f17[_0x12d09b(0xd5)](_0x12d09b(0xb8),_0x171041);var _0xd95f8f=_0x117f17[_0x12d09b(0x10d)](0x0,_0x117f17['indexOf'](_0x12d09b(0xe6))),_0x1a15d9=_0x117f17[_0x12d09b(0x10d)](_0x117f17['indexOf']('INSERTFILENAME')+0xe);_0x117f17=_0xd95f8f+config[_0x12d09b(0xdc)]+'/'+_0x2e4d1a+'.'+_0x1c495f+_0x1a15d9,_0xd95f8f=_0x117f17[_0x12d09b(0x10d)](0x0,_0x117f17[_0x12d09b(0x101)](_0x12d09b(0xaa))),_0x1a15d9=_0x117f17[_0x12d09b(0x10d)](_0x117f17[_0x12d09b(0x101)](_0x12d09b(0xaa))+0x13),_0x117f17=_0xd95f8f+config[_0x12d09b(0xbb)]+'/'+_0x1a15d9,_0xd95f8f=_0x117f17[_0x12d09b(0x10d)](0x0,_0x117f17['indexOf'](_0x12d09b(0xa8))),_0x1a15d9=_0x117f17[_0x12d09b(0x10d)](_0x117f17['indexOf'](_0x12d09b(0xa8))+0xf),_0x117f17=_0xd95f8f+config['ServerUrl']+'/'+_0x1a15d9,_0xd95f8f=_0x117f17['substring'](0x0,_0x117f17[_0x12d09b(0x101)](_0x12d09b(0xfb))),_0x1a15d9=_0x117f17[_0x12d09b(0x10d)](_0x117f17[_0x12d09b(0x101)](_0x12d09b(0xfb))+0x1a);var _0x237598='';for(var _0xf83c16=0x1;_0xf83c16<0xb;_0xf83c16++){_0x11f1f9[_0xf83c16]!=undefined&&(_0x32b1a6[_0xf83c16]!=undefined?_0x237598=_0x237598+'cvjs_conversion_addAXconversionParameter(\x22'+_0x11f1f9[_0xf83c16]+'\x22,\x22'+_0x32b1a6[_0xf83c16]+_0x12d09b(0x10a):_0x237598=_0x237598+'cvjs_conversion_addAXconversionParameter(\x22'+_0x11f1f9[_0xf83c16]+_0x12d09b(0xe8));}_0x117f17=_0xd95f8f+_0x237598+_0x1a15d9,_0xd95f8f=_0x117f17[_0x12d09b(0x10d)](0x0,_0x117f17['indexOf']('CURRETNLOADEDDRAWINGFULLNAME')),_0x1a15d9=_0x117f17[_0x12d09b(0x10d)](_0x117f17[_0x12d09b(0x101)](_0x12d09b(0xe2))+0x1c),_0x117f17=_0xd95f8f+'currentLoadedDrawingFullName=\x22'+_0x37ec4e+'\x22;'+_0x1a15d9,_0x2389e6['open'](_0x53b075,'w',function(_0x3f851c,_0x31fceb){var _0x5ac13d=_0x12d09b,_0x3d2cf1=Buffer['from'](_0x117f17);_0x2389e6['write'](_0x31fceb,_0x3d2cf1,0x0,_0x3d2cf1[_0x5ac13d(0xad)],null,function(_0x50883c){var _0x530e3e=_0x5ac13d;if(_0x50883c){if(config[_0x530e3e(0xb4)])console[_0x530e3e(0xd6)](_0x530e3e(0xfa)+_0x50883c);}else _0x2389e6[_0x530e3e(0x9f)](_0x31fceb,function(){var _0x597775=_0x530e3e;if(config[_0x597775(0xb4)])console[_0x597775(0xd6)]('file\x20written');_0x1c53de[_0x597775(0xa1)](_0x53b075);});});});});});}else{if(config[_0x3a20aa(0xb4)])console[_0x3a20aa(0xd6)](_0x3a20aa(0xac)+_0x707a43+_0x3a20aa(0x109)+_0x1c495f);if(_0x1c495f[_0x3a20aa(0x101)]('svgz')>-0x1&&config['cvjs_svgz_compress']){if(config[_0x3a20aa(0xb4)])console[_0x3a20aa(0xd6)](_0x3a20aa(0xa6)+_0x707a43+_0x3a20aa(0x109)+_0x1c495f);_0x2389e6[_0x3a20aa(0xb3)](_0x707a43,function(_0x43baff,_0x178238){var _0x4f7a61=_0x3a20aa;if(_0x43baff){_0x1c53de[_0x4f7a61(0xa3)]('error\x20-\x20get\x20/app/*\x20'+_0x43baff);if(config[_0x4f7a61(0xb4)])console[_0x4f7a61(0xd6)](_0x43baff);}else{if(_0x6a656c==0x1){if(config[_0x4f7a61(0xb4)])console[_0x4f7a61(0xd6)](_0x4f7a61(0xbe)+_0x707a43);var _0x2d968b=require(_0x4f7a61(0xa5));_0x2d968b[_0x4f7a61(0xc7)](_0x178238,{'chunkSize':0x10000},function(_0x5d78f7,_0x26dc67){var _0x2a3178=_0x4f7a61,_0x2917b2=new Buffer(_0x26dc67,_0x2a3178(0x112));_0x2d968b[_0x2a3178(0x104)](_0x2917b2,function(_0x43789c,_0x5f12f5){var _0x761d05=_0x2a3178;_0x1c53de[_0x761d05(0xd4)](_0x761d05(0xca),_0x761d05(0x9e)),_0x1c53de['send'](_0x5f12f5);});});}else{if(config['cvjs_debug'])console[_0x4f7a61(0xd6)](_0x4f7a61(0x10f)+_0x178238[_0x4f7a61(0xad)]);if(isGzip(_0x178238)){if(config[_0x4f7a61(0xb4)])console[_0x4f7a61(0xd6)](_0x4f7a61(0xf4)+_0x178238['length']);try{var _0x2d968b=require(_0x4f7a61(0xa5));_0x2d968b['gunzip'](_0x178238,{'chunkSize':0x10000},function(_0x4bbf0b,_0x1a01bb){var _0x4b3e37=_0x4f7a61,_0x4ace0b=new Buffer(_0x1a01bb,_0x4b3e37(0x112));_0x2d968b[_0x4b3e37(0x104)](_0x4ace0b,function(_0x1405d3,_0x483499){var _0x31bea4=_0x4b3e37;_0x1c53de[_0x31bea4(0xd4)]('Content-Type',_0x31bea4(0xa9)),_0x1c53de[_0x31bea4(0xd4)]('Content-Encoding',_0x31bea4(0x104)),_0x1c53de[_0x31bea4(0xa3)](_0x483499);});});}catch(_0x38dbe6){console['log'](_0x4f7a61(0xc9)+_0x38dbe6);}}else{if(config[_0x4f7a61(0xb4)])console[_0x4f7a61(0xd6)](_0x4f7a61(0x115)+_0x178238[_0x4f7a61(0xad)]);_0x1c495f[_0x4f7a61(0x101)](_0x4f7a61(0xfc))==0x0&&(_0x6a656c==0x1?_0x1c53de['setHeader'](_0x4f7a61(0xca),_0x4f7a61(0x9e)):_0x1c53de[_0x4f7a61(0xd4)](_0x4f7a61(0xca),_0x4f7a61(0xa9)));_0x1c495f[_0x4f7a61(0x101)](_0x4f7a61(0xc1))==0x0?_0x1c53de[_0x4f7a61(0xd4)](_0x4f7a61(0xca),_0x4f7a61(0xf7)):_0x1c53de['setHeader'](_0x4f7a61(0xca),_0x4f7a61(0x107));if(_0x1c495f['indexOf']('json')==0x0){}_0x1c53de[_0x4f7a61(0xa3)](_0x178238);}if(_0x19a558==0x0){if(config['cvjs_debug'])console[_0x4f7a61(0xd6)](_0x4f7a61(0xcb));_0x2389e6[_0x4f7a61(0xe4)](_0x707a43,function(_0x36d4ae){var _0x5c44e9=_0x4f7a61;if(_0x36d4ae)console[_0x5c44e9(0xd6)]('ERROR:\x20app.get\x20'+_0x36d4ae);else{if(config[_0x5c44e9(0xb4)])console[_0x5c44e9(0xd6)](_0x5c44e9(0xb0));}});}}}});}else{if(config[_0x3a20aa(0xb4)])console[_0x3a20aa(0xd6)](_0x3a20aa(0xcc)+_0x707a43+'\x20TYPE='+_0x1c495f);_0x2389e6[_0x3a20aa(0xb3)](_0x707a43,_0x3a20aa(0xc5),function(_0x367779,_0x3e9565){var _0x5b94b8=_0x3a20aa;_0x1c495f['indexOf'](_0x5b94b8(0xfc))==0x0&&(_0x6a656c==0x1?_0x1c53de[_0x5b94b8(0xd4)](_0x5b94b8(0xca),'image/jpeg'):_0x1c53de[_0x5b94b8(0xd4)](_0x5b94b8(0xca),_0x5b94b8(0xa9)));_0x1c495f[_0x5b94b8(0x101)](_0x5b94b8(0xc1))==0x0?_0x1c53de[_0x5b94b8(0xd4)]('Content-Type',_0x5b94b8(0xf7)):_0x1c53de['setHeader'](_0x5b94b8(0xca),_0x5b94b8(0x107));if(_0x1c495f['indexOf'](_0x5b94b8(0xc1))==0x0){}_0x1c53de[_0x5b94b8(0xa3)](_0x3e9565);if(_0x19a558==0x0){if(config[_0x5b94b8(0xb4)])console[_0x5b94b8(0xd6)](_0x5b94b8(0xcb));_0x2389e6['unlink'](_0x707a43,function(_0x16357e){var _0x27d7e0=_0x5b94b8;if(_0x16357e)console[_0x27d7e0(0xd6)](_0x27d7e0(0xaf)+_0x16357e);else{if(config[_0x27d7e0(0xb4)])console[_0x27d7e0(0xd6)]('File\x20deleted!');}});}});}}}catch(_0x1a2bec){_0x1c53de[_0x3a20aa(0xa3)](_0x3a20aa(0xd0));if(config['cvjs_debug'])console[_0x3a20aa(0xd6)](_0x1a2bec);}}),module[a10_0x193120(0x116)]=router;