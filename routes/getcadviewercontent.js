var a10_0x4735c3=a10_0x2c5d;(function(_0x5d1cad,_0x535f68){var _0x435952=a10_0x2c5d,_0x5dc660=_0x5d1cad();while(!![]){try{var _0x5502d2=parseInt(_0x435952(0x194))/0x1+-parseInt(_0x435952(0x1c7))/0x2*(parseInt(_0x435952(0x1b6))/0x3)+parseInt(_0x435952(0x19e))/0x4*(parseInt(_0x435952(0x1e3))/0x5)+parseInt(_0x435952(0x191))/0x6+parseInt(_0x435952(0x1ee))/0x7+-parseInt(_0x435952(0x19c))/0x8+parseInt(_0x435952(0x1b8))/0x9*(parseInt(_0x435952(0x1cf))/0xa);if(_0x5502d2===_0x535f68)break;else _0x5dc660['push'](_0x5dc660['shift']());}catch(_0x20f337){_0x5dc660['push'](_0x5dc660['shift']());}}}(a10_0x5cd6,0x27ddb));function a10_0x2c5d(_0x57b587,_0x455f7e){var _0x5cd60b=a10_0x5cd6();return a10_0x2c5d=function(_0x2c5d33,_0xeda5e8){_0x2c5d33=_0x2c5d33-0x17e;var _0x481a05=_0x5cd60b[_0x2c5d33];return _0x481a05;},a10_0x2c5d(_0x57b587,_0x455f7e);}function a10_0x5cd6(){var _0x169610=['ServerFrontEndUrl','INSERTCONVERSIONPARAMETERS','Access-Control-Allow-Origin','value_3','INSERTSERVERBACKEND','zlib\x20unzip\x20data\x20not\x20compressed:','fileTag','svgz','param_9','random','Content-Security-Policy-Report-Only','process','gunzip','base64','28287IRESRE','ServerLocation','387RYxKEi','close','ERROR:\x20app.get\x20','/loadfile:\x20','contentLocation','fileLocationUrl','currentLoadedDrawingFullName=\x22','param_7','\x20fileType=','toString','Router','\x20returnCadviewer=','value_5','\x20pickOriginalFile=','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','48GBHDcf','/html/CV','utf8','ContentSecurityPolicyReportOnly','localhost','value_10','param_5','error\x20savefile:\x20','21820whrNiT','\x20Remain\x20on\x20Server:\x20\x20','value_9','cvjs_debug','returnCadviewer','gzip','fileLocation','Access-Control-Allow-Origin\x20:\x20*','\x20inputFile=','query','value_7','svg','.html','ServerUrl','\x20TYPE=','::1','exports','iscached','CURRETNLOADEDDRAWINGFULLNAME','value_2','20MwBIkX','readFileSync','application/octet-stream','error\x20-\x20getCADViewerContent','sendFile','json','remainOnServer','express','Content-Encoding','zlib\x20unzip\x20data:','Error\x20Found:','1830122tPepio','Access-Control-Allow-Methods','log','length','cached_conversion','/loadfile:\x20\x20A\x20pickOriginalFile:','zlib\x20unzip\x20inputFile=','zlib\x20unzip\x20data\x20already\x20compressed:','Content-Security-Policy','from','value_4','send','\x22,\x22','indexOf','param_1','value_6','X-Requested-With,content-type','image/jpeg','replace','Content-Type','readFile','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','zlib','ServerFrontEndUrlAsAllowedOriginOnly','INSERTNONCE','setHeader','trace_events','application/json','image/svg+xml','Type','ContentSecurityPolicy','/loadfile:\x20D\x20svgz\x20compression:','INSERTFILENAME','495810drvECr','error\x20-\x20get\x20/app/*\x20','is-gzip','4329dMdiss','pickOriginalFile\x20return\x20length=','Access-Control-Allow-Credentials','unlink','param_3','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','param_10','floor','1944104SyWtuB','open','190364qAhhgI','\x22,\x22\x22);\x0a','/getcadviewercontent','param_8','write','cvjs_conversion_addAXconversionParameter(\x22','pickOriginalFile','Access-Control-Allow-Headers','substring','value_1'];a10_0x5cd6=function(){return _0x169610;};return a10_0x5cd6();}const {exit}=require(a10_0x4735c3(0x1b3)),{getEnabledCategories}=require(a10_0x4735c3(0x18a));var config=require('../CADViewer_config.json'),cvjs_debug=config[a10_0x4735c3(0x1d2)],express=require(a10_0x4735c3(0x1ea)),router=express[a10_0x4735c3(0x1c2)](),crypto=require('crypto');const isGzip=require(a10_0x4735c3(0x193));router['get'](a10_0x4735c3(0x1a0),function(_0x2f69ec,_0x1df0a3){var _0x4e9917=a10_0x4735c3;if(config[_0x4e9917(0x187)]==!![]){_0x1df0a3[_0x4e9917(0x189)](_0x4e9917(0x1aa),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x4e9917(0x1f0)]('Access-Control-Allow-Origin\x20:'+config[_0x4e9917(0x1a8)]);}else{_0x1df0a3[_0x4e9917(0x189)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x4e9917(0x1f0)](_0x4e9917(0x1d6));}_0x1df0a3[_0x4e9917(0x189)](_0x4e9917(0x1ef),_0x4e9917(0x1c6)),_0x1df0a3[_0x4e9917(0x189)](_0x4e9917(0x1a5),_0x4e9917(0x180)),_0x1df0a3[_0x4e9917(0x189)](_0x4e9917(0x196),!![]);var _0x511df8=crypto['randomBytes'](0x10)[_0x4e9917(0x1c1)](_0x4e9917(0x1b5)),_0xf68d04=config[_0x4e9917(0x18e)];_0xf68d04=_0xf68d04[_0x4e9917(0x182)]('INSERTNONCE',_0x511df8);if(config[_0x4e9917(0x1ca)])_0x1df0a3[_0x4e9917(0x189)](_0x4e9917(0x1b2),_0xf68d04);else _0x1df0a3[_0x4e9917(0x189)](_0x4e9917(0x1f6),_0xf68d04);if(config[_0x4e9917(0x1d2)])console[_0x4e9917(0x1f0)]('first\x20in\x20/getcadviewercontent');try{var _0x559678=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1e9)],_0xeb5dd1=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1ae)],_0x3a2026=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x18d)],_0x3facd8=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1d3)],_0x2b2e18=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1a4)],_0x336212=config[_0x4e9917(0x1d5)]+_0xeb5dd1+'.'+_0x3a2026,_0x37439a=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1e0)];if(config[_0x4e9917(0x1d2)])console[_0x4e9917(0x1f0)](_0x4e9917(0x1bb)+_0x336212+_0x4e9917(0x1d0)+_0x559678+_0x4e9917(0x1c0)+_0x3a2026+_0x4e9917(0x1c3)+_0x3facd8+_0x4e9917(0x1c5)+_0x2b2e18);var _0x5ead80=require('fs');if(_0x2b2e18==0x1){if(config[_0x4e9917(0x1d2)])console[_0x4e9917(0x1f0)](_0x4e9917(0x1f3)+_0x2b2e18+_0x4e9917(0x1d7)+_0x336212);try{const _0x33db5f=_0x5ead80[_0x4e9917(0x1e4)](_0x336212);_0x1df0a3[_0x4e9917(0x189)](_0x4e9917(0x183),_0x4e9917(0x1e5)),_0x1df0a3[_0x4e9917(0x1f9)](_0x33db5f),console[_0x4e9917(0x1f0)](_0x4e9917(0x195)+_0x33db5f['length']);if(_0x559678==0x0){if(config[_0x4e9917(0x1d2)])console['log'](_0x4e9917(0x185));_0x5ead80[_0x4e9917(0x197)](_0x336212,function(_0x53e8f7){var _0xb4c7bb=_0x4e9917;if(_0x53e8f7)console[_0xb4c7bb(0x1f0)](_0xb4c7bb(0x1ba)+_0x53e8f7);else{if(config[_0xb4c7bb(0x1d2)])console[_0xb4c7bb(0x1f0)]('File\x20deleted!');}});}return;}catch(_0xe91854){console['error'](_0xe91854);return;}}if(_0x3facd8==0x1){if(config[_0x4e9917(0x1d2)])console['log'](_0x4e9917(0x199)+_0x336212);var _0x5829a=Math[_0x4e9917(0x19b)](Math[_0x4e9917(0x1b1)]()*Math['floor'](0x5f5e100)),_0x4b94ba=_0x4e9917(0x1c8)+_0x5829a+_0x4e9917(0x1db),_0x566ce6=config['ServerLocation']+_0x4b94ba,_0x1b4b57=config[_0x4e9917(0x1b7)]+'/html/CADViewer_base_10_restresponse.html',_0x32ad5e=new Array(0xb);_0x32ad5e[0x0]=_0x2f69ec['query']['param_0'],_0x32ad5e[0x1]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x17e)],_0x32ad5e[0x2]=_0x2f69ec[_0x4e9917(0x1d8)]['param_2'],_0x32ad5e[0x3]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x198)],_0x32ad5e[0x4]=_0x2f69ec[_0x4e9917(0x1d8)]['param_4'],_0x32ad5e[0x5]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1cd)],_0x32ad5e[0x6]=_0x2f69ec[_0x4e9917(0x1d8)]['param_6'],_0x32ad5e[0x7]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1bf)],_0x32ad5e[0x8]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1a1)],_0x32ad5e[0x9]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1b0)],_0x32ad5e[0xa]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x19a)];var _0x2d808e=new Array(0xb);_0x2d808e[0x0]=_0x2f69ec[_0x4e9917(0x1d8)]['value_0'],_0x2d808e[0x1]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1a7)],_0x2d808e[0x2]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1e2)],_0x2d808e[0x3]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1ab)],_0x2d808e[0x4]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1f8)],_0x2d808e[0x5]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1c4)],_0x2d808e[0x6]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x17f)],_0x2d808e[0x7]=_0x2f69ec['query'][_0x4e9917(0x1d9)],_0x2d808e[0x8]=_0x2f69ec[_0x4e9917(0x1d8)]['value_8'],_0x2d808e[0x9]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1d1)],_0x2d808e[0xa]=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1cc)];var _0x56bf75=_0x2f69ec[_0x4e9917(0x1d8)][_0x4e9917(0x1bc)];_0x5ead80['copyFile'](_0x1b4b57,_0x566ce6,_0x3d22b5=>{var _0x1bd3ff=_0x4e9917;_0x3d22b5?console[_0x1bd3ff(0x1f0)](_0x1bd3ff(0x1ed),_0x3d22b5):_0x5ead80[_0x1bd3ff(0x184)](_0x566ce6,_0x1bd3ff(0x1c9),function(_0xf4ccd4,_0x54c4e5){var _0x18065e=_0x1bd3ff,_0x28347c=_0x54c4e5['toString']();_0x28347c=_0x28347c[_0x18065e(0x182)](_0x18065e(0x188),_0x511df8);var _0x24e588=_0x28347c[_0x18065e(0x1a6)](0x0,_0x28347c[_0x18065e(0x1fb)](_0x18065e(0x190))),_0x270cf2=_0x28347c[_0x18065e(0x1a6)](_0x28347c[_0x18065e(0x1fb)](_0x18065e(0x190))+0xe);config[_0x18065e(0x1f2)]?_0x28347c=_0x24e588+_0x56bf75+_0x270cf2:_0x28347c=_0x24e588+config[_0x18065e(0x1bd)]+'/'+_0xeb5dd1+'.'+_0x3a2026+_0x270cf2;_0x24e588=_0x28347c[_0x18065e(0x1a6)](0x0,_0x28347c[_0x18065e(0x1fb)](_0x18065e(0x1ac))),_0x270cf2=_0x28347c[_0x18065e(0x1a6)](_0x28347c[_0x18065e(0x1fb)]('INSERTSERVERBACKEND')+0x13);var _0x11a6f2=config[_0x18065e(0x1dc)];_0x11a6f2[_0x18065e(0x1fb)](_0x18065e(0x1de))>-0x1&&(_0x11a6f2=_0x11a6f2[_0x18065e(0x182)](_0x18065e(0x1de),_0x18065e(0x1cb)));_0x28347c=_0x24e588+_0x11a6f2+'/'+_0x270cf2,_0x24e588=_0x28347c['substring'](0x0,_0x28347c['indexOf']('INSERTSERVERURL')),_0x270cf2=_0x28347c[_0x18065e(0x1a6)](_0x28347c[_0x18065e(0x1fb)]('INSERTSERVERURL')+0xf),_0x28347c=_0x24e588+_0x11a6f2+'/'+_0x270cf2,_0x24e588=_0x28347c['substring'](0x0,_0x28347c['indexOf'](_0x18065e(0x1a9))),_0x270cf2=_0x28347c['substring'](_0x28347c[_0x18065e(0x1fb)]('INSERTCONVERSIONPARAMETERS')+0x1a);var _0x32bf1a='';for(var _0x553097=0x1;_0x553097<0xb;_0x553097++){_0x32ad5e[_0x553097]!=undefined&&(_0x2d808e[_0x553097]!=undefined?_0x32bf1a=_0x32bf1a+_0x18065e(0x1a3)+_0x32ad5e[_0x553097]+_0x18065e(0x1fa)+_0x2d808e[_0x553097]+'\x22);\x0a':_0x32bf1a=_0x32bf1a+_0x18065e(0x1a3)+_0x32ad5e[_0x553097]+_0x18065e(0x19f));}_0x28347c=_0x24e588+_0x32bf1a+_0x270cf2,_0x24e588=_0x28347c[_0x18065e(0x1a6)](0x0,_0x28347c[_0x18065e(0x1fb)](_0x18065e(0x1e1))),_0x270cf2=_0x28347c[_0x18065e(0x1a6)](_0x28347c[_0x18065e(0x1fb)](_0x18065e(0x1e1))+0x1c),_0x28347c=_0x24e588+_0x18065e(0x1be)+_0x56bf75+'\x22;'+_0x270cf2,_0x5ead80[_0x18065e(0x19d)](_0x566ce6,'w',function(_0x4f8d63,_0x19943a){var _0x957b36=_0x18065e,_0x3a5c78=Buffer[_0x957b36(0x1f7)](_0x28347c);_0x5ead80[_0x957b36(0x1a2)](_0x19943a,_0x3a5c78,0x0,_0x3a5c78[_0x957b36(0x1f1)],null,function(_0x3e4623){var _0x591600=_0x957b36;if(_0x3e4623){if(config[_0x591600(0x1d2)])console[_0x591600(0x1f0)](_0x591600(0x1ce)+_0x3e4623);}else _0x5ead80[_0x591600(0x1b9)](_0x19943a,function(){var _0xbefe1a=_0x591600;if(config[_0xbefe1a(0x1d2)])console['log']('file\x20written');_0x1df0a3[_0xbefe1a(0x1e7)](_0x566ce6);});});});});});}else{if(config['cvjs_debug'])console[_0x4e9917(0x1f0)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x336212+'\x20TYPE='+_0x3a2026);if(_0x3a2026[_0x4e9917(0x1fb)](_0x4e9917(0x1af))>-0x1&&config['cvjs_svgz_compress']){if(config[_0x4e9917(0x1d2)])console[_0x4e9917(0x1f0)](_0x4e9917(0x18f)+_0x336212+_0x4e9917(0x1dd)+_0x3a2026);_0x5ead80[_0x4e9917(0x184)](_0x336212,function(_0x3b55d7,_0x5212c0){var _0x18ad41=_0x4e9917;if(_0x3b55d7){_0x1df0a3[_0x18ad41(0x1f9)](_0x18ad41(0x192)+_0x3b55d7);if(config[_0x18ad41(0x1d2)])console[_0x18ad41(0x1f0)](_0x3b55d7);}else{if(_0x2b2e18==0x1){if(config[_0x18ad41(0x1d2)])console[_0x18ad41(0x1f0)](_0x18ad41(0x1f4)+_0x336212);var _0x19570b=require(_0x18ad41(0x186));_0x19570b[_0x18ad41(0x1b4)](_0x5212c0,{'chunkSize':0x10000},function(_0x5df6e0,_0xb7fa3a){var _0x5b8cfa=new Buffer(_0xb7fa3a,'utf-8');_0x19570b['gzip'](_0x5b8cfa,function(_0x2001ea,_0x44eb3c){var _0x4d01a0=a10_0x2c5d;_0x1df0a3[_0x4d01a0(0x189)](_0x4d01a0(0x183),'image/jpeg'),_0x1df0a3[_0x4d01a0(0x1f9)](_0x44eb3c);});});}else{if(config[_0x18ad41(0x1d2)])console[_0x18ad41(0x1f0)](_0x18ad41(0x1ec)+_0x5212c0[_0x18ad41(0x1f1)]);if(isGzip(_0x5212c0)){if(config[_0x18ad41(0x1d2)])console[_0x18ad41(0x1f0)](_0x18ad41(0x1f5)+_0x5212c0[_0x18ad41(0x1f1)]);try{var _0x19570b=require(_0x18ad41(0x186));_0x19570b[_0x18ad41(0x1b4)](_0x5212c0,{'chunkSize':0x10000},function(_0x1d8763,_0x4f50e6){var _0x307b04=_0x18ad41,_0x761a1e=new Buffer(_0x4f50e6,'utf-8');_0x19570b[_0x307b04(0x1d4)](_0x761a1e,function(_0x5d83eb,_0x1b07bb){var _0x4fab84=_0x307b04;_0x1df0a3[_0x4fab84(0x189)](_0x4fab84(0x183),_0x4fab84(0x18c)),_0x1df0a3[_0x4fab84(0x189)](_0x4fab84(0x1eb),'gzip'),_0x1df0a3[_0x4fab84(0x1f9)](_0x1b07bb);});});}catch(_0x923cda){console[_0x18ad41(0x1f0)]('zlib\x20error:'+_0x923cda);}}else{if(config[_0x18ad41(0x1d2)])console[_0x18ad41(0x1f0)](_0x18ad41(0x1ad)+_0x5212c0['length']);_0x3a2026[_0x18ad41(0x1fb)](_0x18ad41(0x1da))==0x0&&(_0x2b2e18==0x1?_0x1df0a3[_0x18ad41(0x189)](_0x18ad41(0x183),'image/jpeg'):_0x1df0a3['setHeader'](_0x18ad41(0x183),_0x18ad41(0x18c)));_0x3a2026[_0x18ad41(0x1fb)](_0x18ad41(0x1e8))==0x0?_0x1df0a3[_0x18ad41(0x189)](_0x18ad41(0x183),_0x18ad41(0x18b)):_0x1df0a3['setHeader'](_0x18ad41(0x183),_0x18ad41(0x1e5));if(_0x3a2026['indexOf']('json')==0x0){}_0x1df0a3['send'](_0x5212c0);}if(_0x559678==0x0){if(config['cvjs_debug'])console[_0x18ad41(0x1f0)](_0x18ad41(0x185));_0x5ead80['unlink'](_0x336212,function(_0x14ca2a){var _0x416604=_0x18ad41;if(_0x14ca2a)console['log'](_0x416604(0x1ba)+_0x14ca2a);else{if(config[_0x416604(0x1d2)])console['log']('File\x20deleted!');}});}}}});}else{if(config['cvjs_debug'])console['log']('/loadfile:\x20D\x20plain\x20svg:'+_0x336212+'\x20TYPE='+_0x3a2026);_0x5ead80[_0x4e9917(0x184)](_0x336212,'utf8',function(_0x420180,_0x3ff846){var _0x2be171=_0x4e9917;_0x3a2026['indexOf'](_0x2be171(0x1da))==0x0&&(_0x2b2e18==0x1?_0x1df0a3[_0x2be171(0x189)](_0x2be171(0x183),_0x2be171(0x181)):_0x1df0a3[_0x2be171(0x189)]('Content-Type','image/svg+xml'));_0x3a2026['indexOf']('json')==0x0?_0x1df0a3[_0x2be171(0x189)](_0x2be171(0x183),_0x2be171(0x18b)):_0x1df0a3['setHeader'](_0x2be171(0x183),_0x2be171(0x1e5));if(_0x3a2026[_0x2be171(0x1fb)](_0x2be171(0x1e8))==0x0){}_0x1df0a3[_0x2be171(0x1f9)](_0x3ff846);if(_0x559678==0x0){if(config[_0x2be171(0x1d2)])console[_0x2be171(0x1f0)](_0x2be171(0x185));_0x5ead80[_0x2be171(0x197)](_0x336212,function(_0x44c00e){var _0x4bb71a=_0x2be171;if(_0x44c00e)console[_0x4bb71a(0x1f0)](_0x4bb71a(0x1ba)+_0x44c00e);else{if(config[_0x4bb71a(0x1d2)])console[_0x4bb71a(0x1f0)]('File\x20deleted!');}});}});}}}catch(_0x2b511c){_0x1df0a3[_0x4e9917(0x1f9)](_0x4e9917(0x1e6));if(config['cvjs_debug'])console[_0x4e9917(0x1f0)](_0x2b511c);}}),module[a10_0x4735c3(0x1df)]=router;