var a10_0x309f7f=a10_0x2a02;function a10_0x410c(){var _0x46faf0=['cvjs_conversion_addAXconversionParameter(\x22','270773vguzcv','first\x20in\x20/getcadviewercontent','ServerLocation','pickOriginalFile','get','copyFile','INSERTSERVERBACKEND','Access-Control-Allow-Credentials','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','svg','\x20TYPE=','localhost','3964850SJAyWP','\x20returnCadviewer=','INSERTCONVERSIONPARAMETERS','INSERTFILENAME','ServerFrontEndUrl','replace','9eurCHV','URLFLAG:\x20serverbackend=','zlib\x20unzip\x20data\x20not\x20compressed:','.html','floor','utf-8','exports','value_3','param_4','returnCadviewer','express','remainOnServer','utf8','value_2','toString','random','1019277BDbuGR','Content-Security-Policy','error\x20-\x20getCADViewerContent','param_9','ContentSecurityPolicyReportOnly','/html/CV','zlib\x20unzip\x20data\x20already\x20compressed:','40476ZFJhjp','gunzip','File\x20deleted!','contentLocation','ERROR:\x20app.get\x20','\x20Remain\x20on\x20Server:\x20\x20','application/json','crypto','write','file\x20written','send','cached_conversion','21889730iZLnlX','2qnGGNn','\x20pickOriginalFile=','open','close','192PARIZC','error\x20savefile:\x20','sendFile','Access-Control-Allow-Origin\x20:\x20*','gzip','setHeader','readFileSync','::1','1786736EltDia','Access-Control-Allow-Origin','INSERTNONCE','json','unlink','Content-Type','randomBytes','param_5','\x22);\x0a','readFile','INSERTSERVERURL','CURRETNLOADEDDRAWINGFULLNAME','application/octet-stream','param_6','ServerUrl','callbackMethod_gatewayUrl_flag','image/jpeg','/loadfile:\x20\x20A\x20pickOriginalFile:','/html/CADViewer_base_10_restresponse.html','7713852FEUeib','length','currentLoadedDrawingFullName=\x22','/loadfile:\x20D\x20plain\x20svg:','ServerFrontEndUrlAsAllowedOriginOnly','value_0','Error\x20Found:','\x22,\x22','pickOriginalFile\x20return\x20length=','X-Requested-With,content-type','zlib\x20error:','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','cvjs_debug','callbackMethod_gatewayUrl','param_2','image/svg+xml','value_4','value_5','value_9','ContentSecurityPolicy','\x20fileType=','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','is-gzip','/getcadviewercontent','log','error','from','value_8','process','Type','Content-Security-Policy-Report-Only','query','fileLocation','indexOf','/loadfile:\x20','value_7','substring','fileTag','cvjs_svgz_compress','\x22,\x22\x22);\x0a'];a10_0x410c=function(){return _0x46faf0;};return a10_0x410c();}(function(_0x5cbec6,_0x2550f5){var _0x2d2107=a10_0x2a02,_0x2409dd=_0x5cbec6();while(!![]){try{var _0x2b5c97=parseInt(_0x2d2107(0x16f))/0x1*(parseInt(_0x2d2107(0x127))/0x2)+parseInt(_0x2d2107(0x12b))/0x3*(parseInt(_0x2d2107(0x11a))/0x4)+parseInt(_0x2d2107(0xfd))/0x5+parseInt(_0x2d2107(0x146))/0x6+-parseInt(_0x2d2107(0x113))/0x7+parseInt(_0x2d2107(0x133))/0x8+-parseInt(_0x2d2107(0x103))/0x9*(parseInt(_0x2d2107(0x126))/0xa);if(_0x2b5c97===_0x2550f5)break;else _0x2409dd['push'](_0x2409dd['shift']());}catch(_0x481c1b){_0x2409dd['push'](_0x2409dd['shift']());}}}(a10_0x410c,0xd83ff));const {exit}=require(a10_0x309f7f(0x162)),{getEnabledCategories}=require('trace_events');var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require(a10_0x309f7f(0x10d)),router=express['Router'](),crypto=require(a10_0x309f7f(0x121));const isGzip=require(a10_0x309f7f(0x15c));function a10_0x2a02(_0x32545d,_0x270c54){var _0x410c97=a10_0x410c();return a10_0x2a02=function(_0x2a0253,_0x35d188){_0x2a0253=_0x2a0253-0xfd;var _0x463246=_0x410c97[_0x2a0253];return _0x463246;},a10_0x2a02(_0x32545d,_0x270c54);}router[a10_0x309f7f(0x173)](a10_0x309f7f(0x15d),function(_0x2d780a,_0x405379){var _0x355e99=a10_0x309f7f;if(config[_0x355e99(0x14a)]==!![]){_0x405379[_0x355e99(0x130)]('Access-Control-Allow-Origin',config[_0x355e99(0x101)]);if(cvjs_debug)console[_0x355e99(0x15e)]('Access-Control-Allow-Origin\x20:'+config[_0x355e99(0x101)]);}else{_0x405379[_0x355e99(0x130)](_0x355e99(0x134),'*');if(cvjs_debug)console[_0x355e99(0x15e)](_0x355e99(0x12e));}_0x405379[_0x355e99(0x130)]('Access-Control-Allow-Methods',_0x355e99(0x151)),_0x405379[_0x355e99(0x130)]('Access-Control-Allow-Headers',_0x355e99(0x14f)),_0x405379['setHeader'](_0x355e99(0x176),!![]);var _0x2cf3bd=crypto[_0x355e99(0x139)](0x10)[_0x355e99(0x111)]('base64'),_0x4a1fbf=config[_0x355e99(0x159)];_0x4a1fbf=_0x4a1fbf['replace'](_0x355e99(0x135),_0x2cf3bd);if(config[_0x355e99(0x117)])_0x405379[_0x355e99(0x130)](_0x355e99(0x164),_0x4a1fbf);else _0x405379['setHeader'](_0x355e99(0x114),_0x4a1fbf);if(config[_0x355e99(0x152)])console['log'](_0x355e99(0x170));try{var _0x1c5595=_0x2d780a['query'][_0x355e99(0x10e)],_0x3f5db1=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x16b)],_0x2138a7=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x163)],_0x68f669=_0x2d780a['query'][_0x355e99(0x10c)],_0x1ce032=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x172)],_0x4dc95b=config[_0x355e99(0x166)]+_0x3f5db1+'.'+_0x2138a7,_0x26de35=_0x2d780a[_0x355e99(0x165)]['iscached'];if(config[_0x355e99(0x152)])console[_0x355e99(0x15e)](_0x355e99(0x168)+_0x4dc95b+_0x355e99(0x11f)+_0x1c5595+_0x355e99(0x15a)+_0x2138a7+_0x355e99(0xfe)+_0x68f669+_0x355e99(0x128)+_0x1ce032);var _0x424fe0=require('fs');if(_0x1ce032==0x1){if(config[_0x355e99(0x152)])console['log'](_0x355e99(0x144)+_0x1ce032+'\x20inputFile='+_0x4dc95b);try{const _0x4f6de0=_0x424fe0[_0x355e99(0x131)](_0x4dc95b);_0x405379[_0x355e99(0x130)](_0x355e99(0x138),_0x355e99(0x13f)),_0x405379[_0x355e99(0x124)](_0x4f6de0),console[_0x355e99(0x15e)](_0x355e99(0x14e)+_0x4f6de0[_0x355e99(0x147)]);if(_0x1c5595==0x0){if(config[_0x355e99(0x152)])console[_0x355e99(0x15e)](_0x355e99(0x177));_0x424fe0[_0x355e99(0x137)](_0x4dc95b,function(_0x39ed3c){var _0x9206de=_0x355e99;if(_0x39ed3c)console[_0x9206de(0x15e)](_0x9206de(0x11e)+_0x39ed3c);else{if(config[_0x9206de(0x152)])console['log'](_0x9206de(0x11c));}});}return;}catch(_0x2abf69){console[_0x355e99(0x15f)](_0x2abf69);return;}}if(_0x68f669==0x1){if(config['cvjs_debug'])console[_0x355e99(0x15e)](_0x355e99(0x15b)+_0x4dc95b);var _0x3ae557=Math[_0x355e99(0x107)](Math[_0x355e99(0x112)]()*Math[_0x355e99(0x107)](0x5f5e100)),_0x25930e=_0x355e99(0x118)+_0x3ae557+_0x355e99(0x106),_0x4c4808=config[_0x355e99(0x171)]+_0x25930e,_0x101154=config[_0x355e99(0x171)]+_0x355e99(0x145),_0x3ff240=new Array(0xb);_0x3ff240[0x0]=_0x2d780a[_0x355e99(0x165)]['param_0'],_0x3ff240[0x1]=_0x2d780a['query']['param_1'],_0x3ff240[0x2]=_0x2d780a['query'][_0x355e99(0x154)],_0x3ff240[0x3]=_0x2d780a[_0x355e99(0x165)]['param_3'],_0x3ff240[0x4]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x10b)],_0x3ff240[0x5]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x13a)],_0x3ff240[0x6]=_0x2d780a['query'][_0x355e99(0x140)],_0x3ff240[0x7]=_0x2d780a[_0x355e99(0x165)]['param_7'],_0x3ff240[0x8]=_0x2d780a[_0x355e99(0x165)]['param_8'],_0x3ff240[0x9]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x116)],_0x3ff240[0xa]=_0x2d780a['query']['param_10'];var _0x42d5f7=new Array(0xb);_0x42d5f7[0x0]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x14b)],_0x42d5f7[0x1]=_0x2d780a[_0x355e99(0x165)]['value_1'],_0x42d5f7[0x2]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x110)],_0x42d5f7[0x3]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x10a)],_0x42d5f7[0x4]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x156)],_0x42d5f7[0x5]=_0x2d780a['query'][_0x355e99(0x157)],_0x42d5f7[0x6]=_0x2d780a[_0x355e99(0x165)]['value_6'],_0x42d5f7[0x7]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x169)],_0x42d5f7[0x8]=_0x2d780a['query'][_0x355e99(0x161)],_0x42d5f7[0x9]=_0x2d780a[_0x355e99(0x165)][_0x355e99(0x158)],_0x42d5f7[0xa]=_0x2d780a[_0x355e99(0x165)]['value_10'];var _0x4688de=_0x2d780a['query'][_0x355e99(0x11d)];_0x424fe0[_0x355e99(0x174)](_0x101154,_0x4c4808,_0x4473b9=>{var _0x45566e=_0x355e99;_0x4473b9?console[_0x45566e(0x15e)](_0x45566e(0x14c),_0x4473b9):_0x424fe0[_0x45566e(0x13c)](_0x4c4808,_0x45566e(0x10f),function(_0x23bf22,_0x493a72){var _0xfb0b0e=_0x45566e,_0x2efcfd=_0x493a72[_0xfb0b0e(0x111)]();_0x2efcfd=_0x2efcfd[_0xfb0b0e(0x102)](_0xfb0b0e(0x135),_0x2cf3bd);var _0x223bf5=_0x2efcfd[_0xfb0b0e(0x16a)](0x0,_0x2efcfd[_0xfb0b0e(0x167)](_0xfb0b0e(0x100))),_0x3b4c80=_0x2efcfd[_0xfb0b0e(0x16a)](_0x2efcfd[_0xfb0b0e(0x167)](_0xfb0b0e(0x100))+0xe);config[_0xfb0b0e(0x125)]?_0x2efcfd=_0x223bf5+_0x4688de+_0x3b4c80:_0x2efcfd=_0x223bf5+config['fileLocationUrl']+'/'+_0x3f5db1+'.'+_0x2138a7+_0x3b4c80;_0x223bf5=_0x2efcfd[_0xfb0b0e(0x16a)](0x0,_0x2efcfd[_0xfb0b0e(0x167)]('INSERTSERVERBACKEND')),_0x3b4c80=_0x2efcfd[_0xfb0b0e(0x16a)](_0x2efcfd[_0xfb0b0e(0x167)](_0xfb0b0e(0x175))+0x13);var _0x236063='';if(config[_0xfb0b0e(0x142)]){_0x236063=config[_0xfb0b0e(0x153)];if(cvjs_debug)console[_0xfb0b0e(0x15e)](_0xfb0b0e(0x104)+_0x236063);}else _0x236063=config[_0xfb0b0e(0x141)],_0x236063[_0xfb0b0e(0x167)](_0xfb0b0e(0x132))>-0x1&&(_0x236063=_0x236063['replace'](_0xfb0b0e(0x132),_0xfb0b0e(0x17a)));_0x2efcfd=_0x223bf5+_0x236063+'/'+_0x3b4c80,_0x223bf5=_0x2efcfd[_0xfb0b0e(0x16a)](0x0,_0x2efcfd[_0xfb0b0e(0x167)]('INSERTSERVERURL')),_0x3b4c80=_0x2efcfd[_0xfb0b0e(0x16a)](_0x2efcfd['indexOf'](_0xfb0b0e(0x13d))+0xf),_0x2efcfd=_0x223bf5+_0x236063+'/'+_0x3b4c80,_0x223bf5=_0x2efcfd['substring'](0x0,_0x2efcfd[_0xfb0b0e(0x167)](_0xfb0b0e(0xff))),_0x3b4c80=_0x2efcfd[_0xfb0b0e(0x16a)](_0x2efcfd[_0xfb0b0e(0x167)]('INSERTCONVERSIONPARAMETERS')+0x1a);var _0x266781='';for(var _0x35ebde=0x1;_0x35ebde<0xb;_0x35ebde++){_0x3ff240[_0x35ebde]!=undefined&&(_0x42d5f7[_0x35ebde]!=undefined?_0x266781=_0x266781+_0xfb0b0e(0x16e)+_0x3ff240[_0x35ebde]+_0xfb0b0e(0x14d)+_0x42d5f7[_0x35ebde]+_0xfb0b0e(0x13b):_0x266781=_0x266781+'cvjs_conversion_addAXconversionParameter(\x22'+_0x3ff240[_0x35ebde]+_0xfb0b0e(0x16d));}_0x2efcfd=_0x223bf5+_0x266781+_0x3b4c80,_0x223bf5=_0x2efcfd[_0xfb0b0e(0x16a)](0x0,_0x2efcfd[_0xfb0b0e(0x167)](_0xfb0b0e(0x13e))),_0x3b4c80=_0x2efcfd[_0xfb0b0e(0x16a)](_0x2efcfd['indexOf'](_0xfb0b0e(0x13e))+0x1c),_0x2efcfd=_0x223bf5+_0xfb0b0e(0x148)+_0x4688de+'\x22;'+_0x3b4c80,_0x424fe0[_0xfb0b0e(0x129)](_0x4c4808,'w',function(_0x3bcb49,_0x1808cd){var _0x55a3b1=_0xfb0b0e,_0x5ecd69=Buffer[_0x55a3b1(0x160)](_0x2efcfd);_0x424fe0[_0x55a3b1(0x122)](_0x1808cd,_0x5ecd69,0x0,_0x5ecd69[_0x55a3b1(0x147)],null,function(_0x107ca0){var _0x5f571e=_0x55a3b1;if(_0x107ca0){if(config['cvjs_debug'])console[_0x5f571e(0x15e)](_0x5f571e(0x12c)+_0x107ca0);}else _0x424fe0[_0x5f571e(0x12a)](_0x1808cd,function(){var _0x16442a=_0x5f571e;if(config[_0x16442a(0x152)])console[_0x16442a(0x15e)](_0x16442a(0x123));_0x405379[_0x16442a(0x12d)](_0x4c4808);});});});});});}else{if(config[_0x355e99(0x152)])console[_0x355e99(0x15e)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x4dc95b+'\x20TYPE='+_0x2138a7);if(_0x2138a7['indexOf']('svgz')>-0x1&&config[_0x355e99(0x16c)]){if(config['cvjs_debug'])console[_0x355e99(0x15e)]('/loadfile:\x20D\x20svgz\x20compression:'+_0x4dc95b+_0x355e99(0x179)+_0x2138a7);_0x424fe0[_0x355e99(0x13c)](_0x4dc95b,function(_0x283357,_0xd70e09){var _0x373100=_0x355e99;if(_0x283357){_0x405379[_0x373100(0x124)]('error\x20-\x20get\x20/app/*\x20'+_0x283357);if(config['cvjs_debug'])console[_0x373100(0x15e)](_0x283357);}else{if(_0x1ce032==0x1){if(config['cvjs_debug'])console[_0x373100(0x15e)]('zlib\x20unzip\x20inputFile='+_0x4dc95b);var _0x58c55f=require('zlib');_0x58c55f[_0x373100(0x11b)](_0xd70e09,{'chunkSize':0x10000},function(_0x45aa7f,_0x59873b){var _0x585158=_0x373100,_0x5a3bbc=new Buffer(_0x59873b,_0x585158(0x108));_0x58c55f[_0x585158(0x12f)](_0x5a3bbc,function(_0x145344,_0x3dbc16){var _0x1edc2a=_0x585158;_0x405379[_0x1edc2a(0x130)]('Content-Type','image/jpeg'),_0x405379[_0x1edc2a(0x124)](_0x3dbc16);});});}else{if(config[_0x373100(0x152)])console[_0x373100(0x15e)]('zlib\x20unzip\x20data:'+_0xd70e09[_0x373100(0x147)]);if(isGzip(_0xd70e09)){if(config['cvjs_debug'])console['log'](_0x373100(0x119)+_0xd70e09['length']);try{var _0x58c55f=require('zlib');_0x58c55f[_0x373100(0x11b)](_0xd70e09,{'chunkSize':0x10000},function(_0x5e278d,_0x3785be){var _0x3dd6e5=_0x373100,_0x3c4e52=new Buffer(_0x3785be,_0x3dd6e5(0x108));_0x58c55f[_0x3dd6e5(0x12f)](_0x3c4e52,function(_0x4687a5,_0x4c773a){var _0x54b864=_0x3dd6e5;_0x405379[_0x54b864(0x130)](_0x54b864(0x138),_0x54b864(0x155)),_0x405379[_0x54b864(0x130)]('Content-Encoding',_0x54b864(0x12f)),_0x405379[_0x54b864(0x124)](_0x4c773a);});});}catch(_0x117ec1){console[_0x373100(0x15e)](_0x373100(0x150)+_0x117ec1);}}else{if(config[_0x373100(0x152)])console['log'](_0x373100(0x105)+_0xd70e09['length']);_0x2138a7[_0x373100(0x167)](_0x373100(0x178))==0x0&&(_0x1ce032==0x1?_0x405379[_0x373100(0x130)](_0x373100(0x138),'image/jpeg'):_0x405379[_0x373100(0x130)](_0x373100(0x138),'image/svg+xml'));_0x2138a7[_0x373100(0x167)]('json')==0x0?_0x405379[_0x373100(0x130)]('Content-Type',_0x373100(0x120)):_0x405379[_0x373100(0x130)](_0x373100(0x138),_0x373100(0x13f));if(_0x2138a7['indexOf']('json')==0x0){}_0x405379[_0x373100(0x124)](_0xd70e09);}if(_0x1c5595==0x0){if(config[_0x373100(0x152)])console['log']('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x424fe0[_0x373100(0x137)](_0x4dc95b,function(_0x3bc069){var _0x5d7410=_0x373100;if(_0x3bc069)console[_0x5d7410(0x15e)]('ERROR:\x20app.get\x20'+_0x3bc069);else{if(config['cvjs_debug'])console[_0x5d7410(0x15e)]('File\x20deleted!');}});}}}});}else{if(config[_0x355e99(0x152)])console[_0x355e99(0x15e)](_0x355e99(0x149)+_0x4dc95b+_0x355e99(0x179)+_0x2138a7);_0x424fe0[_0x355e99(0x13c)](_0x4dc95b,'utf8',function(_0x2f761b,_0x4306ae){var _0x5e2968=_0x355e99;_0x2138a7[_0x5e2968(0x167)](_0x5e2968(0x178))==0x0&&(_0x1ce032==0x1?_0x405379[_0x5e2968(0x130)](_0x5e2968(0x138),_0x5e2968(0x143)):_0x405379[_0x5e2968(0x130)]('Content-Type',_0x5e2968(0x155)));_0x2138a7['indexOf'](_0x5e2968(0x136))==0x0?_0x405379[_0x5e2968(0x130)](_0x5e2968(0x138),_0x5e2968(0x120)):_0x405379['setHeader'](_0x5e2968(0x138),_0x5e2968(0x13f));if(_0x2138a7[_0x5e2968(0x167)](_0x5e2968(0x136))==0x0){}_0x405379[_0x5e2968(0x124)](_0x4306ae);if(_0x1c5595==0x0){if(config[_0x5e2968(0x152)])console[_0x5e2968(0x15e)](_0x5e2968(0x177));_0x424fe0[_0x5e2968(0x137)](_0x4dc95b,function(_0x363459){var _0x1d62ea=_0x5e2968;if(_0x363459)console[_0x1d62ea(0x15e)](_0x1d62ea(0x11e)+_0x363459);else{if(config['cvjs_debug'])console[_0x1d62ea(0x15e)](_0x1d62ea(0x11c));}});}});}}}catch(_0x1aa1a1){_0x405379[_0x355e99(0x124)](_0x355e99(0x115));if(config[_0x355e99(0x152)])console['log'](_0x1aa1a1);}}),module[a10_0x309f7f(0x109)]=router;