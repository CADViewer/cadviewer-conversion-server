var a10_0x14c41c=a10_0x4043;(function(_0x2850b0,_0x1b848c){var _0x5cb5bc=a10_0x4043,_0x5a2844=_0x2850b0();while(!![]){try{var _0x52c159=parseInt(_0x5cb5bc(0x119))/0x1*(parseInt(_0x5cb5bc(0x129))/0x2)+-parseInt(_0x5cb5bc(0x102))/0x3*(-parseInt(_0x5cb5bc(0xeb))/0x4)+parseInt(_0x5cb5bc(0x109))/0x5*(-parseInt(_0x5cb5bc(0xdf))/0x6)+parseInt(_0x5cb5bc(0x12e))/0x7+parseInt(_0x5cb5bc(0x124))/0x8+-parseInt(_0x5cb5bc(0x10b))/0x9+-parseInt(_0x5cb5bc(0x117))/0xa;if(_0x52c159===_0x1b848c)break;else _0x5a2844['push'](_0x5a2844['shift']());}catch(_0x456939){_0x5a2844['push'](_0x5a2844['shift']());}}}(a10_0x1d3b,0x6d229));const {exit}=require(a10_0x14c41c(0x11c)),{getEnabledCategories}=require(a10_0x14c41c(0xba));function a10_0x4043(_0x5c995a,_0x54cf4a){var _0x1d3bb6=a10_0x1d3b();return a10_0x4043=function(_0x404393,_0x439405){_0x404393=_0x404393-0xb9;var _0x5cfff8=_0x1d3bb6[_0x404393];return _0x5cfff8;},a10_0x4043(_0x5c995a,_0x54cf4a);}function a10_0x1d3b(){var _0x1c00fb=['/loadfile:\x20\x20A\x20pickOriginalFile:','copyFile','unlink','readFile','ServerUrl','param_1','param_6','substring','send','fileLocationUrl','INSERTSERVERURL','../CADViewer_config.json','param_0','INSERTSERVERBACKEND','utf-8','\x20returnCadviewer=','setHeader','Content-Type','param_7','param_3','ERROR:\x20app.get\x20','param_5','ContentSecurityPolicyReportOnly','from','returnCadviewer','\x20TYPE=','\x20Remain\x20on\x20Server:\x20\x20','zlib\x20unzip\x20data:','Content-Encoding','length','floor','cvjs_svgz_compress','value_9','cached_conversion','30oQjmvM','svg','\x22,\x22','randomBytes','callbackMethod_gatewayUrl_flag','value_0','param_4','/loadfile:\x20D\x20svgz\x20compression:','iscached','utf8','zlib','CURRETNLOADEDDRAWINGFULLNAME','1933964HuZPAG','json','value_10','ContentSecurityPolicy','Type','\x22);\x0a','is-gzip','value_7','::1','zlib\x20unzip\x20inputFile=','value_2','value_6','pickOriginalFile\x20return\x20length=','indexOf','error\x20savefile:\x20','param_9','value_4','Access-Control-Allow-Headers','first\x20in\x20/getcadviewercontent','crypto','exports','Router','fileLocation','3mFFEaW','gzip','contentLocation','zlib\x20error:','cvjs_debug','application/octet-stream','value_5','540505DEhXOJ','ServerFrontEndUrlAsAllowedOriginOnly','7752933gHSucY','File\x20deleted!','base64','pickOriginalFile','Access-Control-Allow-Origin','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','Access-Control-Allow-Origin\x20:','toString','application/json','sendFile','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','Error\x20Found:','7145390WWSGQI','localhost','1mHAnId','image/jpeg','gunzip','process','Content-Security-Policy','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','URLFLAG:\x20serverbackend=','X-Requested-With,content-type','error\x20-\x20get\x20/app/*\x20','INSERTCONVERSIONPARAMETERS','param_10','5510760aMYyxh','param_2','INSERTFILENAME','Access-Control-Allow-Origin\x20:\x20*','image/svg+xml','1343902UXMzSW','query','remainOnServer','ServerFrontEndUrl','value_3','5034477jbUYwj','INSERTNONCE','replace','get','random','write','value_8','\x20pickOriginalFile=','\x22,\x22\x22);\x0a','log','ServerLocation','trace_events','express','svgz'];a10_0x1d3b=function(){return _0x1c00fb;};return a10_0x1d3b();}var config=require(a10_0x14c41c(0xc8)),cvjs_debug=config['cvjs_debug'],express=require(a10_0x14c41c(0xbb)),router=express[a10_0x14c41c(0x100)](),crypto=require(a10_0x14c41c(0xfe));const isGzip=require(a10_0x14c41c(0xf1));router[a10_0x14c41c(0x131)]('/getcadviewercontent',function(_0x302382,_0x594071){var _0x3a0282=a10_0x14c41c;if(config[_0x3a0282(0x10a)]==!![]){_0x594071[_0x3a0282(0xcd)](_0x3a0282(0x10f),config[_0x3a0282(0x12c)]);if(cvjs_debug)console[_0x3a0282(0x137)](_0x3a0282(0x111)+config[_0x3a0282(0x12c)]);}else{_0x594071[_0x3a0282(0xcd)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x3a0282(0x137)](_0x3a0282(0x127));}_0x594071[_0x3a0282(0xcd)]('Access-Control-Allow-Methods','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x594071[_0x3a0282(0xcd)](_0x3a0282(0xfc),_0x3a0282(0x120)),_0x594071['setHeader']('Access-Control-Allow-Credentials',!![]);var _0x1a34d1=crypto[_0x3a0282(0xe2)](0x10)['toString'](_0x3a0282(0x10d)),_0xab453a=config[_0x3a0282(0xee)];_0xab453a=_0xab453a['replace'](_0x3a0282(0x12f),_0x1a34d1);if(config[_0x3a0282(0xd3)])_0x594071['setHeader']('Content-Security-Policy-Report-Only',_0xab453a);else _0x594071[_0x3a0282(0xcd)](_0x3a0282(0x11d),_0xab453a);if(config[_0x3a0282(0x106)])console[_0x3a0282(0x137)](_0x3a0282(0xfd));try{var _0x12a6b6=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0x12b)],_0x5ab221=_0x302382[_0x3a0282(0x12a)]['fileTag'],_0x463a7e=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xef)],_0x543347=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xd5)],_0x1d4b1c=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0x10e)],_0x2e1fb1=config[_0x3a0282(0x101)]+_0x5ab221+'.'+_0x463a7e,_0x1d2a58=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xe7)];if(config['cvjs_debug'])console[_0x3a0282(0x137)]('/loadfile:\x20'+_0x2e1fb1+_0x3a0282(0xd7)+_0x12a6b6+'\x20fileType='+_0x463a7e+_0x3a0282(0xcc)+_0x543347+_0x3a0282(0x135)+_0x1d4b1c);var _0x34c699=require('fs');if(_0x1d4b1c==0x1){if(config[_0x3a0282(0x106)])console[_0x3a0282(0x137)](_0x3a0282(0xbd)+_0x1d4b1c+'\x20inputFile='+_0x2e1fb1);try{const _0xce7eda=_0x34c699['readFileSync'](_0x2e1fb1);_0x594071[_0x3a0282(0xcd)](_0x3a0282(0xce),_0x3a0282(0x107)),_0x594071[_0x3a0282(0xc5)](_0xce7eda),console[_0x3a0282(0x137)](_0x3a0282(0xf7)+_0xce7eda['length']);if(_0x12a6b6==0x0){if(config[_0x3a0282(0x106)])console[_0x3a0282(0x137)](_0x3a0282(0x110));_0x34c699[_0x3a0282(0xbf)](_0x2e1fb1,function(_0x138f89){var _0x42a49b=_0x3a0282;if(_0x138f89)console['log'](_0x42a49b(0xd1)+_0x138f89);else{if(config[_0x42a49b(0x106)])console[_0x42a49b(0x137)](_0x42a49b(0x10c));}});}return;}catch(_0x4d7471){console['error'](_0x4d7471);return;}}if(_0x543347==0x1){if(config[_0x3a0282(0x106)])console[_0x3a0282(0x137)](_0x3a0282(0x11e)+_0x2e1fb1);var _0x35116a=Math[_0x3a0282(0xdb)](Math[_0x3a0282(0x132)]()*Math[_0x3a0282(0xdb)](0x5f5e100)),_0x50fa33='/html/CV'+_0x35116a+'.html',_0x42e8b4=config[_0x3a0282(0xb9)]+_0x50fa33,_0x13597a=config[_0x3a0282(0xb9)]+'/html/CADViewer_base_10_restresponse.html',_0x38eccf=new Array(0xb);_0x38eccf[0x0]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xc9)],_0x38eccf[0x1]=_0x302382['query'][_0x3a0282(0xc2)],_0x38eccf[0x2]=_0x302382['query'][_0x3a0282(0x125)],_0x38eccf[0x3]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xd0)],_0x38eccf[0x4]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xe5)],_0x38eccf[0x5]=_0x302382['query'][_0x3a0282(0xd2)],_0x38eccf[0x6]=_0x302382['query'][_0x3a0282(0xc3)],_0x38eccf[0x7]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xcf)],_0x38eccf[0x8]=_0x302382[_0x3a0282(0x12a)]['param_8'],_0x38eccf[0x9]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xfa)],_0x38eccf[0xa]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0x123)];var _0xfab829=new Array(0xb);_0xfab829[0x0]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xe4)],_0xfab829[0x1]=_0x302382[_0x3a0282(0x12a)]['value_1'],_0xfab829[0x2]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xf5)],_0xfab829[0x3]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0x12d)],_0xfab829[0x4]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xfb)],_0xfab829[0x5]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0x108)],_0xfab829[0x6]=_0x302382['query'][_0x3a0282(0xf6)],_0xfab829[0x7]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xf2)],_0xfab829[0x8]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0x134)],_0xfab829[0x9]=_0x302382['query'][_0x3a0282(0xdd)],_0xfab829[0xa]=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0xed)];var _0x475637=_0x302382[_0x3a0282(0x12a)][_0x3a0282(0x104)];_0x34c699[_0x3a0282(0xbe)](_0x13597a,_0x42e8b4,_0xe2603c=>{var _0xce296e=_0x3a0282;_0xe2603c?console['log'](_0xce296e(0x116),_0xe2603c):_0x34c699[_0xce296e(0xc0)](_0x42e8b4,'utf8',function(_0x55464b,_0x5ce036){var _0x4261a1=_0xce296e,_0x200885=_0x5ce036[_0x4261a1(0x112)]();_0x200885=_0x200885[_0x4261a1(0x130)](_0x4261a1(0x12f),_0x1a34d1);var _0x1eefc7=_0x200885[_0x4261a1(0xc4)](0x0,_0x200885['indexOf'](_0x4261a1(0x126))),_0x22b985=_0x200885[_0x4261a1(0xc4)](_0x200885[_0x4261a1(0xf8)](_0x4261a1(0x126))+0xe);config[_0x4261a1(0xde)]?_0x200885=_0x1eefc7+_0x475637+_0x22b985:_0x200885=_0x1eefc7+config[_0x4261a1(0xc6)]+'/'+_0x5ab221+'.'+_0x463a7e+_0x22b985;_0x1eefc7=_0x200885[_0x4261a1(0xc4)](0x0,_0x200885[_0x4261a1(0xf8)](_0x4261a1(0xca))),_0x22b985=_0x200885[_0x4261a1(0xc4)](_0x200885[_0x4261a1(0xf8)](_0x4261a1(0xca))+0x13);var _0x41a2db='';if(config[_0x4261a1(0xe3)]){_0x41a2db=config['callbackMethod_gatewayUrl'];if(cvjs_debug)console[_0x4261a1(0x137)](_0x4261a1(0x11f)+_0x41a2db);}else _0x41a2db=config[_0x4261a1(0xc1)],_0x41a2db[_0x4261a1(0xf8)](_0x4261a1(0xf3))>-0x1&&(_0x41a2db=_0x41a2db[_0x4261a1(0x130)]('::1',_0x4261a1(0x118)));_0x200885=_0x1eefc7+_0x41a2db+'/'+_0x22b985,_0x1eefc7=_0x200885[_0x4261a1(0xc4)](0x0,_0x200885[_0x4261a1(0xf8)](_0x4261a1(0xc7))),_0x22b985=_0x200885['substring'](_0x200885[_0x4261a1(0xf8)]('INSERTSERVERURL')+0xf),_0x200885=_0x1eefc7+_0x41a2db+'/'+_0x22b985,_0x1eefc7=_0x200885[_0x4261a1(0xc4)](0x0,_0x200885['indexOf'](_0x4261a1(0x122))),_0x22b985=_0x200885[_0x4261a1(0xc4)](_0x200885['indexOf'](_0x4261a1(0x122))+0x1a);var _0x5bb198='';for(var _0x1e763f=0x1;_0x1e763f<0xb;_0x1e763f++){_0x38eccf[_0x1e763f]!=undefined&&(_0xfab829[_0x1e763f]!=undefined?_0x5bb198=_0x5bb198+'cvjs_conversion_addAXconversionParameter(\x22'+_0x38eccf[_0x1e763f]+_0x4261a1(0xe1)+_0xfab829[_0x1e763f]+_0x4261a1(0xf0):_0x5bb198=_0x5bb198+'cvjs_conversion_addAXconversionParameter(\x22'+_0x38eccf[_0x1e763f]+_0x4261a1(0x136));}_0x200885=_0x1eefc7+_0x5bb198+_0x22b985,_0x1eefc7=_0x200885[_0x4261a1(0xc4)](0x0,_0x200885[_0x4261a1(0xf8)](_0x4261a1(0xea))),_0x22b985=_0x200885[_0x4261a1(0xc4)](_0x200885[_0x4261a1(0xf8)](_0x4261a1(0xea))+0x1c),_0x200885=_0x1eefc7+'currentLoadedDrawingFullName=\x22'+_0x475637+'\x22;'+_0x22b985,_0x34c699['open'](_0x42e8b4,'w',function(_0x960132,_0x41cd99){var _0x13539f=_0x4261a1,_0x9393c=Buffer[_0x13539f(0xd4)](_0x200885);_0x34c699[_0x13539f(0x133)](_0x41cd99,_0x9393c,0x0,_0x9393c[_0x13539f(0xda)],null,function(_0x26fa17){var _0x454fb5=_0x13539f;if(_0x26fa17){if(config[_0x454fb5(0x106)])console[_0x454fb5(0x137)](_0x454fb5(0xf9)+_0x26fa17);}else _0x34c699['close'](_0x41cd99,function(){var _0x5e7a2c=_0x454fb5;if(config[_0x5e7a2c(0x106)])console[_0x5e7a2c(0x137)]('file\x20written');_0x594071[_0x5e7a2c(0x114)](_0x42e8b4);});});});});});}else{if(config[_0x3a0282(0x106)])console[_0x3a0282(0x137)](_0x3a0282(0x115)+_0x2e1fb1+_0x3a0282(0xd6)+_0x463a7e);if(_0x463a7e[_0x3a0282(0xf8)](_0x3a0282(0xbc))>-0x1&&config[_0x3a0282(0xdc)]){if(config['cvjs_debug'])console[_0x3a0282(0x137)](_0x3a0282(0xe6)+_0x2e1fb1+_0x3a0282(0xd6)+_0x463a7e);_0x34c699[_0x3a0282(0xc0)](_0x2e1fb1,function(_0x32e935,_0x5cf941){var _0x282caa=_0x3a0282;if(_0x32e935){_0x594071['send'](_0x282caa(0x121)+_0x32e935);if(config['cvjs_debug'])console[_0x282caa(0x137)](_0x32e935);}else{if(_0x1d4b1c==0x1){if(config[_0x282caa(0x106)])console['log'](_0x282caa(0xf4)+_0x2e1fb1);var _0x3a1949=require(_0x282caa(0xe9));_0x3a1949[_0x282caa(0x11b)](_0x5cf941,{'chunkSize':0x10000},function(_0x2824c5,_0x5b371f){var _0x3bfaf3=_0x282caa,_0x2a74ba=new Buffer(_0x5b371f,_0x3bfaf3(0xcb));_0x3a1949[_0x3bfaf3(0x103)](_0x2a74ba,function(_0x3e6981,_0x572897){var _0x23471c=_0x3bfaf3;_0x594071['setHeader'](_0x23471c(0xce),_0x23471c(0x11a)),_0x594071[_0x23471c(0xc5)](_0x572897);});});}else{if(config[_0x282caa(0x106)])console[_0x282caa(0x137)](_0x282caa(0xd8)+_0x5cf941['length']);if(isGzip(_0x5cf941)){if(config[_0x282caa(0x106)])console['log']('zlib\x20unzip\x20data\x20already\x20compressed:'+_0x5cf941[_0x282caa(0xda)]);try{var _0x3a1949=require(_0x282caa(0xe9));_0x3a1949[_0x282caa(0x11b)](_0x5cf941,{'chunkSize':0x10000},function(_0x4ea9ee,_0x257602){var _0x207cbc=_0x282caa,_0x25b458=new Buffer(_0x257602,_0x207cbc(0xcb));_0x3a1949[_0x207cbc(0x103)](_0x25b458,function(_0x438e30,_0x10845f){var _0x2c81ba=_0x207cbc;_0x594071[_0x2c81ba(0xcd)](_0x2c81ba(0xce),'image/svg+xml'),_0x594071[_0x2c81ba(0xcd)](_0x2c81ba(0xd9),_0x2c81ba(0x103)),_0x594071[_0x2c81ba(0xc5)](_0x10845f);});});}catch(_0xc78d50){console[_0x282caa(0x137)](_0x282caa(0x105)+_0xc78d50);}}else{if(config[_0x282caa(0x106)])console[_0x282caa(0x137)]('zlib\x20unzip\x20data\x20not\x20compressed:'+_0x5cf941[_0x282caa(0xda)]);_0x463a7e[_0x282caa(0xf8)](_0x282caa(0xe0))==0x0&&(_0x1d4b1c==0x1?_0x594071[_0x282caa(0xcd)](_0x282caa(0xce),_0x282caa(0x11a)):_0x594071[_0x282caa(0xcd)](_0x282caa(0xce),_0x282caa(0x128)));_0x463a7e[_0x282caa(0xf8)](_0x282caa(0xec))==0x0?_0x594071[_0x282caa(0xcd)](_0x282caa(0xce),_0x282caa(0x113)):_0x594071[_0x282caa(0xcd)](_0x282caa(0xce),'application/octet-stream');if(_0x463a7e[_0x282caa(0xf8)](_0x282caa(0xec))==0x0){}_0x594071[_0x282caa(0xc5)](_0x5cf941);}if(_0x12a6b6==0x0){if(config['cvjs_debug'])console['log'](_0x282caa(0x110));_0x34c699[_0x282caa(0xbf)](_0x2e1fb1,function(_0x4cca8e){var _0x4e4d43=_0x282caa;if(_0x4cca8e)console[_0x4e4d43(0x137)](_0x4e4d43(0xd1)+_0x4cca8e);else{if(config[_0x4e4d43(0x106)])console[_0x4e4d43(0x137)](_0x4e4d43(0x10c));}});}}}});}else{if(config[_0x3a0282(0x106)])console[_0x3a0282(0x137)]('/loadfile:\x20D\x20plain\x20svg:'+_0x2e1fb1+_0x3a0282(0xd6)+_0x463a7e);_0x34c699[_0x3a0282(0xc0)](_0x2e1fb1,_0x3a0282(0xe8),function(_0x4c3a4f,_0x468344){var _0x3362fa=_0x3a0282;_0x463a7e['indexOf']('svg')==0x0&&(_0x1d4b1c==0x1?_0x594071['setHeader']('Content-Type',_0x3362fa(0x11a)):_0x594071['setHeader'](_0x3362fa(0xce),_0x3362fa(0x128)));_0x463a7e[_0x3362fa(0xf8)](_0x3362fa(0xec))==0x0?_0x594071[_0x3362fa(0xcd)]('Content-Type','application/json'):_0x594071[_0x3362fa(0xcd)]('Content-Type',_0x3362fa(0x107));if(_0x463a7e[_0x3362fa(0xf8)](_0x3362fa(0xec))==0x0){}_0x594071[_0x3362fa(0xc5)](_0x468344);if(_0x12a6b6==0x0){if(config[_0x3362fa(0x106)])console[_0x3362fa(0x137)](_0x3362fa(0x110));_0x34c699['unlink'](_0x2e1fb1,function(_0x24f3b7){var _0x23a0cc=_0x3362fa;if(_0x24f3b7)console[_0x23a0cc(0x137)]('ERROR:\x20app.get\x20'+_0x24f3b7);else{if(config['cvjs_debug'])console[_0x23a0cc(0x137)](_0x23a0cc(0x10c));}});}});}}}catch(_0x71bfc9){_0x594071['send']('error\x20-\x20getCADViewerContent');if(config['cvjs_debug'])console[_0x3a0282(0x137)](_0x71bfc9);}}),module[a10_0x14c41c(0xff)]=router;