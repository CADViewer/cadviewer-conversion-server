var a10_0x210ae9=a10_0x4487;(function(_0x130f43,_0x174c60){var _0x300f01=a10_0x4487,_0x37cc97=_0x130f43();while(!![]){try{var _0x442b60=-parseInt(_0x300f01(0x19a))/0x1+-parseInt(_0x300f01(0x177))/0x2+-parseInt(_0x300f01(0x178))/0x3*(-parseInt(_0x300f01(0x1a4))/0x4)+parseInt(_0x300f01(0x13b))/0x5*(parseInt(_0x300f01(0x176))/0x6)+parseInt(_0x300f01(0x187))/0x7*(parseInt(_0x300f01(0x197))/0x8)+parseInt(_0x300f01(0x196))/0x9+-parseInt(_0x300f01(0x138))/0xa;if(_0x442b60===_0x174c60)break;else _0x37cc97['push'](_0x37cc97['shift']());}catch(_0x3f65a1){_0x37cc97['push'](_0x37cc97['shift']());}}}(a10_0x59d2,0x45bc9));const {exit}=require(a10_0x210ae9(0x14f)),{getEnabledCategories}=require(a10_0x210ae9(0x186));function a10_0x4487(_0x37b774,_0xe18fd6){var _0x59d295=a10_0x59d2();return a10_0x4487=function(_0x44879c,_0x114f9a){_0x44879c=_0x44879c-0x138;var _0x4a5ea0=_0x59d295[_0x44879c];return _0x4a5ea0;},a10_0x4487(_0x37b774,_0xe18fd6);}function a10_0x59d2(){var _0x2a1e23=['325831ytrjOE','replace','param_6','param_0','\x20Remain\x20on\x20Server:\x20\x20','Access-Control-Allow-Methods','readFile','gunzip','fileLocationUrl','INSERTSERVERBACKEND','3508uJKyIS','file\x20written','callbackMethod_gatewayUrl','contentLocation','/loadfile:\x20\x20A\x20pickOriginalFile:','param_4','value_9','X-Requested-With,content-type','value_3','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','exports','Content-Security-Policy-Report-Only','value_5','File\x20deleted!','toString','4589240WsWZxK','value_10','cvjs_debug','46810TCDjzH','json','Router','setHeader','Content-Encoding','get','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','application/octet-stream','random','INSERTNONCE','param_8','query','\x22);\x0a','ContentSecurityPolicy','/loadfile:\x20','zlib','Content-Type','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','base64','process','image/svg+xml','close','param_3','remainOnServer','ERROR:\x20app.get\x20','param_2','zlib\x20unzip\x20data\x20not\x20compressed:','ServerLocation','log','length','INSERTCONVERSIONPARAMETERS','application/json','value_1','indexOf','write','cvjs_svgz_compress','Access-Control-Allow-Origin\x20:\x20*','../CADViewer_config.json','URLFLAG:\x20serverbackend=','ServerUrl','\x20fileType=','zlib\x20unzip\x20data\x20already\x20compressed:','pickOriginalFile\x20return\x20length=','unlink','param_5','image/jpeg','Access-Control-Allow-Origin\x20:','svg','readFileSync','ServerFrontEndUrlAsAllowedOriginOnly','.html','Access-Control-Allow-Headers','from','\x20TYPE=','send','param_9','sendFile','::1','366dUfICK','892864PiNnYT','1497aqRSEq','zlib\x20error:','ContentSecurityPolicyReportOnly','/loadfile:\x20D\x20plain\x20svg:','\x20returnCadviewer=','param_7','first\x20in\x20/getcadviewercontent','ServerFrontEndUrl','randomBytes','returnCadviewer','callbackMethod_gatewayUrl_flag','Access-Control-Allow-Origin','Type','open','trace_events','121149RNbWtY','error\x20savefile:\x20','\x20inputFile=','localhost','INSERTFILENAME','INSERTSERVERURL','\x20pickOriginalFile=','utf-8','floor','fileLocation','gzip','zlib\x20unzip\x20data:','CURRETNLOADEDDRAWINGFULLNAME','utf8','substring','679032tlRFiO','200EnTVkG','iscached','cvjs_conversion_addAXconversionParameter(\x22'];a10_0x59d2=function(){return _0x2a1e23;};return a10_0x59d2();}var config=require(a10_0x210ae9(0x161)),cvjs_debug=config[a10_0x210ae9(0x13a)],express=require('express'),router=express[a10_0x210ae9(0x13d)](),crypto=require('crypto');const isGzip=require('is-gzip');router[a10_0x210ae9(0x140)]('/getcadviewercontent',function(_0x43b6c0,_0x2d6280){var _0x5b76d2=a10_0x210ae9;if(config[_0x5b76d2(0x16d)]==!![]){_0x2d6280[_0x5b76d2(0x13e)](_0x5b76d2(0x183),config[_0x5b76d2(0x17f)]);if(cvjs_debug)console[_0x5b76d2(0x158)](_0x5b76d2(0x16a)+config[_0x5b76d2(0x17f)]);}else{_0x2d6280[_0x5b76d2(0x13e)](_0x5b76d2(0x183),'*');if(cvjs_debug)console[_0x5b76d2(0x158)](_0x5b76d2(0x160));}_0x2d6280['setHeader'](_0x5b76d2(0x19f),_0x5b76d2(0x1ad)),_0x2d6280[_0x5b76d2(0x13e)](_0x5b76d2(0x16f),_0x5b76d2(0x1ab)),_0x2d6280[_0x5b76d2(0x13e)]('Access-Control-Allow-Credentials',!![]);var _0x371dd3=crypto[_0x5b76d2(0x180)](0x10)[_0x5b76d2(0x1b2)](_0x5b76d2(0x14e)),_0x5482bd=config[_0x5b76d2(0x149)];_0x5482bd=_0x5482bd[_0x5b76d2(0x19b)](_0x5b76d2(0x145),_0x371dd3);if(config[_0x5b76d2(0x17a)])_0x2d6280[_0x5b76d2(0x13e)](_0x5b76d2(0x1af),_0x5482bd);else _0x2d6280[_0x5b76d2(0x13e)]('Content-Security-Policy',_0x5482bd);if(config[_0x5b76d2(0x13a)])console[_0x5b76d2(0x158)](_0x5b76d2(0x17e));try{var _0x5a8470=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x153)],_0x2f62a6=_0x43b6c0[_0x5b76d2(0x147)]['fileTag'],_0x55d199=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x184)],_0x29451e=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x181)],_0x2e52d8=_0x43b6c0[_0x5b76d2(0x147)]['pickOriginalFile'],_0x5d181c=config[_0x5b76d2(0x190)]+_0x2f62a6+'.'+_0x55d199,_0x1020ac=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x198)];if(config['cvjs_debug'])console[_0x5b76d2(0x158)](_0x5b76d2(0x14a)+_0x5d181c+_0x5b76d2(0x19e)+_0x5a8470+_0x5b76d2(0x164)+_0x55d199+_0x5b76d2(0x17c)+_0x29451e+_0x5b76d2(0x18d)+_0x2e52d8);var _0x4e0d91=require('fs');if(_0x2e52d8==0x1){if(config[_0x5b76d2(0x13a)])console[_0x5b76d2(0x158)](_0x5b76d2(0x1a8)+_0x2e52d8+_0x5b76d2(0x189)+_0x5d181c);try{const _0x5525e7=_0x4e0d91[_0x5b76d2(0x16c)](_0x5d181c);_0x2d6280[_0x5b76d2(0x13e)](_0x5b76d2(0x14c),'application/octet-stream'),_0x2d6280['send'](_0x5525e7),console[_0x5b76d2(0x158)](_0x5b76d2(0x166)+_0x5525e7[_0x5b76d2(0x159)]);if(_0x5a8470==0x0){if(config[_0x5b76d2(0x13a)])console[_0x5b76d2(0x158)](_0x5b76d2(0x142));_0x4e0d91[_0x5b76d2(0x167)](_0x5d181c,function(_0x579770){var _0x4f0800=_0x5b76d2;if(_0x579770)console['log'](_0x4f0800(0x154)+_0x579770);else{if(config[_0x4f0800(0x13a)])console[_0x4f0800(0x158)]('File\x20deleted!');}});}return;}catch(_0x486291){console['error'](_0x486291);return;}}if(_0x29451e==0x1){if(config[_0x5b76d2(0x13a)])console['log'](_0x5b76d2(0x141)+_0x5d181c);var _0x33e958=Math['floor'](Math[_0x5b76d2(0x144)]()*Math[_0x5b76d2(0x18f)](0x5f5e100)),_0x28651c='/html/CV'+_0x33e958+_0x5b76d2(0x16e),_0x4f52ec=config['ServerLocation']+_0x28651c,_0x4aa098=config[_0x5b76d2(0x157)]+'/html/CADViewer_base_10_restresponse.html',_0x4fc88f=new Array(0xb);_0x4fc88f[0x0]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x19d)],_0x4fc88f[0x1]=_0x43b6c0[_0x5b76d2(0x147)]['param_1'],_0x4fc88f[0x2]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x155)],_0x4fc88f[0x3]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x152)],_0x4fc88f[0x4]=_0x43b6c0['query'][_0x5b76d2(0x1a9)],_0x4fc88f[0x5]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x168)],_0x4fc88f[0x6]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x19c)],_0x4fc88f[0x7]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x17d)],_0x4fc88f[0x8]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x146)],_0x4fc88f[0x9]=_0x43b6c0['query'][_0x5b76d2(0x173)],_0x4fc88f[0xa]=_0x43b6c0['query']['param_10'];var _0x308be4=new Array(0xb);_0x308be4[0x0]=_0x43b6c0[_0x5b76d2(0x147)]['value_0'],_0x308be4[0x1]=_0x43b6c0['query'][_0x5b76d2(0x15c)],_0x308be4[0x2]=_0x43b6c0[_0x5b76d2(0x147)]['value_2'],_0x308be4[0x3]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x1ac)],_0x308be4[0x4]=_0x43b6c0[_0x5b76d2(0x147)]['value_4'],_0x308be4[0x5]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x1b0)],_0x308be4[0x6]=_0x43b6c0[_0x5b76d2(0x147)]['value_6'],_0x308be4[0x7]=_0x43b6c0['query']['value_7'],_0x308be4[0x8]=_0x43b6c0[_0x5b76d2(0x147)]['value_8'],_0x308be4[0x9]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x1aa)],_0x308be4[0xa]=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x139)];var _0x3e2479=_0x43b6c0[_0x5b76d2(0x147)][_0x5b76d2(0x1a7)];_0x4e0d91['copyFile'](_0x4aa098,_0x4f52ec,_0x337a6d=>{var _0x46466b=_0x5b76d2;_0x337a6d?console['log']('Error\x20Found:',_0x337a6d):_0x4e0d91[_0x46466b(0x1a0)](_0x4f52ec,_0x46466b(0x194),function(_0x4c9444,_0x47700f){var _0x31cdf4=_0x46466b,_0x2d6585=_0x47700f['toString']();_0x2d6585=_0x2d6585['replace'](_0x31cdf4(0x145),_0x371dd3);var _0x4fde7f=_0x2d6585[_0x31cdf4(0x195)](0x0,_0x2d6585['indexOf'](_0x31cdf4(0x18b))),_0x444114=_0x2d6585[_0x31cdf4(0x195)](_0x2d6585['indexOf']('INSERTFILENAME')+0xe);config['cached_conversion']?_0x2d6585=_0x4fde7f+_0x3e2479+_0x444114:_0x2d6585=_0x4fde7f+config[_0x31cdf4(0x1a2)]+'/'+_0x2f62a6+'.'+_0x55d199+_0x444114;_0x4fde7f=_0x2d6585[_0x31cdf4(0x195)](0x0,_0x2d6585[_0x31cdf4(0x15d)](_0x31cdf4(0x1a3))),_0x444114=_0x2d6585['substring'](_0x2d6585['indexOf'](_0x31cdf4(0x1a3))+0x13);var _0x33130c='';if(config[_0x31cdf4(0x182)]){_0x33130c=config[_0x31cdf4(0x1a6)];if(cvjs_debug)console[_0x31cdf4(0x158)](_0x31cdf4(0x162)+_0x33130c);}else _0x33130c=config[_0x31cdf4(0x163)],_0x33130c[_0x31cdf4(0x15d)](_0x31cdf4(0x175))>-0x1&&(_0x33130c=_0x33130c[_0x31cdf4(0x19b)](_0x31cdf4(0x175),_0x31cdf4(0x18a)));_0x2d6585=_0x4fde7f+_0x33130c+'/'+_0x444114,_0x4fde7f=_0x2d6585[_0x31cdf4(0x195)](0x0,_0x2d6585[_0x31cdf4(0x15d)](_0x31cdf4(0x18c))),_0x444114=_0x2d6585[_0x31cdf4(0x195)](_0x2d6585['indexOf'](_0x31cdf4(0x18c))+0xf),_0x2d6585=_0x4fde7f+_0x33130c+'/'+_0x444114,_0x4fde7f=_0x2d6585['substring'](0x0,_0x2d6585[_0x31cdf4(0x15d)]('INSERTCONVERSIONPARAMETERS')),_0x444114=_0x2d6585['substring'](_0x2d6585['indexOf'](_0x31cdf4(0x15a))+0x1a);var _0x1748ae='';for(var _0x4fc744=0x1;_0x4fc744<0xb;_0x4fc744++){_0x4fc88f[_0x4fc744]!=undefined&&(_0x308be4[_0x4fc744]!=undefined?_0x1748ae=_0x1748ae+_0x31cdf4(0x199)+_0x4fc88f[_0x4fc744]+'\x22,\x22'+_0x308be4[_0x4fc744]+_0x31cdf4(0x148):_0x1748ae=_0x1748ae+_0x31cdf4(0x199)+_0x4fc88f[_0x4fc744]+'\x22,\x22\x22);\x0a');}_0x2d6585=_0x4fde7f+_0x1748ae+_0x444114,_0x4fde7f=_0x2d6585[_0x31cdf4(0x195)](0x0,_0x2d6585[_0x31cdf4(0x15d)](_0x31cdf4(0x193))),_0x444114=_0x2d6585['substring'](_0x2d6585[_0x31cdf4(0x15d)](_0x31cdf4(0x193))+0x1c),_0x2d6585=_0x4fde7f+'currentLoadedDrawingFullName=\x22'+_0x3e2479+'\x22;'+_0x444114,_0x4e0d91[_0x31cdf4(0x185)](_0x4f52ec,'w',function(_0x49b148,_0x356255){var _0x502359=_0x31cdf4,_0x8e4f70=Buffer[_0x502359(0x170)](_0x2d6585);_0x4e0d91[_0x502359(0x15e)](_0x356255,_0x8e4f70,0x0,_0x8e4f70[_0x502359(0x159)],null,function(_0x21cc8d){var _0x120e81=_0x502359;if(_0x21cc8d){if(config[_0x120e81(0x13a)])console[_0x120e81(0x158)](_0x120e81(0x188)+_0x21cc8d);}else _0x4e0d91[_0x120e81(0x151)](_0x356255,function(){var _0x5503ac=_0x120e81;if(config[_0x5503ac(0x13a)])console['log'](_0x5503ac(0x1a5));_0x2d6280[_0x5503ac(0x174)](_0x4f52ec);});});});});});}else{if(config[_0x5b76d2(0x13a)])console[_0x5b76d2(0x158)](_0x5b76d2(0x14d)+_0x5d181c+'\x20TYPE='+_0x55d199);if(_0x55d199[_0x5b76d2(0x15d)]('svgz')>-0x1&&config[_0x5b76d2(0x15f)]){if(config['cvjs_debug'])console[_0x5b76d2(0x158)]('/loadfile:\x20D\x20svgz\x20compression:'+_0x5d181c+_0x5b76d2(0x171)+_0x55d199);_0x4e0d91[_0x5b76d2(0x1a0)](_0x5d181c,function(_0x28bedc,_0x46f994){var _0x4badd9=_0x5b76d2;if(_0x28bedc){_0x2d6280[_0x4badd9(0x172)]('error\x20-\x20get\x20/app/*\x20'+_0x28bedc);if(config['cvjs_debug'])console['log'](_0x28bedc);}else{if(_0x2e52d8==0x1){if(config[_0x4badd9(0x13a)])console[_0x4badd9(0x158)]('zlib\x20unzip\x20inputFile='+_0x5d181c);var _0x3d5a3c=require(_0x4badd9(0x14b));_0x3d5a3c[_0x4badd9(0x1a1)](_0x46f994,{'chunkSize':0x10000},function(_0x5adc84,_0x2e78c0){var _0x3cde6a=_0x4badd9,_0x53d4d9=new Buffer(_0x2e78c0,_0x3cde6a(0x18e));_0x3d5a3c[_0x3cde6a(0x191)](_0x53d4d9,function(_0x613b48,_0x19b660){var _0x68318a=_0x3cde6a;_0x2d6280['setHeader']('Content-Type',_0x68318a(0x169)),_0x2d6280[_0x68318a(0x172)](_0x19b660);});});}else{if(config[_0x4badd9(0x13a)])console[_0x4badd9(0x158)](_0x4badd9(0x192)+_0x46f994[_0x4badd9(0x159)]);if(isGzip(_0x46f994)){if(config[_0x4badd9(0x13a)])console['log'](_0x4badd9(0x165)+_0x46f994[_0x4badd9(0x159)]);try{var _0x3d5a3c=require(_0x4badd9(0x14b));_0x3d5a3c[_0x4badd9(0x1a1)](_0x46f994,{'chunkSize':0x10000},function(_0x58aaa8,_0x16c97e){var _0x58a07a=_0x4badd9,_0x316e04=new Buffer(_0x16c97e,'utf-8');_0x3d5a3c[_0x58a07a(0x191)](_0x316e04,function(_0x5d8313,_0x3a4f3f){var _0x4444c1=_0x58a07a;_0x2d6280[_0x4444c1(0x13e)]('Content-Type','image/svg+xml'),_0x2d6280['setHeader'](_0x4444c1(0x13f),_0x4444c1(0x191)),_0x2d6280[_0x4444c1(0x172)](_0x3a4f3f);});});}catch(_0x3f48c6){console['log'](_0x4badd9(0x179)+_0x3f48c6);}}else{if(config[_0x4badd9(0x13a)])console[_0x4badd9(0x158)](_0x4badd9(0x156)+_0x46f994[_0x4badd9(0x159)]);_0x55d199['indexOf'](_0x4badd9(0x16b))==0x0&&(_0x2e52d8==0x1?_0x2d6280[_0x4badd9(0x13e)](_0x4badd9(0x14c),'image/jpeg'):_0x2d6280[_0x4badd9(0x13e)]('Content-Type','image/svg+xml'));_0x55d199[_0x4badd9(0x15d)](_0x4badd9(0x13c))==0x0?_0x2d6280[_0x4badd9(0x13e)]('Content-Type',_0x4badd9(0x15b)):_0x2d6280[_0x4badd9(0x13e)](_0x4badd9(0x14c),_0x4badd9(0x143));if(_0x55d199[_0x4badd9(0x15d)](_0x4badd9(0x13c))==0x0){}_0x2d6280['send'](_0x46f994);}if(_0x5a8470==0x0){if(config['cvjs_debug'])console[_0x4badd9(0x158)](_0x4badd9(0x142));_0x4e0d91[_0x4badd9(0x167)](_0x5d181c,function(_0x30e157){var _0x315318=_0x4badd9;if(_0x30e157)console[_0x315318(0x158)](_0x315318(0x154)+_0x30e157);else{if(config[_0x315318(0x13a)])console[_0x315318(0x158)]('File\x20deleted!');}});}}}});}else{if(config[_0x5b76d2(0x13a)])console[_0x5b76d2(0x158)](_0x5b76d2(0x17b)+_0x5d181c+_0x5b76d2(0x171)+_0x55d199);_0x4e0d91[_0x5b76d2(0x1a0)](_0x5d181c,_0x5b76d2(0x194),function(_0x5c30b1,_0x150fd8){var _0x2ae6f4=_0x5b76d2;_0x55d199[_0x2ae6f4(0x15d)](_0x2ae6f4(0x16b))==0x0&&(_0x2e52d8==0x1?_0x2d6280[_0x2ae6f4(0x13e)](_0x2ae6f4(0x14c),'image/jpeg'):_0x2d6280[_0x2ae6f4(0x13e)]('Content-Type',_0x2ae6f4(0x150)));_0x55d199[_0x2ae6f4(0x15d)](_0x2ae6f4(0x13c))==0x0?_0x2d6280[_0x2ae6f4(0x13e)](_0x2ae6f4(0x14c),'application/json'):_0x2d6280[_0x2ae6f4(0x13e)](_0x2ae6f4(0x14c),'application/octet-stream');if(_0x55d199[_0x2ae6f4(0x15d)](_0x2ae6f4(0x13c))==0x0){}_0x2d6280[_0x2ae6f4(0x172)](_0x150fd8);if(_0x5a8470==0x0){if(config[_0x2ae6f4(0x13a)])console[_0x2ae6f4(0x158)](_0x2ae6f4(0x142));_0x4e0d91[_0x2ae6f4(0x167)](_0x5d181c,function(_0x5aeeb4){var _0x1949af=_0x2ae6f4;if(_0x5aeeb4)console[_0x1949af(0x158)](_0x1949af(0x154)+_0x5aeeb4);else{if(config[_0x1949af(0x13a)])console[_0x1949af(0x158)](_0x1949af(0x1b1));}});}});}}}catch(_0x351797){_0x2d6280[_0x5b76d2(0x172)]('error\x20-\x20getCADViewerContent');if(config[_0x5b76d2(0x13a)])console[_0x5b76d2(0x158)](_0x351797);}}),module[a10_0x210ae9(0x1ae)]=router;