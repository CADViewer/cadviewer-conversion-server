var a10_0x370961=a10_0x419c;(function(_0x3bc3ae,_0x5d44d5){var _0x460bfa=a10_0x419c,_0x4bac4e=_0x3bc3ae();while(!![]){try{var _0x59ba71=parseInt(_0x460bfa(0xf3))/0x1*(parseInt(_0x460bfa(0x132))/0x2)+parseInt(_0x460bfa(0x11f))/0x3+parseInt(_0x460bfa(0x13a))/0x4*(-parseInt(_0x460bfa(0xda))/0x5)+parseInt(_0x460bfa(0x109))/0x6+-parseInt(_0x460bfa(0x10c))/0x7+parseInt(_0x460bfa(0xf8))/0x8*(parseInt(_0x460bfa(0x12d))/0x9)+-parseInt(_0x460bfa(0xe6))/0xa;if(_0x59ba71===_0x5d44d5)break;else _0x4bac4e['push'](_0x4bac4e['shift']());}catch(_0x34a85c){_0x4bac4e['push'](_0x4bac4e['shift']());}}}(a10_0x4f4b,0xc8c79));const {exit}=require(a10_0x370961(0xdd)),{getEnabledCategories}=require(a10_0x370961(0xec));function a10_0x419c(_0x55103e,_0x3f6803){var _0x4f4b48=a10_0x4f4b();return a10_0x419c=function(_0x419c98,_0x43662f){_0x419c98=_0x419c98-0xc0;var _0xdca337=_0x4f4b48[_0x419c98];return _0xdca337;},a10_0x419c(_0x55103e,_0x3f6803);}function a10_0x4f4b(){var _0x58c22b=['param_9','/html/CADViewer_base_10_restresponse.html','image/jpeg','pickOriginalFile','base64','92431MeTeXG','Content-Encoding','INSERTCONVERSIONPARAMETERS','X-Requested-With,content-type','copyFile','24ZIoMkp','readFileSync','send','application/octet-stream','fileTag','Content-Security-Policy-Report-Only','param_0','\x22,\x22\x22);\x0a','get','File\x20deleted!','value_6','replace','\x20inputFile=','zlib\x20unzip\x20data\x20not\x20compressed:','length','INSERTSERVERBACKEND','cvjs_debug','6171426lxmfIA','param_2','/getcadviewercontent','8964704gFnqsp','INSERTSERVERURL','error\x20-\x20getCADViewerContent','::1','ServerLocation','randomBytes','zlib','zlib\x20unzip\x20data\x20already\x20compressed:','unlink','pickOriginalFile\x20return\x20length=','Content-Security-Policy','Type','svg','value_9','CURRETNLOADEDDRAWINGFULLNAME','from','value_7','is-gzip','crypto','4934232bBKyRI','/loadfile:\x20D\x20svgz\x20compression:','error','value_1','svgz','application/json','ServerFrontEndUrlAsAllowedOriginOnly','indexOf','fileLocation','gzip','cvjs_svgz_compress','Router','\x22);\x0a','\x20TYPE=','4404438PAFMYL','ContentSecurityPolicy','query','param_8','Access-Control-Allow-Origin\x20:\x20*','8sqpCQP','param_7','param_6','currentLoadedDrawingFullName=\x22','json','INSERTFILENAME','ServerFrontEndUrl','floor','381116MKhvhf','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','ServerUrl','log','Content-Type','/html/CV','callbackMethod_gatewayUrl_flag','sendFile','gunzip','ERROR:\x20app.get\x20','param_3','cvjs_conversion_addAXconversionParameter(\x22','readFile','substring','Access-Control-Allow-Credentials','param_4','zlib\x20unzip\x20data:','remainOnServer','value_10','close','contentLocation','random','exports','Access-Control-Allow-Origin','callbackMethod_gatewayUrl','toString','cached_conversion','Access-Control-Allow-Origin\x20:','/loadfile:\x20\x20A\x20pickOriginalFile:','error\x20savefile:\x20','15RiqJGD','open','value_8','process','utf-8','\x20fileType=','value_3','fileLocationUrl','Access-Control-Allow-Methods','image/svg+xml','zlib\x20error:','param_1','21222830dYyXdM','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','value_2','utf8','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','setHeader','trace_events','/loadfile:\x20'];a10_0x4f4b=function(){return _0x58c22b;};return a10_0x4f4b();}var config=require('../CADViewer_config.json'),cvjs_debug=config[a10_0x370961(0x108)],express=require('express'),router=express[a10_0x370961(0x12a)](),crypto=require(a10_0x370961(0x11e));const isGzip=require(a10_0x370961(0x11d));router[a10_0x370961(0x100)](a10_0x370961(0x10b),function(_0x1fb224,_0x112149){var _0x19a68f=a10_0x370961;if(config[_0x19a68f(0x125)]==!![]){_0x112149['setHeader'](_0x19a68f(0xd3),config[_0x19a68f(0x138)]);if(cvjs_debug)console[_0x19a68f(0x13d)](_0x19a68f(0xd7)+config[_0x19a68f(0x138)]);}else{_0x112149[_0x19a68f(0xeb)](_0x19a68f(0xd3),'*');if(cvjs_debug)console[_0x19a68f(0x13d)](_0x19a68f(0x131));}_0x112149[_0x19a68f(0xeb)](_0x19a68f(0xe2),_0x19a68f(0xe7)),_0x112149['setHeader']('Access-Control-Allow-Headers',_0x19a68f(0xf6)),_0x112149[_0x19a68f(0xeb)](_0x19a68f(0xca),!![]);var _0x4b67d0=crypto[_0x19a68f(0x111)](0x10)['toString'](_0x19a68f(0xf2)),_0x30046c=config[_0x19a68f(0x12e)];_0x30046c=_0x30046c[_0x19a68f(0x103)]('INSERTNONCE',_0x4b67d0);if(config['ContentSecurityPolicyReportOnly'])_0x112149[_0x19a68f(0xeb)](_0x19a68f(0xfd),_0x30046c);else _0x112149['setHeader'](_0x19a68f(0x116),_0x30046c);if(config['cvjs_debug'])console[_0x19a68f(0x13d)]('first\x20in\x20/getcadviewercontent');try{var _0x1737c4=_0x1fb224['query'][_0x19a68f(0xcd)],_0x4b358d=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xfc)],_0x29404c=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x117)],_0x1c002b=_0x1fb224['query']['returnCadviewer'],_0x1c12ee=_0x1fb224['query'][_0x19a68f(0xf1)],_0x4a3193=config[_0x19a68f(0x127)]+_0x4b358d+'.'+_0x29404c,_0x1e7212=_0x1fb224['query']['iscached'];if(config[_0x19a68f(0x108)])console[_0x19a68f(0x13d)](_0x19a68f(0xed)+_0x4a3193+'\x20Remain\x20on\x20Server:\x20\x20'+_0x1737c4+_0x19a68f(0xdf)+_0x29404c+'\x20returnCadviewer='+_0x1c002b+'\x20pickOriginalFile='+_0x1c12ee);var _0x38a9ab=require('fs');if(_0x1c12ee==0x1){if(config[_0x19a68f(0x108)])console[_0x19a68f(0x13d)](_0x19a68f(0xd8)+_0x1c12ee+_0x19a68f(0x104)+_0x4a3193);try{const _0x2bad7e=_0x38a9ab[_0x19a68f(0xf9)](_0x4a3193);_0x112149[_0x19a68f(0xeb)](_0x19a68f(0xc0),_0x19a68f(0xfb)),_0x112149[_0x19a68f(0xfa)](_0x2bad7e),console[_0x19a68f(0x13d)](_0x19a68f(0x115)+_0x2bad7e['length']);if(_0x1737c4==0x0){if(config['cvjs_debug'])console[_0x19a68f(0x13d)](_0x19a68f(0xea));_0x38a9ab[_0x19a68f(0x114)](_0x4a3193,function(_0x71b163){var _0xc5760f=_0x19a68f;if(_0x71b163)console['log'](_0xc5760f(0xc5)+_0x71b163);else{if(config[_0xc5760f(0x108)])console['log']('File\x20deleted!');}});}return;}catch(_0x1336b1){console[_0x19a68f(0x121)](_0x1336b1);return;}}if(_0x1c002b==0x1){if(config['cvjs_debug'])console[_0x19a68f(0x13d)]('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x4a3193);var _0x4e4388=Math['floor'](Math[_0x19a68f(0xd1)]()*Math[_0x19a68f(0x139)](0x5f5e100)),_0x77093e=_0x19a68f(0xc1)+_0x4e4388+'.html',_0x480787=config[_0x19a68f(0x110)]+_0x77093e,_0x38ef68=config[_0x19a68f(0x110)]+_0x19a68f(0xef),_0x355a6=new Array(0xb);_0x355a6[0x0]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xfe)],_0x355a6[0x1]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xe5)],_0x355a6[0x2]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x10a)],_0x355a6[0x3]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xc6)],_0x355a6[0x4]=_0x1fb224['query'][_0x19a68f(0xcb)],_0x355a6[0x5]=_0x1fb224['query']['param_5'],_0x355a6[0x6]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x134)],_0x355a6[0x7]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x133)],_0x355a6[0x8]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x130)],_0x355a6[0x9]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xee)],_0x355a6[0xa]=_0x1fb224[_0x19a68f(0x12f)]['param_10'];var _0x8b1473=new Array(0xb);_0x8b1473[0x0]=_0x1fb224['query']['value_0'],_0x8b1473[0x1]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x122)],_0x8b1473[0x2]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xe8)],_0x8b1473[0x3]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xe0)],_0x8b1473[0x4]=_0x1fb224['query']['value_4'],_0x8b1473[0x5]=_0x1fb224[_0x19a68f(0x12f)]['value_5'],_0x8b1473[0x6]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x102)],_0x8b1473[0x7]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x11c)],_0x8b1473[0x8]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xdc)],_0x8b1473[0x9]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0x119)],_0x8b1473[0xa]=_0x1fb224[_0x19a68f(0x12f)][_0x19a68f(0xce)];var _0x4fa43b=_0x1fb224['query'][_0x19a68f(0xd0)];_0x38a9ab[_0x19a68f(0xf7)](_0x38ef68,_0x480787,_0x5242c9=>{var _0x2d5869=_0x19a68f;_0x5242c9?console[_0x2d5869(0x13d)]('Error\x20Found:',_0x5242c9):_0x38a9ab[_0x2d5869(0xc8)](_0x480787,_0x2d5869(0xe9),function(_0x29bc4d,_0x418db5){var _0x35df70=_0x2d5869,_0xc7d113=_0x418db5[_0x35df70(0xd5)]();_0xc7d113=_0xc7d113[_0x35df70(0x103)]('INSERTNONCE',_0x4b67d0);var _0x1313ee=_0xc7d113[_0x35df70(0xc9)](0x0,_0xc7d113[_0x35df70(0x126)](_0x35df70(0x137))),_0x546dff=_0xc7d113[_0x35df70(0xc9)](_0xc7d113[_0x35df70(0x126)](_0x35df70(0x137))+0xe);config[_0x35df70(0xd6)]?_0xc7d113=_0x1313ee+_0x4fa43b+_0x546dff:_0xc7d113=_0x1313ee+config[_0x35df70(0xe1)]+'/'+_0x4b358d+'.'+_0x29404c+_0x546dff;_0x1313ee=_0xc7d113['substring'](0x0,_0xc7d113[_0x35df70(0x126)](_0x35df70(0x107))),_0x546dff=_0xc7d113['substring'](_0xc7d113[_0x35df70(0x126)](_0x35df70(0x107))+0x13);var _0xd71af2='';if(config[_0x35df70(0xc2)]){_0xd71af2=config[_0x35df70(0xd4)];if(cvjs_debug)console[_0x35df70(0x13d)]('URLFLAG:\x20serverbackend='+_0xd71af2);}else _0xd71af2=config[_0x35df70(0x13c)],_0xd71af2[_0x35df70(0x126)](_0x35df70(0x10f))>-0x1&&(_0xd71af2=_0xd71af2[_0x35df70(0x103)](_0x35df70(0x10f),'localhost'));_0xc7d113=_0x1313ee+_0xd71af2+'/'+_0x546dff,_0x1313ee=_0xc7d113[_0x35df70(0xc9)](0x0,_0xc7d113[_0x35df70(0x126)](_0x35df70(0x10d))),_0x546dff=_0xc7d113[_0x35df70(0xc9)](_0xc7d113[_0x35df70(0x126)](_0x35df70(0x10d))+0xf),_0xc7d113=_0x1313ee+_0xd71af2+'/'+_0x546dff,_0x1313ee=_0xc7d113['substring'](0x0,_0xc7d113[_0x35df70(0x126)]('INSERTCONVERSIONPARAMETERS')),_0x546dff=_0xc7d113['substring'](_0xc7d113['indexOf'](_0x35df70(0xf5))+0x1a);var _0x51d887='';for(var _0x3a1162=0x1;_0x3a1162<0xb;_0x3a1162++){_0x355a6[_0x3a1162]!=undefined&&(_0x8b1473[_0x3a1162]!=undefined?_0x51d887=_0x51d887+_0x35df70(0xc7)+_0x355a6[_0x3a1162]+'\x22,\x22'+_0x8b1473[_0x3a1162]+_0x35df70(0x12b):_0x51d887=_0x51d887+_0x35df70(0xc7)+_0x355a6[_0x3a1162]+_0x35df70(0xff));}_0xc7d113=_0x1313ee+_0x51d887+_0x546dff,_0x1313ee=_0xc7d113[_0x35df70(0xc9)](0x0,_0xc7d113['indexOf']('CURRETNLOADEDDRAWINGFULLNAME')),_0x546dff=_0xc7d113[_0x35df70(0xc9)](_0xc7d113[_0x35df70(0x126)](_0x35df70(0x11a))+0x1c),_0xc7d113=_0x1313ee+_0x35df70(0x135)+_0x4fa43b+'\x22;'+_0x546dff,_0x38a9ab[_0x35df70(0xdb)](_0x480787,'w',function(_0x2db213,_0x30fbc1){var _0x117f94=_0x35df70,_0x5104d8=Buffer[_0x117f94(0x11b)](_0xc7d113);_0x38a9ab['write'](_0x30fbc1,_0x5104d8,0x0,_0x5104d8[_0x117f94(0x106)],null,function(_0x3f9c50){var _0x279efe=_0x117f94;if(_0x3f9c50){if(config[_0x279efe(0x108)])console[_0x279efe(0x13d)](_0x279efe(0xd9)+_0x3f9c50);}else _0x38a9ab[_0x279efe(0xcf)](_0x30fbc1,function(){var _0x3b2f53=_0x279efe;if(config[_0x3b2f53(0x108)])console['log']('file\x20written');_0x112149[_0x3b2f53(0xc3)](_0x480787);});});});});});}else{if(config[_0x19a68f(0x108)])console[_0x19a68f(0x13d)](_0x19a68f(0x13b)+_0x4a3193+_0x19a68f(0x12c)+_0x29404c);if(_0x29404c[_0x19a68f(0x126)](_0x19a68f(0x123))>-0x1&&config[_0x19a68f(0x129)]){if(config[_0x19a68f(0x108)])console[_0x19a68f(0x13d)](_0x19a68f(0x120)+_0x4a3193+'\x20TYPE='+_0x29404c);_0x38a9ab['readFile'](_0x4a3193,function(_0x44928d,_0x346ad9){var _0x35ef66=_0x19a68f;if(_0x44928d){_0x112149[_0x35ef66(0xfa)]('error\x20-\x20get\x20/app/*\x20'+_0x44928d);if(config['cvjs_debug'])console[_0x35ef66(0x13d)](_0x44928d);}else{if(_0x1c12ee==0x1){if(config['cvjs_debug'])console[_0x35ef66(0x13d)]('zlib\x20unzip\x20inputFile='+_0x4a3193);var _0x50d0db=require(_0x35ef66(0x112));_0x50d0db[_0x35ef66(0xc4)](_0x346ad9,{'chunkSize':0x10000},function(_0x217477,_0x4d1379){var _0x19af61=_0x35ef66,_0x70b3b6=new Buffer(_0x4d1379,_0x19af61(0xde));_0x50d0db[_0x19af61(0x128)](_0x70b3b6,function(_0x4c5605,_0x593c53){var _0x32e14a=_0x19af61;_0x112149[_0x32e14a(0xeb)](_0x32e14a(0xc0),_0x32e14a(0xf0)),_0x112149[_0x32e14a(0xfa)](_0x593c53);});});}else{if(config[_0x35ef66(0x108)])console['log'](_0x35ef66(0xcc)+_0x346ad9[_0x35ef66(0x106)]);if(isGzip(_0x346ad9)){if(config[_0x35ef66(0x108)])console['log'](_0x35ef66(0x113)+_0x346ad9[_0x35ef66(0x106)]);try{var _0x50d0db=require(_0x35ef66(0x112));_0x50d0db['gunzip'](_0x346ad9,{'chunkSize':0x10000},function(_0x57a0de,_0x231bd0){var _0x467d8b=_0x35ef66,_0x6c00b6=new Buffer(_0x231bd0,_0x467d8b(0xde));_0x50d0db[_0x467d8b(0x128)](_0x6c00b6,function(_0x2a0d8c,_0x58cb86){var _0x52ab8e=_0x467d8b;_0x112149[_0x52ab8e(0xeb)](_0x52ab8e(0xc0),'image/svg+xml'),_0x112149[_0x52ab8e(0xeb)](_0x52ab8e(0xf4),'gzip'),_0x112149['send'](_0x58cb86);});});}catch(_0x3f55a1){console[_0x35ef66(0x13d)](_0x35ef66(0xe4)+_0x3f55a1);}}else{if(config[_0x35ef66(0x108)])console[_0x35ef66(0x13d)](_0x35ef66(0x105)+_0x346ad9[_0x35ef66(0x106)]);_0x29404c[_0x35ef66(0x126)]('svg')==0x0&&(_0x1c12ee==0x1?_0x112149['setHeader'](_0x35ef66(0xc0),_0x35ef66(0xf0)):_0x112149[_0x35ef66(0xeb)](_0x35ef66(0xc0),_0x35ef66(0xe3)));_0x29404c[_0x35ef66(0x126)](_0x35ef66(0x136))==0x0?_0x112149[_0x35ef66(0xeb)](_0x35ef66(0xc0),_0x35ef66(0x124)):_0x112149[_0x35ef66(0xeb)]('Content-Type',_0x35ef66(0xfb));if(_0x29404c['indexOf']('json')==0x0){}_0x112149[_0x35ef66(0xfa)](_0x346ad9);}if(_0x1737c4==0x0){if(config['cvjs_debug'])console['log'](_0x35ef66(0xea));_0x38a9ab[_0x35ef66(0x114)](_0x4a3193,function(_0x25b17c){var _0x48bb7b=_0x35ef66;if(_0x25b17c)console[_0x48bb7b(0x13d)](_0x48bb7b(0xc5)+_0x25b17c);else{if(config[_0x48bb7b(0x108)])console[_0x48bb7b(0x13d)](_0x48bb7b(0x101));}});}}}});}else{if(config[_0x19a68f(0x108)])console[_0x19a68f(0x13d)]('/loadfile:\x20D\x20plain\x20svg:'+_0x4a3193+_0x19a68f(0x12c)+_0x29404c);_0x38a9ab[_0x19a68f(0xc8)](_0x4a3193,_0x19a68f(0xe9),function(_0x4adc47,_0x3a95d1){var _0x3df887=_0x19a68f;_0x29404c[_0x3df887(0x126)](_0x3df887(0x118))==0x0&&(_0x1c12ee==0x1?_0x112149[_0x3df887(0xeb)](_0x3df887(0xc0),_0x3df887(0xf0)):_0x112149[_0x3df887(0xeb)](_0x3df887(0xc0),_0x3df887(0xe3)));_0x29404c[_0x3df887(0x126)](_0x3df887(0x136))==0x0?_0x112149[_0x3df887(0xeb)](_0x3df887(0xc0),_0x3df887(0x124)):_0x112149[_0x3df887(0xeb)](_0x3df887(0xc0),_0x3df887(0xfb));if(_0x29404c['indexOf'](_0x3df887(0x136))==0x0){}_0x112149[_0x3df887(0xfa)](_0x3a95d1);if(_0x1737c4==0x0){if(config['cvjs_debug'])console[_0x3df887(0x13d)](_0x3df887(0xea));_0x38a9ab[_0x3df887(0x114)](_0x4a3193,function(_0x1ec764){var _0x26c5e8=_0x3df887;if(_0x1ec764)console[_0x26c5e8(0x13d)]('ERROR:\x20app.get\x20'+_0x1ec764);else{if(config[_0x26c5e8(0x108)])console['log']('File\x20deleted!');}});}});}}}catch(_0x5ae48b){_0x112149[_0x19a68f(0xfa)](_0x19a68f(0x10e));if(config[_0x19a68f(0x108)])console[_0x19a68f(0x13d)](_0x5ae48b);}}),module[a10_0x370961(0xd2)]=router;