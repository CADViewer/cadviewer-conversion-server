var a10_0x1a0ee4=a10_0x2f65;(function(_0x12d65e,_0x4f556e){var _0x3de169=a10_0x2f65,_0x610611=_0x12d65e();while(!![]){try{var _0x5c8785=-parseInt(_0x3de169(0x187))/0x1+parseInt(_0x3de169(0x1a3))/0x2+parseInt(_0x3de169(0x18e))/0x3+-parseInt(_0x3de169(0x157))/0x4+parseInt(_0x3de169(0x18a))/0x5*(parseInt(_0x3de169(0x180))/0x6)+parseInt(_0x3de169(0x161))/0x7+-parseInt(_0x3de169(0x14a))/0x8*(parseInt(_0x3de169(0x17d))/0x9);if(_0x5c8785===_0x4f556e)break;else _0x610611['push'](_0x610611['shift']());}catch(_0x210472){_0x610611['push'](_0x610611['shift']());}}}(a10_0x3d80,0x5a401));const {exit}=require('process'),{getEnabledCategories}=require(a10_0x1a0ee4(0x13d));var config=require(a10_0x1a0ee4(0x178)),cvjs_debug=config['cvjs_debug'],express=require(a10_0x1a0ee4(0x184)),router=express[a10_0x1a0ee4(0x13c)](),crypto=require(a10_0x1a0ee4(0x173));const isGzip=require('is-gzip');function a10_0x3d80(){var _0x43a086=['/loadfile:\x20\x20A\x20pickOriginalFile:','readFile','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','express','Content-Security-Policy','utf8','595134SpJcWJ','Access-Control-Allow-Origin\x20:\x20*','cached_conversion','10INCMZp','zlib','pickOriginalFile\x20return\x20length=','INSERTNONCE','1407972AXbkPw','value_4','/html/CV','::1','indexOf','Content-Encoding','\x20TYPE=','application/json','floor','base64','value_2','svgz','.html','file\x20written','Content-Type','ServerLocation','/html/CADViewer_base_10_restresponse.html','/getcadviewercontent','substring','param_5','INSERTFILENAME','1370768nGkQyc','copyFile','gzip','write','utf-8','get','pickOriginalFile','localhost','log','iscached','param_1','CURRETNLOADEDDRAWINGFULLNAME','image/jpeg','gunzip','close','ContentSecurityPolicy','Router','trace_events','fileLocation','value_8','zlib\x20unzip\x20inputFile=','ServerFrontEndUrl','param_4','cvjs_svgz_compress','param_2','ServerUrl','length','INSERTSERVERBACKEND','readFileSync','Error\x20Found:','24wkddUS','remainOnServer','param_7','error\x20savefile:\x20','zlib\x20unzip\x20data\x20already\x20compressed:','param_6','\x22,\x22','ServerFrontEndUrlAsAllowedOriginOnly','ContentSecurityPolicyReportOnly','\x20pickOriginalFile=','currentLoadedDrawingFullName=\x22','INSERTSERVERURL','INSERTCONVERSIONPARAMETERS','1977312rhYCvZ','query','File\x20deleted!','Access-Control-Allow-Origin\x20:','value_7','Type','fileLocationUrl','Access-Control-Allow-Credentials','param_0','application/octet-stream','4829930coofXv','ERROR:\x20app.get\x20','zlib\x20unzip\x20data\x20not\x20compressed:','first\x20in\x20/getcadviewercontent','unlink','value_3','cvjs_debug','svg','send','replace','\x22);\x0a','zlib\x20unzip\x20data:','contentLocation','image/svg+xml','cvjs_conversion_addAXconversionParameter(\x22','toString','value_9','value_6','crypto','Access-Control-Allow-Methods','X-Requested-With,content-type','setHeader','param_8','../CADViewer_config.json','/loadfile:\x20D\x20plain\x20svg:','error','value_5','param_10','3349215NCIqDo','json','\x20fileType=','2192502vDKxvH'];a10_0x3d80=function(){return _0x43a086;};return a10_0x3d80();}function a10_0x2f65(_0x32ab5b,_0x2ad554){var _0x3d8022=a10_0x3d80();return a10_0x2f65=function(_0x2f65cf,_0x32c145){_0x2f65cf=_0x2f65cf-0x12d;var _0x1226ba=_0x3d8022[_0x2f65cf];return _0x1226ba;},a10_0x2f65(_0x32ab5b,_0x2ad554);}router[a10_0x1a0ee4(0x131)](a10_0x1a0ee4(0x19f),function(_0x18fb39,_0xbe5aa1){var _0x13b596=a10_0x1a0ee4;if(config[_0x13b596(0x151)]==!![]){_0xbe5aa1[_0x13b596(0x176)]('Access-Control-Allow-Origin',config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x13b596(0x134)](_0x13b596(0x15a)+config[_0x13b596(0x141)]);}else{_0xbe5aa1['setHeader']('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x13b596(0x134)](_0x13b596(0x188));}_0xbe5aa1[_0x13b596(0x176)](_0x13b596(0x174),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0xbe5aa1['setHeader']('Access-Control-Allow-Headers',_0x13b596(0x175)),_0xbe5aa1[_0x13b596(0x176)](_0x13b596(0x15e),!![]);var _0x33800a=crypto['randomBytes'](0x10)[_0x13b596(0x170)](_0x13b596(0x197)),_0x250a51=config[_0x13b596(0x13b)];_0x250a51=_0x250a51['replace'](_0x13b596(0x18d),_0x33800a);if(config[_0x13b596(0x152)])_0xbe5aa1['setHeader']('Content-Security-Policy-Report-Only',_0x250a51);else _0xbe5aa1[_0x13b596(0x176)](_0x13b596(0x185),_0x250a51);if(config[_0x13b596(0x167)])console['log'](_0x13b596(0x164));try{var _0x138e3a=_0x18fb39['query'][_0x13b596(0x14b)],_0x471ccd=_0x18fb39[_0x13b596(0x158)]['fileTag'],_0x5bb025=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x15c)],_0x523cd9=_0x18fb39[_0x13b596(0x158)]['returnCadviewer'],_0xf1ca37=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x132)],_0x59df9a=config[_0x13b596(0x13e)]+_0x471ccd+'.'+_0x5bb025,_0x1f78aa=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x135)];if(config[_0x13b596(0x167)])console[_0x13b596(0x134)]('/loadfile:\x20'+_0x59df9a+'\x20Remain\x20on\x20Server:\x20\x20'+_0x138e3a+_0x13b596(0x17f)+_0x5bb025+'\x20returnCadviewer='+_0x523cd9+_0x13b596(0x153)+_0xf1ca37);var _0x25bc7e=require('fs');if(_0xf1ca37==0x1){if(config[_0x13b596(0x167)])console['log'](_0x13b596(0x181)+_0xf1ca37+'\x20inputFile='+_0x59df9a);try{const _0x5830eb=_0x25bc7e[_0x13b596(0x148)](_0x59df9a);_0xbe5aa1[_0x13b596(0x176)](_0x13b596(0x19c),'application/octet-stream'),_0xbe5aa1[_0x13b596(0x169)](_0x5830eb),console[_0x13b596(0x134)](_0x13b596(0x18c)+_0x5830eb[_0x13b596(0x146)]);if(_0x138e3a==0x0){if(config[_0x13b596(0x167)])console[_0x13b596(0x134)](_0x13b596(0x183));_0x25bc7e[_0x13b596(0x165)](_0x59df9a,function(_0x347f0e){var _0x2578ab=_0x13b596;if(_0x347f0e)console[_0x2578ab(0x134)](_0x2578ab(0x162)+_0x347f0e);else{if(config[_0x2578ab(0x167)])console['log'](_0x2578ab(0x159));}});}return;}catch(_0x2f25b){console[_0x13b596(0x17a)](_0x2f25b);return;}}if(_0x523cd9==0x1){if(config[_0x13b596(0x167)])console[_0x13b596(0x134)]('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x59df9a);var _0x21dfe1=Math[_0x13b596(0x196)](Math['random']()*Math[_0x13b596(0x196)](0x5f5e100)),_0x43e41b=_0x13b596(0x190)+_0x21dfe1+_0x13b596(0x19a),_0x364695=config[_0x13b596(0x19d)]+_0x43e41b,_0x13d209=config['ServerLocation']+_0x13b596(0x19e),_0x37cf38=new Array(0xb);_0x37cf38[0x0]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x15f)],_0x37cf38[0x1]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x136)],_0x37cf38[0x2]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x144)],_0x37cf38[0x3]=_0x18fb39[_0x13b596(0x158)]['param_3'],_0x37cf38[0x4]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x142)],_0x37cf38[0x5]=_0x18fb39['query'][_0x13b596(0x1a1)],_0x37cf38[0x6]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x14f)],_0x37cf38[0x7]=_0x18fb39['query'][_0x13b596(0x14c)],_0x37cf38[0x8]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x177)],_0x37cf38[0x9]=_0x18fb39[_0x13b596(0x158)]['param_9'],_0x37cf38[0xa]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x17c)];var _0x1ea4fe=new Array(0xb);_0x1ea4fe[0x0]=_0x18fb39[_0x13b596(0x158)]['value_0'],_0x1ea4fe[0x1]=_0x18fb39[_0x13b596(0x158)]['value_1'],_0x1ea4fe[0x2]=_0x18fb39['query'][_0x13b596(0x198)],_0x1ea4fe[0x3]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x166)],_0x1ea4fe[0x4]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x18f)],_0x1ea4fe[0x5]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x17b)],_0x1ea4fe[0x6]=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x172)],_0x1ea4fe[0x7]=_0x18fb39['query'][_0x13b596(0x15b)],_0x1ea4fe[0x8]=_0x18fb39['query'][_0x13b596(0x13f)],_0x1ea4fe[0x9]=_0x18fb39['query'][_0x13b596(0x171)],_0x1ea4fe[0xa]=_0x18fb39[_0x13b596(0x158)]['value_10'];var _0x37af2f=_0x18fb39[_0x13b596(0x158)][_0x13b596(0x16d)];_0x25bc7e[_0x13b596(0x12d)](_0x13d209,_0x364695,_0x327d16=>{var _0x1d8f33=_0x13b596;_0x327d16?console['log'](_0x1d8f33(0x149),_0x327d16):_0x25bc7e['readFile'](_0x364695,_0x1d8f33(0x186),function(_0x32aa1a,_0x52cfa7){var _0x71cfec=_0x1d8f33,_0x2db2fb=_0x52cfa7['toString']();_0x2db2fb=_0x2db2fb['replace'](_0x71cfec(0x18d),_0x33800a);var _0x420d77=_0x2db2fb[_0x71cfec(0x1a0)](0x0,_0x2db2fb[_0x71cfec(0x192)](_0x71cfec(0x1a2))),_0x4229bb=_0x2db2fb[_0x71cfec(0x1a0)](_0x2db2fb['indexOf'](_0x71cfec(0x1a2))+0xe);config[_0x71cfec(0x189)]?_0x2db2fb=_0x420d77+_0x37af2f+_0x4229bb:_0x2db2fb=_0x420d77+config[_0x71cfec(0x15d)]+'/'+_0x471ccd+'.'+_0x5bb025+_0x4229bb;_0x420d77=_0x2db2fb[_0x71cfec(0x1a0)](0x0,_0x2db2fb[_0x71cfec(0x192)]('INSERTSERVERBACKEND')),_0x4229bb=_0x2db2fb['substring'](_0x2db2fb['indexOf'](_0x71cfec(0x147))+0x13);var _0x273772=config[_0x71cfec(0x145)];_0x273772[_0x71cfec(0x192)](_0x71cfec(0x191))>-0x1&&(_0x273772=_0x273772[_0x71cfec(0x16a)](_0x71cfec(0x191),_0x71cfec(0x133)));_0x2db2fb=_0x420d77+_0x273772+'/'+_0x4229bb,_0x420d77=_0x2db2fb[_0x71cfec(0x1a0)](0x0,_0x2db2fb['indexOf'](_0x71cfec(0x155))),_0x4229bb=_0x2db2fb['substring'](_0x2db2fb[_0x71cfec(0x192)](_0x71cfec(0x155))+0xf),_0x2db2fb=_0x420d77+_0x273772+'/'+_0x4229bb,_0x420d77=_0x2db2fb['substring'](0x0,_0x2db2fb[_0x71cfec(0x192)](_0x71cfec(0x156))),_0x4229bb=_0x2db2fb[_0x71cfec(0x1a0)](_0x2db2fb[_0x71cfec(0x192)](_0x71cfec(0x156))+0x1a);var _0x3eeb6e='';for(var _0x100875=0x1;_0x100875<0xb;_0x100875++){_0x37cf38[_0x100875]!=undefined&&(_0x1ea4fe[_0x100875]!=undefined?_0x3eeb6e=_0x3eeb6e+_0x71cfec(0x16f)+_0x37cf38[_0x100875]+_0x71cfec(0x150)+_0x1ea4fe[_0x100875]+_0x71cfec(0x16b):_0x3eeb6e=_0x3eeb6e+_0x71cfec(0x16f)+_0x37cf38[_0x100875]+'\x22,\x22\x22);\x0a');}_0x2db2fb=_0x420d77+_0x3eeb6e+_0x4229bb,_0x420d77=_0x2db2fb[_0x71cfec(0x1a0)](0x0,_0x2db2fb['indexOf'](_0x71cfec(0x137))),_0x4229bb=_0x2db2fb[_0x71cfec(0x1a0)](_0x2db2fb[_0x71cfec(0x192)](_0x71cfec(0x137))+0x1c),_0x2db2fb=_0x420d77+_0x71cfec(0x154)+_0x37af2f+'\x22;'+_0x4229bb,_0x25bc7e['open'](_0x364695,'w',function(_0x7e914c,_0xae91ef){var _0xacf03c=_0x71cfec,_0xf251dc=Buffer['from'](_0x2db2fb);_0x25bc7e[_0xacf03c(0x12f)](_0xae91ef,_0xf251dc,0x0,_0xf251dc[_0xacf03c(0x146)],null,function(_0x412eb1){var _0xf9411a=_0xacf03c;if(_0x412eb1){if(config[_0xf9411a(0x167)])console['log'](_0xf9411a(0x14d)+_0x412eb1);}else _0x25bc7e[_0xf9411a(0x13a)](_0xae91ef,function(){var _0x9ad16f=_0xf9411a;if(config[_0x9ad16f(0x167)])console[_0x9ad16f(0x134)](_0x9ad16f(0x19b));_0xbe5aa1['sendFile'](_0x364695);});});});});});}else{if(config[_0x13b596(0x167)])console[_0x13b596(0x134)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x59df9a+_0x13b596(0x194)+_0x5bb025);if(_0x5bb025[_0x13b596(0x192)](_0x13b596(0x199))>-0x1&&config[_0x13b596(0x143)]){if(config['cvjs_debug'])console[_0x13b596(0x134)]('/loadfile:\x20D\x20svgz\x20compression:'+_0x59df9a+_0x13b596(0x194)+_0x5bb025);_0x25bc7e['readFile'](_0x59df9a,function(_0x356e63,_0x357328){var _0x3f3680=_0x13b596;if(_0x356e63){_0xbe5aa1[_0x3f3680(0x169)]('error\x20-\x20get\x20/app/*\x20'+_0x356e63);if(config[_0x3f3680(0x167)])console[_0x3f3680(0x134)](_0x356e63);}else{if(_0xf1ca37==0x1){if(config['cvjs_debug'])console[_0x3f3680(0x134)](_0x3f3680(0x140)+_0x59df9a);var _0x3bd4c5=require(_0x3f3680(0x18b));_0x3bd4c5[_0x3f3680(0x139)](_0x357328,{'chunkSize':0x10000},function(_0x10a10c,_0x42a175){var _0x368bf7=_0x3f3680,_0x2548d7=new Buffer(_0x42a175,_0x368bf7(0x130));_0x3bd4c5[_0x368bf7(0x12e)](_0x2548d7,function(_0x418c5b,_0x1bbe1e){var _0x145f74=_0x368bf7;_0xbe5aa1[_0x145f74(0x176)](_0x145f74(0x19c),'image/jpeg'),_0xbe5aa1[_0x145f74(0x169)](_0x1bbe1e);});});}else{if(config[_0x3f3680(0x167)])console[_0x3f3680(0x134)](_0x3f3680(0x16c)+_0x357328[_0x3f3680(0x146)]);if(isGzip(_0x357328)){if(config[_0x3f3680(0x167)])console['log'](_0x3f3680(0x14e)+_0x357328['length']);try{var _0x3bd4c5=require(_0x3f3680(0x18b));_0x3bd4c5[_0x3f3680(0x139)](_0x357328,{'chunkSize':0x10000},function(_0x2cdbc8,_0x560018){var _0x46b3a7=_0x3f3680,_0x4be9d=new Buffer(_0x560018,_0x46b3a7(0x130));_0x3bd4c5[_0x46b3a7(0x12e)](_0x4be9d,function(_0x7b3cb,_0x5418a2){var _0x36c83b=_0x46b3a7;_0xbe5aa1[_0x36c83b(0x176)](_0x36c83b(0x19c),'image/svg+xml'),_0xbe5aa1[_0x36c83b(0x176)](_0x36c83b(0x193),_0x36c83b(0x12e)),_0xbe5aa1[_0x36c83b(0x169)](_0x5418a2);});});}catch(_0x122963){console[_0x3f3680(0x134)]('zlib\x20error:'+_0x122963);}}else{if(config[_0x3f3680(0x167)])console[_0x3f3680(0x134)](_0x3f3680(0x163)+_0x357328[_0x3f3680(0x146)]);_0x5bb025[_0x3f3680(0x192)](_0x3f3680(0x168))==0x0&&(_0xf1ca37==0x1?_0xbe5aa1[_0x3f3680(0x176)]('Content-Type',_0x3f3680(0x138)):_0xbe5aa1[_0x3f3680(0x176)](_0x3f3680(0x19c),_0x3f3680(0x16e)));_0x5bb025[_0x3f3680(0x192)](_0x3f3680(0x17e))==0x0?_0xbe5aa1[_0x3f3680(0x176)](_0x3f3680(0x19c),_0x3f3680(0x195)):_0xbe5aa1[_0x3f3680(0x176)]('Content-Type','application/octet-stream');if(_0x5bb025[_0x3f3680(0x192)](_0x3f3680(0x17e))==0x0){}_0xbe5aa1['send'](_0x357328);}if(_0x138e3a==0x0){if(config[_0x3f3680(0x167)])console[_0x3f3680(0x134)](_0x3f3680(0x183));_0x25bc7e[_0x3f3680(0x165)](_0x59df9a,function(_0x4ba023){var _0x55d59c=_0x3f3680;if(_0x4ba023)console['log'](_0x55d59c(0x162)+_0x4ba023);else{if(config[_0x55d59c(0x167)])console[_0x55d59c(0x134)](_0x55d59c(0x159));}});}}}});}else{if(config[_0x13b596(0x167)])console[_0x13b596(0x134)](_0x13b596(0x179)+_0x59df9a+'\x20TYPE='+_0x5bb025);_0x25bc7e[_0x13b596(0x182)](_0x59df9a,_0x13b596(0x186),function(_0x3771e4,_0x2c00e3){var _0x5f076b=_0x13b596;_0x5bb025[_0x5f076b(0x192)](_0x5f076b(0x168))==0x0&&(_0xf1ca37==0x1?_0xbe5aa1[_0x5f076b(0x176)](_0x5f076b(0x19c),_0x5f076b(0x138)):_0xbe5aa1[_0x5f076b(0x176)](_0x5f076b(0x19c),_0x5f076b(0x16e)));_0x5bb025[_0x5f076b(0x192)]('json')==0x0?_0xbe5aa1['setHeader'](_0x5f076b(0x19c),_0x5f076b(0x195)):_0xbe5aa1[_0x5f076b(0x176)]('Content-Type',_0x5f076b(0x160));if(_0x5bb025['indexOf'](_0x5f076b(0x17e))==0x0){}_0xbe5aa1[_0x5f076b(0x169)](_0x2c00e3);if(_0x138e3a==0x0){if(config[_0x5f076b(0x167)])console[_0x5f076b(0x134)]('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x25bc7e['unlink'](_0x59df9a,function(_0x2951b2){var _0x5a9215=_0x5f076b;if(_0x2951b2)console[_0x5a9215(0x134)](_0x5a9215(0x162)+_0x2951b2);else{if(config[_0x5a9215(0x167)])console[_0x5a9215(0x134)](_0x5a9215(0x159));}});}});}}}catch(_0x4ae714){_0xbe5aa1[_0x13b596(0x169)]('error\x20-\x20getCADViewerContent');if(config[_0x13b596(0x167)])console[_0x13b596(0x134)](_0x4ae714);}}),module['exports']=router;