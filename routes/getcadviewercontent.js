var a10_0x4da354=a10_0x2d6d;function a10_0x2d6d(_0x5ca79b,_0x10531e){var _0x6c6aca=a10_0x6c6a();return a10_0x2d6d=function(_0x2d6d79,_0x3266ce){_0x2d6d79=_0x2d6d79-0x1ee;var _0x246d0e=_0x6c6aca[_0x2d6d79];return _0x246d0e;},a10_0x2d6d(_0x5ca79b,_0x10531e);}(function(_0x44e84e,_0x582668){var _0x233eef=a10_0x2d6d,_0xf8abff=_0x44e84e();while(!![]){try{var _0xdb60ad=-parseInt(_0x233eef(0x267))/0x1+parseInt(_0x233eef(0x22c))/0x2*(parseInt(_0x233eef(0x225))/0x3)+parseInt(_0x233eef(0x269))/0x4+parseInt(_0x233eef(0x21f))/0x5*(-parseInt(_0x233eef(0x253))/0x6)+parseInt(_0x233eef(0x206))/0x7*(parseInt(_0x233eef(0x1fe))/0x8)+-parseInt(_0x233eef(0x244))/0x9*(-parseInt(_0x233eef(0x241))/0xa)+-parseInt(_0x233eef(0x22a))/0xb;if(_0xdb60ad===_0x582668)break;else _0xf8abff['push'](_0xf8abff['shift']());}catch(_0x26ee21){_0xf8abff['push'](_0xf8abff['shift']());}}}(a10_0x6c6a,0x23990));const {exit}=require('process'),{getEnabledCategories}=require(a10_0x4da354(0x247));function a10_0x6c6a(){var _0x5e2768=['5ZggCPa','image/svg+xml','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','File\x20deleted!','ServerUrl','json','70701KImwGV','value_10','setHeader','log','readFile','3787399MGmyyj','value_3','22ztIHrI','unlink','is-gzip','readFileSync','ERROR:\x20app.get\x20','Access-Control-Allow-Origin','application/octet-stream','\x20inputFile=','\x22,\x22','fileTag','image/jpeg','CURRETNLOADEDDRAWINGFULLNAME','first\x20in\x20/getcadviewercontent','svgz','file\x20written','sendFile','open','zlib\x20unzip\x20inputFile=','/loadfile:\x20D\x20svgz\x20compression:','cvjs_debug','value_9','30ULmUGr','\x22,\x22\x22);\x0a','randomBytes','829521ivfaIz','close','/getcadviewercontent','trace_events','replace','exports','param_3','utf-8','param_8','ServerFrontEndUrl','param_2','Content-Security-Policy-Report-Only','Access-Control-Allow-Origin\x20:\x20*','substring','gzip','1292874BnhiYE','Access-Control-Allow-Methods','Access-Control-Allow-Headers','query','svg','INSERTFILENAME','value_7','/loadfile:\x20\x20A\x20pickOriginalFile:','value_4','URLFLAG:\x20serverbackend=','fileLocation','express','floor','zlib\x20error:','error\x20savefile:\x20','::1','callbackMethod_gatewayUrl','pickOriginalFile','value_1','Type','114557GqKMfY','length','359440JGUpAD','INSERTCONVERSIONPARAMETERS','toString','.html','application/json','ContentSecurityPolicyReportOnly','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','zlib\x20unzip\x20data:','INSERTSERVERBACKEND','Content-Encoding','currentLoadedDrawingFullName=\x22','Content-Type','Content-Security-Policy','indexOf','send','\x20returnCadviewer=','INSERTSERVERURL','gunzip','zlib','1556392kDdaxb','value_6','contentLocation','value_8','param_1','remainOnServer','/html/CADViewer_base_10_restresponse.html','\x20TYPE=','7NcHZBf','base64','param_10','fileLocationUrl','Router','INSERTNONCE','param_6','\x20Remain\x20on\x20Server:\x20\x20','Access-Control-Allow-Origin\x20:','write','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','\x22);\x0a','value_5','copyFile','cvjs_svgz_compress','utf8','cvjs_conversion_addAXconversionParameter(\x22','/loadfile:\x20D\x20plain\x20svg:','\x20pickOriginalFile=','Access-Control-Allow-Credentials','param_7','zlib\x20unzip\x20data\x20not\x20compressed:','value_0','Error\x20Found:','returnCadviewer'];a10_0x6c6a=function(){return _0x5e2768;};return a10_0x6c6a();}var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require(a10_0x4da354(0x25e)),router=express[a10_0x4da354(0x20a)](),crypto=require('crypto');const isGzip=require(a10_0x4da354(0x22e));router['get'](a10_0x4da354(0x246),function(_0x8c0fda,_0x5e6f67){var _0x3e4c4c=a10_0x4da354;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x5e6f67['setHeader'](_0x3e4c4c(0x231),config[_0x3e4c4c(0x24d)]);if(cvjs_debug)console[_0x3e4c4c(0x228)](_0x3e4c4c(0x20e)+config['ServerFrontEndUrl']);}else{_0x5e6f67[_0x3e4c4c(0x227)](_0x3e4c4c(0x231),'*');if(cvjs_debug)console[_0x3e4c4c(0x228)](_0x3e4c4c(0x250));}_0x5e6f67[_0x3e4c4c(0x227)](_0x3e4c4c(0x254),_0x3e4c4c(0x210)),_0x5e6f67[_0x3e4c4c(0x227)](_0x3e4c4c(0x255),'X-Requested-With,content-type'),_0x5e6f67[_0x3e4c4c(0x227)](_0x3e4c4c(0x219),!![]);var _0x57d1a5=crypto[_0x3e4c4c(0x243)](0x10)[_0x3e4c4c(0x26b)](_0x3e4c4c(0x207)),_0x22c947=config['ContentSecurityPolicy'];_0x22c947=_0x22c947[_0x3e4c4c(0x248)](_0x3e4c4c(0x20b),_0x57d1a5);if(config[_0x3e4c4c(0x1f0)])_0x5e6f67[_0x3e4c4c(0x227)](_0x3e4c4c(0x24f),_0x22c947);else _0x5e6f67['setHeader'](_0x3e4c4c(0x1f7),_0x22c947);if(config[_0x3e4c4c(0x23f)])console['log'](_0x3e4c4c(0x238));try{var _0x3061f8=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x203)],_0x205cb8=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x235)],_0xa0e5b0=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x266)],_0x377dac=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x21e)],_0x36e754=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x264)],_0x4321e3=config[_0x3e4c4c(0x25d)]+_0x205cb8+'.'+_0xa0e5b0,_0x259e85=_0x8c0fda[_0x3e4c4c(0x256)]['iscached'];if(config['cvjs_debug'])console[_0x3e4c4c(0x228)]('/loadfile:\x20'+_0x4321e3+_0x3e4c4c(0x20d)+_0x3061f8+'\x20fileType='+_0xa0e5b0+_0x3e4c4c(0x1fa)+_0x377dac+_0x3e4c4c(0x218)+_0x36e754);var _0x4a1b85=require('fs');if(_0x36e754==0x1){if(config[_0x3e4c4c(0x23f)])console[_0x3e4c4c(0x228)](_0x3e4c4c(0x25a)+_0x36e754+_0x3e4c4c(0x233)+_0x4321e3);try{const _0x206958=_0x4a1b85[_0x3e4c4c(0x22f)](_0x4321e3);_0x5e6f67['setHeader'](_0x3e4c4c(0x1f6),_0x3e4c4c(0x232)),_0x5e6f67['send'](_0x206958),console[_0x3e4c4c(0x228)]('pickOriginalFile\x20return\x20length='+_0x206958[_0x3e4c4c(0x268)]);if(_0x3061f8==0x0){if(config[_0x3e4c4c(0x23f)])console[_0x3e4c4c(0x228)](_0x3e4c4c(0x221));_0x4a1b85[_0x3e4c4c(0x22d)](_0x4321e3,function(_0x1cc3c5){var _0x12e798=_0x3e4c4c;if(_0x1cc3c5)console['log'](_0x12e798(0x230)+_0x1cc3c5);else{if(config[_0x12e798(0x23f)])console[_0x12e798(0x228)]('File\x20deleted!');}});}return;}catch(_0x382372){console['error'](_0x382372);return;}}if(_0x377dac==0x1){if(config[_0x3e4c4c(0x23f)])console['log'](_0x3e4c4c(0x1f1)+_0x4321e3);var _0x2fe853=Math['floor'](Math['random']()*Math[_0x3e4c4c(0x25f)](0x5f5e100)),_0x2b36df='/html/CV'+_0x2fe853+_0x3e4c4c(0x1ee),_0x16ef3e=config['ServerLocation']+_0x2b36df,_0x25d567=config['ServerLocation']+_0x3e4c4c(0x204),_0x2eaae1=new Array(0xb);_0x2eaae1[0x0]=_0x8c0fda[_0x3e4c4c(0x256)]['param_0'],_0x2eaae1[0x1]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x202)],_0x2eaae1[0x2]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x24e)],_0x2eaae1[0x3]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x24a)],_0x2eaae1[0x4]=_0x8c0fda[_0x3e4c4c(0x256)]['param_4'],_0x2eaae1[0x5]=_0x8c0fda[_0x3e4c4c(0x256)]['param_5'],_0x2eaae1[0x6]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x20c)],_0x2eaae1[0x7]=_0x8c0fda['query'][_0x3e4c4c(0x21a)],_0x2eaae1[0x8]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x24c)],_0x2eaae1[0x9]=_0x8c0fda[_0x3e4c4c(0x256)]['param_9'],_0x2eaae1[0xa]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x208)];var _0x40e6b5=new Array(0xb);_0x40e6b5[0x0]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x21c)],_0x40e6b5[0x1]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x265)],_0x40e6b5[0x2]=_0x8c0fda[_0x3e4c4c(0x256)]['value_2'],_0x40e6b5[0x3]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x22b)],_0x40e6b5[0x4]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x25b)],_0x40e6b5[0x5]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x212)],_0x40e6b5[0x6]=_0x8c0fda['query'][_0x3e4c4c(0x1ff)],_0x40e6b5[0x7]=_0x8c0fda['query'][_0x3e4c4c(0x259)],_0x40e6b5[0x8]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x201)],_0x40e6b5[0x9]=_0x8c0fda['query'][_0x3e4c4c(0x240)],_0x40e6b5[0xa]=_0x8c0fda[_0x3e4c4c(0x256)][_0x3e4c4c(0x226)];var _0x3e6cb2=_0x8c0fda['query'][_0x3e4c4c(0x200)];_0x4a1b85[_0x3e4c4c(0x213)](_0x25d567,_0x16ef3e,_0x41646e=>{var _0x25933e=_0x3e4c4c;_0x41646e?console['log'](_0x25933e(0x21d),_0x41646e):_0x4a1b85['readFile'](_0x16ef3e,_0x25933e(0x215),function(_0x40f651,_0x4db0f6){var _0x5db644=_0x25933e,_0x2899e0=_0x4db0f6[_0x5db644(0x26b)]();_0x2899e0=_0x2899e0[_0x5db644(0x248)](_0x5db644(0x20b),_0x57d1a5);var _0xf7ce69=_0x2899e0[_0x5db644(0x251)](0x0,_0x2899e0['indexOf'](_0x5db644(0x258))),_0x2f09e1=_0x2899e0[_0x5db644(0x251)](_0x2899e0[_0x5db644(0x1f8)](_0x5db644(0x258))+0xe);config['cached_conversion']?_0x2899e0=_0xf7ce69+_0x3e6cb2+_0x2f09e1:_0x2899e0=_0xf7ce69+config[_0x5db644(0x209)]+'/'+_0x205cb8+'.'+_0xa0e5b0+_0x2f09e1;_0xf7ce69=_0x2899e0[_0x5db644(0x251)](0x0,_0x2899e0['indexOf'](_0x5db644(0x1f3))),_0x2f09e1=_0x2899e0[_0x5db644(0x251)](_0x2899e0[_0x5db644(0x1f8)](_0x5db644(0x1f3))+0x13);var _0x54a3c7='';if(config['callbackMethod_gatewayUrl_flag']){_0x54a3c7=config[_0x5db644(0x263)];if(cvjs_debug)console['log'](_0x5db644(0x25c)+_0x54a3c7);}else _0x54a3c7=config[_0x5db644(0x223)],_0x54a3c7[_0x5db644(0x1f8)]('::1')>-0x1&&(_0x54a3c7=_0x54a3c7[_0x5db644(0x248)](_0x5db644(0x262),'localhost'));_0x2899e0=_0xf7ce69+_0x54a3c7+'/'+_0x2f09e1,_0xf7ce69=_0x2899e0[_0x5db644(0x251)](0x0,_0x2899e0[_0x5db644(0x1f8)](_0x5db644(0x1fb))),_0x2f09e1=_0x2899e0[_0x5db644(0x251)](_0x2899e0['indexOf'](_0x5db644(0x1fb))+0xf),_0x2899e0=_0xf7ce69+_0x54a3c7+'/'+_0x2f09e1,_0xf7ce69=_0x2899e0[_0x5db644(0x251)](0x0,_0x2899e0[_0x5db644(0x1f8)]('INSERTCONVERSIONPARAMETERS')),_0x2f09e1=_0x2899e0['substring'](_0x2899e0[_0x5db644(0x1f8)](_0x5db644(0x26a))+0x1a);var _0x2f1fa7='';for(var _0x2e2f09=0x1;_0x2e2f09<0xb;_0x2e2f09++){_0x2eaae1[_0x2e2f09]!=undefined&&(_0x40e6b5[_0x2e2f09]!=undefined?_0x2f1fa7=_0x2f1fa7+_0x5db644(0x216)+_0x2eaae1[_0x2e2f09]+_0x5db644(0x234)+_0x40e6b5[_0x2e2f09]+_0x5db644(0x211):_0x2f1fa7=_0x2f1fa7+_0x5db644(0x216)+_0x2eaae1[_0x2e2f09]+_0x5db644(0x242));}_0x2899e0=_0xf7ce69+_0x2f1fa7+_0x2f09e1,_0xf7ce69=_0x2899e0['substring'](0x0,_0x2899e0[_0x5db644(0x1f8)](_0x5db644(0x237))),_0x2f09e1=_0x2899e0[_0x5db644(0x251)](_0x2899e0[_0x5db644(0x1f8)]('CURRETNLOADEDDRAWINGFULLNAME')+0x1c),_0x2899e0=_0xf7ce69+_0x5db644(0x1f5)+_0x3e6cb2+'\x22;'+_0x2f09e1,_0x4a1b85[_0x5db644(0x23c)](_0x16ef3e,'w',function(_0x4ee62a,_0x49a23a){var _0x4cd59b=_0x5db644,_0x4557b6=Buffer['from'](_0x2899e0);_0x4a1b85[_0x4cd59b(0x20f)](_0x49a23a,_0x4557b6,0x0,_0x4557b6[_0x4cd59b(0x268)],null,function(_0x524117){var _0x1e5658=_0x4cd59b;if(_0x524117){if(config['cvjs_debug'])console[_0x1e5658(0x228)](_0x1e5658(0x261)+_0x524117);}else _0x4a1b85[_0x1e5658(0x245)](_0x49a23a,function(){var _0xe16e6a=_0x1e5658;if(config[_0xe16e6a(0x23f)])console[_0xe16e6a(0x228)](_0xe16e6a(0x23a));_0x5e6f67[_0xe16e6a(0x23b)](_0x16ef3e);});});});});});}else{if(config['cvjs_debug'])console[_0x3e4c4c(0x228)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x4321e3+_0x3e4c4c(0x205)+_0xa0e5b0);if(_0xa0e5b0[_0x3e4c4c(0x1f8)](_0x3e4c4c(0x239))>-0x1&&config[_0x3e4c4c(0x214)]){if(config['cvjs_debug'])console[_0x3e4c4c(0x228)](_0x3e4c4c(0x23e)+_0x4321e3+'\x20TYPE='+_0xa0e5b0);_0x4a1b85[_0x3e4c4c(0x229)](_0x4321e3,function(_0x197454,_0x376304){var _0x1ca0d5=_0x3e4c4c;if(_0x197454){_0x5e6f67[_0x1ca0d5(0x1f9)]('error\x20-\x20get\x20/app/*\x20'+_0x197454);if(config[_0x1ca0d5(0x23f)])console[_0x1ca0d5(0x228)](_0x197454);}else{if(_0x36e754==0x1){if(config[_0x1ca0d5(0x23f)])console[_0x1ca0d5(0x228)](_0x1ca0d5(0x23d)+_0x4321e3);var _0x44d04e=require('zlib');_0x44d04e['gunzip'](_0x376304,{'chunkSize':0x10000},function(_0xc18ad2,_0x393e02){var _0x1f548d=_0x1ca0d5,_0x227369=new Buffer(_0x393e02,_0x1f548d(0x24b));_0x44d04e[_0x1f548d(0x252)](_0x227369,function(_0x2dad69,_0x3c5e32){var _0x32aee2=_0x1f548d;_0x5e6f67[_0x32aee2(0x227)]('Content-Type',_0x32aee2(0x236)),_0x5e6f67[_0x32aee2(0x1f9)](_0x3c5e32);});});}else{if(config[_0x1ca0d5(0x23f)])console['log'](_0x1ca0d5(0x1f2)+_0x376304[_0x1ca0d5(0x268)]);if(isGzip(_0x376304)){if(config[_0x1ca0d5(0x23f)])console[_0x1ca0d5(0x228)]('zlib\x20unzip\x20data\x20already\x20compressed:'+_0x376304[_0x1ca0d5(0x268)]);try{var _0x44d04e=require(_0x1ca0d5(0x1fd));_0x44d04e[_0x1ca0d5(0x1fc)](_0x376304,{'chunkSize':0x10000},function(_0x673706,_0x51c7ff){var _0x5190d7=_0x1ca0d5,_0x82e5ed=new Buffer(_0x51c7ff,'utf-8');_0x44d04e[_0x5190d7(0x252)](_0x82e5ed,function(_0x104b53,_0x2f0c50){var _0x2a13cd=_0x5190d7;_0x5e6f67['setHeader'](_0x2a13cd(0x1f6),'image/svg+xml'),_0x5e6f67[_0x2a13cd(0x227)](_0x2a13cd(0x1f4),'gzip'),_0x5e6f67[_0x2a13cd(0x1f9)](_0x2f0c50);});});}catch(_0x4558b2){console[_0x1ca0d5(0x228)](_0x1ca0d5(0x260)+_0x4558b2);}}else{if(config[_0x1ca0d5(0x23f)])console['log'](_0x1ca0d5(0x21b)+_0x376304[_0x1ca0d5(0x268)]);_0xa0e5b0['indexOf']('svg')==0x0&&(_0x36e754==0x1?_0x5e6f67['setHeader'](_0x1ca0d5(0x1f6),_0x1ca0d5(0x236)):_0x5e6f67[_0x1ca0d5(0x227)](_0x1ca0d5(0x1f6),'image/svg+xml'));_0xa0e5b0[_0x1ca0d5(0x1f8)]('json')==0x0?_0x5e6f67['setHeader'](_0x1ca0d5(0x1f6),'application/json'):_0x5e6f67[_0x1ca0d5(0x227)](_0x1ca0d5(0x1f6),'application/octet-stream');if(_0xa0e5b0[_0x1ca0d5(0x1f8)]('json')==0x0){}_0x5e6f67[_0x1ca0d5(0x1f9)](_0x376304);}if(_0x3061f8==0x0){if(config['cvjs_debug'])console[_0x1ca0d5(0x228)]('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x4a1b85['unlink'](_0x4321e3,function(_0x47ff22){var _0x164b52=_0x1ca0d5;if(_0x47ff22)console[_0x164b52(0x228)](_0x164b52(0x230)+_0x47ff22);else{if(config[_0x164b52(0x23f)])console[_0x164b52(0x228)](_0x164b52(0x222));}});}}}});}else{if(config[_0x3e4c4c(0x23f)])console[_0x3e4c4c(0x228)](_0x3e4c4c(0x217)+_0x4321e3+_0x3e4c4c(0x205)+_0xa0e5b0);_0x4a1b85[_0x3e4c4c(0x229)](_0x4321e3,_0x3e4c4c(0x215),function(_0xd8af49,_0x4590ef){var _0xb8a3ca=_0x3e4c4c;_0xa0e5b0[_0xb8a3ca(0x1f8)](_0xb8a3ca(0x257))==0x0&&(_0x36e754==0x1?_0x5e6f67[_0xb8a3ca(0x227)](_0xb8a3ca(0x1f6),'image/jpeg'):_0x5e6f67[_0xb8a3ca(0x227)]('Content-Type',_0xb8a3ca(0x220)));_0xa0e5b0[_0xb8a3ca(0x1f8)](_0xb8a3ca(0x224))==0x0?_0x5e6f67['setHeader'](_0xb8a3ca(0x1f6),_0xb8a3ca(0x1ef)):_0x5e6f67['setHeader'](_0xb8a3ca(0x1f6),_0xb8a3ca(0x232));if(_0xa0e5b0[_0xb8a3ca(0x1f8)](_0xb8a3ca(0x224))==0x0){}_0x5e6f67[_0xb8a3ca(0x1f9)](_0x4590ef);if(_0x3061f8==0x0){if(config[_0xb8a3ca(0x23f)])console['log'](_0xb8a3ca(0x221));_0x4a1b85[_0xb8a3ca(0x22d)](_0x4321e3,function(_0x293153){var _0x2bd2c6=_0xb8a3ca;if(_0x293153)console[_0x2bd2c6(0x228)](_0x2bd2c6(0x230)+_0x293153);else{if(config[_0x2bd2c6(0x23f)])console['log'](_0x2bd2c6(0x222));}});}});}}}catch(_0x1da0ae){_0x5e6f67['send']('error\x20-\x20getCADViewerContent');if(config[_0x3e4c4c(0x23f)])console['log'](_0x1da0ae);}}),module[a10_0x4da354(0x249)]=router;