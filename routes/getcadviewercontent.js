var a10_0xf7daf0=a10_0x228b;(function(_0x749594,_0x55ac2b){var _0xa0cd8a=a10_0x228b,_0x345a46=_0x749594();while(!![]){try{var _0x3a67be=-parseInt(_0xa0cd8a(0x1d4))/0x1+-parseInt(_0xa0cd8a(0x166))/0x2*(parseInt(_0xa0cd8a(0x1ce))/0x3)+parseInt(_0xa0cd8a(0x17c))/0x4*(-parseInt(_0xa0cd8a(0x186))/0x5)+parseInt(_0xa0cd8a(0x1c4))/0x6+parseInt(_0xa0cd8a(0x1c9))/0x7*(parseInt(_0xa0cd8a(0x1af))/0x8)+parseInt(_0xa0cd8a(0x17b))/0x9*(-parseInt(_0xa0cd8a(0x174))/0xa)+parseInt(_0xa0cd8a(0x182))/0xb*(parseInt(_0xa0cd8a(0x1aa))/0xc);if(_0x3a67be===_0x55ac2b)break;else _0x345a46['push'](_0x345a46['shift']());}catch(_0x5897c0){_0x345a46['push'](_0x345a46['shift']());}}}(a10_0x1a93,0x6fe16));const {exit}=require(a10_0xf7daf0(0x1d5)),{getEnabledCategories}=require(a10_0xf7daf0(0x19f));function a10_0x228b(_0x62017,_0x2c194b){var _0x1a93f7=a10_0x1a93();return a10_0x228b=function(_0x228b78,_0x1dfc3e){_0x228b78=_0x228b78-0x15c;var _0x554ce4=_0x1a93f7[_0x228b78];return _0x554ce4;},a10_0x228b(_0x62017,_0x2c194b);}var config=require(a10_0xf7daf0(0x191)),cvjs_debug=config['cvjs_debug'],express=require(a10_0xf7daf0(0x1d7)),router=express[a10_0xf7daf0(0x1a6)](),crypto=require(a10_0xf7daf0(0x18b));function a10_0x1a93(){var _0x496c1e=['svg','108888QESZDz','/html/CADViewer_base_10_restresponse.html','fileLocation','ServerFrontEndUrlAsAllowedOriginOnly','replace','27464BzcyGT','value_1','cvjs_svgz_compress','zlib\x20unzip\x20data:','from','/loadfile:\x20','param_6','toString','readFileSync','param_9','param_10','image/jpeg','ServerUrl','zlib\x20error:','File\x20deleted!','Access-Control-Allow-Origin\x20:\x20*','cached_conversion','returnCadviewer','value_4','\x22,\x22','\x20TYPE=','5033484dlRdzQ','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','param_8','remainOnServer','svgz','448ErfsKw','\x22);\x0a','Access-Control-Allow-Methods','zlib\x20unzip\x20data\x20not\x20compressed:','gunzip','123306ImNbVw','pickOriginalFile','error\x20-\x20get\x20/app/*\x20','write','json','INSERTSERVERURL','37021xNJQKJ','process','unlink','express','gzip','open','ServerFrontEndUrl','Access-Control-Allow-Origin\x20:','Content-Security-Policy','query','param_5','Content-Type','application/octet-stream','Content-Encoding','currentLoadedDrawingFullName=\x22','12axYWUw','readFile','value_7','file\x20written','pickOriginalFile\x20return\x20length=','copyFile','X-Requested-With,content-type','INSERTSERVERBACKEND','setHeader','\x20returnCadviewer=','cvjs_conversion_addAXconversionParameter(\x22','log','value_9','randomBytes','151370dZwsNa','Type','Access-Control-Allow-Origin','application/json','Content-Security-Policy-Report-Only','floor','Error\x20Found:','90gZvLSx','2766612dKqGTz','/loadfile:\x20D\x20svgz\x20compression:','/loadfile:\x20\x20A\x20pickOriginalFile:','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','/getcadviewercontent','ContentSecurityPolicyReportOnly','638SEuNNa','CURRETNLOADEDDRAWINGFULLNAME','\x20pickOriginalFile=','cvjs_debug','5pFnCWQ','substring','INSERTCONVERSIONPARAMETERS','utf-8','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','crypto','zlib','param_1','param_0','value_8','error','../CADViewer_config.json','INSERTFILENAME','base64','indexOf','\x20inputFile=','ContentSecurityPolicy','value_2','value_10','image/svg+xml','\x22,\x22\x22);\x0a','sendFile','param_2','get','length','trace_events','param_7','ServerLocation','ERROR:\x20app.get\x20','value_6','\x20Remain\x20on\x20Server:\x20\x20','random','Router','param_3','send'];a10_0x1a93=function(){return _0x496c1e;};return a10_0x1a93();}const isGzip=require('is-gzip');router[a10_0xf7daf0(0x19d)](a10_0xf7daf0(0x180),function(_0x496dd3,_0x56a071){var _0xfb1092=a10_0xf7daf0;if(config[_0xfb1092(0x1ad)]==!![]){_0x56a071[_0xfb1092(0x16e)](_0xfb1092(0x176),config[_0xfb1092(0x15d)]);if(cvjs_debug)console[_0xfb1092(0x171)](_0xfb1092(0x15e)+config['ServerFrontEndUrl']);}else{_0x56a071['setHeader'](_0xfb1092(0x176),'*');if(cvjs_debug)console['log'](_0xfb1092(0x1be));}_0x56a071['setHeader'](_0xfb1092(0x1cb),_0xfb1092(0x17f)),_0x56a071[_0xfb1092(0x16e)]('Access-Control-Allow-Headers',_0xfb1092(0x16c)),_0x56a071[_0xfb1092(0x16e)]('Access-Control-Allow-Credentials',!![]);var _0x494e58=crypto[_0xfb1092(0x173)](0x10)[_0xfb1092(0x1b6)](_0xfb1092(0x193)),_0x33367d=config[_0xfb1092(0x196)];_0x33367d=_0x33367d[_0xfb1092(0x1ae)]('INSERTNONCE',_0x494e58);if(config[_0xfb1092(0x181)])_0x56a071[_0xfb1092(0x16e)](_0xfb1092(0x178),_0x33367d);else _0x56a071[_0xfb1092(0x16e)](_0xfb1092(0x15f),_0x33367d);if(config[_0xfb1092(0x185)])console['log']('first\x20in\x20/getcadviewercontent');try{var _0x3ab361=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1c7)],_0x18968f=_0x496dd3['query']['fileTag'],_0x32eedc=_0x496dd3['query'][_0xfb1092(0x175)],_0xcf2bf=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1c0)],_0x2ccf20=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1cf)],_0x1efb6e=config[_0xfb1092(0x1ac)]+_0x18968f+'.'+_0x32eedc,_0x431a0b=_0x496dd3[_0xfb1092(0x160)]['iscached'];if(config[_0xfb1092(0x185)])console['log'](_0xfb1092(0x1b4)+_0x1efb6e+_0xfb1092(0x1a4)+_0x3ab361+'\x20fileType='+_0x32eedc+_0xfb1092(0x16f)+_0xcf2bf+_0xfb1092(0x184)+_0x2ccf20);var _0x5dcd16=require('fs');if(_0x2ccf20==0x1){if(config[_0xfb1092(0x185)])console['log'](_0xfb1092(0x17e)+_0x2ccf20+_0xfb1092(0x195)+_0x1efb6e);try{const _0x254472=_0x5dcd16[_0xfb1092(0x1b7)](_0x1efb6e);_0x56a071['setHeader'](_0xfb1092(0x162),'application/octet-stream'),_0x56a071[_0xfb1092(0x1a8)](_0x254472),console[_0xfb1092(0x171)](_0xfb1092(0x16a)+_0x254472[_0xfb1092(0x19e)]);if(_0x3ab361==0x0){if(config[_0xfb1092(0x185)])console['log'](_0xfb1092(0x1c5));_0x5dcd16[_0xfb1092(0x1d6)](_0x1efb6e,function(_0x33aa5d){var _0x1727c9=_0xfb1092;if(_0x33aa5d)console[_0x1727c9(0x171)]('ERROR:\x20app.get\x20'+_0x33aa5d);else{if(config[_0x1727c9(0x185)])console[_0x1727c9(0x171)](_0x1727c9(0x1bd));}});}return;}catch(_0x534d73){console[_0xfb1092(0x190)](_0x534d73);return;}}if(_0xcf2bf==0x1){if(config[_0xfb1092(0x185)])console['log'](_0xfb1092(0x18a)+_0x1efb6e);var _0x3b918c=Math[_0xfb1092(0x179)](Math[_0xfb1092(0x1a5)]()*Math['floor'](0x5f5e100)),_0x3700a0='/html/CV'+_0x3b918c+'.html',_0x176901=config['ServerLocation']+_0x3700a0,_0x2b6eb3=config[_0xfb1092(0x1a1)]+_0xfb1092(0x1ab),_0x2e3965=new Array(0xb);_0x2e3965[0x0]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x18e)],_0x2e3965[0x1]=_0x496dd3['query'][_0xfb1092(0x18d)],_0x2e3965[0x2]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x19c)],_0x2e3965[0x3]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1a7)],_0x2e3965[0x4]=_0x496dd3[_0xfb1092(0x160)]['param_4'],_0x2e3965[0x5]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x161)],_0x2e3965[0x6]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1b5)],_0x2e3965[0x7]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1a0)],_0x2e3965[0x8]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1c6)],_0x2e3965[0x9]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1b8)],_0x2e3965[0xa]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1b9)];var _0x2bdaee=new Array(0xb);_0x2bdaee[0x0]=_0x496dd3['query']['value_0'],_0x2bdaee[0x1]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1b0)],_0x2bdaee[0x2]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x197)],_0x2bdaee[0x3]=_0x496dd3[_0xfb1092(0x160)]['value_3'],_0x2bdaee[0x4]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1c1)],_0x2bdaee[0x5]=_0x496dd3[_0xfb1092(0x160)]['value_5'],_0x2bdaee[0x6]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x1a3)],_0x2bdaee[0x7]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x168)],_0x2bdaee[0x8]=_0x496dd3['query'][_0xfb1092(0x18f)],_0x2bdaee[0x9]=_0x496dd3['query'][_0xfb1092(0x172)],_0x2bdaee[0xa]=_0x496dd3[_0xfb1092(0x160)][_0xfb1092(0x198)];var _0x191358=_0x496dd3[_0xfb1092(0x160)]['contentLocation'];_0x5dcd16[_0xfb1092(0x16b)](_0x2b6eb3,_0x176901,_0x217444=>{var _0x37e277=_0xfb1092;_0x217444?console[_0x37e277(0x171)](_0x37e277(0x17a),_0x217444):_0x5dcd16[_0x37e277(0x167)](_0x176901,'utf8',function(_0x5ed46f,_0x3dd164){var _0x58f66e=_0x37e277,_0x2edb64=_0x3dd164[_0x58f66e(0x1b6)]();_0x2edb64=_0x2edb64[_0x58f66e(0x1ae)]('INSERTNONCE',_0x494e58);var _0x3fd4bb=_0x2edb64['substring'](0x0,_0x2edb64['indexOf']('INSERTFILENAME')),_0x31d493=_0x2edb64[_0x58f66e(0x187)](_0x2edb64[_0x58f66e(0x194)](_0x58f66e(0x192))+0xe);config[_0x58f66e(0x1bf)]?_0x2edb64=_0x3fd4bb+_0x191358+_0x31d493:_0x2edb64=_0x3fd4bb+config['fileLocationUrl']+'/'+_0x18968f+'.'+_0x32eedc+_0x31d493;_0x3fd4bb=_0x2edb64['substring'](0x0,_0x2edb64['indexOf'](_0x58f66e(0x16d))),_0x31d493=_0x2edb64[_0x58f66e(0x187)](_0x2edb64[_0x58f66e(0x194)](_0x58f66e(0x16d))+0x13),_0x2edb64=_0x3fd4bb+config[_0x58f66e(0x1bb)]+'/'+_0x31d493,_0x3fd4bb=_0x2edb64['substring'](0x0,_0x2edb64['indexOf'](_0x58f66e(0x1d3))),_0x31d493=_0x2edb64['substring'](_0x2edb64['indexOf']('INSERTSERVERURL')+0xf),_0x2edb64=_0x3fd4bb+config[_0x58f66e(0x1bb)]+'/'+_0x31d493,_0x3fd4bb=_0x2edb64['substring'](0x0,_0x2edb64[_0x58f66e(0x194)](_0x58f66e(0x188))),_0x31d493=_0x2edb64[_0x58f66e(0x187)](_0x2edb64['indexOf'](_0x58f66e(0x188))+0x1a);var _0x334169='';for(var _0x37b227=0x1;_0x37b227<0xb;_0x37b227++){_0x2e3965[_0x37b227]!=undefined&&(_0x2bdaee[_0x37b227]!=undefined?_0x334169=_0x334169+'cvjs_conversion_addAXconversionParameter(\x22'+_0x2e3965[_0x37b227]+_0x58f66e(0x1c2)+_0x2bdaee[_0x37b227]+_0x58f66e(0x1ca):_0x334169=_0x334169+_0x58f66e(0x170)+_0x2e3965[_0x37b227]+_0x58f66e(0x19a));}_0x2edb64=_0x3fd4bb+_0x334169+_0x31d493,_0x3fd4bb=_0x2edb64[_0x58f66e(0x187)](0x0,_0x2edb64[_0x58f66e(0x194)](_0x58f66e(0x183))),_0x31d493=_0x2edb64[_0x58f66e(0x187)](_0x2edb64[_0x58f66e(0x194)](_0x58f66e(0x183))+0x1c),_0x2edb64=_0x3fd4bb+_0x58f66e(0x165)+_0x191358+'\x22;'+_0x31d493,_0x5dcd16[_0x58f66e(0x15c)](_0x176901,'w',function(_0x28ef5f,_0x1079c7){var _0xa42149=_0x58f66e,_0x3bfca4=Buffer[_0xa42149(0x1b3)](_0x2edb64);_0x5dcd16[_0xa42149(0x1d1)](_0x1079c7,_0x3bfca4,0x0,_0x3bfca4[_0xa42149(0x19e)],null,function(_0xc05546){if(_0xc05546){if(config['cvjs_debug'])console['log']('error\x20savefile:\x20'+_0xc05546);}else _0x5dcd16['close'](_0x1079c7,function(){var _0x259917=a10_0x228b;if(config['cvjs_debug'])console['log'](_0x259917(0x169));_0x56a071[_0x259917(0x19b)](_0x176901);});});});});});}else{if(config['cvjs_debug'])console[_0xfb1092(0x171)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x1efb6e+_0xfb1092(0x1c3)+_0x32eedc);if(_0x32eedc[_0xfb1092(0x194)](_0xfb1092(0x1c8))>-0x1&&config[_0xfb1092(0x1b1)]){if(config[_0xfb1092(0x185)])console[_0xfb1092(0x171)](_0xfb1092(0x17d)+_0x1efb6e+_0xfb1092(0x1c3)+_0x32eedc);_0x5dcd16[_0xfb1092(0x167)](_0x1efb6e,function(_0x1a8098,_0x329ea6){var _0x45e9d2=_0xfb1092;if(_0x1a8098){_0x56a071['send'](_0x45e9d2(0x1d0)+_0x1a8098);if(config[_0x45e9d2(0x185)])console['log'](_0x1a8098);}else{if(_0x2ccf20==0x1){if(config['cvjs_debug'])console['log']('zlib\x20unzip\x20inputFile='+_0x1efb6e);var _0x316548=require('zlib');_0x316548[_0x45e9d2(0x1cd)](_0x329ea6,{'chunkSize':0x10000},function(_0x240338,_0x5d1ef4){var _0x48db3f=_0x45e9d2,_0x3071ae=new Buffer(_0x5d1ef4,_0x48db3f(0x189));_0x316548[_0x48db3f(0x1d8)](_0x3071ae,function(_0x17741c,_0x4c6269){var _0x5419f2=_0x48db3f;_0x56a071['setHeader'](_0x5419f2(0x162),_0x5419f2(0x1ba)),_0x56a071[_0x5419f2(0x1a8)](_0x4c6269);});});}else{if(config[_0x45e9d2(0x185)])console[_0x45e9d2(0x171)](_0x45e9d2(0x1b2)+_0x329ea6[_0x45e9d2(0x19e)]);if(isGzip(_0x329ea6)){if(config[_0x45e9d2(0x185)])console['log']('zlib\x20unzip\x20data\x20already\x20compressed:'+_0x329ea6[_0x45e9d2(0x19e)]);try{var _0x316548=require(_0x45e9d2(0x18c));_0x316548[_0x45e9d2(0x1cd)](_0x329ea6,{'chunkSize':0x10000},function(_0x115094,_0xdd94e5){var _0x22848c=_0x45e9d2,_0x5a55a9=new Buffer(_0xdd94e5,_0x22848c(0x189));_0x316548[_0x22848c(0x1d8)](_0x5a55a9,function(_0x5f3f01,_0x3aa507){var _0x1ded1a=_0x22848c;_0x56a071['setHeader']('Content-Type','image/svg+xml'),_0x56a071['setHeader'](_0x1ded1a(0x164),_0x1ded1a(0x1d8)),_0x56a071[_0x1ded1a(0x1a8)](_0x3aa507);});});}catch(_0x12089e){console[_0x45e9d2(0x171)](_0x45e9d2(0x1bc)+_0x12089e);}}else{if(config[_0x45e9d2(0x185)])console[_0x45e9d2(0x171)](_0x45e9d2(0x1cc)+_0x329ea6['length']);_0x32eedc[_0x45e9d2(0x194)](_0x45e9d2(0x1a9))==0x0&&(_0x2ccf20==0x1?_0x56a071[_0x45e9d2(0x16e)](_0x45e9d2(0x162),_0x45e9d2(0x1ba)):_0x56a071['setHeader'](_0x45e9d2(0x162),'image/svg+xml'));_0x32eedc[_0x45e9d2(0x194)](_0x45e9d2(0x1d2))==0x0?_0x56a071[_0x45e9d2(0x16e)](_0x45e9d2(0x162),_0x45e9d2(0x177)):_0x56a071[_0x45e9d2(0x16e)](_0x45e9d2(0x162),_0x45e9d2(0x163));if(_0x32eedc[_0x45e9d2(0x194)]('json')==0x0){}_0x56a071[_0x45e9d2(0x1a8)](_0x329ea6);}if(_0x3ab361==0x0){if(config[_0x45e9d2(0x185)])console[_0x45e9d2(0x171)](_0x45e9d2(0x1c5));_0x5dcd16['unlink'](_0x1efb6e,function(_0x23bdd6){var _0x53f25e=_0x45e9d2;if(_0x23bdd6)console[_0x53f25e(0x171)](_0x53f25e(0x1a2)+_0x23bdd6);else{if(config['cvjs_debug'])console[_0x53f25e(0x171)](_0x53f25e(0x1bd));}});}}}});}else{if(config[_0xfb1092(0x185)])console[_0xfb1092(0x171)]('/loadfile:\x20D\x20plain\x20svg:'+_0x1efb6e+_0xfb1092(0x1c3)+_0x32eedc);_0x5dcd16['readFile'](_0x1efb6e,'utf8',function(_0x4fe136,_0x4d4d5b){var _0x33e3d3=_0xfb1092;_0x32eedc[_0x33e3d3(0x194)](_0x33e3d3(0x1a9))==0x0&&(_0x2ccf20==0x1?_0x56a071[_0x33e3d3(0x16e)](_0x33e3d3(0x162),'image/jpeg'):_0x56a071[_0x33e3d3(0x16e)](_0x33e3d3(0x162),_0x33e3d3(0x199)));_0x32eedc['indexOf'](_0x33e3d3(0x1d2))==0x0?_0x56a071['setHeader'](_0x33e3d3(0x162),'application/json'):_0x56a071[_0x33e3d3(0x16e)](_0x33e3d3(0x162),'application/octet-stream');if(_0x32eedc[_0x33e3d3(0x194)]('json')==0x0){}_0x56a071[_0x33e3d3(0x1a8)](_0x4d4d5b);if(_0x3ab361==0x0){if(config[_0x33e3d3(0x185)])console[_0x33e3d3(0x171)](_0x33e3d3(0x1c5));_0x5dcd16[_0x33e3d3(0x1d6)](_0x1efb6e,function(_0x430849){var _0x27e3db=_0x33e3d3;if(_0x430849)console[_0x27e3db(0x171)](_0x27e3db(0x1a2)+_0x430849);else{if(config[_0x27e3db(0x185)])console[_0x27e3db(0x171)](_0x27e3db(0x1bd));}});}});}}}catch(_0x255c13){_0x56a071[_0xfb1092(0x1a8)]('error\x20-\x20getCADViewerContent');if(config[_0xfb1092(0x185)])console[_0xfb1092(0x171)](_0x255c13);}}),module['exports']=router;