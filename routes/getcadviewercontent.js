var a10_0x20452b=a10_0xa13a;(function(_0x13b07c,_0x261806){var _0x307d37=a10_0xa13a,_0x7d0caa=_0x13b07c();while(!![]){try{var _0x2eb70e=-parseInt(_0x307d37(0x155))/0x1+-parseInt(_0x307d37(0x145))/0x2*(parseInt(_0x307d37(0x140))/0x3)+-parseInt(_0x307d37(0x183))/0x4+parseInt(_0x307d37(0x181))/0x5+-parseInt(_0x307d37(0x169))/0x6*(parseInt(_0x307d37(0x1aa))/0x7)+parseInt(_0x307d37(0x186))/0x8+parseInt(_0x307d37(0x172))/0x9*(parseInt(_0x307d37(0x156))/0xa);if(_0x2eb70e===_0x261806)break;else _0x7d0caa['push'](_0x7d0caa['shift']());}catch(_0x322eae){_0x7d0caa['push'](_0x7d0caa['shift']());}}}(a10_0x1353,0x471b4));const {exit}=require(a10_0x20452b(0x174)),{getEnabledCategories}=require('trace_events');function a10_0xa13a(_0x26c747,_0x263ccd){var _0x135315=a10_0x1353();return a10_0xa13a=function(_0xa13a54,_0x5cce6e){_0xa13a54=_0xa13a54-0x136;var _0x59f8c4=_0x135315[_0xa13a54];return _0x59f8c4;},a10_0xa13a(_0x26c747,_0x263ccd);}var config=require(a10_0x20452b(0x19e)),cvjs_debug=config[a10_0x20452b(0x15e)],express=require('express'),router=express['Router'](),crypto=require(a10_0x20452b(0x13a));function a10_0x1353(){var _0x4441c9=['gzip','Access-Control-Allow-Headers','gunzip','Access-Control-Allow-Origin\x20:\x20*','INSERTNONCE','Access-Control-Allow-Origin','ServerFrontEndUrl','value_9','param_9','266VYhESM','\x20pickOriginalFile=','first\x20in\x20/getcadviewercontent','fileTag','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','svgz','indexOf','param_4','error\x20-\x20get\x20/app/*\x20','is-gzip','crypto','sendFile','.html','zlib','image/jpeg','value_6','24789pRdUIY','get','/loadfile:\x20D\x20plain\x20svg:','INSERTFILENAME','write','84LixxDI','copyFile','ServerFrontEndUrlAsAllowedOriginOnly','zlib\x20unzip\x20data\x20already\x20compressed:','/loadfile:\x20\x20A\x20pickOriginalFile:','close','send','/html/CV','\x20Remain\x20on\x20Server:\x20\x20','/loadfile:\x20','utf-8','cached_conversion','Content-Security-Policy-Report-Only','value_0','localhost','value_2','305882UUUTqy','584410JPrrhg','X-Requested-With,content-type','cvjs_svgz_compress','value_4','cvjs_conversion_addAXconversionParameter(\x22','error\x20savefile:\x20','contentLocation','zlib\x20unzip\x20data:','cvjs_debug','Access-Control-Allow-Credentials','remainOnServer','setHeader','ContentSecurityPolicyReportOnly','\x20returnCadviewer=','\x22,\x22','Error\x20Found:','INSERTSERVERBACKEND','readFile','json','29604MMsFmJ','zlib\x20error:','CURRETNLOADEDDRAWINGFULLNAME','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','Access-Control-Allow-Methods','application/json','Content-Type','replace','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','153uKpMMP','ContentSecurityPolicy','process','\x20inputFile=','ServerLocation','ServerUrl','floor','pickOriginalFile\x20return\x20length=','param_1','random','toString','File\x20deleted!','param_6','utf8','INSERTCONVERSIONPARAMETERS','1923925fjrgWq','query','1456976kxjJUB','readFileSync','param_0','941072GEWKuL','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','image/svg+xml','value_1','param_8','base64','exports','param_10','fileLocationUrl','INSERTSERVERURL','\x20fileType=','iscached','open','log','\x20TYPE=','application/octet-stream','unlink','ERROR:\x20app.get\x20','param_7','svg','substring','Content-Security-Policy','param_2','/getcadviewercontent','../CADViewer_config.json','length','from'];a10_0x1353=function(){return _0x4441c9;};return a10_0x1353();}const isGzip=require(a10_0x20452b(0x139));router[a10_0x20452b(0x141)](a10_0x20452b(0x19d),function(_0x1740fc,_0x174842){var _0x2978be=a10_0x20452b;if(config[_0x2978be(0x147)]==!![]){_0x174842[_0x2978be(0x161)](_0x2978be(0x1a6),config[_0x2978be(0x1a7)]);if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:'+config['ServerFrontEndUrl']);}else{_0x174842[_0x2978be(0x161)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x2978be(0x193)](_0x2978be(0x1a4));}_0x174842[_0x2978be(0x161)](_0x2978be(0x16d),_0x2978be(0x187)),_0x174842[_0x2978be(0x161)](_0x2978be(0x1a2),_0x2978be(0x157)),_0x174842['setHeader'](_0x2978be(0x15f),!![]);var _0x30aa4c=crypto['randomBytes'](0x10)[_0x2978be(0x17c)](_0x2978be(0x18b)),_0x4e42c4=config[_0x2978be(0x173)];_0x4e42c4=_0x4e42c4[_0x2978be(0x170)](_0x2978be(0x1a5),_0x30aa4c);if(config[_0x2978be(0x162)])_0x174842['setHeader'](_0x2978be(0x151),_0x4e42c4);else _0x174842[_0x2978be(0x161)](_0x2978be(0x19b),_0x4e42c4);if(config[_0x2978be(0x15e)])console[_0x2978be(0x193)](_0x2978be(0x1ac));try{var _0x5f5b11=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x160)],_0x1844dc=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x1ad)],_0x296c20=_0x1740fc[_0x2978be(0x182)]['Type'],_0x3c2be8=_0x1740fc[_0x2978be(0x182)]['returnCadviewer'],_0x2591f4=_0x1740fc[_0x2978be(0x182)]['pickOriginalFile'],_0x131379=config['fileLocation']+_0x1844dc+'.'+_0x296c20,_0x3bf802=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x191)];if(config[_0x2978be(0x15e)])console['log'](_0x2978be(0x14e)+_0x131379+_0x2978be(0x14d)+_0x5f5b11+_0x2978be(0x190)+_0x296c20+_0x2978be(0x163)+_0x3c2be8+_0x2978be(0x1ab)+_0x2591f4);var _0x4d07d0=require('fs');if(_0x2591f4==0x1){if(config[_0x2978be(0x15e)])console[_0x2978be(0x193)](_0x2978be(0x149)+_0x2591f4+_0x2978be(0x175)+_0x131379);try{const _0x51f638=_0x4d07d0[_0x2978be(0x184)](_0x131379);_0x174842['setHeader']('Content-Type',_0x2978be(0x195)),_0x174842[_0x2978be(0x14b)](_0x51f638),console[_0x2978be(0x193)](_0x2978be(0x179)+_0x51f638['length']);if(_0x5f5b11==0x0){if(config['cvjs_debug'])console['log'](_0x2978be(0x16c));_0x4d07d0['unlink'](_0x131379,function(_0x41f6d9){var _0x364c1a=_0x2978be;if(_0x41f6d9)console['log'](_0x364c1a(0x197)+_0x41f6d9);else{if(config['cvjs_debug'])console['log'](_0x364c1a(0x17d));}});}return;}catch(_0x5188c9){console['error'](_0x5188c9);return;}}if(_0x3c2be8==0x1){if(config[_0x2978be(0x15e)])console['log'](_0x2978be(0x171)+_0x131379);var _0xbf5579=Math[_0x2978be(0x178)](Math[_0x2978be(0x17b)]()*Math[_0x2978be(0x178)](0x5f5e100)),_0x213f61=_0x2978be(0x14c)+_0xbf5579+_0x2978be(0x13c),_0x2f9a0f=config[_0x2978be(0x176)]+_0x213f61,_0x2e60d3=config[_0x2978be(0x176)]+'/html/CADViewer_base_10_restresponse.html',_0x460839=new Array(0xb);_0x460839[0x0]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x185)],_0x460839[0x1]=_0x1740fc['query'][_0x2978be(0x17a)],_0x460839[0x2]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x19c)],_0x460839[0x3]=_0x1740fc['query']['param_3'],_0x460839[0x4]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x137)],_0x460839[0x5]=_0x1740fc[_0x2978be(0x182)]['param_5'],_0x460839[0x6]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x17e)],_0x460839[0x7]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x198)],_0x460839[0x8]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x18a)],_0x460839[0x9]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x1a9)],_0x460839[0xa]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x18d)];var _0x2306c7=new Array(0xb);_0x2306c7[0x0]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x152)],_0x2306c7[0x1]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x189)],_0x2306c7[0x2]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x154)],_0x2306c7[0x3]=_0x1740fc['query']['value_3'],_0x2306c7[0x4]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x159)],_0x2306c7[0x5]=_0x1740fc[_0x2978be(0x182)]['value_5'],_0x2306c7[0x6]=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x13f)],_0x2306c7[0x7]=_0x1740fc[_0x2978be(0x182)]['value_7'],_0x2306c7[0x8]=_0x1740fc[_0x2978be(0x182)]['value_8'],_0x2306c7[0x9]=_0x1740fc['query'][_0x2978be(0x1a8)],_0x2306c7[0xa]=_0x1740fc[_0x2978be(0x182)]['value_10'];var _0x449f97=_0x1740fc[_0x2978be(0x182)][_0x2978be(0x15c)];_0x4d07d0[_0x2978be(0x146)](_0x2e60d3,_0x2f9a0f,_0x27d93e=>{var _0x472c77=_0x2978be;_0x27d93e?console[_0x472c77(0x193)](_0x472c77(0x165),_0x27d93e):_0x4d07d0[_0x472c77(0x167)](_0x2f9a0f,_0x472c77(0x17f),function(_0x33b227,_0x1a5f94){var _0x109481=_0x472c77,_0x1679a5=_0x1a5f94[_0x109481(0x17c)]();_0x1679a5=_0x1679a5['replace'](_0x109481(0x1a5),_0x30aa4c);var _0x41eebb=_0x1679a5['substring'](0x0,_0x1679a5[_0x109481(0x136)](_0x109481(0x143))),_0x46eb03=_0x1679a5[_0x109481(0x19a)](_0x1679a5[_0x109481(0x136)](_0x109481(0x143))+0xe);config[_0x109481(0x150)]?_0x1679a5=_0x41eebb+_0x449f97+_0x46eb03:_0x1679a5=_0x41eebb+config[_0x109481(0x18e)]+'/'+_0x1844dc+'.'+_0x296c20+_0x46eb03;_0x41eebb=_0x1679a5[_0x109481(0x19a)](0x0,_0x1679a5['indexOf'](_0x109481(0x166))),_0x46eb03=_0x1679a5['substring'](_0x1679a5['indexOf'](_0x109481(0x166))+0x13);var _0x135de9=config[_0x109481(0x177)];_0x135de9[_0x109481(0x136)]('::1')>-0x1&&(_0x135de9=_0x135de9[_0x109481(0x170)]('::1',_0x109481(0x153)));_0x1679a5=_0x41eebb+_0x135de9+'/'+_0x46eb03,_0x41eebb=_0x1679a5[_0x109481(0x19a)](0x0,_0x1679a5[_0x109481(0x136)](_0x109481(0x18f))),_0x46eb03=_0x1679a5[_0x109481(0x19a)](_0x1679a5[_0x109481(0x136)]('INSERTSERVERURL')+0xf),_0x1679a5=_0x41eebb+_0x135de9+'/'+_0x46eb03,_0x41eebb=_0x1679a5[_0x109481(0x19a)](0x0,_0x1679a5[_0x109481(0x136)]('INSERTCONVERSIONPARAMETERS')),_0x46eb03=_0x1679a5['substring'](_0x1679a5[_0x109481(0x136)](_0x109481(0x180))+0x1a);var _0x4133b9='';for(var _0x4b5fe2=0x1;_0x4b5fe2<0xb;_0x4b5fe2++){_0x460839[_0x4b5fe2]!=undefined&&(_0x2306c7[_0x4b5fe2]!=undefined?_0x4133b9=_0x4133b9+_0x109481(0x15a)+_0x460839[_0x4b5fe2]+_0x109481(0x164)+_0x2306c7[_0x4b5fe2]+'\x22);\x0a':_0x4133b9=_0x4133b9+_0x109481(0x15a)+_0x460839[_0x4b5fe2]+'\x22,\x22\x22);\x0a');}_0x1679a5=_0x41eebb+_0x4133b9+_0x46eb03,_0x41eebb=_0x1679a5[_0x109481(0x19a)](0x0,_0x1679a5[_0x109481(0x136)](_0x109481(0x16b))),_0x46eb03=_0x1679a5[_0x109481(0x19a)](_0x1679a5[_0x109481(0x136)](_0x109481(0x16b))+0x1c),_0x1679a5=_0x41eebb+'currentLoadedDrawingFullName=\x22'+_0x449f97+'\x22;'+_0x46eb03,_0x4d07d0[_0x109481(0x192)](_0x2f9a0f,'w',function(_0x111198,_0x595433){var _0x17c04b=_0x109481,_0x40ef60=Buffer[_0x17c04b(0x1a0)](_0x1679a5);_0x4d07d0[_0x17c04b(0x144)](_0x595433,_0x40ef60,0x0,_0x40ef60[_0x17c04b(0x19f)],null,function(_0x2c0cc1){var _0x40b6d2=_0x17c04b;if(_0x2c0cc1){if(config['cvjs_debug'])console['log'](_0x40b6d2(0x15b)+_0x2c0cc1);}else _0x4d07d0[_0x40b6d2(0x14a)](_0x595433,function(){var _0x55c7ed=_0x40b6d2;if(config['cvjs_debug'])console[_0x55c7ed(0x193)]('file\x20written');_0x174842[_0x55c7ed(0x13b)](_0x2f9a0f);});});});});});}else{if(config[_0x2978be(0x15e)])console[_0x2978be(0x193)](_0x2978be(0x1ae)+_0x131379+_0x2978be(0x194)+_0x296c20);if(_0x296c20[_0x2978be(0x136)](_0x2978be(0x1af))>-0x1&&config[_0x2978be(0x158)]){if(config[_0x2978be(0x15e)])console[_0x2978be(0x193)]('/loadfile:\x20D\x20svgz\x20compression:'+_0x131379+_0x2978be(0x194)+_0x296c20);_0x4d07d0['readFile'](_0x131379,function(_0x113a0f,_0x2410da){var _0x49502c=_0x2978be;if(_0x113a0f){_0x174842['send'](_0x49502c(0x138)+_0x113a0f);if(config['cvjs_debug'])console['log'](_0x113a0f);}else{if(_0x2591f4==0x1){if(config[_0x49502c(0x15e)])console['log']('zlib\x20unzip\x20inputFile='+_0x131379);var _0x5b63cf=require('zlib');_0x5b63cf[_0x49502c(0x1a3)](_0x2410da,{'chunkSize':0x10000},function(_0x54fa40,_0x2ed0c1){var _0x4f229d=new Buffer(_0x2ed0c1,'utf-8');_0x5b63cf['gzip'](_0x4f229d,function(_0x23960e,_0x41671e){var _0x28f3f5=a10_0xa13a;_0x174842[_0x28f3f5(0x161)]('Content-Type',_0x28f3f5(0x13e)),_0x174842['send'](_0x41671e);});});}else{if(config['cvjs_debug'])console[_0x49502c(0x193)](_0x49502c(0x15d)+_0x2410da[_0x49502c(0x19f)]);if(isGzip(_0x2410da)){if(config[_0x49502c(0x15e)])console['log'](_0x49502c(0x148)+_0x2410da['length']);try{var _0x5b63cf=require(_0x49502c(0x13d));_0x5b63cf[_0x49502c(0x1a3)](_0x2410da,{'chunkSize':0x10000},function(_0x1f6948,_0x218ebf){var _0x2d551d=_0x49502c,_0x38ea79=new Buffer(_0x218ebf,_0x2d551d(0x14f));_0x5b63cf['gzip'](_0x38ea79,function(_0x38d96b,_0x1c6257){var _0x400b9b=_0x2d551d;_0x174842[_0x400b9b(0x161)](_0x400b9b(0x16f),_0x400b9b(0x188)),_0x174842['setHeader']('Content-Encoding',_0x400b9b(0x1a1)),_0x174842['send'](_0x1c6257);});});}catch(_0x5af0c5){console['log'](_0x49502c(0x16a)+_0x5af0c5);}}else{if(config[_0x49502c(0x15e)])console['log']('zlib\x20unzip\x20data\x20not\x20compressed:'+_0x2410da[_0x49502c(0x19f)]);_0x296c20['indexOf'](_0x49502c(0x199))==0x0&&(_0x2591f4==0x1?_0x174842[_0x49502c(0x161)](_0x49502c(0x16f),_0x49502c(0x13e)):_0x174842[_0x49502c(0x161)]('Content-Type',_0x49502c(0x188)));_0x296c20['indexOf'](_0x49502c(0x168))==0x0?_0x174842['setHeader'](_0x49502c(0x16f),_0x49502c(0x16e)):_0x174842[_0x49502c(0x161)](_0x49502c(0x16f),_0x49502c(0x195));if(_0x296c20[_0x49502c(0x136)](_0x49502c(0x168))==0x0){}_0x174842[_0x49502c(0x14b)](_0x2410da);}if(_0x5f5b11==0x0){if(config[_0x49502c(0x15e)])console[_0x49502c(0x193)](_0x49502c(0x16c));_0x4d07d0['unlink'](_0x131379,function(_0x4ade39){var _0x297f80=_0x49502c;if(_0x4ade39)console['log'](_0x297f80(0x197)+_0x4ade39);else{if(config[_0x297f80(0x15e)])console[_0x297f80(0x193)](_0x297f80(0x17d));}});}}}});}else{if(config[_0x2978be(0x15e)])console[_0x2978be(0x193)](_0x2978be(0x142)+_0x131379+_0x2978be(0x194)+_0x296c20);_0x4d07d0[_0x2978be(0x167)](_0x131379,'utf8',function(_0x219453,_0x48ceb0){var _0x391e93=_0x2978be;_0x296c20['indexOf'](_0x391e93(0x199))==0x0&&(_0x2591f4==0x1?_0x174842[_0x391e93(0x161)](_0x391e93(0x16f),'image/jpeg'):_0x174842[_0x391e93(0x161)](_0x391e93(0x16f),_0x391e93(0x188)));_0x296c20['indexOf'](_0x391e93(0x168))==0x0?_0x174842[_0x391e93(0x161)](_0x391e93(0x16f),_0x391e93(0x16e)):_0x174842[_0x391e93(0x161)](_0x391e93(0x16f),_0x391e93(0x195));if(_0x296c20['indexOf'](_0x391e93(0x168))==0x0){}_0x174842[_0x391e93(0x14b)](_0x48ceb0);if(_0x5f5b11==0x0){if(config[_0x391e93(0x15e)])console[_0x391e93(0x193)](_0x391e93(0x16c));_0x4d07d0[_0x391e93(0x196)](_0x131379,function(_0x463efa){var _0x3d2cba=_0x391e93;if(_0x463efa)console[_0x3d2cba(0x193)]('ERROR:\x20app.get\x20'+_0x463efa);else{if(config['cvjs_debug'])console[_0x3d2cba(0x193)](_0x3d2cba(0x17d));}});}});}}}catch(_0x66efe1){_0x174842['send']('error\x20-\x20getCADViewerContent');if(config[_0x2978be(0x15e)])console['log'](_0x66efe1);}}),module[a10_0x20452b(0x18c)]=router;