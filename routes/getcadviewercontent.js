var a10_0x564fad=a10_0x1056;(function(_0x6a3156,_0x4be083){var _0x8505ba=a10_0x1056,_0x453e8e=_0x6a3156();while(!![]){try{var _0x16064c=parseInt(_0x8505ba(0x1c1))/0x1+parseInt(_0x8505ba(0x183))/0x2+-parseInt(_0x8505ba(0x15b))/0x3*(parseInt(_0x8505ba(0x19f))/0x4)+-parseInt(_0x8505ba(0x196))/0x5+-parseInt(_0x8505ba(0x1c7))/0x6+parseInt(_0x8505ba(0x187))/0x7+-parseInt(_0x8505ba(0x16f))/0x8;if(_0x16064c===_0x4be083)break;else _0x453e8e['push'](_0x453e8e['shift']());}catch(_0x41a698){_0x453e8e['push'](_0x453e8e['shift']());}}}(a10_0x5a46,0x57345));function a10_0x1056(_0x2045d9,_0x43f00a){var _0x5a46ec=a10_0x5a46();return a10_0x1056=function(_0x1056dd,_0x2969cf){_0x1056dd=_0x1056dd-0x159;var _0x3e7e49=_0x5a46ec[_0x1056dd];return _0x3e7e49;},a10_0x1056(_0x2045d9,_0x43f00a);}const {exit}=require('process'),{getEnabledCategories}=require(a10_0x564fad(0x170));var config=require('../CADViewer_config.json'),cvjs_debug=config[a10_0x564fad(0x16a)],express=require(a10_0x564fad(0x1b0)),router=express['Router'](),crypto=require('crypto');function a10_0x5a46(){var _0x3d3ed3=['contentLocation','Access-Control-Allow-Origin\x20:','application/json','image/jpeg','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','Content-Type','log','zlib','216149drSFGy','param_0','\x20fileType=','zlib\x20unzip\x20data\x20not\x20compressed:','param_6','gunzip','2667870NqBFVz','\x20TYPE=','\x20returnCadviewer=','fileTag','is-gzip','CURRETNLOADEDDRAWINGFULLNAME','currentLoadedDrawingFullName=\x22','random','3ynNoyj','application/octet-stream','Content-Security-Policy','error\x20-\x20getCADViewerContent','\x20inputFile=','INSERTCONVERSIONPARAMETERS','X-Requested-With,content-type','zlib\x20unzip\x20data\x20already\x20compressed:','/getcadviewercontent','\x22);\x0a','fileLocationUrl','utf8','param_5','INSERTNONCE','zlib\x20error:','cvjs_debug','value_7','copyFile','error','Content-Encoding','2402320KDuEVe','trace_events','file\x20written','value_9','zlib\x20unzip\x20data:','pickOriginalFile','INSERTSERVERURL','ERROR:\x20app.get\x20','utf-8','indexOf','value_0','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','/loadfile:\x20D\x20plain\x20svg:','\x22,\x22','open','Access-Control-Allow-Methods','first\x20in\x20/getcadviewercontent','length','.html','replace','1234954HAHhNb','value_2','value_6','json','3764089EQbXMp','/html/CADViewer_base_10_restresponse.html','ServerUrl','send','returnCadviewer','setHeader','ServerFrontEndUrl','ServerFrontEndUrlAsAllowedOriginOnly','\x22,\x22\x22);\x0a','toString','zlib\x20unzip\x20inputFile=','/loadfile:\x20','/loadfile:\x20\x20A\x20pickOriginalFile:','query','Access-Control-Allow-Origin','802575YzzPKS','error\x20-\x20get\x20/app/*\x20','/html/CV','unlink','gzip','ContentSecurityPolicy','\x20pickOriginalFile=','error\x20savefile:\x20','randomBytes','434856dWnocD','Type','param_9','param_1','image/svg+xml','ServerLocation','fileLocation','cvjs_conversion_addAXconversionParameter(\x22','Access-Control-Allow-Credentials','floor','File\x20deleted!','svgz','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','param_10','substring','readFile','pickOriginalFile\x20return\x20length=','express','param_7','/loadfile:\x20D\x20svgz\x20compression:','exports','close','readFileSync','INSERTFILENAME','param_4','value_8'];a10_0x5a46=function(){return _0x3d3ed3;};return a10_0x5a46();}const isGzip=require(a10_0x564fad(0x1cb));router['get'](a10_0x564fad(0x163),function(_0x536897,_0x49ecef){var _0x461873=a10_0x564fad;if(config[_0x461873(0x18e)]==!![]){_0x49ecef[_0x461873(0x18c)]('Access-Control-Allow-Origin',config[_0x461873(0x18d)]);if(cvjs_debug)console[_0x461873(0x1bf)](_0x461873(0x1ba)+config[_0x461873(0x18d)]);}else{_0x49ecef[_0x461873(0x18c)](_0x461873(0x195),'*');if(cvjs_debug)console[_0x461873(0x1bf)]('Access-Control-Allow-Origin\x20:\x20*');}_0x49ecef[_0x461873(0x18c)](_0x461873(0x17e),_0x461873(0x1ab)),_0x49ecef[_0x461873(0x18c)]('Access-Control-Allow-Headers',_0x461873(0x161)),_0x49ecef[_0x461873(0x18c)](_0x461873(0x1a7),!![]);var _0x1b6d2f=crypto[_0x461873(0x19e)](0x10)[_0x461873(0x190)]('base64'),_0x1812f6=config[_0x461873(0x19b)];_0x1812f6=_0x1812f6[_0x461873(0x182)](_0x461873(0x168),_0x1b6d2f);if(config['ContentSecurityPolicyReportOnly'])_0x49ecef['setHeader']('Content-Security-Policy-Report-Only',_0x1812f6);else _0x49ecef['setHeader'](_0x461873(0x15d),_0x1812f6);if(config[_0x461873(0x16a)])console[_0x461873(0x1bf)](_0x461873(0x17f));try{var _0xef480b=_0x536897[_0x461873(0x194)]['remainOnServer'],_0x5a9ac5=_0x536897['query'][_0x461873(0x1ca)],_0x258504=_0x536897['query'][_0x461873(0x1a0)],_0x1f9da5=_0x536897['query'][_0x461873(0x18b)],_0x490d2c=_0x536897[_0x461873(0x194)][_0x461873(0x174)],_0x3d3f19=config[_0x461873(0x1a5)]+_0x5a9ac5+'.'+_0x258504;if(config['cvjs_debug'])console['log'](_0x461873(0x192)+_0x3d3f19+'\x20Remain\x20on\x20Server:\x20\x20'+_0xef480b+_0x461873(0x1c3)+_0x258504+_0x461873(0x1c9)+_0x1f9da5+_0x461873(0x19c)+_0x490d2c);var _0x494bf3=require('fs');if(_0x490d2c==0x1){if(config[_0x461873(0x16a)])console[_0x461873(0x1bf)](_0x461873(0x193)+_0x490d2c+_0x461873(0x15f)+_0x3d3f19);try{const _0x49ab06=_0x494bf3[_0x461873(0x1b5)](_0x3d3f19);_0x49ecef['setHeader'](_0x461873(0x1be),'application/octet-stream'),_0x49ecef[_0x461873(0x18a)](_0x49ab06),console[_0x461873(0x1bf)](_0x461873(0x1af)+_0x49ab06[_0x461873(0x180)]);if(_0xef480b==0x0){if(config[_0x461873(0x16a)])console['log'](_0x461873(0x1bd));_0x494bf3[_0x461873(0x199)](_0x3d3f19,function(_0x30c168){var _0x10f82e=_0x461873;if(_0x30c168)console[_0x10f82e(0x1bf)](_0x10f82e(0x176)+_0x30c168);else{if(config[_0x10f82e(0x16a)])console[_0x10f82e(0x1bf)](_0x10f82e(0x1a9));}});}return;}catch(_0x1be3d7){console[_0x461873(0x16d)](_0x1be3d7);return;}}if(_0x1f9da5==0x1){if(config[_0x461873(0x16a)])console[_0x461873(0x1bf)]('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x3d3f19);var _0x5b3013=Math['floor'](Math[_0x461873(0x15a)]()*Math[_0x461873(0x1a8)](0x5f5e100)),_0x47fad1=_0x461873(0x198)+_0x5b3013+_0x461873(0x181),_0x1d500c=config[_0x461873(0x1a4)]+_0x47fad1,_0x48477d=config[_0x461873(0x1a4)]+_0x461873(0x188),_0x40c1dc=new Array(0xb);_0x40c1dc[0x0]=_0x536897['query'][_0x461873(0x1c2)],_0x40c1dc[0x1]=_0x536897[_0x461873(0x194)][_0x461873(0x1a2)],_0x40c1dc[0x2]=_0x536897[_0x461873(0x194)]['param_2'],_0x40c1dc[0x3]=_0x536897[_0x461873(0x194)]['param_3'],_0x40c1dc[0x4]=_0x536897[_0x461873(0x194)][_0x461873(0x1b7)],_0x40c1dc[0x5]=_0x536897['query'][_0x461873(0x167)],_0x40c1dc[0x6]=_0x536897['query'][_0x461873(0x1c5)],_0x40c1dc[0x7]=_0x536897[_0x461873(0x194)][_0x461873(0x1b1)],_0x40c1dc[0x8]=_0x536897[_0x461873(0x194)]['param_8'],_0x40c1dc[0x9]=_0x536897['query'][_0x461873(0x1a1)],_0x40c1dc[0xa]=_0x536897['query'][_0x461873(0x1ac)];var _0x32f576=new Array(0xb);_0x32f576[0x0]=_0x536897['query'][_0x461873(0x179)],_0x32f576[0x1]=_0x536897[_0x461873(0x194)]['value_1'],_0x32f576[0x2]=_0x536897['query'][_0x461873(0x184)],_0x32f576[0x3]=_0x536897['query']['value_3'],_0x32f576[0x4]=_0x536897[_0x461873(0x194)]['value_4'],_0x32f576[0x5]=_0x536897[_0x461873(0x194)]['value_5'],_0x32f576[0x6]=_0x536897[_0x461873(0x194)][_0x461873(0x185)],_0x32f576[0x7]=_0x536897[_0x461873(0x194)][_0x461873(0x16b)],_0x32f576[0x8]=_0x536897[_0x461873(0x194)][_0x461873(0x1b8)],_0x32f576[0x9]=_0x536897['query'][_0x461873(0x172)],_0x32f576[0xa]=_0x536897['query']['value_10'];var _0x58bea1=_0x536897[_0x461873(0x194)][_0x461873(0x1b9)];_0x494bf3[_0x461873(0x16c)](_0x48477d,_0x1d500c,_0x5cbede=>{var _0x48e95e=_0x461873;_0x5cbede?console[_0x48e95e(0x1bf)]('Error\x20Found:',_0x5cbede):_0x494bf3[_0x48e95e(0x1ae)](_0x1d500c,_0x48e95e(0x166),function(_0x1d86f5,_0x259738){var _0xbad771=_0x48e95e,_0x563381=_0x259738['toString']();_0x563381=_0x563381[_0xbad771(0x182)](_0xbad771(0x168),_0x1b6d2f);var _0x50a209=_0x563381['substring'](0x0,_0x563381['indexOf'](_0xbad771(0x1b6))),_0x18c162=_0x563381[_0xbad771(0x1ad)](_0x563381['indexOf'](_0xbad771(0x1b6))+0xe);_0x563381=_0x50a209+config[_0xbad771(0x165)]+'/'+_0x5a9ac5+'.'+_0x258504+_0x18c162,_0x50a209=_0x563381[_0xbad771(0x1ad)](0x0,_0x563381[_0xbad771(0x178)]('INSERTSERVERBACKEND')),_0x18c162=_0x563381[_0xbad771(0x1ad)](_0x563381[_0xbad771(0x178)]('INSERTSERVERBACKEND')+0x13),_0x563381=_0x50a209+config[_0xbad771(0x189)]+'/'+_0x18c162,_0x50a209=_0x563381[_0xbad771(0x1ad)](0x0,_0x563381[_0xbad771(0x178)]('INSERTSERVERURL')),_0x18c162=_0x563381[_0xbad771(0x1ad)](_0x563381[_0xbad771(0x178)](_0xbad771(0x175))+0xf),_0x563381=_0x50a209+config[_0xbad771(0x189)]+'/'+_0x18c162,_0x50a209=_0x563381[_0xbad771(0x1ad)](0x0,_0x563381[_0xbad771(0x178)](_0xbad771(0x160))),_0x18c162=_0x563381[_0xbad771(0x1ad)](_0x563381[_0xbad771(0x178)]('INSERTCONVERSIONPARAMETERS')+0x1a);var _0x1704dc='';for(var _0x130b5c=0x1;_0x130b5c<0xb;_0x130b5c++){_0x40c1dc[_0x130b5c]!=undefined&&(_0x32f576[_0x130b5c]!=undefined?_0x1704dc=_0x1704dc+_0xbad771(0x1a6)+_0x40c1dc[_0x130b5c]+_0xbad771(0x17c)+_0x32f576[_0x130b5c]+_0xbad771(0x164):_0x1704dc=_0x1704dc+'cvjs_conversion_addAXconversionParameter(\x22'+_0x40c1dc[_0x130b5c]+_0xbad771(0x18f));}_0x563381=_0x50a209+_0x1704dc+_0x18c162,_0x50a209=_0x563381[_0xbad771(0x1ad)](0x0,_0x563381[_0xbad771(0x178)](_0xbad771(0x1cc))),_0x18c162=_0x563381['substring'](_0x563381['indexOf'](_0xbad771(0x1cc))+0x1c),_0x563381=_0x50a209+_0xbad771(0x159)+_0x58bea1+'\x22;'+_0x18c162,_0x494bf3[_0xbad771(0x17d)](_0x1d500c,'w',function(_0x19ba24,_0x353009){var _0x17e8c1=Buffer['from'](_0x563381);_0x494bf3['write'](_0x353009,_0x17e8c1,0x0,_0x17e8c1['length'],null,function(_0x308292){var _0x325fbd=a10_0x1056;if(_0x308292){if(config['cvjs_debug'])console[_0x325fbd(0x1bf)](_0x325fbd(0x19d)+_0x308292);}else _0x494bf3[_0x325fbd(0x1b4)](_0x353009,function(){var _0x8e50cf=_0x325fbd;if(config[_0x8e50cf(0x16a)])console[_0x8e50cf(0x1bf)](_0x8e50cf(0x171));_0x49ecef['sendFile'](_0x1d500c);});});});});});}else{if(config['cvjs_debug'])console[_0x461873(0x1bf)](_0x461873(0x17a)+_0x3d3f19+'\x20TYPE='+_0x258504);if(_0x258504[_0x461873(0x178)](_0x461873(0x1aa))>-0x1&&config['cvjs_svgz_compress']){if(config[_0x461873(0x16a)])console[_0x461873(0x1bf)](_0x461873(0x1b2)+_0x3d3f19+_0x461873(0x1c8)+_0x258504);_0x494bf3[_0x461873(0x1ae)](_0x3d3f19,function(_0x13b242,_0x4bac74){var _0x4be495=_0x461873;if(_0x13b242){_0x49ecef[_0x4be495(0x18a)](_0x4be495(0x197)+_0x13b242);if(config[_0x4be495(0x16a)])console['log'](_0x13b242);}else{if(_0x490d2c==0x1){if(config[_0x4be495(0x16a)])console[_0x4be495(0x1bf)](_0x4be495(0x191)+_0x3d3f19);var _0x5df852=require(_0x4be495(0x1c0));_0x5df852[_0x4be495(0x1c6)](_0x4bac74,{'chunkSize':0x10000},function(_0x400d0a,_0x1ec809){var _0x4ca13c=_0x4be495,_0x4d93ad=new Buffer(_0x1ec809,_0x4ca13c(0x177));_0x5df852[_0x4ca13c(0x19a)](_0x4d93ad,function(_0x497e7c,_0x115f32){var _0x50d107=_0x4ca13c;_0x49ecef[_0x50d107(0x18c)](_0x50d107(0x1be),'image/jpeg'),_0x49ecef[_0x50d107(0x18a)](_0x115f32);});});}else{if(config[_0x4be495(0x16a)])console['log'](_0x4be495(0x173)+_0x4bac74[_0x4be495(0x180)]);if(isGzip(_0x4bac74)){if(config[_0x4be495(0x16a)])console[_0x4be495(0x1bf)](_0x4be495(0x162)+_0x4bac74[_0x4be495(0x180)]);try{var _0x5df852=require(_0x4be495(0x1c0));_0x5df852[_0x4be495(0x1c6)](_0x4bac74,{'chunkSize':0x10000},function(_0x45e075,_0x410d5d){var _0x15692e=_0x4be495,_0x1b5e3f=new Buffer(_0x410d5d,_0x15692e(0x177));_0x5df852['gzip'](_0x1b5e3f,function(_0x36bf00,_0x4ffe7d){var _0x258c05=_0x15692e;_0x49ecef[_0x258c05(0x18c)]('Content-Type','image/svg+xml'),_0x49ecef['setHeader'](_0x258c05(0x16e),_0x258c05(0x19a)),_0x49ecef[_0x258c05(0x18a)](_0x4ffe7d);});});}catch(_0x32a4e8){console[_0x4be495(0x1bf)](_0x4be495(0x169)+_0x32a4e8);}}else{if(config['cvjs_debug'])console[_0x4be495(0x1bf)](_0x4be495(0x1c4)+_0x4bac74['length']);_0x258504[_0x4be495(0x178)]('svg')==0x0&&(_0x490d2c==0x1?_0x49ecef[_0x4be495(0x18c)](_0x4be495(0x1be),_0x4be495(0x1bc)):_0x49ecef[_0x4be495(0x18c)](_0x4be495(0x1be),_0x4be495(0x1a3)));_0x258504[_0x4be495(0x178)](_0x4be495(0x186))==0x0?_0x49ecef['setHeader'](_0x4be495(0x1be),'application/json'):_0x49ecef['setHeader']('Content-Type',_0x4be495(0x15c));if(_0x258504[_0x4be495(0x178)](_0x4be495(0x186))==0x0){}_0x49ecef['send'](_0x4bac74);}if(_0xef480b==0x0){if(config['cvjs_debug'])console['log'](_0x4be495(0x1bd));_0x494bf3[_0x4be495(0x199)](_0x3d3f19,function(_0x412d49){var _0x53a0e4=_0x4be495;if(_0x412d49)console[_0x53a0e4(0x1bf)]('ERROR:\x20app.get\x20'+_0x412d49);else{if(config[_0x53a0e4(0x16a)])console[_0x53a0e4(0x1bf)](_0x53a0e4(0x1a9));}});}}}});}else{if(config[_0x461873(0x16a)])console[_0x461873(0x1bf)](_0x461873(0x17b)+_0x3d3f19+_0x461873(0x1c8)+_0x258504);_0x494bf3[_0x461873(0x1ae)](_0x3d3f19,_0x461873(0x166),function(_0x59b1ba,_0x1bacb6){var _0xe575a9=_0x461873;_0x258504[_0xe575a9(0x178)]('svg')==0x0&&(_0x490d2c==0x1?_0x49ecef[_0xe575a9(0x18c)]('Content-Type',_0xe575a9(0x1bc)):_0x49ecef['setHeader'](_0xe575a9(0x1be),_0xe575a9(0x1a3)));_0x258504['indexOf'](_0xe575a9(0x186))==0x0?_0x49ecef[_0xe575a9(0x18c)](_0xe575a9(0x1be),_0xe575a9(0x1bb)):_0x49ecef['setHeader'](_0xe575a9(0x1be),'application/octet-stream');if(_0x258504[_0xe575a9(0x178)](_0xe575a9(0x186))==0x0){}_0x49ecef['send'](_0x1bacb6);if(_0xef480b==0x0){if(config[_0xe575a9(0x16a)])console[_0xe575a9(0x1bf)]('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x494bf3[_0xe575a9(0x199)](_0x3d3f19,function(_0x7587ac){var _0x152c7e=_0xe575a9;if(_0x7587ac)console[_0x152c7e(0x1bf)]('ERROR:\x20app.get\x20'+_0x7587ac);else{if(config['cvjs_debug'])console[_0x152c7e(0x1bf)](_0x152c7e(0x1a9));}});}});}}}catch(_0x218b9b){_0x49ecef[_0x461873(0x18a)](_0x461873(0x15e));if(config[_0x461873(0x16a)])console[_0x461873(0x1bf)](_0x218b9b);}}),module[a10_0x564fad(0x1b3)]=router;