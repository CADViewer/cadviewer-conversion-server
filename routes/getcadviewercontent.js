function a10_0x5985(_0x31862e,_0x29bd6a){var _0xfcda40=a10_0xfcda();return a10_0x5985=function(_0x5985d8,_0x4cb617){_0x5985d8=_0x5985d8-0x1d6;var _0x5cfd45=_0xfcda40[_0x5985d8];return _0x5cfd45;},a10_0x5985(_0x31862e,_0x29bd6a);}var a10_0x32602d=a10_0x5985;(function(_0x509180,_0x45fdae){var _0x4dc41a=a10_0x5985,_0x399e47=_0x509180();while(!![]){try{var _0x31c27c=parseInt(_0x4dc41a(0x20c))/0x1+parseInt(_0x4dc41a(0x1fb))/0x2+parseInt(_0x4dc41a(0x252))/0x3+parseInt(_0x4dc41a(0x1e7))/0x4+parseInt(_0x4dc41a(0x1de))/0x5*(-parseInt(_0x4dc41a(0x1e1))/0x6)+parseInt(_0x4dc41a(0x239))/0x7*(-parseInt(_0x4dc41a(0x217))/0x8)+parseInt(_0x4dc41a(0x216))/0x9*(-parseInt(_0x4dc41a(0x245))/0xa);if(_0x31c27c===_0x45fdae)break;else _0x399e47['push'](_0x399e47['shift']());}catch(_0x1d5b6e){_0x399e47['push'](_0x399e47['shift']());}}}(a10_0xfcda,0x21ac0));function a10_0xfcda(){var _0x281005=['cvjs_conversion_addAXconversionParameter(\x22','zlib','cached_conversion','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','param_9','zlib\x20error:','query','Content-Security-Policy','param_0','param_5','is-gzip','value_4','\x22,\x22\x22);\x0a','/html/CADViewer_base_10_restresponse.html','replace','gzip','\x22);\x0a','\x20inputFile=','param_10','../CADViewer_config.json','Access-Control-Allow-Origin','error','value_0','/loadfile:\x20D\x20svgz\x20compression:','Access-Control-Allow-Methods','value_6','56CFFgdp','copyFile','returnCadviewer','readFile','image/svg+xml','param_2','readFileSync','INSERTSERVERBACKEND','param_3','INSERTNONCE','INSERTCONVERSIONPARAMETERS','gunzip','3420KumimV','value_7','fileLocationUrl','error\x20-\x20get\x20/app/*\x20','remainOnServer','CURRETNLOADEDDRAWINGFULLNAME','Content-Encoding','File\x20deleted!','ContentSecurityPolicyReportOnly','value_5','value_9','ServerFrontEndUrl','sendFile','109413VqDhkA','error\x20-\x20getCADViewerContent','application/json','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','svgz','/html/CV','toString','Error\x20Found:','contentLocation','4815rIpYOS','Router','param_4','978FqNprv','Access-Control-Allow-Origin\x20:\x20*','\x20Remain\x20on\x20Server:\x20\x20','write','process','.html','580488EkXVuA','\x20TYPE=','length','\x20pickOriginalFile=','application/octet-stream','ServerUrl','\x20fileType=','INSERTSERVERURL','base64','file\x20written','log','get','cvjs_svgz_compress','random','substring','svg','param_7','iscached','param_1','param_6','332264cLlhNi','image/jpeg','utf-8','currentLoadedDrawingFullName=\x22','Type','value_2','Content-Security-Policy-Report-Only','value_10','pickOriginalFile','utf8','/loadfile:\x20','INSERTFILENAME','ERROR:\x20app.get\x20','value_3','send','ContentSecurityPolicy','zlib\x20unzip\x20data\x20not\x20compressed:','243646DJqixL','\x20returnCadviewer=','ServerFrontEndUrlAsAllowedOriginOnly','cvjs_debug','setHeader','json','param_8','indexOf','\x22,\x22','Access-Control-Allow-Origin\x20:','4203gGZpvR','136768yDOYnC','pickOriginalFile\x20return\x20length=','Content-Type','fileTag','floor','/getcadviewercontent','first\x20in\x20/getcadviewercontent','ServerLocation'];a10_0xfcda=function(){return _0x281005;};return a10_0xfcda();}const {exit}=require(a10_0x32602d(0x1e5)),{getEnabledCategories}=require('trace_events');var config=require(a10_0x32602d(0x232)),cvjs_debug=config[a10_0x32602d(0x20f)],express=require('express'),router=express[a10_0x32602d(0x1df)](),crypto=require('crypto');const isGzip=require(a10_0x32602d(0x229));router[a10_0x32602d(0x1f2)](a10_0x32602d(0x21c),function(_0x498548,_0xc794b1){var _0x243d06=a10_0x32602d;if(config[_0x243d06(0x20e)]==!![]){_0xc794b1[_0x243d06(0x210)](_0x243d06(0x233),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x243d06(0x1f1)](_0x243d06(0x215)+config[_0x243d06(0x250)]);}else{_0xc794b1[_0x243d06(0x210)](_0x243d06(0x233),'*');if(cvjs_debug)console[_0x243d06(0x1f1)](_0x243d06(0x1e2));}_0xc794b1['setHeader'](_0x243d06(0x237),_0x243d06(0x222)),_0xc794b1[_0x243d06(0x210)]('Access-Control-Allow-Headers','X-Requested-With,content-type'),_0xc794b1['setHeader']('Access-Control-Allow-Credentials',!![]);var _0x277bd0=crypto['randomBytes'](0x10)[_0x243d06(0x1db)](_0x243d06(0x1ef)),_0x29ac8c=config[_0x243d06(0x20a)];_0x29ac8c=_0x29ac8c[_0x243d06(0x22d)](_0x243d06(0x242),_0x277bd0);if(config[_0x243d06(0x24d)])_0xc794b1['setHeader'](_0x243d06(0x201),_0x29ac8c);else _0xc794b1['setHeader'](_0x243d06(0x226),_0x29ac8c);if(config[_0x243d06(0x20f)])console[_0x243d06(0x1f1)](_0x243d06(0x21d));try{var _0x35221a=_0x498548['query'][_0x243d06(0x249)],_0x4aecee=_0x498548[_0x243d06(0x225)][_0x243d06(0x21a)],_0x34cb6a=_0x498548[_0x243d06(0x225)][_0x243d06(0x1ff)],_0xb41340=_0x498548[_0x243d06(0x225)][_0x243d06(0x23b)],_0x36ae51=_0x498548[_0x243d06(0x225)][_0x243d06(0x203)],_0x349365=config['fileLocation']+_0x4aecee+'.'+_0x34cb6a,_0x9e8f19=_0x498548['query'][_0x243d06(0x1f8)];if(config['cvjs_debug'])console[_0x243d06(0x1f1)](_0x243d06(0x205)+_0x349365+_0x243d06(0x1e3)+_0x35221a+_0x243d06(0x1ed)+_0x34cb6a+_0x243d06(0x20d)+_0xb41340+_0x243d06(0x1ea)+_0x36ae51);var _0x55e5e4=require('fs');if(_0x36ae51==0x1){if(config[_0x243d06(0x20f)])console['log']('/loadfile:\x20\x20A\x20pickOriginalFile:'+_0x36ae51+_0x243d06(0x230)+_0x349365);try{const _0x1c7e39=_0x55e5e4[_0x243d06(0x23f)](_0x349365);_0xc794b1[_0x243d06(0x210)]('Content-Type',_0x243d06(0x1eb)),_0xc794b1[_0x243d06(0x209)](_0x1c7e39),console['log'](_0x243d06(0x218)+_0x1c7e39['length']);if(_0x35221a==0x0){if(config[_0x243d06(0x20f)])console[_0x243d06(0x1f1)](_0x243d06(0x1d8));_0x55e5e4['unlink'](_0x349365,function(_0x524f99){var _0x1c5d7c=_0x243d06;if(_0x524f99)console[_0x1c5d7c(0x1f1)](_0x1c5d7c(0x207)+_0x524f99);else{if(config[_0x1c5d7c(0x20f)])console[_0x1c5d7c(0x1f1)](_0x1c5d7c(0x24c));}});}return;}catch(_0x3c8200){console[_0x243d06(0x234)](_0x3c8200);return;}}if(_0xb41340==0x1){if(config[_0x243d06(0x20f)])console[_0x243d06(0x1f1)]('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x349365);var _0x536acb=Math['floor'](Math[_0x243d06(0x1f4)]()*Math[_0x243d06(0x21b)](0x5f5e100)),_0x383ce0=_0x243d06(0x1da)+_0x536acb+_0x243d06(0x1e6),_0x63625=config[_0x243d06(0x21e)]+_0x383ce0,_0x5e90fb=config['ServerLocation']+_0x243d06(0x22c),_0x527acd=new Array(0xb);_0x527acd[0x0]=_0x498548[_0x243d06(0x225)][_0x243d06(0x227)],_0x527acd[0x1]=_0x498548['query'][_0x243d06(0x1f9)],_0x527acd[0x2]=_0x498548[_0x243d06(0x225)][_0x243d06(0x23e)],_0x527acd[0x3]=_0x498548[_0x243d06(0x225)][_0x243d06(0x241)],_0x527acd[0x4]=_0x498548[_0x243d06(0x225)][_0x243d06(0x1e0)],_0x527acd[0x5]=_0x498548[_0x243d06(0x225)][_0x243d06(0x228)],_0x527acd[0x6]=_0x498548[_0x243d06(0x225)][_0x243d06(0x1fa)],_0x527acd[0x7]=_0x498548[_0x243d06(0x225)][_0x243d06(0x1f7)],_0x527acd[0x8]=_0x498548['query'][_0x243d06(0x212)],_0x527acd[0x9]=_0x498548['query'][_0x243d06(0x223)],_0x527acd[0xa]=_0x498548['query'][_0x243d06(0x231)];var _0x53cb08=new Array(0xb);_0x53cb08[0x0]=_0x498548[_0x243d06(0x225)][_0x243d06(0x235)],_0x53cb08[0x1]=_0x498548['query']['value_1'],_0x53cb08[0x2]=_0x498548[_0x243d06(0x225)][_0x243d06(0x200)],_0x53cb08[0x3]=_0x498548['query'][_0x243d06(0x208)],_0x53cb08[0x4]=_0x498548[_0x243d06(0x225)][_0x243d06(0x22a)],_0x53cb08[0x5]=_0x498548[_0x243d06(0x225)][_0x243d06(0x24e)],_0x53cb08[0x6]=_0x498548['query'][_0x243d06(0x238)],_0x53cb08[0x7]=_0x498548[_0x243d06(0x225)][_0x243d06(0x246)],_0x53cb08[0x8]=_0x498548[_0x243d06(0x225)]['value_8'],_0x53cb08[0x9]=_0x498548['query'][_0x243d06(0x24f)],_0x53cb08[0xa]=_0x498548[_0x243d06(0x225)][_0x243d06(0x202)];var _0x86a0d7=_0x498548[_0x243d06(0x225)][_0x243d06(0x1dd)];_0x55e5e4[_0x243d06(0x23a)](_0x5e90fb,_0x63625,_0x1560e4=>{var _0x1adda3=_0x243d06;_0x1560e4?console[_0x1adda3(0x1f1)](_0x1adda3(0x1dc),_0x1560e4):_0x55e5e4[_0x1adda3(0x23c)](_0x63625,_0x1adda3(0x204),function(_0x408c4c,_0x39c39b){var _0x2406da=_0x1adda3,_0x26cdd6=_0x39c39b['toString']();_0x26cdd6=_0x26cdd6['replace']('INSERTNONCE',_0x277bd0);var _0x87f913=_0x26cdd6[_0x2406da(0x1f5)](0x0,_0x26cdd6[_0x2406da(0x213)](_0x2406da(0x206))),_0xc46334=_0x26cdd6['substring'](_0x26cdd6[_0x2406da(0x213)]('INSERTFILENAME')+0xe);config[_0x2406da(0x221)]?_0x26cdd6=_0x87f913+_0x86a0d7+_0xc46334:_0x26cdd6=_0x87f913+config[_0x2406da(0x247)]+'/'+_0x4aecee+'.'+_0x34cb6a+_0xc46334;_0x87f913=_0x26cdd6[_0x2406da(0x1f5)](0x0,_0x26cdd6['indexOf'](_0x2406da(0x240))),_0xc46334=_0x26cdd6[_0x2406da(0x1f5)](_0x26cdd6[_0x2406da(0x213)]('INSERTSERVERBACKEND')+0x13),_0x26cdd6=_0x87f913+config[_0x2406da(0x1ec)]+'/'+_0xc46334,_0x87f913=_0x26cdd6[_0x2406da(0x1f5)](0x0,_0x26cdd6[_0x2406da(0x213)](_0x2406da(0x1ee))),_0xc46334=_0x26cdd6[_0x2406da(0x1f5)](_0x26cdd6['indexOf'](_0x2406da(0x1ee))+0xf),_0x26cdd6=_0x87f913+config[_0x2406da(0x1ec)]+'/'+_0xc46334,_0x87f913=_0x26cdd6['substring'](0x0,_0x26cdd6['indexOf'](_0x2406da(0x243))),_0xc46334=_0x26cdd6[_0x2406da(0x1f5)](_0x26cdd6['indexOf'](_0x2406da(0x243))+0x1a);var _0x2168b8='';for(var _0x200fce=0x1;_0x200fce<0xb;_0x200fce++){_0x527acd[_0x200fce]!=undefined&&(_0x53cb08[_0x200fce]!=undefined?_0x2168b8=_0x2168b8+_0x2406da(0x21f)+_0x527acd[_0x200fce]+_0x2406da(0x214)+_0x53cb08[_0x200fce]+_0x2406da(0x22f):_0x2168b8=_0x2168b8+_0x2406da(0x21f)+_0x527acd[_0x200fce]+_0x2406da(0x22b));}_0x26cdd6=_0x87f913+_0x2168b8+_0xc46334,_0x87f913=_0x26cdd6[_0x2406da(0x1f5)](0x0,_0x26cdd6[_0x2406da(0x213)](_0x2406da(0x24a))),_0xc46334=_0x26cdd6['substring'](_0x26cdd6[_0x2406da(0x213)]('CURRETNLOADEDDRAWINGFULLNAME')+0x1c),_0x26cdd6=_0x87f913+_0x2406da(0x1fe)+_0x86a0d7+'\x22;'+_0xc46334,_0x55e5e4['open'](_0x63625,'w',function(_0xbc250b,_0xce35d){var _0x533122=_0x2406da,_0x49994b=Buffer['from'](_0x26cdd6);_0x55e5e4[_0x533122(0x1e4)](_0xce35d,_0x49994b,0x0,_0x49994b[_0x533122(0x1e9)],null,function(_0x4555d7){var _0xf67e3d=_0x533122;if(_0x4555d7){if(config['cvjs_debug'])console[_0xf67e3d(0x1f1)]('error\x20savefile:\x20'+_0x4555d7);}else _0x55e5e4['close'](_0xce35d,function(){var _0x41473f=_0xf67e3d;if(config[_0x41473f(0x20f)])console[_0x41473f(0x1f1)](_0x41473f(0x1f0));_0xc794b1[_0x41473f(0x251)](_0x63625);});});});});});}else{if(config[_0x243d06(0x20f)])console['log']('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x349365+'\x20TYPE='+_0x34cb6a);if(_0x34cb6a['indexOf'](_0x243d06(0x1d9))>-0x1&&config[_0x243d06(0x1f3)]){if(config[_0x243d06(0x20f)])console[_0x243d06(0x1f1)](_0x243d06(0x236)+_0x349365+_0x243d06(0x1e8)+_0x34cb6a);_0x55e5e4['readFile'](_0x349365,function(_0x4ee629,_0x381ba8){var _0x174f6d=_0x243d06;if(_0x4ee629){_0xc794b1['send'](_0x174f6d(0x248)+_0x4ee629);if(config[_0x174f6d(0x20f)])console['log'](_0x4ee629);}else{if(_0x36ae51==0x1){if(config[_0x174f6d(0x20f)])console['log']('zlib\x20unzip\x20inputFile='+_0x349365);var _0x397777=require('zlib');_0x397777[_0x174f6d(0x244)](_0x381ba8,{'chunkSize':0x10000},function(_0x143272,_0x53d7b5){var _0x5642d2=_0x174f6d,_0x4ddc3a=new Buffer(_0x53d7b5,_0x5642d2(0x1fd));_0x397777[_0x5642d2(0x22e)](_0x4ddc3a,function(_0x484f03,_0x520dbd){var _0x1f4ea3=_0x5642d2;_0xc794b1['setHeader'](_0x1f4ea3(0x219),_0x1f4ea3(0x1fc)),_0xc794b1[_0x1f4ea3(0x209)](_0x520dbd);});});}else{if(config[_0x174f6d(0x20f)])console[_0x174f6d(0x1f1)]('zlib\x20unzip\x20data:'+_0x381ba8[_0x174f6d(0x1e9)]);if(isGzip(_0x381ba8)){if(config['cvjs_debug'])console['log']('zlib\x20unzip\x20data\x20already\x20compressed:'+_0x381ba8[_0x174f6d(0x1e9)]);try{var _0x397777=require(_0x174f6d(0x220));_0x397777['gunzip'](_0x381ba8,{'chunkSize':0x10000},function(_0x40539e,_0x3b7397){var _0xe74c2c=_0x174f6d,_0x70df7=new Buffer(_0x3b7397,'utf-8');_0x397777[_0xe74c2c(0x22e)](_0x70df7,function(_0x2df420,_0x32503a){var _0x56300f=_0xe74c2c;_0xc794b1['setHeader'](_0x56300f(0x219),'image/svg+xml'),_0xc794b1[_0x56300f(0x210)](_0x56300f(0x24b),_0x56300f(0x22e)),_0xc794b1[_0x56300f(0x209)](_0x32503a);});});}catch(_0x4b2d92){console[_0x174f6d(0x1f1)](_0x174f6d(0x224)+_0x4b2d92);}}else{if(config[_0x174f6d(0x20f)])console[_0x174f6d(0x1f1)](_0x174f6d(0x20b)+_0x381ba8[_0x174f6d(0x1e9)]);_0x34cb6a['indexOf'](_0x174f6d(0x1f6))==0x0&&(_0x36ae51==0x1?_0xc794b1[_0x174f6d(0x210)](_0x174f6d(0x219),'image/jpeg'):_0xc794b1[_0x174f6d(0x210)]('Content-Type',_0x174f6d(0x23d)));_0x34cb6a['indexOf'](_0x174f6d(0x211))==0x0?_0xc794b1[_0x174f6d(0x210)](_0x174f6d(0x219),_0x174f6d(0x1d7)):_0xc794b1[_0x174f6d(0x210)](_0x174f6d(0x219),_0x174f6d(0x1eb));if(_0x34cb6a[_0x174f6d(0x213)](_0x174f6d(0x211))==0x0){}_0xc794b1['send'](_0x381ba8);}if(_0x35221a==0x0){if(config[_0x174f6d(0x20f)])console[_0x174f6d(0x1f1)](_0x174f6d(0x1d8));_0x55e5e4['unlink'](_0x349365,function(_0x1a6a9d){var _0x4c3c4f=_0x174f6d;if(_0x1a6a9d)console[_0x4c3c4f(0x1f1)](_0x4c3c4f(0x207)+_0x1a6a9d);else{if(config['cvjs_debug'])console[_0x4c3c4f(0x1f1)](_0x4c3c4f(0x24c));}});}}}});}else{if(config[_0x243d06(0x20f)])console[_0x243d06(0x1f1)]('/loadfile:\x20D\x20plain\x20svg:'+_0x349365+_0x243d06(0x1e8)+_0x34cb6a);_0x55e5e4[_0x243d06(0x23c)](_0x349365,'utf8',function(_0x17dc75,_0x2f411e){var _0x303636=_0x243d06;_0x34cb6a[_0x303636(0x213)](_0x303636(0x1f6))==0x0&&(_0x36ae51==0x1?_0xc794b1[_0x303636(0x210)]('Content-Type','image/jpeg'):_0xc794b1[_0x303636(0x210)](_0x303636(0x219),_0x303636(0x23d)));_0x34cb6a[_0x303636(0x213)](_0x303636(0x211))==0x0?_0xc794b1['setHeader'](_0x303636(0x219),'application/json'):_0xc794b1[_0x303636(0x210)](_0x303636(0x219),_0x303636(0x1eb));if(_0x34cb6a[_0x303636(0x213)](_0x303636(0x211))==0x0){}_0xc794b1[_0x303636(0x209)](_0x2f411e);if(_0x35221a==0x0){if(config[_0x303636(0x20f)])console[_0x303636(0x1f1)](_0x303636(0x1d8));_0x55e5e4['unlink'](_0x349365,function(_0x15fefd){var _0x4d2611=_0x303636;if(_0x15fefd)console[_0x4d2611(0x1f1)](_0x4d2611(0x207)+_0x15fefd);else{if(config[_0x4d2611(0x20f)])console[_0x4d2611(0x1f1)](_0x4d2611(0x24c));}});}});}}}catch(_0x5b0ed8){_0xc794b1[_0x243d06(0x209)](_0x243d06(0x1d6));if(config['cvjs_debug'])console[_0x243d06(0x1f1)](_0x5b0ed8);}}),module['exports']=router;