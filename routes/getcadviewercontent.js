var a10_0x1510e5=a10_0x59a8;(function(_0x594a26,_0x1dbb05){var _0x435abe=a10_0x59a8,_0x3ae0cf=_0x594a26();while(!![]){try{var _0x30c690=parseInt(_0x435abe(0x1ea))/0x1+-parseInt(_0x435abe(0x190))/0x2*(parseInt(_0x435abe(0x1a2))/0x3)+parseInt(_0x435abe(0x1ad))/0x4*(-parseInt(_0x435abe(0x1dc))/0x5)+-parseInt(_0x435abe(0x1ae))/0x6+parseInt(_0x435abe(0x1db))/0x7+parseInt(_0x435abe(0x1a0))/0x8*(-parseInt(_0x435abe(0x195))/0x9)+parseInt(_0x435abe(0x19e))/0xa;if(_0x30c690===_0x1dbb05)break;else _0x3ae0cf['push'](_0x3ae0cf['shift']());}catch(_0x379114){_0x3ae0cf['push'](_0x3ae0cf['shift']());}}}(a10_0x5d67,0xbaef6));function a10_0x59a8(_0x2dfaef,_0x9ec783){var _0x5d679c=a10_0x5d67();return a10_0x59a8=function(_0x59a878,_0x1fd12e){_0x59a878=_0x59a878-0x17f;var _0x680001=_0x5d679c[_0x59a878];return _0x680001;},a10_0x59a8(_0x2dfaef,_0x9ec783);}const {exit}=require(a10_0x1510e5(0x1dd)),{getEnabledCategories}=require('trace_events');var config=require('../CADViewer_config.json'),cvjs_debug=config[a10_0x1510e5(0x18b)],express=require('express'),router=express[a10_0x1510e5(0x1cf)](),crypto=require(a10_0x1510e5(0x1f8));const isGzip=require(a10_0x1510e5(0x1e2));function a10_0x5d67(){var _0x42a140=['1252551MNTyKu','toString','substring','INSERTSERVERBACKEND','\x20fileType=','cached_conversion','random','value_6','\x22);\x0a','get','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','localhost','floor','param_2','crypto','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','Type','\x22,\x22\x22);\x0a','INSERTNONCE','Content-Type','utf-8','value_7','INSERTCONVERSIONPARAMETERS','currentLoadedDrawingFullName=\x22','replace','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','svg','param_3','zlib\x20unzip\x20inputFile=','INSERTFILENAME','value_0','cvjs_debug','error','json','length','fileTag','347626PaMTEc','gzip','sendFile','value_3','close','117NIESTM','image/jpeg','readFile','zlib\x20unzip\x20data\x20not\x20compressed:','\x20Remain\x20on\x20Server:\x20\x20','INSERTSERVERURL','copyFile','zlib\x20error:','zlib','31156240lPBVGm','application/octet-stream','665240FgNABs','/loadfile:\x20\x20A\x20pickOriginalFile:','18uqxKzC','File\x20deleted!','send','/loadfile:\x20D\x20svgz\x20compression:','value_5','cvjs_svgz_compress','Access-Control-Allow-Headers','\x20TYPE=','value_2','ServerUrl','file\x20written','2236XewLEr','3219468STgIJx','Access-Control-Allow-Origin\x20:\x20*','param_0','first\x20in\x20/getcadviewercontent','setHeader','ContentSecurityPolicyReportOnly','param_4','utf8','Access-Control-Allow-Origin','value_1','param_8','ContentSecurityPolicy','param_9','error\x20savefile:\x20','contentLocation','zlib\x20unzip\x20data\x20already\x20compressed:','iscached','param_5','Error\x20Found:','from','/html/CV','value_4','gunzip','/loadfile:\x20','.html','ServerLocation','ERROR:\x20app.get\x20','X-Requested-With,content-type','param_6','Content-Security-Policy-Report-Only','svgz','Access-Control-Allow-Methods','query','Router','application/json','indexOf','write','ServerFrontEndUrlAsAllowedOriginOnly','/html/CADViewer_base_10_restresponse.html','Content-Security-Policy','Access-Control-Allow-Origin\x20:','log','\x20inputFile=','exports','::1','4092277UCEVMN','13655elDsYC','process','unlink','returnCadviewer','cvjs_conversion_addAXconversionParameter(\x22','image/svg+xml','is-gzip','param_10','fileLocation','pickOriginalFile\x20return\x20length=','\x20returnCadviewer=','value_10','\x22,\x22','ServerFrontEndUrl'];a10_0x5d67=function(){return _0x42a140;};return a10_0x5d67();}router[a10_0x1510e5(0x1f3)]('/getcadviewercontent',function(_0x5836e3,_0x5651d4){var _0x5e5194=a10_0x1510e5;if(config[_0x5e5194(0x1d3)]==!![]){_0x5651d4['setHeader'](_0x5e5194(0x1b6),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x5e5194(0x1d7)](_0x5e5194(0x1d6)+config[_0x5e5194(0x1e9)]);}else{_0x5651d4[_0x5e5194(0x1b2)](_0x5e5194(0x1b6),'*');if(cvjs_debug)console[_0x5e5194(0x1d7)](_0x5e5194(0x1af));}_0x5651d4[_0x5e5194(0x1b2)](_0x5e5194(0x1cd),_0x5e5194(0x185)),_0x5651d4[_0x5e5194(0x1b2)](_0x5e5194(0x1a8),_0x5e5194(0x1c9)),_0x5651d4[_0x5e5194(0x1b2)]('Access-Control-Allow-Credentials',!![]);var _0x52ff7d=crypto['randomBytes'](0x10)[_0x5e5194(0x1eb)]('base64'),_0x5315f6=config[_0x5e5194(0x1b9)];_0x5315f6=_0x5315f6[_0x5e5194(0x184)](_0x5e5194(0x1fc),_0x52ff7d);if(config[_0x5e5194(0x1b3)])_0x5651d4[_0x5e5194(0x1b2)](_0x5e5194(0x1cb),_0x5315f6);else _0x5651d4[_0x5e5194(0x1b2)](_0x5e5194(0x1d5),_0x5315f6);if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)](_0x5e5194(0x1b1));try{var _0x3a48a2=_0x5836e3[_0x5e5194(0x1ce)]['remainOnServer'],_0x191f7a=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x18f)],_0x211516=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1fa)],_0x1963b9=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1df)],_0x29731d=_0x5836e3[_0x5e5194(0x1ce)]['pickOriginalFile'],_0x4c69aa=config[_0x5e5194(0x1e4)]+_0x191f7a+'.'+_0x211516,_0x594f8e=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1be)];if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)](_0x5e5194(0x1c5)+_0x4c69aa+_0x5e5194(0x199)+_0x3a48a2+_0x5e5194(0x1ee)+_0x211516+_0x5e5194(0x1e6)+_0x1963b9+'\x20pickOriginalFile='+_0x29731d);var _0x494653=require('fs');if(_0x29731d==0x1){if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)](_0x5e5194(0x1a1)+_0x29731d+_0x5e5194(0x1d8)+_0x4c69aa);try{const _0x2d485f=_0x494653['readFileSync'](_0x4c69aa);_0x5651d4[_0x5e5194(0x1b2)](_0x5e5194(0x17f),'application/octet-stream'),_0x5651d4[_0x5e5194(0x1a4)](_0x2d485f),console[_0x5e5194(0x1d7)](_0x5e5194(0x1e5)+_0x2d485f[_0x5e5194(0x18e)]);if(_0x3a48a2==0x0){if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)](_0x5e5194(0x1f9));_0x494653[_0x5e5194(0x1de)](_0x4c69aa,function(_0x4bab74){var _0x5ea09=_0x5e5194;if(_0x4bab74)console[_0x5ea09(0x1d7)]('ERROR:\x20app.get\x20'+_0x4bab74);else{if(config[_0x5ea09(0x18b)])console[_0x5ea09(0x1d7)](_0x5ea09(0x1a3));}});}return;}catch(_0x28015f){console[_0x5e5194(0x18c)](_0x28015f);return;}}if(_0x1963b9==0x1){if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)]('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x4c69aa);var _0x4b02c4=Math[_0x5e5194(0x1f6)](Math[_0x5e5194(0x1f0)]()*Math[_0x5e5194(0x1f6)](0x5f5e100)),_0x227b9d=_0x5e5194(0x1c2)+_0x4b02c4+_0x5e5194(0x1c6),_0x29e00f=config['ServerLocation']+_0x227b9d,_0x37cdfc=config[_0x5e5194(0x1c7)]+_0x5e5194(0x1d4),_0x274779=new Array(0xb);_0x274779[0x0]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1b0)],_0x274779[0x1]=_0x5836e3[_0x5e5194(0x1ce)]['param_1'],_0x274779[0x2]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1f7)],_0x274779[0x3]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x187)],_0x274779[0x4]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1b4)],_0x274779[0x5]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1bf)],_0x274779[0x6]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1ca)],_0x274779[0x7]=_0x5836e3['query']['param_7'],_0x274779[0x8]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1b8)],_0x274779[0x9]=_0x5836e3['query'][_0x5e5194(0x1ba)],_0x274779[0xa]=_0x5836e3['query'][_0x5e5194(0x1e3)];var _0xc4e2bd=new Array(0xb);_0xc4e2bd[0x0]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x18a)],_0xc4e2bd[0x1]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1b7)],_0xc4e2bd[0x2]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1aa)],_0xc4e2bd[0x3]=_0x5836e3['query'][_0x5e5194(0x193)],_0xc4e2bd[0x4]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1c3)],_0xc4e2bd[0x5]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1a6)],_0xc4e2bd[0x6]=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1f1)],_0xc4e2bd[0x7]=_0x5836e3['query'][_0x5e5194(0x181)],_0xc4e2bd[0x8]=_0x5836e3['query']['value_8'],_0xc4e2bd[0x9]=_0x5836e3[_0x5e5194(0x1ce)]['value_9'],_0xc4e2bd[0xa]=_0x5836e3['query'][_0x5e5194(0x1e7)];var _0x52bb5b=_0x5836e3[_0x5e5194(0x1ce)][_0x5e5194(0x1bc)];_0x494653[_0x5e5194(0x19b)](_0x37cdfc,_0x29e00f,_0x288185=>{var _0x5db663=_0x5e5194;_0x288185?console[_0x5db663(0x1d7)](_0x5db663(0x1c0),_0x288185):_0x494653[_0x5db663(0x197)](_0x29e00f,_0x5db663(0x1b5),function(_0x1fcf4a,_0x257dc3){var _0x5cda3a=_0x5db663,_0x17db5d=_0x257dc3['toString']();_0x17db5d=_0x17db5d[_0x5cda3a(0x184)](_0x5cda3a(0x1fc),_0x52ff7d);var _0x7487a4=_0x17db5d[_0x5cda3a(0x1ec)](0x0,_0x17db5d['indexOf'](_0x5cda3a(0x189))),_0x15fe4f=_0x17db5d[_0x5cda3a(0x1ec)](_0x17db5d[_0x5cda3a(0x1d1)]('INSERTFILENAME')+0xe);config[_0x5cda3a(0x1ef)]?_0x17db5d=_0x7487a4+_0x52bb5b+_0x15fe4f:_0x17db5d=_0x7487a4+config['fileLocationUrl']+'/'+_0x191f7a+'.'+_0x211516+_0x15fe4f;_0x7487a4=_0x17db5d[_0x5cda3a(0x1ec)](0x0,_0x17db5d[_0x5cda3a(0x1d1)](_0x5cda3a(0x1ed))),_0x15fe4f=_0x17db5d['substring'](_0x17db5d[_0x5cda3a(0x1d1)](_0x5cda3a(0x1ed))+0x13);var _0x5db8f3=config[_0x5cda3a(0x1ab)];_0x5db8f3['indexOf'](_0x5cda3a(0x1da))>-0x1&&(_0x5db8f3=_0x5db8f3[_0x5cda3a(0x184)]('::1',_0x5cda3a(0x1f5)));_0x17db5d=_0x7487a4+_0x5db8f3+'/'+_0x15fe4f,_0x7487a4=_0x17db5d[_0x5cda3a(0x1ec)](0x0,_0x17db5d[_0x5cda3a(0x1d1)](_0x5cda3a(0x19a))),_0x15fe4f=_0x17db5d[_0x5cda3a(0x1ec)](_0x17db5d[_0x5cda3a(0x1d1)](_0x5cda3a(0x19a))+0xf),_0x17db5d=_0x7487a4+_0x5db8f3+'/'+_0x15fe4f,_0x7487a4=_0x17db5d['substring'](0x0,_0x17db5d[_0x5cda3a(0x1d1)](_0x5cda3a(0x182))),_0x15fe4f=_0x17db5d['substring'](_0x17db5d[_0x5cda3a(0x1d1)](_0x5cda3a(0x182))+0x1a);var _0x19fe8f='';for(var _0x59e214=0x1;_0x59e214<0xb;_0x59e214++){_0x274779[_0x59e214]!=undefined&&(_0xc4e2bd[_0x59e214]!=undefined?_0x19fe8f=_0x19fe8f+_0x5cda3a(0x1e0)+_0x274779[_0x59e214]+_0x5cda3a(0x1e8)+_0xc4e2bd[_0x59e214]+_0x5cda3a(0x1f2):_0x19fe8f=_0x19fe8f+'cvjs_conversion_addAXconversionParameter(\x22'+_0x274779[_0x59e214]+_0x5cda3a(0x1fb));}_0x17db5d=_0x7487a4+_0x19fe8f+_0x15fe4f,_0x7487a4=_0x17db5d[_0x5cda3a(0x1ec)](0x0,_0x17db5d['indexOf']('CURRETNLOADEDDRAWINGFULLNAME')),_0x15fe4f=_0x17db5d[_0x5cda3a(0x1ec)](_0x17db5d['indexOf']('CURRETNLOADEDDRAWINGFULLNAME')+0x1c),_0x17db5d=_0x7487a4+_0x5cda3a(0x183)+_0x52bb5b+'\x22;'+_0x15fe4f,_0x494653['open'](_0x29e00f,'w',function(_0x5915dd,_0x1241ae){var _0x4c2c5b=_0x5cda3a,_0x12731a=Buffer[_0x4c2c5b(0x1c1)](_0x17db5d);_0x494653[_0x4c2c5b(0x1d2)](_0x1241ae,_0x12731a,0x0,_0x12731a[_0x4c2c5b(0x18e)],null,function(_0x471658){var _0x18c132=_0x4c2c5b;if(_0x471658){if(config['cvjs_debug'])console[_0x18c132(0x1d7)](_0x18c132(0x1bb)+_0x471658);}else _0x494653[_0x18c132(0x194)](_0x1241ae,function(){var _0x443a83=_0x18c132;if(config['cvjs_debug'])console[_0x443a83(0x1d7)](_0x443a83(0x1ac));_0x5651d4[_0x443a83(0x192)](_0x29e00f);});});});});});}else{if(config[_0x5e5194(0x18b)])console['log'](_0x5e5194(0x1f4)+_0x4c69aa+_0x5e5194(0x1a9)+_0x211516);if(_0x211516[_0x5e5194(0x1d1)](_0x5e5194(0x1cc))>-0x1&&config[_0x5e5194(0x1a7)]){if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)](_0x5e5194(0x1a5)+_0x4c69aa+'\x20TYPE='+_0x211516);_0x494653['readFile'](_0x4c69aa,function(_0x525b41,_0x7a78ea){var _0x264c66=_0x5e5194;if(_0x525b41){_0x5651d4[_0x264c66(0x1a4)]('error\x20-\x20get\x20/app/*\x20'+_0x525b41);if(config[_0x264c66(0x18b)])console[_0x264c66(0x1d7)](_0x525b41);}else{if(_0x29731d==0x1){if(config['cvjs_debug'])console[_0x264c66(0x1d7)](_0x264c66(0x188)+_0x4c69aa);var _0x56d75e=require(_0x264c66(0x19d));_0x56d75e[_0x264c66(0x1c4)](_0x7a78ea,{'chunkSize':0x10000},function(_0x17786b,_0xda2cf3){var _0x5a7572=_0x264c66,_0x273480=new Buffer(_0xda2cf3,_0x5a7572(0x180));_0x56d75e[_0x5a7572(0x191)](_0x273480,function(_0x4a3f07,_0x1e2d58){var _0x109635=_0x5a7572;_0x5651d4[_0x109635(0x1b2)](_0x109635(0x17f),_0x109635(0x196)),_0x5651d4[_0x109635(0x1a4)](_0x1e2d58);});});}else{if(config['cvjs_debug'])console[_0x264c66(0x1d7)]('zlib\x20unzip\x20data:'+_0x7a78ea[_0x264c66(0x18e)]);if(isGzip(_0x7a78ea)){if(config[_0x264c66(0x18b)])console[_0x264c66(0x1d7)](_0x264c66(0x1bd)+_0x7a78ea[_0x264c66(0x18e)]);try{var _0x56d75e=require(_0x264c66(0x19d));_0x56d75e['gunzip'](_0x7a78ea,{'chunkSize':0x10000},function(_0x494d04,_0x3bc251){var _0x3f60c7=_0x264c66,_0x3e5642=new Buffer(_0x3bc251,_0x3f60c7(0x180));_0x56d75e[_0x3f60c7(0x191)](_0x3e5642,function(_0x31c753,_0x5ee7de){var _0x21ac7f=_0x3f60c7;_0x5651d4[_0x21ac7f(0x1b2)](_0x21ac7f(0x17f),'image/svg+xml'),_0x5651d4[_0x21ac7f(0x1b2)]('Content-Encoding',_0x21ac7f(0x191)),_0x5651d4['send'](_0x5ee7de);});});}catch(_0x1104bf){console[_0x264c66(0x1d7)](_0x264c66(0x19c)+_0x1104bf);}}else{if(config[_0x264c66(0x18b)])console[_0x264c66(0x1d7)](_0x264c66(0x198)+_0x7a78ea[_0x264c66(0x18e)]);_0x211516[_0x264c66(0x1d1)](_0x264c66(0x186))==0x0&&(_0x29731d==0x1?_0x5651d4[_0x264c66(0x1b2)](_0x264c66(0x17f),'image/jpeg'):_0x5651d4[_0x264c66(0x1b2)](_0x264c66(0x17f),_0x264c66(0x1e1)));_0x211516[_0x264c66(0x1d1)](_0x264c66(0x18d))==0x0?_0x5651d4[_0x264c66(0x1b2)](_0x264c66(0x17f),_0x264c66(0x1d0)):_0x5651d4[_0x264c66(0x1b2)](_0x264c66(0x17f),_0x264c66(0x19f));if(_0x211516[_0x264c66(0x1d1)](_0x264c66(0x18d))==0x0){}_0x5651d4[_0x264c66(0x1a4)](_0x7a78ea);}if(_0x3a48a2==0x0){if(config[_0x264c66(0x18b)])console[_0x264c66(0x1d7)](_0x264c66(0x1f9));_0x494653[_0x264c66(0x1de)](_0x4c69aa,function(_0x1d6702){var _0x20402f=_0x264c66;if(_0x1d6702)console[_0x20402f(0x1d7)](_0x20402f(0x1c8)+_0x1d6702);else{if(config['cvjs_debug'])console[_0x20402f(0x1d7)](_0x20402f(0x1a3));}});}}}});}else{if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)]('/loadfile:\x20D\x20plain\x20svg:'+_0x4c69aa+'\x20TYPE='+_0x211516);_0x494653['readFile'](_0x4c69aa,_0x5e5194(0x1b5),function(_0x54ce2d,_0x583957){var _0xf574a5=_0x5e5194;_0x211516[_0xf574a5(0x1d1)](_0xf574a5(0x186))==0x0&&(_0x29731d==0x1?_0x5651d4[_0xf574a5(0x1b2)](_0xf574a5(0x17f),'image/jpeg'):_0x5651d4[_0xf574a5(0x1b2)]('Content-Type',_0xf574a5(0x1e1)));_0x211516[_0xf574a5(0x1d1)](_0xf574a5(0x18d))==0x0?_0x5651d4[_0xf574a5(0x1b2)](_0xf574a5(0x17f),'application/json'):_0x5651d4['setHeader']('Content-Type',_0xf574a5(0x19f));if(_0x211516[_0xf574a5(0x1d1)](_0xf574a5(0x18d))==0x0){}_0x5651d4[_0xf574a5(0x1a4)](_0x583957);if(_0x3a48a2==0x0){if(config[_0xf574a5(0x18b)])console['log'](_0xf574a5(0x1f9));_0x494653[_0xf574a5(0x1de)](_0x4c69aa,function(_0x160c69){var _0x3fd093=_0xf574a5;if(_0x160c69)console[_0x3fd093(0x1d7)](_0x3fd093(0x1c8)+_0x160c69);else{if(config[_0x3fd093(0x18b)])console['log']('File\x20deleted!');}});}});}}}catch(_0x157239){_0x5651d4[_0x5e5194(0x1a4)]('error\x20-\x20getCADViewerContent');if(config[_0x5e5194(0x18b)])console[_0x5e5194(0x1d7)](_0x157239);}}),module[a10_0x1510e5(0x1d9)]=router;