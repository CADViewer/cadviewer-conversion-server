var a10_0x213c55=a10_0x2a19;function a10_0xd292(){var _0x40baad=['readFileSync','/loadfile:\x20D\x20svgz\x20compression:','/loadfile:\x20','ServerUrl','toString','process','cvjs_debug','7767873kwULOh','param_8','express','Content-Type','zlib\x20unzip\x20data\x20not\x20compressed:','gzip','log','json','Access-Control-Allow-Methods','send','floor','error\x20-\x20getCADViewerContent','trace_events','pickOriginalFile','value_7','currentLoadedDrawingFullName=\x22','zlib\x20unzip\x20data:','546022OcKppS','Access-Control-Allow-Origin\x20:\x20*','ServerFrontEndUrl','ERROR:\x20app.get\x20','param_1','get','Access-Control-Allow-Credentials','/html/CV','fileLocation','zlib','remainOnServer','Error\x20Found:','Content-Security-Policy-Report-Only','is-gzip','zlib\x20unzip\x20inputFile=','INSERTCONVERSIONPARAMETERS','\x20pickOriginalFile=','readFile','from','\x20TYPE=','Access-Control-Allow-Origin\x20:','271292IMiuPI','exports','value_8','write','param_0','zlib\x20error:','crypto','\x22,\x22\x22);\x0a','Access-Control-Allow-Origin','substring','utf8','2850708fNVFSs','random','param_7','Type','length','Access-Control-Allow-Headers','fileTag','value_3','error\x20savefile:\x20','2485044EHMjrf','\x20fileType=','sendFile','image/jpeg','../CADViewer_config.json','unlink','INSERTSERVERBACKEND','image/svg+xml','close','Content-Encoding','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','param_5','application/json','pickOriginalFile\x20return\x20length=','application/octet-stream','iscached','value_1','cvjs_conversion_addAXconversionParameter(\x22','param_10','CURRETNLOADEDDRAWINGFULLNAME','param_6','\x20returnCadviewer=','cvjs_svgz_compress','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','3IEPipC','error','ContentSecurityPolicyReportOnly','fileLocationUrl','value_5','\x20Remain\x20on\x20Server:\x20\x20','setHeader','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','gunzip','svg','value_0','/getcadviewercontent','value_9','value_2','param_3','value_4','1DnOPsL','114144jiMVOl','value_10','INSERTFILENAME','randomBytes','error\x20-\x20get\x20/app/*\x20','ServerLocation','utf-8','INSERTSERVERURL','/loadfile:\x20\x20A\x20pickOriginalFile:','Router','INSERTNONCE','indexOf','cached_conversion','ContentSecurityPolicy','173655DdyKoZ','svgz','param_2','query','ServerFrontEndUrlAsAllowedOriginOnly','/loadfile:\x20D\x20plain\x20svg:','param_9'];a10_0xd292=function(){return _0x40baad;};return a10_0xd292();}function a10_0x2a19(_0x522f87,_0x104fb6){var _0xd2929a=a10_0xd292();return a10_0x2a19=function(_0x2a197e,_0x4622ec){_0x2a197e=_0x2a197e-0xdd;var _0x379aeb=_0xd2929a[_0x2a197e];return _0x379aeb;},a10_0x2a19(_0x522f87,_0x104fb6);}(function(_0x156805,_0x135c21){var _0x40604f=a10_0x2a19,_0x3194ed=_0x156805();while(!![]){try{var _0xe980c9=-parseInt(_0x40604f(0x107))/0x1*(-parseInt(_0x40604f(0x135))/0x2)+parseInt(_0x40604f(0xf7))/0x3*(parseInt(_0x40604f(0x14a))/0x4)+parseInt(_0x40604f(0x116))/0x5+parseInt(_0x40604f(0xdf))/0x6+parseInt(_0x40604f(0x155))/0x7+parseInt(_0x40604f(0x108))/0x8+-parseInt(_0x40604f(0x124))/0x9;if(_0xe980c9===_0x135c21)break;else _0x3194ed['push'](_0x3194ed['shift']());}catch(_0xf0d9e1){_0x3194ed['push'](_0x3194ed['shift']());}}}(a10_0xd292,0x54ffa));const {exit}=require(a10_0x213c55(0x122)),{getEnabledCategories}=require(a10_0x213c55(0x130));var config=require(a10_0x213c55(0xe3)),cvjs_debug=config[a10_0x213c55(0x123)],express=require(a10_0x213c55(0x126)),router=express[a10_0x213c55(0x111)](),crypto=require(a10_0x213c55(0x150));const isGzip=require(a10_0x213c55(0x142));router[a10_0x213c55(0x13a)](a10_0x213c55(0x102),function(_0x4797f7,_0x5784be){var _0x4941b2=a10_0x213c55;if(config[_0x4941b2(0x11a)]==!![]){_0x5784be[_0x4941b2(0xfd)]('Access-Control-Allow-Origin',config[_0x4941b2(0x137)]);if(cvjs_debug)console[_0x4941b2(0x12a)](_0x4941b2(0x149)+config[_0x4941b2(0x137)]);}else{_0x5784be[_0x4941b2(0xfd)](_0x4941b2(0x152),'*');if(cvjs_debug)console['log'](_0x4941b2(0x136));}_0x5784be[_0x4941b2(0xfd)](_0x4941b2(0x12c),_0x4941b2(0xf6)),_0x5784be[_0x4941b2(0xfd)](_0x4941b2(0x15a),'X-Requested-With,content-type'),_0x5784be[_0x4941b2(0xfd)](_0x4941b2(0x13b),!![]);var _0x33c5b1=crypto[_0x4941b2(0x10b)](0x10)[_0x4941b2(0x121)]('base64'),_0x173ee8=config[_0x4941b2(0x115)];_0x173ee8=_0x173ee8['replace']('INSERTNONCE',_0x33c5b1);if(config[_0x4941b2(0xf9)])_0x5784be['setHeader'](_0x4941b2(0x141),_0x173ee8);else _0x5784be['setHeader']('Content-Security-Policy',_0x173ee8);if(config['cvjs_debug'])console[_0x4941b2(0x12a)]('first\x20in\x20/getcadviewercontent');try{var _0x12ac2e=_0x4797f7['query'][_0x4941b2(0x13f)],_0x254f24=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x15b)],_0x25b418=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x158)],_0x308481=_0x4797f7['query']['returnCadviewer'],_0x357ca6=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x131)],_0x25e904=config[_0x4941b2(0x13d)]+_0x254f24+'.'+_0x25b418,_0x4f5562=_0x4797f7['query'][_0x4941b2(0xee)];if(config[_0x4941b2(0x123)])console[_0x4941b2(0x12a)](_0x4941b2(0x11f)+_0x25e904+_0x4941b2(0xfc)+_0x12ac2e+_0x4941b2(0xe0)+_0x25b418+_0x4941b2(0xf4)+_0x308481+_0x4941b2(0x145)+_0x357ca6);var _0x1289d8=require('fs');if(_0x357ca6==0x1){if(config['cvjs_debug'])console[_0x4941b2(0x12a)](_0x4941b2(0x110)+_0x357ca6+'\x20inputFile='+_0x25e904);try{const _0x2209ee=_0x1289d8[_0x4941b2(0x11d)](_0x25e904);_0x5784be['setHeader'](_0x4941b2(0x127),_0x4941b2(0xed)),_0x5784be[_0x4941b2(0x12d)](_0x2209ee),console[_0x4941b2(0x12a)](_0x4941b2(0xec)+_0x2209ee['length']);if(_0x12ac2e==0x0){if(config[_0x4941b2(0x123)])console[_0x4941b2(0x12a)]('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x1289d8[_0x4941b2(0xe4)](_0x25e904,function(_0xac6b22){var _0x1566a6=_0x4941b2;if(_0xac6b22)console[_0x1566a6(0x12a)](_0x1566a6(0x138)+_0xac6b22);else{if(config[_0x1566a6(0x123)])console[_0x1566a6(0x12a)]('File\x20deleted!');}});}return;}catch(_0x572bcf){console[_0x4941b2(0xf8)](_0x572bcf);return;}}if(_0x308481==0x1){if(config[_0x4941b2(0x123)])console['log'](_0x4941b2(0xe9)+_0x25e904);var _0x583011=Math['floor'](Math[_0x4941b2(0x156)]()*Math[_0x4941b2(0x12e)](0x5f5e100)),_0x2fbed3=_0x4941b2(0x13c)+_0x583011+'.html',_0x435e7b=config[_0x4941b2(0x10d)]+_0x2fbed3,_0x5b0063=config[_0x4941b2(0x10d)]+'/html/CADViewer_base_10_restresponse.html',_0x485a37=new Array(0xb);_0x485a37[0x0]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x14e)],_0x485a37[0x1]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x139)],_0x485a37[0x2]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x118)],_0x485a37[0x3]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x105)],_0x485a37[0x4]=_0x4797f7[_0x4941b2(0x119)]['param_4'],_0x485a37[0x5]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0xea)],_0x485a37[0x6]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0xf3)],_0x485a37[0x7]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x157)],_0x485a37[0x8]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x125)],_0x485a37[0x9]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x11c)],_0x485a37[0xa]=_0x4797f7['query'][_0x4941b2(0xf1)];var _0x12d51c=new Array(0xb);_0x12d51c[0x0]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x101)],_0x12d51c[0x1]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0xef)],_0x12d51c[0x2]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x104)],_0x12d51c[0x3]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0xdd)],_0x12d51c[0x4]=_0x4797f7['query'][_0x4941b2(0x106)],_0x12d51c[0x5]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0xfb)],_0x12d51c[0x6]=_0x4797f7[_0x4941b2(0x119)]['value_6'],_0x12d51c[0x7]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x132)],_0x12d51c[0x8]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x14c)],_0x12d51c[0x9]=_0x4797f7['query'][_0x4941b2(0x103)],_0x12d51c[0xa]=_0x4797f7[_0x4941b2(0x119)][_0x4941b2(0x109)];var _0x188c93=_0x4797f7[_0x4941b2(0x119)]['contentLocation'];_0x1289d8['copyFile'](_0x5b0063,_0x435e7b,_0x36a219=>{var _0x46b19d=_0x4941b2;_0x36a219?console['log'](_0x46b19d(0x140),_0x36a219):_0x1289d8[_0x46b19d(0x146)](_0x435e7b,'utf8',function(_0x247940,_0x754a7f){var _0x989050=_0x46b19d,_0x4a305b=_0x754a7f['toString']();_0x4a305b=_0x4a305b['replace'](_0x989050(0x112),_0x33c5b1);var _0x53df04=_0x4a305b[_0x989050(0x153)](0x0,_0x4a305b[_0x989050(0x113)](_0x989050(0x10a))),_0x56e7d8=_0x4a305b[_0x989050(0x153)](_0x4a305b[_0x989050(0x113)]('INSERTFILENAME')+0xe);config[_0x989050(0x114)]?_0x4a305b=_0x53df04+_0x188c93+_0x56e7d8:_0x4a305b=_0x53df04+config[_0x989050(0xfa)]+'/'+_0x254f24+'.'+_0x25b418+_0x56e7d8;_0x53df04=_0x4a305b[_0x989050(0x153)](0x0,_0x4a305b[_0x989050(0x113)](_0x989050(0xe5))),_0x56e7d8=_0x4a305b[_0x989050(0x153)](_0x4a305b[_0x989050(0x113)](_0x989050(0xe5))+0x13),_0x4a305b=_0x53df04+config[_0x989050(0x120)]+'/'+_0x56e7d8,_0x53df04=_0x4a305b['substring'](0x0,_0x4a305b[_0x989050(0x113)](_0x989050(0x10f))),_0x56e7d8=_0x4a305b[_0x989050(0x153)](_0x4a305b[_0x989050(0x113)](_0x989050(0x10f))+0xf),_0x4a305b=_0x53df04+config[_0x989050(0x120)]+'/'+_0x56e7d8,_0x53df04=_0x4a305b[_0x989050(0x153)](0x0,_0x4a305b[_0x989050(0x113)](_0x989050(0x144))),_0x56e7d8=_0x4a305b[_0x989050(0x153)](_0x4a305b[_0x989050(0x113)](_0x989050(0x144))+0x1a);var _0x283227='';for(var _0x351858=0x1;_0x351858<0xb;_0x351858++){_0x485a37[_0x351858]!=undefined&&(_0x12d51c[_0x351858]!=undefined?_0x283227=_0x283227+_0x989050(0xf0)+_0x485a37[_0x351858]+'\x22,\x22'+_0x12d51c[_0x351858]+'\x22);\x0a':_0x283227=_0x283227+_0x989050(0xf0)+_0x485a37[_0x351858]+_0x989050(0x151));}_0x4a305b=_0x53df04+_0x283227+_0x56e7d8,_0x53df04=_0x4a305b[_0x989050(0x153)](0x0,_0x4a305b[_0x989050(0x113)](_0x989050(0xf2))),_0x56e7d8=_0x4a305b[_0x989050(0x153)](_0x4a305b[_0x989050(0x113)](_0x989050(0xf2))+0x1c),_0x4a305b=_0x53df04+_0x989050(0x133)+_0x188c93+'\x22;'+_0x56e7d8,_0x1289d8['open'](_0x435e7b,'w',function(_0x8008b8,_0x109d8c){var _0x12333e=_0x989050,_0x50cb04=Buffer[_0x12333e(0x147)](_0x4a305b);_0x1289d8[_0x12333e(0x14d)](_0x109d8c,_0x50cb04,0x0,_0x50cb04['length'],null,function(_0x5bb1c2){var _0x2ee036=_0x12333e;if(_0x5bb1c2){if(config[_0x2ee036(0x123)])console[_0x2ee036(0x12a)](_0x2ee036(0xde)+_0x5bb1c2);}else _0x1289d8[_0x2ee036(0xe7)](_0x109d8c,function(){var _0x33c8ad=_0x2ee036;if(config['cvjs_debug'])console['log']('file\x20written');_0x5784be[_0x33c8ad(0xe1)](_0x435e7b);});});});});});}else{if(config['cvjs_debug'])console[_0x4941b2(0x12a)]('/loadfile:\x20C\x20CONVERSION\x20RESPONSE:'+_0x25e904+_0x4941b2(0x148)+_0x25b418);if(_0x25b418[_0x4941b2(0x113)](_0x4941b2(0x117))>-0x1&&config[_0x4941b2(0xf5)]){if(config[_0x4941b2(0x123)])console[_0x4941b2(0x12a)](_0x4941b2(0x11e)+_0x25e904+_0x4941b2(0x148)+_0x25b418);_0x1289d8[_0x4941b2(0x146)](_0x25e904,function(_0xfddb53,_0x4e6d0a){var _0x232081=_0x4941b2;if(_0xfddb53){_0x5784be[_0x232081(0x12d)](_0x232081(0x10c)+_0xfddb53);if(config[_0x232081(0x123)])console['log'](_0xfddb53);}else{if(_0x357ca6==0x1){if(config[_0x232081(0x123)])console['log'](_0x232081(0x143)+_0x25e904);var _0x448c8e=require(_0x232081(0x13e));_0x448c8e[_0x232081(0xff)](_0x4e6d0a,{'chunkSize':0x10000},function(_0xc7aef3,_0x12113d){var _0x3597c3=_0x232081,_0x177e48=new Buffer(_0x12113d,_0x3597c3(0x10e));_0x448c8e[_0x3597c3(0x129)](_0x177e48,function(_0x186db4,_0x4cc077){var _0x397214=_0x3597c3;_0x5784be[_0x397214(0xfd)]('Content-Type',_0x397214(0xe2)),_0x5784be['send'](_0x4cc077);});});}else{if(config[_0x232081(0x123)])console[_0x232081(0x12a)](_0x232081(0x134)+_0x4e6d0a[_0x232081(0x159)]);if(isGzip(_0x4e6d0a)){if(config[_0x232081(0x123)])console[_0x232081(0x12a)]('zlib\x20unzip\x20data\x20already\x20compressed:'+_0x4e6d0a['length']);try{var _0x448c8e=require('zlib');_0x448c8e[_0x232081(0xff)](_0x4e6d0a,{'chunkSize':0x10000},function(_0x25e8cf,_0x59c5d4){var _0x3d9cdd=_0x232081,_0x297752=new Buffer(_0x59c5d4,_0x3d9cdd(0x10e));_0x448c8e['gzip'](_0x297752,function(_0x426511,_0x2dce08){var _0x558fcb=_0x3d9cdd;_0x5784be[_0x558fcb(0xfd)](_0x558fcb(0x127),'image/svg+xml'),_0x5784be[_0x558fcb(0xfd)](_0x558fcb(0xe8),_0x558fcb(0x129)),_0x5784be[_0x558fcb(0x12d)](_0x2dce08);});});}catch(_0x2a50a5){console[_0x232081(0x12a)](_0x232081(0x14f)+_0x2a50a5);}}else{if(config[_0x232081(0x123)])console[_0x232081(0x12a)](_0x232081(0x128)+_0x4e6d0a['length']);_0x25b418['indexOf'](_0x232081(0x100))==0x0&&(_0x357ca6==0x1?_0x5784be[_0x232081(0xfd)]('Content-Type','image/jpeg'):_0x5784be[_0x232081(0xfd)](_0x232081(0x127),_0x232081(0xe6)));_0x25b418[_0x232081(0x113)](_0x232081(0x12b))==0x0?_0x5784be[_0x232081(0xfd)](_0x232081(0x127),_0x232081(0xeb)):_0x5784be[_0x232081(0xfd)](_0x232081(0x127),_0x232081(0xed));if(_0x25b418[_0x232081(0x113)](_0x232081(0x12b))==0x0){}_0x5784be[_0x232081(0x12d)](_0x4e6d0a);}if(_0x12ac2e==0x0){if(config[_0x232081(0x123)])console[_0x232081(0x12a)](_0x232081(0xfe));_0x1289d8[_0x232081(0xe4)](_0x25e904,function(_0x33f6f7){var _0x393519=_0x232081;if(_0x33f6f7)console[_0x393519(0x12a)](_0x393519(0x138)+_0x33f6f7);else{if(config['cvjs_debug'])console[_0x393519(0x12a)]('File\x20deleted!');}});}}}});}else{if(config[_0x4941b2(0x123)])console[_0x4941b2(0x12a)](_0x4941b2(0x11b)+_0x25e904+_0x4941b2(0x148)+_0x25b418);_0x1289d8[_0x4941b2(0x146)](_0x25e904,_0x4941b2(0x154),function(_0x41d932,_0x4f8020){var _0xc1a7b8=_0x4941b2;_0x25b418['indexOf'](_0xc1a7b8(0x100))==0x0&&(_0x357ca6==0x1?_0x5784be[_0xc1a7b8(0xfd)](_0xc1a7b8(0x127),_0xc1a7b8(0xe2)):_0x5784be[_0xc1a7b8(0xfd)](_0xc1a7b8(0x127),'image/svg+xml'));_0x25b418['indexOf'](_0xc1a7b8(0x12b))==0x0?_0x5784be[_0xc1a7b8(0xfd)]('Content-Type',_0xc1a7b8(0xeb)):_0x5784be[_0xc1a7b8(0xfd)](_0xc1a7b8(0x127),'application/octet-stream');if(_0x25b418[_0xc1a7b8(0x113)](_0xc1a7b8(0x12b))==0x0){}_0x5784be['send'](_0x4f8020);if(_0x12ac2e==0x0){if(config[_0xc1a7b8(0x123)])console['log']('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x1289d8[_0xc1a7b8(0xe4)](_0x25e904,function(_0x53a288){var _0x4843dc=_0xc1a7b8;if(_0x53a288)console[_0x4843dc(0x12a)](_0x4843dc(0x138)+_0x53a288);else{if(config[_0x4843dc(0x123)])console['log']('File\x20deleted!');}});}});}}}catch(_0x2424fd){_0x5784be[_0x4941b2(0x12d)](_0x4941b2(0x12f));if(config[_0x4941b2(0x123)])console[_0x4941b2(0x12a)](_0x2424fd);}}),module[a10_0x213c55(0x14b)]=router;