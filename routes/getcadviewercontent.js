var a11_0x25c068=a11_0x5d5f;(function(_0x48242d,_0x46bf89){var _0x46c571=a11_0x5d5f,_0x3908bc=_0x48242d();while(!![]){try{var _0x2ecd18=parseInt(_0x46c571(0x1b5))/0x1+-parseInt(_0x46c571(0x191))/0x2+-parseInt(_0x46c571(0x1d2))/0x3*(parseInt(_0x46c571(0x184))/0x4)+-parseInt(_0x46c571(0x1af))/0x5*(-parseInt(_0x46c571(0x18b))/0x6)+-parseInt(_0x46c571(0x178))/0x7*(parseInt(_0x46c571(0x183))/0x8)+-parseInt(_0x46c571(0x1b8))/0x9+parseInt(_0x46c571(0x195))/0xa;if(_0x2ecd18===_0x46bf89)break;else _0x3908bc['push'](_0x3908bc['shift']());}catch(_0x48bf6d){_0x3908bc['push'](_0x3908bc['shift']());}}}(a11_0x21d9,0x9bbee));function a11_0x21d9(){var _0x1d4c68=['trace_events','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','.html','param_8','fileTag','value_5','iscached','setHeader','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','random','INSERTFILENAME','ServerFrontEndUrl','Content-Encoding','X-Requested-With,content-type','\x22,\x22\x22);\x0a','currentLoadedDrawingFullName=\x22','image/jpeg','Access-Control-Allow-Headers','ServerLocation','query','floor','contentLocation','Router','381yiuwBH','cvjs_svgz_compress','zlib\x20unzip\x20inputFile=','/loadfile:\x20','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','randomBytes','\x20returnCadviewer=','indexOf','copyFile','pickOriginalFile\x20return\x20length=','/html/CV','utf8','length','value_2','ServerFrontEndUrlAsAllowedOriginOnly','send','Content-Security-Policy','is-gzip','express','INSERTNONCE','cvjs_debug','sendFile','INSERTSERVERBACKEND','first\x20in\x20/getcadviewercontent','json','process','value_7','svgz','utf-8','\x20inputFile=','7DxoKoY','gunzip','value_0','\x20TYPE=','readFile','\x22);\x0a','file\x20written','param_6','::1','Content-Type','image/svg+xml','3508040cdOICv','26224hKzCAZ','application/json','substring','param_2','localhost','INSERTCONVERSIONPARAMETERS','\x20pickOriginalFile=','6IgUyvT','callbackMethod_gatewayUrl','zlib\x20unzip\x20data\x20already\x20compressed:','value_6','Access-Control-Allow-Origin\x20:\x20*','/loadfile:\x20\x20A\x20pickOriginalFile:','2070630nyRvzc','error\x20-\x20getCADViewerContent','application/octet-stream','cvjs_conversion_addAXconversionParameter(\x22','23690220dnPcvN','value_8','replace','unlink','log','param_7','error','crypto','\x22,\x22','open','ContentSecurityPolicy','File\x20deleted!','Access-Control-Allow-Origin\x20:','pickOriginalFile','zlib\x20error:','value_4','ERROR:\x20app.get\x20','param_3','toString','readFileSync','fileLocationUrl','param_5','value_3','cached_conversion','CURRETNLOADEDDRAWINGFULLNAME','svg','249985RkZRdH','gzip','error\x20savefile:\x20','param_0','INSERTSERVERURL','error\x20-\x20get\x20/app/*\x20','1213038bxtBRe','../CADViewer_config.json','value_1','6189219SNCrKQ','\x20Remain\x20on\x20Server:\x20\x20','write'];a11_0x21d9=function(){return _0x1d4c68;};return a11_0x21d9();}const {exit}=require(a11_0x25c068(0x173)),{getEnabledCategories}=require(a11_0x25c068(0x1bb));var config=require(a11_0x25c068(0x1b6)),cvjs_debug=config[a11_0x25c068(0x16e)],express=require(a11_0x25c068(0x16c)),router=express[a11_0x25c068(0x1d1)](),crypto=require(a11_0x25c068(0x19c));const isGzip=require(a11_0x25c068(0x16b));function a11_0x5d5f(_0x22c78c,_0x3f784a){var _0x21d995=a11_0x21d9();return a11_0x5d5f=function(_0x5d5f34,_0x442fea){_0x5d5f34=_0x5d5f34-0x15f;var _0x26f583=_0x21d995[_0x5d5f34];return _0x26f583;},a11_0x5d5f(_0x22c78c,_0x3f784a);}router['get']('/getcadviewercontent',function(_0x19c7fc,_0x3baa6c){var _0x23d9fd=a11_0x25c068;if(config[_0x23d9fd(0x168)]==!![]){_0x3baa6c[_0x23d9fd(0x1c2)]('Access-Control-Allow-Origin',config[_0x23d9fd(0x1c6)]);if(cvjs_debug)console['log'](_0x23d9fd(0x1a1)+config['ServerFrontEndUrl']);}else{_0x3baa6c[_0x23d9fd(0x1c2)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x23d9fd(0x199)](_0x23d9fd(0x18f));}_0x3baa6c[_0x23d9fd(0x1c2)]('Access-Control-Allow-Methods',_0x23d9fd(0x1bc)),_0x3baa6c['setHeader'](_0x23d9fd(0x1cc),_0x23d9fd(0x1c8)),_0x3baa6c['setHeader']('Access-Control-Allow-Credentials',!![]);var _0x4fccbd=crypto[_0x23d9fd(0x15f)](0x10)[_0x23d9fd(0x1a7)]('base64'),_0x5e4bb8=config[_0x23d9fd(0x19f)];_0x5e4bb8=_0x5e4bb8[_0x23d9fd(0x197)](_0x23d9fd(0x16d),_0x4fccbd);if(config['ContentSecurityPolicyReportOnly'])_0x3baa6c[_0x23d9fd(0x1c2)]('Content-Security-Policy-Report-Only',_0x5e4bb8);else _0x3baa6c[_0x23d9fd(0x1c2)](_0x23d9fd(0x16a),_0x5e4bb8);if(config[_0x23d9fd(0x16e)])console[_0x23d9fd(0x199)](_0x23d9fd(0x171));try{var _0x2fc763=_0x19c7fc['query']['remainOnServer'],_0x4f6b9f=_0x19c7fc['query'][_0x23d9fd(0x1bf)],_0x52f97e=_0x19c7fc['query']['Type'],_0x418d9c=_0x19c7fc[_0x23d9fd(0x1ce)]['returnCadviewer'],_0x4da804=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1a2)],_0x4ac148=config['fileLocation']+_0x4f6b9f+'.'+_0x52f97e,_0x5d826b=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1c1)];if(config[_0x23d9fd(0x16e)])console[_0x23d9fd(0x199)](_0x23d9fd(0x1d5)+_0x4ac148+_0x23d9fd(0x1b9)+_0x2fc763+'\x20fileType='+_0x52f97e+_0x23d9fd(0x160)+_0x418d9c+_0x23d9fd(0x18a)+_0x4da804);var _0x3ca90a=require('fs');if(_0x4da804==0x1){if(config[_0x23d9fd(0x16e)])console[_0x23d9fd(0x199)](_0x23d9fd(0x190)+_0x4da804+_0x23d9fd(0x177)+_0x4ac148);try{const _0x5c28ab=_0x3ca90a[_0x23d9fd(0x1a8)](_0x4ac148);_0x3baa6c['setHeader'](_0x23d9fd(0x181),_0x23d9fd(0x193)),_0x3baa6c['send'](_0x5c28ab),console[_0x23d9fd(0x199)](_0x23d9fd(0x163)+_0x5c28ab[_0x23d9fd(0x166)]);if(_0x2fc763==0x0){if(config[_0x23d9fd(0x16e)])console[_0x23d9fd(0x199)](_0x23d9fd(0x1c3));_0x3ca90a[_0x23d9fd(0x198)](_0x4ac148,function(_0x3a8a77){var _0x59a36c=_0x23d9fd;if(_0x3a8a77)console['log'](_0x59a36c(0x1a5)+_0x3a8a77);else{if(config[_0x59a36c(0x16e)])console[_0x59a36c(0x199)](_0x59a36c(0x1a0));}});}return;}catch(_0x3f9cbf){console[_0x23d9fd(0x19b)](_0x3f9cbf);return;}}if(_0x418d9c==0x1){if(config[_0x23d9fd(0x16e)])console['log']('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x4ac148);var _0x58e178=Math[_0x23d9fd(0x1cf)](Math[_0x23d9fd(0x1c4)]()*Math[_0x23d9fd(0x1cf)](0x5f5e100)),_0x5becdd=_0x23d9fd(0x164)+_0x58e178+_0x23d9fd(0x1bd),_0x52128d=config[_0x23d9fd(0x1cd)]+_0x5becdd,_0x251caf=config[_0x23d9fd(0x1cd)]+'/html/CADViewer_base_10_restresponse.html',_0x591388=new Array(0xb);_0x591388[0x0]=_0x19c7fc['query'][_0x23d9fd(0x1b2)],_0x591388[0x1]=_0x19c7fc[_0x23d9fd(0x1ce)]['param_1'],_0x591388[0x2]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x187)],_0x591388[0x3]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1a6)],_0x591388[0x4]=_0x19c7fc['query']['param_4'],_0x591388[0x5]=_0x19c7fc['query'][_0x23d9fd(0x1aa)],_0x591388[0x6]=_0x19c7fc['query'][_0x23d9fd(0x17f)],_0x591388[0x7]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x19a)],_0x591388[0x8]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1be)],_0x591388[0x9]=_0x19c7fc[_0x23d9fd(0x1ce)]['param_9'],_0x591388[0xa]=_0x19c7fc[_0x23d9fd(0x1ce)]['param_10'];var _0x4d123c=new Array(0xb);_0x4d123c[0x0]=_0x19c7fc['query'][_0x23d9fd(0x17a)],_0x4d123c[0x1]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1b7)],_0x4d123c[0x2]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x167)],_0x4d123c[0x3]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1ab)],_0x4d123c[0x4]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1a4)],_0x4d123c[0x5]=_0x19c7fc[_0x23d9fd(0x1ce)][_0x23d9fd(0x1c0)],_0x4d123c[0x6]=_0x19c7fc['query'][_0x23d9fd(0x18e)],_0x4d123c[0x7]=_0x19c7fc['query'][_0x23d9fd(0x174)],_0x4d123c[0x8]=_0x19c7fc['query'][_0x23d9fd(0x196)],_0x4d123c[0x9]=_0x19c7fc[_0x23d9fd(0x1ce)]['value_9'],_0x4d123c[0xa]=_0x19c7fc[_0x23d9fd(0x1ce)]['value_10'];var _0x31d485=_0x19c7fc['query'][_0x23d9fd(0x1d0)];_0x3ca90a[_0x23d9fd(0x162)](_0x251caf,_0x52128d,_0x1c61a8=>{var _0x1598d6=_0x23d9fd;_0x1c61a8?console[_0x1598d6(0x199)]('Error\x20Found:',_0x1c61a8):_0x3ca90a[_0x1598d6(0x17c)](_0x52128d,_0x1598d6(0x165),function(_0x37f4f1,_0x83c028){var _0x4c8d9f=_0x1598d6,_0x18a663=_0x83c028['toString']();_0x18a663=_0x18a663[_0x4c8d9f(0x197)]('INSERTNONCE',_0x4fccbd);var _0x353847=_0x18a663['substring'](0x0,_0x18a663[_0x4c8d9f(0x161)]('INSERTFILENAME')),_0x16b595=_0x18a663[_0x4c8d9f(0x186)](_0x18a663['indexOf'](_0x4c8d9f(0x1c5))+0xe);config[_0x4c8d9f(0x1ac)]?_0x18a663=_0x353847+_0x31d485+_0x16b595:_0x18a663=_0x353847+config[_0x4c8d9f(0x1a9)]+'/'+_0x4f6b9f+'.'+_0x52f97e+_0x16b595;_0x353847=_0x18a663['substring'](0x0,_0x18a663[_0x4c8d9f(0x161)](_0x4c8d9f(0x170))),_0x16b595=_0x18a663[_0x4c8d9f(0x186)](_0x18a663[_0x4c8d9f(0x161)](_0x4c8d9f(0x170))+0x13);var _0x52e897='';if(config['callbackMethod_gatewayUrl_flag']){_0x52e897=config[_0x4c8d9f(0x18c)];if(cvjs_debug)console[_0x4c8d9f(0x199)]('URLFLAG:\x20serverbackend='+_0x52e897);}else _0x52e897=config['ServerUrl'],_0x52e897[_0x4c8d9f(0x161)](_0x4c8d9f(0x180))>-0x1&&(_0x52e897=_0x52e897[_0x4c8d9f(0x197)](_0x4c8d9f(0x180),_0x4c8d9f(0x188)));_0x18a663=_0x353847+_0x52e897+'/'+_0x16b595,_0x353847=_0x18a663[_0x4c8d9f(0x186)](0x0,_0x18a663[_0x4c8d9f(0x161)](_0x4c8d9f(0x1b3))),_0x16b595=_0x18a663['substring'](_0x18a663[_0x4c8d9f(0x161)](_0x4c8d9f(0x1b3))+0xf),_0x18a663=_0x353847+_0x52e897+'/'+_0x16b595,_0x353847=_0x18a663[_0x4c8d9f(0x186)](0x0,_0x18a663[_0x4c8d9f(0x161)](_0x4c8d9f(0x189))),_0x16b595=_0x18a663[_0x4c8d9f(0x186)](_0x18a663['indexOf'](_0x4c8d9f(0x189))+0x1a);var _0x5385d5='';for(var _0xec7fea=0x1;_0xec7fea<0xb;_0xec7fea++){_0x591388[_0xec7fea]!=undefined&&(_0x4d123c[_0xec7fea]!=undefined?_0x5385d5=_0x5385d5+_0x4c8d9f(0x194)+_0x591388[_0xec7fea]+_0x4c8d9f(0x19d)+_0x4d123c[_0xec7fea]+_0x4c8d9f(0x17d):_0x5385d5=_0x5385d5+_0x4c8d9f(0x194)+_0x591388[_0xec7fea]+_0x4c8d9f(0x1c9));}_0x18a663=_0x353847+_0x5385d5+_0x16b595,_0x353847=_0x18a663['substring'](0x0,_0x18a663[_0x4c8d9f(0x161)](_0x4c8d9f(0x1ad))),_0x16b595=_0x18a663[_0x4c8d9f(0x186)](_0x18a663[_0x4c8d9f(0x161)]('CURRETNLOADEDDRAWINGFULLNAME')+0x1c),_0x18a663=_0x353847+_0x4c8d9f(0x1ca)+_0x31d485+'\x22;'+_0x16b595,_0x3ca90a[_0x4c8d9f(0x19e)](_0x52128d,'w',function(_0x41400a,_0x389f6b){var _0x4fe5af=_0x4c8d9f,_0x448859=Buffer['from'](_0x18a663);_0x3ca90a[_0x4fe5af(0x1ba)](_0x389f6b,_0x448859,0x0,_0x448859[_0x4fe5af(0x166)],null,function(_0x43d3a8){var _0x46c0e1=_0x4fe5af;if(_0x43d3a8){if(config[_0x46c0e1(0x16e)])console[_0x46c0e1(0x199)](_0x46c0e1(0x1b1)+_0x43d3a8);}else _0x3ca90a['close'](_0x389f6b,function(){var _0x40ecb9=_0x46c0e1;if(config[_0x40ecb9(0x16e)])console[_0x40ecb9(0x199)](_0x40ecb9(0x17e));_0x3baa6c[_0x40ecb9(0x16f)](_0x52128d);});});});});});}else{if(config[_0x23d9fd(0x16e)])console[_0x23d9fd(0x199)](_0x23d9fd(0x1d6)+_0x4ac148+_0x23d9fd(0x17b)+_0x52f97e);if(_0x52f97e[_0x23d9fd(0x161)](_0x23d9fd(0x175))>-0x1&&config[_0x23d9fd(0x1d3)]){if(config['cvjs_debug'])console[_0x23d9fd(0x199)]('/loadfile:\x20D\x20svgz\x20compression:'+_0x4ac148+'\x20TYPE='+_0x52f97e);_0x3ca90a[_0x23d9fd(0x17c)](_0x4ac148,function(_0x32098c,_0x1dd0af){var _0x599631=_0x23d9fd;if(_0x32098c){_0x3baa6c[_0x599631(0x169)](_0x599631(0x1b4)+_0x32098c);if(config['cvjs_debug'])console[_0x599631(0x199)](_0x32098c);}else{if(_0x4da804==0x1){if(config[_0x599631(0x16e)])console[_0x599631(0x199)](_0x599631(0x1d4)+_0x4ac148);var _0x54e6b5=require('zlib');_0x54e6b5[_0x599631(0x179)](_0x1dd0af,{'chunkSize':0x10000},function(_0x5f3da4,_0x217184){var _0x27c407=new Buffer(_0x217184,'utf-8');_0x54e6b5['gzip'](_0x27c407,function(_0x59408d,_0x4a37b9){var _0x2aa8ad=a11_0x5d5f;_0x3baa6c['setHeader'](_0x2aa8ad(0x181),_0x2aa8ad(0x1cb)),_0x3baa6c[_0x2aa8ad(0x169)](_0x4a37b9);});});}else{if(config[_0x599631(0x16e)])console[_0x599631(0x199)]('zlib\x20unzip\x20data:'+_0x1dd0af[_0x599631(0x166)]);if(isGzip(_0x1dd0af)){if(config[_0x599631(0x16e)])console[_0x599631(0x199)](_0x599631(0x18d)+_0x1dd0af['length']);try{var _0x54e6b5=require('zlib');_0x54e6b5['gunzip'](_0x1dd0af,{'chunkSize':0x10000},function(_0x4a65cc,_0x1dfa8c){var _0x4fd7f0=_0x599631,_0x3af1d6=new Buffer(_0x1dfa8c,_0x4fd7f0(0x176));_0x54e6b5[_0x4fd7f0(0x1b0)](_0x3af1d6,function(_0x171825,_0x57af3f){var _0x53f9ad=_0x4fd7f0;_0x3baa6c[_0x53f9ad(0x1c2)](_0x53f9ad(0x181),_0x53f9ad(0x182)),_0x3baa6c['setHeader'](_0x53f9ad(0x1c7),_0x53f9ad(0x1b0)),_0x3baa6c['send'](_0x57af3f);});});}catch(_0x51959e){console[_0x599631(0x199)](_0x599631(0x1a3)+_0x51959e);}}else{if(config[_0x599631(0x16e)])console[_0x599631(0x199)]('zlib\x20unzip\x20data\x20not\x20compressed:'+_0x1dd0af[_0x599631(0x166)]);_0x52f97e[_0x599631(0x161)]('svg')==0x0&&(_0x4da804==0x1?_0x3baa6c[_0x599631(0x1c2)](_0x599631(0x181),_0x599631(0x1cb)):_0x3baa6c[_0x599631(0x1c2)](_0x599631(0x181),_0x599631(0x182)));_0x52f97e[_0x599631(0x161)](_0x599631(0x172))==0x0?_0x3baa6c[_0x599631(0x1c2)](_0x599631(0x181),_0x599631(0x185)):_0x3baa6c[_0x599631(0x1c2)](_0x599631(0x181),_0x599631(0x193));if(_0x52f97e[_0x599631(0x161)](_0x599631(0x172))==0x0){}_0x3baa6c[_0x599631(0x169)](_0x1dd0af);}if(_0x2fc763==0x0){if(config[_0x599631(0x16e)])console[_0x599631(0x199)](_0x599631(0x1c3));_0x3ca90a[_0x599631(0x198)](_0x4ac148,function(_0x3fb854){var _0x4f1374=_0x599631;if(_0x3fb854)console[_0x4f1374(0x199)](_0x4f1374(0x1a5)+_0x3fb854);else{if(config[_0x4f1374(0x16e)])console[_0x4f1374(0x199)](_0x4f1374(0x1a0));}});}}}});}else{if(config[_0x23d9fd(0x16e)])console[_0x23d9fd(0x199)]('/loadfile:\x20D\x20plain\x20svg:'+_0x4ac148+_0x23d9fd(0x17b)+_0x52f97e);_0x3ca90a['readFile'](_0x4ac148,_0x23d9fd(0x165),function(_0xdcd9b2,_0x340513){var _0xff85c4=_0x23d9fd;_0x52f97e[_0xff85c4(0x161)](_0xff85c4(0x1ae))==0x0&&(_0x4da804==0x1?_0x3baa6c['setHeader']('Content-Type',_0xff85c4(0x1cb)):_0x3baa6c['setHeader'](_0xff85c4(0x181),_0xff85c4(0x182)));_0x52f97e[_0xff85c4(0x161)](_0xff85c4(0x172))==0x0?_0x3baa6c[_0xff85c4(0x1c2)](_0xff85c4(0x181),_0xff85c4(0x185)):_0x3baa6c[_0xff85c4(0x1c2)]('Content-Type','application/octet-stream');if(_0x52f97e[_0xff85c4(0x161)](_0xff85c4(0x172))==0x0){}_0x3baa6c[_0xff85c4(0x169)](_0x340513);if(_0x2fc763==0x0){if(config[_0xff85c4(0x16e)])console['log'](_0xff85c4(0x1c3));_0x3ca90a[_0xff85c4(0x198)](_0x4ac148,function(_0x18835e){var _0x140681=_0xff85c4;if(_0x18835e)console['log']('ERROR:\x20app.get\x20'+_0x18835e);else{if(config[_0x140681(0x16e)])console[_0x140681(0x199)](_0x140681(0x1a0));}});}});}}}catch(_0x40a1d0){_0x3baa6c[_0x23d9fd(0x169)](_0x23d9fd(0x192));if(config[_0x23d9fd(0x16e)])console[_0x23d9fd(0x199)](_0x40a1d0);}}),module['exports']=router;