var a10_0x27d88a=a10_0x57dc;function a10_0x56ce(){var _0x827110=['value_3','cvjs_svgz_compress','File\x20deleted!','length','randomBytes','8137026vwFJKv','Content-Type','\x20fileType=','application/json','5948106SZOPps','ServerFrontEndUrlAsAllowedOriginOnly','value_10','\x20TYPE=','random','image/jpeg','../CADViewer_config.json','process','open','::1','param_7','unlink','fileLocation','10cNjHcO','param_1','from','632zkXLiV','indexOf','value_1','ServerLocation','send','param_8','cvjs_conversion_addAXconversionParameter(\x22','zlib\x20unzip\x20data\x20not\x20compressed:','cvjs_debug','substring','zlib\x20unzip\x20data:','error','INSERTSERVERBACKEND','pickOriginalFile\x20return\x20length=','utf-8','10491sfrfsG','INSERTNONCE','utf8','param_9','sendFile','error\x20savefile:\x20','value_6','get','\x20pickOriginalFile=','ServerUrl','value_2','base64','.html','value_5','remainOnServer','1186839eIZFLg','param_5','write','\x22);\x0a','/html/CV','pickOriginalFile','file\x20written','\x22,\x22','ContentSecurityPolicy','setHeader','returnCadviewer','zlib','contentLocation','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','first\x20in\x20/getcadviewercontent','30989684HPRwjg','Access-Control-Allow-Origin','zlib\x20unzip\x20data\x20already\x20compressed:','gunzip','readFileSync','gzip','3325072PctWJv','value_4','\x20inputFile=','ServerFrontEndUrl','Access-Control-Allow-Origin\x20:','query','is-gzip','localhost','iscached','ContentSecurityPolicyReportOnly','ERROR:\x20app.get\x20','param_0','INSERTCONVERSIONPARAMETERS','\x20returnCadviewer=','close','param_2','value_7','readFile','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','replace','value_9','\x20Remain\x20on\x20Server:\x20\x20','5CZOpGC','floor','Router','svgz','CURRETNLOADEDDRAWINGFULLNAME','64hhjaZx','json','Content-Security-Policy','param_4','param_10','Type','/loadfile:\x20D\x20plain\x20svg:','Content-Security-Policy-Report-Only','currentLoadedDrawingFullName=\x22','Access-Control-Allow-Origin\x20:\x20*','1113602IbBDPI','Access-Control-Allow-Credentials','error\x20-\x20getCADViewerContent','fileTag','\x22,\x22\x22);\x0a','copyFile','log','/loadfile:\x20','svg','exports','cached_conversion','image/svg+xml','express','application/octet-stream','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','Access-Control-Allow-Methods','fileLocationUrl','value_8','INSERTFILENAME'];a10_0x56ce=function(){return _0x827110;};return a10_0x56ce();}(function(_0x3e100b,_0x404b0b){var _0x2ef4f8=a10_0x57dc,_0x497c0f=_0x3e100b();while(!![]){try{var _0x2b68d2=-parseInt(_0x2ef4f8(0x206))/0x1+parseInt(_0x2ef4f8(0x1e8))/0x2*(-parseInt(_0x2ef4f8(0x1f7))/0x3)+parseInt(_0x2ef4f8(0x21b))/0x4+-parseInt(_0x2ef4f8(0x232))/0x5*(parseInt(_0x2ef4f8(0x1d8))/0x6)+-parseInt(_0x2ef4f8(0x241))/0x7*(-parseInt(_0x2ef4f8(0x237))/0x8)+-parseInt(_0x2ef4f8(0x1d4))/0x9*(parseInt(_0x2ef4f8(0x1e5))/0xa)+parseInt(_0x2ef4f8(0x215))/0xb;if(_0x2b68d2===_0x404b0b)break;else _0x497c0f['push'](_0x497c0f['shift']());}catch(_0x2b5c70){_0x497c0f['push'](_0x497c0f['shift']());}}}(a10_0x56ce,0xb3294));const {exit}=require(a10_0x27d88a(0x1df)),{getEnabledCategories}=require('trace_events');var config=require(a10_0x27d88a(0x1de)),cvjs_debug=config['cvjs_debug'],express=require(a10_0x27d88a(0x1c8)),router=express[a10_0x27d88a(0x234)](),crypto=require('crypto');function a10_0x57dc(_0x33914b,_0x4a4848){var _0x56ceaa=a10_0x56ce();return a10_0x57dc=function(_0x57dc05,_0x8e88ab){_0x57dc05=_0x57dc05-0x1c1;var _0x50357f=_0x56ceaa[_0x57dc05];return _0x50357f;},a10_0x57dc(_0x33914b,_0x4a4848);}const isGzip=require(a10_0x27d88a(0x221));router[a10_0x27d88a(0x1fe)]('/getcadviewercontent',function(_0x46e0de,_0x2050c3){var _0x3fed1c=a10_0x27d88a;if(config[_0x3fed1c(0x1d9)]==!![]){_0x2050c3[_0x3fed1c(0x20f)](_0x3fed1c(0x216),config[_0x3fed1c(0x21e)]);if(cvjs_debug)console['log'](_0x3fed1c(0x21f)+config[_0x3fed1c(0x21e)]);}else{_0x2050c3[_0x3fed1c(0x20f)](_0x3fed1c(0x216),'*');if(cvjs_debug)console[_0x3fed1c(0x1c2)](_0x3fed1c(0x240));}_0x2050c3['setHeader'](_0x3fed1c(0x1cb),_0x3fed1c(0x22e)),_0x2050c3[_0x3fed1c(0x20f)]('Access-Control-Allow-Headers','X-Requested-With,content-type'),_0x2050c3[_0x3fed1c(0x20f)](_0x3fed1c(0x242),!![]);var _0x1129c0=crypto[_0x3fed1c(0x1d3)](0x10)['toString'](_0x3fed1c(0x202)),_0xbaf7a7=config[_0x3fed1c(0x20e)];_0xbaf7a7=_0xbaf7a7[_0x3fed1c(0x22f)](_0x3fed1c(0x1f8),_0x1129c0);if(config[_0x3fed1c(0x224)])_0x2050c3[_0x3fed1c(0x20f)](_0x3fed1c(0x23e),_0xbaf7a7);else _0x2050c3[_0x3fed1c(0x20f)](_0x3fed1c(0x239),_0xbaf7a7);if(config['cvjs_debug'])console[_0x3fed1c(0x1c2)](_0x3fed1c(0x214));try{var _0xed7c1=_0x46e0de['query'][_0x3fed1c(0x205)],_0x2fef3b=_0x46e0de['query'][_0x3fed1c(0x244)],_0x5a75c3=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x23c)],_0x2ce3e3=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x210)],_0x3a83ee=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x20b)],_0x2eaca7=config[_0x3fed1c(0x1e4)]+_0x2fef3b+'.'+_0x5a75c3,_0x222ccf=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x223)];if(config['cvjs_debug'])console[_0x3fed1c(0x1c2)](_0x3fed1c(0x1c3)+_0x2eaca7+_0x3fed1c(0x231)+_0xed7c1+_0x3fed1c(0x1d6)+_0x5a75c3+_0x3fed1c(0x228)+_0x2ce3e3+_0x3fed1c(0x1ff)+_0x3a83ee);var _0x45cd69=require('fs');if(_0x3a83ee==0x1){if(config[_0x3fed1c(0x1f0)])console[_0x3fed1c(0x1c2)]('/loadfile:\x20\x20A\x20pickOriginalFile:'+_0x3a83ee+_0x3fed1c(0x21d)+_0x2eaca7);try{const _0xec02a0=_0x45cd69[_0x3fed1c(0x219)](_0x2eaca7);_0x2050c3[_0x3fed1c(0x20f)](_0x3fed1c(0x1d5),_0x3fed1c(0x1c9)),_0x2050c3[_0x3fed1c(0x1ec)](_0xec02a0),console[_0x3fed1c(0x1c2)](_0x3fed1c(0x1f5)+_0xec02a0['length']);if(_0xed7c1==0x0){if(config[_0x3fed1c(0x1f0)])console['log'](_0x3fed1c(0x22d));_0x45cd69['unlink'](_0x2eaca7,function(_0x3a4504){var _0x3552b6=_0x3fed1c;if(_0x3a4504)console['log'](_0x3552b6(0x225)+_0x3a4504);else{if(config['cvjs_debug'])console[_0x3552b6(0x1c2)]('File\x20deleted!');}});}return;}catch(_0x3f6b58){console[_0x3fed1c(0x1f3)](_0x3f6b58);return;}}if(_0x2ce3e3==0x1){if(config['cvjs_debug'])console[_0x3fed1c(0x1c2)](_0x3fed1c(0x1ca)+_0x2eaca7);var _0x30a22b=Math[_0x3fed1c(0x233)](Math[_0x3fed1c(0x1dc)]()*Math[_0x3fed1c(0x233)](0x5f5e100)),_0x2174b1=_0x3fed1c(0x20a)+_0x30a22b+_0x3fed1c(0x203),_0x45bd75=config[_0x3fed1c(0x1eb)]+_0x2174b1,_0x453b2c=config['ServerLocation']+'/html/CADViewer_base_10_restresponse.html',_0x5253ae=new Array(0xb);_0x5253ae[0x0]=_0x46e0de['query'][_0x3fed1c(0x226)],_0x5253ae[0x1]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x1e6)],_0x5253ae[0x2]=_0x46e0de['query'][_0x3fed1c(0x22a)],_0x5253ae[0x3]=_0x46e0de[_0x3fed1c(0x220)]['param_3'],_0x5253ae[0x4]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x23a)],_0x5253ae[0x5]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x207)],_0x5253ae[0x6]=_0x46e0de[_0x3fed1c(0x220)]['param_6'],_0x5253ae[0x7]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x1e2)],_0x5253ae[0x8]=_0x46e0de['query'][_0x3fed1c(0x1ed)],_0x5253ae[0x9]=_0x46e0de['query'][_0x3fed1c(0x1fa)],_0x5253ae[0xa]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x23b)];var _0x3c2e02=new Array(0xb);_0x3c2e02[0x0]=_0x46e0de[_0x3fed1c(0x220)]['value_0'],_0x3c2e02[0x1]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x1ea)],_0x3c2e02[0x2]=_0x46e0de['query'][_0x3fed1c(0x201)],_0x3c2e02[0x3]=_0x46e0de['query'][_0x3fed1c(0x1cf)],_0x3c2e02[0x4]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x21c)],_0x3c2e02[0x5]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x204)],_0x3c2e02[0x6]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x1fd)],_0x3c2e02[0x7]=_0x46e0de['query'][_0x3fed1c(0x22b)],_0x3c2e02[0x8]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x1cd)],_0x3c2e02[0x9]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x230)],_0x3c2e02[0xa]=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x1da)];var _0x32cbf4=_0x46e0de[_0x3fed1c(0x220)][_0x3fed1c(0x212)];_0x45cd69[_0x3fed1c(0x1c1)](_0x453b2c,_0x45bd75,_0x4d0c1a=>{var _0x2c4275=_0x3fed1c;_0x4d0c1a?console[_0x2c4275(0x1c2)]('Error\x20Found:',_0x4d0c1a):_0x45cd69[_0x2c4275(0x22c)](_0x45bd75,_0x2c4275(0x1f9),function(_0x40a61a,_0x46f86d){var _0x13c708=_0x2c4275,_0x3e0bcc=_0x46f86d['toString']();_0x3e0bcc=_0x3e0bcc[_0x13c708(0x22f)](_0x13c708(0x1f8),_0x1129c0);var _0x10e15d=_0x3e0bcc[_0x13c708(0x1f1)](0x0,_0x3e0bcc[_0x13c708(0x1e9)]('INSERTFILENAME')),_0x5e768b=_0x3e0bcc[_0x13c708(0x1f1)](_0x3e0bcc[_0x13c708(0x1e9)](_0x13c708(0x1ce))+0xe);config[_0x13c708(0x1c6)]?_0x3e0bcc=_0x10e15d+_0x32cbf4+_0x5e768b:_0x3e0bcc=_0x10e15d+config[_0x13c708(0x1cc)]+'/'+_0x2fef3b+'.'+_0x5a75c3+_0x5e768b;_0x10e15d=_0x3e0bcc['substring'](0x0,_0x3e0bcc['indexOf'](_0x13c708(0x1f4))),_0x5e768b=_0x3e0bcc[_0x13c708(0x1f1)](_0x3e0bcc['indexOf']('INSERTSERVERBACKEND')+0x13);var _0x5367e8=config[_0x13c708(0x200)];_0x5367e8['indexOf'](_0x13c708(0x1e1))>-0x1&&(_0x5367e8=_0x5367e8[_0x13c708(0x22f)](_0x13c708(0x1e1),_0x13c708(0x222)));_0x3e0bcc=_0x10e15d+_0x5367e8+'/'+_0x5e768b,_0x10e15d=_0x3e0bcc[_0x13c708(0x1f1)](0x0,_0x3e0bcc[_0x13c708(0x1e9)]('INSERTSERVERURL')),_0x5e768b=_0x3e0bcc['substring'](_0x3e0bcc[_0x13c708(0x1e9)]('INSERTSERVERURL')+0xf),_0x3e0bcc=_0x10e15d+_0x5367e8+'/'+_0x5e768b,_0x10e15d=_0x3e0bcc[_0x13c708(0x1f1)](0x0,_0x3e0bcc[_0x13c708(0x1e9)](_0x13c708(0x227))),_0x5e768b=_0x3e0bcc[_0x13c708(0x1f1)](_0x3e0bcc[_0x13c708(0x1e9)]('INSERTCONVERSIONPARAMETERS')+0x1a);var _0x2b8bfc='';for(var _0x4a826c=0x1;_0x4a826c<0xb;_0x4a826c++){_0x5253ae[_0x4a826c]!=undefined&&(_0x3c2e02[_0x4a826c]!=undefined?_0x2b8bfc=_0x2b8bfc+_0x13c708(0x1ee)+_0x5253ae[_0x4a826c]+_0x13c708(0x20d)+_0x3c2e02[_0x4a826c]+_0x13c708(0x209):_0x2b8bfc=_0x2b8bfc+'cvjs_conversion_addAXconversionParameter(\x22'+_0x5253ae[_0x4a826c]+_0x13c708(0x245));}_0x3e0bcc=_0x10e15d+_0x2b8bfc+_0x5e768b,_0x10e15d=_0x3e0bcc[_0x13c708(0x1f1)](0x0,_0x3e0bcc[_0x13c708(0x1e9)]('CURRETNLOADEDDRAWINGFULLNAME')),_0x5e768b=_0x3e0bcc[_0x13c708(0x1f1)](_0x3e0bcc[_0x13c708(0x1e9)](_0x13c708(0x236))+0x1c),_0x3e0bcc=_0x10e15d+_0x13c708(0x23f)+_0x32cbf4+'\x22;'+_0x5e768b,_0x45cd69[_0x13c708(0x1e0)](_0x45bd75,'w',function(_0x3ffc91,_0x1f658a){var _0x151877=_0x13c708,_0xc06919=Buffer[_0x151877(0x1e7)](_0x3e0bcc);_0x45cd69[_0x151877(0x208)](_0x1f658a,_0xc06919,0x0,_0xc06919['length'],null,function(_0x1ba01a){var _0xc1d650=_0x151877;if(_0x1ba01a){if(config[_0xc1d650(0x1f0)])console[_0xc1d650(0x1c2)](_0xc1d650(0x1fc)+_0x1ba01a);}else _0x45cd69[_0xc1d650(0x229)](_0x1f658a,function(){var _0x136d99=_0xc1d650;if(config['cvjs_debug'])console[_0x136d99(0x1c2)](_0x136d99(0x20c));_0x2050c3[_0x136d99(0x1fb)](_0x45bd75);});});});});});}else{if(config['cvjs_debug'])console[_0x3fed1c(0x1c2)](_0x3fed1c(0x213)+_0x2eaca7+_0x3fed1c(0x1db)+_0x5a75c3);if(_0x5a75c3[_0x3fed1c(0x1e9)](_0x3fed1c(0x235))>-0x1&&config[_0x3fed1c(0x1d0)]){if(config[_0x3fed1c(0x1f0)])console[_0x3fed1c(0x1c2)]('/loadfile:\x20D\x20svgz\x20compression:'+_0x2eaca7+_0x3fed1c(0x1db)+_0x5a75c3);_0x45cd69['readFile'](_0x2eaca7,function(_0x2767bc,_0x3488d2){var _0x2d8cc3=_0x3fed1c;if(_0x2767bc){_0x2050c3['send']('error\x20-\x20get\x20/app/*\x20'+_0x2767bc);if(config['cvjs_debug'])console[_0x2d8cc3(0x1c2)](_0x2767bc);}else{if(_0x3a83ee==0x1){if(config[_0x2d8cc3(0x1f0)])console[_0x2d8cc3(0x1c2)]('zlib\x20unzip\x20inputFile='+_0x2eaca7);var _0x352cfc=require(_0x2d8cc3(0x211));_0x352cfc['gunzip'](_0x3488d2,{'chunkSize':0x10000},function(_0xae1cd0,_0x2d2346){var _0x4dadc1=_0x2d8cc3,_0x5b66a6=new Buffer(_0x2d2346,_0x4dadc1(0x1f6));_0x352cfc[_0x4dadc1(0x21a)](_0x5b66a6,function(_0x54da0a,_0x38a97e){var _0x474514=_0x4dadc1;_0x2050c3[_0x474514(0x20f)]('Content-Type',_0x474514(0x1dd)),_0x2050c3[_0x474514(0x1ec)](_0x38a97e);});});}else{if(config['cvjs_debug'])console[_0x2d8cc3(0x1c2)](_0x2d8cc3(0x1f2)+_0x3488d2[_0x2d8cc3(0x1d2)]);if(isGzip(_0x3488d2)){if(config[_0x2d8cc3(0x1f0)])console['log'](_0x2d8cc3(0x217)+_0x3488d2[_0x2d8cc3(0x1d2)]);try{var _0x352cfc=require(_0x2d8cc3(0x211));_0x352cfc[_0x2d8cc3(0x218)](_0x3488d2,{'chunkSize':0x10000},function(_0x353505,_0x359971){var _0x19cbf5=_0x2d8cc3,_0x197ac9=new Buffer(_0x359971,_0x19cbf5(0x1f6));_0x352cfc['gzip'](_0x197ac9,function(_0x12e6a3,_0x4ef29c){var _0x27135a=_0x19cbf5;_0x2050c3[_0x27135a(0x20f)](_0x27135a(0x1d5),_0x27135a(0x1c7)),_0x2050c3['setHeader']('Content-Encoding','gzip'),_0x2050c3['send'](_0x4ef29c);});});}catch(_0x321c0f){console[_0x2d8cc3(0x1c2)]('zlib\x20error:'+_0x321c0f);}}else{if(config[_0x2d8cc3(0x1f0)])console[_0x2d8cc3(0x1c2)](_0x2d8cc3(0x1ef)+_0x3488d2[_0x2d8cc3(0x1d2)]);_0x5a75c3[_0x2d8cc3(0x1e9)]('svg')==0x0&&(_0x3a83ee==0x1?_0x2050c3[_0x2d8cc3(0x20f)](_0x2d8cc3(0x1d5),_0x2d8cc3(0x1dd)):_0x2050c3[_0x2d8cc3(0x20f)]('Content-Type',_0x2d8cc3(0x1c7)));_0x5a75c3[_0x2d8cc3(0x1e9)]('json')==0x0?_0x2050c3[_0x2d8cc3(0x20f)](_0x2d8cc3(0x1d5),_0x2d8cc3(0x1d7)):_0x2050c3['setHeader']('Content-Type',_0x2d8cc3(0x1c9));if(_0x5a75c3[_0x2d8cc3(0x1e9)]('json')==0x0){}_0x2050c3[_0x2d8cc3(0x1ec)](_0x3488d2);}if(_0xed7c1==0x0){if(config[_0x2d8cc3(0x1f0)])console[_0x2d8cc3(0x1c2)](_0x2d8cc3(0x22d));_0x45cd69[_0x2d8cc3(0x1e3)](_0x2eaca7,function(_0x14bcca){var _0x26ca4d=_0x2d8cc3;if(_0x14bcca)console[_0x26ca4d(0x1c2)](_0x26ca4d(0x225)+_0x14bcca);else{if(config[_0x26ca4d(0x1f0)])console[_0x26ca4d(0x1c2)](_0x26ca4d(0x1d1));}});}}}});}else{if(config[_0x3fed1c(0x1f0)])console[_0x3fed1c(0x1c2)](_0x3fed1c(0x23d)+_0x2eaca7+_0x3fed1c(0x1db)+_0x5a75c3);_0x45cd69[_0x3fed1c(0x22c)](_0x2eaca7,_0x3fed1c(0x1f9),function(_0x542ae4,_0x12ab20){var _0x50c81a=_0x3fed1c;_0x5a75c3['indexOf'](_0x50c81a(0x1c4))==0x0&&(_0x3a83ee==0x1?_0x2050c3['setHeader'](_0x50c81a(0x1d5),_0x50c81a(0x1dd)):_0x2050c3[_0x50c81a(0x20f)](_0x50c81a(0x1d5),_0x50c81a(0x1c7)));_0x5a75c3[_0x50c81a(0x1e9)](_0x50c81a(0x238))==0x0?_0x2050c3[_0x50c81a(0x20f)](_0x50c81a(0x1d5),'application/json'):_0x2050c3[_0x50c81a(0x20f)](_0x50c81a(0x1d5),_0x50c81a(0x1c9));if(_0x5a75c3[_0x50c81a(0x1e9)]('json')==0x0){}_0x2050c3[_0x50c81a(0x1ec)](_0x12ab20);if(_0xed7c1==0x0){if(config[_0x50c81a(0x1f0)])console['log'](_0x50c81a(0x22d));_0x45cd69['unlink'](_0x2eaca7,function(_0x1f9d99){var _0x5344f6=_0x50c81a;if(_0x1f9d99)console[_0x5344f6(0x1c2)](_0x5344f6(0x225)+_0x1f9d99);else{if(config[_0x5344f6(0x1f0)])console[_0x5344f6(0x1c2)]('File\x20deleted!');}});}});}}}catch(_0x4a69dd){_0x2050c3[_0x3fed1c(0x1ec)](_0x3fed1c(0x243));if(config[_0x3fed1c(0x1f0)])console[_0x3fed1c(0x1c2)](_0x4a69dd);}}),module[a10_0x27d88a(0x1c5)]=router;