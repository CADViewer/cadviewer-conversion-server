var a10_0x2c6c05=a10_0x2641;(function(_0x22813e,_0x148a2b){var _0x9a9bb9=a10_0x2641,_0x824989=_0x22813e();while(!![]){try{var _0x4cbbd5=parseInt(_0x9a9bb9(0x108))/0x1+-parseInt(_0x9a9bb9(0x107))/0x2*(parseInt(_0x9a9bb9(0x13b))/0x3)+parseInt(_0x9a9bb9(0x10a))/0x4*(-parseInt(_0x9a9bb9(0x11e))/0x5)+-parseInt(_0x9a9bb9(0x115))/0x6*(-parseInt(_0x9a9bb9(0x11f))/0x7)+-parseInt(_0x9a9bb9(0x10e))/0x8+parseInt(_0x9a9bb9(0x138))/0x9*(parseInt(_0x9a9bb9(0x119))/0xa)+parseInt(_0x9a9bb9(0x127))/0xb;if(_0x4cbbd5===_0x148a2b)break;else _0x824989['push'](_0x824989['shift']());}catch(_0x156420){_0x824989['push'](_0x824989['shift']());}}}(a10_0x49e1,0xc8161));function a10_0x2641(_0xc95374,_0x399d9a){var _0x49e147=a10_0x49e1();return a10_0x2641=function(_0x26411c,_0x18acd3){_0x26411c=_0x26411c-0xef;var _0xc6092=_0x49e147[_0x26411c];return _0xc6092;},a10_0x2641(_0xc95374,_0x399d9a);}function a10_0x49e1(){var _0x17c9cf=['value_10','/html/CV','indexOf','\x20TYPE=','/getcadviewercontent','cvjs_conversion_addAXconversionParameter(\x22','base64','\x22,\x22','gunzip','is-gzip','value_2','ContentSecurityPolicy','param_1','setHeader','param_2','/loadfile:\x20D\x20svgz\x20compression:','image/svg+xml','zlib\x20unzip\x20data\x20not\x20compressed:','.html','file\x20written','::1','iscached','/loadfile:\x20','Access-Control-Allow-Origin\x20:\x20*','ERROR:\x20app.get\x20','INSERTFILENAME','\x20inputFile=','currentLoadedDrawingFullName=\x22','ServerLocation','128DtzhRo','622708dxlhJI','cvjs_debug','568fIoYRu','unlink','INSERTCONVERSIONPARAMETERS','zlib\x20error:','755768yAGvtD','json','length','readFileSync','Error\x20Found:','/html/CADViewer_base_10_restresponse.html','log','1932078nlaRwG','svgz','value_8','INSERTSERVERURL','110oWzytC','param_4','\x20Remain\x20on\x20Server:\x20\x20','value_7','cached_conversion','25030cHfhfO','7ZZUAQX','value_3','INSERTSERVERBACKEND','crypto','INSERTNONCE','CURRETNLOADEDDRAWINGFULLNAME','readFile','fileTag','8534801fFpzKm','application/octet-stream','value_4','cvjs_svgz_compress','get','Content-Security-Policy-Report-Only','Content-Type','/loadfile:\x20\x20A\x20pickOriginalFile:','\x20fileType=','/loadfile:\x20D\x20plain\x20svg:','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','ServerFrontEndUrl','utf8','fileLocationUrl','zlib\x20unzip\x20data:','write','replace','272664HGGnsg','param_9','trace_events','20109YzacFJ','../CADViewer_config.json','returnCadviewer','error\x20-\x20get\x20/app/*\x20','param_7','Router','floor','substring','param_0','value_5','utf-8','error\x20savefile:\x20','error','param_6','value_1','copyFile','express','Access-Control-Allow-Credentials','param_5','pickOriginalFile\x20return\x20length=','query','image/jpeg','zlib\x20unzip\x20data\x20already\x20compressed:','Access-Control-Allow-Origin','gzip','toString','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','randomBytes','send','zlib\x20unzip\x20inputFile=','File\x20deleted!','error\x20-\x20getCADViewerContent','Access-Control-Allow-Headers','zlib'];a10_0x49e1=function(){return _0x17c9cf;};return a10_0x49e1();}const {exit}=require('process'),{getEnabledCategories}=require(a10_0x2c6c05(0x13a));var config=require(a10_0x2c6c05(0x13c)),cvjs_debug=config[a10_0x2c6c05(0x109)],express=require(a10_0x2c6c05(0x14b)),router=express[a10_0x2c6c05(0x140)](),crypto=require(a10_0x2c6c05(0x122));const isGzip=require(a10_0x2c6c05(0xf3));router[a10_0x2c6c05(0x12b)](a10_0x2c6c05(0x161),function(_0x3f20f5,_0x51e3be){var _0x416548=a10_0x2c6c05;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x51e3be[_0x416548(0xf7)](_0x416548(0x152),config[_0x416548(0x132)]);if(cvjs_debug)console[_0x416548(0x114)]('Access-Control-Allow-Origin\x20:'+config[_0x416548(0x132)]);}else{_0x51e3be[_0x416548(0xf7)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x416548(0x114)](_0x416548(0x101));}_0x51e3be[_0x416548(0xf7)]('Access-Control-Allow-Methods','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x51e3be[_0x416548(0xf7)](_0x416548(0x15b),'X-Requested-With,content-type'),_0x51e3be[_0x416548(0xf7)](_0x416548(0x14c),!![]);var _0x2e0eec=crypto[_0x416548(0x156)](0x10)[_0x416548(0x154)](_0x416548(0xf0)),_0x9865c2=config[_0x416548(0xf5)];_0x9865c2=_0x9865c2[_0x416548(0x137)](_0x416548(0x123),_0x2e0eec);if(config['ContentSecurityPolicyReportOnly'])_0x51e3be['setHeader'](_0x416548(0x12c),_0x9865c2);else _0x51e3be[_0x416548(0xf7)]('Content-Security-Policy',_0x9865c2);if(config[_0x416548(0x109)])console[_0x416548(0x114)]('first\x20in\x20/getcadviewercontent');try{var _0x2971dc=_0x3f20f5[_0x416548(0x14f)]['remainOnServer'],_0x1a9801=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x126)],_0xfdddc3=_0x3f20f5[_0x416548(0x14f)]['Type'],_0x342123=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x13d)],_0x5b99a4=_0x3f20f5['query']['pickOriginalFile'],_0x2a8a2d=config['fileLocation']+_0x1a9801+'.'+_0xfdddc3,_0x1e154d=_0x3f20f5[_0x416548(0x14f)][_0x416548(0xff)];if(config['cvjs_debug'])console[_0x416548(0x114)](_0x416548(0x100)+_0x2a8a2d+_0x416548(0x11b)+_0x2971dc+_0x416548(0x12f)+_0xfdddc3+'\x20returnCadviewer='+_0x342123+'\x20pickOriginalFile='+_0x5b99a4);var _0x188c28=require('fs');if(_0x5b99a4==0x1){if(config['cvjs_debug'])console['log'](_0x416548(0x12e)+_0x5b99a4+_0x416548(0x104)+_0x2a8a2d);try{const _0x4c92c4=_0x188c28[_0x416548(0x111)](_0x2a8a2d);_0x51e3be[_0x416548(0xf7)]('Content-Type',_0x416548(0x128)),_0x51e3be[_0x416548(0x157)](_0x4c92c4),console['log'](_0x416548(0x14e)+_0x4c92c4[_0x416548(0x110)]);if(_0x2971dc==0x0){if(config[_0x416548(0x109)])console['log'](_0x416548(0x131));_0x188c28['unlink'](_0x2a8a2d,function(_0x3aa190){var _0x2e98a1=_0x416548;if(_0x3aa190)console[_0x2e98a1(0x114)](_0x2e98a1(0x102)+_0x3aa190);else{if(config[_0x2e98a1(0x109)])console[_0x2e98a1(0x114)](_0x2e98a1(0x159));}});}return;}catch(_0x11a5de){console[_0x416548(0x147)](_0x11a5de);return;}}if(_0x342123==0x1){if(config[_0x416548(0x109)])console['log']('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0x2a8a2d);var _0x45e73c=Math[_0x416548(0x141)](Math['random']()*Math['floor'](0x5f5e100)),_0x1553a0=_0x416548(0x15e)+_0x45e73c+_0x416548(0xfc),_0xb95470=config[_0x416548(0x106)]+_0x1553a0,_0x358d51=config[_0x416548(0x106)]+_0x416548(0x113),_0x5e3878=new Array(0xb);_0x5e3878[0x0]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x143)],_0x5e3878[0x1]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0xf6)],_0x5e3878[0x2]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0xf8)],_0x5e3878[0x3]=_0x3f20f5[_0x416548(0x14f)]['param_3'],_0x5e3878[0x4]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x11a)],_0x5e3878[0x5]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x14d)],_0x5e3878[0x6]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x148)],_0x5e3878[0x7]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x13f)],_0x5e3878[0x8]=_0x3f20f5[_0x416548(0x14f)]['param_8'],_0x5e3878[0x9]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x139)],_0x5e3878[0xa]=_0x3f20f5[_0x416548(0x14f)]['param_10'];var _0x44c4fe=new Array(0xb);_0x44c4fe[0x0]=_0x3f20f5['query']['value_0'],_0x44c4fe[0x1]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x149)],_0x44c4fe[0x2]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0xf4)],_0x44c4fe[0x3]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x120)],_0x44c4fe[0x4]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x129)],_0x44c4fe[0x5]=_0x3f20f5['query'][_0x416548(0x144)],_0x44c4fe[0x6]=_0x3f20f5['query']['value_6'],_0x44c4fe[0x7]=_0x3f20f5['query'][_0x416548(0x11c)],_0x44c4fe[0x8]=_0x3f20f5[_0x416548(0x14f)][_0x416548(0x117)],_0x44c4fe[0x9]=_0x3f20f5[_0x416548(0x14f)]['value_9'],_0x44c4fe[0xa]=_0x3f20f5['query'][_0x416548(0x15d)];var _0x5ab8c7=_0x3f20f5[_0x416548(0x14f)]['contentLocation'];_0x188c28[_0x416548(0x14a)](_0x358d51,_0xb95470,_0x2c45c3=>{var _0x38d360=_0x416548;_0x2c45c3?console[_0x38d360(0x114)](_0x38d360(0x112),_0x2c45c3):_0x188c28[_0x38d360(0x125)](_0xb95470,'utf8',function(_0x247478,_0xc995b0){var _0x22a5cc=_0x38d360,_0x1f3f88=_0xc995b0['toString']();_0x1f3f88=_0x1f3f88[_0x22a5cc(0x137)](_0x22a5cc(0x123),_0x2e0eec);var _0x21f4ff=_0x1f3f88[_0x22a5cc(0x142)](0x0,_0x1f3f88[_0x22a5cc(0x15f)](_0x22a5cc(0x103))),_0x52ec1f=_0x1f3f88[_0x22a5cc(0x142)](_0x1f3f88[_0x22a5cc(0x15f)](_0x22a5cc(0x103))+0xe);config[_0x22a5cc(0x11d)]?_0x1f3f88=_0x21f4ff+_0x5ab8c7+_0x52ec1f:_0x1f3f88=_0x21f4ff+config[_0x22a5cc(0x134)]+'/'+_0x1a9801+'.'+_0xfdddc3+_0x52ec1f;_0x21f4ff=_0x1f3f88['substring'](0x0,_0x1f3f88[_0x22a5cc(0x15f)](_0x22a5cc(0x121))),_0x52ec1f=_0x1f3f88[_0x22a5cc(0x142)](_0x1f3f88[_0x22a5cc(0x15f)]('INSERTSERVERBACKEND')+0x13);var _0x234357='';if(config['callbackMethod_gatewayUrl_flag']){_0x234357=config['callbackMethod_gatewayUrl'];if(cvjs_debug)console['log']('URLFLAG:\x20serverbackend='+_0x234357);}else _0x234357=config['ServerUrl'],_0x234357[_0x22a5cc(0x15f)](_0x22a5cc(0xfe))>-0x1&&(_0x234357=_0x234357['replace']('::1','localhost'));_0x1f3f88=_0x21f4ff+_0x234357+'/'+_0x52ec1f,_0x21f4ff=_0x1f3f88['substring'](0x0,_0x1f3f88['indexOf']('INSERTSERVERURL')),_0x52ec1f=_0x1f3f88[_0x22a5cc(0x142)](_0x1f3f88[_0x22a5cc(0x15f)](_0x22a5cc(0x118))+0xf),_0x1f3f88=_0x21f4ff+_0x234357+'/'+_0x52ec1f,_0x21f4ff=_0x1f3f88['substring'](0x0,_0x1f3f88[_0x22a5cc(0x15f)](_0x22a5cc(0x10c))),_0x52ec1f=_0x1f3f88[_0x22a5cc(0x142)](_0x1f3f88[_0x22a5cc(0x15f)](_0x22a5cc(0x10c))+0x1a);var _0x4ddd75='';for(var _0x3c445a=0x1;_0x3c445a<0xb;_0x3c445a++){_0x5e3878[_0x3c445a]!=undefined&&(_0x44c4fe[_0x3c445a]!=undefined?_0x4ddd75=_0x4ddd75+_0x22a5cc(0xef)+_0x5e3878[_0x3c445a]+_0x22a5cc(0xf1)+_0x44c4fe[_0x3c445a]+'\x22);\x0a':_0x4ddd75=_0x4ddd75+_0x22a5cc(0xef)+_0x5e3878[_0x3c445a]+'\x22,\x22\x22);\x0a');}_0x1f3f88=_0x21f4ff+_0x4ddd75+_0x52ec1f,_0x21f4ff=_0x1f3f88['substring'](0x0,_0x1f3f88[_0x22a5cc(0x15f)](_0x22a5cc(0x124))),_0x52ec1f=_0x1f3f88['substring'](_0x1f3f88['indexOf'](_0x22a5cc(0x124))+0x1c),_0x1f3f88=_0x21f4ff+_0x22a5cc(0x105)+_0x5ab8c7+'\x22;'+_0x52ec1f,_0x188c28['open'](_0xb95470,'w',function(_0xff3b8d,_0x5f07c1){var _0x462940=_0x22a5cc,_0x2f03d9=Buffer['from'](_0x1f3f88);_0x188c28[_0x462940(0x136)](_0x5f07c1,_0x2f03d9,0x0,_0x2f03d9['length'],null,function(_0x453bcc){var _0x321c66=_0x462940;if(_0x453bcc){if(config[_0x321c66(0x109)])console['log'](_0x321c66(0x146)+_0x453bcc);}else _0x188c28['close'](_0x5f07c1,function(){var _0xede317=_0x321c66;if(config['cvjs_debug'])console[_0xede317(0x114)](_0xede317(0xfd));_0x51e3be['sendFile'](_0xb95470);});});});});});}else{if(config[_0x416548(0x109)])console['log'](_0x416548(0x155)+_0x2a8a2d+_0x416548(0x160)+_0xfdddc3);if(_0xfdddc3[_0x416548(0x15f)](_0x416548(0x116))>-0x1&&config[_0x416548(0x12a)]){if(config[_0x416548(0x109)])console[_0x416548(0x114)](_0x416548(0xf9)+_0x2a8a2d+_0x416548(0x160)+_0xfdddc3);_0x188c28[_0x416548(0x125)](_0x2a8a2d,function(_0xb8c9ae,_0x56ebd7){var _0x366c5f=_0x416548;if(_0xb8c9ae){_0x51e3be[_0x366c5f(0x157)](_0x366c5f(0x13e)+_0xb8c9ae);if(config[_0x366c5f(0x109)])console['log'](_0xb8c9ae);}else{if(_0x5b99a4==0x1){if(config['cvjs_debug'])console['log'](_0x366c5f(0x158)+_0x2a8a2d);var _0x373080=require('zlib');_0x373080['gunzip'](_0x56ebd7,{'chunkSize':0x10000},function(_0x4141e5,_0x2faa86){var _0x4c61b9=new Buffer(_0x2faa86,'utf-8');_0x373080['gzip'](_0x4c61b9,function(_0x2c8113,_0x333537){var _0x480ff9=a10_0x2641;_0x51e3be[_0x480ff9(0xf7)](_0x480ff9(0x12d),'image/jpeg'),_0x51e3be[_0x480ff9(0x157)](_0x333537);});});}else{if(config[_0x366c5f(0x109)])console[_0x366c5f(0x114)](_0x366c5f(0x135)+_0x56ebd7[_0x366c5f(0x110)]);if(isGzip(_0x56ebd7)){if(config['cvjs_debug'])console['log'](_0x366c5f(0x151)+_0x56ebd7[_0x366c5f(0x110)]);try{var _0x373080=require(_0x366c5f(0x15c));_0x373080[_0x366c5f(0xf2)](_0x56ebd7,{'chunkSize':0x10000},function(_0x444db6,_0x3f5a1a){var _0x4889cf=_0x366c5f,_0x150e85=new Buffer(_0x3f5a1a,_0x4889cf(0x145));_0x373080['gzip'](_0x150e85,function(_0x5f187f,_0x37c6cf){var _0x4251eb=_0x4889cf;_0x51e3be['setHeader'](_0x4251eb(0x12d),_0x4251eb(0xfa)),_0x51e3be[_0x4251eb(0xf7)]('Content-Encoding',_0x4251eb(0x153)),_0x51e3be[_0x4251eb(0x157)](_0x37c6cf);});});}catch(_0x1947e3){console['log'](_0x366c5f(0x10d)+_0x1947e3);}}else{if(config['cvjs_debug'])console[_0x366c5f(0x114)](_0x366c5f(0xfb)+_0x56ebd7[_0x366c5f(0x110)]);_0xfdddc3[_0x366c5f(0x15f)]('svg')==0x0&&(_0x5b99a4==0x1?_0x51e3be[_0x366c5f(0xf7)](_0x366c5f(0x12d),_0x366c5f(0x150)):_0x51e3be[_0x366c5f(0xf7)](_0x366c5f(0x12d),_0x366c5f(0xfa)));_0xfdddc3[_0x366c5f(0x15f)](_0x366c5f(0x10f))==0x0?_0x51e3be[_0x366c5f(0xf7)](_0x366c5f(0x12d),'application/json'):_0x51e3be['setHeader'](_0x366c5f(0x12d),_0x366c5f(0x128));if(_0xfdddc3[_0x366c5f(0x15f)](_0x366c5f(0x10f))==0x0){}_0x51e3be[_0x366c5f(0x157)](_0x56ebd7);}if(_0x2971dc==0x0){if(config['cvjs_debug'])console[_0x366c5f(0x114)](_0x366c5f(0x131));_0x188c28[_0x366c5f(0x10b)](_0x2a8a2d,function(_0x5f6804){var _0x31497e=_0x366c5f;if(_0x5f6804)console[_0x31497e(0x114)](_0x31497e(0x102)+_0x5f6804);else{if(config[_0x31497e(0x109)])console['log']('File\x20deleted!');}});}}}});}else{if(config[_0x416548(0x109)])console[_0x416548(0x114)](_0x416548(0x130)+_0x2a8a2d+'\x20TYPE='+_0xfdddc3);_0x188c28[_0x416548(0x125)](_0x2a8a2d,_0x416548(0x133),function(_0xbf4aeb,_0xd3c406){var _0xc49f20=_0x416548;_0xfdddc3[_0xc49f20(0x15f)]('svg')==0x0&&(_0x5b99a4==0x1?_0x51e3be[_0xc49f20(0xf7)]('Content-Type','image/jpeg'):_0x51e3be['setHeader'](_0xc49f20(0x12d),_0xc49f20(0xfa)));_0xfdddc3[_0xc49f20(0x15f)](_0xc49f20(0x10f))==0x0?_0x51e3be[_0xc49f20(0xf7)](_0xc49f20(0x12d),'application/json'):_0x51e3be['setHeader'](_0xc49f20(0x12d),_0xc49f20(0x128));if(_0xfdddc3[_0xc49f20(0x15f)](_0xc49f20(0x10f))==0x0){}_0x51e3be['send'](_0xd3c406);if(_0x2971dc==0x0){if(config[_0xc49f20(0x109)])console[_0xc49f20(0x114)](_0xc49f20(0x131));_0x188c28[_0xc49f20(0x10b)](_0x2a8a2d,function(_0x3b3dd3){var _0x54217d=_0xc49f20;if(_0x3b3dd3)console[_0x54217d(0x114)](_0x54217d(0x102)+_0x3b3dd3);else{if(config[_0x54217d(0x109)])console[_0x54217d(0x114)]('File\x20deleted!');}});}});}}}catch(_0x40b018){_0x51e3be[_0x416548(0x157)](_0x416548(0x15a));if(config[_0x416548(0x109)])console[_0x416548(0x114)](_0x40b018);}}),module['exports']=router;