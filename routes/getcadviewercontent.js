var a10_0x1b15b6=a10_0x126d;function a10_0x5da1(){var _0x32eb3c=['pickOriginalFile','readFile','73203qIMrCF','\x20TYPE=','88REfkdi','param_10','json','Access-Control-Allow-Credentials','849210VBTDVw','zlib','Access-Control-Allow-Origin','returnCadviewer','Error\x20Found:','param_8','value_8','value_1','localhost','param_4','Access-Control-Allow-Headers','fileLocation','value_0','replace','INSERTCONVERSIONPARAMETERS','length','\x20Remain\x20on\x20Server:\x20\x20','utf-8','zlib\x20unzip\x20data\x20already\x20compressed:','query','first\x20in\x20/getcadviewercontent','svgz','24lRqzGQ','Content-Encoding','/getcadviewercontent','value_9','INSERTSERVERBACKEND','pickOriginalFile\x20return\x20length=','fileLocationUrl','error\x20-\x20get\x20/app/*\x20','CURRETNLOADEDDRAWINGFULLNAME','param_9','6163003DMMiBn','param_3','iscached','param_1','cvjs_debug','indexOf','ServerLocation','/html/CV','ServerFrontEndUrl','11759736Cnkztz','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','send','gunzip','readFileSync','exports','ServerFrontEndUrlAsAllowedOriginOnly','242148rJTUHi','16jYgjGY','Router','value_5','get','../CADViewer_config.json','callbackMethod_gatewayUrl','.html','copyFile','currentLoadedDrawingFullName=\x22','unlink','param_0','value_2','cvjs_svgz_compress','utf8','express','substring','param_2','process','24YRBVHR','/loadfile:\x20D\x20svgz\x20compression:','Content-Security-Policy-Report-Only','ERROR:\x20app.get\x20','trace_events','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','\x20returnCadviewer=','is-gzip','\x20pickOriginalFile=','INSERTFILENAME','Content-Security-Policy','value_4','INSERTNONCE','floor','param_7','ContentSecurityPolicy','cvjs_conversion_addAXconversionParameter(\x22','random','INSERTSERVERURL','log','image/jpeg','\x22,\x22','/loadfile:\x20D\x20plain\x20svg:','zlib\x20unzip\x20inputFile=','File\x20deleted!','::1','randomBytes','write','gzip','Access-Control-Allow-Origin\x20:','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','zlib\x20error:','svg','application/json','error\x20savefile:\x20','value_10','image/svg+xml','Content-Type','fileTag','sendFile','param_5','zlib\x20unzip\x20data\x20not\x20compressed:','/html/CADViewer_base_10_restresponse.html','application/octet-stream','1281570QyQili','value_3','close','\x20inputFile=','base64','callbackMethod_gatewayUrl_flag','8409492enEwoq','setHeader','URLFLAG:\x20serverbackend=','Type'];a10_0x5da1=function(){return _0x32eb3c;};return a10_0x5da1();}(function(_0x4741d9,_0x2aa589){var _0x5be668=a10_0x126d,_0x5070d7=_0x4741d9();while(!![]){try{var _0x58711c=parseInt(_0x5be668(0x209))/0x1*(parseInt(_0x5be668(0x1bf))/0x2)+-parseInt(_0x5be668(0x1be))/0x3*(-parseInt(_0x5be668(0x1a4))/0x4)+-parseInt(_0x5be668(0x1fd))/0x5*(parseInt(_0x5be668(0x1d1))/0x6)+parseInt(_0x5be668(0x1ae))/0x7+parseInt(_0x5be668(0x1b7))/0x8+-parseInt(_0x5be668(0x203))/0x9+parseInt(_0x5be668(0x18e))/0xa*(-parseInt(_0x5be668(0x20b))/0xb);if(_0x58711c===_0x2aa589)break;else _0x5070d7['push'](_0x5070d7['shift']());}catch(_0x4a1ef5){_0x5070d7['push'](_0x5070d7['shift']());}}}(a10_0x5da1,0xbebf8));const {exit}=require(a10_0x1b15b6(0x1d0)),{getEnabledCategories}=require(a10_0x1b15b6(0x1d5));var config=require(a10_0x1b15b6(0x1c3)),cvjs_debug=config[a10_0x1b15b6(0x1b2)],express=require(a10_0x1b15b6(0x1cd)),router=express[a10_0x1b15b6(0x1c0)](),crypto=require('crypto');const isGzip=require(a10_0x1b15b6(0x1d8));function a10_0x126d(_0x438251,_0x5b48ba){var _0x5da1d3=a10_0x5da1();return a10_0x126d=function(_0x126d10,_0x14beda){_0x126d10=_0x126d10-0x18c;var _0x5417a9=_0x5da1d3[_0x126d10];return _0x5417a9;},a10_0x126d(_0x438251,_0x5b48ba);}router[a10_0x1b15b6(0x1c2)](a10_0x1b15b6(0x1a6),function(_0x2a0315,_0x31b25a){var _0x377218=a10_0x1b15b6;if(config[_0x377218(0x1bd)]==!![]){_0x31b25a[_0x377218(0x204)](_0x377218(0x190),config[_0x377218(0x1b6)]);if(cvjs_debug)console[_0x377218(0x1e4)](_0x377218(0x1ee)+config['ServerFrontEndUrl']);}else{_0x31b25a['setHeader'](_0x377218(0x190),'*');if(cvjs_debug)console[_0x377218(0x1e4)]('Access-Control-Allow-Origin\x20:\x20*');}_0x31b25a[_0x377218(0x204)]('Access-Control-Allow-Methods',_0x377218(0x1b8)),_0x31b25a[_0x377218(0x204)](_0x377218(0x198),'X-Requested-With,content-type'),_0x31b25a['setHeader'](_0x377218(0x18d),!![]);var _0x255c8d=crypto[_0x377218(0x1eb)](0x10)['toString'](_0x377218(0x201)),_0x31212f=config[_0x377218(0x1e0)];_0x31212f=_0x31212f[_0x377218(0x19b)](_0x377218(0x1dd),_0x255c8d);if(config['ContentSecurityPolicyReportOnly'])_0x31b25a[_0x377218(0x204)](_0x377218(0x1d3),_0x31212f);else _0x31b25a['setHeader'](_0x377218(0x1db),_0x31212f);if(config[_0x377218(0x1b2)])console[_0x377218(0x1e4)](_0x377218(0x1a2));try{var _0x15474b=_0x2a0315[_0x377218(0x1a1)]['remainOnServer'],_0x71f183=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1f7)],_0x5b5303=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x206)],_0x3f1433=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x191)],_0x36672d=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x207)],_0xb509e4=config[_0x377218(0x199)]+_0x71f183+'.'+_0x5b5303,_0x48e3c5=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1b0)];if(config['cvjs_debug'])console[_0x377218(0x1e4)]('/loadfile:\x20'+_0xb509e4+_0x377218(0x19e)+_0x15474b+'\x20fileType='+_0x5b5303+_0x377218(0x1d7)+_0x3f1433+_0x377218(0x1d9)+_0x36672d);var _0x19671e=require('fs');if(_0x36672d==0x1){if(config['cvjs_debug'])console[_0x377218(0x1e4)]('/loadfile:\x20\x20A\x20pickOriginalFile:'+_0x36672d+_0x377218(0x200)+_0xb509e4);try{const _0x407c62=_0x19671e[_0x377218(0x1bb)](_0xb509e4);_0x31b25a[_0x377218(0x204)](_0x377218(0x1f6),_0x377218(0x1fc)),_0x31b25a[_0x377218(0x1b9)](_0x407c62),console[_0x377218(0x1e4)](_0x377218(0x1a9)+_0x407c62['length']);if(_0x15474b==0x0){if(config['cvjs_debug'])console[_0x377218(0x1e4)](_0x377218(0x1d6));_0x19671e[_0x377218(0x1c8)](_0xb509e4,function(_0x570124){var _0x510540=_0x377218;if(_0x570124)console['log']('ERROR:\x20app.get\x20'+_0x570124);else{if(config[_0x510540(0x1b2)])console[_0x510540(0x1e4)](_0x510540(0x1e9));}});}return;}catch(_0x2a378b){console['error'](_0x2a378b);return;}}if(_0x3f1433==0x1){if(config[_0x377218(0x1b2)])console['log']('/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile='+_0xb509e4);var _0x551517=Math[_0x377218(0x1de)](Math[_0x377218(0x1e2)]()*Math[_0x377218(0x1de)](0x5f5e100)),_0x25361d=_0x377218(0x1b5)+_0x551517+_0x377218(0x1c5),_0x5840a9=config[_0x377218(0x1b4)]+_0x25361d,_0x48cda8=config['ServerLocation']+_0x377218(0x1fb),_0x48720d=new Array(0xb);_0x48720d[0x0]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1c9)],_0x48720d[0x1]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1b1)],_0x48720d[0x2]=_0x2a0315['query'][_0x377218(0x1cf)],_0x48720d[0x3]=_0x2a0315['query'][_0x377218(0x1af)],_0x48720d[0x4]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x197)],_0x48720d[0x5]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1f9)],_0x48720d[0x6]=_0x2a0315[_0x377218(0x1a1)]['param_6'],_0x48720d[0x7]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1df)],_0x48720d[0x8]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x193)],_0x48720d[0x9]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1ad)],_0x48720d[0xa]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x20c)];var _0x3cbe34=new Array(0xb);_0x3cbe34[0x0]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x19a)],_0x3cbe34[0x1]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x195)],_0x3cbe34[0x2]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1ca)],_0x3cbe34[0x3]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1fe)],_0x3cbe34[0x4]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1dc)],_0x3cbe34[0x5]=_0x2a0315['query'][_0x377218(0x1c1)],_0x3cbe34[0x6]=_0x2a0315[_0x377218(0x1a1)]['value_6'],_0x3cbe34[0x7]=_0x2a0315[_0x377218(0x1a1)]['value_7'],_0x3cbe34[0x8]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x194)],_0x3cbe34[0x9]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1a7)],_0x3cbe34[0xa]=_0x2a0315[_0x377218(0x1a1)][_0x377218(0x1f4)];var _0x41aab4=_0x2a0315[_0x377218(0x1a1)]['contentLocation'];_0x19671e[_0x377218(0x1c6)](_0x48cda8,_0x5840a9,_0x2d6f0c=>{var _0x18daab=_0x377218;_0x2d6f0c?console[_0x18daab(0x1e4)](_0x18daab(0x192),_0x2d6f0c):_0x19671e[_0x18daab(0x208)](_0x5840a9,_0x18daab(0x1cc),function(_0x2966c9,_0x478118){var _0x3a503b=_0x18daab,_0x2c4bf2=_0x478118['toString']();_0x2c4bf2=_0x2c4bf2[_0x3a503b(0x19b)](_0x3a503b(0x1dd),_0x255c8d);var _0x46ffa5=_0x2c4bf2[_0x3a503b(0x1ce)](0x0,_0x2c4bf2[_0x3a503b(0x1b3)](_0x3a503b(0x1da))),_0xbddae4=_0x2c4bf2[_0x3a503b(0x1ce)](_0x2c4bf2[_0x3a503b(0x1b3)](_0x3a503b(0x1da))+0xe);config['cached_conversion']?_0x2c4bf2=_0x46ffa5+_0x41aab4+_0xbddae4:_0x2c4bf2=_0x46ffa5+config[_0x3a503b(0x1aa)]+'/'+_0x71f183+'.'+_0x5b5303+_0xbddae4;_0x46ffa5=_0x2c4bf2['substring'](0x0,_0x2c4bf2['indexOf'](_0x3a503b(0x1a8))),_0xbddae4=_0x2c4bf2[_0x3a503b(0x1ce)](_0x2c4bf2[_0x3a503b(0x1b3)](_0x3a503b(0x1a8))+0x13);var _0x3a7e1a='';if(config[_0x3a503b(0x202)]){_0x3a7e1a=config[_0x3a503b(0x1c4)];if(cvjs_debug)console['log'](_0x3a503b(0x205)+_0x3a7e1a);}else _0x3a7e1a=config['ServerUrl'],_0x3a7e1a[_0x3a503b(0x1b3)]('::1')>-0x1&&(_0x3a7e1a=_0x3a7e1a[_0x3a503b(0x19b)](_0x3a503b(0x1ea),_0x3a503b(0x196)));_0x2c4bf2=_0x46ffa5+_0x3a7e1a+'/'+_0xbddae4,_0x46ffa5=_0x2c4bf2[_0x3a503b(0x1ce)](0x0,_0x2c4bf2[_0x3a503b(0x1b3)](_0x3a503b(0x1e3))),_0xbddae4=_0x2c4bf2[_0x3a503b(0x1ce)](_0x2c4bf2['indexOf'](_0x3a503b(0x1e3))+0xf),_0x2c4bf2=_0x46ffa5+_0x3a7e1a+'/'+_0xbddae4,_0x46ffa5=_0x2c4bf2['substring'](0x0,_0x2c4bf2[_0x3a503b(0x1b3)]('INSERTCONVERSIONPARAMETERS')),_0xbddae4=_0x2c4bf2[_0x3a503b(0x1ce)](_0x2c4bf2[_0x3a503b(0x1b3)](_0x3a503b(0x19c))+0x1a);var _0x56fb3f='';for(var _0x164ccd=0x1;_0x164ccd<0xb;_0x164ccd++){_0x48720d[_0x164ccd]!=undefined&&(_0x3cbe34[_0x164ccd]!=undefined?_0x56fb3f=_0x56fb3f+'cvjs_conversion_addAXconversionParameter(\x22'+_0x48720d[_0x164ccd]+_0x3a503b(0x1e6)+_0x3cbe34[_0x164ccd]+'\x22);\x0a':_0x56fb3f=_0x56fb3f+_0x3a503b(0x1e1)+_0x48720d[_0x164ccd]+'\x22,\x22\x22);\x0a');}_0x2c4bf2=_0x46ffa5+_0x56fb3f+_0xbddae4,_0x46ffa5=_0x2c4bf2[_0x3a503b(0x1ce)](0x0,_0x2c4bf2['indexOf']('CURRETNLOADEDDRAWINGFULLNAME')),_0xbddae4=_0x2c4bf2[_0x3a503b(0x1ce)](_0x2c4bf2['indexOf'](_0x3a503b(0x1ac))+0x1c),_0x2c4bf2=_0x46ffa5+_0x3a503b(0x1c7)+_0x41aab4+'\x22;'+_0xbddae4,_0x19671e['open'](_0x5840a9,'w',function(_0xe32034,_0x267684){var _0x4eb4a4=_0x3a503b,_0x472237=Buffer['from'](_0x2c4bf2);_0x19671e[_0x4eb4a4(0x1ec)](_0x267684,_0x472237,0x0,_0x472237[_0x4eb4a4(0x19d)],null,function(_0x40f306){var _0xe0719a=_0x4eb4a4;if(_0x40f306){if(config[_0xe0719a(0x1b2)])console[_0xe0719a(0x1e4)](_0xe0719a(0x1f3)+_0x40f306);}else _0x19671e[_0xe0719a(0x1ff)](_0x267684,function(){var _0x561e3d=_0xe0719a;if(config[_0x561e3d(0x1b2)])console[_0x561e3d(0x1e4)]('file\x20written');_0x31b25a[_0x561e3d(0x1f8)](_0x5840a9);});});});});});}else{if(config['cvjs_debug'])console[_0x377218(0x1e4)](_0x377218(0x1ef)+_0xb509e4+_0x377218(0x20a)+_0x5b5303);if(_0x5b5303[_0x377218(0x1b3)](_0x377218(0x1a3))>-0x1&&config[_0x377218(0x1cb)]){if(config['cvjs_debug'])console[_0x377218(0x1e4)](_0x377218(0x1d2)+_0xb509e4+_0x377218(0x20a)+_0x5b5303);_0x19671e['readFile'](_0xb509e4,function(_0x12611c,_0x55aae9){var _0x14fd37=_0x377218;if(_0x12611c){_0x31b25a[_0x14fd37(0x1b9)](_0x14fd37(0x1ab)+_0x12611c);if(config[_0x14fd37(0x1b2)])console['log'](_0x12611c);}else{if(_0x36672d==0x1){if(config['cvjs_debug'])console[_0x14fd37(0x1e4)](_0x14fd37(0x1e8)+_0xb509e4);var _0xe66b23=require(_0x14fd37(0x18f));_0xe66b23[_0x14fd37(0x1ba)](_0x55aae9,{'chunkSize':0x10000},function(_0x162197,_0x4ea22f){var _0x196387=_0x14fd37,_0x2fee60=new Buffer(_0x4ea22f,_0x196387(0x19f));_0xe66b23[_0x196387(0x1ed)](_0x2fee60,function(_0x5bac0d,_0x59ea3f){var _0x1cd006=_0x196387;_0x31b25a[_0x1cd006(0x204)](_0x1cd006(0x1f6),_0x1cd006(0x1e5)),_0x31b25a[_0x1cd006(0x1b9)](_0x59ea3f);});});}else{if(config[_0x14fd37(0x1b2)])console[_0x14fd37(0x1e4)]('zlib\x20unzip\x20data:'+_0x55aae9[_0x14fd37(0x19d)]);if(isGzip(_0x55aae9)){if(config[_0x14fd37(0x1b2)])console[_0x14fd37(0x1e4)](_0x14fd37(0x1a0)+_0x55aae9['length']);try{var _0xe66b23=require('zlib');_0xe66b23['gunzip'](_0x55aae9,{'chunkSize':0x10000},function(_0x52f1f1,_0x2c5ad9){var _0x5b946b=_0x14fd37,_0x764221=new Buffer(_0x2c5ad9,_0x5b946b(0x19f));_0xe66b23[_0x5b946b(0x1ed)](_0x764221,function(_0x5e6abe,_0x227689){var _0x37e6a8=_0x5b946b;_0x31b25a[_0x37e6a8(0x204)](_0x37e6a8(0x1f6),_0x37e6a8(0x1f5)),_0x31b25a[_0x37e6a8(0x204)](_0x37e6a8(0x1a5),_0x37e6a8(0x1ed)),_0x31b25a[_0x37e6a8(0x1b9)](_0x227689);});});}catch(_0x9e89f){console[_0x14fd37(0x1e4)](_0x14fd37(0x1f0)+_0x9e89f);}}else{if(config[_0x14fd37(0x1b2)])console['log'](_0x14fd37(0x1fa)+_0x55aae9[_0x14fd37(0x19d)]);_0x5b5303[_0x14fd37(0x1b3)](_0x14fd37(0x1f1))==0x0&&(_0x36672d==0x1?_0x31b25a[_0x14fd37(0x204)](_0x14fd37(0x1f6),'image/jpeg'):_0x31b25a[_0x14fd37(0x204)](_0x14fd37(0x1f6),_0x14fd37(0x1f5)));_0x5b5303[_0x14fd37(0x1b3)](_0x14fd37(0x18c))==0x0?_0x31b25a[_0x14fd37(0x204)](_0x14fd37(0x1f6),_0x14fd37(0x1f2)):_0x31b25a[_0x14fd37(0x204)](_0x14fd37(0x1f6),_0x14fd37(0x1fc));if(_0x5b5303[_0x14fd37(0x1b3)](_0x14fd37(0x18c))==0x0){}_0x31b25a[_0x14fd37(0x1b9)](_0x55aae9);}if(_0x15474b==0x0){if(config['cvjs_debug'])console[_0x14fd37(0x1e4)](_0x14fd37(0x1d6));_0x19671e[_0x14fd37(0x1c8)](_0xb509e4,function(_0x1d9cf5){var _0x3caf07=_0x14fd37;if(_0x1d9cf5)console[_0x3caf07(0x1e4)](_0x3caf07(0x1d4)+_0x1d9cf5);else{if(config[_0x3caf07(0x1b2)])console[_0x3caf07(0x1e4)]('File\x20deleted!');}});}}}});}else{if(config[_0x377218(0x1b2)])console[_0x377218(0x1e4)](_0x377218(0x1e7)+_0xb509e4+_0x377218(0x20a)+_0x5b5303);_0x19671e['readFile'](_0xb509e4,_0x377218(0x1cc),function(_0x4dddac,_0x3d3723){var _0x38e1a8=_0x377218;_0x5b5303['indexOf'](_0x38e1a8(0x1f1))==0x0&&(_0x36672d==0x1?_0x31b25a[_0x38e1a8(0x204)]('Content-Type',_0x38e1a8(0x1e5)):_0x31b25a[_0x38e1a8(0x204)](_0x38e1a8(0x1f6),_0x38e1a8(0x1f5)));_0x5b5303['indexOf'](_0x38e1a8(0x18c))==0x0?_0x31b25a['setHeader']('Content-Type',_0x38e1a8(0x1f2)):_0x31b25a[_0x38e1a8(0x204)](_0x38e1a8(0x1f6),_0x38e1a8(0x1fc));if(_0x5b5303[_0x38e1a8(0x1b3)](_0x38e1a8(0x18c))==0x0){}_0x31b25a[_0x38e1a8(0x1b9)](_0x3d3723);if(_0x15474b==0x0){if(config[_0x38e1a8(0x1b2)])console[_0x38e1a8(0x1e4)](_0x38e1a8(0x1d6));_0x19671e[_0x38e1a8(0x1c8)](_0xb509e4,function(_0x4a83ec){var _0xb001be=_0x38e1a8;if(_0x4a83ec)console[_0xb001be(0x1e4)]('ERROR:\x20app.get\x20'+_0x4a83ec);else{if(config[_0xb001be(0x1b2)])console[_0xb001be(0x1e4)](_0xb001be(0x1e9));}});}});}}}catch(_0x538547){_0x31b25a[_0x377218(0x1b9)]('error\x20-\x20getCADViewerContent');if(config[_0x377218(0x1b2)])console['log'](_0x538547);}}),module[a10_0x1b15b6(0x1bc)]=router;