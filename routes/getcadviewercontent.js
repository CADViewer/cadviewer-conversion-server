var a10_0x19b28f=a10_0x2d4f;(function(_0x746905,_0x7c18a1){var _0x1a4baa=a10_0x2d4f,_0x1cbcb0=_0x746905();while(!![]){try{var _0x83ff3d=-parseInt(_0x1a4baa(0x10c))/0x1*(parseInt(_0x1a4baa(0xee))/0x2)+-parseInt(_0x1a4baa(0x155))/0x3+parseInt(_0x1a4baa(0x14e))/0x4*(-parseInt(_0x1a4baa(0x144))/0x5)+parseInt(_0x1a4baa(0x149))/0x6+-parseInt(_0x1a4baa(0x157))/0x7*(-parseInt(_0x1a4baa(0x14c))/0x8)+-parseInt(_0x1a4baa(0x15f))/0x9+parseInt(_0x1a4baa(0x15a))/0xa;if(_0x83ff3d===_0x7c18a1)break;else _0x1cbcb0['push'](_0x1cbcb0['shift']());}catch(_0x52ac71){_0x1cbcb0['push'](_0x1cbcb0['shift']());}}}(a10_0x2eb6,0x3cb82));const {exit}=require(a10_0x19b28f(0x116)),{getEnabledCategories}=require('trace_events');function a10_0x2eb6(){var _0x3b94ff=['value_10','ServerFrontEndUrl','pickOriginalFile','\x20TYPE=','length','first\x20in\x20/getcadviewercontent','fileLocationUrl','cvjs_conversion_addAXconversionParameter(\x22','.html','/html/CV','unlink','error\x20savefile:\x20','gunzip','json','value_7','X-Requested-With,content-type','value_6','param_2','Access-Control-Allow-Origin\x20:','/loadfile:\x20C\x20CONVERSION\x20RESPONSE:','Router','INSERTSERVERBACKEND','error\x20-\x20get\x20/app/*\x20','1pmZIny','setHeader','randomBytes','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','INSERTCONVERSIONPARAMETERS','Content-Security-Policy','query','localhost','ContentSecurityPolicy','\x20Remain\x20on\x20Server:\x20\x20','process','Error\x20Found:','value_9','param_6','indexOf','Type','utf8','callbackMethod_gatewayUrl','Access-Control-Allow-Headers','param_10','iscached','/loadfile:\x20\x20B\x20returnCADViewer\x20inputFile=','Access-Control-Allow-Methods','zlib','File\x20deleted!','/loadfile:\x20','random','close','/html/CADViewer_base_10_restresponse.html','send','::1','Content-Encoding','ServerUrl','/getcadviewercontent','value_4','param_5','value_0','cvjs_debug','param_0','readFile','crypto','base64','Access-Control-Allow-Origin','substring','cached_conversion','param_1','/loadfile:\x20\x20A\x20pickOriginalFile:','param_7','application/json','application/octet-stream','returnCadviewer','param_8','value_3','param_4','value_5','/loadfile:\x20D\x20plain\x20svg:','5HMRMwn','readFileSync','\x22,\x22\x22);\x0a','svg','/loadfile:\x20D\x20svgz\x20compression:','174546LiGMeO','\x22);\x0a','error','8DlIgjA','Content-Type','1561228VQsybF','gzip','exports','ServerFrontEndUrlAsAllowedOriginOnly','image/jpeg','cvjs_svgz_compress','We\x20have\x20to\x20clean\x20the\x20file!!!!!!','826080nLHMpb','INSERTNONCE','1262653ueedFV','pickOriginalFile\x20return\x20length=','\x22,\x22','11356190klDWiG','../CADViewer_config.json','ERROR:\x20app.get\x20','copyFile','floor','669069IuekRQ','\x20inputFile=','ContentSecurityPolicyReportOnly','INSERTSERVERURL','toString','value_1','value_8','URLFLAG:\x20serverbackend=','INSERTFILENAME','param_9','CURRETNLOADEDDRAWINGFULLNAME','image/svg+xml','fileTag','712750FCmNRk','\x20returnCadviewer=','is-gzip','replace','zlib\x20error:','utf-8','log'];a10_0x2eb6=function(){return _0x3b94ff;};return a10_0x2eb6();}var config=require(a10_0x19b28f(0x15b)),cvjs_debug=config[a10_0x19b28f(0x131)],express=require('express'),router=express[a10_0x19b28f(0x109)](),crypto=require(a10_0x19b28f(0x134));function a10_0x2d4f(_0x257f1d,_0x240bf1){var _0x2eb622=a10_0x2eb6();return a10_0x2d4f=function(_0x2d4f40,_0x38c457){_0x2d4f40=_0x2d4f40-0xe3;var _0x453e1b=_0x2eb622[_0x2d4f40];return _0x453e1b;},a10_0x2d4f(_0x257f1d,_0x240bf1);}const isGzip=require(a10_0x19b28f(0xf0));router['get'](a10_0x19b28f(0x12d),function(_0x5b70cf,_0x5ac59b){var _0x2b437e=a10_0x19b28f;if(config[_0x2b437e(0x151)]==!![]){_0x5ac59b[_0x2b437e(0x10d)](_0x2b437e(0x136),config[_0x2b437e(0xf6)]);if(cvjs_debug)console[_0x2b437e(0xf4)](_0x2b437e(0x107)+config['ServerFrontEndUrl']);}else{_0x5ac59b[_0x2b437e(0x10d)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:\x20*');}_0x5ac59b[_0x2b437e(0x10d)](_0x2b437e(0x122),_0x2b437e(0x10f)),_0x5ac59b[_0x2b437e(0x10d)](_0x2b437e(0x11e),_0x2b437e(0x104)),_0x5ac59b['setHeader']('Access-Control-Allow-Credentials',!![]);var _0x5bd872=crypto[_0x2b437e(0x10e)](0x10)[_0x2b437e(0xe5)](_0x2b437e(0x135)),_0x3b7a53=config[_0x2b437e(0x114)];_0x3b7a53=_0x3b7a53[_0x2b437e(0xf1)](_0x2b437e(0x156),_0x5bd872);if(config[_0x2b437e(0xe3)])_0x5ac59b['setHeader']('Content-Security-Policy-Report-Only',_0x3b7a53);else _0x5ac59b[_0x2b437e(0x10d)](_0x2b437e(0x111),_0x3b7a53);if(config[_0x2b437e(0x131)])console['log'](_0x2b437e(0xfa));try{var _0x59f66e=_0x5b70cf[_0x2b437e(0x112)]['remainOnServer'],_0x548fc1=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0xed)],_0x44c99a=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x11b)],_0x37c1d6=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x13e)],_0x30056e=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0xf7)],_0x288271=config['fileLocation']+_0x548fc1+'.'+_0x44c99a,_0x157138=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x120)];if(config[_0x2b437e(0x131)])console[_0x2b437e(0xf4)](_0x2b437e(0x125)+_0x288271+_0x2b437e(0x115)+_0x59f66e+'\x20fileType='+_0x44c99a+_0x2b437e(0xef)+_0x37c1d6+'\x20pickOriginalFile='+_0x30056e);var _0x3280ea=require('fs');if(_0x30056e==0x1){if(config[_0x2b437e(0x131)])console[_0x2b437e(0xf4)](_0x2b437e(0x13a)+_0x30056e+_0x2b437e(0x160)+_0x288271);try{const _0x372101=_0x3280ea[_0x2b437e(0x145)](_0x288271);_0x5ac59b[_0x2b437e(0x10d)](_0x2b437e(0x14d),_0x2b437e(0x13d)),_0x5ac59b['send'](_0x372101),console[_0x2b437e(0xf4)](_0x2b437e(0x158)+_0x372101['length']);if(_0x59f66e==0x0){if(config[_0x2b437e(0x131)])console['log']('We\x20have\x20to\x20clean\x20the\x20file!!!!!!');_0x3280ea['unlink'](_0x288271,function(_0x28377f){var _0x50063f=_0x2b437e;if(_0x28377f)console[_0x50063f(0xf4)](_0x50063f(0x15c)+_0x28377f);else{if(config[_0x50063f(0x131)])console[_0x50063f(0xf4)](_0x50063f(0x124));}});}return;}catch(_0x3cdc17){console[_0x2b437e(0x14b)](_0x3cdc17);return;}}if(_0x37c1d6==0x1){if(config[_0x2b437e(0x131)])console[_0x2b437e(0xf4)](_0x2b437e(0x121)+_0x288271);var _0x39d6dc=Math[_0x2b437e(0x15e)](Math[_0x2b437e(0x126)]()*Math[_0x2b437e(0x15e)](0x5f5e100)),_0x3075ff=_0x2b437e(0xfe)+_0x39d6dc+_0x2b437e(0xfd),_0x439f7d=config['ServerLocation']+_0x3075ff,_0x285e56=config['ServerLocation']+_0x2b437e(0x128),_0x4f7677=new Array(0xb);_0x4f7677[0x0]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x132)],_0x4f7677[0x1]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x139)],_0x4f7677[0x2]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x106)],_0x4f7677[0x3]=_0x5b70cf[_0x2b437e(0x112)]['param_3'],_0x4f7677[0x4]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x141)],_0x4f7677[0x5]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x12f)],_0x4f7677[0x6]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x119)],_0x4f7677[0x7]=_0x5b70cf['query'][_0x2b437e(0x13b)],_0x4f7677[0x8]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x13f)],_0x4f7677[0x9]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0xea)],_0x4f7677[0xa]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x11f)];var _0x3a597d=new Array(0xb);_0x3a597d[0x0]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x130)],_0x3a597d[0x1]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0xe6)],_0x3a597d[0x2]=_0x5b70cf[_0x2b437e(0x112)]['value_2'],_0x3a597d[0x3]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x140)],_0x3a597d[0x4]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x12e)],_0x3a597d[0x5]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x142)],_0x3a597d[0x6]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x105)],_0x3a597d[0x7]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x103)],_0x3a597d[0x8]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0xe7)],_0x3a597d[0x9]=_0x5b70cf[_0x2b437e(0x112)][_0x2b437e(0x118)],_0x3a597d[0xa]=_0x5b70cf['query'][_0x2b437e(0xf5)];var _0x444857=_0x5b70cf[_0x2b437e(0x112)]['contentLocation'];_0x3280ea[_0x2b437e(0x15d)](_0x285e56,_0x439f7d,_0x501dd0=>{var _0x460900=_0x2b437e;_0x501dd0?console[_0x460900(0xf4)](_0x460900(0x117),_0x501dd0):_0x3280ea[_0x460900(0x133)](_0x439f7d,_0x460900(0x11c),function(_0x303e6a,_0xf97086){var _0x2c97f4=_0x460900,_0x317d86=_0xf97086[_0x2c97f4(0xe5)]();_0x317d86=_0x317d86[_0x2c97f4(0xf1)](_0x2c97f4(0x156),_0x5bd872);var _0x15e898=_0x317d86[_0x2c97f4(0x137)](0x0,_0x317d86['indexOf'](_0x2c97f4(0xe9))),_0x1bc98a=_0x317d86[_0x2c97f4(0x137)](_0x317d86['indexOf'](_0x2c97f4(0xe9))+0xe);config[_0x2c97f4(0x138)]?_0x317d86=_0x15e898+_0x444857+_0x1bc98a:_0x317d86=_0x15e898+config[_0x2c97f4(0xfb)]+'/'+_0x548fc1+'.'+_0x44c99a+_0x1bc98a;_0x15e898=_0x317d86['substring'](0x0,_0x317d86['indexOf'](_0x2c97f4(0x10a))),_0x1bc98a=_0x317d86['substring'](_0x317d86[_0x2c97f4(0x11a)](_0x2c97f4(0x10a))+0x13);var _0x556aad='';if(config['callbackMethod_gatewayUrl_flag']){_0x556aad=config[_0x2c97f4(0x11d)];if(cvjs_debug)console[_0x2c97f4(0xf4)](_0x2c97f4(0xe8)+_0x556aad);}else _0x556aad=config[_0x2c97f4(0x12c)],_0x556aad[_0x2c97f4(0x11a)]('::1')>-0x1&&(_0x556aad=_0x556aad[_0x2c97f4(0xf1)](_0x2c97f4(0x12a),_0x2c97f4(0x113)));_0x317d86=_0x15e898+_0x556aad+'/'+_0x1bc98a,_0x15e898=_0x317d86[_0x2c97f4(0x137)](0x0,_0x317d86['indexOf'](_0x2c97f4(0xe4))),_0x1bc98a=_0x317d86[_0x2c97f4(0x137)](_0x317d86[_0x2c97f4(0x11a)]('INSERTSERVERURL')+0xf),_0x317d86=_0x15e898+_0x556aad+'/'+_0x1bc98a,_0x15e898=_0x317d86['substring'](0x0,_0x317d86['indexOf'](_0x2c97f4(0x110))),_0x1bc98a=_0x317d86[_0x2c97f4(0x137)](_0x317d86[_0x2c97f4(0x11a)](_0x2c97f4(0x110))+0x1a);var _0xbb229f='';for(var _0x36c77d=0x1;_0x36c77d<0xb;_0x36c77d++){_0x4f7677[_0x36c77d]!=undefined&&(_0x3a597d[_0x36c77d]!=undefined?_0xbb229f=_0xbb229f+'cvjs_conversion_addAXconversionParameter(\x22'+_0x4f7677[_0x36c77d]+_0x2c97f4(0x159)+_0x3a597d[_0x36c77d]+_0x2c97f4(0x14a):_0xbb229f=_0xbb229f+_0x2c97f4(0xfc)+_0x4f7677[_0x36c77d]+_0x2c97f4(0x146));}_0x317d86=_0x15e898+_0xbb229f+_0x1bc98a,_0x15e898=_0x317d86[_0x2c97f4(0x137)](0x0,_0x317d86[_0x2c97f4(0x11a)](_0x2c97f4(0xeb))),_0x1bc98a=_0x317d86[_0x2c97f4(0x137)](_0x317d86[_0x2c97f4(0x11a)](_0x2c97f4(0xeb))+0x1c),_0x317d86=_0x15e898+'currentLoadedDrawingFullName=\x22'+_0x444857+'\x22;'+_0x1bc98a,_0x3280ea['open'](_0x439f7d,'w',function(_0x41e463,_0x1ee394){var _0xdae280=Buffer['from'](_0x317d86);_0x3280ea['write'](_0x1ee394,_0xdae280,0x0,_0xdae280['length'],null,function(_0x17dabb){var _0x5b5ffb=a10_0x2d4f;if(_0x17dabb){if(config[_0x5b5ffb(0x131)])console['log'](_0x5b5ffb(0x100)+_0x17dabb);}else _0x3280ea[_0x5b5ffb(0x127)](_0x1ee394,function(){var _0xdaf942=_0x5b5ffb;if(config[_0xdaf942(0x131)])console[_0xdaf942(0xf4)]('file\x20written');_0x5ac59b['sendFile'](_0x439f7d);});});});});});}else{if(config[_0x2b437e(0x131)])console[_0x2b437e(0xf4)](_0x2b437e(0x108)+_0x288271+'\x20TYPE='+_0x44c99a);if(_0x44c99a['indexOf']('svgz')>-0x1&&config[_0x2b437e(0x153)]){if(config['cvjs_debug'])console[_0x2b437e(0xf4)](_0x2b437e(0x148)+_0x288271+_0x2b437e(0xf8)+_0x44c99a);_0x3280ea[_0x2b437e(0x133)](_0x288271,function(_0x2d9fea,_0x4c9b4c){var _0x8a4005=_0x2b437e;if(_0x2d9fea){_0x5ac59b[_0x8a4005(0x129)](_0x8a4005(0x10b)+_0x2d9fea);if(config['cvjs_debug'])console[_0x8a4005(0xf4)](_0x2d9fea);}else{if(_0x30056e==0x1){if(config[_0x8a4005(0x131)])console[_0x8a4005(0xf4)]('zlib\x20unzip\x20inputFile='+_0x288271);var _0x114ffe=require(_0x8a4005(0x123));_0x114ffe[_0x8a4005(0x101)](_0x4c9b4c,{'chunkSize':0x10000},function(_0x170602,_0x226a1e){var _0x260b7c=_0x8a4005,_0x13c332=new Buffer(_0x226a1e,'utf-8');_0x114ffe[_0x260b7c(0x14f)](_0x13c332,function(_0x1ae9b5,_0x455e04){var _0x522f9b=_0x260b7c;_0x5ac59b[_0x522f9b(0x10d)](_0x522f9b(0x14d),'image/jpeg'),_0x5ac59b[_0x522f9b(0x129)](_0x455e04);});});}else{if(config['cvjs_debug'])console[_0x8a4005(0xf4)]('zlib\x20unzip\x20data:'+_0x4c9b4c[_0x8a4005(0xf9)]);if(isGzip(_0x4c9b4c)){if(config[_0x8a4005(0x131)])console[_0x8a4005(0xf4)]('zlib\x20unzip\x20data\x20already\x20compressed:'+_0x4c9b4c[_0x8a4005(0xf9)]);try{var _0x114ffe=require('zlib');_0x114ffe[_0x8a4005(0x101)](_0x4c9b4c,{'chunkSize':0x10000},function(_0x466819,_0x403a07){var _0x32ad81=_0x8a4005,_0x562a35=new Buffer(_0x403a07,_0x32ad81(0xf3));_0x114ffe['gzip'](_0x562a35,function(_0x20fc73,_0x2a4722){var _0x171b77=_0x32ad81;_0x5ac59b[_0x171b77(0x10d)](_0x171b77(0x14d),_0x171b77(0xec)),_0x5ac59b['setHeader'](_0x171b77(0x12b),_0x171b77(0x14f)),_0x5ac59b['send'](_0x2a4722);});});}catch(_0x1f48e9){console[_0x8a4005(0xf4)](_0x8a4005(0xf2)+_0x1f48e9);}}else{if(config[_0x8a4005(0x131)])console['log']('zlib\x20unzip\x20data\x20not\x20compressed:'+_0x4c9b4c[_0x8a4005(0xf9)]);_0x44c99a[_0x8a4005(0x11a)](_0x8a4005(0x147))==0x0&&(_0x30056e==0x1?_0x5ac59b[_0x8a4005(0x10d)]('Content-Type','image/jpeg'):_0x5ac59b[_0x8a4005(0x10d)]('Content-Type',_0x8a4005(0xec)));_0x44c99a['indexOf'](_0x8a4005(0x102))==0x0?_0x5ac59b[_0x8a4005(0x10d)]('Content-Type',_0x8a4005(0x13c)):_0x5ac59b[_0x8a4005(0x10d)]('Content-Type',_0x8a4005(0x13d));if(_0x44c99a[_0x8a4005(0x11a)](_0x8a4005(0x102))==0x0){}_0x5ac59b['send'](_0x4c9b4c);}if(_0x59f66e==0x0){if(config[_0x8a4005(0x131)])console['log'](_0x8a4005(0x154));_0x3280ea[_0x8a4005(0xff)](_0x288271,function(_0x36175e){var _0x521f2e=_0x8a4005;if(_0x36175e)console[_0x521f2e(0xf4)](_0x521f2e(0x15c)+_0x36175e);else{if(config[_0x521f2e(0x131)])console[_0x521f2e(0xf4)](_0x521f2e(0x124));}});}}}});}else{if(config[_0x2b437e(0x131)])console[_0x2b437e(0xf4)](_0x2b437e(0x143)+_0x288271+_0x2b437e(0xf8)+_0x44c99a);_0x3280ea[_0x2b437e(0x133)](_0x288271,_0x2b437e(0x11c),function(_0x4a8464,_0xa60611){var _0x1f9cbc=_0x2b437e;_0x44c99a[_0x1f9cbc(0x11a)]('svg')==0x0&&(_0x30056e==0x1?_0x5ac59b['setHeader']('Content-Type',_0x1f9cbc(0x152)):_0x5ac59b['setHeader'](_0x1f9cbc(0x14d),'image/svg+xml'));_0x44c99a[_0x1f9cbc(0x11a)](_0x1f9cbc(0x102))==0x0?_0x5ac59b[_0x1f9cbc(0x10d)]('Content-Type','application/json'):_0x5ac59b['setHeader'](_0x1f9cbc(0x14d),_0x1f9cbc(0x13d));if(_0x44c99a[_0x1f9cbc(0x11a)]('json')==0x0){}_0x5ac59b[_0x1f9cbc(0x129)](_0xa60611);if(_0x59f66e==0x0){if(config[_0x1f9cbc(0x131)])console[_0x1f9cbc(0xf4)](_0x1f9cbc(0x154));_0x3280ea[_0x1f9cbc(0xff)](_0x288271,function(_0x17abe4){var _0x4c8f5c=_0x1f9cbc;if(_0x17abe4)console[_0x4c8f5c(0xf4)](_0x4c8f5c(0x15c)+_0x17abe4);else{if(config[_0x4c8f5c(0x131)])console['log']('File\x20deleted!');}});}});}}}catch(_0x498c86){_0x5ac59b['send']('error\x20-\x20getCADViewerContent');if(config[_0x2b437e(0x131)])console[_0x2b437e(0xf4)](_0x498c86);}}),module[a10_0x19b28f(0x150)]=router;