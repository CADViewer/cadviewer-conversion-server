const a29_0xca0bff=a29_0x3938;function a29_0x80af(){const _0x35f814=['exports','13548rbXSer','body','crypto','express','33ERnOGt','json','1841110wdZJys','/:id','UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','verifyToken','params','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','5082304mcPOxZ','Error!\x20Something\x20went\x20wrong.','get','2817270OuUDos','SELECT\x20*\x20FROM\x20`users`','1070757obTzqO','User\x20disabled\x20successfully','224490JAsiEe','status','log','135274bAnrXE','../libs/jwt','175kMYsTz','32zCxHhe','delete','execute','/:id/enable-disable','Role\x20changed\x20successfully','10jKpjVx','UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','promise'];a29_0x80af=function(){return _0x35f814;};return a29_0x80af();}(function(_0x229633,_0x3ea9e8){const _0x51e949=a29_0x3938,_0xa7e036=_0x229633();while(!![]){try{const _0x5af886=parseInt(_0x51e949(0x151))/0x1*(-parseInt(_0x51e949(0x137))/0x2)+-parseInt(_0x51e949(0x14e))/0x3*(-parseInt(_0x51e949(0x132))/0x4)+parseInt(_0x51e949(0x14a))/0x5+-parseInt(_0x51e949(0x13b))/0x6*(-parseInt(_0x51e949(0x131))/0x7)+-parseInt(_0x51e949(0x147))/0x8+-parseInt(_0x51e949(0x14c))/0x9+parseInt(_0x51e949(0x141))/0xa*(parseInt(_0x51e949(0x13f))/0xb);if(_0x5af886===_0x3ea9e8)break;else _0xa7e036['push'](_0xa7e036['shift']());}catch(_0x4fe5e4){_0xa7e036['push'](_0xa7e036['shift']());}}}(a29_0x80af,0x53116));const conn=require('../libs/mysql.js'),verifyToken=require(a29_0xca0bff(0x130))[a29_0xca0bff(0x144)],express=require(a29_0xca0bff(0x13e)),router=express['Router'](),{randomUUID}=require(a29_0xca0bff(0x13d));function a29_0x3938(_0x4d0f6d,_0x5b88b7){const _0x80afee=a29_0x80af();return a29_0x3938=function(_0x393858,_0x29fd3c){_0x393858=_0x393858-0x130;let _0x180ffb=_0x80afee[_0x393858];return _0x180ffb;},a29_0x3938(_0x4d0f6d,_0x5b88b7);}router[a29_0xca0bff(0x149)]('',verifyToken,async(_0x233504,_0x1e71d3,_0x5c0911)=>{const _0x3b1d7d=a29_0xca0bff;let _0x37e453;try{const [_0x1bee36]=await conn[_0x3b1d7d(0x139)]()['execute'](_0x3b1d7d(0x14b),[]);_0x37e453=_0x1bee36;}catch(_0x201ed2){console[_0x3b1d7d(0x150)]({'err':_0x201ed2}),_0x1e71d3['status'](0x1f4)[_0x3b1d7d(0x140)]({'error':_0x3b1d7d(0x148)});return;}_0x1e71d3[_0x3b1d7d(0x14f)](0xc8)[_0x3b1d7d(0x140)]({'success':!![],'data':_0x37e453});}),router['put']('/:id/change-role',verifyToken,async(_0x365204,_0x2233e7,_0x1a95f6)=>{const _0x4010e1=a29_0xca0bff,{id:_0x332ad9}=_0x365204[_0x4010e1(0x145)],{role:_0x1e5669}=_0x365204['body'];try{await conn[_0x4010e1(0x139)]()[_0x4010e1(0x134)](_0x4010e1(0x138),[_0x1e5669,_0x332ad9]);}catch(_0x140798){console[_0x4010e1(0x150)]({'err':_0x140798}),_0x2233e7['status'](0x1f4)[_0x4010e1(0x140)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x2233e7['status'](0xc8)['json']({'success':!![],'message':_0x4010e1(0x136)});}),router[a29_0xca0bff(0x133)](a29_0xca0bff(0x142),verifyToken,async(_0x216aae,_0x2bb51b,_0x52e2fa)=>{const _0x5abf01=a29_0xca0bff,{id:_0x20bf16}=_0x216aae[_0x5abf01(0x145)];try{await conn[_0x5abf01(0x139)]()[_0x5abf01(0x134)](_0x5abf01(0x146),[_0x20bf16]);}catch(_0x5efc61){console[_0x5abf01(0x150)]({'err':_0x5efc61}),_0x2bb51b[_0x5abf01(0x14f)](0x1f4)[_0x5abf01(0x140)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x2bb51b[_0x5abf01(0x14f)](0xc8)['json']({'success':!![],'message':'User\x20deleted\x20successfully'});}),router['put'](a29_0xca0bff(0x135),verifyToken,async(_0x100591,_0x4b5add,_0x19baa2)=>{const _0x1c7e06=a29_0xca0bff,{id:_0xb9dc1c}=_0x100591[_0x1c7e06(0x145)],{is_enabled:_0x24830c}=_0x100591[_0x1c7e06(0x13c)];try{await conn[_0x1c7e06(0x139)]()[_0x1c7e06(0x134)](_0x1c7e06(0x143),[_0x24830c,_0xb9dc1c]);}catch(_0x1d9ff2){console['log']({'err':_0x1d9ff2}),_0x4b5add[_0x1c7e06(0x14f)](0x1f4)[_0x1c7e06(0x140)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x4b5add[_0x1c7e06(0x14f)](0xc8)[_0x1c7e06(0x140)]({'success':!![],'message':_0x24830c?'User\x20enabled\x20successfully':_0x1c7e06(0x14d)});}),module[a29_0xca0bff(0x13a)]=router;