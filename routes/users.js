function a29_0x5c6f(){const _0x1dbb62=['params','180ITuwYk','Router','17951730cYUSGc','5TvzaHk','status','log','User\x20disabled\x20successfully','get','1091992zEdYcd','1668843nXyVOz','8939203mrOGko','/:id','execute','4823538jejmGg','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','put','10SpOAzt','84847sAAshq','/:id/change-role','Error!\x20Something\x20went\x20wrong.','11ehNEdq','437728bTBein','promise','crypto','exports','body','../libs/jwt','Role\x20changed\x20successfully','json'];a29_0x5c6f=function(){return _0x1dbb62;};return a29_0x5c6f();}const a29_0x17e4a2=a29_0xf9e1;(function(_0x27736a,_0x26f8ec){const _0x14c0dc=a29_0xf9e1,_0x432f95=_0x27736a();while(!![]){try{const _0x13d0f2=parseInt(_0x14c0dc(0xab))/0x1*(-parseInt(_0x14c0dc(0xaa))/0x2)+-parseInt(_0x14c0dc(0xa3))/0x3+-parseInt(_0x14c0dc(0xa2))/0x4*(-parseInt(_0x14c0dc(0x9d))/0x5)+parseInt(_0x14c0dc(0xa7))/0x6+parseInt(_0x14c0dc(0xa4))/0x7+parseInt(_0x14c0dc(0x91))/0x8*(parseInt(_0x14c0dc(0x9a))/0x9)+-parseInt(_0x14c0dc(0x9c))/0xa*(parseInt(_0x14c0dc(0x90))/0xb);if(_0x13d0f2===_0x26f8ec)break;else _0x432f95['push'](_0x432f95['shift']());}catch(_0x51099c){_0x432f95['push'](_0x432f95['shift']());}}}(a29_0x5c6f,0xa4345));const conn=require('../libs/mysql.js'),verifyToken=require(a29_0x17e4a2(0x96))['verifyToken'],express=require('express'),router=express[a29_0x17e4a2(0x9b)](),{randomUUID}=require(a29_0x17e4a2(0x93));function a29_0xf9e1(_0x13883a,_0x5a237e){const _0x5c6fcc=a29_0x5c6f();return a29_0xf9e1=function(_0xf9e18f,_0x1b5896){_0xf9e18f=_0xf9e18f-0x90;let _0x40ffd6=_0x5c6fcc[_0xf9e18f];return _0x40ffd6;},a29_0xf9e1(_0x13883a,_0x5a237e);}router[a29_0x17e4a2(0xa1)]('',verifyToken,async(_0x10c93e,_0x33d788,_0x3b0f34)=>{const _0x4206f7=a29_0x17e4a2;let _0x37efe5;try{const [_0xdf202a]=await conn[_0x4206f7(0x92)]()[_0x4206f7(0xa6)]('SELECT\x20*\x20FROM\x20`users`',[]);_0x37efe5=_0xdf202a;}catch(_0xd9c727){console[_0x4206f7(0x9f)]({'err':_0xd9c727}),_0x33d788[_0x4206f7(0x9e)](0x1f4)[_0x4206f7(0x98)]({'error':_0x4206f7(0xad)});return;}_0x33d788['status'](0xc8)[_0x4206f7(0x98)]({'success':!![],'data':_0x37efe5});}),router[a29_0x17e4a2(0xa9)](a29_0x17e4a2(0xac),verifyToken,async(_0x1ece35,_0x4fe075,_0x483240)=>{const _0x3daeb9=a29_0x17e4a2,{id:_0x5c4781}=_0x1ece35['params'],{role:_0xdfe2bb}=_0x1ece35[_0x3daeb9(0x95)];try{await conn[_0x3daeb9(0x92)]()['execute']('UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0xdfe2bb,_0x5c4781]);}catch(_0x68e619){console[_0x3daeb9(0x9f)]({'err':_0x68e619}),_0x4fe075[_0x3daeb9(0x9e)](0x1f4)['json']({'error':_0x3daeb9(0xad)});return;}_0x4fe075[_0x3daeb9(0x9e)](0xc8)[_0x3daeb9(0x98)]({'success':!![],'message':_0x3daeb9(0x97)});}),router['delete'](a29_0x17e4a2(0xa5),verifyToken,async(_0x3fe451,_0x502198,_0xbf9c25)=>{const _0x168024=a29_0x17e4a2,{id:_0xf214bc}=_0x3fe451[_0x168024(0x99)];try{await conn[_0x168024(0x92)]()[_0x168024(0xa6)](_0x168024(0xa8),[_0xf214bc]);}catch(_0x55c2ef){console[_0x168024(0x9f)]({'err':_0x55c2ef}),_0x502198[_0x168024(0x9e)](0x1f4)[_0x168024(0x98)]({'error':_0x168024(0xad)});return;}_0x502198[_0x168024(0x9e)](0xc8)[_0x168024(0x98)]({'success':!![],'message':'User\x20deleted\x20successfully'});}),router[a29_0x17e4a2(0xa9)]('/:id/enable-disable',verifyToken,async(_0x56b730,_0x3fc566,_0x3b2866)=>{const _0xa4b736=a29_0x17e4a2,{id:_0x45484d}=_0x56b730[_0xa4b736(0x99)],{is_enabled:_0x4ed01e}=_0x56b730[_0xa4b736(0x95)];try{await conn[_0xa4b736(0x92)]()[_0xa4b736(0xa6)]('UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x4ed01e,_0x45484d]);}catch(_0x3f99f4){console['log']({'err':_0x3f99f4}),_0x3fc566['status'](0x1f4)[_0xa4b736(0x98)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x3fc566['status'](0xc8)['json']({'success':!![],'message':_0x4ed01e?'User\x20enabled\x20successfully':_0xa4b736(0xa0)});}),module[a29_0x17e4a2(0x94)]=router;