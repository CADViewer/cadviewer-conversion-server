const a29_0x39855c=a29_0x1037;(function(_0x1291f4,_0x3e4fcf){const _0x54fb99=a29_0x1037,_0xdf784b=_0x1291f4();while(!![]){try{const _0x1d83fe=-parseInt(_0x54fb99(0xef))/0x1+-parseInt(_0x54fb99(0xe8))/0x2*(-parseInt(_0x54fb99(0xe3))/0x3)+-parseInt(_0x54fb99(0xf6))/0x4*(-parseInt(_0x54fb99(0xf4))/0x5)+-parseInt(_0x54fb99(0x101))/0x6+parseInt(_0x54fb99(0xe5))/0x7+-parseInt(_0x54fb99(0xf5))/0x8*(-parseInt(_0x54fb99(0xea))/0x9)+-parseInt(_0x54fb99(0xeb))/0xa*(parseInt(_0x54fb99(0xfd))/0xb);if(_0x1d83fe===_0x3e4fcf)break;else _0xdf784b['push'](_0xdf784b['shift']());}catch(_0x4d923c){_0xdf784b['push'](_0xdf784b['shift']());}}}(a29_0x103a,0x9452e));const conn=require(a29_0x39855c(0xf8)),verifyToken=require('../libs/jwt')['verifyToken'],express=require('express'),router=express[a29_0x39855c(0xf2)](),{randomUUID}=require(a29_0x39855c(0xf3));function a29_0x1037(_0x1fc8c1,_0x2a6d19){const _0x103a98=a29_0x103a();return a29_0x1037=function(_0x10379b,_0x39b355){_0x10379b=_0x10379b-0xe2;let _0x23dd47=_0x103a98[_0x10379b];return _0x23dd47;},a29_0x1037(_0x1fc8c1,_0x2a6d19);}function a29_0x103a(){const _0x52749d=['body','637569BQNBgs','execute','json','Router','crypto','200345ccPsLs','7741384QiaBfE','72FrrnKM','params','../libs/mysql.js','log','User\x20enabled\x20successfully','exports','Error!\x20Something\x20went\x20wrong.','18899892HHlOuq','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','get','533544KzBhMP','status','3SmxxeY','delete','6778821FtvKTM','Role\x20changed\x20successfully','User\x20deleted\x20successfully','789762DxfiEk','promise','9RpTTTj','10vccILg','/:id','put'];a29_0x103a=function(){return _0x52749d;};return a29_0x103a();}router[a29_0x39855c(0x100)]('',verifyToken,async(_0x544773,_0x52523f,_0x2f7424)=>{const _0x199ca2=a29_0x39855c;let _0x39b00a;try{const [_0x1b0c00]=await conn[_0x199ca2(0xe9)]()[_0x199ca2(0xf0)]('SELECT\x20*\x20FROM\x20`users`',[]);_0x39b00a=_0x1b0c00;}catch(_0xb47c1e){console[_0x199ca2(0xf9)]({'err':_0xb47c1e}),_0x52523f[_0x199ca2(0xe2)](0x1f4)[_0x199ca2(0xf1)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x52523f[_0x199ca2(0xe2)](0xc8)[_0x199ca2(0xf1)]({'success':!![],'data':_0x39b00a});}),router[a29_0x39855c(0xed)]('/:id/change-role',verifyToken,async(_0x43bf05,_0x43ac8b,_0x49cf6f)=>{const _0x57fcc9=a29_0x39855c,{id:_0x12cf0a}=_0x43bf05[_0x57fcc9(0xf7)],{role:_0x1fc0db}=_0x43bf05[_0x57fcc9(0xee)];try{await conn[_0x57fcc9(0xe9)]()[_0x57fcc9(0xf0)]('UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x1fc0db,_0x12cf0a]);}catch(_0x2084db){console[_0x57fcc9(0xf9)]({'err':_0x2084db}),_0x43ac8b[_0x57fcc9(0xe2)](0x1f4)[_0x57fcc9(0xf1)]({'error':_0x57fcc9(0xfc)});return;}_0x43ac8b[_0x57fcc9(0xe2)](0xc8)[_0x57fcc9(0xf1)]({'success':!![],'message':_0x57fcc9(0xe6)});}),router[a29_0x39855c(0xe4)](a29_0x39855c(0xec),verifyToken,async(_0x30a3c0,_0x55075d,_0x30feec)=>{const _0x4a96b6=a29_0x39855c,{id:_0x3504a3}=_0x30a3c0[_0x4a96b6(0xf7)];try{await conn[_0x4a96b6(0xe9)]()[_0x4a96b6(0xf0)](_0x4a96b6(0xfe),[_0x3504a3]);}catch(_0x4c9df6){console['log']({'err':_0x4c9df6}),_0x55075d[_0x4a96b6(0xe2)](0x1f4)[_0x4a96b6(0xf1)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x55075d[_0x4a96b6(0xe2)](0xc8)[_0x4a96b6(0xf1)]({'success':!![],'message':_0x4a96b6(0xe7)});}),router[a29_0x39855c(0xed)]('/:id/enable-disable',verifyToken,async(_0x2c2e00,_0x568063,_0x33f81b)=>{const _0x530183=a29_0x39855c,{id:_0x126c18}=_0x2c2e00['params'],{is_enabled:_0x52efd7}=_0x2c2e00[_0x530183(0xee)];try{await conn[_0x530183(0xe9)]()[_0x530183(0xf0)](_0x530183(0xff),[_0x52efd7,_0x126c18]);}catch(_0x383896){console[_0x530183(0xf9)]({'err':_0x383896}),_0x568063[_0x530183(0xe2)](0x1f4)[_0x530183(0xf1)]({'error':_0x530183(0xfc)});return;}_0x568063[_0x530183(0xe2)](0xc8)[_0x530183(0xf1)]({'success':!![],'message':_0x52efd7?_0x530183(0xfa):'User\x20disabled\x20successfully'});}),module[a29_0x39855c(0xfb)]=router;