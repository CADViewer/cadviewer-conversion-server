const a29_0x4bd24a=a29_0x1c9c;function a29_0x1c9c(_0x4fd65b,_0x2aa792){const _0x8f92ca=a29_0x8f92();return a29_0x1c9c=function(_0x1c9c07,_0x34c4b4){_0x1c9c07=_0x1c9c07-0x1b9;let _0x1a0934=_0x8f92ca[_0x1c9c07];return _0x1a0934;},a29_0x1c9c(_0x4fd65b,_0x2aa792);}(function(_0x51cbae,_0x1ff38b){const _0x1ff200=a29_0x1c9c,_0x455d97=_0x51cbae();while(!![]){try{const _0x54ad3f=-parseInt(_0x1ff200(0x1c5))/0x1*(-parseInt(_0x1ff200(0x1bd))/0x2)+parseInt(_0x1ff200(0x1ca))/0x3+-parseInt(_0x1ff200(0x1b9))/0x4*(-parseInt(_0x1ff200(0x1ba))/0x5)+parseInt(_0x1ff200(0x1cc))/0x6+-parseInt(_0x1ff200(0x1bb))/0x7*(-parseInt(_0x1ff200(0x1d1))/0x8)+parseInt(_0x1ff200(0x1d5))/0x9*(parseInt(_0x1ff200(0x1c2))/0xa)+-parseInt(_0x1ff200(0x1d9))/0xb;if(_0x54ad3f===_0x1ff38b)break;else _0x455d97['push'](_0x455d97['shift']());}catch(_0x5262a5){_0x455d97['push'](_0x455d97['shift']());}}}(a29_0x8f92,0xc125a));function a29_0x8f92(){const _0x55f10b=['crypto','Router','1uIhbnm','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','User\x20deleted\x20successfully','log','body','2757615zBfLFC','SELECT\x20*\x20FROM\x20`users`','2720970zkxQWa','../libs/jwt','User\x20disabled\x20successfully','get','exports','56tOdxVl','Error!\x20Something\x20went\x20wrong.','execute','delete','9BnTSLg','json','params','Role\x20changed\x20successfully','22458546fbEtgJ','3359456IUekgZ','5HGNtLP','69601xjszqr','promise','271364qtTUnZ','../libs/mysql.js','/:id/change-role','status','put','4149690BAuScf'];a29_0x8f92=function(){return _0x55f10b;};return a29_0x8f92();}const conn=require(a29_0x4bd24a(0x1be)),verifyToken=require(a29_0x4bd24a(0x1cd))['verifyToken'],express=require('express'),router=express[a29_0x4bd24a(0x1c4)](),{randomUUID}=require(a29_0x4bd24a(0x1c3));router[a29_0x4bd24a(0x1cf)]('',verifyToken,async(_0xc4c4ff,_0xa1e0c3,_0x13e5c9)=>{const _0x24f0e9=a29_0x4bd24a;let _0x28ddbe;try{const [_0x3cc581]=await conn['promise']()['execute'](_0x24f0e9(0x1cb),[]);_0x28ddbe=_0x3cc581;}catch(_0x45d87f){console[_0x24f0e9(0x1c8)]({'err':_0x45d87f}),_0xa1e0c3[_0x24f0e9(0x1c0)](0x1f4)[_0x24f0e9(0x1d6)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0xa1e0c3[_0x24f0e9(0x1c0)](0xc8)['json']({'success':!![],'data':_0x28ddbe});}),router[a29_0x4bd24a(0x1c1)](a29_0x4bd24a(0x1bf),verifyToken,async(_0x312ebb,_0x1ee43e,_0x5cdddf)=>{const _0x441058=a29_0x4bd24a,{id:_0x14e494}=_0x312ebb[_0x441058(0x1d7)],{role:_0x4abe99}=_0x312ebb[_0x441058(0x1c9)];try{await conn[_0x441058(0x1bc)]()[_0x441058(0x1d3)]('UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x4abe99,_0x14e494]);}catch(_0x52f115){console[_0x441058(0x1c8)]({'err':_0x52f115}),_0x1ee43e[_0x441058(0x1c0)](0x1f4)[_0x441058(0x1d6)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x1ee43e['status'](0xc8)['json']({'success':!![],'message':_0x441058(0x1d8)});}),router[a29_0x4bd24a(0x1d4)]('/:id',verifyToken,async(_0x22f9fa,_0x40e6fc,_0x57929c)=>{const _0x1d7711=a29_0x4bd24a,{id:_0x566db9}=_0x22f9fa[_0x1d7711(0x1d7)];try{await conn[_0x1d7711(0x1bc)]()[_0x1d7711(0x1d3)](_0x1d7711(0x1c6),[_0x566db9]);}catch(_0x129002){console[_0x1d7711(0x1c8)]({'err':_0x129002}),_0x40e6fc[_0x1d7711(0x1c0)](0x1f4)[_0x1d7711(0x1d6)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x40e6fc[_0x1d7711(0x1c0)](0xc8)[_0x1d7711(0x1d6)]({'success':!![],'message':_0x1d7711(0x1c7)});}),router[a29_0x4bd24a(0x1c1)]('/:id/enable-disable',verifyToken,async(_0x2b8956,_0x1926dc,_0x16a3db)=>{const _0x8c96e5=a29_0x4bd24a,{id:_0xed3f13}=_0x2b8956[_0x8c96e5(0x1d7)],{is_enabled:_0x491640}=_0x2b8956['body'];try{await conn[_0x8c96e5(0x1bc)]()['execute']('UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x491640,_0xed3f13]);}catch(_0xd400c9){console[_0x8c96e5(0x1c8)]({'err':_0xd400c9}),_0x1926dc['status'](0x1f4)['json']({'error':_0x8c96e5(0x1d2)});return;}_0x1926dc[_0x8c96e5(0x1c0)](0xc8)[_0x8c96e5(0x1d6)]({'success':!![],'message':_0x491640?'User\x20enabled\x20successfully':_0x8c96e5(0x1ce)});}),module[a29_0x4bd24a(0x1d0)]=router;