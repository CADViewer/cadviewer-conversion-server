const a30_0x780940=a30_0x3c05;function a30_0x1beb(){const _0x5eef12=['status','verifyToken','135332FXPWDd','exports','331206ukIsDq','log','promise','body','get','User\x20enabled\x20successfully','../libs/mysql.js','execute','delete','json','../libs/jwt','2220945EOVWsq','/:id/change-role','Error!\x20Something\x20went\x20wrong.','4221654PqIHQG','4099080DPnijJ','Router','494816kFJnYa','params','1rUGtlW','UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','User\x20disabled\x20successfully','1642067xFQVvM','/:id','crypto'];a30_0x1beb=function(){return _0x5eef12;};return a30_0x1beb();}(function(_0x233c76,_0x59fda4){const _0x2462bf=a30_0x3c05,_0x1ac9c4=_0x233c76();while(!![]){try{const _0x32afd3=parseInt(_0x2462bf(0x142))/0x1*(parseInt(_0x2462bf(0x14c))/0x2)+parseInt(_0x2462bf(0x13a))/0x3+parseInt(_0x2462bf(0x14a))/0x4+-parseInt(_0x2462bf(0x13e))/0x5+parseInt(_0x2462bf(0x13d))/0x6+-parseInt(_0x2462bf(0x145))/0x7+-parseInt(_0x2462bf(0x140))/0x8;if(_0x32afd3===_0x59fda4)break;else _0x1ac9c4['push'](_0x1ac9c4['shift']());}catch(_0xae5ab8){_0x1ac9c4['push'](_0x1ac9c4['shift']());}}}(a30_0x1beb,0x80b07));function a30_0x3c05(_0x3d6649,_0x4d200d){const _0x1beb00=a30_0x1beb();return a30_0x3c05=function(_0x3c056e,_0x3803b8){_0x3c056e=_0x3c056e-0x132;let _0x501d5a=_0x1beb00[_0x3c056e];return _0x501d5a;},a30_0x3c05(_0x3d6649,_0x4d200d);}const conn=require(a30_0x780940(0x135)),verifyToken=require(a30_0x780940(0x139))[a30_0x780940(0x149)],express=require('express'),router=express[a30_0x780940(0x13f)](),{randomUUID}=require(a30_0x780940(0x147));router[a30_0x780940(0x133)]('',verifyToken,async(_0x36459e,_0x42eb15,_0x530f18)=>{const _0x3f2d23=a30_0x780940;let _0x3342db;try{const [_0x4a0836]=await conn[_0x3f2d23(0x14e)]()[_0x3f2d23(0x136)]('SELECT\x20*\x20FROM\x20`users`',[]);_0x3342db=_0x4a0836;}catch(_0x2fe841){console['log']({'err':_0x2fe841}),_0x42eb15[_0x3f2d23(0x148)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x42eb15['status'](0xc8)[_0x3f2d23(0x138)]({'success':!![],'data':_0x3342db});}),router['put'](a30_0x780940(0x13b),verifyToken,async(_0x5b82da,_0x39ac89,_0x5e348b)=>{const _0x49543e=a30_0x780940,{id:_0x572d9d}=_0x5b82da[_0x49543e(0x141)],{role:_0x500907}=_0x5b82da[_0x49543e(0x132)];try{await conn[_0x49543e(0x14e)]()[_0x49543e(0x136)](_0x49543e(0x143),[_0x500907,_0x572d9d]);}catch(_0x1c66c0){console[_0x49543e(0x14d)]({'err':_0x1c66c0}),_0x39ac89[_0x49543e(0x148)](0x1f4)[_0x49543e(0x138)]({'error':_0x49543e(0x13c)});return;}_0x39ac89[_0x49543e(0x148)](0xc8)[_0x49543e(0x138)]({'success':!![],'message':'Role\x20changed\x20successfully'});}),router[a30_0x780940(0x137)](a30_0x780940(0x146),verifyToken,async(_0x493284,_0x4851b9,_0x5d8a14)=>{const _0x4e192a=a30_0x780940,{id:_0x3bfdf0}=_0x493284[_0x4e192a(0x141)];try{await conn['promise']()[_0x4e192a(0x136)]('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x3bfdf0]);}catch(_0xc17357){console[_0x4e192a(0x14d)]({'err':_0xc17357}),_0x4851b9[_0x4e192a(0x148)](0x1f4)[_0x4e192a(0x138)]({'error':_0x4e192a(0x13c)});return;}_0x4851b9['status'](0xc8)[_0x4e192a(0x138)]({'success':!![],'message':'User\x20deleted\x20successfully'});}),router['put']('/:id/enable-disable',verifyToken,async(_0x26b2c0,_0x1fedbb,_0x2cd99a)=>{const _0x23da54=a30_0x780940,{id:_0x47ee39}=_0x26b2c0[_0x23da54(0x141)],{is_enabled:_0x6cfb2e}=_0x26b2c0[_0x23da54(0x132)];try{await conn[_0x23da54(0x14e)]()[_0x23da54(0x136)]('UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x6cfb2e,_0x47ee39]);}catch(_0x42da54){console[_0x23da54(0x14d)]({'err':_0x42da54}),_0x1fedbb[_0x23da54(0x148)](0x1f4)[_0x23da54(0x138)]({'error':_0x23da54(0x13c)});return;}_0x1fedbb[_0x23da54(0x148)](0xc8)['json']({'success':!![],'message':_0x6cfb2e?_0x23da54(0x134):_0x23da54(0x144)});}),module[a30_0x780940(0x14b)]=router;