const a29_0xfc1ec7=a29_0x8481;(function(_0x348011,_0x1e6417){const _0x1d6324=a29_0x8481,_0x4c90e7=_0x348011();while(!![]){try{const _0x3247b9=parseInt(_0x1d6324(0x9f))/0x1+-parseInt(_0x1d6324(0xa6))/0x2+parseInt(_0x1d6324(0x9d))/0x3*(-parseInt(_0x1d6324(0xa9))/0x4)+-parseInt(_0x1d6324(0xa2))/0x5+parseInt(_0x1d6324(0x9c))/0x6+parseInt(_0x1d6324(0xa4))/0x7+parseInt(_0x1d6324(0xa7))/0x8;if(_0x3247b9===_0x1e6417)break;else _0x4c90e7['push'](_0x4c90e7['shift']());}catch(_0x464af4){_0x4c90e7['push'](_0x4c90e7['shift']());}}}(a29_0x4d41,0x59c31));function a29_0x8481(_0x1b0a25,_0x39e32a){const _0x4d41ff=a29_0x4d41();return a29_0x8481=function(_0x8481f3,_0x45754d){_0x8481f3=_0x8481f3-0x95;let _0x1981b5=_0x4d41ff[_0x8481f3];return _0x1981b5;},a29_0x8481(_0x1b0a25,_0x39e32a);}const conn=require('../libs/mysql.js'),verifyToken=require(a29_0xfc1ec7(0x97))[a29_0xfc1ec7(0xb2)],express=require('express'),router=express['Router'](),{randomUUID}=require(a29_0xfc1ec7(0x9e));router[a29_0xfc1ec7(0x99)]('',verifyToken,async(_0x3e4fe1,_0x55698e,_0x245d39)=>{const _0x34191d=a29_0xfc1ec7;let _0x437819;try{const [_0x45bc28]=await conn[_0x34191d(0xa5)]()[_0x34191d(0xaa)](_0x34191d(0xb1),[]);_0x437819=_0x45bc28;}catch(_0x177a69){console[_0x34191d(0x98)]({'err':_0x177a69}),_0x55698e[_0x34191d(0x9b)](0x1f4)['json']({'error':_0x34191d(0xa0)});return;}_0x55698e[_0x34191d(0x9b)](0xc8)['json']({'success':!![],'data':_0x437819});}),router[a29_0xfc1ec7(0x9a)](a29_0xfc1ec7(0xa3),verifyToken,async(_0x2dd16e,_0x4bd4b4,_0x3391c2)=>{const _0x1c272f=a29_0xfc1ec7,{id:_0x1ef886}=_0x2dd16e[_0x1c272f(0xad)],{role:_0x1b791d}=_0x2dd16e['body'];try{await conn[_0x1c272f(0xa5)]()['execute']('UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x1b791d,_0x1ef886]);}catch(_0x140271){console['log']({'err':_0x140271}),_0x4bd4b4[_0x1c272f(0x9b)](0x1f4)[_0x1c272f(0x95)]({'error':_0x1c272f(0xa0)});return;}_0x4bd4b4['status'](0xc8)[_0x1c272f(0x95)]({'success':!![],'message':'Role\x20changed\x20successfully'});}),router[a29_0xfc1ec7(0xb0)]('/:id',verifyToken,async(_0x170b3d,_0x28582f,_0x343da3)=>{const _0x20593e=a29_0xfc1ec7,{id:_0x3a8086}=_0x170b3d[_0x20593e(0xad)];try{await conn[_0x20593e(0xa5)]()[_0x20593e(0xaa)](_0x20593e(0xa1),[_0x3a8086]);}catch(_0x2040e2){console[_0x20593e(0x98)]({'err':_0x2040e2}),_0x28582f[_0x20593e(0x9b)](0x1f4)[_0x20593e(0x95)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x28582f['status'](0xc8)[_0x20593e(0x95)]({'success':!![],'message':'User\x20deleted\x20successfully'});}),router[a29_0xfc1ec7(0x9a)](a29_0xfc1ec7(0xaf),verifyToken,async(_0x185e06,_0x363d94,_0x20c5a0)=>{const _0x28093a=a29_0xfc1ec7,{id:_0x539027}=_0x185e06['params'],{is_enabled:_0x46d147}=_0x185e06[_0x28093a(0xae)];try{await conn[_0x28093a(0xa5)]()[_0x28093a(0xaa)](_0x28093a(0xac),[_0x46d147,_0x539027]);}catch(_0x522ba7){console[_0x28093a(0x98)]({'err':_0x522ba7}),_0x363d94[_0x28093a(0x9b)](0x1f4)[_0x28093a(0x95)]({'error':_0x28093a(0xa0)});return;}_0x363d94[_0x28093a(0x9b)](0xc8)[_0x28093a(0x95)]({'success':!![],'message':_0x46d147?_0x28093a(0x96):_0x28093a(0xab)});}),module[a29_0xfc1ec7(0xa8)]=router;function a29_0x4d41(){const _0x322049=['promise','994990tFjTel','6485600OaFfbQ','exports','11456HDEJTk','execute','User\x20disabled\x20successfully','UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','params','body','/:id/enable-disable','delete','SELECT\x20*\x20FROM\x20`users`','verifyToken','json','User\x20enabled\x20successfully','../libs/jwt','log','get','put','status','2397024khWXoj','291gXfZbJ','crypto','21426qFyLXc','Error!\x20Something\x20went\x20wrong.','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','2706525gsPuhJ','/:id/change-role','3168501VsbGaP'];a29_0x4d41=function(){return _0x322049;};return a29_0x4d41();}