const a29_0x46b837=a29_0x2b50;function a29_0x2b50(_0x108a83,_0x4454f8){const _0x4979ff=a29_0x4979();return a29_0x2b50=function(_0x2b503b,_0xf29395){_0x2b503b=_0x2b503b-0xfd;let _0x48c694=_0x4979ff[_0x2b503b];return _0x48c694;},a29_0x2b50(_0x108a83,_0x4454f8);}(function(_0x57defd,_0x401f20){const _0x40bd7e=a29_0x2b50,_0x28b6eb=_0x57defd();while(!![]){try{const _0x479542=-parseInt(_0x40bd7e(0x113))/0x1*(parseInt(_0x40bd7e(0x118))/0x2)+parseInt(_0x40bd7e(0xff))/0x3+parseInt(_0x40bd7e(0x114))/0x4+parseInt(_0x40bd7e(0x10e))/0x5+parseInt(_0x40bd7e(0x109))/0x6*(parseInt(_0x40bd7e(0x11a))/0x7)+-parseInt(_0x40bd7e(0x103))/0x8*(-parseInt(_0x40bd7e(0x107))/0x9)+-parseInt(_0x40bd7e(0xfd))/0xa;if(_0x479542===_0x401f20)break;else _0x28b6eb['push'](_0x28b6eb['shift']());}catch(_0x1c552e){_0x28b6eb['push'](_0x28b6eb['shift']());}}}(a29_0x4979,0xa9678));function a29_0x4979(){const _0x452e7b=['execute','../libs/jwt','crypto','80HkeYmE','json','body','User\x20disabled\x20successfully','389565tKrueG','Role\x20changed\x20successfully','168VkJFbV','promise','status','Error!\x20Something\x20went\x20wrong.','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','2005790nxhjbv','/:id/enable-disable','params','express','log','9Fgxzon','4402028oXCVpE','UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','User\x20deleted\x20successfully','/:id/change-role','14382BytOZu','put','158109cOwHZM','SELECT\x20*\x20FROM\x20`users`','User\x20enabled\x20successfully','delete','22878570zyNDxW','exports','1438515GBhXpD'];a29_0x4979=function(){return _0x452e7b;};return a29_0x4979();}const conn=require('../libs/mysql.js'),verifyToken=require(a29_0x46b837(0x101))['verifyToken'],express=require(a29_0x46b837(0x111)),router=express['Router'](),{randomUUID}=require(a29_0x46b837(0x102));router['get']('',verifyToken,async(_0x32faf0,_0x4f4b4c,_0x6652c1)=>{const _0x1caf93=a29_0x46b837;let _0x2412db;try{const [_0xc6038a]=await conn[_0x1caf93(0x10a)]()[_0x1caf93(0x100)](_0x1caf93(0x11b),[]);_0x2412db=_0xc6038a;}catch(_0x54d05f){console[_0x1caf93(0x112)]({'err':_0x54d05f}),_0x4f4b4c['status'](0x1f4)[_0x1caf93(0x104)]({'error':_0x1caf93(0x10c)});return;}_0x4f4b4c[_0x1caf93(0x10b)](0xc8)[_0x1caf93(0x104)]({'success':!![],'data':_0x2412db});}),router[a29_0x46b837(0x119)](a29_0x46b837(0x117),verifyToken,async(_0x514e18,_0x31f4da,_0x58fd95)=>{const _0x512cde=a29_0x46b837,{id:_0x4c6399}=_0x514e18[_0x512cde(0x110)],{role:_0x4f3a78}=_0x514e18[_0x512cde(0x105)];try{await conn['promise']()[_0x512cde(0x100)]('UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x4f3a78,_0x4c6399]);}catch(_0x3d5ee1){console[_0x512cde(0x112)]({'err':_0x3d5ee1}),_0x31f4da['status'](0x1f4)['json']({'error':_0x512cde(0x10c)});return;}_0x31f4da[_0x512cde(0x10b)](0xc8)[_0x512cde(0x104)]({'success':!![],'message':_0x512cde(0x108)});}),router[a29_0x46b837(0x11d)]('/:id',verifyToken,async(_0x155281,_0x33af8e,_0x4b3c80)=>{const _0x466a94=a29_0x46b837,{id:_0x5b484e}=_0x155281[_0x466a94(0x110)];try{await conn[_0x466a94(0x10a)]()[_0x466a94(0x100)](_0x466a94(0x10d),[_0x5b484e]);}catch(_0x38d560){console[_0x466a94(0x112)]({'err':_0x38d560}),_0x33af8e[_0x466a94(0x10b)](0x1f4)[_0x466a94(0x104)]({'error':_0x466a94(0x10c)});return;}_0x33af8e[_0x466a94(0x10b)](0xc8)['json']({'success':!![],'message':_0x466a94(0x116)});}),router[a29_0x46b837(0x119)](a29_0x46b837(0x10f),verifyToken,async(_0x37dec0,_0x285a9d,_0x14ced0)=>{const _0x33fb79=a29_0x46b837,{id:_0x1626bf}=_0x37dec0[_0x33fb79(0x110)],{is_enabled:_0x3f9d53}=_0x37dec0['body'];try{await conn[_0x33fb79(0x10a)]()[_0x33fb79(0x100)](_0x33fb79(0x115),[_0x3f9d53,_0x1626bf]);}catch(_0x2b296a){console[_0x33fb79(0x112)]({'err':_0x2b296a}),_0x285a9d[_0x33fb79(0x10b)](0x1f4)['json']({'error':_0x33fb79(0x10c)});return;}_0x285a9d[_0x33fb79(0x10b)](0xc8)['json']({'success':!![],'message':_0x3f9d53?_0x33fb79(0x11c):_0x33fb79(0x106)});}),module[a29_0x46b837(0xfe)]=router;