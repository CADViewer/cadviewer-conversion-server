const a29_0x4448cb=a29_0x17c8;function a29_0x14de(){const _0x37192e=['log','promise','2gsQzdF','User\x20deleted\x20successfully','Error!\x20Something\x20went\x20wrong.','1194432vnxwlD','execute','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','status','53658LswlJY','body','verifyToken','../libs/mysql.js','100026RFDLAj','/:id/change-role','55COCWfe','delete','json','1356656nQjcQR','129397htKCCf','Router','params','120hedXxw','511091oxeAxN','../libs/jwt','SELECT\x20*\x20FROM\x20`users`','User\x20enabled\x20successfully','/:id/enable-disable','26457GFKsOC','9OQMVLX','express'];a29_0x14de=function(){return _0x37192e;};return a29_0x14de();}function a29_0x17c8(_0x40ee3a,_0x4121f2){const _0x14de28=a29_0x14de();return a29_0x17c8=function(_0x17c8f9,_0x7b0d37){_0x17c8f9=_0x17c8f9-0x113;let _0x5bf385=_0x14de28[_0x17c8f9];return _0x5bf385;},a29_0x17c8(_0x40ee3a,_0x4121f2);}(function(_0x28d24a,_0x47e8bc){const _0x29364f=a29_0x17c8,_0x1c2d4e=_0x28d24a();while(!![]){try{const _0xc32523=-parseInt(_0x29364f(0x12e))/0x1*(parseInt(_0x29364f(0x11d))/0x2)+-parseInt(_0x29364f(0x118))/0x3+parseInt(_0x29364f(0x120))/0x4+parseInt(_0x29364f(0x12a))/0x5*(parseInt(_0x29364f(0x128))/0x6)+-parseInt(_0x29364f(0x113))/0x7+-parseInt(_0x29364f(0x12d))/0x8*(parseInt(_0x29364f(0x119))/0x9)+-parseInt(_0x29364f(0x131))/0xa*(-parseInt(_0x29364f(0x124))/0xb);if(_0xc32523===_0x47e8bc)break;else _0x1c2d4e['push'](_0x1c2d4e['shift']());}catch(_0x559fbb){_0x1c2d4e['push'](_0x1c2d4e['shift']());}}}(a29_0x14de,0x26fe2));const conn=require(a29_0x4448cb(0x127)),verifyToken=require(a29_0x4448cb(0x114))[a29_0x4448cb(0x126)],express=require(a29_0x4448cb(0x11a)),router=express[a29_0x4448cb(0x12f)](),{randomUUID}=require('crypto');router['get']('',verifyToken,async(_0x3b00ab,_0x34b02c,_0x3fbd68)=>{const _0xee963e=a29_0x4448cb;let _0x56abfc;try{const [_0x3c8d0f]=await conn['promise']()[_0xee963e(0x121)](_0xee963e(0x115),[]);_0x56abfc=_0x3c8d0f;}catch(_0x3ec962){console[_0xee963e(0x11b)]({'err':_0x3ec962}),_0x34b02c[_0xee963e(0x123)](0x1f4)[_0xee963e(0x12c)]({'error':_0xee963e(0x11f)});return;}_0x34b02c[_0xee963e(0x123)](0xc8)[_0xee963e(0x12c)]({'success':!![],'data':_0x56abfc});}),router['put'](a29_0x4448cb(0x129),verifyToken,async(_0x52c1e9,_0x1fe3df,_0x4fc2ce)=>{const _0x1c7a3b=a29_0x4448cb,{id:_0x514446}=_0x52c1e9[_0x1c7a3b(0x130)],{role:_0x2a5c89}=_0x52c1e9[_0x1c7a3b(0x125)];try{await conn[_0x1c7a3b(0x11c)]()[_0x1c7a3b(0x121)]('UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x2a5c89,_0x514446]);}catch(_0x4da868){console[_0x1c7a3b(0x11b)]({'err':_0x4da868}),_0x1fe3df[_0x1c7a3b(0x123)](0x1f4)[_0x1c7a3b(0x12c)]({'error':_0x1c7a3b(0x11f)});return;}_0x1fe3df[_0x1c7a3b(0x123)](0xc8)[_0x1c7a3b(0x12c)]({'success':!![],'message':'Role\x20changed\x20successfully'});}),router[a29_0x4448cb(0x12b)]('/:id',verifyToken,async(_0x2e0811,_0x104e61,_0x209b7e)=>{const _0x275f17=a29_0x4448cb,{id:_0x3132cc}=_0x2e0811['params'];try{await conn[_0x275f17(0x11c)]()[_0x275f17(0x121)](_0x275f17(0x122),[_0x3132cc]);}catch(_0x2914b){console['log']({'err':_0x2914b}),_0x104e61[_0x275f17(0x123)](0x1f4)[_0x275f17(0x12c)]({'error':_0x275f17(0x11f)});return;}_0x104e61[_0x275f17(0x123)](0xc8)[_0x275f17(0x12c)]({'success':!![],'message':_0x275f17(0x11e)});}),router['put'](a29_0x4448cb(0x117),verifyToken,async(_0x25e2bf,_0x30b80d,_0x16b544)=>{const _0x289f4e=a29_0x4448cb,{id:_0x16a121}=_0x25e2bf[_0x289f4e(0x130)],{is_enabled:_0x124189}=_0x25e2bf[_0x289f4e(0x125)];try{await conn[_0x289f4e(0x11c)]()[_0x289f4e(0x121)]('UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x124189,_0x16a121]);}catch(_0x4b6f99){console[_0x289f4e(0x11b)]({'err':_0x4b6f99}),_0x30b80d[_0x289f4e(0x123)](0x1f4)[_0x289f4e(0x12c)]({'error':_0x289f4e(0x11f)});return;}_0x30b80d['status'](0xc8)['json']({'success':!![],'message':_0x124189?_0x289f4e(0x116):'User\x20disabled\x20successfully'});}),module['exports']=router;