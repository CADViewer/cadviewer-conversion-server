const a29_0x287de1=a29_0x3f55;function a29_0x5b4a(){const _0x4bed9f=['params','../libs/mysql.js','SELECT\x20*\x20FROM\x20`users`','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','get','User\x20deleted\x20successfully','UPDATE\x20`users`\x20SET\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','exports','User\x20disabled\x20successfully','execute','Error!\x20Something\x20went\x20wrong.','body','express','58895hvwNAd','90WviMgp','/:id/enable-disable','Router','delete','put','status','16242fxokzr','4980375FMJXSI','/:id','959CYUFMQ','Role\x20changed\x20successfully','log','/:id/change-role','promise','786976lfWXsP','json','97652PuYoJK','307368fqSvmc','verifyToken','770292IHRczk','User\x20enabled\x20successfully'];a29_0x5b4a=function(){return _0x4bed9f;};return a29_0x5b4a();}function a29_0x3f55(_0x9bd0d8,_0x2cdf0d){const _0x5b4a1e=a29_0x5b4a();return a29_0x3f55=function(_0x3f558c,_0x41b3e2){_0x3f558c=_0x3f558c-0xe3;let _0x1a7190=_0x5b4a1e[_0x3f558c];return _0x1a7190;},a29_0x3f55(_0x9bd0d8,_0x2cdf0d);}(function(_0x1f12e0,_0x2fe88a){const _0x3a313d=a29_0x3f55,_0x5150a1=_0x1f12e0();while(!![]){try{const _0x1ff9c6=parseInt(_0x3a313d(0xf6))/0x1+-parseInt(_0x3a313d(0xe5))/0x2+parseInt(_0x3a313d(0xe7))/0x3+parseInt(_0x3a313d(0xe4))/0x4*(parseInt(_0x3a313d(0xf7))/0x5)+parseInt(_0x3a313d(0xfd))/0x6*(parseInt(_0x3a313d(0x100))/0x7)+-parseInt(_0x3a313d(0x105))/0x8+-parseInt(_0x3a313d(0xfe))/0x9;if(_0x1ff9c6===_0x2fe88a)break;else _0x5150a1['push'](_0x5150a1['shift']());}catch(_0x20cd6b){_0x5150a1['push'](_0x5150a1['shift']());}}}(a29_0x5b4a,0x4e409));const conn=require(a29_0x287de1(0xea)),verifyToken=require('../libs/jwt')[a29_0x287de1(0xe6)],express=require(a29_0x287de1(0xf5)),router=express[a29_0x287de1(0xf9)](),{randomUUID}=require('crypto');router[a29_0x287de1(0xed)]('',verifyToken,async(_0x82e2d0,_0x26c8a7,_0x4997a3)=>{const _0x325e93=a29_0x287de1;let _0x1f2e3b;try{const [_0x196c80]=await conn[_0x325e93(0x104)]()[_0x325e93(0xf2)](_0x325e93(0xeb),[]);_0x1f2e3b=_0x196c80;}catch(_0x483402){console['log']({'err':_0x483402}),_0x26c8a7['status'](0x1f4)[_0x325e93(0xe3)]({'error':_0x325e93(0xf3)});return;}_0x26c8a7[_0x325e93(0xfc)](0xc8)[_0x325e93(0xe3)]({'success':!![],'data':_0x1f2e3b});}),router[a29_0x287de1(0xfb)](a29_0x287de1(0x103),verifyToken,async(_0x12b561,_0x2e4e8c,_0x677431)=>{const _0x11b424=a29_0x287de1,{id:_0x55399e}=_0x12b561['params'],{role:_0x4542f5}=_0x12b561[_0x11b424(0xf4)];try{await conn['promise']()[_0x11b424(0xf2)](_0x11b424(0xef),[_0x4542f5,_0x55399e]);}catch(_0xf7dace){console[_0x11b424(0x102)]({'err':_0xf7dace}),_0x2e4e8c['status'](0x1f4)[_0x11b424(0xe3)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x2e4e8c['status'](0xc8)[_0x11b424(0xe3)]({'success':!![],'message':_0x11b424(0x101)});}),router[a29_0x287de1(0xfa)](a29_0x287de1(0xff),verifyToken,async(_0xe24995,_0x15b9a9,_0xd9cd93)=>{const _0xcd7aff=a29_0x287de1,{id:_0x115fc2}=_0xe24995[_0xcd7aff(0xe9)];try{await conn[_0xcd7aff(0x104)]()[_0xcd7aff(0xf2)](_0xcd7aff(0xec),[_0x115fc2]);}catch(_0x577f6b){console[_0xcd7aff(0x102)]({'err':_0x577f6b}),_0x15b9a9[_0xcd7aff(0xfc)](0x1f4)['json']({'error':_0xcd7aff(0xf3)});return;}_0x15b9a9[_0xcd7aff(0xfc)](0xc8)['json']({'success':!![],'message':_0xcd7aff(0xee)});}),router[a29_0x287de1(0xfb)](a29_0x287de1(0xf8),verifyToken,async(_0x112030,_0x119323,_0x440509)=>{const _0x368f27=a29_0x287de1,{id:_0x29a365}=_0x112030[_0x368f27(0xe9)],{is_enabled:_0xd9683e}=_0x112030[_0x368f27(0xf4)];try{await conn[_0x368f27(0x104)]()[_0x368f27(0xf2)]('UPDATE\x20`users`\x20SET\x20`is_enabled`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0xd9683e,_0x29a365]);}catch(_0x506d83){console['log']({'err':_0x506d83}),_0x119323[_0x368f27(0xfc)](0x1f4)[_0x368f27(0xe3)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x119323[_0x368f27(0xfc)](0xc8)['json']({'success':!![],'message':_0xd9683e?_0x368f27(0xe8):_0x368f27(0xf1)});}),module[a29_0x287de1(0xf0)]=router;