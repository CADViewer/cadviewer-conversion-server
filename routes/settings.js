const a26_0x3bbfb0=a26_0x35da;(function(_0x36c6fb,_0x5d7af6){const _0x3cd802=a26_0x35da,_0x3464b7=_0x36c6fb();while(!![]){try{const _0x1c78e6=parseInt(_0x3cd802(0xde))/0x1*(parseInt(_0x3cd802(0xf0))/0x2)+parseInt(_0x3cd802(0xda))/0x3*(-parseInt(_0x3cd802(0xf2))/0x4)+-parseInt(_0x3cd802(0x215))/0x5+-parseInt(_0x3cd802(0x1f0))/0x6+parseInt(_0x3cd802(0x162))/0x7*(-parseInt(_0x3cd802(0x20b))/0x8)+parseInt(_0x3cd802(0x11f))/0x9+parseInt(_0x3cd802(0x146))/0xa;if(_0x1c78e6===_0x5d7af6)break;else _0x3464b7['push'](_0x3464b7['shift']());}catch(_0x2e46fd){_0x3464b7['push'](_0x3464b7['shift']());}}}(a26_0x2140,0xb6c58));const express=require(a26_0x3bbfb0(0xdb)),router=express[a26_0x3bbfb0(0x11d)](),multer=require(a26_0x3bbfb0(0x240)),fs=require('fs'),path=require(a26_0x3bbfb0(0x1a5)),getHotConfig=require('../libs/config')['getHotConfig'],{exec}=require(a26_0x3bbfb0(0x1e2)),os=require('os'),conn=require(a26_0x3bbfb0(0x12e)),bcrypt=require(a26_0x3bbfb0(0x126)),osu=require(a26_0x3bbfb0(0x231)),schedule=require(a26_0x3bbfb0(0x237)),counter=require(a26_0x3bbfb0(0x1a2)),{randomUUID}=require(a26_0x3bbfb0(0x249)),logStream=require(a26_0x3bbfb0(0x1f6)),config=require(a26_0x3bbfb0(0x1d3)),basicAuth=require(a26_0x3bbfb0(0x163)),protectedRoute=basicAuth({'users':{[config[a26_0x3bbfb0(0x135)]]:config[a26_0x3bbfb0(0x140)]},'challenge':!![],'realm':a26_0x3bbfb0(0x112)});router['get'](a26_0x3bbfb0(0x188),async(_0x5c3bb5,_0x233e53)=>{const _0x1607b0=a26_0x3bbfb0;_0x233e53[_0x1607b0(0x1e6)](path[_0x1607b0(0x178)](path[_0x1607b0(0x185)](require[_0x1607b0(0x141)][_0x1607b0(0x20c)]),_0x1607b0(0x262)));}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x118),async(_0x1ffd9f,_0x384781)=>{const _0x4ba53d=a26_0x3bbfb0;_0x384781[_0x4ba53d(0x1e6)](path[_0x4ba53d(0x178)](path[_0x4ba53d(0x185)](require[_0x4ba53d(0x141)][_0x4ba53d(0x20c)]),_0x4ba53d(0x1e9)));}),router['get'](a26_0x3bbfb0(0x250),async(_0x5b7ed8,_0x5cf156)=>{const _0x56f3dc=a26_0x3bbfb0;_0x5cf156[_0x56f3dc(0x1e6)](path['join'](path[_0x56f3dc(0x185)](require[_0x56f3dc(0x141)][_0x56f3dc(0x20c)]),_0x56f3dc(0x120)));}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x1e5),async(_0x475d4c,_0x3d9da7)=>{const _0x202bd1=a26_0x3bbfb0;_0x3d9da7[_0x202bd1(0x1e6)](path[_0x202bd1(0x178)](path[_0x202bd1(0x185)](require[_0x202bd1(0x141)][_0x202bd1(0x20c)]),_0x202bd1(0x12b)));}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x22b),async(_0x2f83c8,_0x2fe67b)=>{const _0x65f983=a26_0x3bbfb0;_0x2fe67b['sendFile'](path['join'](path['dirname'](require['main'][_0x65f983(0x20c)]),'cadviewer/settings/vanilla-toast.js'));}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x18e),async(_0x3f010c,_0x2497d2)=>{const _0xc9e071=a26_0x3bbfb0;_0x2497d2[_0xc9e071(0x1e6)](path[_0xc9e071(0x178)](path[_0xc9e071(0x185)](require['main'][_0xc9e071(0x20c)]),'cadviewer/settings/icons.js'));}),router[a26_0x3bbfb0(0x24c)]('/',protectedRoute,async(_0x59db3e,_0x245eb4)=>{const _0x3df1dd=a26_0x3bbfb0,_0x2a5014=fs[_0x3df1dd(0x128)](path[_0x3df1dd(0x178)](path[_0x3df1dd(0x185)](require['main']['filename']),'cadviewer/settings/home.html'),_0x3df1dd(0x1a7)),_0x449b52=_0x2a5014[_0x3df1dd(0x1d6)](_0x3df1dd(0x143),_0x59db3e[_0x3df1dd(0x16f)]);_0x245eb4[_0x3df1dd(0x242)](_0x449b52);}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x16d),protectedRoute,async(_0x2f4d18,_0x49c51c)=>{const _0x392931=a26_0x3bbfb0,_0x4cd702=fs[_0x392931(0x128)](path[_0x392931(0x178)](path['dirname'](require['main'][_0x392931(0x20c)]),_0x392931(0x226)),'utf8'),_0x305bbe=_0x4cd702[_0x392931(0x1d6)](_0x392931(0x143),_0x2f4d18[_0x392931(0x16f)]);_0x49c51c[_0x392931(0x242)](_0x305bbe);}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x208),protectedRoute,async(_0x32d581,_0x29fdb3)=>{const _0x3ce42a=a26_0x3bbfb0,_0x4d0fa4=fs[_0x3ce42a(0x128)](path['join'](path[_0x3ce42a(0x185)](require[_0x3ce42a(0x141)][_0x3ce42a(0x20c)]),'cadviewer/settings/config.html'),_0x3ce42a(0x1a7)),_0x11a331=_0x4d0fa4[_0x3ce42a(0x1d6)](_0x3ce42a(0x143),_0x32d581[_0x3ce42a(0x16f)]);_0x29fdb3[_0x3ce42a(0x242)](_0x11a331);}),router['get'](a26_0x3bbfb0(0x13d),protectedRoute,async(_0x342679,_0x482c93)=>{const _0x299806=a26_0x3bbfb0,_0x12be0a=fs['readFileSync'](path[_0x299806(0x178)](path[_0x299806(0x185)](require[_0x299806(0x141)][_0x299806(0x20c)]),_0x299806(0x1a0)),_0x299806(0x1a7)),_0x5d7eb1=_0x12be0a['replaceAll']('{version}',_0x342679[_0x299806(0x16f)]);_0x482c93[_0x299806(0x242)](_0x5d7eb1);}),router['post'](a26_0x3bbfb0(0x13d),async(_0x52deb5,_0x3c47df)=>{const _0x503296=a26_0x3bbfb0,_0x5acfea=path[_0x503296(0x178)](path[_0x503296(0x185)](require[_0x503296(0x141)][_0x503296(0x20c)]),_0x503296(0x155)),_0x47d337=JSON[_0x503296(0x229)](fs[_0x503296(0x128)](_0x5acfea,_0x503296(0x1a7))),_0x270094=_0x47d337[_0x503296(0xf3)];if(!fs[_0x503296(0x235)](_0x270094))return _0x3c47df[_0x503296(0x1c3)](0x194)['json']({'message':'Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.'});const _0x1949d3=_0x2ce8cf=>{let _0x10595e=0x0;return _0x2ce8cf['forEach'](_0xb5c2d1=>{const _0x3de288=a26_0x35da;_0xb5c2d1[_0x3de288(0x18a)]?_0x10595e+=_0x1949d3(_0xb5c2d1[_0x3de288(0x15f)]):_0x10595e+=_0xb5c2d1[_0x3de288(0x238)];}),_0x10595e;},_0x516a32=_0x4c5ccc=>{const _0x4de9ff=_0x503296;if(_0x4c5ccc<0x400)return _0x4c5ccc+'\x20B';else{if(_0x4c5ccc<0x400*0x400)return(_0x4c5ccc/0x400)[_0x4de9ff(0x18b)](0x2)+'\x20KB';else return _0x4c5ccc<0x400*0x400*0x400?(_0x4c5ccc/0x400/0x400)[_0x4de9ff(0x18b)](0x2)+_0x4de9ff(0x265):(_0x4c5ccc/0x400/0x400/0x400)[_0x4de9ff(0x18b)](0x2)+_0x4de9ff(0x25b);}},_0x4f7e8b=(_0x5f33c0,_0x102b8e='')=>{const _0x29c146=_0x503296,_0x1478a1=fs[_0x29c146(0x14a)](_0x5f33c0),_0x5039e=[];return _0x1478a1['forEach'](_0x3165f9=>{const _0x565dbf=_0x29c146,_0x368626=path[_0x565dbf(0x178)](_0x5f33c0,_0x3165f9)[_0x565dbf(0x1d6)]('\x5c','/'),_0xc64a4e=fs[_0x565dbf(0x202)](_0x368626);if(_0xc64a4e[_0x565dbf(0x1e4)]()){const _0x15e5b8=_0x4f7e8b(_0x368626,_0x102b8e+_0x565dbf(0x134));_0x5039e[_0x565dbf(0x1d8)]({'name':_0x3165f9,'size':_0xc64a4e['size'],'path':_0x368626,'permissions':_0xc64a4e[_0x565dbf(0x1b0)],'isFolder':!![],'sub_dirs':_0x15e5b8});}else _0x5039e[_0x565dbf(0x1d8)]({'name':_0x3165f9,'size':_0xc64a4e[_0x565dbf(0x238)],'path':_0x368626,'permissions':_0xc64a4e[_0x565dbf(0x1b0)],'isFolder':![]});}),_0x5039e;};let _0x201096=_0x4f7e8b(_0x270094);const _0x165869=_0x11b542=>{const _0x496c6d=_0x503296;return _0x11b542[_0x496c6d(0x14e)](_0x10e5ff=>{const _0x204117=_0x496c6d;_0x10e5ff[_0x204117(0x18a)]?(_0x10e5ff[_0x204117(0xef)]=_0x516a32(_0x1949d3(_0x10e5ff[_0x204117(0x15f)])),_0x10e5ff[_0x204117(0x15f)]=_0x165869(_0x10e5ff[_0x204117(0x15f)])):_0x10e5ff[_0x204117(0xef)]=_0x516a32(_0x10e5ff['size']);}),_0x11b542;};_0x3c47df[_0x503296(0x1c3)](0xc8)[_0x503296(0x168)](_0x165869(_0x201096));}),router[a26_0x3bbfb0(0xff)](a26_0x3bbfb0(0x14b),async(_0x54f386,_0x146fbc)=>{const _0x15de96=a26_0x3bbfb0,{path:_0x30239c}=_0x54f386[_0x15de96(0x222)],_0x2603f1=_0x30239c[_0x15de96(0xf7)]('/')[_0x15de96(0x23f)]();if(!fs[_0x15de96(0x235)](_0x30239c))return _0x146fbc['status'](0x194)[_0x15de96(0x168)]({'message':_0x15de96(0x19d)});_0x146fbc[_0x15de96(0x132)](_0x15de96(0x1b6),_0x15de96(0x1f7)),_0x146fbc[_0x15de96(0x132)](_0x15de96(0x1f9),'attachment;\x20filename=\x22'+_0x2603f1+'\x22'),_0x146fbc[_0x15de96(0x1ff)](_0x30239c,_0x2f381d=>{const _0x579021=_0x15de96;_0x2f381d&&_0x146fbc[_0x579021(0x1c3)](0x1f4)[_0x579021(0x168)]({'message':_0x579021(0x182)});});}),router[a26_0x3bbfb0(0xff)]('/folders/create',async(_0x5ab76e,_0x3c2f7a)=>{const _0x5c8dfc=a26_0x3bbfb0,_0x49d122=_0x5ab76e[_0x5c8dfc(0x222)],_0x293030=getHotConfig()['folderLocation'],_0x592f66=path['join'](_0x293030,_0x49d122[_0x5c8dfc(0x1a5)]);if(!fs['existsSync'](_0x592f66))return _0x3c2f7a[_0x5c8dfc(0x1c3)](0x194)[_0x5c8dfc(0x168)]({'message':_0x5c8dfc(0x227)});if(fs[_0x5c8dfc(0x235)](path[_0x5c8dfc(0x178)](_0x592f66,_0x49d122['folderName'])))return _0x3c2f7a['status'](0x199)['json']({'message':'Folder\x20already\x20exists.'});fs[_0x5c8dfc(0xf6)](path['join'](_0x592f66,_0x49d122[_0x5c8dfc(0x149)]),_0x31a2c3=>{const _0x4d6042=_0x5c8dfc;_0x31a2c3&&_0x3c2f7a[_0x4d6042(0x1c3)](0x1f4)[_0x4d6042(0x168)]({'message':_0x4d6042(0x15c)}),_0x3c2f7a[_0x4d6042(0x1c3)](0xc8)['json']({'message':_0x4d6042(0x221)});});}),router[a26_0x3bbfb0(0x125)](a26_0x3bbfb0(0x169),async(_0x146ce2,_0x55ce52)=>{const _0x37dedf=a26_0x3bbfb0,{newName:_0x4b26bb,isFolder:_0x419efb,path:_0x43b529}=_0x146ce2[_0x37dedf(0x222)];if(!fs[_0x37dedf(0x235)](_0x43b529))return _0x55ce52[_0x37dedf(0x1c3)](0x194)['json']({'message':_0x419efb?_0x37dedf(0xe8):_0x37dedf(0x19d)});const _0x29cdb6=_0x43b529[_0x37dedf(0x1e1)](_0x43b529['split']('/')[_0x37dedf(0x23f)](),_0x4b26bb);fs[_0x37dedf(0x264)](_0x43b529,_0x29cdb6,_0x7de88b=>{const _0xf3f63c=_0x37dedf;_0x7de88b&&_0x55ce52[_0xf3f63c(0x1c3)](0x1f4)[_0xf3f63c(0x168)]({'message':_0x419efb?'Error\x20renaming\x20folder.':_0xf3f63c(0x199)}),_0x55ce52[_0xf3f63c(0x1c3)](0xc8)[_0xf3f63c(0x168)]({'message':_0x419efb?'Folder\x20renamed.':_0xf3f63c(0x139)});});}),router[a26_0x3bbfb0(0x1b7)](a26_0x3bbfb0(0x195),async(_0x56f66f,_0x1fcae6)=>{const _0x2224cc=a26_0x3bbfb0,{path:_0x33ad2c}=_0x56f66f[_0x2224cc(0x222)];if(!fs[_0x2224cc(0x235)](_0x33ad2c))return _0x1fcae6['status'](0x194)[_0x2224cc(0x168)]({'message':_0x2224cc(0x1bd)});const _0x37ff0b=fs[_0x2224cc(0x202)](_0x33ad2c);if(_0x37ff0b[_0x2224cc(0x127)]())fs['unlink'](_0x33ad2c,_0x4b11a8=>{const _0x1641bf=_0x2224cc;_0x4b11a8&&_0x1fcae6['status'](0x1f4)['json']({'message':_0x1641bf(0x189)}),_0x1fcae6[_0x1641bf(0x1c3)](0xc8)[_0x1641bf(0x168)]({'message':'File\x20deleted.'});});else _0x37ff0b[_0x2224cc(0x1e4)]()&&fs['rmdir'](_0x33ad2c,{'recursive':!![]},_0x2d96e3=>{const _0x11a69d=_0x2224cc;_0x2d96e3&&_0x1fcae6[_0x11a69d(0x1c3)](0x1f4)[_0x11a69d(0x168)]({'message':'Error\x20deleting\x20folder.'}),_0x1fcae6[_0x11a69d(0x1c3)](0xc8)[_0x11a69d(0x168)]({'message':_0x11a69d(0x1ae)});});});!fs['existsSync'](a26_0x3bbfb0(0x201))&&fs[a26_0x3bbfb0(0x1a6)](a26_0x3bbfb0(0x201));const storage=multer[a26_0x3bbfb0(0x196)]({'destination':(_0x19abbf,_0x4003a9,_0x26ee64)=>{const _0x33cda1=a26_0x3bbfb0;_0x26ee64(null,_0x33cda1(0x10f));},'filename':(_0xc48231,_0x210279,_0x447dca)=>{const _0x44ed43=a26_0x3bbfb0;_0x447dca(null,Date[_0x44ed43(0x164)]()+path[_0x44ed43(0x218)](_0x210279[_0x44ed43(0x21b)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});function a26_0x35da(_0x2c5e3f,_0x3e9084){const _0x214088=a26_0x2140();return a26_0x35da=function(_0x35da8b,_0x126c87){_0x35da8b=_0x35da8b-0xd0;let _0x64828=_0x214088[_0x35da8b];return _0x64828;},a26_0x35da(_0x2c5e3f,_0x3e9084);}router[a26_0x3bbfb0(0xff)](a26_0x3bbfb0(0x23a),upload[a26_0x3bbfb0(0x160)](a26_0x3bbfb0(0x138)),async(_0x2802b4,_0x25dd17)=>{const _0x5e1c7d=a26_0x3bbfb0,_0x444b68=_0x2802b4[_0x5e1c7d(0x222)];if(!_0x2802b4[_0x5e1c7d(0x138)]||_0x2802b4[_0x5e1c7d(0x138)][_0x5e1c7d(0x266)]===0x0)return _0x25dd17[_0x5e1c7d(0x1c3)](0x190)[_0x5e1c7d(0x168)]({'message':'No\x20files\x20uploaded'});const _0x4a3445=getHotConfig()[_0x5e1c7d(0xf3)],_0x4d32e3=path[_0x5e1c7d(0x178)](_0x4a3445,_0x444b68[_0x5e1c7d(0x1a5)]);if(!fs[_0x5e1c7d(0x235)](_0x4d32e3))return _0x25dd17['status'](0x194)[_0x5e1c7d(0x168)]({'message':'Folder\x20not\x20found.'});const _0x168be2=_0x2802b4['files']['map'](_0x4c3dcc=>({'originalname':_0x4c3dcc[_0x5e1c7d(0x21b)],'filename':_0x4c3dcc['filename'],'mimetype':_0x4c3dcc[_0x5e1c7d(0x180)],'size':_0x4c3dcc['size']}));_0x168be2[_0x5e1c7d(0x14e)](_0x1839d9=>{const _0xb22b4a=_0x5e1c7d;fs[_0xb22b4a(0x1b8)](path[_0xb22b4a(0x178)](_0xb22b4a(0x10f),_0x1839d9[_0xb22b4a(0x20c)]),path[_0xb22b4a(0x178)](_0x4d32e3,_0x1839d9[_0xb22b4a(0x21b)]));}),_0x25dd17[_0x5e1c7d(0x1c3)](0xc8)[_0x5e1c7d(0x168)]({'message':_0x5e1c7d(0x148),'files':_0x168be2});}),router['put'](a26_0x3bbfb0(0xee),async(_0x2780a2,_0x3fe375)=>{const _0x565330=a26_0x3bbfb0,_0x5306d7=path[_0x565330(0x178)](path[_0x565330(0x185)](require[_0x565330(0x141)]['filename']),_0x565330(0x155)),{config:_0x3470fb}=_0x2780a2['body'];if(!_0x3470fb)return _0x3fe375[_0x565330(0x1c3)](0x190)[_0x565330(0x168)]({'message':'No\x20config\x20object\x20provided'});try{fs[_0x565330(0x144)](_0x5306d7,JSON[_0x565330(0x204)](_0x3470fb,null,0x4)),_0x3fe375[_0x565330(0x1c3)](0xc8)['json']({'message':_0x565330(0x245)});}catch(_0x57f7d4){_0x3fe375[_0x565330(0x1c3)](0x1f4)[_0x565330(0x168)]({'message':'Error\x20updating\x20config'});}}),router[a26_0x3bbfb0(0x125)]('/config/update',async(_0x5a5087,_0x6b4147)=>{const _0x807481=a26_0x3bbfb0,{key:_0x38e42f,value:_0x4f0d15}=_0x5a5087[_0x807481(0x222)],_0x1e39c7=path[_0x807481(0x178)](path[_0x807481(0x185)](require['main'][_0x807481(0x20c)]),_0x807481(0x155));fs[_0x807481(0x186)](_0x1e39c7,_0x807481(0x1a7),function(_0x39471c,_0x19ac6e){const _0x368b78=_0x807481;_0x39471c&&_0x6b4147[_0x368b78(0x1c3)](0x1f4)['send'](_0x39471c);const _0x275aea=JSON[_0x368b78(0x229)](_0x19ac6e);_0x275aea[_0x38e42f]=_0x4f0d15;if(_0x38e42f===_0x368b78(0xe2)){let _0x41bd5d='';if(_0x275aea['autodetect_platform']){_0x41bd5d=os[_0x368b78(0x1de)]();if(_0x41bd5d===_0x368b78(0x1df))_0x41bd5d=_0x368b78(0x1a1);else{if(_0x41bd5d===_0x368b78(0x1ce))_0x41bd5d='linux';}}else _0x41bd5d=_0x275aea['platform'];if(_0x41bd5d==='windows'){_0x275aea[_0x368b78(0xf4)]=path['resolve'](__dirname,'..')+'/';const _0x2e145e=/\\/g;_0x275aea[_0x368b78(0xf4)]=_0x275aea[_0x368b78(0xf4)][_0x368b78(0x1e1)](_0x2e145e,'/');}else _0x275aea[_0x368b78(0xf4)]=path['resolve'](__dirname,'..')+'/';}if(_0x38e42f===_0x368b78(0x122)){let _0xad6f8d=os[_0x368b78(0x1de)]();if(_0xad6f8d===_0x368b78(0x1df))_0xad6f8d='windows';else _0xad6f8d=_0x368b78(0x1a8);_0xad6f8d==='windows'?_0x4f0d15===!![]&&(_0x275aea['autoxchange_executable']=_0x275aea['autoxchange_executable_windows'],_0x275aea[_0x368b78(0x10a)]=_0x275aea[_0x368b78(0x1d2)],_0x275aea['linklist_executable']=_0x275aea[_0x368b78(0x137)]):_0x4f0d15===!![]&&(_0x275aea[_0x368b78(0x12c)]=_0x275aea['autoxchange_executable_linux'],_0x275aea[_0x368b78(0x10a)]=_0x275aea[_0x368b78(0xea)],_0x275aea[_0x368b78(0x19b)]=_0x275aea['linklist_executable_linux']),_0x275aea[_0x368b78(0x1de)]=_0xad6f8d;}if(_0x275aea[_0x368b78(0x122)]){let _0x9b5116=os[_0x368b78(0x1de)]();if(_0x9b5116===_0x368b78(0x1df))_0x9b5116='windows';else _0x9b5116='linux';if(_0x9b5116===_0x368b78(0x1a1)){if(_0x38e42f===_0x368b78(0x14f))_0x275aea[_0x368b78(0x12c)]=_0x4f0d15;else{if(_0x38e42f===_0x368b78(0x1d2))_0x275aea[_0x368b78(0x10a)]=_0x4f0d15;else _0x38e42f===_0x368b78(0x137)&&(_0x275aea[_0x368b78(0x19b)]=_0x4f0d15);}}else{if(_0x38e42f===_0x368b78(0x22a))_0x275aea[_0x368b78(0x12c)]=_0x4f0d15;else{if(_0x38e42f===_0x368b78(0xea))_0x275aea[_0x368b78(0x10a)]=_0x4f0d15;else _0x38e42f===_0x368b78(0x234)&&(_0x275aea[_0x368b78(0x19b)]=_0x4f0d15);}}}fs[_0x368b78(0x176)](_0x1e39c7,JSON[_0x368b78(0x204)](_0x275aea,null,0x4),function(_0x78089a){const _0x5c5a87=_0x368b78;_0x78089a&&_0x6b4147[_0x5c5a87(0x1c3)](0x1f4)[_0x5c5a87(0x242)](_0x78089a),_0x6b4147[_0x5c5a87(0x1c3)](0xc8)[_0x5c5a87(0x168)]({'message':_0x5c5a87(0x22c)});});});}),router[a26_0x3bbfb0(0xff)](a26_0x3bbfb0(0x224),async(_0x2fd5cb,_0x67052)=>{const _0x22c944=a26_0x3bbfb0,_0x257ad2=getHotConfig(),_0x46f947=(_0x257ad2[_0x22c944(0x260)][_0x22c944(0x145)](_0x257ad2[_0x22c944(0xf4)])?'':_0x257ad2[_0x22c944(0xf4)])+_0x257ad2[_0x22c944(0x260)],_0x384265=(_0x257ad2[_0x22c944(0x260)]['includes'](_0x257ad2[_0x22c944(0xf4)])?'':_0x257ad2['ServerLocation'])+_0x257ad2[_0x22c944(0xf9)],_0x569324=(_0x257ad2[_0x22c944(0x175)][_0x22c944(0x145)](_0x257ad2['ServerLocation'])?'':_0x257ad2['ServerLocation'])+_0x257ad2[_0x22c944(0x175)],_0x2c1cd7=/ax202.*\.exe/,_0x25a0db=/ax202.*/,_0x101b23=/dwgmerge202.*\.exe/,_0x43a066=/dwgmerge_202.*/,_0x579e44=/linklist_202.*\.exe/,_0x885e84=/linklist_202.*/,_0x53e873=[],_0x284d76=[],_0x40ad66=[],_0x2a56fb=[],_0x57b77c=[],_0x1b6427=[];let _0x1473fa='';if(_0x257ad2[_0x22c944(0x122)]){_0x1473fa=os[_0x22c944(0x1de)]();if(_0x1473fa===_0x22c944(0x1df))_0x1473fa=_0x22c944(0x1a1);else{if(_0x1473fa===_0x22c944(0x1ce))_0x1473fa=_0x22c944(0x1a8);}}else _0x1473fa=_0x257ad2[_0x22c944(0x1de)];fs[_0x22c944(0x14a)](_0x569324[_0x22c944(0x1d6)](_0x22c944(0x1a8),_0x22c944(0x1a1)))['forEach'](_0x586b79=>{const _0x5e7d52=_0x22c944;if(_0x2c1cd7[_0x5e7d52(0x107)](_0x586b79[_0x5e7d52(0x213)]()))_0x53e873['push'](_0x586b79);}),fs[_0x22c944(0x14a)](_0x46f947[_0x22c944(0x1d6)](_0x22c944(0x1a8),_0x22c944(0x1a1)))['forEach'](_0x13fa2b=>{const _0x2c0f64=_0x22c944;if(_0x101b23[_0x2c0f64(0x107)](_0x13fa2b[_0x2c0f64(0x213)]()))_0x284d76[_0x2c0f64(0x1d8)](_0x13fa2b);}),fs['readdirSync'](_0x384265[_0x22c944(0x1d6)]('linux',_0x22c944(0x1a1)))[_0x22c944(0x14e)](_0x260a84=>{const _0x179a80=_0x22c944;if(_0x579e44[_0x179a80(0x107)](_0x260a84[_0x179a80(0x213)]()))_0x40ad66['push'](_0x260a84);}),fs['readdirSync'](_0x569324['replaceAll']('windows',_0x22c944(0x1a8)))[_0x22c944(0x14e)](_0x251943=>{const _0x4cce55=_0x22c944;if(_0x25a0db[_0x4cce55(0x107)](_0x251943[_0x4cce55(0x213)]()))_0x2a56fb[_0x4cce55(0x1d8)](_0x251943);}),fs[_0x22c944(0x14a)](_0x46f947[_0x22c944(0x1d6)](_0x22c944(0x1a1),'linux'))['forEach'](_0x40e670=>{const _0x1e609b=_0x22c944;if(_0x43a066[_0x1e609b(0x107)](_0x40e670['toLocaleLowerCase']()))_0x57b77c[_0x1e609b(0x1d8)](_0x40e670);}),fs['readdirSync'](_0x384265[_0x22c944(0x1d6)](_0x22c944(0x1a1),_0x22c944(0x1a8)))['forEach'](_0x30740c=>{const _0x51b1c3=_0x22c944;if(_0x885e84['test'](_0x30740c[_0x51b1c3(0x213)]()))_0x1b6427[_0x51b1c3(0x1d8)](_0x30740c);});const _0x5741c7=['ServerPort',_0x22c944(0x12a),_0x22c944(0x24f),_0x22c944(0xe6),_0x22c944(0xe1)],_0xb8c988=[_0x22c944(0x205),_0x22c944(0x1dc),'converterLocation',_0x22c944(0xe4),_0x22c944(0x256),_0x22c944(0x17e),_0x22c944(0x123),'dwgmergeLocation','linklistLocation',_0x22c944(0x16f)],_0x475677=['ServerUrl',_0x22c944(0x1ab),'mysqlUsername',_0x22c944(0x25e),_0x22c944(0x1a9),'cached_conversion',_0x22c944(0x183)],_0x56ebc5={'ServerUrl':_0x22c944(0x1c8),'autoxchange_executable':'AutoXchange\x20Settings','linklist_executable':_0x22c944(0x209),'dwgmerge_executable':'DwgMerge\x20Settings','setup_mysqlHost':_0x22c944(0x17a),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':_0x22c944(0x1dd),'smtpHost':_0x22c944(0xd0)},_0x407650={'https':_0x22c944(0x15d),'ServerFrontEndUrlAsAllowedOriginOnly':_0x22c944(0x15d),'autodetect_platform':_0x22c944(0x15d),'cvjs_svgz_compress':_0x22c944(0x15d),'cached_conversion':'boolean','remainOnServer':_0x22c944(0x15d),'cvjs_debug':'boolean','autodetect_location':_0x22c944(0x15d),'platform':'radio|windows,linux','autoxchange_executable':_0x22c944(0x17f)+(_0x1473fa==='windows'?_0x53e873[_0x22c944(0x178)](','):_0x2a56fb[_0x22c944(0x178)](',')),'autoxchange_executable_windows':_0x22c944(0x17f)+_0x53e873[_0x22c944(0x178)](','),'autoxchange_executable_linux':_0x22c944(0x17f)+_0x2a56fb['join'](','),'dwgmerge_executable':_0x22c944(0x17f)+(_0x1473fa===_0x22c944(0x1a1)?_0x284d76[_0x22c944(0x178)](','):_0x57b77c[_0x22c944(0x178)](',')),'dwgmerge_executable_windows':_0x22c944(0x17f)+_0x284d76['join'](','),'dwgmerge_executable_linux':_0x22c944(0x17f)+_0x57b77c[_0x22c944(0x178)](','),'linklist_executable':_0x22c944(0x17f)+(_0x1473fa==='windows'?_0x40ad66['join'](','):_0x1b6427[_0x22c944(0x178)](',')),'linklist_executable_windows':_0x22c944(0x17f)+_0x40ad66[_0x22c944(0x178)](','),'linklist_executable_linux':_0x22c944(0x17f)+_0x1b6427['join'](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':_0x22c944(0x15d),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x22c944(0x15d),'contentLocationCheck':'boolean','globalBearerAutentication':_0x22c944(0x15d),'bcryptSaltRounds':_0x22c944(0x1b9),'userFolderMaximumFiles':'number','userFolderMaximumSizeInMB':_0x22c944(0x1b9)},_0x8a9745={},_0x380c9a=Object[_0x22c944(0x1d0)](_0x257ad2);_0x257ad2[_0x22c944(0x122)]&&_0x5741c7[_0x22c944(0x1d8)](_0x22c944(0x1de)),_0x257ad2['autodetect_location']&&(_0xb8c988[_0x22c944(0x1d8)]('ServerLocation'),_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0x12c)),_0xb8c988[_0x22c944(0x1d8)]('dwgmerge_executable'),_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0x19b))),!_0x257ad2['callbackMethod_gatewayUrl_flag']&&_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0x111)),!_0x257ad2['setup_mysqlHost']&&(_0xb8c988['push'](_0x22c944(0x1ab)),_0xb8c988[_0x22c944(0x1d8)]('mysqlUsername'),_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0x25e)),_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0x1a9))),!_0x257ad2[_0x22c944(0xfb)]&&_0xb8c988[_0x22c944(0x1d8)]('ContentSecurityPolicy'),!_0x257ad2[_0x22c944(0x1aa)]&&(_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0x24a)),_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0x167))),!_0x257ad2[_0x22c944(0x1cd)]&&_0xb8c988[_0x22c944(0x1d8)](_0x22c944(0xe7)),_0x380c9a[_0x22c944(0x14e)](_0x2ac21c=>{const _0x155aab=_0x22c944;!_0x5741c7[_0x155aab(0x145)](_0x2ac21c)&&(_0x8a9745[_0x2ac21c]=_0x257ad2[_0x2ac21c]);}),_0x8a9745[_0x22c944(0x1dc)]=''+_0x257ad2[_0x22c944(0x23d)]+_0x257ad2[_0x22c944(0x205)],_0x67052['status'](0xc8)[_0x22c944(0x168)]({'notEditableFields':_0xb8c988,'customFieldTypes':_0x407650,'notHotEditableFields':_0x475677,'config':_0x8a9745,'fieldsTitle':_0x56ebc5,'configData':_0x257ad2});}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x1c6),protectedRoute,async(_0x462ddc,_0x3683d2)=>{const _0x28362a=a26_0x3bbfb0,_0xd01fa4=fs[_0x28362a(0x128)](path['join'](path[_0x28362a(0x185)](require[_0x28362a(0x141)][_0x28362a(0x20c)]),'cadviewer/settings/logs.html'),_0x28362a(0x1a7)),_0x1dd13c=_0xd01fa4[_0x28362a(0x1d6)](_0x28362a(0x143),_0x462ddc[_0x28362a(0x16f)]);_0x3683d2[_0x28362a(0x242)](_0x1dd13c);});function findMatchingLogFiles(_0x4227e2,_0x18da89=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x53edc5=a26_0x3bbfb0;try{const _0x11b4a4=fs[_0x53edc5(0x14a)](_0x4227e2);return _0x11b4a4[_0x53edc5(0x11e)](_0xc7cfd7=>_0x18da89['test'](_0xc7cfd7))[_0x53edc5(0x10e)](_0x4b9b35=>_0x4b9b35[_0x53edc5(0x1d6)](_0x53edc5(0x179),'')[_0x53edc5(0x1d6)](_0x53edc5(0x181),''));}catch(_0x17d53b){return console[_0x53edc5(0x1b4)](_0x53edc5(0x203),_0x17d53b),[];}}router[a26_0x3bbfb0(0xff)](a26_0x3bbfb0(0x1c9),async(_0x553f60,_0x200ccf)=>{const _0x2bd1ca=a26_0x3bbfb0,_0x14cf00=new Date(),_0x19e1e7=_0x14cf00[_0x2bd1ca(0x1f2)]()[_0x2bd1ca(0x1c2)]()[_0x2bd1ca(0x25c)](0x2,'0')+'_'+(_0x14cf00[_0x2bd1ca(0x136)]()+0x1)[_0x2bd1ca(0x1c2)]()[_0x2bd1ca(0x25c)](0x2,'0')+'_'+_0x14cf00[_0x2bd1ca(0x151)](),{displayDay:_0x446d96}=_0x553f60[_0x2bd1ca(0x222)],_0x3e5374=path[_0x2bd1ca(0x178)](path[_0x2bd1ca(0x185)](require[_0x2bd1ca(0x141)][_0x2bd1ca(0x20c)]),_0x2bd1ca(0x1b1),_0x2bd1ca(0x179)+(_0x446d96??_0x19e1e7)+_0x2bd1ca(0x181));fs['existsSync'](_0x3e5374)?fs[_0x2bd1ca(0x186)](_0x3e5374,_0x2bd1ca(0x1a7),function(_0x4ac171,_0x347653){const _0x2cdf8e=_0x2bd1ca;_0x4ac171&&_0x200ccf[_0x2cdf8e(0x1c3)](0x1f4)['send'](_0x4ac171),_0x200ccf[_0x2cdf8e(0x1c3)](0xc8)[_0x2cdf8e(0x168)]({'content':_0x347653,'days':findMatchingLogFiles(path[_0x2cdf8e(0x178)](path[_0x2cdf8e(0x185)](require[_0x2cdf8e(0x141)]['filename']),_0x2cdf8e(0x1b1)))});}):_0x200ccf[_0x2bd1ca(0x1c3)](0xc8)['json']({'content':'','days':findMatchingLogFiles(path['join'](path[_0x2bd1ca(0x185)](require[_0x2bd1ca(0x141)]['filename']),_0x2bd1ca(0x1b1)))});}),router['delete'](a26_0x3bbfb0(0x216),async(_0x382743,_0x41b22c)=>{const _0x53dea5=a26_0x3bbfb0,_0x5e3b15=new Date(),_0x1ef342=_0x5e3b15['getDate']()[_0x53dea5(0x1c2)]()[_0x53dea5(0x25c)](0x2,'0')+'_'+(_0x5e3b15[_0x53dea5(0x136)]()+0x1)[_0x53dea5(0x1c2)]()[_0x53dea5(0x25c)](0x2,'0')+'_'+_0x5e3b15[_0x53dea5(0x151)](),_0x16f172=findMatchingLogFiles(path[_0x53dea5(0x178)](path['dirname'](require['main'][_0x53dea5(0x20c)]),_0x53dea5(0x1b1)));_0x16f172[_0x53dea5(0x14e)](_0x3946e0=>{const _0x3266f9=_0x53dea5;if(_0x3946e0!==_0x1ef342)fs[_0x3266f9(0x24d)](path[_0x3266f9(0x178)](path['dirname'](require[_0x3266f9(0x141)]['filename']),_0x3266f9(0x1b1),_0x3266f9(0x179)+_0x3946e0+_0x3266f9(0x181)));}),logStream[_0x53dea5(0x228)](),_0x41b22c['status'](0xc8)['json']({'message':_0x53dea5(0x10b)});}),router['get']('/restapi-test',protectedRoute,async(_0x393693,_0xac3997)=>{const _0x16fd1e=a26_0x3bbfb0,_0x1e3cdb=path['join'](path[_0x16fd1e(0x185)](require[_0x16fd1e(0x141)]['filename']),_0x16fd1e(0xec));if(!fs['existsSync'](_0x1e3cdb)){const _0x1fdee9={'jsonDataExtraction':{'standard':[{'paramName':_0x16fd1e(0x168),'paramValue':''},{'paramName':_0x16fd1e(0x241),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x16fd1e(0x244)},{'paramName':_0x16fd1e(0x207),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x16fd1e(0x211)},{'paramName':_0x16fd1e(0x207),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x16fd1e(0x244)},{'paramName':'model','paramValue':''},{'paramName':_0x16fd1e(0x13f),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs['writeFileSync'](_0x1e3cdb,JSON[_0x16fd1e(0x204)](_0x1fdee9,null,0x4));}const _0x2cb536=fs['readFileSync'](path[_0x16fd1e(0x178)](path[_0x16fd1e(0x185)](require['main']['filename']),_0x16fd1e(0x1cc)),'utf8'),_0x3bef75=_0x2cb536[_0x16fd1e(0x1d6)](_0x16fd1e(0x143),_0x393693[_0x16fd1e(0x16f)]);_0xac3997[_0x16fd1e(0x242)](_0x3bef75);}),router['post']('/restapi-test/parameters/search',async(_0x49f3f6,_0x4e8469)=>{const _0xfe351a=a26_0x3bbfb0,{actionName:_0x4022b2,contentLocation:_0x4e2a61}=_0x49f3f6['body'],_0x45fc4c=path[_0xfe351a(0x178)](path['dirname'](require[_0xfe351a(0x141)]['filename']),'cadviewer/settings/rest-api-parameters.json');fs[_0xfe351a(0x186)](_0x45fc4c,_0xfe351a(0x1a7),function(_0x2ffbfe,_0x5e4133){const _0xb11ed6=_0xfe351a;if(_0x2ffbfe)_0x4e8469[_0xb11ed6(0x1c3)](0xc8)[_0xb11ed6(0x168)]({'parameters':[]});else{const _0xf87211=JSON[_0xb11ed6(0x229)](_0x5e4133);if(_0xf87211[_0x4022b2]&&_0xf87211[_0x4022b2][_0x4e2a61])_0x4e8469[_0xb11ed6(0x1c3)](0xc8)[_0xb11ed6(0x168)]({'parameters':_0xf87211[_0x4022b2][_0x4e2a61]});else _0xf87211[_0x4022b2]&&_0xf87211[_0x4022b2][_0xb11ed6(0xfa)]?_0x4e8469[_0xb11ed6(0x1c3)](0xc8)[_0xb11ed6(0x168)]({'parameters':_0xf87211[_0x4022b2][_0xb11ed6(0xfa)]}):_0x4e8469[_0xb11ed6(0x1c3)](0xc8)[_0xb11ed6(0x168)]({'parameters':[]});}});}),router['post']('/restapi-test/parameters/save',async(_0x5e8369,_0x2fdccd)=>{const _0x29ded8=a26_0x3bbfb0,{actionName:_0x231e06,contentLocation:_0x1d15a5,parameters:_0x27c9ac}=_0x5e8369[_0x29ded8(0x222)],_0x3c9832=path[_0x29ded8(0x178)](path[_0x29ded8(0x185)](require[_0x29ded8(0x141)][_0x29ded8(0x20c)]),_0x29ded8(0xec));fs[_0x29ded8(0x186)](_0x3c9832,_0x29ded8(0x1a7),function(_0xf61e4b,_0x3dcee6){const _0x56e275=_0x29ded8;if(_0xf61e4b)_0x2fdccd[_0x56e275(0x1c3)](0x199)['json']({'message':_0x56e275(0x20a)});else{const _0x1c8330=JSON[_0x56e275(0x229)](_0x3dcee6);!_0x1c8330[_0x231e06]&&(_0x1c8330[_0x231e06]={}),_0x1c8330[_0x231e06][_0x1d15a5]=_0x27c9ac,fs[_0x56e275(0x176)](_0x3c9832,JSON[_0x56e275(0x204)](_0x1c8330,null,0x4),function(_0x22b851){const _0xf14057=_0x56e275;_0x22b851&&_0x2fdccd[_0xf14057(0x1c3)](0x199)[_0xf14057(0x168)]({'message':_0xf14057(0x20a)}),_0x2fdccd['status'](0xc8)[_0xf14057(0x168)]({'message':_0xf14057(0x1c5)});});}});}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x177),protectedRoute,async(_0x498571,_0x492d0b)=>{const _0x3654aa=a26_0x3bbfb0,_0x24b669=fs[_0x3654aa(0x128)](path[_0x3654aa(0x178)](path[_0x3654aa(0x185)](require[_0x3654aa(0x141)][_0x3654aa(0x20c)]),_0x3654aa(0xe0)),_0x3654aa(0x1a7)),_0x23175f=_0x24b669[_0x3654aa(0x1d6)](_0x3654aa(0x143),_0x498571[_0x3654aa(0x16f)]);_0x492d0b[_0x3654aa(0x242)](_0x23175f);}),router[a26_0x3bbfb0(0xff)]('/doctor/check',async(_0x4b4c56,_0xc7538)=>{const _0x5b66ab=a26_0x3bbfb0,_0x26340a=getHotConfig(),_0x14ccbb=_0x26340a[_0x5b66ab(0x175)][_0x5b66ab(0x1d6)]('//','/'),_0x24ccac=_0x26340a[_0x5b66ab(0x260)][_0x5b66ab(0x1d6)]('//','/'),_0x1d4082=_0x26340a[_0x5b66ab(0xf9)][_0x5b66ab(0x1d6)]('//','/'),_0x27e7f4=''+_0x14ccbb+_0x26340a[_0x5b66ab(0x12c)],_0x373458=''+_0x24ccac+_0x26340a[_0x5b66ab(0x10a)],_0x38944f=''+_0x1d4082+_0x26340a[_0x5b66ab(0x19b)],_0x407a14=[],_0x240bb9=new Promise(_0x167423=>{const _0x1cac17=_0x5b66ab;exec(os[_0x1cac17(0x1de)]()===_0x1cac17(0x1df)?_0x1cac17(0xd5):'ls',_0x3c4010=>{const _0x2b1af1=_0x1cac17;_0x3c4010?_0x407a14[_0x2b1af1(0x1d8)]({'title':_0x2b1af1(0xf1),'status':![],'priority':0x1}):_0x407a14[_0x2b1af1(0x1d8)]({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':!![],'priority':0x1}),_0x167423();});}),_0x5da9fb=new Promise(_0x12f6c3=>{const _0x1b17ad=_0x5b66ab;fs[_0x1b17ad(0x1f5)](_0x27e7f4,fs['constants'][_0x1b17ad(0x16b)],_0x7b7ba=>{const _0x41c380=_0x1b17ad;_0x7b7ba?_0x407a14[_0x41c380(0x1d8)]({'title':_0x41c380(0x233)+_0x26340a[_0x41c380(0x12c)]+_0x41c380(0x247),'status':![],'priority':0x2}):_0x407a14[_0x41c380(0x1d8)]({'title':_0x41c380(0x233)+_0x26340a[_0x41c380(0x12c)]+_0x41c380(0x247),'status':!![],'priority':0x2}),_0x12f6c3();});}),_0x3850db=new Promise(_0x27eff7=>{const _0x38ae78=_0x5b66ab;fs[_0x38ae78(0x1f5)](_0x373458,fs[_0x38ae78(0x193)][_0x38ae78(0x16b)],_0x2f0728=>{const _0xa09c31=_0x38ae78;_0x2f0728?_0x407a14['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x26340a[_0xa09c31(0x10a)]+_0xa09c31(0x247),'status':![],'priority':0x3}):_0x407a14[_0xa09c31(0x1d8)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x26340a['dwgmerge_executable']+'\x22\x20executable','status':!![],'priority':0x3}),_0x27eff7();});}),_0x1728e0=new Promise(_0x312042=>{const _0x56bc87=_0x5b66ab;fs[_0x56bc87(0x1f5)](_0x38944f,fs[_0x56bc87(0x193)][_0x56bc87(0x16b)],_0x448f6e=>{const _0x73052f=_0x56bc87;_0x448f6e?_0x407a14[_0x73052f(0x1d8)]({'title':_0x73052f(0x233)+_0x26340a['linklist_executable']+'\x22\x20executable','status':![],'priority':0x4}):_0x407a14[_0x73052f(0x1d8)]({'title':_0x73052f(0x233)+_0x26340a[_0x73052f(0x19b)]+_0x73052f(0x247),'status':!![],'priority':0x4}),_0x312042();});}),_0x1fd8c6=new Promise(_0x444bbe=>{const _0x3e0ee4=_0x5b66ab,_0x521ea3=new Date(),_0x2462cd=_0x521ea3[_0x3e0ee4(0x1f2)]()[_0x3e0ee4(0x1c2)]()[_0x3e0ee4(0x25c)](0x2,'0')+'_'+(_0x521ea3['getMonth']()+0x1)[_0x3e0ee4(0x1c2)]()[_0x3e0ee4(0x25c)](0x2,'0')+'_'+_0x521ea3[_0x3e0ee4(0x151)](),{displayDay:_0x7fd333}=_0x4b4c56[_0x3e0ee4(0x222)];fs[_0x3e0ee4(0x1f5)](path['join'](path[_0x3e0ee4(0x185)](require[_0x3e0ee4(0x141)]['filename']),'logs',_0x3e0ee4(0x179)+(_0x7fd333??_0x2462cd)+_0x3e0ee4(0x181)),fs['constants'][_0x3e0ee4(0xd1)],_0x598368=>{const _0x171075=_0x3e0ee4;_0x598368?_0x407a14[_0x171075(0x1d8)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x7fd333??_0x2462cd)+_0x171075(0x17d),'status':![],'priority':0x5}):_0x407a14[_0x171075(0x1d8)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x7fd333??_0x2462cd)+'.log\x22','status':!![],'priority':0x5}),_0x444bbe();});}),_0x5e44fa=(_0xe7d337,_0x1ca27e)=>{const _0x4c3931=_0x5b66ab,_0x5446c4=path[_0x4c3931(0x178)](path[_0x4c3931(0x185)](require[_0x4c3931(0x141)]['filename']),_0xe7d337);return new Promise(_0x234554=>{const _0x5f4eca=_0x4c3931;fs[_0x5f4eca(0x1f5)](path['join'](path[_0x5f4eca(0x185)](_0x5446c4)),fs[_0x5f4eca(0x193)][_0x5f4eca(0x1fb)]|fs[_0x5f4eca(0x193)]['W_OK'],_0x5e8864=>{const _0x22ab4e=_0x5f4eca;_0x5e8864?_0x407a14[_0x22ab4e(0x1d8)]({'title':_0x22ab4e(0x15e)+_0xe7d337,'status':![],'priority':_0x1ca27e+0x6}):_0x407a14[_0x22ab4e(0x1d8)]({'title':_0x22ab4e(0x15e)+_0xe7d337,'status':!![],'priority':_0x1ca27e+0x6}),_0x234554();});});},_0x1c0d8e=['/converters/files/','/converters/autoxchange/linux/',_0x5b66ab(0x187),_0x5b66ab(0x1fa),'/converters/files/pdf/','/content/redlines/',_0x5b66ab(0x255)],_0x1fbcf0=_0x1c0d8e[_0x5b66ab(0x10e)](_0x5e44fa);Promise[_0x5b66ab(0x25d)]([_0x240bb9,_0x5da9fb,_0x3850db,_0x1728e0,_0x1fd8c6,..._0x1fbcf0])[_0x5b66ab(0x108)](()=>{const _0x2ff0ec=_0x5b66ab;_0xc7538[_0x2ff0ec(0x1c3)](0xc8)['json']({'checking_list':_0x407a14});})[_0x5b66ab(0x161)](()=>{const _0x3166e8=_0x5b66ab;_0xc7538[_0x3166e8(0x1c3)](0x1f4)['json']({'error':_0x3166e8(0x153)});});}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0xfd),protectedRoute,async(_0x414b3f,_0x1711a4)=>{const _0x122d39=a26_0x3bbfb0,_0x116ebd=fs[_0x122d39(0x128)](path['join'](path[_0x122d39(0x185)](require[_0x122d39(0x141)][_0x122d39(0x20c)]),_0x122d39(0x1d1)),_0x122d39(0x1a7)),_0x36caf8=_0x116ebd[_0x122d39(0x1d6)](_0x122d39(0x143),_0x414b3f['version']);_0x1711a4[_0x122d39(0x242)](_0x36caf8);}),router[a26_0x3bbfb0(0xff)](a26_0x3bbfb0(0x12d),async(_0x2a2423,_0x52f519)=>{const _0x154a2b=a26_0x3bbfb0;let _0x21d32c;try{const [_0x349610]=await conn[_0x154a2b(0x1fd)]()[_0x154a2b(0x172)](_0x154a2b(0x170),[]);_0x21d32c=_0x349610;}catch(_0xa7de4){console[_0x154a2b(0x1d4)](_0xa7de4),_0x52f519[_0x154a2b(0x1c3)](0x1f4)[_0x154a2b(0x168)]({'error':_0x154a2b(0x18d)});return;}_0x52f519[_0x154a2b(0x1c3)](0xc8)[_0x154a2b(0x168)]({'success':!![],'data':_0x21d32c});}),router[a26_0x3bbfb0(0xff)](a26_0x3bbfb0(0xfd),upload[a26_0x3bbfb0(0x1c4)]('avatar'),async(_0x364d8d,_0x51e541)=>{const _0x309813=a26_0x3bbfb0,{id:_0x5e1c24,first_name:_0x5c8469,last_name:_0x4f18da,username:_0xe80a04,email:_0xbd6e63,password:_0x1123d7,is_enabled:_0x4c23ac}=_0x364d8d[_0x309813(0x222)],_0x1da954=_0x364d8d[_0x309813(0x222)][_0x309813(0x1eb)]===_0x309813(0x1ba)?_0x309813(0x1ba):_0x364d8d[_0x309813(0x222)][_0x309813(0x1eb)]===_0x309813(0x258)?_0x309813(0x258):_0x309813(0x1fc);let _0x7fd6f8;console[_0x309813(0x1d4)](_0x309813(0x248));_0x1123d7&&(_0x7fd6f8=await bcrypt['hash'](_0x1123d7,0xa));let _0x27dc23=null;if(_0x364d8d[_0x309813(0x110)]){const _0x30a20a='avatars/'+randomUUID()+_0x309813(0x21c);fs[_0x309813(0x1b8)](_0x364d8d[_0x309813(0x110)][_0x309813(0x1a5)],'./'+_0x30a20a),_0x27dc23=config[_0x309813(0x23d)]+'/'+_0x30a20a;}if(_0x5e1c24){try{let [_0x19045a]=await conn['promise']()[_0x309813(0x172)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?',[_0xbd6e63,_0xe80a04,_0x5e1c24]);if(_0x19045a['length']>0x0)_0x51e541['status'](0x199)[_0x309813(0x168)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{!_0x364d8d[_0x309813(0x110)]&&([_0x19045a]=await conn[_0x309813(0x1fd)]()[_0x309813(0x172)](_0x309813(0x257),[_0x5e1c24]),_0x27dc23=_0x19045a[0x0]['avatar_url']);const _0x121c53=_0x309813(0x16c)+(_0x1123d7?_0x309813(0x20d):'')+_0x309813(0x166);await conn[_0x309813(0x1fd)]()[_0x309813(0x172)](_0x121c53,_0x1123d7?[_0x27dc23,_0x5c8469,_0x4f18da,_0xe80a04,_0xbd6e63,_0x7fd6f8,_0x4c23ac,_0x1da954,_0x5e1c24]:[_0x27dc23,_0x5c8469,_0x4f18da,_0xe80a04,_0xbd6e63,_0x4c23ac,_0x1da954,_0x5e1c24]);}}catch(_0x49a171){console[_0x309813(0x1d4)](_0x49a171),_0x51e541[_0x309813(0x1c3)](0x1f4)[_0x309813(0x168)]({'error':_0x309813(0x18d)});return;}_0x51e541[_0x309813(0x1c3)](0xc8)[_0x309813(0x168)]({'success':!![],'message':_0x309813(0x115)});}else{try{const [_0x4ac2e0]=await conn['promise']()[_0x309813(0x172)](_0x309813(0x21d),[_0xbd6e63,_0xe80a04]);if(_0x4ac2e0['length']>0x0)_0x51e541['status'](0x199)[_0x309813(0x168)]({'error':_0x309813(0x18f)});else{const _0x2597a3=randomUUID();await conn[_0x309813(0x1fd)]()['execute'](_0x309813(0xd6),[_0x27dc23,_0x5c8469,_0x4f18da,_0xe80a04,_0xbd6e63,_0x7fd6f8,_0x1da954,_0x4c23ac,_0x2597a3]);const _0x42df71=_0x309813(0x1bc)+_0x2597a3;fs[_0x309813(0x1a6)](_0x42df71);}}catch(_0x577f4a){console[_0x309813(0x1d4)](_0x577f4a),_0x51e541[_0x309813(0x1c3)](0x1f4)['json']({'error':_0x309813(0x18d)});return;}_0x51e541[_0x309813(0x1c3)](0xc8)[_0x309813(0x168)]({'success':!![],'message':_0x309813(0x214)});}}),router['delete'](a26_0x3bbfb0(0x113),async(_0x45a6e6,_0xbe22fd)=>{const _0x330ee8=a26_0x3bbfb0,{userId:_0x29eeb7}=_0x45a6e6['body'];let _0x2d6e0d;try{const [_0x3a672f]=await conn['promise']()['execute'](_0x330ee8(0x257),[_0x29eeb7]);_0x3a672f['length']>0x0&&(_0x2d6e0d=_0x3a672f[0x0]);}catch(_0x471ac1){console[_0x330ee8(0x1d4)]({'err':_0x471ac1}),_0xbe22fd[_0x330ee8(0x1c3)](0x1f4)[_0x330ee8(0x168)]({'error':_0x330ee8(0x18d)});return;}if(!_0x2d6e0d){_0xbe22fd[_0x330ee8(0x1c3)](0x191)[_0x330ee8(0x168)]({'error':_0x330ee8(0x23b)});return;}let _0x53b409=_0x2d6e0d[_0x330ee8(0x173)];if(!_0x53b409){_0x53b409=randomUUID();try{await conn[_0x330ee8(0x1fd)]()[_0x330ee8(0x172)](_0x330ee8(0x1b5),[_0x53b409,_0x29eeb7]);}catch(_0x196679){console[_0x330ee8(0x1d4)]({'err':_0x196679}),_0xbe22fd['status'](0x1f4)[_0x330ee8(0x168)]({'error':_0x330ee8(0x18d)});return;}}const _0xa3c92a=_0x330ee8(0x1bc)+_0x53b409;console[_0x330ee8(0x1d4)](_0x330ee8(0x197)),console[_0x330ee8(0x1d4)](_0xa3c92a),!fs[_0x330ee8(0x235)](_0xa3c92a)&&fs[_0x330ee8(0x1a6)](_0xa3c92a),fs['rmSync'](_0xa3c92a,{'recursive':!![],'force':!![]}),fs[_0x330ee8(0x1a6)](_0xa3c92a),_0xbe22fd[_0x330ee8(0x1c3)](0xc8)[_0x330ee8(0x168)]({'success':!![],'message':'User\x20directory\x20flushed\x20successfully'});}),router[a26_0x3bbfb0(0x1b7)](a26_0x3bbfb0(0x15b),async(_0x579274,_0x1df55a)=>{const _0x4fefec=a26_0x3bbfb0,_0x4fe38c=_0x579274[_0x4fefec(0x11c)]['userId'];try{let _0x2eea5d;try{const [_0xd03bc4]=await conn['promise']()[_0x4fefec(0x172)](_0x4fefec(0x257),[_0x4fe38c]);_0xd03bc4['length']>0x0&&(_0x2eea5d=_0xd03bc4[0x0]);}catch(_0x16cb25){console['log']({'err':_0x16cb25}),_0x1df55a[_0x4fefec(0x1c3)](0x1f4)[_0x4fefec(0x168)]({'error':_0x4fefec(0x18d)});return;}if(!_0x2eea5d){_0x1df55a[_0x4fefec(0x1c3)](0x191)[_0x4fefec(0x168)]({'error':'Invalid\x20user'});return;}let _0x52bd05=_0x2eea5d[_0x4fefec(0x173)];if(_0x52bd05){const _0x20b734=_0x4fefec(0x1bc)+_0x52bd05;fs[_0x4fefec(0x235)](_0x20b734)&&fs[_0x4fefec(0x1c1)](_0x20b734,{'recursive':!![],'force':!![]});}await conn[_0x4fefec(0x1fd)]()[_0x4fefec(0x172)](_0x4fefec(0xdf),[_0x4fe38c]);}catch(_0x45c3e4){console[_0x4fefec(0x1d4)](_0x45c3e4),_0x1df55a[_0x4fefec(0x1c3)](0x1f4)[_0x4fefec(0x168)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x1df55a[_0x4fefec(0x1c3)](0xc8)[_0x4fefec(0x168)]({'success':!![],'message':_0x4fefec(0xd2)});}),router[a26_0x3bbfb0(0x24c)]('/metrics',async(_0x5e42c5,_0x572e3e)=>{const _0x1f8d4e=a26_0x3bbfb0,_0x278297=osu['cpu'],_0x4ac30f=osu[_0x1f8d4e(0x106)],_0x2908b0=osu[_0x1f8d4e(0x22d)],_0x4a2ed4=osu['os'],_0x708c37={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x581776=os[_0x1f8d4e(0x1de)]()===_0x1f8d4e(0x1df)?'c:':'/';const _0x37abd2=await _0x2908b0[_0x1f8d4e(0x1ad)](_0x581776);_0x708c37['percentage']=_0x37abd2[_0x1f8d4e(0x1f4)],_0x708c37[_0x1f8d4e(0x1b2)]=_0x37abd2['usedGb'],_0x708c37[_0x1f8d4e(0x191)]=_0x37abd2[_0x1f8d4e(0x191)],_0x708c37['totalGB']=_0x37abd2[_0x1f8d4e(0x25a)];}catch(_0x12d161){console[_0x1f8d4e(0x1d4)](_0x1f8d4e(0x147),_0x12d161);}const _0x1270d9={'usage':0x0,'count':0x0};try{_0x1270d9[_0x1f8d4e(0x103)]=await _0x278297[_0x1f8d4e(0x103)](),_0x1270d9[_0x1f8d4e(0x174)]=_0x278297['count']();}catch(_0x5f40f2){console[_0x1f8d4e(0x1d4)](_0x1f8d4e(0xd8),_0x5f40f2);}const _0x557c3c={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x557c3c['os']=await _0x4a2ed4[_0x1f8d4e(0x1d7)](),_0x557c3c[_0x1f8d4e(0x1de)]=_0x4a2ed4['platform'](),_0x557c3c['ip']=_0x4a2ed4['ip'](),_0x557c3c[_0x1f8d4e(0x1ec)]=_0x4a2ed4[_0x1f8d4e(0x1ec)](),_0x557c3c[_0x1f8d4e(0x24e)]=_0x4a2ed4['hostname'](),_0x557c3c['type']=_0x4a2ed4[_0x1f8d4e(0x109)](),_0x557c3c['arch']=_0x4a2ed4['arch'](),_0x557c3c[_0x1f8d4e(0x210)]=await osu[_0x1f8d4e(0x24b)][_0x1f8d4e(0x210)](),_0x557c3c[_0x1f8d4e(0x22f)]=await osu['osCmd'][_0x1f8d4e(0x22f)](),_0x557c3c[_0x1f8d4e(0x192)]=await osu[_0x1f8d4e(0x24b)]['vmstats']();}catch(_0x28d00f){console[_0x1f8d4e(0x1d4)]('Error\x20getting\x20os\x20info',_0x28d00f);}const _0x147c4e={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x147c4e[_0x1f8d4e(0x119)]=await osu[_0x1f8d4e(0x13e)][_0x1f8d4e(0x119)](),_0x147c4e[_0x1f8d4e(0x1a3)]=await osu[_0x1f8d4e(0x13e)][_0x1f8d4e(0x1a3)]();}catch(_0x591d76){console[_0x1f8d4e(0x1d4)](_0x1f8d4e(0x1e7),_0x591d76);}let _0x30ecab={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x266c40=await _0x4ac30f[_0x1f8d4e(0x1ad)]();_0x30ecab[_0x1f8d4e(0x101)]=_0x266c40[_0x1f8d4e(0x101)],_0x30ecab[_0x1f8d4e(0x1b3)]=_0x266c40[_0x1f8d4e(0x1e0)]/0x400/0x400,_0x30ecab[_0x1f8d4e(0x19c)]=_0x266c40[_0x1f8d4e(0x1e3)]/0x400/0x400;}catch(_0x287730){console[_0x1f8d4e(0x1d4)]('Error\x20getting\x20memory\x20info',_0x287730);}let _0x20cc26=0x0;try{_0x20cc26=await conn['promise']()['query']('SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users')[_0x1f8d4e(0x108)](([_0x3f3f5a])=>_0x3f3f5a[0x0][_0x1f8d4e(0x1e3)]);}catch(_0x4fdc96){console[_0x1f8d4e(0x1d4)](_0x1f8d4e(0x253),_0x4fdc96);}const _0x5c1b34=getMonitoringData(),_0x30953f=_0x5c1b34[_0x1f8d4e(0x11e)](_0x475cbd=>_0x475cbd[_0x1f8d4e(0x21f)]!==null&&_0x475cbd['conversionTimeSpend']!==undefined),_0x295ba8=_0x5c1b34[_0x1f8d4e(0x11e)](_0x3c3df4=>_0x3c3df4[_0x1f8d4e(0x13b)]!==null&&_0x3c3df4[_0x1f8d4e(0x13b)]!==undefined)[_0x1f8d4e(0x10e)](_0x4b1f2f=>parseFloat(_0x4b1f2f[_0x1f8d4e(0x13b)][_0x1f8d4e(0x1d6)]('Kb')[_0x1f8d4e(0x206)]())),_0x248fa6=_0x30953f[_0x1f8d4e(0x263)]((_0x80668c,_0x53f3ef)=>_0x80668c+parseFloat(_0x53f3ef['conversionTimeSpend']),0x0)/_0x30953f[_0x1f8d4e(0x266)],_0x239964=_0x295ba8[_0x1f8d4e(0x263)]((_0x3d3e52,_0x1baf97)=>_0x3d3e52+_0x1baf97,0x0)/_0x295ba8[_0x1f8d4e(0x266)];_0x572e3e[_0x1f8d4e(0x168)]({'requestsPerSecond':counter[_0x1f8d4e(0x131)](),'diskUsage':_0x708c37,'cpus':_0x1270d9,'system':_0x557c3c,'process':_0x147c4e,'totalMonitoringData':_0x5c1b34[_0x1f8d4e(0x266)],'memory':_0x30ecab,'totalUsers':_0x20cc26,'avgConvertionTime':_0x248fa6,'avgMemoryUsage':_0x239964});}),router[a26_0x3bbfb0(0xff)](a26_0x3bbfb0(0x259),(_0x5452f7,_0x9722d2)=>{const _0x251755=a26_0x3bbfb0;counter[_0x251755(0x20f)](),_0x9722d2['json']({'message':_0x251755(0x15a)});});const getMonitoringData=()=>{const _0x38adbd=a26_0x3bbfb0,_0x33594d=_0x38adbd(0x184);let _0x280837=[];try{_0x280837=JSON['parse'](fs[_0x38adbd(0x128)](_0x33594d));}catch(_0x419999){console[_0x38adbd(0x1d4)](_0x38adbd(0x1af));}return _0x280837;};router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x25f),async(_0xeb41b5,_0x2ac06f)=>{const _0x4f4fca=a26_0x3bbfb0,{page:page=0x1,limit:limit=0xa}=_0xeb41b5[_0x4f4fca(0xf8)],_0x35c7e1=(page-0x1)*limit;try{const _0x17e6dc=getMonitoringData(),_0x3ccc82=_0x17e6dc[_0x4f4fca(0x266)],_0x3aef5f=Math[_0x4f4fca(0x158)](_0x3ccc82/limit),_0x3a0cd1=_0x17e6dc[_0x4f4fca(0x116)](_0x35c7e1,_0x35c7e1+limit);_0x2ac06f[_0x4f4fca(0x1c3)](0xc8)[_0x4f4fca(0x168)]({'data':_0x3a0cd1,'page':parseInt(''+page),'totalPages':_0x3aef5f,'total':_0x3ccc82});}catch(_0x52c21e){console[_0x4f4fca(0x1d4)](_0x52c21e),_0x2ac06f[_0x4f4fca(0x1c3)](0x1f4)['json']({'error':_0x4f4fca(0x18d)});}}),router['delete'](a26_0x3bbfb0(0xd4),async(_0x41c911,_0x5b715e)=>{const _0x2e6d6b=a26_0x3bbfb0,_0x3eef01=_0x2e6d6b(0x184);try{fs[_0x2e6d6b(0x144)](_0x3eef01,JSON['stringify']([],null,0x4)),_0x5b715e[_0x2e6d6b(0x1c3)](0xc8)[_0x2e6d6b(0x168)]({'message':_0x2e6d6b(0xfc)});}catch(_0x306cdf){console['log'](_0x306cdf),_0x5b715e['status'](0x1f4)[_0x2e6d6b(0x168)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router['get']('/conversion/memorydata',async(_0x177338,_0x5e29ff)=>{const _0x11e674=a26_0x3bbfb0,_0x3eeca8=getHotConfig()[_0x11e674(0x175)][_0x11e674(0x1d6)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x177338[_0x11e674(0xf8)],_0x3ee762=(page-0x1)*limit;try{const _0x28f89c=_0x3eeca8+_0x11e674(0x21a);console['log'](_0x28f89c);const _0x546ead=fs['readFileSync'](_0x28f89c,_0x11e674(0x1a7)),_0x543889=_0x546ead[_0x11e674(0xf7)]('\x0a'),_0x54f7f2=[];_0x543889['forEach'](_0x5cad10=>{const _0x58e8e1=_0x11e674,_0x19f3d0=_0x5cad10[_0x58e8e1(0xf7)](',');if(_0x19f3d0['length']<0x4)return;const _0x23ef59=_0x19f3d0[0x0],_0x12421d=_0x19f3d0[0x1],_0x3c549a=parseFloat(_0x19f3d0[0x2]);_0x54f7f2['push']({'file':_0x23ef59[_0x58e8e1(0x1d6)]('\x22',''),'action':_0x12421d,'timeSpend':_0x3c549a,'memoryUsage':_0x19f3d0[0x3]});});const _0x393fd8=_0x54f7f2[_0x11e674(0x266)],_0x33f012=Math['ceil'](_0x393fd8/limit),_0x390f7f=_0x54f7f2[_0x11e674(0x116)](_0x3ee762,_0x3ee762+limit);_0x5e29ff[_0x11e674(0x1c3)](0xc8)[_0x11e674(0x168)]({'data':_0x390f7f,'page':parseInt(''+page),'totalPages':_0x33f012,'total':_0x393fd8});}catch(_0x16d71b){console[_0x11e674(0x1d4)](_0x16d71b),_0x5e29ff['status'](0x1f4)[_0x11e674(0x168)]({'error':_0x11e674(0x18d)});}}),router['get'](a26_0x3bbfb0(0xf5),async(_0x30adab,_0x395eae)=>{const _0x1a1798=a26_0x3bbfb0,_0xa9cd21=path['join'](path['dirname'](require[_0x1a1798(0x141)]['filename']),_0x1a1798(0x16a),'files');try{let _0x5d1779=0x0,_0x4d788b=0x0;function _0x3c91d1(_0x20a053){const _0x48f30b=_0x1a1798;let _0x401b4e=0x0,_0x5b7b83=0x0;if(fs[_0x48f30b(0x235)](_0x20a053)){const _0x20f92e=fs['readdirSync'](_0x20a053);_0x5b7b83=0x0;for(const _0x53084d of _0x20f92e){const _0x2d3a12=path[_0x48f30b(0x178)](_0x20a053,_0x53084d),_0x3414e7=fs[_0x48f30b(0x202)](_0x2d3a12);if(_0x3414e7[_0x48f30b(0x127)]()&&_0x53084d!==_0x48f30b(0x14d))_0x5b7b83++,_0x401b4e+=_0x3414e7[_0x48f30b(0x238)];else{if(_0x3414e7['isDirectory']()){}}}}return{'size':_0x401b4e,'count':_0x5b7b83};}const _0x594640=_0x3c91d1(_0xa9cd21);_0x5d1779=_0x594640[_0x1a1798(0x238)],_0x4d788b=_0x594640[_0x1a1798(0x174)],_0x395eae[_0x1a1798(0x168)]({'fileCount':_0x4d788b,'totalSize':_0x5d1779});}catch(_0x3288a4){console[_0x1a1798(0x1b4)]('Error\x20getting\x20cache\x20stats:',_0x3288a4),_0x395eae['status'](0x1f4)[_0x1a1798(0x168)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x3bbfb0(0x1b7)](a26_0x3bbfb0(0x121),async(_0x4361e0,_0x461fdc)=>{const _0x1b62f2=a26_0x3bbfb0,_0x413b60=path[_0x1b62f2(0x178)](path[_0x1b62f2(0x185)](require[_0x1b62f2(0x141)][_0x1b62f2(0x20c)]),_0x1b62f2(0x16a),_0x1b62f2(0x138));try{function _0xe20b8d(_0x385ac9){const _0x141159=_0x1b62f2;if(fs[_0x141159(0x235)](_0x385ac9)){const _0x41be01=fs[_0x141159(0x14a)](_0x385ac9);for(const _0x5163ac of _0x41be01){const _0x10a283=path[_0x141159(0x178)](_0x385ac9,_0x5163ac),_0x1a9cc9=fs[_0x141159(0x202)](_0x10a283);if(_0x1a9cc9[_0x141159(0x1e4)]()){}else _0x5163ac!==_0x141159(0x14d)&&fs[_0x141159(0x24d)](_0x10a283);}}}_0xe20b8d(_0x413b60),_0x461fdc[_0x1b62f2(0x168)]({'message':_0x1b62f2(0xfe)});}catch(_0x5504b2){console[_0x1b62f2(0x1b4)](_0x1b62f2(0x1bb),_0x5504b2),_0x461fdc[_0x1b62f2(0x1c3)](0x1f4)[_0x1b62f2(0x168)]({'error':_0x1b62f2(0x1da)});}}),router['get']('/cache-stats.js',async(_0x57640c,_0x1b1110)=>{const _0x2425b2=a26_0x3bbfb0;_0x1b1110['sendFile'](path[_0x2425b2(0x178)](path['dirname'](require[_0x2425b2(0x141)][_0x2425b2(0x20c)]),_0x2425b2(0x239)));}),router['get'](a26_0x3bbfb0(0x236),protectedRoute,async(_0x4a4b83,_0x58a140)=>{const _0x43e0b1=a26_0x3bbfb0,_0x4ae239=fs['readFileSync'](path[_0x43e0b1(0x178)](path[_0x43e0b1(0x185)](require[_0x43e0b1(0x141)][_0x43e0b1(0x20c)]),'cadviewer/settings/conversion-cache.html'),_0x43e0b1(0x1a7)),_0x520bbb=_0x4ae239[_0x43e0b1(0x1d6)](_0x43e0b1(0x143),_0x4a4b83['version']);_0x58a140[_0x43e0b1(0x242)](_0x520bbb);}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x13a),async(_0x363189,_0x35c222)=>{const _0xe36f37=a26_0x3bbfb0,{page:page=0x1,limit:limit=0x10}=_0x363189['query'],_0x12417f=JSON[_0xe36f37(0x229)](fs[_0xe36f37(0x128)](path[_0xe36f37(0x178)](path[_0xe36f37(0x185)](require['main']['filename']),_0xe36f37(0x100)))),_0xc9251b=(page-0x1)*limit,_0x39487c=page*limit,_0x180c37=_0x12417f['files'][_0xe36f37(0x266)],_0x58f6f6=Math[_0xe36f37(0x158)](_0x180c37/limit),_0x25e024=_0x12417f['files'][_0xe36f37(0x116)](_0xc9251b,_0x39487c);_0x35c222[_0xe36f37(0x168)]({'files':_0x25e024,'pagination':{'total':_0x180c37,'totalPages':_0x58f6f6,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x133),async(_0x2d9f96,_0x4fda74)=>{const _0xab4ff2=a26_0x3bbfb0,{file:_0x11cb70}=_0x2d9f96[_0xab4ff2(0x11c)],_0x48337f=path['join'](path['dirname'](require[_0xab4ff2(0x141)][_0xab4ff2(0x20c)]),_0xab4ff2(0x16a),_0xab4ff2(0x138)),_0x5a30d6=path[_0xab4ff2(0x178)](_0x48337f,_0x11cb70),_0x42994d=fs['readFileSync'](_0x5a30d6,'utf8'),_0x138f3e=_0x42994d['split']('\x0a'),_0x117661=_0x138f3e[_0xab4ff2(0x10e)](_0x2b070e=>{const _0x474619=_0xab4ff2,_0x168a4f=_0x2b070e['split'](',');return _0x168a4f[_0x474619(0x10e)](_0x4f25df=>_0x4f25df[_0x474619(0x1d6)]('\x22',''));});_0x4fda74[_0xab4ff2(0x168)](_0x117661);}),router[a26_0x3bbfb0(0x24c)](a26_0x3bbfb0(0x1f8),async(_0x203483,_0xc46c9e)=>{const _0x3870ea=a26_0x3bbfb0,{id:_0x961f1c}=_0x203483[_0x3870ea(0x11c)],_0x487b05=path[_0x3870ea(0x178)](path[_0x3870ea(0x185)](require[_0x3870ea(0x141)][_0x3870ea(0x20c)]),'converters',_0x3870ea(0x138)),_0x441e27=path['join'](_0x487b05,_0x961f1c);if(_0x441e27[_0x3870ea(0x254)](_0x3870ea(0x14c))){var _0x5dc4e9=require('zlib');const _0x305c59=fs[_0x3870ea(0x128)](_0x441e27),_0x5c604c=_0x5dc4e9['gunzipSync'](_0x305c59);_0xc46c9e['setHeader'](_0x3870ea(0x1b6),_0x3870ea(0x230)),_0xc46c9e[_0x3870ea(0x242)](_0x5c604c);}else _0xc46c9e['sendFile'](_0x441e27);}),router[a26_0x3bbfb0(0x1b7)](a26_0x3bbfb0(0x1f8),async(_0x2e974d,_0x4ab48f)=>{const _0x33759e=a26_0x3bbfb0,{id:_0x24a25e}=_0x2e974d[_0x33759e(0x11c)],_0x1c3e56=path['join'](path[_0x33759e(0x185)](require[_0x33759e(0x141)][_0x33759e(0x20c)]),_0x33759e(0x16a),_0x33759e(0x138)),_0x2a37a9=JSON['parse'](fs[_0x33759e(0x128)](path['join'](path[_0x33759e(0x185)](require['main'][_0x33759e(0x20c)]),_0x33759e(0x100)))),_0x34a2ee=_0x2a37a9[_0x33759e(0x138)]['find'](_0x23cd82=>_0x23cd82[_0x33759e(0x154)]===_0x24a25e);if(_0x34a2ee){try{fs[_0x33759e(0x235)](path[_0x33759e(0x178)](_0x1c3e56,_0x34a2ee[_0x33759e(0x154)]))&&fs[_0x33759e(0x24d)](path[_0x33759e(0x178)](_0x1c3e56,_0x34a2ee[_0x33759e(0x154)]));}catch(_0x1c8803){console[_0x33759e(0x1d4)]({'e':_0x1c8803});}(_0x34a2ee[_0x33759e(0x159)]??[])[_0x33759e(0x14e)](_0x4c070e=>{const _0x28ef08=_0x33759e;try{fs['existsSync'](path['join'](_0x1c3e56,_0x4c070e['id']))&&fs[_0x28ef08(0x24d)](path[_0x28ef08(0x178)](_0x1c3e56,_0x4c070e['id']));}catch(_0x52942c){console[_0x28ef08(0x1d4)]({'e':_0x52942c});}});}analyzeConverterFiles(),_0x4ab48f['json']({'message':_0x33759e(0x1ca)});});const deleteOldDemoUsers=async()=>{const _0x69e64d=a26_0x3bbfb0;console[_0x69e64d(0x1d4)]('Deleting\x20old\x20demo_user\x20accounts...');const _0x46f1a7=config[_0x69e64d(0x1d9)],_0x43f4a1=_0x69e64d(0x117);try{const [_0x37ab30]=await conn[_0x69e64d(0x1fd)]()['execute'](_0x43f4a1,[_0x46f1a7]),_0x4ff39b=_0x37ab30[_0x69e64d(0x10e)](_0x2bcd26=>_0x2bcd26['folder_name']),_0x19b25f=_0x37ab30[_0x69e64d(0x10e)](_0x4785e3=>_0x4785e3[_0x69e64d(0x1ac)]);console[_0x69e64d(0x1d4)](_0x19b25f),await conn[_0x69e64d(0x1fd)]()[_0x69e64d(0x172)](_0x69e64d(0x18c),[_0x46f1a7]),_0x4ff39b['forEach'](_0x59c22a=>{const _0xac07cd=_0x69e64d;try{const _0xf96e17=_0xac07cd(0x1bc)+_0x59c22a;fs[_0xac07cd(0x165)](_0xf96e17);}catch(_0x2a6390){console[_0xac07cd(0x1b4)](_0xac07cd(0x23e),_0x2a6390);}}),console[_0x69e64d(0x1d4)](_0x69e64d(0x20e)+_0x37ab30[_0x69e64d(0x266)]+_0x69e64d(0x217)+_0x46f1a7+_0x69e64d(0x1ed));}catch(_0x81fbe8){console[_0x69e64d(0x1b4)](_0x69e64d(0x11b),_0x81fbe8);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x301aa8=a26_0x3bbfb0,_0x313d5b=require(_0x301aa8(0x1cb))[_0x301aa8(0x190)];try{const [_0x3d07bc]=await conn[_0x301aa8(0x1fd)]()[_0x301aa8(0x172)](_0x301aa8(0x117),[config[_0x301aa8(0x1d9)]-config[_0x301aa8(0x10c)]]);if(_0x3d07bc[_0x301aa8(0x266)]===0x0){console[_0x301aa8(0x1d4)](_0x301aa8(0x1c7));return;}for(const _0xc78471 of _0x3d07bc){let _0x35237a=_0x301aa8(0xdc)+(_0xc78471[_0x301aa8(0x142)]||_0xc78471[_0x301aa8(0x243)])+_0x301aa8(0x1a4);const _0x415337={'from':config[_0x301aa8(0x212)],'to':_0xc78471[_0x301aa8(0x1ac)],'subject':_0x301aa8(0x104),'text':'Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','html':_0x35237a};try{await _0x313d5b[_0x301aa8(0x1c0)](_0x415337),console[_0x301aa8(0x1d4)]('Deletion\x20prevention\x20email\x20sent\x20to\x20'+_0xc78471['email']);}catch(_0x33dd6e){console[_0x301aa8(0x1d4)]('===================error==================='),console[_0x301aa8(0x1d4)](_0x301aa8(0x23c)+_0xc78471['email']),console['log'](_0x33dd6e);}}}catch(_0x40fabc){console[_0x301aa8(0x1d4)](_0x301aa8(0x220)),console[_0x301aa8(0x1d4)](_0x301aa8(0x1ee)),console[_0x301aa8(0x1d4)](_0x40fabc);}};function a26_0x2140(){const _0x5e3bad=['diskStorage','====================','.pdf','Error\x20renaming\x20file.','JSON','linklist_executable','totalMemMb','File\x20not\x20found','settings','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','cadviewer/settings/folders.html','windows','../libs/counter.js','zombieProcesses',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','path','mkdirSync','utf8','linux','mysqlDatabase','fileLoad_PasswordAuthentication','mysqlHost','email','info','Folder\x20deleted.','Error\x20reading\x20monitoring\x20file','mode','logs','usedGB','usedMemMb','error','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Content-Type','delete','renameSync','number','admin','Error\x20flushing\x20cache:','./uploads/','File\x20or\x20Folder\x20not\x20found','gray','fileName','sendMail','rmSync','toString','status','single','Parameters\x20saved.','/logs','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','Server\x20Settings','/logs/content','File\x20deleted\x20successfully','../libs/mail','cadviewer/settings/rest-api.html','globalBearerAutentication','darwin','DWG\x20file\x20in\x20multiple\x20files','keys','cadviewer/settings/users.html','dwgmerge_executable_windows','../CADViewer_config.json','log','scheduleJob','replaceAll','oos','push','demoUserRetentionDays','Failed\x20to\x20flush\x20cache','Le\x20dossier\x20','fileLocationUrl','Demo\x20and\x20Base\x20User\x20Settings','platform','win32','used','replace','child_process','total','isDirectory','/vanilla-toast.css','sendFile','Error\x20getting\x20process\x20info','red','cadviewer/settings/chart.min.js','DWG\x20to\x20SVG\x20Conversion','role','uptime','\x20days\x20have\x20been\x20deleted.','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','.dwg','6915510vjlbIb','write','getDate','from','usedPercentage','access','../libs/log','application/octet-stream','/cache/files/:id','Content-Disposition','/converters/files/print/','R_OK','user','promise','JSON\x20Data\x20Extraction','download','createdAt','./tmp','statSync','Error\x20finding\x20log\x20files:','stringify','fileLocation','trim','model','/config','LinkList\x20Settings','Error\x20saving\x20parameters.','8rYVPJa','filename','`crypted_password`\x20=\x20?,\x20','Old\x20demo_user\x20accounts\x20(','reset','who','pdf','smtpFrom','toLocaleLowerCase','User\x20created\x20successfully','3222285SouUDf','/logs/clean',')\x20older\x20than\x20','extname','\x20n\x27existe\x20pas.','memorydata.csv','originalname','.png','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','lastIndexOf','conversionTimeSpend','===================error===================','Folder\x20created.','body','.json','/config/content','isArray','cadviewer/settings/licences.html','Folder\x20not\x20found.','clean','parse','autoxchange_executable_linux','/vanilla-toast.js','Config\x20updated.','drive','.dwg.json','whoami','image/svg+xml','node-os-utils','toUpperCase','Permission\x20750\x20for\x20the\x20\x22','linklist_executable_linux','existsSync','/cache','node-schedule','size','cadviewer/settings/cache-stats.js','/folders/upload','Invalid\x20user','Failed\x20to\x20send\x20email\x20to\x20','ServerUrl','Error\x20deleting\x20user\x20folder:','pop','multer','blocks','send','username','svg','Config\x20updated\x20successfully','*\x20*\x20*\x20*\x20*','\x22\x20executable','=============================>','crypto','fileLoad_UserName','osCmd','get','unlinkSync','hostname','converterpathWin','/style.css','.svg','SVG','Error\x20getting\x20total\x20users','endsWith','/content/redlines/v7/','xpathLocation','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','demo_user','/metrics/reset','totalGb','\x20GB','padStart','all','mysqlPassword','/conversion/list','dwgmergeLocation','green','cadviewer/settings/tailwind.js','reduce','rename','\x20MB','length','Mail\x20Server\x20Settings','W_OK','User\x20deleted\x20successfully','exports','/conversion/clean','dir','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','0\x201\x20*\x20*\x20*','Error\x20getting\x20cpu\x20usage','some','1164399LeVaNw','express','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','DWG','1316873DVXTUe','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','cadviewer/settings/doctor.html','fontLocation','autodetect_location','has','licenseLocation','sort','converterpathLin','globalBearerAutenticationToken','Folder\x20not\x20found','RL/TL\x20Processing','dwgmerge_executable_linux','set','cadviewer/settings/rest-api-parameters.json','.csv','/config/global-update','formatedSize','2vkXyql','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','12nQhhjY','folderLocation','ServerLocation','/cache/stats','mkdir','split','query','linklistLocation','standard','ContentSecurityPolicyReportOnly','Monitoring\x20file\x20cleaned.','/users','Cache\x20flushed\x20successfully','post','cadviewer/settings/converter-files-analysis.json','usedMemPercentage','dwgFile','usage','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','purple','mem','test','then','type','dwgmerge_executable','Log\x20file\x20cleaned.','demoUserRetentionDaysAlertBeforeDeletion','entries','map','tmp','file','callbackMethod_gatewayUrl','CADViewer\x20Settings','/users/flush-dir','cadviewer','User\x20updated\x20successfully','slice','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','/chart.min.js','totalProcesses','Cache\x20conversion','Error\x20deleting\x20old\x20demo_user\x20accounts:','params','Router','filter','9392994IHgcSe','cadviewer/settings/style.css','/cache/flush','autodetect_platform','callbackMethod','message','put','bcrypt','isFile','readFileSync','Display\x20of\x20DWG','https','cadviewer/settings/vanilla-toast.css','autoxchange_executable','/users/list','../libs/mysql.js','SVGZ','ctime','getStats','setHeader','/cache/csv/:file','\x20\x20\x20','settingsUserBasicAuth','getMonth','linklist_executable_windows','files','File\x20renamed.','/cache/files','conversionMemoryUsage','PDF','/folders','proc','hlall','settingsPasswordBasicAuth','main','first_name','{version}','writeFileSync','includes','21174420lruLvs','Error\x20getting\x20disk\x20usage','Files\x20uploaded\x20successfully','folderName','readdirSync','/folders/download','.svgz','.gitkeep','forEach','autoxchange_executable_windows','Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)','getFullYear','blue','An\x20error\x20occurred\x20while\x20checking.','name','CADViewer_config.json','converter-files-analysis.json','DWG\x20to\x20PDF\x20Conversion','ceil','availableFormats','Counter\x20reset\x20successfully','/users/:userId','Error\x20creating\x20folder.','boolean','Read\x20and\x20write\x20permission\x20for\x20folder\x20','sub_dirs','array','catch','5375356btcfdU','express-basic-auth','now','rmdirSync','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','fileLoad_Password','json','/folders/update','converters','X_OK','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','/licences','action','version','SELECT\x20*\x20FROM\x20users','CSV','execute','folder_name','count','converterLocation','writeFile','/doctor','join','call-Api_Conversion_','Database\x20Settings','birthtime','svgz','.log\x22','temp_print_folder','radio|','mimetype','.log','Error\x20downloading\x20file.','cvjs_svgz_compress','cadviewer/settings/requests-callapiconversion-monitoring.json','dirname','readFile','/converters/files/merged/','/tailwind.js','Error\x20deleting\x20file.','isFolder','toFixed','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Error!\x20Something\x20went\x20wrong.','/icons.js','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','transporter','freeGb','vmstats','constants','yellow','/folders/delete'];a26_0x2140=function(){return _0x5e3bad;};return a26_0x2140();}schedule[a26_0x3bbfb0(0x1d5)](a26_0x3bbfb0(0xd7),deleteOldDemoUsers),schedule[a26_0x3bbfb0(0x1d5)]('0\x200\x20*\x20*\x20*',sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x5d535f=a26_0x3bbfb0;try{const _0x1c1a7e=path['join'](path[_0x5d535f(0x185)](require[_0x5d535f(0x141)][_0x5d535f(0x20c)]),_0x5d535f(0x16a),_0x5d535f(0x138)),_0x1d4f3d=path[_0x5d535f(0x178)](path[_0x5d535f(0x185)](require[_0x5d535f(0x141)][_0x5d535f(0x20c)]),_0x5d535f(0x114),_0x5d535f(0x19e));if(!fs[_0x5d535f(0x235)](_0x1c1a7e)){logStream[_0x5d535f(0x1f1)](_0x5d535f(0x1db)+_0x1c1a7e+'\x20n\x27existe\x20pas.');return;}if(!fs[_0x5d535f(0x235)](_0x1d4f3d)){logStream['write'](_0x5d535f(0x1db)+_0x1d4f3d+_0x5d535f(0x219));return;}const _0x3bc104=fs[_0x5d535f(0x14a)](_0x1c1a7e),_0x443ffe=new Map();_0x3bc104[_0x5d535f(0x14e)](_0x3f27a3=>{const _0x9b82ae=_0x5d535f,_0x52888a=path[_0x9b82ae(0x178)](_0x1c1a7e,_0x3f27a3),_0x562e86=fs['statSync'](_0x52888a);_0x443ffe[_0x9b82ae(0xeb)](_0x3f27a3,_0x562e86);});const _0x2594c3=[],_0x2f51bd=Array[_0x5d535f(0x1f3)](_0x443ffe[_0x5d535f(0x10d)]())['map'](([_0x2b1e05,_0x3bad04])=>{const _0x3a7a1b=_0x5d535f;if(_0x3bad04[_0x3a7a1b(0x1e4)]())return undefined;let _0x496aef=undefined,_0x1dee6f=undefined;(_0x2b1e05['endsWith'](_0x3a7a1b(0x251))||_0x2b1e05[_0x3a7a1b(0x254)]('.svgz'))&&_0x443ffe[_0x3a7a1b(0xe3)](_0x2b1e05[_0x3a7a1b(0x1e1)](_0x3a7a1b(0x14c),'.csv')[_0x3a7a1b(0x1e1)](_0x3a7a1b(0x251),_0x3a7a1b(0xed)))&&(_0x496aef=_0x2b1e05['replace'](_0x3a7a1b(0x14c),_0x3a7a1b(0xed))[_0x3a7a1b(0x1e1)](_0x3a7a1b(0x251),'.csv'));_0x2b1e05['endsWith'](_0x3a7a1b(0x223))&&_0x443ffe['has'](_0x2b1e05[_0x3a7a1b(0x1e1)]('.json',_0x3a7a1b(0x1ef)))&&(_0x1dee6f=_0x2b1e05['replace'](_0x3a7a1b(0x223),_0x3a7a1b(0x1ef)));const _0xeff276=_0x538390=>{const _0x3caad9=_0x3a7a1b;if(_0x538390[_0x3caad9(0x254)]('.rl.json'))return _0x538390['slice'](0x0,-0x8);else{if(_0x538390['endsWith'](_0x3caad9(0x22e))){const _0x279e99=fs[_0x3caad9(0x128)](path['join'](_0x1c1a7e,_0x538390),_0x3caad9(0x1a7));return JSON[_0x3caad9(0x229)](_0x279e99)['cachedfiles'][_0x3caad9(0x10e)](_0x4c814e=>_0x4c814e[_0x3caad9(0x1bf)]);}}return _0x538390[_0x3caad9(0x116)](0x0,_0x538390[_0x3caad9(0x21e)]('.'));},_0x55410d=_0xeff276(_0x2b1e05),_0xa680a6=Array[_0x3a7a1b(0x1f3)](_0x443ffe[_0x3a7a1b(0x1d0)]())[_0x3a7a1b(0x11e)](_0x44170a=>{const _0x468492=_0x3a7a1b;return Array['isArray'](_0x55410d)?_0x55410d[_0x468492(0xd9)](_0x1703d6=>_0xeff276(_0x44170a)===_0x1703d6&&_0x44170a!==_0x2b1e05):_0xeff276(_0x44170a)===_0x55410d&&_0x44170a!==_0x2b1e05;});if(Array[_0x3a7a1b(0x225)](_0x55410d)){if(_0x55410d[_0x3a7a1b(0xd9)](_0x3e107a=>_0x2594c3[_0x3a7a1b(0x145)](_0x3e107a)))return;}else{if(_0x2594c3[_0x3a7a1b(0x145)](_0x55410d))return;}Array[_0x3a7a1b(0x225)](_0x55410d)?_0x55410d[_0x3a7a1b(0x14e)](_0x5b39e2=>{const _0x3df40a=_0x3a7a1b;_0x2594c3[_0x3df40a(0x1d8)](_0x5b39e2);}):_0x2594c3['push'](_0x55410d);const _0x568b93=[{'id':_0x2b1e05,'name':_0x2b1e05[_0x3a7a1b(0x254)](_0x3a7a1b(0x251))?_0x3a7a1b(0x252):_0x2b1e05['endsWith'](_0x3a7a1b(0x14c))?_0x3a7a1b(0x12f):_0x2b1e05['endsWith'](_0x3a7a1b(0x198))?_0x3a7a1b(0x13c):_0x2b1e05[_0x3a7a1b(0x254)]('.json')?_0x3a7a1b(0x19a):_0x2b1e05['endsWith']('.csv')?_0x3a7a1b(0x171):_0x2b1e05['endsWith'](_0x3a7a1b(0x1ef))?'DWG':_0x2b1e05[_0x3a7a1b(0xf7)]('.')[_0x3a7a1b(0x23f)]()[_0x3a7a1b(0x232)](),'color':_0x2b1e05['endsWith']('.svg')||_0x2b1e05[_0x3a7a1b(0x254)](_0x3a7a1b(0x14c))?_0x3a7a1b(0x194):_0x2b1e05[_0x3a7a1b(0x254)](_0x3a7a1b(0x198))?_0x3a7a1b(0x1e8):_0x2b1e05[_0x3a7a1b(0x254)](_0x3a7a1b(0x223))?_0x3a7a1b(0x1be):_0x2b1e05['endsWith'](_0x3a7a1b(0xed))?'green':_0x2b1e05[_0x3a7a1b(0x254)](_0x3a7a1b(0x1ef))?'blue':'purple'},..._0xa680a6[_0x3a7a1b(0x10e)](_0x14b0ef=>({'id':_0x14b0ef,'name':_0x14b0ef[_0x3a7a1b(0x254)]('.svg')?_0x3a7a1b(0x252):_0x14b0ef['endsWith'](_0x3a7a1b(0x14c))?_0x3a7a1b(0x12f):_0x14b0ef[_0x3a7a1b(0x254)](_0x3a7a1b(0x198))?_0x3a7a1b(0x13c):_0x14b0ef[_0x3a7a1b(0x254)](_0x3a7a1b(0x223))?_0x3a7a1b(0x19a):_0x14b0ef[_0x3a7a1b(0x254)]('.csv')?'CSV':_0x14b0ef[_0x3a7a1b(0x254)]('.dwg')?_0x3a7a1b(0xdd):_0x14b0ef[_0x3a7a1b(0xf7)]('.')[_0x3a7a1b(0x23f)]()[_0x3a7a1b(0x232)](),'color':_0x14b0ef[_0x3a7a1b(0x254)](_0x3a7a1b(0x251))||_0x14b0ef[_0x3a7a1b(0x254)](_0x3a7a1b(0x14c))?_0x3a7a1b(0x194):_0x14b0ef['endsWith'](_0x3a7a1b(0x198))?'red':_0x14b0ef[_0x3a7a1b(0x254)](_0x3a7a1b(0x223))?_0x3a7a1b(0x1be):_0x14b0ef['endsWith'](_0x3a7a1b(0xed))?_0x3a7a1b(0x261):_0x14b0ef['endsWith']('.dwg')?_0x3a7a1b(0x152):_0x3a7a1b(0x105)}))];let _0x4dc0f6='';if(_0x568b93[_0x3a7a1b(0xd9)](_0x394453=>_0x394453['id'][_0x3a7a1b(0x145)]('.rl.json')))_0x4dc0f6=_0x3a7a1b(0xe9);else{if(_0x568b93[_0x3a7a1b(0xd9)](_0x3835ff=>[_0x3a7a1b(0x244),_0x3a7a1b(0x17c)]['includes'](_0x3835ff['id']['split']('.')['pop']()))&&_0x496aef)_0x4dc0f6=_0x3a7a1b(0x1ea);else{if(_0x568b93['some'](_0x9ca254=>['svg',_0x3a7a1b(0x17c)][_0x3a7a1b(0x145)](_0x9ca254['id'][_0x3a7a1b(0xf7)]('.')['pop']())))_0x4dc0f6=_0x3a7a1b(0x129);else{if(_0x568b93[_0x3a7a1b(0xd9)](_0xa6f8bf=>[_0x3a7a1b(0x168)]['includes'](_0xa6f8bf['id'][_0x3a7a1b(0xf7)]('.')['pop']()))&&_0x1dee6f)_0x4dc0f6=_0x3a7a1b(0x1fe);else{if(_0x568b93[_0x3a7a1b(0xd9)](_0x3cc1d6=>[_0x3a7a1b(0x211)][_0x3a7a1b(0x145)](_0x3cc1d6['id'][_0x3a7a1b(0xf7)]('.')[_0x3a7a1b(0x23f)]())))_0x4dc0f6=_0x3a7a1b(0x157);else{if(_0x568b93[_0x3a7a1b(0xd9)](_0x47e18e=>[_0x3a7a1b(0x168)][_0x3a7a1b(0x145)](_0x47e18e['id'][_0x3a7a1b(0xf7)]('.')[_0x3a7a1b(0x23f)]()))&&!_0x1dee6f)_0x4dc0f6=_0x3a7a1b(0x1cf);else _0x568b93['some'](_0x38d419=>[_0x3a7a1b(0x168)][_0x3a7a1b(0x145)](_0x38d419['id']['split']('.')[_0x3a7a1b(0x23f)]()))&&(_0x4dc0f6=_0x3a7a1b(0x11a));}}}}}return{'name':_0x2b1e05,'size':_0x3bad04[_0x3a7a1b(0x238)],'createdAt':_0x3bad04[_0x3a7a1b(0x17b)],'updatedAt':_0x3bad04[_0x3a7a1b(0x130)],'readAt':_0x3bad04['atime'],'action':_0x4dc0f6,'csvFile':_0x496aef,'dwgFile':_0x1dee6f,'availableFormats':_0x568b93};})[_0x5d535f(0x11e)](_0x39939a=>_0x39939a!==undefined);_0x2f51bd[_0x5d535f(0xe5)]((_0x151287,_0x38330c)=>_0x38330c['createdAt']-_0x151287[_0x5d535f(0x200)]);const _0x3f3e3c={'timestamp':new Date(),'totalFiles':_0x2f51bd[_0x5d535f(0x266)],'filesByType':{'svg':_0x2f51bd['filter'](_0xe56edd=>_0xe56edd[_0x5d535f(0x154)][_0x5d535f(0x254)]('.svg'))[_0x5d535f(0x266)],'svgz':_0x2f51bd[_0x5d535f(0x11e)](_0xe3f427=>_0xe3f427['name'][_0x5d535f(0x254)]('.svgz'))['length'],'pdf':_0x2f51bd[_0x5d535f(0x11e)](_0x50692a=>_0x50692a[_0x5d535f(0x154)][_0x5d535f(0x254)](_0x5d535f(0x198)))[_0x5d535f(0x266)],'json':_0x2f51bd[_0x5d535f(0x11e)](_0x1f9ddb=>_0x1f9ddb[_0x5d535f(0x154)][_0x5d535f(0x254)](_0x5d535f(0x223)))[_0x5d535f(0x266)],'csv':_0x2f51bd[_0x5d535f(0x11e)](_0x39802d=>_0x39802d['csvFile'])[_0x5d535f(0x266)],'dwg':_0x2f51bd[_0x5d535f(0x11e)](_0x2769df=>_0x2769df[_0x5d535f(0x102)])[_0x5d535f(0x266)]},'filesByAction':{'dwgToSvg':_0x2f51bd[_0x5d535f(0x11e)](_0x4d40a8=>_0x4d40a8[_0x5d535f(0x16e)]===_0x5d535f(0x1ea))[_0x5d535f(0x266)],'displayDwg':_0x2f51bd[_0x5d535f(0x11e)](_0x5b1745=>_0x5b1745[_0x5d535f(0x16e)]===_0x5d535f(0x129))['length'],'jsonExtraction':_0x2f51bd[_0x5d535f(0x11e)](_0x6aede3=>_0x6aede3['action']===_0x5d535f(0x1fe))[_0x5d535f(0x266)],'dwgToPdf':_0x2f51bd[_0x5d535f(0x11e)](_0x2fbf70=>_0x2fbf70['action']===_0x5d535f(0x157))[_0x5d535f(0x266)],'splitFiles':_0x2f51bd[_0x5d535f(0x11e)](_0x1da3e5=>_0x1da3e5[_0x5d535f(0x16e)]===_0x5d535f(0x1cf))['length'],'rlProcessing':_0x2f51bd['filter'](_0x349efd=>_0x349efd[_0x5d535f(0x16e)]===_0x5d535f(0xe9))[_0x5d535f(0x266)],'cacheConversion':_0x2f51bd[_0x5d535f(0x11e)](_0x45ee34=>_0x45ee34[_0x5d535f(0x16e)]==='Cache\x20conversion')[_0x5d535f(0x266)]},'files':_0x2f51bd},_0x389e87=path[_0x5d535f(0x178)](_0x1d4f3d,_0x5d535f(0x156));fs['writeFileSync'](_0x389e87,JSON[_0x5d535f(0x204)](_0x3f3e3c,null,0x2)),logStream[_0x5d535f(0x1f1)]('Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20termine.\x20Rsultats\x20enregistrs\x20dans\x20'+_0x389e87);}catch(_0x2871d4){logStream[_0x5d535f(0x1f1)](_0x5d535f(0x19f)+_0x2871d4[_0x5d535f(0x124)]);}},scheduleFileAnalysis=()=>{const _0x25a17f=a26_0x3bbfb0;analyzeConverterFiles(),schedule['scheduleJob'](_0x25a17f(0x246),analyzeConverterFiles),logStream[_0x25a17f(0x1f1)](_0x25a17f(0x150));};scheduleFileAnalysis(),module[a26_0x3bbfb0(0xd3)]=router;