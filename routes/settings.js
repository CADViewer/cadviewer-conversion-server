const a26_0x4c62be=a26_0x1391;(function(_0x3a267a,_0x2cd70c){const _0x3293e3=a26_0x1391,_0x578bd3=_0x3a267a();while(!![]){try{const _0x1de964=parseInt(_0x3293e3(0x289))/0x1*(-parseInt(_0x3293e3(0x267))/0x2)+parseInt(_0x3293e3(0x300))/0x3+parseInt(_0x3293e3(0x21c))/0x4*(-parseInt(_0x3293e3(0x1e0))/0x5)+-parseInt(_0x3293e3(0x27a))/0x6*(-parseInt(_0x3293e3(0x1a9))/0x7)+parseInt(_0x3293e3(0x28e))/0x8+-parseInt(_0x3293e3(0x225))/0x9+-parseInt(_0x3293e3(0x1f2))/0xa*(-parseInt(_0x3293e3(0x265))/0xb);if(_0x1de964===_0x2cd70c)break;else _0x578bd3['push'](_0x578bd3['shift']());}catch(_0x4543ce){_0x578bd3['push'](_0x578bd3['shift']());}}}(a26_0x1da9,0x259b0));const express=require('express'),router=express[a26_0x4c62be(0x1ad)](),multer=require(a26_0x4c62be(0x310)),fs=require('fs'),path=require('path'),getHotConfig=require('../libs/config')['getHotConfig'],{exec}=require(a26_0x4c62be(0x2d6)),os=require('os'),conn=require(a26_0x4c62be(0x1c7)),bcrypt=require(a26_0x4c62be(0x1b9)),osu=require(a26_0x4c62be(0x2ea)),schedule=require(a26_0x4c62be(0x30a)),counter=require(a26_0x4c62be(0x207)),{randomUUID}=require(a26_0x4c62be(0x1c9)),logStream=require(a26_0x4c62be(0x240)),config=require(a26_0x4c62be(0x298)),basicAuth=require(a26_0x4c62be(0x313)),protectedRoute=basicAuth({'users':{[config[a26_0x4c62be(0x2d4)]]:config['settingsPasswordBasicAuth']},'challenge':!![],'realm':a26_0x4c62be(0x25d)});router['get'](a26_0x4c62be(0x2a5),async(_0x11c510,_0x4acc22)=>{const _0x4ed571=a26_0x4c62be;_0x4acc22[_0x4ed571(0x1e1)](path[_0x4ed571(0x192)](path[_0x4ed571(0x2dd)](require[_0x4ed571(0x21e)][_0x4ed571(0x1d4)]),'cadviewer/settings/tailwind.js'));}),router[a26_0x4c62be(0x1c1)]('/chart.min.js',async(_0x5cd5fc,_0x5c7d01)=>{const _0x429806=a26_0x4c62be;_0x5c7d01[_0x429806(0x1e1)](path[_0x429806(0x192)](path[_0x429806(0x2dd)](require[_0x429806(0x21e)][_0x429806(0x1d4)]),_0x429806(0x22c)));}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x1d0),async(_0x5e283f,_0x3d95bd)=>{const _0x68ba4f=a26_0x4c62be;_0x3d95bd[_0x68ba4f(0x1e1)](path[_0x68ba4f(0x192)](path['dirname'](require[_0x68ba4f(0x21e)][_0x68ba4f(0x1d4)]),_0x68ba4f(0x253)));}),router[a26_0x4c62be(0x1c1)]('/vanilla-toast.css',async(_0xd3513f,_0x982fd7)=>{const _0x5f2e80=a26_0x4c62be;_0x982fd7[_0x5f2e80(0x1e1)](path[_0x5f2e80(0x192)](path[_0x5f2e80(0x2dd)](require[_0x5f2e80(0x21e)][_0x5f2e80(0x1d4)]),_0x5f2e80(0x30f)));}),router[a26_0x4c62be(0x1c1)]('/vanilla-toast.js',async(_0x4d008f,_0xd83047)=>{const _0x350b47=a26_0x4c62be;_0xd83047[_0x350b47(0x1e1)](path[_0x350b47(0x192)](path[_0x350b47(0x2dd)](require[_0x350b47(0x21e)][_0x350b47(0x1d4)]),_0x350b47(0x18d)));}),router['get'](a26_0x4c62be(0x2b2),async(_0x15a197,_0x151642)=>{const _0x20aed4=a26_0x4c62be;_0x151642['sendFile'](path['join'](path[_0x20aed4(0x2dd)](require[_0x20aed4(0x21e)][_0x20aed4(0x1d4)]),'cadviewer/settings/icons.js'));}),router['get']('/',protectedRoute,async(_0x22d017,_0xdc2c0f)=>{const _0xe04f9c=a26_0x4c62be,_0x4f254d=fs[_0xe04f9c(0x2fb)](path['join'](path['dirname'](require[_0xe04f9c(0x21e)][_0xe04f9c(0x1d4)]),_0xe04f9c(0x2fa)),'utf8'),_0x599694=_0x4f254d['replaceAll'](_0xe04f9c(0x264),_0x22d017['version']);_0xdc2c0f['send'](_0x599694);}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x233),protectedRoute,async(_0x2f9720,_0x2518a2)=>{const _0x2d7bb7=a26_0x4c62be,_0x5d8096=fs['readFileSync'](path[_0x2d7bb7(0x192)](path[_0x2d7bb7(0x2dd)](require[_0x2d7bb7(0x21e)][_0x2d7bb7(0x1d4)]),_0x2d7bb7(0x2a8)),_0x2d7bb7(0x244)),_0x460846=_0x5d8096[_0x2d7bb7(0x1cb)](_0x2d7bb7(0x264),_0x2f9720[_0x2d7bb7(0x2b6)]);_0x2518a2[_0x2d7bb7(0x28a)](_0x460846);}),router['get']('/config',protectedRoute,async(_0x25da3c,_0x53dbc8)=>{const _0x25dd93=a26_0x4c62be,_0xb55b80=fs[_0x25dd93(0x2fb)](path[_0x25dd93(0x192)](path['dirname'](require[_0x25dd93(0x21e)][_0x25dd93(0x1d4)]),_0x25dd93(0x20c)),'utf8'),_0x285226=_0xb55b80[_0x25dd93(0x1cb)]('{version}',_0x25da3c[_0x25dd93(0x2b6)]);_0x53dbc8[_0x25dd93(0x28a)](_0x285226);}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x222),protectedRoute,async(_0xd544d,_0xa46aa9)=>{const _0x5c6337=a26_0x4c62be,_0x7fd74e=fs[_0x5c6337(0x2fb)](path[_0x5c6337(0x192)](path['dirname'](require['main']['filename']),_0x5c6337(0x1cf)),_0x5c6337(0x244)),_0x549d0a=_0x7fd74e[_0x5c6337(0x1cb)](_0x5c6337(0x264),_0xd544d[_0x5c6337(0x2b6)]);_0xa46aa9['send'](_0x549d0a);}),router[a26_0x4c62be(0x1b1)]('/folders',async(_0x466db4,_0x531554)=>{const _0x205fb4=a26_0x4c62be,_0x30ab0c=path[_0x205fb4(0x192)](path[_0x205fb4(0x2dd)](require[_0x205fb4(0x21e)][_0x205fb4(0x1d4)]),_0x205fb4(0x261)),_0x5ea0aa=JSON[_0x205fb4(0x2b3)](fs[_0x205fb4(0x2fb)](_0x30ab0c,_0x205fb4(0x244))),_0xdbbc9b=_0x5ea0aa[_0x205fb4(0x242)];if(!fs[_0x205fb4(0x259)](_0xdbbc9b))return _0x531554['status'](0x194)[_0x205fb4(0x227)]({'message':_0x205fb4(0x275)});const _0x335bdb=_0x5401c1=>{let _0x392f49=0x0;return _0x5401c1['forEach'](_0x13494d=>{const _0x4e2153=a26_0x1391;_0x13494d['isFolder']?_0x392f49+=_0x335bdb(_0x13494d[_0x4e2153(0x2ec)]):_0x392f49+=_0x13494d[_0x4e2153(0x1d5)];}),_0x392f49;},_0x2a2923=_0xd1445a=>{const _0x167e79=_0x205fb4;if(_0xd1445a<0x400)return _0xd1445a+'\x20B';else{if(_0xd1445a<0x400*0x400)return(_0xd1445a/0x400)[_0x167e79(0x2d8)](0x2)+'\x20KB';else return _0xd1445a<0x400*0x400*0x400?(_0xd1445a/0x400/0x400)[_0x167e79(0x2d8)](0x2)+_0x167e79(0x288):(_0xd1445a/0x400/0x400/0x400)[_0x167e79(0x2d8)](0x2)+_0x167e79(0x27e);}},_0x5233a3=(_0x542f36,_0x589a7f='')=>{const _0x339b2c=_0x205fb4,_0x4f334b=fs[_0x339b2c(0x206)](_0x542f36),_0x277b24=[];return _0x4f334b[_0x339b2c(0x245)](_0x4d2c1f=>{const _0x9fadb7=_0x339b2c,_0x1626e3=path['join'](_0x542f36,_0x4d2c1f)['replaceAll']('\x5c','/'),_0x12a76d=fs['statSync'](_0x1626e3);if(_0x12a76d['isDirectory']()){const _0x1af2c7=_0x5233a3(_0x1626e3,_0x589a7f+_0x9fadb7(0x27d));_0x277b24[_0x9fadb7(0x272)]({'name':_0x4d2c1f,'size':_0x12a76d[_0x9fadb7(0x1d5)],'path':_0x1626e3,'permissions':_0x12a76d['mode'],'isFolder':!![],'sub_dirs':_0x1af2c7});}else _0x277b24['push']({'name':_0x4d2c1f,'size':_0x12a76d['size'],'path':_0x1626e3,'permissions':_0x12a76d[_0x9fadb7(0x22a)],'isFolder':![]});}),_0x277b24;};let _0x2072dd=_0x5233a3(_0xdbbc9b);const _0x26b459=_0x1e14c3=>{return _0x1e14c3['forEach'](_0x2e3298=>{const _0x11bde=a26_0x1391;_0x2e3298[_0x11bde(0x1d9)]?(_0x2e3298[_0x11bde(0x203)]=_0x2a2923(_0x335bdb(_0x2e3298[_0x11bde(0x2ec)])),_0x2e3298[_0x11bde(0x2ec)]=_0x26b459(_0x2e3298[_0x11bde(0x2ec)])):_0x2e3298[_0x11bde(0x203)]=_0x2a2923(_0x2e3298['size']);}),_0x1e14c3;};_0x531554[_0x205fb4(0x2bc)](0xc8)[_0x205fb4(0x227)](_0x26b459(_0x2072dd));}),router[a26_0x4c62be(0x1b1)]('/folders/download',async(_0x2c9e8e,_0x58bf6e)=>{const _0x169789=a26_0x4c62be,{path:_0x19b0b3}=_0x2c9e8e[_0x169789(0x2ba)],_0x20108b=_0x19b0b3[_0x169789(0x2fd)]('/')['pop']();if(!fs['existsSync'](_0x19b0b3))return _0x58bf6e[_0x169789(0x2bc)](0x194)[_0x169789(0x227)]({'message':_0x169789(0x1ff)});_0x58bf6e[_0x169789(0x2f8)]('Content-Type',_0x169789(0x1db)),_0x58bf6e['setHeader'](_0x169789(0x1da),_0x169789(0x2aa)+_0x20108b+'\x22'),_0x58bf6e['download'](_0x19b0b3,_0x2704da=>{const _0x558518=_0x169789;_0x2704da&&_0x58bf6e[_0x558518(0x2bc)](0x1f4)[_0x558518(0x227)]({'message':_0x558518(0x2c2)});});}),router[a26_0x4c62be(0x1b1)](a26_0x4c62be(0x262),async(_0x52cf16,_0x29bdfd)=>{const _0xa24e6=a26_0x4c62be,_0x535ae1=_0x52cf16[_0xa24e6(0x2ba)],_0x3fbded=getHotConfig()[_0xa24e6(0x242)],_0x18c8d2=path[_0xa24e6(0x192)](_0x3fbded,_0x535ae1['path']);if(!fs[_0xa24e6(0x259)](_0x18c8d2))return _0x29bdfd[_0xa24e6(0x2bc)](0x194)['json']({'message':_0xa24e6(0x2b9)});if(fs[_0xa24e6(0x259)](path[_0xa24e6(0x192)](_0x18c8d2,_0x535ae1[_0xa24e6(0x1bf)])))return _0x29bdfd[_0xa24e6(0x2bc)](0x199)['json']({'message':'Folder\x20already\x20exists.'});fs[_0xa24e6(0x231)](path['join'](_0x18c8d2,_0x535ae1['folderName']),_0x4dec46=>{const _0x5d8fe6=_0xa24e6;_0x4dec46&&_0x29bdfd[_0x5d8fe6(0x2bc)](0x1f4)[_0x5d8fe6(0x227)]({'message':_0x5d8fe6(0x1bb)}),_0x29bdfd[_0x5d8fe6(0x2bc)](0xc8)[_0x5d8fe6(0x227)]({'message':_0x5d8fe6(0x294)});});}),router[a26_0x4c62be(0x23c)](a26_0x4c62be(0x21b),async(_0x56e448,_0x5c6a57)=>{const _0x1cfa5e=a26_0x4c62be,{newName:_0x4eb9fb,isFolder:_0x4d0b94,path:_0x2366de}=_0x56e448['body'];if(!fs[_0x1cfa5e(0x259)](_0x2366de))return _0x5c6a57[_0x1cfa5e(0x2bc)](0x194)[_0x1cfa5e(0x227)]({'message':_0x4d0b94?'Folder\x20not\x20found':_0x1cfa5e(0x1ff)});const _0x569432=_0x2366de['replace'](_0x2366de[_0x1cfa5e(0x2fd)]('/')['pop'](),_0x4eb9fb);fs[_0x1cfa5e(0x23b)](_0x2366de,_0x569432),fs[_0x1cfa5e(0x1a6)](_0x2366de),_0x5c6a57[_0x1cfa5e(0x2bc)](0xc8)['json']({'message':_0x4d0b94?'Folder\x20renamed.':'File\x20renamed.'});}),router['delete'](a26_0x4c62be(0x200),async(_0x5efe56,_0x4f8b1f)=>{const _0x4c630d=a26_0x4c62be,{path:_0x1a8d81}=_0x5efe56['body'];if(!fs[_0x4c630d(0x259)](_0x1a8d81))return _0x4f8b1f[_0x4c630d(0x2bc)](0x194)[_0x4c630d(0x227)]({'message':_0x4c630d(0x279)});const _0x4de343=fs[_0x4c630d(0x2e1)](_0x1a8d81);if(_0x4de343[_0x4c630d(0x236)]())fs[_0x4c630d(0x1de)](_0x1a8d81,_0x345bf3=>{const _0x200f88=_0x4c630d;_0x345bf3&&_0x4f8b1f[_0x200f88(0x2bc)](0x1f4)[_0x200f88(0x227)]({'message':'Error\x20deleting\x20file.'}),_0x4f8b1f[_0x200f88(0x2bc)](0xc8)[_0x200f88(0x227)]({'message':_0x200f88(0x1a4)});});else _0x4de343[_0x4c630d(0x1fe)]()&&fs[_0x4c630d(0x290)](_0x1a8d81,{'recursive':!![]},_0x189ecb=>{const _0x230caa=_0x4c630d;_0x189ecb&&_0x4f8b1f[_0x230caa(0x2bc)](0x1f4)['json']({'message':_0x230caa(0x2de)}),_0x4f8b1f[_0x230caa(0x2bc)](0xc8)[_0x230caa(0x227)]({'message':'Folder\x20deleted.'});});});function a26_0x1391(_0x40c737,_0x2d5ea0){const _0x1da9bb=a26_0x1da9();return a26_0x1391=function(_0x139127,_0x367e93){_0x139127=_0x139127-0x18a;let _0x51f85a=_0x1da9bb[_0x139127];return _0x51f85a;},a26_0x1391(_0x40c737,_0x2d5ea0);}!fs['existsSync'](a26_0x4c62be(0x24b))&&fs[a26_0x4c62be(0x2b1)](a26_0x4c62be(0x24b));const storage=multer[a26_0x4c62be(0x219)]({'destination':(_0x2a7eb2,_0x54c8c9,_0x1b159a)=>{const _0x342fce=a26_0x4c62be;_0x1b159a(null,_0x342fce(0x239));},'filename':(_0x2d15e0,_0x12f54f,_0x3cf625)=>{const _0x58b52c=a26_0x4c62be;_0x3cf625(null,Date['now']()+path['extname'](_0x12f54f[_0x58b52c(0x1ef)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x4c62be(0x1b1)](a26_0x4c62be(0x293),upload['array'](a26_0x4c62be(0x2bf)),async(_0x24e436,_0xdcafac)=>{const _0x4d93be=a26_0x4c62be,_0x4d10b9=_0x24e436[_0x4d93be(0x2ba)];if(!_0x24e436['files']||_0x24e436[_0x4d93be(0x2bf)][_0x4d93be(0x2e9)]===0x0)return _0xdcafac[_0x4d93be(0x2bc)](0x190)['json']({'message':'No\x20files\x20uploaded'});const _0x2938cc=getHotConfig()[_0x4d93be(0x242)],_0x293d27=path[_0x4d93be(0x192)](_0x2938cc,_0x4d10b9['path']);if(!fs[_0x4d93be(0x259)](_0x293d27))return _0xdcafac['status'](0x194)[_0x4d93be(0x227)]({'message':_0x4d93be(0x2b9)});const _0x3d9806=_0x24e436[_0x4d93be(0x2bf)][_0x4d93be(0x1b2)](_0x426b45=>({'originalname':_0x426b45[_0x4d93be(0x1ef)],'filename':_0x426b45[_0x4d93be(0x1d4)],'mimetype':_0x426b45[_0x4d93be(0x29b)],'size':_0x426b45[_0x4d93be(0x1d5)]}));_0x3d9806[_0x4d93be(0x245)](_0x363803=>{const _0x14e32f=_0x4d93be;fs[_0x14e32f(0x23b)](path[_0x14e32f(0x192)](_0x14e32f(0x239),_0x363803['filename']),path['join'](_0x293d27,_0x363803[_0x14e32f(0x1ef)])),fs[_0x14e32f(0x1a6)](path['join']('tmp',_0x363803['filename']));}),_0xdcafac['status'](0xc8)[_0x4d93be(0x227)]({'message':_0x4d93be(0x22b),'files':_0x3d9806});}),router[a26_0x4c62be(0x23c)](a26_0x4c62be(0x217),async(_0x416f8a,_0x58dc51)=>{const _0x27be7d=a26_0x4c62be,_0x1dd368=path[_0x27be7d(0x192)](path[_0x27be7d(0x2dd)](require[_0x27be7d(0x21e)][_0x27be7d(0x1d4)]),_0x27be7d(0x261)),{config:_0x25251a}=_0x416f8a[_0x27be7d(0x2ba)];if(!_0x25251a)return _0x58dc51['status'](0x190)[_0x27be7d(0x227)]({'message':_0x27be7d(0x28c)});try{fs[_0x27be7d(0x2f1)](_0x1dd368,JSON[_0x27be7d(0x25c)](_0x25251a,null,0x4)),_0x58dc51[_0x27be7d(0x2bc)](0xc8)[_0x27be7d(0x227)]({'message':_0x27be7d(0x202)});}catch(_0x471a87){_0x58dc51[_0x27be7d(0x2bc)](0x1f4)[_0x27be7d(0x227)]({'message':_0x27be7d(0x209)});}}),router[a26_0x4c62be(0x23c)](a26_0x4c62be(0x2c1),async(_0x56a4dd,_0x3b085b)=>{const _0xb5a241=a26_0x4c62be,{key:_0x7364bf,value:_0x1e538f}=_0x56a4dd['body'],_0x382daa=path[_0xb5a241(0x192)](path[_0xb5a241(0x2dd)](require[_0xb5a241(0x21e)][_0xb5a241(0x1d4)]),'CADViewer_config.json');fs['readFile'](_0x382daa,_0xb5a241(0x244),function(_0x4a49f6,_0x2df61b){const _0x14e8ce=_0xb5a241;_0x4a49f6&&_0x3b085b['status'](0x1f4)[_0x14e8ce(0x28a)](_0x4a49f6);const _0x4d9656=JSON['parse'](_0x2df61b);_0x4d9656[_0x7364bf]=_0x1e538f;if(_0x7364bf===_0x14e8ce(0x2dc)){let _0xc27e1='';if(_0x4d9656[_0x14e8ce(0x2db)]){_0xc27e1=os[_0x14e8ce(0x2fc)]();if(_0xc27e1===_0x14e8ce(0x2bd))_0xc27e1=_0x14e8ce(0x2ad);else{if(_0xc27e1==='darwin')_0xc27e1=_0x14e8ce(0x1ea);}}else _0xc27e1=_0x4d9656[_0x14e8ce(0x2fc)];if(_0xc27e1===_0x14e8ce(0x2ad)){_0x4d9656[_0x14e8ce(0x1dd)]=path[_0x14e8ce(0x2cf)](__dirname,'..')+'/';const _0x115cc2=/\\/g;_0x4d9656[_0x14e8ce(0x1dd)]=_0x4d9656[_0x14e8ce(0x1dd)][_0x14e8ce(0x24d)](_0x115cc2,'/');}else _0x4d9656['ServerLocation']=path['resolve'](__dirname,'..')+'/';}if(_0x7364bf===_0x14e8ce(0x2db)){let _0x40b194=os[_0x14e8ce(0x2fc)]();if(_0x40b194==='win32')_0x40b194=_0x14e8ce(0x2ad);else _0x40b194=_0x14e8ce(0x1ea);_0x40b194===_0x14e8ce(0x2ad)?_0x1e538f===!![]&&(_0x4d9656[_0x14e8ce(0x20b)]=_0x4d9656[_0x14e8ce(0x281)],_0x4d9656[_0x14e8ce(0x25b)]=_0x4d9656[_0x14e8ce(0x19b)],_0x4d9656['linklist_executable']=_0x4d9656['linklist_executable_windows']):_0x1e538f===!![]&&(_0x4d9656[_0x14e8ce(0x20b)]=_0x4d9656[_0x14e8ce(0x1ae)],_0x4d9656[_0x14e8ce(0x25b)]=_0x4d9656[_0x14e8ce(0x20d)],_0x4d9656[_0x14e8ce(0x1bc)]=_0x4d9656[_0x14e8ce(0x303)]),_0x4d9656[_0x14e8ce(0x2fc)]=_0x40b194;}if(_0x4d9656['autodetect_platform']){let _0x3770ed=os['platform']();if(_0x3770ed===_0x14e8ce(0x2bd))_0x3770ed=_0x14e8ce(0x2ad);else _0x3770ed=_0x14e8ce(0x1ea);if(_0x3770ed===_0x14e8ce(0x2ad)){if(_0x7364bf==='autoxchange_executable_windows')_0x4d9656[_0x14e8ce(0x20b)]=_0x1e538f;else{if(_0x7364bf==='dwgmerge_executable_windows')_0x4d9656['dwgmerge_executable']=_0x1e538f;else _0x7364bf===_0x14e8ce(0x215)&&(_0x4d9656[_0x14e8ce(0x1bc)]=_0x1e538f);}}else{if(_0x7364bf===_0x14e8ce(0x1ae))_0x4d9656['autoxchange_executable']=_0x1e538f;else{if(_0x7364bf==='dwgmerge_executable_linux')_0x4d9656[_0x14e8ce(0x25b)]=_0x1e538f;else _0x7364bf===_0x14e8ce(0x303)&&(_0x4d9656[_0x14e8ce(0x1bc)]=_0x1e538f);}}}fs[_0x14e8ce(0x1ee)](_0x382daa,JSON[_0x14e8ce(0x25c)](_0x4d9656,null,0x4),function(_0x5e46cb){const _0x3069e1=_0x14e8ce;_0x5e46cb&&_0x3b085b[_0x3069e1(0x2bc)](0x1f4)[_0x3069e1(0x28a)](_0x5e46cb),_0x3b085b[_0x3069e1(0x2bc)](0xc8)['json']({'message':_0x3069e1(0x256)});});});}),router[a26_0x4c62be(0x1b1)]('/config/content',async(_0x3398c1,_0x8b4256)=>{const _0x45d3ae=a26_0x4c62be,_0xd3be65=getHotConfig(),_0x3c383f=(_0xd3be65[_0x45d3ae(0x29a)][_0x45d3ae(0x1f6)](_0xd3be65['ServerLocation'])?'':_0xd3be65[_0x45d3ae(0x1dd)])+_0xd3be65['dwgmergeLocation'],_0x5e63b1=(_0xd3be65[_0x45d3ae(0x29a)][_0x45d3ae(0x1f6)](_0xd3be65['ServerLocation'])?'':_0xd3be65[_0x45d3ae(0x1dd)])+_0xd3be65[_0x45d3ae(0x214)],_0x1204f1=(_0xd3be65[_0x45d3ae(0x1ab)][_0x45d3ae(0x1f6)](_0xd3be65[_0x45d3ae(0x1dd)])?'':_0xd3be65['ServerLocation'])+_0xd3be65[_0x45d3ae(0x1ab)],_0x523baf=/ax202.*\.exe/,_0x449c46=/ax202.*/,_0x5dad5e=/dwgmerge202.*\.exe/,_0x509d08=/dwgmerge_202.*/,_0x1ea651=/linklist_202.*\.exe/,_0x63bc7a=/linklist_202.*/,_0x64c223=[],_0x3f84a4=[],_0x15cda9=[],_0x510720=[],_0x4baebd=[],_0x4baa56=[];let _0x45bd60='';if(_0xd3be65[_0x45d3ae(0x2db)]){_0x45bd60=os['platform']();if(_0x45bd60==='win32')_0x45bd60='windows';else{if(_0x45bd60===_0x45d3ae(0x1f4))_0x45bd60=_0x45d3ae(0x1ea);}}else _0x45bd60=_0xd3be65['platform'];fs[_0x45d3ae(0x206)](_0x1204f1[_0x45d3ae(0x1cb)]('linux','windows'))[_0x45d3ae(0x245)](_0x1e9b4d=>{const _0x3f58d5=_0x45d3ae;if(_0x523baf[_0x3f58d5(0x23e)](_0x1e9b4d[_0x3f58d5(0x221)]()))_0x64c223[_0x3f58d5(0x272)](_0x1e9b4d);}),fs[_0x45d3ae(0x206)](_0x3c383f[_0x45d3ae(0x1cb)](_0x45d3ae(0x1ea),_0x45d3ae(0x2ad)))['forEach'](_0x123f30=>{const _0x35419e=_0x45d3ae;if(_0x5dad5e['test'](_0x123f30[_0x35419e(0x221)]()))_0x3f84a4[_0x35419e(0x272)](_0x123f30);}),fs['readdirSync'](_0x5e63b1[_0x45d3ae(0x1cb)](_0x45d3ae(0x1ea),_0x45d3ae(0x2ad)))[_0x45d3ae(0x245)](_0x31d652=>{const _0x473fa9=_0x45d3ae;if(_0x1ea651[_0x473fa9(0x23e)](_0x31d652[_0x473fa9(0x221)]()))_0x15cda9[_0x473fa9(0x272)](_0x31d652);}),fs['readdirSync'](_0x1204f1['replaceAll'](_0x45d3ae(0x2ad),_0x45d3ae(0x1ea)))[_0x45d3ae(0x245)](_0x6a5fc2=>{const _0x2ae6f9=_0x45d3ae;if(_0x449c46[_0x2ae6f9(0x23e)](_0x6a5fc2['toLocaleLowerCase']()))_0x510720[_0x2ae6f9(0x272)](_0x6a5fc2);}),fs[_0x45d3ae(0x206)](_0x3c383f['replaceAll'](_0x45d3ae(0x2ad),_0x45d3ae(0x1ea)))[_0x45d3ae(0x245)](_0x4c5a84=>{const _0x534c14=_0x45d3ae;if(_0x509d08[_0x534c14(0x23e)](_0x4c5a84[_0x534c14(0x221)]()))_0x4baebd[_0x534c14(0x272)](_0x4c5a84);}),fs[_0x45d3ae(0x206)](_0x5e63b1[_0x45d3ae(0x1cb)](_0x45d3ae(0x2ad),_0x45d3ae(0x1ea)))['forEach'](_0x3221ea=>{const _0x3fb1bd=_0x45d3ae;if(_0x63bc7a[_0x3fb1bd(0x23e)](_0x3221ea['toLocaleLowerCase']()))_0x4baa56[_0x3fb1bd(0x272)](_0x3221ea);});const _0x28b9a4=[_0x45d3ae(0x2cc),'https',_0x45d3ae(0x2ff),'converterpathLin',_0x45d3ae(0x18c)],_0x275cc9=[_0x45d3ae(0x191),_0x45d3ae(0x1c3),_0x45d3ae(0x1ab),_0x45d3ae(0x2b8),_0x45d3ae(0x224),_0x45d3ae(0x1ba),'callbackMethod',_0x45d3ae(0x29a),'linklistLocation','version'],_0x54034c=['ServerUrl',_0x45d3ae(0x2da),'mysqlUsername','mysqlPassword',_0x45d3ae(0x1aa),_0x45d3ae(0x2a0),'cvjs_svgz_compress'],_0x3776a9={'ServerUrl':'Server\x20Settings','autoxchange_executable':'AutoXchange\x20Settings','linklist_executable':_0x45d3ae(0x254),'dwgmerge_executable':_0x45d3ae(0x2cd),'setup_mysqlHost':_0x45d3ae(0x318),'callbackMethod_gatewayUrl_flag':_0x45d3ae(0x317),'userFolderMaximumFiles':_0x45d3ae(0x1c6),'smtpHost':_0x45d3ae(0x1b6)},_0x196ba2={'https':_0x45d3ae(0x1b3),'ServerFrontEndUrlAsAllowedOriginOnly':_0x45d3ae(0x1b3),'autodetect_platform':_0x45d3ae(0x1b3),'cvjs_svgz_compress':'boolean','cached_conversion':_0x45d3ae(0x1b3),'remainOnServer':'boolean','cvjs_debug':_0x45d3ae(0x1b3),'autodetect_location':_0x45d3ae(0x1b3),'platform':_0x45d3ae(0x31b),'autoxchange_executable':_0x45d3ae(0x1f0)+(_0x45bd60===_0x45d3ae(0x2ad)?_0x64c223[_0x45d3ae(0x192)](','):_0x510720[_0x45d3ae(0x192)](',')),'autoxchange_executable_windows':_0x45d3ae(0x1f0)+_0x64c223['join'](','),'autoxchange_executable_linux':'radio|'+_0x510720[_0x45d3ae(0x192)](','),'dwgmerge_executable':'radio|'+(_0x45bd60===_0x45d3ae(0x2ad)?_0x3f84a4[_0x45d3ae(0x192)](','):_0x4baebd['join'](',')),'dwgmerge_executable_windows':'radio|'+_0x3f84a4['join'](','),'dwgmerge_executable_linux':_0x45d3ae(0x1f0)+_0x4baebd['join'](','),'linklist_executable':_0x45d3ae(0x1f0)+(_0x45bd60===_0x45d3ae(0x2ad)?_0x15cda9[_0x45d3ae(0x192)](','):_0x4baa56['join'](',')),'linklist_executable_windows':_0x45d3ae(0x1f0)+_0x15cda9[_0x45d3ae(0x192)](','),'linklist_executable_linux':_0x45d3ae(0x1f0)+_0x4baa56['join'](','),'callbackMethod_gatewayUrl_flag':_0x45d3ae(0x1b3),'setup_mysqlHost':_0x45d3ae(0x1b3),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':'boolean','contentLocationCheck':_0x45d3ae(0x1b3),'globalBearerAutentication':'boolean','bcryptSaltRounds':'number','userFolderMaximumFiles':_0x45d3ae(0x1ed),'userFolderMaximumSizeInMB':'number'},_0x26f928={},_0x501c94=Object['keys'](_0xd3be65);_0xd3be65['autodetect_platform']&&_0x28b9a4[_0x45d3ae(0x272)]('platform'),_0xd3be65[_0x45d3ae(0x2dc)]&&(_0x275cc9['push'](_0x45d3ae(0x1dd)),_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x20b)),_0x275cc9['push'](_0x45d3ae(0x25b)),_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x1bc))),!_0xd3be65[_0x45d3ae(0x1f7)]&&_0x275cc9[_0x45d3ae(0x272)]('callbackMethod_gatewayUrl'),!_0xd3be65[_0x45d3ae(0x230)]&&(_0x275cc9['push'](_0x45d3ae(0x2da)),_0x275cc9[_0x45d3ae(0x272)]('mysqlUsername'),_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x1df)),_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x1aa))),!_0xd3be65[_0x45d3ae(0x2f6)]&&_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x18b)),!_0xd3be65[_0x45d3ae(0x285)]&&(_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x1e4)),_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x194))),!_0xd3be65['globalBearerAutentication']&&_0x275cc9[_0x45d3ae(0x272)](_0x45d3ae(0x2ac)),_0x501c94[_0x45d3ae(0x245)](_0x54e747=>{const _0x5cff70=_0x45d3ae;!_0x28b9a4[_0x5cff70(0x1f6)](_0x54e747)&&(_0x26f928[_0x54e747]=_0xd3be65[_0x54e747]);}),_0x26f928[_0x45d3ae(0x1c3)]=''+_0xd3be65[_0x45d3ae(0x2a1)]+_0xd3be65[_0x45d3ae(0x191)],_0x8b4256[_0x45d3ae(0x2bc)](0xc8)['json']({'notEditableFields':_0x275cc9,'customFieldTypes':_0x196ba2,'notHotEditableFields':_0x54034c,'config':_0x26f928,'fieldsTitle':_0x3776a9,'configData':_0xd3be65});}),router[a26_0x4c62be(0x1c1)]('/logs',protectedRoute,async(_0x4e6eea,_0x1f31b2)=>{const _0x466426=a26_0x4c62be,_0x5a210d=fs['readFileSync'](path['join'](path['dirname'](require['main'][_0x466426(0x1d4)]),'cadviewer/settings/logs.html'),_0x466426(0x244)),_0x51f327=_0x5a210d[_0x466426(0x1cb)](_0x466426(0x264),_0x4e6eea[_0x466426(0x2b6)]);_0x1f31b2['send'](_0x51f327);});function findMatchingLogFiles(_0x48042f,_0x26a1f7=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x62b305=a26_0x4c62be;try{const _0x428043=fs[_0x62b305(0x206)](_0x48042f);return _0x428043['filter'](_0x1c3d0e=>_0x26a1f7[_0x62b305(0x23e)](_0x1c3d0e))['map'](_0x472312=>_0x472312['replaceAll'](_0x62b305(0x1e9),'')[_0x62b305(0x1cb)](_0x62b305(0x1cd),''));}catch(_0x13a994){return console[_0x62b305(0x232)](_0x62b305(0x2a4),_0x13a994),[];}}router['post'](a26_0x4c62be(0x1e6),async(_0x34aef4,_0x2e683b)=>{const _0x2256e6=a26_0x4c62be,_0x168b88=new Date(),_0x3236a2=_0x168b88['getDate']()[_0x2256e6(0x2a9)]()[_0x2256e6(0x20f)](0x2,'0')+'_'+(_0x168b88['getMonth']()+0x1)[_0x2256e6(0x2a9)]()[_0x2256e6(0x20f)](0x2,'0')+'_'+_0x168b88[_0x2256e6(0x2f7)](),{displayDay:_0x10ac7c}=_0x34aef4[_0x2256e6(0x2ba)],_0x75a040=path[_0x2256e6(0x192)](path[_0x2256e6(0x2dd)](require[_0x2256e6(0x21e)][_0x2256e6(0x1d4)]),_0x2256e6(0x307),_0x2256e6(0x1e9)+(_0x10ac7c??_0x3236a2)+_0x2256e6(0x1cd));fs['existsSync'](_0x75a040)?fs[_0x2256e6(0x1e7)](_0x75a040,_0x2256e6(0x244),function(_0x586d5a,_0x3c8885){const _0x238daa=_0x2256e6;_0x586d5a&&_0x2e683b[_0x238daa(0x2bc)](0x1f4)[_0x238daa(0x28a)](_0x586d5a),_0x2e683b[_0x238daa(0x2bc)](0xc8)[_0x238daa(0x227)]({'content':_0x3c8885,'days':findMatchingLogFiles(path[_0x238daa(0x192)](path[_0x238daa(0x2dd)](require[_0x238daa(0x21e)][_0x238daa(0x1d4)]),_0x238daa(0x307)))});}):_0x2e683b[_0x2256e6(0x2bc)](0xc8)[_0x2256e6(0x227)]({'content':'','days':findMatchingLogFiles(path[_0x2256e6(0x192)](path[_0x2256e6(0x2dd)](require[_0x2256e6(0x21e)]['filename']),_0x2256e6(0x307)))});}),router[a26_0x4c62be(0x280)](a26_0x4c62be(0x24a),async(_0x44cda3,_0x2bcdd5)=>{const _0x369a29=a26_0x4c62be,_0x509ec5=new Date(),_0x45718c=_0x509ec5[_0x369a29(0x1dc)]()[_0x369a29(0x2a9)]()[_0x369a29(0x20f)](0x2,'0')+'_'+(_0x509ec5['getMonth']()+0x1)[_0x369a29(0x2a9)]()[_0x369a29(0x20f)](0x2,'0')+'_'+_0x509ec5[_0x369a29(0x2f7)](),_0x3630b7=findMatchingLogFiles(path[_0x369a29(0x192)](path[_0x369a29(0x2dd)](require[_0x369a29(0x21e)][_0x369a29(0x1d4)]),_0x369a29(0x307)));_0x3630b7[_0x369a29(0x245)](_0x1b4543=>{const _0x579d34=_0x369a29;if(_0x1b4543!==_0x45718c)fs[_0x579d34(0x1a6)](path[_0x579d34(0x192)](path['dirname'](require[_0x579d34(0x21e)][_0x579d34(0x1d4)]),_0x579d34(0x307),'call-Api_Conversion_'+_0x1b4543+_0x579d34(0x1cd)));}),logStream[_0x369a29(0x29e)](),_0x2bcdd5[_0x369a29(0x2bc)](0xc8)[_0x369a29(0x227)]({'message':_0x369a29(0x29f)});}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x1be),protectedRoute,async(_0x34a9da,_0x133843)=>{const _0x1378a3=a26_0x4c62be,_0x2c79e2=path['join'](path['dirname'](require['main']['filename']),_0x1378a3(0x2f5));if(!fs[_0x1378a3(0x259)](_0x2c79e2)){const _0x375872={'jsonDataExtraction':{'standard':[{'paramName':_0x1378a3(0x227),'paramValue':''},{'paramName':_0x1378a3(0x26a),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x1378a3(0x1b7),'paramValue':''},{'paramName':_0x1378a3(0x1c4),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x1378a3(0x21f)},{'paramName':_0x1378a3(0x1b7),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x1378a3(0x1f9)},{'paramName':_0x1378a3(0x1b7),'paramValue':''},{'paramName':_0x1378a3(0x1c4),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x1378a3(0x193),'paramValue':''}]}};fs[_0x1378a3(0x2f1)](_0x2c79e2,JSON[_0x1378a3(0x25c)](_0x375872,null,0x4));}const _0x8e5529=fs[_0x1378a3(0x2fb)](path['join'](path['dirname'](require[_0x1378a3(0x21e)]['filename']),_0x1378a3(0x190)),_0x1378a3(0x244)),_0x4c500b=_0x8e5529[_0x1378a3(0x1cb)](_0x1378a3(0x264),_0x34a9da[_0x1378a3(0x2b6)]);_0x133843[_0x1378a3(0x28a)](_0x4c500b);}),router[a26_0x4c62be(0x1b1)]('/restapi-test/parameters/search',async(_0x63c96a,_0x47a06c)=>{const _0x4316ce=a26_0x4c62be,{actionName:_0x40dc7e,contentLocation:_0x5d7441}=_0x63c96a[_0x4316ce(0x2ba)],_0x1cfe18=path[_0x4316ce(0x192)](path[_0x4316ce(0x2dd)](require[_0x4316ce(0x21e)][_0x4316ce(0x1d4)]),'cadviewer/settings/rest-api-parameters.json');fs[_0x4316ce(0x1e7)](_0x1cfe18,_0x4316ce(0x244),function(_0x3df0b4,_0x5b9e6d){const _0x40ecc2=_0x4316ce;if(_0x3df0b4)_0x47a06c[_0x40ecc2(0x2bc)](0xc8)[_0x40ecc2(0x227)]({'parameters':[]});else{const _0x413143=JSON[_0x40ecc2(0x2b3)](_0x5b9e6d);if(_0x413143[_0x40dc7e]&&_0x413143[_0x40dc7e][_0x5d7441])_0x47a06c[_0x40ecc2(0x2bc)](0xc8)[_0x40ecc2(0x227)]({'parameters':_0x413143[_0x40dc7e][_0x5d7441]});else _0x413143[_0x40dc7e]&&_0x413143[_0x40dc7e][_0x40ecc2(0x21d)]?_0x47a06c[_0x40ecc2(0x2bc)](0xc8)[_0x40ecc2(0x227)]({'parameters':_0x413143[_0x40dc7e][_0x40ecc2(0x21d)]}):_0x47a06c['status'](0xc8)['json']({'parameters':[]});}});}),router[a26_0x4c62be(0x1b1)]('/restapi-test/parameters/save',async(_0x3c1945,_0x25217a)=>{const _0x74fbc6=a26_0x4c62be,{actionName:_0x5fcaf,contentLocation:_0x1e76e8,parameters:_0x2e7e09}=_0x3c1945[_0x74fbc6(0x2ba)],_0x849c4f=path[_0x74fbc6(0x192)](path[_0x74fbc6(0x2dd)](require[_0x74fbc6(0x21e)][_0x74fbc6(0x1d4)]),_0x74fbc6(0x2f5));fs[_0x74fbc6(0x1e7)](_0x849c4f,'utf8',function(_0x2af903,_0x5d3809){const _0xbe2307=_0x74fbc6;if(_0x2af903)_0x25217a[_0xbe2307(0x2bc)](0x199)[_0xbe2307(0x227)]({'message':_0xbe2307(0x22e)});else{const _0x57ab5e=JSON[_0xbe2307(0x2b3)](_0x5d3809);!_0x57ab5e[_0x5fcaf]&&(_0x57ab5e[_0x5fcaf]={}),_0x57ab5e[_0x5fcaf][_0x1e76e8]=_0x2e7e09,fs[_0xbe2307(0x1ee)](_0x849c4f,JSON['stringify'](_0x57ab5e,null,0x4),function(_0x764432){const _0x466ba5=_0xbe2307;_0x764432&&_0x25217a[_0x466ba5(0x2bc)](0x199)['json']({'message':_0x466ba5(0x22e)}),_0x25217a[_0x466ba5(0x2bc)](0xc8)[_0x466ba5(0x227)]({'message':_0x466ba5(0x1fd)});});}});}),router['get'](a26_0x4c62be(0x258),protectedRoute,async(_0x271945,_0x9bef58)=>{const _0x4d46d3=a26_0x4c62be,_0x27026b=fs[_0x4d46d3(0x2fb)](path['join'](path[_0x4d46d3(0x2dd)](require[_0x4d46d3(0x21e)]['filename']),_0x4d46d3(0x1ca)),_0x4d46d3(0x244)),_0xa72398=_0x27026b['replaceAll'](_0x4d46d3(0x264),_0x271945[_0x4d46d3(0x2b6)]);_0x9bef58[_0x4d46d3(0x28a)](_0xa72398);}),router[a26_0x4c62be(0x1b1)]('/doctor/check',async(_0x2118f6,_0x59e3e3)=>{const _0x1a1dcd=a26_0x4c62be,_0x6045a8=getHotConfig(),_0x2cd806=_0x6045a8[_0x1a1dcd(0x1ab)][_0x1a1dcd(0x1cb)]('//','/'),_0x3fdf2a=_0x6045a8['dwgmergeLocation']['replaceAll']('//','/'),_0x39d902=_0x6045a8['linklistLocation']['replaceAll']('//','/'),_0x5991a2=''+_0x2cd806+_0x6045a8[_0x1a1dcd(0x20b)],_0xf32e3e=''+_0x3fdf2a+_0x6045a8[_0x1a1dcd(0x25b)],_0x43234f=''+_0x39d902+_0x6045a8['linklist_executable'],_0x102587=[],_0x313e33=new Promise(_0x5b4d1f=>{const _0x4a5a84=_0x1a1dcd;exec(os['platform']()==='win32'?_0x4a5a84(0x2cb):'ls',_0x1e9c42=>{const _0x4df43e=_0x4a5a84;_0x1e9c42?_0x102587[_0x4df43e(0x272)]({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':![],'priority':0x1}):_0x102587[_0x4df43e(0x272)]({'title':_0x4df43e(0x223),'status':!![],'priority':0x1}),_0x5b4d1f();});}),_0x6479cc=new Promise(_0x3db825=>{const _0x3b0916=_0x1a1dcd;fs['access'](_0x5991a2,fs[_0x3b0916(0x30b)]['X_OK'],_0x355357=>{const _0x17c894=_0x3b0916;_0x355357?_0x102587[_0x17c894(0x272)]({'title':_0x17c894(0x2d0)+_0x6045a8[_0x17c894(0x20b)]+_0x17c894(0x250),'status':![],'priority':0x2}):_0x102587[_0x17c894(0x272)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x6045a8[_0x17c894(0x20b)]+_0x17c894(0x250),'status':!![],'priority':0x2}),_0x3db825();});}),_0x30edd2=new Promise(_0x22868a=>{const _0x2c89c7=_0x1a1dcd;fs[_0x2c89c7(0x21a)](_0xf32e3e,fs['constants'][_0x2c89c7(0x235)],_0x127fef=>{const _0x32b28f=_0x2c89c7;_0x127fef?_0x102587['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x6045a8[_0x32b28f(0x25b)]+_0x32b28f(0x250),'status':![],'priority':0x3}):_0x102587[_0x32b28f(0x272)]({'title':_0x32b28f(0x2d0)+_0x6045a8[_0x32b28f(0x25b)]+_0x32b28f(0x250),'status':!![],'priority':0x3}),_0x22868a();});}),_0x388382=new Promise(_0x2013b2=>{const _0x2ef035=_0x1a1dcd;fs[_0x2ef035(0x21a)](_0x43234f,fs[_0x2ef035(0x30b)][_0x2ef035(0x235)],_0x268ac1=>{const _0x55be7c=_0x2ef035;_0x268ac1?_0x102587[_0x55be7c(0x272)]({'title':_0x55be7c(0x2d0)+_0x6045a8[_0x55be7c(0x1bc)]+_0x55be7c(0x250),'status':![],'priority':0x4}):_0x102587[_0x55be7c(0x272)]({'title':_0x55be7c(0x2d0)+_0x6045a8[_0x55be7c(0x1bc)]+_0x55be7c(0x250),'status':!![],'priority':0x4}),_0x2013b2();});}),_0x36cfea=new Promise(_0x1287a4=>{const _0x23ffd4=_0x1a1dcd,_0x38830f=new Date(),_0x3bd468=_0x38830f[_0x23ffd4(0x1dc)]()[_0x23ffd4(0x2a9)]()[_0x23ffd4(0x20f)](0x2,'0')+'_'+(_0x38830f[_0x23ffd4(0x246)]()+0x1)['toString']()[_0x23ffd4(0x20f)](0x2,'0')+'_'+_0x38830f[_0x23ffd4(0x2f7)](),{displayDay:_0x4cb206}=_0x2118f6[_0x23ffd4(0x2ba)];fs[_0x23ffd4(0x21a)](path[_0x23ffd4(0x192)](path[_0x23ffd4(0x2dd)](require[_0x23ffd4(0x21e)][_0x23ffd4(0x1d4)]),_0x23ffd4(0x307),_0x23ffd4(0x1e9)+(_0x4cb206??_0x3bd468)+_0x23ffd4(0x1cd)),fs[_0x23ffd4(0x30b)][_0x23ffd4(0x306)],_0x524044=>{const _0x419328=_0x23ffd4;_0x524044?_0x102587[_0x419328(0x272)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x4cb206??_0x3bd468)+_0x419328(0x2e0),'status':![],'priority':0x5}):_0x102587[_0x419328(0x272)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x4cb206??_0x3bd468)+_0x419328(0x2e0),'status':!![],'priority':0x5}),_0x1287a4();});}),_0x3ed1eb=(_0x417346,_0x50d324)=>{const _0x370ab6=_0x1a1dcd,_0x23d58b=path['join'](path[_0x370ab6(0x2dd)](require['main'][_0x370ab6(0x1d4)]),_0x417346);return new Promise(_0x50a2bd=>{const _0x3b2f06=_0x370ab6;fs['access'](path['join'](path['dirname'](_0x23d58b)),fs[_0x3b2f06(0x30b)][_0x3b2f06(0x2fe)]|fs[_0x3b2f06(0x30b)][_0x3b2f06(0x306)],_0x52c4d2=>{const _0x212008=_0x3b2f06;_0x52c4d2?_0x102587[_0x212008(0x272)]({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0x417346,'status':![],'priority':_0x50d324+0x6}):_0x102587[_0x212008(0x272)]({'title':_0x212008(0x27b)+_0x417346,'status':!![],'priority':_0x50d324+0x6}),_0x50a2bd();});});},_0x502c17=[_0x1a1dcd(0x2e3),'/converters/autoxchange/linux/',_0x1a1dcd(0x26b),_0x1a1dcd(0x1f3),_0x1a1dcd(0x27c),_0x1a1dcd(0x1f5),_0x1a1dcd(0x24c)],_0x52c632=_0x502c17['map'](_0x3ed1eb);Promise['all']([_0x313e33,_0x6479cc,_0x30edd2,_0x388382,_0x36cfea,..._0x52c632])[_0x1a1dcd(0x2e6)](()=>{const _0x6bb98c=_0x1a1dcd;_0x59e3e3[_0x6bb98c(0x2bc)](0xc8)[_0x6bb98c(0x227)]({'checking_list':_0x102587});})[_0x1a1dcd(0x2f4)](()=>{const _0x55f6b6=_0x1a1dcd;_0x59e3e3[_0x55f6b6(0x2bc)](0x1f4)[_0x55f6b6(0x227)]({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x2d3),protectedRoute,async(_0x2334fc,_0x5c2d5c)=>{const _0x348747=a26_0x4c62be,_0x42d237=fs['readFileSync'](path[_0x348747(0x192)](path['dirname'](require[_0x348747(0x21e)][_0x348747(0x1d4)]),_0x348747(0x1a5)),_0x348747(0x244)),_0x1ffe51=_0x42d237[_0x348747(0x1cb)](_0x348747(0x264),_0x2334fc[_0x348747(0x2b6)]);_0x5c2d5c[_0x348747(0x28a)](_0x1ffe51);}),router['post']('/users/list',async(_0x47c2ba,_0x2ecaf9)=>{const _0xbcbf13=a26_0x4c62be;let _0x572887;try{const [_0x1a7b47]=await conn[_0xbcbf13(0x277)]()['execute'](_0xbcbf13(0x30d),[]);_0x572887=_0x1a7b47;}catch(_0x42d8f6){console[_0xbcbf13(0x26c)](_0x42d8f6),_0x2ecaf9[_0xbcbf13(0x2bc)](0x1f4)[_0xbcbf13(0x227)]({'error':_0xbcbf13(0x2e4)});return;}_0x2ecaf9[_0xbcbf13(0x2bc)](0xc8)['json']({'success':!![],'data':_0x572887});}),router['post']('/users',upload[a26_0x4c62be(0x1fb)]('avatar'),async(_0x3305de,_0x3525a4)=>{const _0x4f2638=a26_0x4c62be,{id:_0x4e1669,first_name:_0x59308d,last_name:_0xc2265a,username:_0x33d92b,email:_0x38a587,password:_0x2e51aa,is_enabled:_0x36ae09}=_0x3305de[_0x4f2638(0x2ba)],_0x2fbeb4=_0x3305de[_0x4f2638(0x2ba)][_0x4f2638(0x296)]==='admin'?'admin':_0x3305de[_0x4f2638(0x2ba)][_0x4f2638(0x296)]===_0x4f2638(0x23f)?_0x4f2638(0x23f):_0x4f2638(0x2e7);let _0x17203b;console[_0x4f2638(0x26c)](_0x4f2638(0x2c8));_0x2e51aa&&(_0x17203b=await bcrypt[_0x4f2638(0x218)](_0x2e51aa,0xa));let _0x36ad9c=null;if(_0x3305de[_0x4f2638(0x249)]){const _0x319fa0=_0x4f2638(0x2b4)+randomUUID()+_0x4f2638(0x2c0);fs[_0x4f2638(0x23b)](_0x3305de[_0x4f2638(0x249)][_0x4f2638(0x1a1)],'./'+_0x319fa0),fs[_0x4f2638(0x1a6)](_0x3305de[_0x4f2638(0x249)][_0x4f2638(0x1a1)]),_0x36ad9c=config[_0x4f2638(0x2a1)]+'/'+_0x319fa0;}if(_0x4e1669){try{let [_0x438e01]=await conn[_0x4f2638(0x277)]()['execute'](_0x4f2638(0x25a),[_0x38a587,_0x33d92b,_0x4e1669]);if(_0x438e01[_0x4f2638(0x2e9)]>0x0)_0x3525a4[_0x4f2638(0x2bc)](0x199)['json']({'error':_0x4f2638(0x287)});else{!_0x3305de['file']&&([_0x438e01]=await conn[_0x4f2638(0x277)]()[_0x4f2638(0x308)](_0x4f2638(0x22d),[_0x4e1669]),_0x36ad9c=_0x438e01[0x0]['avatar_url']);const _0x3657c3=_0x4f2638(0x295)+(_0x2e51aa?'`crypted_password`\x20=\x20?,\x20':'')+'`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?';await conn['promise']()[_0x4f2638(0x308)](_0x3657c3,_0x2e51aa?[_0x36ad9c,_0x59308d,_0xc2265a,_0x33d92b,_0x38a587,_0x17203b,_0x36ae09,_0x2fbeb4,_0x4e1669]:[_0x36ad9c,_0x59308d,_0xc2265a,_0x33d92b,_0x38a587,_0x36ae09,_0x2fbeb4,_0x4e1669]);}}catch(_0x2a96b7){console[_0x4f2638(0x26c)](_0x2a96b7),_0x3525a4[_0x4f2638(0x2bc)](0x1f4)[_0x4f2638(0x227)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x3525a4['status'](0xc8)[_0x4f2638(0x227)]({'success':!![],'message':_0x4f2638(0x18e)});}else{try{const [_0x22a947]=await conn[_0x4f2638(0x277)]()[_0x4f2638(0x308)](_0x4f2638(0x30c),[_0x38a587,_0x33d92b]);if(_0x22a947['length']>0x0)_0x3525a4['status'](0x199)[_0x4f2638(0x227)]({'error':_0x4f2638(0x287)});else{const _0x8d8955=randomUUID();await conn[_0x4f2638(0x277)]()[_0x4f2638(0x308)](_0x4f2638(0x1c2),[_0x36ad9c,_0x59308d,_0xc2265a,_0x33d92b,_0x38a587,_0x17203b,_0x2fbeb4,_0x36ae09,_0x8d8955]);const _0x5d49ae='./uploads/'+_0x8d8955;fs[_0x4f2638(0x2b1)](_0x5d49ae);}}catch(_0x329385){console['log'](_0x329385),_0x3525a4[_0x4f2638(0x2bc)](0x1f4)[_0x4f2638(0x227)]({'error':_0x4f2638(0x2e4)});return;}_0x3525a4[_0x4f2638(0x2bc)](0xc8)[_0x4f2638(0x227)]({'success':!![],'message':'User\x20created\x20successfully'});}}),router['delete'](a26_0x4c62be(0x1c0),async(_0x160013,_0x540365)=>{const _0x142d9a=a26_0x4c62be,{userId:_0x1f9f00}=_0x160013['body'];let _0x599b17;try{const [_0x23a1d1]=await conn[_0x142d9a(0x277)]()[_0x142d9a(0x308)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x1f9f00]);_0x23a1d1[_0x142d9a(0x2e9)]>0x0&&(_0x599b17=_0x23a1d1[0x0]);}catch(_0x5cb5e1){console[_0x142d9a(0x26c)]({'err':_0x5cb5e1}),_0x540365[_0x142d9a(0x2bc)](0x1f4)['json']({'error':_0x142d9a(0x2e4)});return;}if(!_0x599b17){_0x540365[_0x142d9a(0x2bc)](0x191)[_0x142d9a(0x227)]({'error':_0x142d9a(0x29c)});return;}let _0x3a472c=_0x599b17['folder_name'];if(!_0x3a472c){_0x3a472c=randomUUID();try{await conn[_0x142d9a(0x277)]()['execute']('UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x3a472c,_0x1f9f00]);}catch(_0x388644){console[_0x142d9a(0x26c)]({'err':_0x388644}),_0x540365[_0x142d9a(0x2bc)](0x1f4)[_0x142d9a(0x227)]({'error':_0x142d9a(0x2e4)});return;}}const _0x3e7589=_0x142d9a(0x26e)+_0x3a472c;console[_0x142d9a(0x26c)](_0x142d9a(0x286)),console[_0x142d9a(0x26c)](_0x3e7589),!fs[_0x142d9a(0x259)](_0x3e7589)&&fs[_0x142d9a(0x2b1)](_0x3e7589),fs['rmSync'](_0x3e7589,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x3e7589),_0x540365['status'](0xc8)['json']({'success':!![],'message':_0x142d9a(0x2c7)});}),router['delete'](a26_0x4c62be(0x226),async(_0x3ea469,_0x35473e)=>{const _0xf3ac1d=a26_0x4c62be,_0x1ad4ba=_0x3ea469[_0xf3ac1d(0x278)][_0xf3ac1d(0x2d1)];try{let _0x3f0bc1;try{const [_0x191178]=await conn[_0xf3ac1d(0x277)]()[_0xf3ac1d(0x308)](_0xf3ac1d(0x22d),[_0x1ad4ba]);_0x191178[_0xf3ac1d(0x2e9)]>0x0&&(_0x3f0bc1=_0x191178[0x0]);}catch(_0x1436dc){console['log']({'err':_0x1436dc}),_0x35473e[_0xf3ac1d(0x2bc)](0x1f4)['json']({'error':_0xf3ac1d(0x2e4)});return;}if(!_0x3f0bc1){_0x35473e[_0xf3ac1d(0x2bc)](0x191)[_0xf3ac1d(0x227)]({'error':_0xf3ac1d(0x29c)});return;}let _0x4d9269=_0x3f0bc1[_0xf3ac1d(0x1a2)];if(_0x4d9269){const _0x27bc81=_0xf3ac1d(0x26e)+_0x4d9269;fs[_0xf3ac1d(0x259)](_0x27bc81)&&fs[_0xf3ac1d(0x2d9)](_0x27bc81,{'recursive':!![],'force':!![]});}await conn['promise']()[_0xf3ac1d(0x308)](_0xf3ac1d(0x247),[_0x1ad4ba]);}catch(_0x45085b){console[_0xf3ac1d(0x26c)](_0x45085b),_0x35473e[_0xf3ac1d(0x2bc)](0x1f4)[_0xf3ac1d(0x227)]({'error':_0xf3ac1d(0x2e4)});return;}_0x35473e[_0xf3ac1d(0x2bc)](0xc8)[_0xf3ac1d(0x227)]({'success':!![],'message':_0xf3ac1d(0x19c)});}),router['get'](a26_0x4c62be(0x20a),async(_0x3abbbd,_0x3db48e)=>{const _0x38b87f=a26_0x4c62be,_0x2760dd=osu[_0x38b87f(0x30e)],_0x2e5c2e=osu[_0x38b87f(0x2a3)],_0x271428=osu[_0x38b87f(0x1f8)],_0x1f9f9d=osu['os'],_0x44bd6f={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x24318e=os[_0x38b87f(0x2fc)]()===_0x38b87f(0x2bd)?'c:':'/';const _0x51d1ad=await _0x271428[_0x38b87f(0x2c6)](_0x24318e);_0x44bd6f['percentage']=_0x51d1ad[_0x38b87f(0x205)],_0x44bd6f['usedGB']=_0x51d1ad[_0x38b87f(0x1a0)],_0x44bd6f['freeGb']=_0x51d1ad['freeGb'],_0x44bd6f[_0x38b87f(0x270)]=_0x51d1ad['totalGb'];}catch(_0x186d2c){console[_0x38b87f(0x26c)](_0x38b87f(0x196),_0x186d2c);}const _0x3803ed={'usage':0x0,'count':0x0};try{_0x3803ed['usage']=await _0x2760dd[_0x38b87f(0x1af)](),_0x3803ed['count']=_0x2760dd[_0x38b87f(0x199)]();}catch(_0x5ab15f){console[_0x38b87f(0x26c)](_0x38b87f(0x1e5),_0x5ab15f);}const _0x1865d5={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x1865d5['os']=await _0x1f9f9d[_0x38b87f(0x31a)](),_0x1865d5[_0x38b87f(0x2fc)]=_0x1f9f9d['platform'](),_0x1865d5['ip']=_0x1f9f9d['ip'](),_0x1865d5[_0x38b87f(0x22f)]=_0x1f9f9d[_0x38b87f(0x22f)](),_0x1865d5[_0x38b87f(0x26d)]=_0x1f9f9d[_0x38b87f(0x26d)](),_0x1865d5['type']=_0x1f9f9d[_0x38b87f(0x211)](),_0x1865d5[_0x38b87f(0x251)]=_0x1f9f9d[_0x38b87f(0x251)](),_0x1865d5[_0x38b87f(0x19a)]=await osu[_0x38b87f(0x2d5)][_0x38b87f(0x19a)](),_0x1865d5[_0x38b87f(0x2ef)]=await osu['osCmd'][_0x38b87f(0x2ef)](),_0x1865d5['vmstats']=await osu[_0x38b87f(0x2d5)]['vmstats']();}catch(_0x125370){console[_0x38b87f(0x26c)]('Error\x20getting\x20os\x20info',_0x125370);}const _0x1ba88a={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x1ba88a[_0x38b87f(0x1eb)]=await osu['proc']['totalProcesses'](),_0x1ba88a[_0x38b87f(0x1ec)]=await osu[_0x38b87f(0x316)][_0x38b87f(0x1ec)]();}catch(_0xb0f210){console['log'](_0x38b87f(0x314),_0xb0f210);}let _0x401c54={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x2dc8f6=await _0x2e5c2e['info']();_0x401c54[_0x38b87f(0x257)]=_0x2dc8f6[_0x38b87f(0x257)],_0x401c54[_0x38b87f(0x1e8)]=_0x2dc8f6[_0x38b87f(0x283)]/0x400/0x400,_0x401c54['totalMemMb']=_0x2dc8f6['total']/0x400/0x400;}catch(_0x4648a3){console[_0x38b87f(0x26c)](_0x38b87f(0x238),_0x4648a3);}let _0x1b6660=0x0;try{_0x1b6660=await conn[_0x38b87f(0x277)]()[_0x38b87f(0x26f)](_0x38b87f(0x302))[_0x38b87f(0x2e6)](([_0x15b80c])=>_0x15b80c[0x0][_0x38b87f(0x208)]);}catch(_0x2466fa){console[_0x38b87f(0x26c)](_0x38b87f(0x29d),_0x2466fa);}const _0x16d40d=getMonitoringData(),_0x24f7bc=_0x16d40d[_0x38b87f(0x24e)](_0x2dd8eb=>_0x2dd8eb[_0x38b87f(0x1c8)]!==null&&_0x2dd8eb[_0x38b87f(0x1c8)]!==undefined),_0x140a89=_0x16d40d[_0x38b87f(0x24e)](_0x38ee1c=>_0x38ee1c[_0x38b87f(0x2a2)]!==null&&_0x38ee1c[_0x38b87f(0x2a2)]!==undefined)[_0x38b87f(0x1b2)](_0xad856d=>parseFloat(_0xad856d[_0x38b87f(0x2a2)][_0x38b87f(0x1cb)]('Kb')[_0x38b87f(0x1e3)]())),_0x42f114=_0x24f7bc[_0x38b87f(0x2c3)]((_0x3c5118,_0x37e9c4)=>_0x3c5118+parseFloat(_0x37e9c4[_0x38b87f(0x1c8)]),0x0)/_0x24f7bc[_0x38b87f(0x2e9)],_0x3a20e6=_0x140a89[_0x38b87f(0x2c3)]((_0x1bc0ba,_0xc7adf8)=>_0x1bc0ba+_0xc7adf8,0x0)/_0x140a89['length'];_0x3db48e[_0x38b87f(0x227)]({'requestsPerSecond':counter[_0x38b87f(0x292)](),'diskUsage':_0x44bd6f,'cpus':_0x3803ed,'system':_0x1865d5,'process':_0x1ba88a,'totalMonitoringData':_0x16d40d[_0x38b87f(0x2e9)],'memory':_0x401c54,'totalUsers':_0x1b6660,'avgConvertionTime':_0x42f114,'avgMemoryUsage':_0x3a20e6});}),router[a26_0x4c62be(0x1b1)]('/metrics/reset',(_0x463932,_0x31aabc)=>{const _0xcc7254=a26_0x4c62be;counter[_0xcc7254(0x24f)](),_0x31aabc[_0xcc7254(0x227)]({'message':_0xcc7254(0x273)});});const getMonitoringData=()=>{const _0x165dce=a26_0x4c62be,_0x2bb8cc=_0x165dce(0x260);let _0x5e6c06=[];try{_0x5e6c06=JSON['parse'](fs[_0x165dce(0x2fb)](_0x2bb8cc));}catch(_0x4d7478){console['log'](_0x165dce(0x1d3));}return _0x5e6c06;};router[a26_0x4c62be(0x1c1)]('/conversion/list',async(_0x3e2230,_0x33a8f3)=>{const _0x4f6176=a26_0x4c62be,{page:page=0x1,limit:limit=0xa}=_0x3e2230[_0x4f6176(0x26f)],_0x2965c6=(page-0x1)*limit;try{const _0x2dc20f=getMonitoringData(),_0x368d3f=_0x2dc20f[_0x4f6176(0x2e9)],_0x30c69a=Math[_0x4f6176(0x252)](_0x368d3f/limit),_0x2c235a=_0x2dc20f[_0x4f6176(0x237)](_0x2965c6,_0x2965c6+limit);_0x33a8f3['status'](0xc8)[_0x4f6176(0x227)]({'data':_0x2c235a,'page':parseInt(''+page),'totalPages':_0x30c69a,'total':_0x368d3f});}catch(_0x42895f){console[_0x4f6176(0x26c)](_0x42895f),_0x33a8f3[_0x4f6176(0x2bc)](0x1f4)[_0x4f6176(0x227)]({'error':_0x4f6176(0x2e4)});}}),router[a26_0x4c62be(0x280)](a26_0x4c62be(0x28f),async(_0x2a52a6,_0x3dbecf)=>{const _0x2bc32f=a26_0x4c62be,_0x1e3f29=_0x2bc32f(0x260);try{fs[_0x2bc32f(0x2f1)](_0x1e3f29,JSON['stringify']([],null,0x4)),_0x3dbecf[_0x2bc32f(0x2bc)](0xc8)[_0x2bc32f(0x227)]({'message':'Monitoring\x20file\x20cleaned.'});}catch(_0x430ec6){console[_0x2bc32f(0x26c)](_0x430ec6),_0x3dbecf[_0x2bc32f(0x2bc)](0x1f4)[_0x2bc32f(0x227)]({'error':_0x2bc32f(0x2e4)});}}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x1d2),async(_0x1c2694,_0x28332f)=>{const _0x58be62=a26_0x4c62be,_0xc854b6=getHotConfig()[_0x58be62(0x1ab)][_0x58be62(0x1cb)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x1c2694[_0x58be62(0x26f)],_0x2612bc=(page-0x1)*limit;try{const _0x560def=_0xc854b6+_0x58be62(0x2ee);console[_0x58be62(0x26c)](_0x560def);const _0x4db6c4=fs['readFileSync'](_0x560def,_0x58be62(0x244)),_0x490af8=_0x4db6c4[_0x58be62(0x2fd)]('\x0a'),_0x430481=[];_0x490af8['forEach'](_0x5d22cd=>{const _0x46a6cb=_0x58be62,_0x1bc696=_0x5d22cd[_0x46a6cb(0x2fd)](',');if(_0x1bc696[_0x46a6cb(0x2e9)]<0x4)return;const _0x25cb9d=_0x1bc696[0x0],_0x1e292c=_0x1bc696[0x1],_0x366d46=parseFloat(_0x1bc696[0x2]);_0x430481[_0x46a6cb(0x272)]({'file':_0x25cb9d['replaceAll']('\x22',''),'action':_0x1e292c,'timeSpend':_0x366d46,'memoryUsage':_0x1bc696[0x3]});});const _0x265998=_0x430481[_0x58be62(0x2e9)],_0x4122a3=Math[_0x58be62(0x252)](_0x265998/limit),_0x458a62=_0x430481[_0x58be62(0x237)](_0x2612bc,_0x2612bc+limit);_0x28332f[_0x58be62(0x2bc)](0xc8)[_0x58be62(0x227)]({'data':_0x458a62,'page':parseInt(''+page),'totalPages':_0x4122a3,'total':_0x265998});}catch(_0x3f7865){console['log'](_0x3f7865),_0x28332f[_0x58be62(0x2bc)](0x1f4)[_0x58be62(0x227)]({'error':_0x58be62(0x2e4)});}}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x301),async(_0x3ada8e,_0x49fc49)=>{const _0x4f5eed=a26_0x4c62be,_0x3697f5=path[_0x4f5eed(0x192)](path[_0x4f5eed(0x2dd)](require[_0x4f5eed(0x21e)][_0x4f5eed(0x1d4)]),_0x4f5eed(0x2af),_0x4f5eed(0x2bf));try{let _0x541ce9=0x0,_0x5bc844=0x0;function _0x5da8fa(_0x4f4e6b){const _0x5de863=_0x4f5eed;let _0x15c739=0x0,_0x4bdc2f=0x0;if(fs[_0x5de863(0x259)](_0x4f4e6b)){const _0x18e905=fs[_0x5de863(0x206)](_0x4f4e6b);_0x4bdc2f=0x0;for(const _0x42fd06 of _0x18e905){const _0x4e12bd=path[_0x5de863(0x192)](_0x4f4e6b,_0x42fd06),_0x46b3a0=fs[_0x5de863(0x2e1)](_0x4e12bd);if(_0x46b3a0[_0x5de863(0x236)]()&&_0x42fd06!==_0x5de863(0x2ca))_0x4bdc2f++,_0x15c739+=_0x46b3a0[_0x5de863(0x1d5)];else{if(_0x46b3a0[_0x5de863(0x1fe)]()){}}}}return{'size':_0x15c739,'count':_0x4bdc2f};}const _0x47c39d=_0x5da8fa(_0x3697f5);_0x541ce9=_0x47c39d['size'],_0x5bc844=_0x47c39d[_0x4f5eed(0x199)],_0x49fc49[_0x4f5eed(0x227)]({'fileCount':_0x5bc844,'totalSize':_0x541ce9});}catch(_0x758914){console[_0x4f5eed(0x232)](_0x4f5eed(0x2f9),_0x758914),_0x49fc49[_0x4f5eed(0x2bc)](0x1f4)[_0x4f5eed(0x227)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x4c62be(0x280)](a26_0x4c62be(0x2b0),async(_0x21408b,_0x631545)=>{const _0x534f07=a26_0x4c62be,_0x48995c=path[_0x534f07(0x192)](path[_0x534f07(0x2dd)](require['main'][_0x534f07(0x1d4)]),_0x534f07(0x2af),'files');try{function _0x1b998d(_0x10292b){const _0xa45a40=_0x534f07;if(fs[_0xa45a40(0x259)](_0x10292b)){const _0xbce16f=fs[_0xa45a40(0x206)](_0x10292b);for(const _0x253566 of _0xbce16f){const _0x23f028=path[_0xa45a40(0x192)](_0x10292b,_0x253566),_0x1b12f0=fs['statSync'](_0x23f028);if(_0x1b12f0[_0xa45a40(0x1fe)]()){}else _0x253566!==_0xa45a40(0x2ca)&&fs[_0xa45a40(0x1a6)](_0x23f028);}}}_0x1b998d(_0x48995c),_0x631545['json']({'message':_0x534f07(0x23a)});}catch(_0x5bdf59){console[_0x534f07(0x232)](_0x534f07(0x268),_0x5bdf59),_0x631545['status'](0x1f4)[_0x534f07(0x227)]({'error':_0x534f07(0x25e)});}}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x243),async(_0x32ac97,_0x53ff7a)=>{const _0xd5322b=a26_0x4c62be;_0x53ff7a[_0xd5322b(0x1e1)](path[_0xd5322b(0x192)](path['dirname'](require[_0xd5322b(0x21e)][_0xd5322b(0x1d4)]),_0xd5322b(0x255)));}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x18a),protectedRoute,async(_0xaea243,_0x1fa83b)=>{const _0x51f1b5=a26_0x4c62be,_0x4112ad=fs[_0x51f1b5(0x2fb)](path['join'](path['dirname'](require[_0x51f1b5(0x21e)][_0x51f1b5(0x1d4)]),_0x51f1b5(0x1fa)),_0x51f1b5(0x244)),_0x2cb49d=_0x4112ad[_0x51f1b5(0x1cb)](_0x51f1b5(0x264),_0xaea243[_0x51f1b5(0x2b6)]);_0x1fa83b[_0x51f1b5(0x28a)](_0x2cb49d);}),router['get'](a26_0x4c62be(0x2c4),async(_0x3fa3b9,_0xbfe618)=>{const _0x4e534e=a26_0x4c62be,{page:page=0x1,limit:limit=0x10}=_0x3fa3b9[_0x4e534e(0x26f)],_0x3463f5=JSON[_0x4e534e(0x2b3)](fs[_0x4e534e(0x2fb)](path['join'](path[_0x4e534e(0x2dd)](require[_0x4e534e(0x21e)][_0x4e534e(0x1d4)]),_0x4e534e(0x1ce)))),_0x5431e6=(page-0x1)*limit,_0x2f8e4b=page*limit,_0x5aadfe=_0x3463f5['files']['length'],_0x19fcef=Math[_0x4e534e(0x252)](_0x5aadfe/limit),_0x14b183=_0x3463f5[_0x4e534e(0x2bf)][_0x4e534e(0x237)](_0x5431e6,_0x2f8e4b);_0xbfe618[_0x4e534e(0x227)]({'files':_0x14b183,'pagination':{'total':_0x5aadfe,'totalPages':_0x19fcef,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router['get'](a26_0x4c62be(0x1a7),async(_0x457970,_0x38d7e7)=>{const _0x3fe544=a26_0x4c62be,{file:_0x2347ff}=_0x457970[_0x3fe544(0x278)],_0x5e923b=path[_0x3fe544(0x192)](path[_0x3fe544(0x2dd)](require[_0x3fe544(0x21e)][_0x3fe544(0x1d4)]),'converters',_0x3fe544(0x2bf)),_0x3b5b41=path['join'](_0x5e923b,_0x2347ff),_0x4201a7=fs[_0x3fe544(0x2fb)](_0x3b5b41,_0x3fe544(0x244)),_0x71e08f=_0x4201a7['split']('\x0a'),_0x36ab83=_0x71e08f[_0x3fe544(0x1b2)](_0x1f8058=>{const _0x369fe8=_0x3fe544,_0x86c8f3=_0x1f8058['split'](',');return _0x86c8f3[_0x369fe8(0x1b2)](_0x4883e8=>_0x4883e8[_0x369fe8(0x1cb)]('\x22',''));});_0x38d7e7[_0x3fe544(0x227)](_0x36ab83);}),router[a26_0x4c62be(0x1c1)](a26_0x4c62be(0x1f1),async(_0x2cda53,_0x4939fd)=>{const _0x357d90=a26_0x4c62be,{id:_0x47defd}=_0x2cda53[_0x357d90(0x278)],_0x1f4617=path[_0x357d90(0x192)](path[_0x357d90(0x2dd)](require[_0x357d90(0x21e)]['filename']),'converters',_0x357d90(0x2bf)),_0x5a2ee6=path[_0x357d90(0x192)](_0x1f4617,_0x47defd);if(_0x5a2ee6['endsWith'](_0x357d90(0x204))){var _0x15aaf1=require(_0x357d90(0x1ac));const _0x2aa180=fs[_0x357d90(0x2fb)](_0x5a2ee6),_0x1adca7=_0x15aaf1[_0x357d90(0x2a7)](_0x2aa180);_0x4939fd[_0x357d90(0x2f8)]('Content-Type','image/svg+xml'),_0x4939fd['send'](_0x1adca7);}else _0x4939fd[_0x357d90(0x1e1)](_0x5a2ee6);}),router[a26_0x4c62be(0x280)](a26_0x4c62be(0x1f1),async(_0x311154,_0x3f0230)=>{const _0x1e2ee4=a26_0x4c62be,{id:_0x4822a0}=_0x311154[_0x1e2ee4(0x278)],_0x2bc0fd=path['join'](path[_0x1e2ee4(0x2dd)](require['main'][_0x1e2ee4(0x1d4)]),_0x1e2ee4(0x2af),_0x1e2ee4(0x2bf)),_0x44975a=JSON[_0x1e2ee4(0x2b3)](fs[_0x1e2ee4(0x2fb)](path[_0x1e2ee4(0x192)](path[_0x1e2ee4(0x2dd)](require[_0x1e2ee4(0x21e)][_0x1e2ee4(0x1d4)]),'cadviewer/settings/converter-files-analysis.json'))),_0x12c368=_0x44975a[_0x1e2ee4(0x2bf)][_0x1e2ee4(0x1b8)](_0x3d43ec=>_0x3d43ec[_0x1e2ee4(0x248)]===_0x4822a0);if(_0x12c368){try{fs['existsSync'](path[_0x1e2ee4(0x192)](_0x2bc0fd,_0x12c368['name']))&&fs[_0x1e2ee4(0x1a6)](path['join'](_0x2bc0fd,_0x12c368['name']));}catch(_0x393099){console[_0x1e2ee4(0x26c)]({'e':_0x393099});}(_0x12c368[_0x1e2ee4(0x284)]??[])[_0x1e2ee4(0x245)](_0x40c8ee=>{const _0x347325=_0x1e2ee4;try{fs[_0x347325(0x259)](path['join'](_0x2bc0fd,_0x40c8ee['id']))&&fs['unlinkSync'](path[_0x347325(0x192)](_0x2bc0fd,_0x40c8ee['id']));}catch(_0x2c87b4){console[_0x347325(0x26c)]({'e':_0x2c87b4});}});}analyzeConverterFiles(),_0x3f0230[_0x1e2ee4(0x227)]({'message':'File\x20deleted\x20successfully'});});const deleteOldDemoUsers=async()=>{const _0x49232b=a26_0x4c62be;console[_0x49232b(0x26c)](_0x49232b(0x304));const _0x4fc47a=config[_0x49232b(0x266)],_0x16ed0b='SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)';try{const [_0x5a797d]=await conn[_0x49232b(0x277)]()[_0x49232b(0x308)](_0x16ed0b,[_0x4fc47a]),_0x5515e0=_0x5a797d[_0x49232b(0x1b2)](_0x1a079b=>_0x1a079b['folder_name']),_0x79c342=_0x5a797d[_0x49232b(0x1b2)](_0x82d15e=>_0x82d15e[_0x49232b(0x2f2)]);console['log'](_0x79c342),await conn[_0x49232b(0x277)]()[_0x49232b(0x308)]('DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[_0x4fc47a]),_0x5515e0[_0x49232b(0x245)](_0x1c56a2=>{const _0x3e8907=_0x49232b;try{const _0x514b02=_0x3e8907(0x26e)+_0x1c56a2;fs[_0x3e8907(0x195)](_0x514b02);}catch(_0x598ddc){console[_0x3e8907(0x232)]('Error\x20deleting\x20user\x20folder:',_0x598ddc);}}),console[_0x49232b(0x26c)](_0x49232b(0x18f)+_0x5a797d[_0x49232b(0x2e9)]+')\x20older\x20than\x20'+_0x4fc47a+_0x49232b(0x274));}catch(_0x396004){console[_0x49232b(0x232)](_0x49232b(0x2c9),_0x396004);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x3da5cf=a26_0x4c62be,_0x12cc82=require('../libs/mail')[_0x3da5cf(0x276)];try{const [_0x41568c]=await conn[_0x3da5cf(0x277)]()[_0x3da5cf(0x308)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[config['demoUserRetentionDays']-config[_0x3da5cf(0x2f3)]]);if(_0x41568c['length']===0x0){console[_0x3da5cf(0x26c)](_0x3da5cf(0x2d7));return;}for(const _0x14406c of _0x41568c){let _0x455b2d=_0x3da5cf(0x2ae)+(_0x14406c[_0x3da5cf(0x2df)]||_0x14406c[_0x3da5cf(0x213)])+',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x575763={'from':config[_0x3da5cf(0x216)],'to':_0x14406c[_0x3da5cf(0x2f2)],'subject':_0x3da5cf(0x1cc),'text':_0x3da5cf(0x210),'html':_0x455b2d};try{await _0x12cc82['sendMail'](_0x575763),console[_0x3da5cf(0x26c)](_0x3da5cf(0x309)+_0x14406c[_0x3da5cf(0x2f2)]);}catch(_0x4970d1){console[_0x3da5cf(0x26c)](_0x3da5cf(0x2ce)),console[_0x3da5cf(0x26c)](_0x3da5cf(0x2f0)+_0x14406c[_0x3da5cf(0x2f2)]),console['log'](_0x4970d1);}}}catch(_0x1c6ea1){console[_0x3da5cf(0x26c)]('===================error==================='),console[_0x3da5cf(0x26c)](_0x3da5cf(0x1b0)),console[_0x3da5cf(0x26c)](_0x1c6ea1);}};function a26_0x1da9(){const _0x38d39b=['usedPercentage','readdirSync','../libs/counter.js','total','Error\x20updating\x20config','/metrics','autoxchange_executable','cadviewer/settings/config.html','dwgmerge_executable_linux','red','padStart','Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','type','Display\x20of\x20DWG','username','linklistLocation','linklist_executable_windows','smtpFrom','/config/global-update','hash','diskStorage','access','/folders/update','4eGxORT','standard','main','pdf','settings','toLocaleLowerCase','/folders','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','xpathLocation','336798kHKOFi','/users/:userId','json','*\x20*\x20*\x20*\x20*','write','mode','Files\x20uploaded\x20successfully','cadviewer/settings/chart.min.js','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','Error\x20saving\x20parameters.','uptime','setup_mysqlHost','mkdir','error','/licences','from','X_OK','isFile','slice','Error\x20getting\x20memory\x20info','tmp','Cache\x20flushed\x20successfully','copyFileSync','put','sort','test','demo_user','../libs/log','\x20n\x27existe\x20pas.','folderLocation','/cache-stats.js','utf8','forEach','getMonth','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','name','file','/logs/clean','./tmp','/content/redlines/v7/','replace','filter','reset','\x22\x20executable','arch','ceil','cadviewer/settings/style.css','LinkList\x20Settings','cadviewer/settings/cache-stats.js','Config\x20updated.','usedMemPercentage','/doctor','existsSync','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','dwgmerge_executable','stringify','CADViewer\x20Settings','Failed\x20to\x20flush\x20cache','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20termine.\x20Rsultats\x20enregistrs\x20dans\x20','cadviewer/settings/requests-callapiconversion-monitoring.json','CADViewer_config.json','/folders/create','.dwg.json','{version}','308eGNpZz','demoUserRetentionDays','40196ttDFSI','Error\x20flushing\x20cache:','dwgFile','blocks','/converters/files/merged/','log','hostname','./uploads/','query','totalGB','svgz','push','Counter\x20reset\x20successfully','\x20days\x20have\x20been\x20deleted.','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','transporter','promise','params','File\x20or\x20Folder\x20not\x20found','385962NXmSwH','Read\x20and\x20write\x20permission\x20for\x20folder\x20','/converters/files/pdf/','\x20\x20\x20','\x20GB','ctime','delete','autoxchange_executable_windows','Le\x20dossier\x20','used','availableFormats','fileLoad_PasswordAuthentication','====================','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','\x20MB','13ujWBFa','send','DWG\x20to\x20SVG\x20Conversion','No\x20config\x20object\x20provided','some','398064phOhOw','/conversion/clean','rmdir','.svg','getStats','/folders/upload','Folder\x20created.','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','role','toUpperCase','../CADViewer_config.json','purple','dwgmergeLocation','mimetype','Invalid\x20user','Error\x20getting\x20total\x20users','clean','Log\x20file\x20cleaned.','cached_conversion','ServerUrl','conversionMemoryUsage','mem','Error\x20finding\x20log\x20files:','/tailwind.js','endsWith','gunzipSync','cadviewer/settings/licences.html','toString','attachment;\x20filename=\x22','gray','globalBearerAutenticationToken','windows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','converters','/cache/flush','mkdirSync','/icons.js','parse','avatars/','entries','version','fileName','licenseLocation','Folder\x20not\x20found.','body','csvFile','status','win32','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','files','.png','/config/update','Error\x20downloading\x20file.','reduce','/cache/files','PDF','info','User\x20directory\x20flushed\x20successfully','=============================>','Error\x20deleting\x20old\x20demo_user\x20accounts:','.gitkeep','dir','ServerPort','DwgMerge\x20Settings','===================error===================','resolve','Permission\x20750\x20for\x20the\x20\x22','userId','DWG\x20to\x20PDF\x20Conversion','/users','settingsUserBasicAuth','osCmd','child_process','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','toFixed','rmSync','mysqlHost','autodetect_platform','autodetect_location','dirname','Error\x20deleting\x20folder.','first_name','.log\x22','statSync','atime','/converters/files/','Error!\x20Something\x20went\x20wrong.','pop','then','user','scheduleJob','length','node-os-utils','isArray','sub_dirs','.json','memorydata.csv','whoami','Failed\x20to\x20send\x20email\x20to\x20','writeFileSync','email','demoUserRetentionDaysAlertBeforeDeletion','catch','cadviewer/settings/rest-api-parameters.json','ContentSecurityPolicyReportOnly','getFullYear','setHeader','Error\x20getting\x20cache\x20stats:','cadviewer/settings/home.html','readFileSync','platform','split','R_OK','converterpathWin','187644xJEXJB','/cache/stats','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','linklist_executable_linux','Deleting\x20old\x20demo_user\x20accounts...','cachedfiles','W_OK','logs','execute','Deletion\x20prevention\x20email\x20sent\x20to\x20','node-schedule','constants','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','SELECT\x20*\x20FROM\x20users','cpu','cadviewer/settings/vanilla-toast.css','multer','green','message','express-basic-auth','Error\x20getting\x20process\x20info','converter-files-analysis.json','proc','Callback\x20and\x20Authentication\x20Settings','Database\x20Settings','createdAt','oos','radio|windows,linux','SVGZ','/cache','ContentSecurityPolicy','fontLocation','cadviewer/settings/vanilla-toast.js','User\x20updated\x20successfully','Old\x20demo_user\x20accounts\x20(','cadviewer/settings/rest-api.html','fileLocation','join','splity','fileLoad_Password','rmdirSync','Error\x20getting\x20disk\x20usage','RL/TL\x20Processing','.pdf','count','who','dwgmerge_executable_windows','User\x20deleted\x20successfully','SVG','Cache\x20conversion','set','usedGb','path','folder_name','CSV','File\x20deleted.','cadviewer/settings/users.html','unlinkSync','/cache/csv/:file','action','7VGVQpr','mysqlDatabase','converterLocation','zlib','Router','autoxchange_executable_linux','usage','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','post','map','boolean','.dwg','.rl.json','Mail\x20Server\x20Settings','model','find','bcrypt','temp_print_folder','Error\x20creating\x20folder.','linklist_executable','yellow','/restapi-test','folderName','/users/flush-dir','get','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','fileLocationUrl','hlall','.csv','Demo\x20and\x20Base\x20User\x20Settings','../libs/mysql.js','conversionTimeSpend','crypto','cadviewer/settings/doctor.html','replaceAll','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','.log','cadviewer/settings/converter-files-analysis.json','cadviewer/settings/folders.html','/style.css','DWG','/conversion/memorydata','Error\x20reading\x20monitoring\x20file','filename','size','Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)','cadviewer','DWG\x20file\x20in\x20multiple\x20files','isFolder','Content-Disposition','application/octet-stream','getDate','ServerLocation','unlink','mysqlPassword','1146385vAJRAP','sendFile','blue','trim','fileLoad_UserName','Error\x20getting\x20cpu\x20usage','/logs/content','readFile','usedMemMb','call-Api_Conversion_','linux','totalProcesses','zombieProcesses','number','writeFile','originalname','radio|','/cache/files/:id','180490TggiBB','/converters/files/print/','darwin','/content/redlines/','includes','callbackMethod_gatewayUrl_flag','drive','svg','cadviewer/settings/conversion-cache.html','single','keys','Parameters\x20saved.','isDirectory','File\x20not\x20found','/folders/delete','has','Config\x20updated\x20successfully','formatedSize','.svgz'];a26_0x1da9=function(){return _0x38d39b;};return a26_0x1da9();}schedule[a26_0x4c62be(0x2e8)]('0\x201\x20*\x20*\x20*',deleteOldDemoUsers),schedule[a26_0x4c62be(0x2e8)]('0\x200\x20*\x20*\x20*',sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x8b78d6=a26_0x4c62be;try{const _0x458608=path[_0x8b78d6(0x192)](path[_0x8b78d6(0x2dd)](require[_0x8b78d6(0x21e)]['filename']),_0x8b78d6(0x2af),_0x8b78d6(0x2bf)),_0x582dfe=path['join'](path['dirname'](require['main'][_0x8b78d6(0x1d4)]),_0x8b78d6(0x1d7),_0x8b78d6(0x220));if(!fs['existsSync'](_0x458608)){logStream[_0x8b78d6(0x229)](_0x8b78d6(0x282)+_0x458608+_0x8b78d6(0x241));return;}if(!fs[_0x8b78d6(0x259)](_0x582dfe)){logStream['write'](_0x8b78d6(0x282)+_0x582dfe+_0x8b78d6(0x241));return;}const _0x2aa687=fs[_0x8b78d6(0x206)](_0x458608),_0x1232c8=new Map();_0x2aa687[_0x8b78d6(0x245)](_0x2b4627=>{const _0x48d6b9=_0x8b78d6,_0x42017b=path['join'](_0x458608,_0x2b4627),_0x17dfe2=fs['statSync'](_0x42017b);_0x1232c8[_0x48d6b9(0x19f)](_0x2b4627,_0x17dfe2);});const _0x5d39a4=[],_0x4154f1=Array[_0x8b78d6(0x234)](_0x1232c8[_0x8b78d6(0x2b5)]())['map'](([_0x11ed70,_0x55d96e])=>{const _0x2d472e=_0x8b78d6;if(_0x55d96e[_0x2d472e(0x1fe)]())return undefined;let _0x52c000=undefined,_0x30ffce=undefined;(_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x291))||_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x204)))&&_0x1232c8[_0x2d472e(0x201)](_0x11ed70[_0x2d472e(0x24d)](_0x2d472e(0x204),_0x2d472e(0x1c5))['replace']('.svg',_0x2d472e(0x1c5)))&&(_0x52c000=_0x11ed70[_0x2d472e(0x24d)]('.svgz',_0x2d472e(0x1c5))[_0x2d472e(0x24d)](_0x2d472e(0x291),_0x2d472e(0x1c5)));_0x11ed70['endsWith']('.json')&&_0x1232c8[_0x2d472e(0x201)](_0x11ed70[_0x2d472e(0x24d)](_0x2d472e(0x2ed),_0x2d472e(0x1b4)))&&(_0x30ffce=_0x11ed70[_0x2d472e(0x24d)](_0x2d472e(0x2ed),_0x2d472e(0x1b4)));const _0x17cd90=_0x34e05f=>{const _0x1f19c1=_0x2d472e;if(_0x34e05f[_0x1f19c1(0x2a6)]('.rl.json'))return _0x34e05f[_0x1f19c1(0x237)](0x0,-0x8);else{if(_0x34e05f[_0x1f19c1(0x2a6)](_0x1f19c1(0x263))){const _0x25329e=fs[_0x1f19c1(0x2fb)](path[_0x1f19c1(0x192)](_0x458608,_0x34e05f),_0x1f19c1(0x244));return JSON[_0x1f19c1(0x2b3)](_0x25329e)[_0x1f19c1(0x305)]['map'](_0x1e277d=>_0x1e277d[_0x1f19c1(0x2b7)]);}}return _0x34e05f[_0x1f19c1(0x237)](0x0,_0x34e05f['lastIndexOf']('.'));},_0x1ca057=_0x17cd90(_0x11ed70),_0x43e278=Array[_0x2d472e(0x234)](_0x1232c8[_0x2d472e(0x1fc)]())[_0x2d472e(0x24e)](_0x1a28be=>{return Array['isArray'](_0x1ca057)?_0x1ca057['some'](_0x6d8696=>_0x17cd90(_0x1a28be)===_0x6d8696&&_0x1a28be!==_0x11ed70):_0x17cd90(_0x1a28be)===_0x1ca057&&_0x1a28be!==_0x11ed70;});if(Array[_0x2d472e(0x2eb)](_0x1ca057)){if(_0x1ca057['some'](_0x1c1344=>_0x5d39a4[_0x2d472e(0x1f6)](_0x1c1344)))return;}else{if(_0x5d39a4['includes'](_0x1ca057))return;}Array[_0x2d472e(0x2eb)](_0x1ca057)?_0x1ca057['forEach'](_0x3d9137=>{const _0x59eee7=_0x2d472e;_0x5d39a4[_0x59eee7(0x272)](_0x3d9137);}):_0x5d39a4[_0x2d472e(0x272)](_0x1ca057);const _0x4e447b=[{'id':_0x11ed70,'name':_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x291))?_0x2d472e(0x19d):_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x204))?_0x2d472e(0x31c):_0x11ed70['endsWith'](_0x2d472e(0x198))?_0x2d472e(0x2c5):_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x2ed))?'JSON':_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x1c5))?_0x2d472e(0x1a3):_0x11ed70['endsWith'](_0x2d472e(0x1b4))?_0x2d472e(0x1d1):_0x11ed70['split']('.')[_0x2d472e(0x2e5)]()['toUpperCase'](),'color':_0x11ed70[_0x2d472e(0x2a6)]('.svg')||_0x11ed70[_0x2d472e(0x2a6)]('.svgz')?'yellow':_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x198))?_0x2d472e(0x20e):_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x2ed))?_0x2d472e(0x2ab):_0x11ed70[_0x2d472e(0x2a6)]('.csv')?_0x2d472e(0x311):_0x11ed70[_0x2d472e(0x2a6)](_0x2d472e(0x1b4))?_0x2d472e(0x1e2):_0x2d472e(0x299)},..._0x43e278[_0x2d472e(0x1b2)](_0x5968da=>({'id':_0x5968da,'name':_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x291))?'SVG':_0x5968da['endsWith'](_0x2d472e(0x204))?_0x2d472e(0x31c):_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x198))?'PDF':_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x2ed))?'JSON':_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x1c5))?_0x2d472e(0x1a3):_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x1b4))?_0x2d472e(0x1d1):_0x5968da[_0x2d472e(0x2fd)]('.')[_0x2d472e(0x2e5)]()[_0x2d472e(0x297)](),'color':_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x291))||_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x204))?_0x2d472e(0x1bd):_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x198))?_0x2d472e(0x20e):_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x2ed))?'gray':_0x5968da[_0x2d472e(0x2a6)](_0x2d472e(0x1c5))?_0x2d472e(0x311):_0x5968da['endsWith'](_0x2d472e(0x1b4))?_0x2d472e(0x1e2):_0x2d472e(0x299)}))];let _0x3ffa16='';if(_0x4e447b[_0x2d472e(0x28d)](_0x3168db=>_0x3168db['id'][_0x2d472e(0x1f6)](_0x2d472e(0x1b5))))_0x3ffa16=_0x2d472e(0x197);else{if(_0x4e447b[_0x2d472e(0x28d)](_0x1bf47c=>[_0x2d472e(0x1f9),_0x2d472e(0x271)][_0x2d472e(0x1f6)](_0x1bf47c['id'][_0x2d472e(0x2fd)]('.')[_0x2d472e(0x2e5)]()))&&_0x52c000)_0x3ffa16=_0x2d472e(0x28b);else{if(_0x4e447b[_0x2d472e(0x28d)](_0x2c98c7=>[_0x2d472e(0x1f9),_0x2d472e(0x271)]['includes'](_0x2c98c7['id'][_0x2d472e(0x2fd)]('.')[_0x2d472e(0x2e5)]())))_0x3ffa16=_0x2d472e(0x212);else{if(_0x4e447b[_0x2d472e(0x28d)](_0x53829a=>[_0x2d472e(0x227)][_0x2d472e(0x1f6)](_0x53829a['id']['split']('.')[_0x2d472e(0x2e5)]()))&&_0x30ffce)_0x3ffa16='JSON\x20Data\x20Extraction';else{if(_0x4e447b[_0x2d472e(0x28d)](_0x3f8c33=>[_0x2d472e(0x21f)][_0x2d472e(0x1f6)](_0x3f8c33['id'][_0x2d472e(0x2fd)]('.')[_0x2d472e(0x2e5)]())))_0x3ffa16=_0x2d472e(0x2d2);else{if(_0x4e447b[_0x2d472e(0x28d)](_0x3ec52e=>[_0x2d472e(0x227)][_0x2d472e(0x1f6)](_0x3ec52e['id']['split']('.')[_0x2d472e(0x2e5)]()))&&!_0x30ffce)_0x3ffa16=_0x2d472e(0x1d8);else _0x4e447b[_0x2d472e(0x28d)](_0x70caea=>['json'][_0x2d472e(0x1f6)](_0x70caea['id'][_0x2d472e(0x2fd)]('.')['pop']()))&&(_0x3ffa16=_0x2d472e(0x19e));}}}}}return{'name':_0x11ed70,'size':_0x55d96e['size'],'createdAt':_0x55d96e['birthtime'],'updatedAt':_0x55d96e[_0x2d472e(0x27f)],'readAt':_0x55d96e[_0x2d472e(0x2e2)],'action':_0x3ffa16,'csvFile':_0x52c000,'dwgFile':_0x30ffce,'availableFormats':_0x4e447b};})[_0x8b78d6(0x24e)](_0x470ca9=>_0x470ca9!==undefined);_0x4154f1[_0x8b78d6(0x23d)]((_0x116863,_0x4f859f)=>_0x4f859f[_0x8b78d6(0x319)]-_0x116863[_0x8b78d6(0x319)]);const _0x38df8b={'timestamp':new Date(),'totalFiles':_0x4154f1['length'],'filesByType':{'svg':_0x4154f1[_0x8b78d6(0x24e)](_0x28b9af=>_0x28b9af[_0x8b78d6(0x248)]['endsWith'](_0x8b78d6(0x291)))['length'],'svgz':_0x4154f1['filter'](_0x5bf13e=>_0x5bf13e[_0x8b78d6(0x248)][_0x8b78d6(0x2a6)]('.svgz'))[_0x8b78d6(0x2e9)],'pdf':_0x4154f1[_0x8b78d6(0x24e)](_0x19ffc3=>_0x19ffc3[_0x8b78d6(0x248)][_0x8b78d6(0x2a6)](_0x8b78d6(0x198)))[_0x8b78d6(0x2e9)],'json':_0x4154f1[_0x8b78d6(0x24e)](_0xf9f463=>_0xf9f463[_0x8b78d6(0x248)][_0x8b78d6(0x2a6)]('.json'))[_0x8b78d6(0x2e9)],'csv':_0x4154f1[_0x8b78d6(0x24e)](_0x36a90b=>_0x36a90b[_0x8b78d6(0x2bb)])[_0x8b78d6(0x2e9)],'dwg':_0x4154f1[_0x8b78d6(0x24e)](_0x5223aa=>_0x5223aa[_0x8b78d6(0x269)])[_0x8b78d6(0x2e9)]},'filesByAction':{'dwgToSvg':_0x4154f1[_0x8b78d6(0x24e)](_0x1e11bc=>_0x1e11bc[_0x8b78d6(0x1a8)]==='DWG\x20to\x20SVG\x20Conversion')[_0x8b78d6(0x2e9)],'displayDwg':_0x4154f1['filter'](_0x359efb=>_0x359efb['action']===_0x8b78d6(0x212))[_0x8b78d6(0x2e9)],'jsonExtraction':_0x4154f1[_0x8b78d6(0x24e)](_0x22b235=>_0x22b235[_0x8b78d6(0x1a8)]==='JSON\x20Data\x20Extraction')[_0x8b78d6(0x2e9)],'dwgToPdf':_0x4154f1[_0x8b78d6(0x24e)](_0x373dbc=>_0x373dbc[_0x8b78d6(0x1a8)]===_0x8b78d6(0x2d2))[_0x8b78d6(0x2e9)],'splitFiles':_0x4154f1[_0x8b78d6(0x24e)](_0x256e3a=>_0x256e3a['action']===_0x8b78d6(0x1d8))['length'],'rlProcessing':_0x4154f1[_0x8b78d6(0x24e)](_0x333229=>_0x333229[_0x8b78d6(0x1a8)]===_0x8b78d6(0x197))[_0x8b78d6(0x2e9)],'cacheConversion':_0x4154f1[_0x8b78d6(0x24e)](_0x2198ad=>_0x2198ad[_0x8b78d6(0x1a8)]==='Cache\x20conversion')[_0x8b78d6(0x2e9)]},'files':_0x4154f1},_0x25e0b1=path[_0x8b78d6(0x192)](_0x582dfe,_0x8b78d6(0x315));fs[_0x8b78d6(0x2f1)](_0x25e0b1,JSON[_0x8b78d6(0x25c)](_0x38df8b,null,0x2)),logStream[_0x8b78d6(0x229)](_0x8b78d6(0x25f)+_0x25e0b1);}catch(_0x207c3f){logStream[_0x8b78d6(0x229)](_0x8b78d6(0x2be)+_0x207c3f[_0x8b78d6(0x312)]);}},scheduleFileAnalysis=()=>{const _0x202eec=a26_0x4c62be;analyzeConverterFiles(),schedule[_0x202eec(0x2e8)](_0x202eec(0x228),analyzeConverterFiles),logStream[_0x202eec(0x229)](_0x202eec(0x1d6));};scheduleFileAnalysis(),module['exports']=router;