const a27_0x5616bb=a27_0x3fff;(function(_0x57d10b,_0x1f9060){const _0x17d94c=a27_0x3fff,_0x59b4e3=_0x57d10b();while(!![]){try{const _0x446917=-parseInt(_0x17d94c(0x228))/0x1*(-parseInt(_0x17d94c(0x2d3))/0x2)+parseInt(_0x17d94c(0x1df))/0x3+parseInt(_0x17d94c(0x1ef))/0x4*(parseInt(_0x17d94c(0x2b3))/0x5)+parseInt(_0x17d94c(0x2eb))/0x6*(-parseInt(_0x17d94c(0x2f1))/0x7)+-parseInt(_0x17d94c(0x166))/0x8*(parseInt(_0x17d94c(0x24c))/0x9)+-parseInt(_0x17d94c(0x2d2))/0xa+parseInt(_0x17d94c(0x1bd))/0xb;if(_0x446917===_0x1f9060)break;else _0x59b4e3['push'](_0x59b4e3['shift']());}catch(_0x57703c){_0x59b4e3['push'](_0x59b4e3['shift']());}}}(a27_0x58f5,0xcf4cf));const express=require(a27_0x5616bb(0x157)),router=express[a27_0x5616bb(0x244)](),multer=require(a27_0x5616bb(0x261)),fs=require('fs'),path=require(a27_0x5616bb(0x191)),getHotConfig=require(a27_0x5616bb(0x1a2))[a27_0x5616bb(0x172)],{exec}=require('child_process'),os=require('os'),conn=require(a27_0x5616bb(0x231)),bcrypt=require('bcrypt'),osu=require(a27_0x5616bb(0x15c)),schedule=require('node-schedule'),counter=require(a27_0x5616bb(0x1f9)),{randomUUID}=require(a27_0x5616bb(0x163)),logStream=require('../libs/log'),config=require(a27_0x5616bb(0x247)),basicAuth=require(a27_0x5616bb(0x15f)),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a27_0x5616bb(0x2ab)),protectedRoute=basicAuth({'users':{[config[a27_0x5616bb(0x18b)]]:config['settingsPasswordBasicAuth']},'challenge':!![],'realm':a27_0x5616bb(0x28a)});router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x2b0),async(_0x4bead7,_0x36666b)=>{const _0x2dc76d=a27_0x5616bb;_0x36666b[_0x2dc76d(0x25d)](path[_0x2dc76d(0x1ff)](path[_0x2dc76d(0x1b5)](require[_0x2dc76d(0x2ac)][_0x2dc76d(0x169)]),'cadviewer/settings/tailwind.js'));}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x2f9),async(_0x5eed77,_0x5d66d4)=>{const _0x17eeb4=a27_0x5616bb;_0x5d66d4[_0x17eeb4(0x25d)](path[_0x17eeb4(0x1ff)](path['dirname'](require[_0x17eeb4(0x2ac)][_0x17eeb4(0x169)]),'cadviewer/settings/chart.min.js'));}),router[a27_0x5616bb(0x1b0)]('/style.css',async(_0x29203a,_0x264df0)=>{const _0x5dc13b=a27_0x5616bb;_0x264df0[_0x5dc13b(0x25d)](path['join'](path['dirname'](require[_0x5dc13b(0x2ac)][_0x5dc13b(0x169)]),_0x5dc13b(0x243)));}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x171),async(_0x45f630,_0xb49f6f)=>{const _0xef7a48=a27_0x5616bb;_0xb49f6f[_0xef7a48(0x25d)](path[_0xef7a48(0x1ff)](path['dirname'](require[_0xef7a48(0x2ac)][_0xef7a48(0x169)]),_0xef7a48(0x255)));}),router[a27_0x5616bb(0x1b0)]('/vanilla-toast.js',async(_0xdbbadc,_0x21a0fe)=>{const _0x32e32e=a27_0x5616bb;_0x21a0fe[_0x32e32e(0x25d)](path['join'](path[_0x32e32e(0x1b5)](require[_0x32e32e(0x2ac)][_0x32e32e(0x169)]),_0x32e32e(0x193)));}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x299),async(_0x169731,_0x1af587)=>{const _0x1b66c0=a27_0x5616bb;_0x1af587['sendFile'](path['join'](path[_0x1b66c0(0x1b5)](require[_0x1b66c0(0x2ac)]['filename']),_0x1b66c0(0x19a)));}),router[a27_0x5616bb(0x1b0)]('/',protectedRoute,async(_0x56351f,_0x5eea44)=>{const _0x501f93=a27_0x5616bb,_0x269b3d=fs['readFileSync'](path[_0x501f93(0x1ff)](path[_0x501f93(0x1b5)](require[_0x501f93(0x2ac)][_0x501f93(0x169)]),'cadviewer/settings/home.html'),_0x501f93(0x187)),_0x3720f6=_0x269b3d[_0x501f93(0x237)](_0x501f93(0x18f),_0x56351f[_0x501f93(0x293)]);_0x5eea44['send'](_0x3720f6);}),router['get'](a27_0x5616bb(0x29b),protectedRoute,async(_0xa2fd79,_0x46ceb5)=>{const _0x26f1c2=a27_0x5616bb,_0x526848=fs[_0x26f1c2(0x1b8)](path[_0x26f1c2(0x1ff)](path[_0x26f1c2(0x1b5)](require[_0x26f1c2(0x2ac)]['filename']),_0x26f1c2(0x26a)),_0x26f1c2(0x187)),_0x333ec3=_0x526848['replaceAll'](_0x26f1c2(0x18f),_0xa2fd79['version']);_0x46ceb5[_0x26f1c2(0x1a5)](_0x333ec3);}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x241),protectedRoute,async(_0x5a1ae6,_0x15838e)=>{const _0x5afe65=a27_0x5616bb,_0x579837=fs[_0x5afe65(0x1b8)](path['join'](path[_0x5afe65(0x1b5)](require['main']['filename']),_0x5afe65(0x23e)),_0x5afe65(0x187)),_0xeb67e9=_0x579837['replaceAll'](_0x5afe65(0x18f),_0x5a1ae6['version']);_0x15838e['send'](_0xeb67e9);}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x219),protectedRoute,async(_0x1721d5,_0x14d13b)=>{const _0x3a818d=a27_0x5616bb,_0x3a8073=fs[_0x3a818d(0x1b8)](path[_0x3a818d(0x1ff)](path[_0x3a818d(0x1b5)](require[_0x3a818d(0x2ac)][_0x3a818d(0x169)]),'cadviewer/settings/folders.html'),_0x3a818d(0x187)),_0x234da1=_0x3a8073[_0x3a818d(0x237)](_0x3a818d(0x18f),_0x1721d5[_0x3a818d(0x293)]);_0x14d13b[_0x3a818d(0x1a5)](_0x234da1);}),router[a27_0x5616bb(0x2f5)](a27_0x5616bb(0x219),async(_0x3e66c8,_0x5e161c)=>{const _0x241c3f=a27_0x5616bb,_0xe18350=path[_0x241c3f(0x1ff)](path[_0x241c3f(0x1b5)](require['main'][_0x241c3f(0x169)]),_0x241c3f(0x23d)),_0x24b363=JSON[_0x241c3f(0x223)](fs[_0x241c3f(0x1b8)](_0xe18350,_0x241c3f(0x187))),_0x2db5f0=_0x24b363[_0x241c3f(0x22c)];if(!fs[_0x241c3f(0x290)](_0x2db5f0))return _0x5e161c[_0x241c3f(0x1b1)](0x194)['json']({'message':'Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.'});const _0x172178=_0x1c27f9=>{const _0x50b545=_0x241c3f;let _0x152f0d=0x0;return _0x1c27f9[_0x50b545(0x154)](_0x19d83d=>{const _0x2425a5=_0x50b545;_0x19d83d[_0x2425a5(0x2b2)]?_0x152f0d+=_0x172178(_0x19d83d['sub_dirs']):_0x152f0d+=_0x19d83d['size'];}),_0x152f0d;},_0xf4b3e1=_0x2ecca8=>{const _0x135cd5=_0x241c3f;if(_0x2ecca8<0x400)return _0x2ecca8+'\x20B';else{if(_0x2ecca8<0x400*0x400)return(_0x2ecca8/0x400)[_0x135cd5(0x20a)](0x2)+_0x135cd5(0x2d5);else return _0x2ecca8<0x400*0x400*0x400?(_0x2ecca8/0x400/0x400)[_0x135cd5(0x20a)](0x2)+_0x135cd5(0x1d2):(_0x2ecca8/0x400/0x400/0x400)[_0x135cd5(0x20a)](0x2)+_0x135cd5(0x218);}},_0x3c31e4=(_0x2b159d,_0x483f97='')=>{const _0x196ed0=_0x241c3f,_0x5a4e26=fs['readdirSync'](_0x2b159d),_0x148d8b=[];return _0x5a4e26[_0x196ed0(0x154)](_0x3bc67d=>{const _0x12b393=_0x196ed0,_0x1c57bf=path[_0x12b393(0x1ff)](_0x2b159d,_0x3bc67d)['replaceAll']('\x5c','/'),_0x6ee8bb=fs['statSync'](_0x1c57bf);if(_0x6ee8bb['isDirectory']()){const _0x2e14d0=_0x3c31e4(_0x1c57bf,_0x483f97+_0x12b393(0x2d8));_0x148d8b[_0x12b393(0x27a)]({'name':_0x3bc67d,'size':_0x6ee8bb[_0x12b393(0x18c)],'path':_0x1c57bf,'permissions':_0x6ee8bb[_0x12b393(0x1e3)],'isFolder':!![],'sub_dirs':_0x2e14d0});}else _0x148d8b[_0x12b393(0x27a)]({'name':_0x3bc67d,'size':_0x6ee8bb[_0x12b393(0x18c)],'path':_0x1c57bf,'permissions':_0x6ee8bb[_0x12b393(0x1e3)],'isFolder':![]});}),_0x148d8b;};let _0x1dd4a0=_0x3c31e4(_0x2db5f0);const _0x2bc333=_0x306830=>{const _0x3acc69=_0x241c3f;return _0x306830[_0x3acc69(0x154)](_0x185f46=>{const _0x2a01b0=_0x3acc69;_0x185f46[_0x2a01b0(0x2b2)]?(_0x185f46['formatedSize']=_0xf4b3e1(_0x172178(_0x185f46[_0x2a01b0(0x2d0)])),_0x185f46[_0x2a01b0(0x2d0)]=_0x2bc333(_0x185f46[_0x2a01b0(0x2d0)])):_0x185f46['formatedSize']=_0xf4b3e1(_0x185f46['size']);}),_0x306830;};_0x5e161c['status'](0xc8)['json'](_0x2bc333(_0x1dd4a0));}),router[a27_0x5616bb(0x2f5)](a27_0x5616bb(0x2a4),async(_0x48a75e,_0x54e7bf)=>{const _0x273c4b=a27_0x5616bb,{path:_0x454945}=_0x48a75e[_0x273c4b(0x2a9)],_0x35d93c=_0x454945[_0x273c4b(0x24a)]('/')[_0x273c4b(0x1e5)]();if(!fs['existsSync'](_0x454945))return _0x54e7bf[_0x273c4b(0x1b1)](0x194)[_0x273c4b(0x1a7)]({'message':_0x273c4b(0x27d)});_0x54e7bf[_0x273c4b(0x2f4)](_0x273c4b(0x1b9),_0x273c4b(0x1e1)),_0x54e7bf[_0x273c4b(0x2f4)](_0x273c4b(0x251),_0x273c4b(0x285)+_0x35d93c+'\x22'),_0x54e7bf[_0x273c4b(0x2c2)](_0x454945,_0x2d34cc=>{const _0x152483=_0x273c4b;_0x2d34cc&&_0x54e7bf[_0x152483(0x1b1)](0x1f4)[_0x152483(0x1a7)]({'message':_0x152483(0x16b)});});}),router[a27_0x5616bb(0x2f5)](a27_0x5616bb(0x248),async(_0x4013a1,_0x4bcb32)=>{const _0xcf2c09=a27_0x5616bb,_0x3ddb0e=_0x4013a1[_0xcf2c09(0x2a9)],_0x30d3ab=getHotConfig()[_0xcf2c09(0x22c)],_0x43ae1f=path[_0xcf2c09(0x1ff)](_0x30d3ab,_0x3ddb0e['path']);if(!fs[_0xcf2c09(0x290)](_0x43ae1f))return _0x4bcb32[_0xcf2c09(0x1b1)](0x194)[_0xcf2c09(0x1a7)]({'message':_0xcf2c09(0x2c6)});if(fs['existsSync'](path[_0xcf2c09(0x1ff)](_0x43ae1f,_0x3ddb0e['folderName'])))return _0x4bcb32[_0xcf2c09(0x1b1)](0x199)['json']({'message':_0xcf2c09(0x266)});fs[_0xcf2c09(0x181)](path['join'](_0x43ae1f,_0x3ddb0e['folderName']),_0x3fa5b5=>{const _0xe1996e=_0xcf2c09;_0x3fa5b5&&_0x4bcb32['status'](0x1f4)[_0xe1996e(0x1a7)]({'message':_0xe1996e(0x2e5)}),_0x4bcb32[_0xe1996e(0x1b1)](0xc8)[_0xe1996e(0x1a7)]({'message':_0xe1996e(0x1e0)});});}),router['put']('/folders/update',async(_0xf72222,_0x3b37b5)=>{const _0x17e4eb=a27_0x5616bb,{newName:_0x2a0afc,isFolder:_0x538077,path:_0x3c3a94}=_0xf72222[_0x17e4eb(0x2a9)];if(!fs[_0x17e4eb(0x290)](_0x3c3a94))return _0x3b37b5['status'](0x194)['json']({'message':_0x538077?_0x17e4eb(0x230):_0x17e4eb(0x27d)});const _0x538ea9=_0x3c3a94['replace'](_0x3c3a94['split']('/')['pop'](),_0x2a0afc),_0x4d64a6=fs[_0x17e4eb(0x1fe)](_0x3c3a94);_0x4d64a6['isDirectory']()?fs[_0x17e4eb(0x270)](_0x3c3a94,_0x538ea9):(fs['copyFileSync'](_0x3c3a94,_0x538ea9),fs['unlinkSync'](_0x3c3a94)),_0x3b37b5['status'](0xc8)['json']({'message':_0x538077?_0x17e4eb(0x22a):_0x17e4eb(0x2a3)});}),router['delete'](a27_0x5616bb(0x1b6),async(_0x3f583f,_0x29db28)=>{const _0x55fdd7=a27_0x5616bb,{path:_0x3c6804}=_0x3f583f[_0x55fdd7(0x2a9)];if(!fs['existsSync'](_0x3c6804))return _0x29db28[_0x55fdd7(0x1b1)](0x194)['json']({'message':_0x55fdd7(0x253)});const _0x95e55f=fs[_0x55fdd7(0x1fe)](_0x3c6804);if(_0x95e55f[_0x55fdd7(0x2c4)]())fs[_0x55fdd7(0x19e)](_0x3c6804,_0x190e82=>{const _0x498465=_0x55fdd7;_0x190e82&&_0x29db28[_0x498465(0x1b1)](0x1f4)[_0x498465(0x1a7)]({'message':_0x498465(0x177)}),_0x29db28['status'](0xc8)[_0x498465(0x1a7)]({'message':'File\x20deleted.'});});else _0x95e55f[_0x55fdd7(0x16d)]()&&fs[_0x55fdd7(0x159)](_0x3c6804,{'recursive':!![]},_0x1081f0=>{const _0x5d3eb7=_0x55fdd7;_0x1081f0&&_0x29db28[_0x5d3eb7(0x1b1)](0x1f4)['json']({'message':_0x5d3eb7(0x2cc)}),_0x29db28['status'](0xc8)['json']({'message':_0x5d3eb7(0x1d1)});});});!fs[a27_0x5616bb(0x290)](a27_0x5616bb(0x227))&&fs[a27_0x5616bb(0x162)]('./tmp');const storage=multer[a27_0x5616bb(0x284)]({'destination':(_0x30df7d,_0x23e5cd,_0x5d66e4)=>{const _0x1beec5=a27_0x5616bb;_0x5d66e4(null,_0x1beec5(0x21c));},'filename':(_0x23f907,_0x1b92c0,_0x384c6b)=>{const _0x238e2a=a27_0x5616bb;_0x384c6b(null,Date[_0x238e2a(0x265)]()+path[_0x238e2a(0x220)](_0x1b92c0['originalname']));}}),upload=multer({'storage':storage,'limits':{'fileSize':getHotConfig()[a27_0x5616bb(0x273)]?getHotConfig()[a27_0x5616bb(0x273)]*0x400*0x400:0x32*0x400*0x400}});router[a27_0x5616bb(0x2f5)](a27_0x5616bb(0x1b4),upload[a27_0x5616bb(0x19f)](a27_0x5616bb(0x15e)),async(_0x2c1a72,_0x364927)=>{const _0x38e5c6=a27_0x5616bb,_0x266151=_0x2c1a72['body'];if(!_0x2c1a72['files']||_0x2c1a72[_0x38e5c6(0x15e)][_0x38e5c6(0x26d)]===0x0)return _0x364927[_0x38e5c6(0x1b1)](0x190)[_0x38e5c6(0x1a7)]({'message':_0x38e5c6(0x18e)});const _0x572db1=getHotConfig()['folderLocation'],_0x13a202=path[_0x38e5c6(0x1ff)](_0x572db1,_0x266151['path']);if(!fs['existsSync'](_0x13a202))return _0x364927[_0x38e5c6(0x1b1)](0x194)['json']({'message':_0x38e5c6(0x2c6)});const _0x34691d=_0x2c1a72['files'][_0x38e5c6(0x252)](_0x4fd70d=>({'originalname':_0x4fd70d[_0x38e5c6(0x19d)],'filename':_0x4fd70d[_0x38e5c6(0x169)],'mimetype':_0x4fd70d['mimetype'],'size':_0x4fd70d[_0x38e5c6(0x18c)]}));_0x34691d[_0x38e5c6(0x154)](_0x14d43c=>{const _0x15219d=_0x38e5c6;fs[_0x15219d(0x2aa)](path[_0x15219d(0x1ff)](_0x15219d(0x21c),_0x14d43c[_0x15219d(0x169)]),path['join'](_0x13a202,_0x14d43c[_0x15219d(0x19d)])),fs[_0x15219d(0x1c7)](path[_0x15219d(0x1ff)]('tmp',_0x14d43c[_0x15219d(0x169)]));}),_0x364927[_0x38e5c6(0x1b1)](0xc8)[_0x38e5c6(0x1a7)]({'message':_0x38e5c6(0x267),'files':_0x34691d});}),router[a27_0x5616bb(0x178)](a27_0x5616bb(0x297),async(_0x53fb2b,_0x50669d)=>{const _0x46a5be=a27_0x5616bb,_0x285701=path['join'](path['dirname'](require['main']['filename']),_0x46a5be(0x23d)),{config:_0x4b2804}=_0x53fb2b[_0x46a5be(0x2a9)];if(!_0x4b2804)return _0x50669d[_0x46a5be(0x1b1)](0x190)['json']({'message':_0x46a5be(0x2d6)});try{fs[_0x46a5be(0x16c)](_0x285701,JSON[_0x46a5be(0x170)](_0x4b2804,null,0x4)),_0x50669d[_0x46a5be(0x1b1)](0xc8)[_0x46a5be(0x1a7)]({'message':_0x46a5be(0x1d7)});}catch(_0x1d4886){_0x50669d[_0x46a5be(0x1b1)](0x1f4)[_0x46a5be(0x1a7)]({'message':'Error\x20updating\x20config'});}}),router[a27_0x5616bb(0x178)](a27_0x5616bb(0x1c4),async(_0x44392e,_0x245681)=>{const _0x1960f9=a27_0x5616bb,{key:_0x338759,value:_0x4083c4}=_0x44392e['body'],_0x3f34db=path[_0x1960f9(0x1ff)](path[_0x1960f9(0x1b5)](require[_0x1960f9(0x2ac)][_0x1960f9(0x169)]),_0x1960f9(0x23d));fs[_0x1960f9(0x2fb)](_0x3f34db,'utf8',function(_0x58aa65,_0x4f5359){const _0x55d778=_0x1960f9;_0x58aa65&&_0x245681['status'](0x1f4)[_0x55d778(0x1a5)](_0x58aa65);const _0x4ae56e=JSON['parse'](_0x4f5359);_0x4ae56e[_0x338759]=_0x4083c4;if(_0x338759==='autodetect_location'){let _0x49fb7d='';if(_0x4ae56e[_0x55d778(0x2b4)]){_0x49fb7d=os['platform']();if(_0x49fb7d==='win32')_0x49fb7d=_0x55d778(0x1b3);else{if(_0x49fb7d===_0x55d778(0x1ae))_0x49fb7d=_0x55d778(0x1fb);}}else _0x49fb7d=_0x4ae56e[_0x55d778(0x1e6)];if(_0x49fb7d===_0x55d778(0x1b3)){_0x4ae56e[_0x55d778(0x1c3)]=path[_0x55d778(0x26b)](__dirname,'..')+'/';const _0x3ae2e8=/\\/g;_0x4ae56e[_0x55d778(0x1c3)]=_0x4ae56e[_0x55d778(0x1c3)]['replace'](_0x3ae2e8,'/');}else _0x4ae56e[_0x55d778(0x1c3)]=path[_0x55d778(0x26b)](__dirname,'..')+'/';}if(_0x338759===_0x55d778(0x2b4)){let _0x39661b=os[_0x55d778(0x1e6)]();if(_0x39661b==='win32')_0x39661b=_0x55d778(0x1b3);else _0x39661b=_0x55d778(0x1fb);_0x39661b==='windows'?_0x4083c4===!![]&&(_0x4ae56e['autoxchange_executable']=_0x4ae56e[_0x55d778(0x2a1)],_0x4ae56e[_0x55d778(0x199)]=_0x4ae56e[_0x55d778(0x25f)],_0x4ae56e['linklist_executable']=_0x4ae56e[_0x55d778(0x212)]):_0x4083c4===!![]&&(_0x4ae56e['autoxchange_executable']=_0x4ae56e[_0x55d778(0x301)],_0x4ae56e[_0x55d778(0x199)]=_0x4ae56e[_0x55d778(0x17d)],_0x4ae56e[_0x55d778(0x1ea)]=_0x4ae56e[_0x55d778(0x296)]),_0x4ae56e[_0x55d778(0x1e6)]=_0x39661b;}if(_0x4ae56e[_0x55d778(0x2b4)]){let _0x3ea94b=os[_0x55d778(0x1e6)]();if(_0x3ea94b===_0x55d778(0x216))_0x3ea94b='windows';else _0x3ea94b=_0x55d778(0x1fb);if(_0x3ea94b===_0x55d778(0x1b3)){if(_0x338759===_0x55d778(0x2a1))_0x4ae56e[_0x55d778(0x2f6)]=_0x4083c4;else{if(_0x338759==='dwgmerge_executable_windows')_0x4ae56e['dwgmerge_executable']=_0x4083c4;else _0x338759==='linklist_executable_windows'&&(_0x4ae56e['linklist_executable']=_0x4083c4);}}else{if(_0x338759===_0x55d778(0x301))_0x4ae56e[_0x55d778(0x2f6)]=_0x4083c4;else{if(_0x338759===_0x55d778(0x17d))_0x4ae56e[_0x55d778(0x199)]=_0x4083c4;else _0x338759===_0x55d778(0x296)&&(_0x4ae56e['linklist_executable']=_0x4083c4);}}}fs['writeFile'](_0x3f34db,JSON[_0x55d778(0x170)](_0x4ae56e,null,0x4),function(_0x5d7ccc){const _0x2ea484=_0x55d778;_0x5d7ccc&&_0x245681[_0x2ea484(0x1b1)](0x1f4)[_0x2ea484(0x1a5)](_0x5d7ccc),_0x245681['status'](0xc8)[_0x2ea484(0x1a7)]({'message':_0x2ea484(0x2be)});});});}),router['post']('/config/content',async(_0x1cf2de,_0x397b89)=>{const _0x200c36=a27_0x5616bb,_0x154b22=getHotConfig(),_0x1a786a=(_0x154b22[_0x200c36(0x2d7)][_0x200c36(0x295)](_0x154b22['ServerLocation'])?'':_0x154b22[_0x200c36(0x1c3)])+_0x154b22[_0x200c36(0x2d7)],_0x3de0d6=(_0x154b22[_0x200c36(0x2d7)]['includes'](_0x154b22[_0x200c36(0x1c3)])?'':_0x154b22[_0x200c36(0x1c3)])+_0x154b22[_0x200c36(0x1a8)],_0x320475=(_0x154b22[_0x200c36(0x263)]['includes'](_0x154b22[_0x200c36(0x1c3)])?'':_0x154b22['ServerLocation'])+_0x154b22[_0x200c36(0x263)],_0x87efd6=/ax202.*\.exe/,_0x59aa55=/ax202.*/,_0x432547=/dwgmerge202.*\.exe/,_0x47b445=/dwgmerge_202.*/,_0x132f67=/linklist_202.*\.exe/,_0x52898e=/linklist_202.*/,_0x2dbe5a=[],_0x284f4c=[],_0x1a3f24=[],_0x3994a5=[],_0x555c90=[],_0x2c557a=[];let _0x144c14='';if(_0x154b22['autodetect_platform']){_0x144c14=os['platform']();if(_0x144c14===_0x200c36(0x216))_0x144c14='windows';else{if(_0x144c14===_0x200c36(0x1ae))_0x144c14='linux';}}else _0x144c14=_0x154b22[_0x200c36(0x1e6)];fs[_0x200c36(0x195)](_0x320475[_0x200c36(0x237)](_0x200c36(0x1fb),_0x200c36(0x1b3)))[_0x200c36(0x154)](_0x3b4e05=>{const _0x50c153=_0x200c36;if(_0x87efd6['test'](_0x3b4e05[_0x50c153(0x1ab)]()))_0x2dbe5a[_0x50c153(0x27a)](_0x3b4e05);}),fs[_0x200c36(0x195)](_0x1a786a['replaceAll'](_0x200c36(0x1fb),_0x200c36(0x1b3)))[_0x200c36(0x154)](_0x1f5a0b=>{const _0xa79b03=_0x200c36;if(_0x432547[_0xa79b03(0x2db)](_0x1f5a0b[_0xa79b03(0x1ab)]()))_0x284f4c[_0xa79b03(0x27a)](_0x1f5a0b);}),fs[_0x200c36(0x195)](_0x3de0d6[_0x200c36(0x237)](_0x200c36(0x1fb),_0x200c36(0x1b3)))[_0x200c36(0x154)](_0x29463e=>{const _0x31f2dc=_0x200c36;if(_0x132f67['test'](_0x29463e[_0x31f2dc(0x1ab)]()))_0x1a3f24[_0x31f2dc(0x27a)](_0x29463e);}),fs[_0x200c36(0x195)](_0x320475[_0x200c36(0x237)](_0x200c36(0x1b3),_0x200c36(0x1fb)))[_0x200c36(0x154)](_0x518ddf=>{const _0x27aa4b=_0x200c36;if(_0x59aa55[_0x27aa4b(0x2db)](_0x518ddf['toLocaleLowerCase']()))_0x3994a5[_0x27aa4b(0x27a)](_0x518ddf);}),fs['readdirSync'](_0x1a786a[_0x200c36(0x237)](_0x200c36(0x1b3),_0x200c36(0x1fb)))[_0x200c36(0x154)](_0x2f2db4=>{const _0x4f83d4=_0x200c36;if(_0x47b445[_0x4f83d4(0x2db)](_0x2f2db4['toLocaleLowerCase']()))_0x555c90['push'](_0x2f2db4);}),fs['readdirSync'](_0x3de0d6[_0x200c36(0x237)](_0x200c36(0x1b3),'linux'))['forEach'](_0x719258=>{const _0x367ad1=_0x200c36;if(_0x52898e['test'](_0x719258['toLocaleLowerCase']()))_0x2c557a[_0x367ad1(0x27a)](_0x719258);});const _0x3a78e1=[_0x200c36(0x1da),'https',_0x200c36(0x272),_0x200c36(0x286),_0x200c36(0x239)],_0x38c008=[_0x200c36(0x1d3),'fileLocationUrl','converterLocation','licenseLocation',_0x200c36(0x2df),_0x200c36(0x174),'callbackMethod',_0x200c36(0x2d7),_0x200c36(0x1a8),_0x200c36(0x293)],_0x20f61d=[_0x200c36(0x2ba),_0x200c36(0x1eb),'mysqlUsername','mysqlPassword',_0x200c36(0x1c5),'cached_conversion','cvjs_svgz_compress'],_0x5f4a64={'ServerUrl':_0x200c36(0x160),'autoxchange_executable':_0x200c36(0x257),'linklist_executable':_0x200c36(0x2b7),'dwgmerge_executable':'DwgMerge\x20Settings','setup_mysqlHost':_0x200c36(0x2b9),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':'Demo\x20and\x20Base\x20User\x20Settings','smtpHost':'Mail\x20Server\x20Settings'},_0x1ffcf0={'https':_0x200c36(0x217),'ServerFrontEndUrlAsAllowedOriginOnly':_0x200c36(0x217),'autodetect_platform':_0x200c36(0x217),'cvjs_svgz_compress':_0x200c36(0x217),'cached_conversion':_0x200c36(0x217),'remainOnServer':'boolean','cvjs_debug':_0x200c36(0x217),'autodetect_location':'boolean','platform':_0x200c36(0x289),'autoxchange_executable':_0x200c36(0x2c5)+(_0x144c14===_0x200c36(0x1b3)?_0x2dbe5a[_0x200c36(0x1ff)](','):_0x3994a5[_0x200c36(0x1ff)](',')),'autoxchange_executable_windows':_0x200c36(0x2c5)+_0x2dbe5a['join'](','),'autoxchange_executable_linux':_0x200c36(0x2c5)+_0x3994a5[_0x200c36(0x1ff)](','),'dwgmerge_executable':_0x200c36(0x2c5)+(_0x144c14===_0x200c36(0x1b3)?_0x284f4c[_0x200c36(0x1ff)](','):_0x555c90[_0x200c36(0x1ff)](',')),'dwgmerge_executable_windows':_0x200c36(0x2c5)+_0x284f4c[_0x200c36(0x1ff)](','),'dwgmerge_executable_linux':_0x200c36(0x2c5)+_0x555c90[_0x200c36(0x1ff)](','),'linklist_executable':'radio|'+(_0x144c14===_0x200c36(0x1b3)?_0x1a3f24['join'](','):_0x2c557a[_0x200c36(0x1ff)](',')),'linklist_executable_windows':'radio|'+_0x1a3f24[_0x200c36(0x1ff)](','),'linklist_executable_linux':_0x200c36(0x2c5)+_0x2c557a[_0x200c36(0x1ff)](','),'callbackMethod_gatewayUrl_flag':_0x200c36(0x217),'setup_mysqlHost':'boolean','ContentSecurityPolicyReportOnly':_0x200c36(0x217),'fileLoad_PasswordAuthentication':'boolean','contentLocationCheck':_0x200c36(0x217),'globalBearerAutentication':_0x200c36(0x217),'bcryptSaltRounds':_0x200c36(0x280),'userFolderMaximumFiles':'number','userFolderMaximumSizeInMB':'number','recaptchaEnabled':_0x200c36(0x217),'usersExportFrequency':_0x200c36(0x17a),'enableEmailVerification':_0x200c36(0x217),'demoUserRetentionDaysAlertBeforeDeletion':_0x200c36(0x280),'demoUserRetentionDays':_0x200c36(0x280)},_0x3a7f1d={},_0x54a548=Object[_0x200c36(0x1a6)](_0x154b22);_0x154b22[_0x200c36(0x2b4)]&&_0x3a78e1[_0x200c36(0x27a)](_0x200c36(0x1e6)),_0x154b22[_0x200c36(0x275)]&&(_0x38c008[_0x200c36(0x27a)]('ServerLocation'),_0x38c008[_0x200c36(0x27a)](_0x200c36(0x2f6)),_0x38c008[_0x200c36(0x27a)](_0x200c36(0x199)),_0x38c008[_0x200c36(0x27a)](_0x200c36(0x1ea))),!_0x154b22[_0x200c36(0x25b)]&&_0x38c008[_0x200c36(0x27a)]('callbackMethod_gatewayUrl'),!_0x154b22[_0x200c36(0x176)]&&(_0x38c008[_0x200c36(0x27a)](_0x200c36(0x1eb)),_0x38c008[_0x200c36(0x27a)](_0x200c36(0x224)),_0x38c008[_0x200c36(0x27a)]('mysqlPassword'),_0x38c008[_0x200c36(0x27a)]('mysqlDatabase')),!_0x154b22['ContentSecurityPolicyReportOnly']&&_0x38c008[_0x200c36(0x27a)]('ContentSecurityPolicy'),!_0x154b22['fileLoad_PasswordAuthentication']&&(_0x38c008[_0x200c36(0x27a)](_0x200c36(0x1f3)),_0x38c008[_0x200c36(0x27a)](_0x200c36(0x300))),!_0x154b22['globalBearerAutentication']&&_0x38c008[_0x200c36(0x27a)]('globalBearerAutenticationToken'),_0x54a548[_0x200c36(0x154)](_0x583602=>{const _0x3a868c=_0x200c36;!_0x3a78e1[_0x3a868c(0x295)](_0x583602)&&(_0x3a7f1d[_0x583602]=_0x154b22[_0x583602]);}),_0x3a7f1d[_0x200c36(0x2dc)]=''+_0x154b22[_0x200c36(0x2ba)]+_0x154b22[_0x200c36(0x1d3)],_0x397b89[_0x200c36(0x1b1)](0xc8)[_0x200c36(0x1a7)]({'notEditableFields':_0x38c008,'customFieldTypes':_0x1ffcf0,'notHotEditableFields':_0x20f61d,'config':_0x3a7f1d,'fieldsTitle':_0x5f4a64,'configData':_0x154b22});}),router['get']('/logs',protectedRoute,async(_0x21a4b0,_0x17e904)=>{const _0x227408=a27_0x5616bb,_0x4ca58a=fs[_0x227408(0x1b8)](path['join'](path['dirname'](require[_0x227408(0x2ac)][_0x227408(0x169)]),'cadviewer/settings/logs.html'),_0x227408(0x187)),_0x2a6fe8=_0x4ca58a[_0x227408(0x237)](_0x227408(0x18f),_0x21a4b0['version']);_0x17e904[_0x227408(0x1a5)](_0x2a6fe8);});function a27_0x3fff(_0x47a722,_0x16e57f){const _0x58f527=a27_0x58f5();return a27_0x3fff=function(_0x3fffcc,_0x4164f5){_0x3fffcc=_0x3fffcc-0x153;let _0x1116a9=_0x58f527[_0x3fffcc];return _0x1116a9;},a27_0x3fff(_0x47a722,_0x16e57f);}function findMatchingLogFiles(_0x5b62ec,_0xa77989=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x3ceb1f=a27_0x5616bb;try{const _0x3b3620=fs[_0x3ceb1f(0x195)](_0x5b62ec);return _0x3b3620[_0x3ceb1f(0x168)](_0x466dda=>_0xa77989[_0x3ceb1f(0x2db)](_0x466dda))[_0x3ceb1f(0x252)](_0x7aecc4=>_0x7aecc4[_0x3ceb1f(0x237)](_0x3ceb1f(0x1f7),'')['replaceAll'](_0x3ceb1f(0x153),''));}catch(_0x53c33d){return console[_0x3ceb1f(0x2d9)](_0x3ceb1f(0x1be),_0x53c33d),[];}}router[a27_0x5616bb(0x2f5)]('/logs/content',async(_0x26fdbe,_0x33d120)=>{const _0x54d24d=a27_0x5616bb,_0x5af835=new Date(),_0x327346=_0x5af835[_0x54d24d(0x2ef)]()[_0x54d24d(0x288)]()['padStart'](0x2,'0')+'_'+(_0x5af835[_0x54d24d(0x21f)]()+0x1)[_0x54d24d(0x288)]()['padStart'](0x2,'0')+'_'+_0x5af835[_0x54d24d(0x15a)](),{displayDay:_0x5008ba}=_0x26fdbe['body'],_0x5b19ed=path['join'](path['dirname'](require[_0x54d24d(0x2ac)][_0x54d24d(0x169)]),_0x54d24d(0x1f5),_0x54d24d(0x1f7)+(_0x5008ba??_0x327346)+_0x54d24d(0x153));fs[_0x54d24d(0x290)](_0x5b19ed)?fs[_0x54d24d(0x2fb)](_0x5b19ed,'utf8',function(_0x411cfb,_0x334c90){const _0x5afcd8=_0x54d24d;_0x411cfb&&_0x33d120[_0x5afcd8(0x1b1)](0x1f4)[_0x5afcd8(0x1a5)](_0x411cfb),_0x33d120['status'](0xc8)[_0x5afcd8(0x1a7)]({'content':_0x334c90,'days':findMatchingLogFiles(path[_0x5afcd8(0x1ff)](path['dirname'](require[_0x5afcd8(0x2ac)][_0x5afcd8(0x169)]),_0x5afcd8(0x1f5)))});}):_0x33d120[_0x54d24d(0x1b1)](0xc8)[_0x54d24d(0x1a7)]({'content':'','days':findMatchingLogFiles(path['join'](path[_0x54d24d(0x1b5)](require[_0x54d24d(0x2ac)][_0x54d24d(0x169)]),_0x54d24d(0x1f5)))});}),router[a27_0x5616bb(0x183)](a27_0x5616bb(0x245),async(_0x5b5166,_0x13f619)=>{const _0x56aba7=a27_0x5616bb,_0x79550a=new Date(),_0x4e3e8f=_0x79550a['getDate']()[_0x56aba7(0x288)]()[_0x56aba7(0x234)](0x2,'0')+'_'+(_0x79550a[_0x56aba7(0x21f)]()+0x1)['toString']()[_0x56aba7(0x234)](0x2,'0')+'_'+_0x79550a[_0x56aba7(0x15a)](),_0x4d41e6=findMatchingLogFiles(path[_0x56aba7(0x1ff)](path[_0x56aba7(0x1b5)](require['main'][_0x56aba7(0x169)]),_0x56aba7(0x1f5)));_0x4d41e6[_0x56aba7(0x154)](_0x365c16=>{const _0x4aa2a3=_0x56aba7;if(_0x365c16!==_0x4e3e8f)fs['unlinkSync'](path[_0x4aa2a3(0x1ff)](path[_0x4aa2a3(0x1b5)](require[_0x4aa2a3(0x2ac)][_0x4aa2a3(0x169)]),'logs','call-Api_Conversion_'+_0x365c16+_0x4aa2a3(0x153)));}),logStream[_0x56aba7(0x2b8)](),_0x13f619[_0x56aba7(0x1b1)](0xc8)[_0x56aba7(0x1a7)]({'message':_0x56aba7(0x1e7)});}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x1f1),protectedRoute,async(_0x10020f,_0x3bedc6)=>{const _0x45ff39=a27_0x5616bb,_0x2320fe=path[_0x45ff39(0x1ff)](path[_0x45ff39(0x1b5)](require[_0x45ff39(0x2ac)][_0x45ff39(0x169)]),_0x45ff39(0x2e6));if(!fs[_0x45ff39(0x290)](_0x2320fe)){const _0x31aa23={'jsonDataExtraction':{'standard':[{'paramName':_0x45ff39(0x1a7),'paramValue':''},{'paramName':'blocks','paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x45ff39(0x1f4)},{'paramName':_0x45ff39(0x271),'paramValue':''},{'paramName':_0x45ff39(0x291),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':'pdf'},{'paramName':'model','paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x45ff39(0x1f4)},{'paramName':_0x45ff39(0x271),'paramValue':''},{'paramName':_0x45ff39(0x291),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x45ff39(0x27f),'paramValue':''}]}};fs[_0x45ff39(0x16c)](_0x2320fe,JSON[_0x45ff39(0x170)](_0x31aa23,null,0x4));}const _0x13e974=fs[_0x45ff39(0x1b8)](path[_0x45ff39(0x1ff)](path['dirname'](require[_0x45ff39(0x2ac)]['filename']),_0x45ff39(0x17f)),'utf8'),_0x1adb6c=_0x13e974[_0x45ff39(0x237)](_0x45ff39(0x18f),_0x10020f[_0x45ff39(0x293)]);_0x3bedc6[_0x45ff39(0x1a5)](_0x1adb6c);}),router[a27_0x5616bb(0x2f5)](a27_0x5616bb(0x276),async(_0x54f8a8,_0x488fa4)=>{const _0x4ea58a=a27_0x5616bb,{actionName:_0x156aac,contentLocation:_0x3b67e7}=_0x54f8a8[_0x4ea58a(0x2a9)],_0x6b9104=path[_0x4ea58a(0x1ff)](path[_0x4ea58a(0x1b5)](require[_0x4ea58a(0x2ac)]['filename']),_0x4ea58a(0x2e6));fs[_0x4ea58a(0x2fb)](_0x6b9104,_0x4ea58a(0x187),function(_0x4de3fc,_0x4bee9a){const _0x391d48=_0x4ea58a;if(_0x4de3fc)_0x488fa4[_0x391d48(0x1b1)](0xc8)[_0x391d48(0x1a7)]({'parameters':[]});else{const _0x334fe5=JSON[_0x391d48(0x223)](_0x4bee9a);if(_0x334fe5[_0x156aac]&&_0x334fe5[_0x156aac][_0x3b67e7])_0x488fa4[_0x391d48(0x1b1)](0xc8)[_0x391d48(0x1a7)]({'parameters':_0x334fe5[_0x156aac][_0x3b67e7]});else _0x334fe5[_0x156aac]&&_0x334fe5[_0x156aac][_0x391d48(0x1dd)]?_0x488fa4[_0x391d48(0x1b1)](0xc8)['json']({'parameters':_0x334fe5[_0x156aac]['standard']}):_0x488fa4[_0x391d48(0x1b1)](0xc8)[_0x391d48(0x1a7)]({'parameters':[]});}});}),router[a27_0x5616bb(0x2f5)](a27_0x5616bb(0x2fd),async(_0x49ed92,_0x477086)=>{const _0x4247b9=a27_0x5616bb,{actionName:_0x9c6aec,contentLocation:_0x4648fe,parameters:_0x180d7f}=_0x49ed92[_0x4247b9(0x2a9)],_0x5ce003=path['join'](path[_0x4247b9(0x1b5)](require['main'][_0x4247b9(0x169)]),_0x4247b9(0x2e6));fs[_0x4247b9(0x2fb)](_0x5ce003,_0x4247b9(0x187),function(_0xb9d23f,_0x59ff22){const _0xdebd4a=_0x4247b9;if(_0xb9d23f)_0x477086[_0xdebd4a(0x1b1)](0x199)[_0xdebd4a(0x1a7)]({'message':_0xdebd4a(0x221)});else{const _0x331ad8=JSON[_0xdebd4a(0x223)](_0x59ff22);!_0x331ad8[_0x9c6aec]&&(_0x331ad8[_0x9c6aec]={}),_0x331ad8[_0x9c6aec][_0x4648fe]=_0x180d7f,fs['writeFile'](_0x5ce003,JSON[_0xdebd4a(0x170)](_0x331ad8,null,0x4),function(_0x11cefd){const _0x3880d2=_0xdebd4a;_0x11cefd&&_0x477086[_0x3880d2(0x1b1)](0x199)[_0x3880d2(0x1a7)]({'message':_0x3880d2(0x221)}),_0x477086[_0x3880d2(0x1b1)](0xc8)['json']({'message':_0x3880d2(0x18a)});});}});}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x1c8),protectedRoute,async(_0x5bf8fd,_0x4cc1c2)=>{const _0xf77ad3=a27_0x5616bb,_0x10ba8d=fs[_0xf77ad3(0x1b8)](path['join'](path['dirname'](require[_0xf77ad3(0x2ac)]['filename']),'cadviewer/settings/doctor.html'),_0xf77ad3(0x187)),_0x213013=_0x10ba8d[_0xf77ad3(0x237)](_0xf77ad3(0x18f),_0x5bf8fd[_0xf77ad3(0x293)]);_0x4cc1c2[_0xf77ad3(0x1a5)](_0x213013);}),router['post'](a27_0x5616bb(0x208),async(_0xb6e4ac,_0xcd6247)=>{const _0x315d0f=a27_0x5616bb,_0x1dba22=getHotConfig(),_0x3bcbee=_0x1dba22[_0x315d0f(0x263)][_0x315d0f(0x237)]('//','/'),_0x33745e=_0x1dba22['dwgmergeLocation'][_0x315d0f(0x237)]('//','/'),_0x4406ba=_0x1dba22[_0x315d0f(0x1a8)][_0x315d0f(0x237)]('//','/'),_0x4d341f=''+_0x3bcbee+_0x1dba22[_0x315d0f(0x2f6)],_0x177bc4=''+_0x33745e+_0x1dba22[_0x315d0f(0x199)],_0x126b8b=''+_0x4406ba+_0x1dba22[_0x315d0f(0x1ea)],_0x104bce=[],_0x35b45d=new Promise(_0x5685a8=>{const _0x31e79d=_0x315d0f;exec(os[_0x31e79d(0x1e6)]()===_0x31e79d(0x216)?_0x31e79d(0x2d4):'ls',_0x361c51=>{const _0x3447fd=_0x31e79d;_0x361c51?_0x104bce[_0x3447fd(0x27a)]({'title':_0x3447fd(0x1fa),'status':![],'priority':0x1}):_0x104bce[_0x3447fd(0x27a)]({'title':_0x3447fd(0x1fa),'status':!![],'priority':0x1}),_0x5685a8();});}),_0x1fc37a=new Promise(_0x2cba6e=>{const _0x289ad2=_0x315d0f;fs[_0x289ad2(0x207)](_0x4d341f,fs[_0x289ad2(0x189)][_0x289ad2(0x2ff)],_0x3816aa=>{const _0x249657=_0x289ad2;_0x3816aa?_0x104bce[_0x249657(0x27a)]({'title':_0x249657(0x23f)+_0x1dba22[_0x249657(0x2f6)]+_0x249657(0x281),'status':![],'priority':0x2}):_0x104bce[_0x249657(0x27a)]({'title':_0x249657(0x23f)+_0x1dba22[_0x249657(0x2f6)]+_0x249657(0x281),'status':!![],'priority':0x2}),_0x2cba6e();});}),_0x2bcf45=new Promise(_0x4ea863=>{const _0x1d353d=_0x315d0f;fs['access'](_0x177bc4,fs[_0x1d353d(0x189)][_0x1d353d(0x2ff)],_0x4f2bd2=>{const _0x3fe83c=_0x1d353d;_0x4f2bd2?_0x104bce[_0x3fe83c(0x27a)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x1dba22[_0x3fe83c(0x199)]+'\x22\x20executable','status':![],'priority':0x3}):_0x104bce[_0x3fe83c(0x27a)]({'title':_0x3fe83c(0x23f)+_0x1dba22[_0x3fe83c(0x199)]+'\x22\x20executable','status':!![],'priority':0x3}),_0x4ea863();});}),_0x3cacf2=new Promise(_0x57dcdd=>{const _0x1783f3=_0x315d0f;fs[_0x1783f3(0x207)](_0x126b8b,fs[_0x1783f3(0x189)][_0x1783f3(0x2ff)],_0x2f6de1=>{const _0x534ab5=_0x1783f3;_0x2f6de1?_0x104bce[_0x534ab5(0x27a)]({'title':_0x534ab5(0x23f)+_0x1dba22[_0x534ab5(0x1ea)]+_0x534ab5(0x281),'status':![],'priority':0x4}):_0x104bce['push']({'title':_0x534ab5(0x23f)+_0x1dba22[_0x534ab5(0x1ea)]+_0x534ab5(0x281),'status':!![],'priority':0x4}),_0x57dcdd();});}),_0x19a7a0=new Promise(_0x598e73=>{const _0x36d586=_0x315d0f,_0x3e5fe5=new Date(),_0x52b7c2=_0x3e5fe5[_0x36d586(0x2ef)]()[_0x36d586(0x288)]()[_0x36d586(0x234)](0x2,'0')+'_'+(_0x3e5fe5[_0x36d586(0x21f)]()+0x1)['toString']()['padStart'](0x2,'0')+'_'+_0x3e5fe5[_0x36d586(0x15a)](),{displayDay:_0x4970d1}=_0xb6e4ac[_0x36d586(0x2a9)];fs[_0x36d586(0x207)](path['join'](path['dirname'](require[_0x36d586(0x2ac)][_0x36d586(0x169)]),_0x36d586(0x1f5),_0x36d586(0x1f7)+(_0x4970d1??_0x52b7c2)+_0x36d586(0x153)),fs['constants'][_0x36d586(0x197)],_0x305e63=>{const _0x9301bf=_0x36d586;_0x305e63?_0x104bce[_0x9301bf(0x27a)]({'title':_0x9301bf(0x2a5)+(_0x4970d1??_0x52b7c2)+_0x9301bf(0x1d4),'status':![],'priority':0x5}):_0x104bce['push']({'title':_0x9301bf(0x2a5)+(_0x4970d1??_0x52b7c2)+_0x9301bf(0x1d4),'status':!![],'priority':0x5}),_0x598e73();});}),_0x1e592d=(_0x515afe,_0x94b5f4)=>{const _0xe69cc0=_0x315d0f,_0xa4ddc2=path[_0xe69cc0(0x1ff)](path[_0xe69cc0(0x1b5)](require[_0xe69cc0(0x2ac)][_0xe69cc0(0x169)]),_0x515afe);return new Promise(_0x5716aa=>{const _0x3dc61d=_0xe69cc0;fs[_0x3dc61d(0x207)](path[_0x3dc61d(0x1ff)](path['dirname'](_0xa4ddc2)),fs[_0x3dc61d(0x189)][_0x3dc61d(0x259)]|fs['constants'][_0x3dc61d(0x197)],_0x38e889=>{const _0x5a6ff3=_0x3dc61d;_0x38e889?_0x104bce[_0x5a6ff3(0x27a)]({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0x515afe,'status':![],'priority':_0x94b5f4+0x6}):_0x104bce[_0x5a6ff3(0x27a)]({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0x515afe,'status':!![],'priority':_0x94b5f4+0x6}),_0x5716aa();});});},_0x238855=[_0x315d0f(0x2a7),_0x315d0f(0x26f),_0x315d0f(0x209),_0x315d0f(0x1d0),_0x315d0f(0x1e8),_0x315d0f(0x21d),_0x315d0f(0x2ea)],_0x3ae6a8=_0x238855[_0x315d0f(0x252)](_0x1e592d);Promise[_0x315d0f(0x2e3)]([_0x35b45d,_0x1fc37a,_0x2bcf45,_0x3cacf2,_0x19a7a0,..._0x3ae6a8])[_0x315d0f(0x15d)](()=>{const _0x2ce7d9=_0x315d0f;_0xcd6247['status'](0xc8)[_0x2ce7d9(0x1a7)]({'checking_list':_0x104bce});})[_0x315d0f(0x27c)](()=>{const _0x54b690=_0x315d0f;_0xcd6247[_0x54b690(0x1b1)](0x1f4)[_0x54b690(0x1a7)]({'error':_0x54b690(0x20b)});});}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x28d),protectedRoute,async(_0x522c2c,_0xdf70ae)=>{const _0x5b635a=a27_0x5616bb,_0x565bcb=fs[_0x5b635a(0x1b8)](path['join'](path[_0x5b635a(0x1b5)](require[_0x5b635a(0x2ac)][_0x5b635a(0x169)]),_0x5b635a(0x2e8)),_0x5b635a(0x187)),_0x40228c=_0x565bcb[_0x5b635a(0x237)](_0x5b635a(0x18f),_0x522c2c[_0x5b635a(0x293)]);_0xdf70ae[_0x5b635a(0x1a5)](_0x40228c);}),router['post'](a27_0x5616bb(0x17c),async(_0x4c8ff7,_0x30e3f6)=>{const _0x47c0d2=a27_0x5616bb;let _0x2a8335;try{const [_0x42a067]=await conn['promise']()[_0x47c0d2(0x283)](_0x47c0d2(0x2cb),[]);_0x2a8335=_0x42a067;}catch(_0x37bcb2){console[_0x47c0d2(0x1f0)](_0x37bcb2),_0x30e3f6['status'](0x1f4)[_0x47c0d2(0x1a7)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x30e3f6['status'](0xc8)[_0x47c0d2(0x1a7)]({'success':!![],'data':_0x2a8335});}),router[a27_0x5616bb(0x2f5)](a27_0x5616bb(0x28d),upload[a27_0x5616bb(0x27e)](a27_0x5616bb(0x2b6)),async(_0x3a166d,_0x3d6c34)=>{const _0x4c2dbc=a27_0x5616bb,{id:_0x4b6a3e,first_name:_0x388dc2,last_name:_0xd2e0cf,username:_0x551943,email:_0x516210,password:_0x1b0baf,is_enabled:_0x14f069}=_0x3a166d[_0x4c2dbc(0x2a9)],_0x129136=_0x3a166d['body'][_0x4c2dbc(0x23a)]==='admin'?_0x4c2dbc(0x204):_0x3a166d[_0x4c2dbc(0x2a9)][_0x4c2dbc(0x23a)]===_0x4c2dbc(0x2c7)?_0x4c2dbc(0x2c7):_0x4c2dbc(0x164);let _0x51ba48;console[_0x4c2dbc(0x1f0)](_0x4c2dbc(0x2ad));_0x1b0baf&&(_0x51ba48=await bcrypt[_0x4c2dbc(0x2e7)](_0x1b0baf,0xa));let _0x5ced63=null;if(_0x3a166d['file']){const _0x2572aa='avatars/'+randomUUID()+'.png';fs[_0x4c2dbc(0x2aa)](_0x3a166d['file'][_0x4c2dbc(0x191)],'./'+_0x2572aa),fs[_0x4c2dbc(0x1c7)](_0x3a166d[_0x4c2dbc(0x192)][_0x4c2dbc(0x191)]),config['callbackMethod_gatewayUrl_flag']?_0x5ced63=config[_0x4c2dbc(0x190)]+'/'+_0x2572aa:_0x5ced63=config[_0x4c2dbc(0x2ba)]+'/'+_0x2572aa;}if(_0x4b6a3e){try{let [_0x3fba3a]=await conn['promise']()['execute'](_0x4c2dbc(0x21e),[_0x516210,_0x551943,_0x4b6a3e]);if(_0x3fba3a[_0x4c2dbc(0x26d)]>0x0)_0x3d6c34[_0x4c2dbc(0x1b1)](0x199)[_0x4c2dbc(0x1a7)]({'error':_0x4c2dbc(0x2b1)});else{!_0x3a166d[_0x4c2dbc(0x192)]&&([_0x3fba3a]=await conn[_0x4c2dbc(0x16f)]()[_0x4c2dbc(0x283)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x4b6a3e]),_0x5ced63=_0x3fba3a[0x0][_0x4c2dbc(0x2ce)]);const _0x3aa858=_0x4c2dbc(0x292)+(_0x1b0baf?_0x4c2dbc(0x167):'')+_0x4c2dbc(0x1a3);await conn[_0x4c2dbc(0x16f)]()['execute'](_0x3aa858,_0x1b0baf?[_0x5ced63,_0x388dc2,_0xd2e0cf,_0x551943,_0x516210,_0x51ba48,_0x14f069,_0x129136,_0x4b6a3e]:[_0x5ced63,_0x388dc2,_0xd2e0cf,_0x551943,_0x516210,_0x14f069,_0x129136,_0x4b6a3e]);}}catch(_0x48bd61){console[_0x4c2dbc(0x1f0)](_0x48bd61),_0x3d6c34[_0x4c2dbc(0x1b1)](0x1f4)[_0x4c2dbc(0x1a7)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x3d6c34[_0x4c2dbc(0x1b1)](0xc8)[_0x4c2dbc(0x1a7)]({'success':!![],'message':'User\x20updated\x20successfully'});}else{try{const [_0x39a6b6]=await conn[_0x4c2dbc(0x16f)]()[_0x4c2dbc(0x283)](_0x4c2dbc(0x2d1),[_0x516210,_0x551943]);if(_0x39a6b6[_0x4c2dbc(0x26d)]>0x0)_0x3d6c34[_0x4c2dbc(0x1b1)](0x199)['json']({'error':_0x4c2dbc(0x2b1)});else{const _0x528f95=randomUUID();await conn['promise']()['execute']('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x5ced63,_0x388dc2,_0xd2e0cf,_0x551943,_0x516210,_0x51ba48,_0x129136,_0x14f069,_0x528f95]);const _0xed4b6a='./uploads/'+_0x528f95;fs[_0x4c2dbc(0x162)](_0xed4b6a);}}catch(_0x131ff0){console[_0x4c2dbc(0x1f0)](_0x131ff0),_0x3d6c34[_0x4c2dbc(0x1b1)](0x1f4)[_0x4c2dbc(0x1a7)]({'error':_0x4c2dbc(0x1b7)});return;}_0x3d6c34['status'](0xc8)[_0x4c2dbc(0x1a7)]({'success':!![],'message':'User\x20created\x20successfully'});}}),router['delete'](a27_0x5616bb(0x202),async(_0x203295,_0x2337a2)=>{const _0x19d18d=a27_0x5616bb,{userId:_0x774a69}=_0x203295[_0x19d18d(0x2a9)];let _0x1c3583;try{const [_0x388262]=await conn[_0x19d18d(0x16f)]()[_0x19d18d(0x283)](_0x19d18d(0x24e),[_0x774a69]);_0x388262['length']>0x0&&(_0x1c3583=_0x388262[0x0]);}catch(_0xb0f1dd){console[_0x19d18d(0x1f0)]({'err':_0xb0f1dd}),_0x2337a2['status'](0x1f4)['json']({'error':_0x19d18d(0x1b7)});return;}if(!_0x1c3583){_0x2337a2[_0x19d18d(0x1b1)](0x191)[_0x19d18d(0x1a7)]({'error':'Invalid\x20user'});return;}let _0x3ebef2=_0x1c3583['folder_name'];if(!_0x3ebef2){_0x3ebef2=randomUUID();try{await conn['promise']()[_0x19d18d(0x283)](_0x19d18d(0x2e4),[_0x3ebef2,_0x774a69]);}catch(_0x89fa1d){console[_0x19d18d(0x1f0)]({'err':_0x89fa1d}),_0x2337a2['status'](0x1f4)['json']({'error':_0x19d18d(0x1b7)});return;}}const _0x22fe54=_0x19d18d(0x1ba)+_0x3ebef2;console[_0x19d18d(0x1f0)](_0x19d18d(0x2f0)),console['log'](_0x22fe54),!fs[_0x19d18d(0x290)](_0x22fe54)&&fs[_0x19d18d(0x162)](_0x22fe54),cleanCacheForUserFiles(_0x22fe54),fs[_0x19d18d(0x1af)](_0x22fe54,{'recursive':!![],'force':!![]}),fs[_0x19d18d(0x162)](_0x22fe54),_0x2337a2['status'](0xc8)[_0x19d18d(0x1a7)]({'success':!![],'message':'User\x20directory\x20flushed\x20successfully'});}),router['delete'](a27_0x5616bb(0x2ed),async(_0x260fef,_0x2a257d)=>{const _0x3feec8=a27_0x5616bb,_0x31f933=_0x260fef[_0x3feec8(0x156)]['userId'];try{let _0x252c99;try{const [_0x45dd69]=await conn[_0x3feec8(0x16f)]()[_0x3feec8(0x283)](_0x3feec8(0x24e),[_0x31f933]);_0x45dd69['length']>0x0&&(_0x252c99=_0x45dd69[0x0]);}catch(_0x439b3a){console[_0x3feec8(0x1f0)]({'err':_0x439b3a}),_0x2a257d[_0x3feec8(0x1b1)](0x1f4)['json']({'error':_0x3feec8(0x1b7)});return;}if(!_0x252c99){_0x2a257d[_0x3feec8(0x1b1)](0x191)[_0x3feec8(0x1a7)]({'error':'Invalid\x20user'});return;}let _0x122d43=_0x252c99[_0x3feec8(0x198)];if(_0x122d43){const _0x32f55e='./uploads/'+_0x122d43;fs[_0x3feec8(0x290)](_0x32f55e)&&(cleanCacheForUserFiles(_0x32f55e),fs[_0x3feec8(0x1af)](_0x32f55e,{'recursive':!![],'force':!![]}));}await conn['promise']()['execute'](_0x3feec8(0x1cc),[_0x31f933]);}catch(_0x286fd9){console['log'](_0x286fd9),_0x2a257d[_0x3feec8(0x1b1)](0x1f4)[_0x3feec8(0x1a7)]({'error':_0x3feec8(0x1b7)});return;}_0x2a257d[_0x3feec8(0x1b1)](0xc8)['json']({'success':!![],'message':'User\x20deleted\x20successfully'});}),router['get']('/metrics',async(_0x58031a,_0x465aa4)=>{const _0x2e8481=a27_0x5616bb,_0x270891=osu[_0x2e8481(0x2c3)],_0x448307=osu[_0x2e8481(0x1c0)],_0x499954=osu[_0x2e8481(0x1cf)],_0x56fcb6=osu['os'],_0x3f5350={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x342b3c=os['platform']()===_0x2e8481(0x216)?'c:':'/';const _0x49e982=await _0x499954[_0x2e8481(0x2f3)](_0x342b3c);_0x3f5350[_0x2e8481(0x2a2)]=_0x49e982['usedPercentage'],_0x3f5350[_0x2e8481(0x274)]=_0x49e982[_0x2e8481(0x2a8)],_0x3f5350[_0x2e8481(0x18d)]=_0x49e982[_0x2e8481(0x18d)],_0x3f5350['totalGB']=_0x49e982['totalGb'];}catch(_0x39e4c5){console['log'](_0x2e8481(0x242),_0x39e4c5);}const _0x337c3c={'usage':0x0,'count':0x0};try{_0x337c3c['usage']=await _0x270891[_0x2e8481(0x1ec)](),_0x337c3c['count']=_0x270891[_0x2e8481(0x262)]();}catch(_0x150dd1){console['log'](_0x2e8481(0x22e),_0x150dd1);}const _0x39d554={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x39d554['os']=await _0x56fcb6[_0x2e8481(0x2bb)](),_0x39d554[_0x2e8481(0x1e6)]=_0x56fcb6[_0x2e8481(0x1e6)](),_0x39d554['ip']=_0x56fcb6['ip'](),_0x39d554['uptime']=_0x56fcb6[_0x2e8481(0x1c9)](),_0x39d554[_0x2e8481(0x1e2)]=_0x56fcb6[_0x2e8481(0x1e2)](),_0x39d554[_0x2e8481(0x1db)]=_0x56fcb6[_0x2e8481(0x1db)](),_0x39d554[_0x2e8481(0x1c1)]=_0x56fcb6['arch'](),_0x39d554[_0x2e8481(0x2a6)]=await osu[_0x2e8481(0x240)]['who'](),_0x39d554['whoami']=await osu['osCmd'][_0x2e8481(0x264)](),_0x39d554[_0x2e8481(0x1ce)]=await osu[_0x2e8481(0x240)][_0x2e8481(0x1ce)]();}catch(_0x3e5174){console['log'](_0x2e8481(0x1cd),_0x3e5174);}const _0x1c2979={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x1c2979[_0x2e8481(0x205)]=await osu[_0x2e8481(0x175)][_0x2e8481(0x205)](),_0x1c2979['zombieProcesses']=await osu['proc'][_0x2e8481(0x16e)]();}catch(_0x2e1a7e){console[_0x2e8481(0x1f0)]('Error\x20getting\x20process\x20info',_0x2e1a7e);}let _0xf36ac7={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x2bf1fa=await _0x448307[_0x2e8481(0x2f3)]();_0xf36ac7['usedMemPercentage']=_0x2bf1fa[_0x2e8481(0x2c1)],_0xf36ac7[_0x2e8481(0x22b)]=_0x2bf1fa[_0x2e8481(0x232)]/0x400/0x400,_0xf36ac7[_0x2e8481(0x2ca)]=_0x2bf1fa[_0x2e8481(0x1bc)]/0x400/0x400;}catch(_0x3e9042){console[_0x2e8481(0x1f0)](_0x2e8481(0x1c6),_0x3e9042);}let _0x93145e=0x0;try{_0x93145e=await conn[_0x2e8481(0x16f)]()['query'](_0x2e8481(0x1aa))[_0x2e8481(0x15d)](([_0xc69e17])=>_0xc69e17[0x0]['total']);}catch(_0x25bdfa){console[_0x2e8481(0x1f0)](_0x2e8481(0x238),_0x25bdfa);}const _0x3121f2=getMonitoringData(),_0x47a949=_0x3121f2[_0x2e8481(0x168)](_0x2916f1=>_0x2916f1['conversionTimeSpend']!==null&&_0x2916f1[_0x2e8481(0x188)]!==undefined),_0x382c3c=_0x3121f2['filter'](_0x41d2bc=>_0x41d2bc[_0x2e8481(0x15b)]!==null&&_0x41d2bc['conversionMemoryUsage']!==undefined)[_0x2e8481(0x252)](_0x33b8ed=>parseFloat(_0x33b8ed[_0x2e8481(0x15b)][_0x2e8481(0x237)]('Kb')[_0x2e8481(0x200)]())),_0x2ea4c2=_0x47a949[_0x2e8481(0x246)]((_0x104779,_0x408e80)=>_0x104779+parseFloat(_0x408e80[_0x2e8481(0x188)]),0x0)/_0x47a949[_0x2e8481(0x26d)],_0x40d1df=_0x382c3c[_0x2e8481(0x246)]((_0x10cccb,_0x2f8588)=>_0x10cccb+_0x2f8588,0x0)/_0x382c3c[_0x2e8481(0x26d)];_0x465aa4['json']({'requestsPerSecond':counter[_0x2e8481(0x269)](),'diskUsage':_0x3f5350,'cpus':_0x337c3c,'system':_0x39d554,'process':_0x1c2979,'totalMonitoringData':_0x3121f2[_0x2e8481(0x26d)],'memory':_0xf36ac7,'totalUsers':_0x93145e,'avgConvertionTime':_0x2ea4c2,'avgMemoryUsage':_0x40d1df});}),router[a27_0x5616bb(0x2f5)]('/metrics/reset',(_0x330c5d,_0x21b9f1)=>{const _0x1e2f03=a27_0x5616bb;counter[_0x1e2f03(0x29a)](),_0x21b9f1[_0x1e2f03(0x1a7)]({'message':_0x1e2f03(0x19c)});});const getMonitoringData=()=>{const _0x4b557a=a27_0x5616bb,_0x18577c=_0x4b557a(0x1a4);let _0x3adf48=[];try{_0x3adf48=JSON[_0x4b557a(0x223)](fs[_0x4b557a(0x1b8)](_0x18577c));}catch(_0x1a7d5e){console[_0x4b557a(0x1f0)](_0x4b557a(0x214));}return _0x3adf48;};router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x2cd),async(_0x386320,_0x1de659)=>{const _0x2b4a23=a27_0x5616bb,{page:page=0x1,limit:limit=0xa}=_0x386320[_0x2b4a23(0x1ad)],_0x5dba74=(page-0x1)*limit;try{const _0x3dd62e=getMonitoringData(),_0x4f409a=_0x3dd62e[_0x2b4a23(0x26d)],_0x49447d=Math[_0x2b4a23(0x1e9)](_0x4f409a/limit),_0x557abd=_0x3dd62e[_0x2b4a23(0x28e)](_0x5dba74,_0x5dba74+limit);_0x1de659[_0x2b4a23(0x1b1)](0xc8)['json']({'data':_0x557abd,'page':parseInt(''+page),'totalPages':_0x49447d,'total':_0x4f409a});}catch(_0x10f3dc){console[_0x2b4a23(0x1f0)](_0x10f3dc),_0x1de659[_0x2b4a23(0x1b1)](0x1f4)[_0x2b4a23(0x1a7)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router['delete'](a27_0x5616bb(0x282),async(_0x9c246,_0xf55255)=>{const _0x5461bf=a27_0x5616bb,_0x112fda=_0x5461bf(0x1a4);try{fs[_0x5461bf(0x16c)](_0x112fda,JSON[_0x5461bf(0x170)]([],null,0x4)),analyzeConverterFiles(),_0xf55255[_0x5461bf(0x1b1)](0xc8)[_0x5461bf(0x1a7)]({'message':_0x5461bf(0x17e)});}catch(_0x9d31a1){console[_0x5461bf(0x1f0)](_0x9d31a1),_0xf55255['status'](0x1f4)[_0x5461bf(0x1a7)]({'error':_0x5461bf(0x1b7)});}}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x2a0),async(_0x2a9e28,_0x1554cc)=>{const _0x5ec3da=a27_0x5616bb,_0xdcd96c=getHotConfig()[_0x5ec3da(0x263)][_0x5ec3da(0x237)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x2a9e28[_0x5ec3da(0x1ad)],_0x6e7568=(page-0x1)*limit;try{const _0x5c4ee6=_0xdcd96c+_0x5ec3da(0x25e);console[_0x5ec3da(0x1f0)](_0x5c4ee6);const _0x122e50=fs[_0x5ec3da(0x1b8)](_0x5c4ee6,'utf8'),_0x107493=_0x122e50[_0x5ec3da(0x24a)]('\x0a'),_0x239b24=[];_0x107493[_0x5ec3da(0x154)](_0x678a8=>{const _0x4a9ed5=_0x5ec3da,_0x4181bd=_0x678a8[_0x4a9ed5(0x24a)](',');if(_0x4181bd[_0x4a9ed5(0x26d)]<0x4)return;const _0x25adb6=_0x4181bd[0x0],_0x333d51=_0x4181bd[0x1],_0x49bf94=parseFloat(_0x4181bd[0x2]);_0x239b24[_0x4a9ed5(0x27a)]({'file':_0x25adb6[_0x4a9ed5(0x237)]('\x22',''),'action':_0x333d51,'timeSpend':_0x49bf94,'memoryUsage':_0x4181bd[0x3]});});const _0xfb9dc3=_0x239b24[_0x5ec3da(0x26d)],_0x4108e7=Math['ceil'](_0xfb9dc3/limit),_0x13ef3a=_0x239b24['slice'](_0x6e7568,_0x6e7568+limit);_0x1554cc[_0x5ec3da(0x1b1)](0xc8)[_0x5ec3da(0x1a7)]({'data':_0x13ef3a,'page':parseInt(''+page),'totalPages':_0x4108e7,'total':_0xfb9dc3});}catch(_0x1a3876){console[_0x5ec3da(0x1f0)](_0x1a3876),_0x1554cc[_0x5ec3da(0x1b1)](0x1f4)[_0x5ec3da(0x1a7)]({'error':_0x5ec3da(0x1b7)});}}),router[a27_0x5616bb(0x1b0)]('/cache/stats',async(_0x4edf62,_0xd45746)=>{const _0x5a83c7=a27_0x5616bb,_0x3b4825=path[_0x5a83c7(0x1ff)](path[_0x5a83c7(0x1b5)](require[_0x5a83c7(0x2ac)][_0x5a83c7(0x169)]),'converters',_0x5a83c7(0x15e));try{let _0x407e73=0x0,_0x11eae8=0x0;function _0x1d0258(_0xb10ecd){const _0x246af0=_0x5a83c7;let _0x6234e4=0x0,_0x22b19d=0x0;if(fs[_0x246af0(0x290)](_0xb10ecd)){const _0x147874=fs[_0x246af0(0x195)](_0xb10ecd);_0x22b19d=0x0;for(const _0x3bfa04 of _0x147874){const _0x180968=path[_0x246af0(0x1ff)](_0xb10ecd,_0x3bfa04),_0x4e4402=fs[_0x246af0(0x1fe)](_0x180968);if(_0x4e4402[_0x246af0(0x2c4)]()&&_0x3bfa04!=='.gitkeep')_0x22b19d++,_0x6234e4+=_0x4e4402['size'];else{if(_0x4e4402[_0x246af0(0x16d)]()){}}}}return{'size':_0x6234e4,'count':_0x22b19d};}const _0x1c7fe9=_0x1d0258(_0x3b4825);_0x407e73=_0x1c7fe9[_0x5a83c7(0x18c)],_0x11eae8=_0x1c7fe9[_0x5a83c7(0x262)],_0xd45746[_0x5a83c7(0x1a7)]({'fileCount':_0x11eae8,'totalSize':_0x407e73});}catch(_0xe00a7e){console[_0x5a83c7(0x2d9)]('Error\x20getting\x20cache\x20stats:',_0xe00a7e),_0xd45746['status'](0x1f4)[_0x5a83c7(0x1a7)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a27_0x5616bb(0x183)](a27_0x5616bb(0x298),async(_0x59622d,_0x7fcb44)=>{const _0xe06a39=a27_0x5616bb,_0x48fe27=path[_0xe06a39(0x1ff)](path['dirname'](require[_0xe06a39(0x2ac)][_0xe06a39(0x169)]),_0xe06a39(0x1bb),_0xe06a39(0x15e));try{function _0x4ae898(_0x5284ad){const _0x4f8458=_0xe06a39;if(fs[_0x4f8458(0x290)](_0x5284ad)){const _0x5d3bb0=fs['readdirSync'](_0x5284ad);for(const _0x462cbf of _0x5d3bb0){const _0x3229a2=path['join'](_0x5284ad,_0x462cbf),_0x247ab2=fs[_0x4f8458(0x1fe)](_0x3229a2);if(_0x247ab2[_0x4f8458(0x16d)]()){}else _0x462cbf!==_0x4f8458(0x27b)&&fs[_0x4f8458(0x1c7)](_0x3229a2);}}}_0x4ae898(_0x48fe27),analyzeConverterFiles(),_0x7fcb44[_0xe06a39(0x1a7)]({'message':_0xe06a39(0x1f2)});}catch(_0x2ad30e){console['error'](_0xe06a39(0x277),_0x2ad30e),_0x7fcb44['status'](0x1f4)[_0xe06a39(0x1a7)]({'error':_0xe06a39(0x2e9)});}}),router[a27_0x5616bb(0x1b0)]('/cache-stats.js',async(_0xc34da1,_0x324e92)=>{const _0xc930dd=a27_0x5616bb;_0x324e92[_0xc930dd(0x25d)](path[_0xc930dd(0x1ff)](path[_0xc930dd(0x1b5)](require[_0xc930dd(0x2ac)][_0xc930dd(0x169)]),_0xc930dd(0x186)));}),router['get'](a27_0x5616bb(0x1a9),protectedRoute,async(_0x151010,_0x46061e)=>{const _0x4dedd1=a27_0x5616bb,_0x54eb37=fs[_0x4dedd1(0x1b8)](path[_0x4dedd1(0x1ff)](path[_0x4dedd1(0x1b5)](require[_0x4dedd1(0x2ac)][_0x4dedd1(0x169)]),'cadviewer/settings/conversion-cache.html'),_0x4dedd1(0x187)),_0x3e1536=_0x54eb37[_0x4dedd1(0x237)](_0x4dedd1(0x18f),_0x151010[_0x4dedd1(0x293)]);_0x46061e['send'](_0x3e1536);}),router['get'](a27_0x5616bb(0x226),async(_0x34f84a,_0x2e0da0)=>{const _0x6e1ecb=a27_0x5616bb,{page:page=0x1,limit:limit=0x10}=_0x34f84a[_0x6e1ecb(0x1ad)],_0x3cd11d=JSON[_0x6e1ecb(0x223)](fs[_0x6e1ecb(0x1b8)](path[_0x6e1ecb(0x1ff)](path[_0x6e1ecb(0x1b5)](require['main'][_0x6e1ecb(0x169)]),'cadviewer/settings/converter-files-analysis.json'))),_0xc45718=(page-0x1)*limit,_0x189031=page*limit,_0x1b58fe=_0x3cd11d[_0x6e1ecb(0x15e)][_0x6e1ecb(0x26d)],_0x10b11e=Math[_0x6e1ecb(0x1e9)](_0x1b58fe/limit),_0x1677b6=_0x3cd11d['files'][_0x6e1ecb(0x28e)](_0xc45718,_0x189031);_0x2e0da0['json']({'files':_0x1677b6,'pagination':{'total':_0x1b58fe,'totalPages':_0x10b11e,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x1f6),async(_0xc03308,_0x36c406)=>{const _0x29fe39=a27_0x5616bb,{file:_0x4517fa}=_0xc03308['params'],_0x2902b6=path['join'](path[_0x29fe39(0x1b5)](require[_0x29fe39(0x2ac)][_0x29fe39(0x169)]),_0x29fe39(0x1bb),_0x29fe39(0x15e)),_0x128091=path[_0x29fe39(0x1ff)](_0x2902b6,_0x4517fa),_0x4af23a=fs[_0x29fe39(0x1b8)](_0x128091,'utf8'),_0x35c8ea=_0x4af23a[_0x29fe39(0x24a)]('\x0a'),_0x5af0e3=_0x35c8ea[_0x29fe39(0x252)](_0x5ddb78=>{const _0x1b1071=_0x29fe39,_0x4f9248=_0x5ddb78[_0x1b1071(0x24a)](',');return _0x4f9248[_0x1b1071(0x252)](_0x1856de=>_0x1856de[_0x1b1071(0x237)]('\x22',''));});_0x36c406['json'](_0x5af0e3);}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x1ca),async(_0x447b2d,_0x5c2efe)=>{const _0x28be77=a27_0x5616bb,{id:_0x58331a}=_0x447b2d[_0x28be77(0x156)],_0x3baff2=path[_0x28be77(0x1ff)](path[_0x28be77(0x1b5)](require['main'][_0x28be77(0x169)]),_0x28be77(0x1bb),_0x28be77(0x15e)),_0x4a1f8c=path[_0x28be77(0x1ff)](_0x3baff2,_0x58331a);if(_0x4a1f8c[_0x28be77(0x2fe)](_0x28be77(0x1dc))){var _0x3002b=require('zlib');const _0x3975ea=fs[_0x28be77(0x1b8)](_0x4a1f8c),_0x2641a9=_0x3002b['gunzipSync'](_0x3975ea);_0x5c2efe[_0x28be77(0x2f4)](_0x28be77(0x1b9),_0x28be77(0x210)),_0x5c2efe[_0x28be77(0x1a5)](_0x2641a9);}else _0x5c2efe[_0x28be77(0x25d)](_0x4a1f8c);}),router[a27_0x5616bb(0x183)](a27_0x5616bb(0x1ca),async(_0x2d08f6,_0x1e5677)=>{const _0x4057c9=a27_0x5616bb,{id:_0x52000a}=_0x2d08f6[_0x4057c9(0x156)],_0x2b3dbf=path[_0x4057c9(0x1ff)](path[_0x4057c9(0x1b5)](require['main']['filename']),_0x4057c9(0x1bb),_0x4057c9(0x15e)),_0xdf0dfa=JSON['parse'](fs[_0x4057c9(0x1b8)](path[_0x4057c9(0x1ff)](path['dirname'](require[_0x4057c9(0x2ac)][_0x4057c9(0x169)]),'cadviewer/settings/converter-files-analysis.json'))),_0x17234b=_0xdf0dfa[_0x4057c9(0x15e)][_0x4057c9(0x254)](_0x19f894=>_0x19f894[_0x4057c9(0x229)]===_0x52000a);if(_0x17234b){try{fs[_0x4057c9(0x290)](path[_0x4057c9(0x1ff)](_0x2b3dbf,_0x17234b['name']))&&fs[_0x4057c9(0x1c7)](path[_0x4057c9(0x1ff)](_0x2b3dbf,_0x17234b['name']));}catch(_0x3d6aed){console[_0x4057c9(0x1f0)](_0x4057c9(0x233),{'e':_0x3d6aed});}(_0x17234b[_0x4057c9(0x211)]??[])[_0x4057c9(0x154)](_0x6d2018=>{const _0x42a527=_0x4057c9;try{fs[_0x42a527(0x290)](path[_0x42a527(0x1ff)](_0x2b3dbf,_0x6d2018['id']))&&fs[_0x42a527(0x1c7)](path[_0x42a527(0x1ff)](_0x2b3dbf,_0x6d2018['id']));}catch(_0x1bca4d){console[_0x42a527(0x1f0)](_0x42a527(0x233),{'e':_0x1bca4d});}});}analyzeConverterFiles(),_0x1e5677[_0x4057c9(0x1a7)]({'message':'File\x20deleted\x20successfully'});});const deleteOldDemoUsers=async()=>{const _0x2380d3=a27_0x5616bb;console[_0x2380d3(0x1f0)]('Deleting\x20old\x20demo_user\x20accounts...');const _0xa633fd=config[_0x2380d3(0x1ed)],_0x13ee64=_0x2380d3(0x2fc);try{const [_0x52d8c0]=await conn[_0x2380d3(0x16f)]()[_0x2380d3(0x283)](_0x13ee64,[_0xa633fd]),_0x2182c1=_0x52d8c0['map'](_0x2b9fab=>_0x2b9fab[_0x2380d3(0x198)]),_0x2ece71=_0x52d8c0[_0x2380d3(0x252)](_0x9a84c5=>_0x9a84c5[_0x2380d3(0x26c)]);console[_0x2380d3(0x1f0)](_0x2ece71),await conn[_0x2380d3(0x16f)]()['execute'](_0x2380d3(0x24b),[_0xa633fd]),_0x2182c1[_0x2380d3(0x154)](_0x59decd=>{const _0x1e47e4=_0x2380d3;try{const _0x43239d=_0x1e47e4(0x1ba)+_0x59decd;cleanCacheForUserFiles(_0x43239d),fs[_0x1e47e4(0x2c8)](_0x43239d);}catch(_0x5082c1){console[_0x1e47e4(0x2d9)](_0x1e47e4(0x21a),_0x5082c1);}}),console[_0x2380d3(0x1f0)](_0x2380d3(0x1a0)+_0x52d8c0[_0x2380d3(0x26d)]+_0x2380d3(0x180)+_0xa633fd+_0x2380d3(0x2dd));}catch(_0x2ee3f8){console[_0x2380d3(0x2d9)](_0x2380d3(0x21b),_0x2ee3f8);}};schedule[a27_0x5616bb(0x19b)]('0\x201\x20*\x20*\x20*',deleteOldDemoUsers),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x28f),protectedRoute,async(_0x1e0a85,_0x3c6de2)=>{const _0x56d1ad=a27_0x5616bb,_0x2ce9c8=fs[_0x56d1ad(0x1b8)](path['join'](path[_0x56d1ad(0x1b5)](require[_0x56d1ad(0x2ac)][_0x56d1ad(0x169)]),_0x56d1ad(0x249)),'utf8'),_0x439825=_0x2ce9c8['replaceAll'](_0x56d1ad(0x18f),_0x1e0a85[_0x56d1ad(0x293)]);_0x3c6de2[_0x56d1ad(0x1a5)](_0x439825);});const exportUsersList=async()=>{const _0x13d053=a27_0x5616bb;console[_0x13d053(0x1f0)]('Exporting\x20new\x20users\x20for\x20Google\x20Ads...');const _0x4e3871=path['join'](path[_0x13d053(0x1b5)](require[_0x13d053(0x2ac)][_0x13d053(0x169)]),_0x13d053(0x29f));!fs[_0x13d053(0x290)](_0x4e3871)&&fs['mkdirSync'](_0x4e3871);const _0x4e27f2=config[_0x13d053(0x194)]||_0x13d053(0x2ec);let _0x1cf7ca;const _0x511cdc=path['join'](_0x4e3871,'last-users-export.json');if(fs[_0x13d053(0x290)](_0x511cdc))try{const _0x320ee4=JSON[_0x13d053(0x223)](fs[_0x13d053(0x1b8)](_0x511cdc,_0x13d053(0x187)));_0x1cf7ca=new Date(_0x320ee4[_0x13d053(0x235)]);}catch(_0x2ff3f0){console['error'](_0x13d053(0x213),_0x2ff3f0),_0x1cf7ca=calculateDefaultLastExportDate(_0x4e27f2);}else _0x1cf7ca=calculateDefaultLastExportDate(_0x4e27f2);const _0x4de1e9=new Date(),_0x1b15e1=_0x4de1e9[_0x13d053(0x15a)]()+'-'+String(_0x4de1e9[_0x13d053(0x21f)]()+0x1)[_0x13d053(0x234)](0x2,'0')+'-'+String(_0x4de1e9[_0x13d053(0x2ef)]())[_0x13d053(0x234)](0x2,'0'),_0xe90c0f=_0x13d053(0x28b)+_0x1b15e1+_0x13d053(0x161),_0x5c437f=path[_0x13d053(0x1ff)](_0x4e3871,_0xe90c0f);try{const _0x4eee2c=_0x13d053(0x1f8),[_0x4c0171]=await conn['promise']()[_0x13d053(0x283)](_0x4eee2c,[_0x1cf7ca]);if(_0x4c0171[_0x13d053(0x26d)]===0x0){console[_0x13d053(0x1f0)](_0x13d053(0x250));return;}let _0x27d0a4='email,firstname,lastname\x0a';_0x4c0171['forEach'](_0x4f6a19=>{const _0x292047=_0x13d053,_0x5b3182=_0x4f6a19['email']?'\x22'+_0x4f6a19[_0x292047(0x26c)][_0x292047(0x2af)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x1a1e53=_0x4f6a19[_0x292047(0x1ac)]?'\x22'+_0x4f6a19[_0x292047(0x1ac)][_0x292047(0x2af)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x2b3cc2=_0x4f6a19[_0x292047(0x2e1)]?'\x22'+_0x4f6a19[_0x292047(0x2e1)][_0x292047(0x2af)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x27d0a4+=_0x5b3182+','+_0x1a1e53+','+_0x2b3cc2+'\x0a';}),fs[_0x13d053(0x16c)](_0x5c437f,_0x27d0a4),console['log'](_0x13d053(0x20f)+_0x4c0171[_0x13d053(0x26d)]+_0x13d053(0x24f)+_0x5c437f);const _0x43d92d={'lastExportDate':_0x4de1e9[_0x13d053(0x258)](),'fileName':_0xe90c0f,'userCount':_0x4c0171['length']};fs[_0x13d053(0x16c)](_0x511cdc,JSON['stringify'](_0x43d92d,null,0x2));}catch(_0x5034ef){console['error'](_0x13d053(0x16a),_0x5034ef);}},calculateDefaultLastExportDate=_0x198451=>{const _0x3d8dc9=a27_0x5616bb,_0x23b561=new Date();return _0x198451===_0x3d8dc9(0x236)?_0x23b561[_0x3d8dc9(0x278)](_0x23b561[_0x3d8dc9(0x2ef)]()-0xe):_0x23b561[_0x3d8dc9(0x185)](_0x23b561[_0x3d8dc9(0x21f)]()-0x1),_0x23b561;};function a27_0x58f5(){const _0x1ecd5e=['image/svg+xml','availableFormats','linklist_executable_windows','Error\x20reading\x20last\x20export\x20info:','Error\x20reading\x20monitoring\x20file','CSV','win32','boolean','\x20GB','/folders','Error\x20deleting\x20user\x20folder:','Error\x20deleting\x20old\x20demo_user\x20accounts:','tmp','/content/redlines/','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','getMonth','extname','Error\x20saving\x20parameters.','blue','parse','mysqlUsername','maxConcurrentUploads','/cache/files','./tmp','2DMLxEf','name','Folder\x20renamed.','usedMemMb','folderLocation','0\x20*\x20*\x20*\x20*','Error\x20getting\x20cpu\x20usage','Display\x20of\x20DWG','Folder\x20not\x20found','../libs/mysql.js','used','Error\x20deleting\x20file','padStart','lastExportDate','biweekly','replaceAll','Error\x20getting\x20total\x20users','fontLocation','role','Error\x20getting\x20Users\x20export\x20export\x20history:','/users-export/history','CADViewer_config.json','cadviewer/settings/config.html','Permission\x20750\x20for\x20the\x20\x22','osCmd','/config','Error\x20getting\x20disk\x20usage','cadviewer/settings/style.css','Router','/logs/clean','reduce','../CADViewer_config.json','/folders/create','cadviewer/settings/users-export.html','split','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','675261RqTmTa','svgz','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','\x20users\x20to\x20','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','Content-Disposition','map','File\x20or\x20Folder\x20not\x20found','find','cadviewer/settings/vanilla-toast.css','settings','AutoXchange\x20Settings','toISOString','R_OK','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','callbackMethod_gatewayUrl_flag','.pdf','sendFile','memorydata.csv','dwgmerge_executable_windows','/folders/upload-config','multer','count','converterLocation','whoami','now','Folder\x20already\x20exists.','Files\x20uploaded\x20successfully','.dwg','getStats','cadviewer/settings/licences.html','resolve','email','length','Users\x20export\x20triggered\x20successfully','/converters/autoxchange/linux/','renameSync','model','converterpathWin','maxUploadFileSize','usedGB','autodetect_location','/restapi-test/parameters/search','Error\x20flushing\x20cache:','setDate','RL/TL\x20Processing','push','.gitkeep','catch','File\x20not\x20found','single','splity','number','\x22\x20executable','/conversion/clean','execute','diskStorage','attachment;\x20filename=\x22','converterpathLin','dwg','toString','radio|windows,linux','CADViewer\x20Settings','users-export-','Cache\x20cleaned\x20for\x20files\x20in\x20','/users','slice','/export-users','existsSync','hlall','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','version','Error\x20triggering\x20Users\x20export:','includes','linklist_executable_linux','/config/global-update','/cache/flush','/icons.js','reset','/licences','updatedAt','SVGZ','Export\x20file\x20not\x20found','exports','/conversion/memorydata','autoxchange_executable_windows','percentage','File\x20renamed.','/folders/download','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','who','/converters/files/','usedGb','body','copyFileSync','../libs/email-utils','main','=============================>','This\x20action\x20is\x20only\x20available\x20for\x20demo\x20users','replace','/tailwind.js','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','isFolder','1788370BoAApp','autodetect_platform','Directory\x20','avatar','LinkList\x20Settings','clean','Database\x20Settings','ServerUrl','oos','DWG\x20to\x20SVG\x20Conversion','Failed\x20to\x20trigger\x20export','Config\x20updated.','write','Invalid\x20user','usedMemPercentage','download','cpu','isFile','radio|','Folder\x20not\x20found.','demo_user','rmdirSync','Error\x20deleting\x20cache\x20file\x20','totalMemMb','SELECT\x20*\x20FROM\x20users','Error\x20deleting\x20folder.','/conversion/list','avatar_url','csv','sub_dirs','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','8759740VfzjAI','1521332BDSBsW','dir','\x20KB','No\x20config\x20object\x20provided','dwgmergeLocation','\x20\x20\x20','error','Demo\x20period\x20extended\x20successfully\x20by\x20','test','fileLocationUrl','\x20days\x20have\x20been\x20deleted.','atime','xpathLocation','red','last_name','pdf','all','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Error\x20creating\x20folder.','cadviewer/settings/rest-api-parameters.json','hash','cadviewer/settings/users.html','Failed\x20to\x20flush\x20cache','/content/redlines/v7/','96RraiGU','monthly','/users/:userId','/users-export/download/:fileName','getDate','====================','78218YCwMOK','gray','info','setHeader','post','autoxchange_executable','Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)','Error\x20retrieving\x20upload\x20configuration','/chart.min.js','.svg','readFile','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','/restapi-test/parameters/save','endsWith','X_OK','fileLoad_Password','autoxchange_executable_linux','.log','forEach','Cache\x20conversion','params','express','cadviewer','rmdir','getFullYear','conversionMemoryUsage','node-os-utils','then','files','express-basic-auth','Server\x20Settings','.csv','mkdirSync','crypto','user','toUpperCase','160WGPpqL','`crypted_password`\x20=\x20?,\x20','filter','filename','Error\x20exporting\x20users\x20for\x20Google\x20Ads:','Error\x20downloading\x20file.','writeFileSync','isDirectory','zombieProcesses','promise','stringify','/vanilla-toast.css','getHotConfig','Cache\x20directory\x20','temp_print_folder','proc','setup_mysqlHost','Error\x20deleting\x20file.','put','message','radio|monthly,biweekly','goodFileName','/users/list','dwgmerge_executable_linux','Monitoring\x20file\x20cleaned.','cadviewer/settings/rest-api.html',')\x20older\x20than\x20','mkdir','DWG\x20to\x20PDF\x20Conversion','delete','maxUploadFiles','setMonth','cadviewer/settings/cache-stats.js','utf8','conversionTimeSpend','constants','Parameters\x20saved.','settingsUserBasicAuth','size','freeGb','No\x20files\x20uploaded','{version}','callbackMethod_gatewayUrl','path','file','cadviewer/settings/vanilla-toast.js','usersExportFrequency','readdirSync','DWG','W_OK','folder_name','dwgmerge_executable','cadviewer/settings/icons.js','scheduleJob','Counter\x20reset\x20successfully','originalname','unlink','array','Old\x20demo_user\x20accounts\x20(','cachedfiles','../libs/config','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','cadviewer/settings/requests-callapiconversion-monitoring.json','send','keys','json','linklistLocation','/cache','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','toLocaleLowerCase','first_name','query','darwin','rmSync','get','status','converter-files-analysis.json','windows','/folders/upload','dirname','/folders/delete','Error!\x20Something\x20went\x20wrong.','readFileSync','Content-Type','./uploads/','converters','total','7097079EuUJhG','Error\x20finding\x20log\x20files:','startsWith','mem','arch','\x20n\x27existe\x20pas.','ServerLocation','/config/update','mysqlDatabase','Error\x20getting\x20memory\x20info','unlinkSync','/doctor','uptime','/cache/files/:id','yellow','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','Error\x20getting\x20os\x20info','vmstats','drive','/converters/files/print/','Folder\x20deleted.','\x20MB','fileLocation','.log\x22','some','0\x2023\x20*\x20*\x20*','Config\x20updated\x20successfully','birthtime','createdAt','ServerPort','type','.svgz','standard','0\x200\x20*\x20*\x20*','494694FoeJAD','Folder\x20created.','application/octet-stream','hostname','mode','.dwg.json','pop','platform','Log\x20file\x20cleaned.','/converters/files/pdf/','ceil','linklist_executable','mysqlHost','usage','demoUserRetentionDays','Le\x20dossier\x20','12XEQdoV','log','/restapi-test','Cache\x20flushed\x20successfully','fileLoad_UserName','svg','logs','/cache/csv/:file','call-Api_Conversion_','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20','../libs/counter.js','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','linux','\x20does\x20not\x20exist.','\x20days','statSync','join','trim','JSON\x20Data\x20Extraction','/users/flush-dir','DWG\x20file\x20in\x20multiple\x20files','admin','totalProcesses','.json','access','/doctor/check','/converters/files/merged/','toFixed','An\x20error\x20occurred\x20while\x20checking.','ctime','Error\x20cleaning\x20cache\x20for\x20user\x20files:','Error\x20getting\x20upload\x20configuration:','Exported\x20'];a27_0x58f5=function(){return _0x1ecd5e;};return a27_0x58f5();}router['get'](a27_0x5616bb(0x23c),async(_0x5a2687,_0x232c2f)=>{const _0x56b4f7=a27_0x5616bb,_0x1cbabc=path[_0x56b4f7(0x1ff)](path[_0x56b4f7(0x1b5)](require[_0x56b4f7(0x2ac)]['filename']),_0x56b4f7(0x29f));if(!fs[_0x56b4f7(0x290)](_0x1cbabc))return _0x232c2f[_0x56b4f7(0x1b1)](0xc8)[_0x56b4f7(0x1a7)]({'exports':[]});try{const _0x503e34=fs['readdirSync'](_0x1cbabc)[_0x56b4f7(0x168)](_0x42078c=>_0x42078c[_0x56b4f7(0x1bf)]('users-export-')&&_0x42078c[_0x56b4f7(0x2fe)]('.csv'))[_0x56b4f7(0x252)](_0x3587c5=>{const _0x528ad8=_0x56b4f7,_0x5589b6=path[_0x528ad8(0x1ff)](_0x1cbabc,_0x3587c5),_0xf6437d=fs[_0x528ad8(0x1fe)](_0x5589b6),_0x37391e=fs[_0x528ad8(0x1b8)](_0x5589b6,_0x528ad8(0x187)),_0x70f5e6=_0x37391e['split']('\x0a')[_0x528ad8(0x26d)]-0x1;return{'fileName':_0x3587c5,'createdAt':_0xf6437d[_0x528ad8(0x1d8)],'userCount':_0x70f5e6};})['sort']((_0x2a345b,_0x2297fd)=>_0x2297fd['createdAt']-_0x2a345b[_0x56b4f7(0x1d9)]);_0x232c2f['status'](0xc8)['json']({'exports':_0x503e34});}catch(_0x45c079){console[_0x56b4f7(0x2d9)](_0x56b4f7(0x23b),_0x45c079),_0x232c2f[_0x56b4f7(0x1b1)](0x1f4)['json']({'error':'Failed\x20to\x20retrieve\x20export\x20history'});}}),router['post']('/users-export/trigger',async(_0x4d47b4,_0x33bbaa)=>{const _0x49a54b=a27_0x5616bb;try{await exportUsersList(),_0x33bbaa[_0x49a54b(0x1b1)](0xc8)[_0x49a54b(0x1a7)]({'message':_0x49a54b(0x26e)});}catch(_0xcc6d9b){console[_0x49a54b(0x2d9)](_0x49a54b(0x294),_0xcc6d9b),_0x33bbaa[_0x49a54b(0x1b1)](0x1f4)['json']({'error':_0x49a54b(0x2bd)});}}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x2ee),async(_0x19ef15,_0x1ba47e)=>{const _0xcfc536=a27_0x5616bb,{fileName:_0x598ea2}=_0x19ef15[_0xcfc536(0x156)],_0x299f53=path[_0xcfc536(0x1ff)](path[_0xcfc536(0x1b5)](require['main'][_0xcfc536(0x169)]),_0xcfc536(0x29f),_0x598ea2);if(!fs['existsSync'](_0x299f53))return _0x1ba47e['status'](0x194)['json']({'error':_0xcfc536(0x29e)});_0x1ba47e[_0xcfc536(0x2c2)](_0x299f53);});const cleanCacheForUserFiles=_0x121c97=>{const _0x143f06=a27_0x5616bb;try{if(!fs[_0x143f06(0x290)](_0x121c97)){console['log'](_0x143f06(0x2b5)+_0x121c97+_0x143f06(0x1fc));return;}const _0x18cd97=path['join'](path[_0x143f06(0x1b5)](require[_0x143f06(0x2ac)][_0x143f06(0x169)]),'converters',_0x143f06(0x15e));if(!fs['existsSync'](_0x18cd97)){console[_0x143f06(0x1f0)](_0x143f06(0x173)+_0x18cd97+_0x143f06(0x1fc));return;}const _0x139260=JSON[_0x143f06(0x223)](fs[_0x143f06(0x1b8)](path[_0x143f06(0x1ff)](path[_0x143f06(0x1b5)](require['main'][_0x143f06(0x169)]),'cadviewer/settings/converter-files-analysis.json'))),_0x397ff4=fs[_0x143f06(0x195)](_0x121c97);_0x397ff4[_0x143f06(0x154)](_0x191754=>{const _0x277a95=_0x143f06;_0x139260[_0x277a95(0x15e)][_0x277a95(0x154)](_0x29a5fb=>{const _0x38d5cf=_0x277a95;_0x29a5fb[_0x38d5cf(0x17b)]===_0x191754&&_0x29a5fb['availableFormats'][_0x38d5cf(0x154)](_0x241d10=>{const _0xf61db5=_0x38d5cf;try{fs[_0xf61db5(0x1c7)](path[_0xf61db5(0x1ff)](_0x18cd97,_0x241d10['id']));}catch(_0x4a129f){console['error'](_0xf61db5(0x2c9)+_0x241d10['id']+':',_0x4a129f);}});});}),analyzeConverterFiles(),console[_0x143f06(0x1f0)](_0x143f06(0x28c)+_0x121c97);}catch(_0x167d1b){console[_0x143f06(0x2d9)](_0x143f06(0x20d),_0x167d1b);}};schedule[a27_0x5616bb(0x19b)](a27_0x5616bb(0x1d6),exportUsersList),schedule[a27_0x5616bb(0x19b)](a27_0x5616bb(0x22d),sendFollowUpEmails),schedule['scheduleJob'](a27_0x5616bb(0x1de),sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x2fa280=a27_0x5616bb;try{const _0x38f7a7=path[_0x2fa280(0x1ff)](path[_0x2fa280(0x1b5)](require[_0x2fa280(0x2ac)][_0x2fa280(0x169)]),_0x2fa280(0x1bb),'files'),_0x52b8f4=path[_0x2fa280(0x1ff)](path['dirname'](require[_0x2fa280(0x2ac)]['filename']),_0x2fa280(0x158),_0x2fa280(0x256));if(!fs[_0x2fa280(0x290)](_0x38f7a7)){logStream[_0x2fa280(0x2bf)]('Le\x20dossier\x20'+_0x38f7a7+'\x20n\x27existe\x20pas.');return;}if(!fs[_0x2fa280(0x290)](_0x52b8f4)){logStream[_0x2fa280(0x2bf)](_0x2fa280(0x1ee)+_0x52b8f4+_0x2fa280(0x1c2));return;}const _0x2b26b0=fs[_0x2fa280(0x195)](_0x38f7a7),_0x1a20a5={};_0x2b26b0[_0x2fa280(0x154)](_0x5baabf=>{const _0x27abbe=_0x2fa280,_0x595011=path[_0x27abbe(0x1ff)](_0x38f7a7,_0x5baabf),_0x2624cd=fs['statSync'](_0x595011),_0x1cdf58=_0x5baabf['split']('.'),_0x8d418e=_0x1cdf58[_0x27abbe(0x28e)](0x0,-0x1)[_0x27abbe(0x168)]((_0x4d1634,_0x1edbb7)=>!([_0x27abbe(0x287),'rl'][_0x27abbe(0x295)](_0x4d1634[_0x27abbe(0x1ab)]())&&_0x1edbb7===_0x1cdf58[_0x27abbe(0x26d)]-0x2))[_0x27abbe(0x1ff)]('.');!Object[_0x27abbe(0x1a6)](_0x1a20a5)[_0x27abbe(0x295)](_0x8d418e)?_0x1a20a5[_0x8d418e]=[{'file':_0x5baabf,'stats':_0x2624cd}]:_0x1a20a5[_0x8d418e][_0x27abbe(0x27a)]({'file':_0x5baabf,'stats':_0x2624cd});});const _0x44943e=[];_0x2b26b0[_0x2fa280(0x154)](_0xfababc=>{const _0x310493=_0x2fa280;if(!_0xfababc[_0x310493(0x2fe)](_0x310493(0x1e4)))return;let _0x38bafc=_0xfababc;const _0x234d58=path[_0x310493(0x1ff)](_0x38f7a7,_0xfababc),_0x2182b3=fs[_0x310493(0x1fe)](_0x234d58);let _0xbbb783=_0x2182b3[_0x310493(0x18c)],_0x293808='';const _0x4fbfae=fs['readFileSync'](_0x234d58,'utf8'),_0x2ff157=JSON['parse'](_0x4fbfae),_0x97cdf=_0x2ff157[_0x310493(0x1a1)]?.[_0x310493(0x252)](_0x24f22f=>_0x24f22f['fileName'])??[];if(_0x2ff157[_0x310493(0x169)])_0x38bafc=_0x2ff157[_0x310493(0x169)];const _0x1f2fad=_0xfababc[_0x310493(0x24a)]('.'),_0x997f1d=_0x1f2fad[_0x310493(0x28e)](0x0,-0x1)[_0x310493(0x168)]((_0x3c0c62,_0x1e0853)=>!(['dwg','rl'][_0x310493(0x295)](_0x3c0c62[_0x310493(0x1ab)]())&&_0x1e0853===_0x1f2fad[_0x310493(0x26d)]-0x2))[_0x310493(0x1ff)]('.'),_0x377e9d=Object['keys'](_0x1a20a5)[_0x310493(0x295)](_0x997f1d)?_0x1a20a5[_0x997f1d]:[];for(const _0x3041e3 of _0x97cdf){Object['keys'](_0x1a20a5)[_0x310493(0x295)](_0x3041e3)&&_0x377e9d[_0x310493(0x27a)](..._0x1a20a5[_0x3041e3]);}const _0x157aaf=_0x377e9d[_0x310493(0x252)](({file:_0x395854,stats:_0x44d648})=>{const _0x370888=_0x310493;return!_0x395854['endsWith']('.dwg.json')&&(_0xbbb783+=_0x44d648[_0x370888(0x18c)]),{'id':_0x395854,'name':_0x395854[_0x370888(0x2fe)](_0x370888(0x2fa))?'SVG':_0x395854[_0x370888(0x2fe)](_0x370888(0x1dc))?_0x370888(0x29d):_0x395854['endsWith'](_0x370888(0x25c))?'PDF':_0x395854[_0x370888(0x2fe)](_0x370888(0x206))?'JSON':_0x395854[_0x370888(0x2fe)](_0x370888(0x161))?_0x370888(0x215):_0x395854[_0x370888(0x2fe)]('.dwg')?_0x370888(0x196):_0x395854['split']('.')[_0x370888(0x1e5)]()[_0x370888(0x165)](),'color':_0x395854[_0x370888(0x2fe)]('.svg')||_0x395854[_0x370888(0x2fe)](_0x370888(0x1dc))?_0x370888(0x1cb):_0x395854[_0x370888(0x2fe)](_0x370888(0x25c))?_0x370888(0x2e0):_0x395854[_0x370888(0x2fe)](_0x370888(0x206))?_0x370888(0x2f2):_0x395854['endsWith'](_0x370888(0x161))?'green':_0x395854['endsWith'](_0x370888(0x268))?_0x370888(0x222):'purple'};});if(_0x157aaf['some'](_0x24a6c9=>_0x24a6c9['id'][_0x310493(0x295)]('.rl.json')))_0x293808=_0x310493(0x279);else{if(_0x157aaf[_0x310493(0x1d5)](_0x5a3e41=>[_0x310493(0x1f4),_0x310493(0x24d)]['includes'](_0x5a3e41['id'][_0x310493(0x24a)]('.')[_0x310493(0x1e5)]()))&&_0x157aaf[_0x310493(0x1d5)](_0x498ac0=>[_0x310493(0x2cf)]['includes'](_0x498ac0['id'][_0x310493(0x24a)]('.')[_0x310493(0x1e5)]())))_0x293808=_0x310493(0x2bc);else{if(_0x157aaf[_0x310493(0x1d5)](_0x466171=>[_0x310493(0x1f4),_0x310493(0x24d)]['includes'](_0x466171['id'][_0x310493(0x24a)]('.')[_0x310493(0x1e5)]())))_0x293808=_0x310493(0x22f);else{if(_0x157aaf[_0x310493(0x1d5)](_0xcf00d5=>[_0x310493(0x1a7)]['includes'](_0xcf00d5['id']['split']('.')['pop']()))&&_0x157aaf[_0x310493(0x1d5)](_0x6f3b3b=>[_0x310493(0x287)][_0x310493(0x295)](_0x6f3b3b['id']['split']('.')[_0x310493(0x1e5)]())))_0x293808=_0x310493(0x201);else{if(_0x157aaf['some'](_0x4afe45=>[_0x310493(0x2e2)][_0x310493(0x295)](_0x4afe45['id'][_0x310493(0x24a)]('.')[_0x310493(0x1e5)]())))_0x293808=_0x310493(0x182);else{if(_0x157aaf[_0x310493(0x1d5)](_0x1685c7=>['json'][_0x310493(0x295)](_0x1685c7['id'][_0x310493(0x24a)]('.')[_0x310493(0x1e5)]()))&&!_0x157aaf[_0x310493(0x1d5)](_0x219b56=>['dwg'][_0x310493(0x295)](_0x219b56['id'][_0x310493(0x24a)]('.')[_0x310493(0x1e5)]())))_0x293808=_0x310493(0x203);else _0x157aaf[_0x310493(0x1d5)](_0x2ff2e0=>[_0x310493(0x1a7)][_0x310493(0x295)](_0x2ff2e0['id'][_0x310493(0x24a)]('.')[_0x310493(0x1e5)]()))&&(_0x293808=_0x310493(0x155));}}}}}_0x44943e['push']({'name':_0xfababc,'goodFileName':_0x38bafc,'size':_0xbbb783,'createdAt':_0x2182b3[_0x310493(0x1d8)],'updatedAt':_0x2182b3[_0x310493(0x20c)],'readAt':_0x2182b3[_0x310493(0x2de)],'action':_0x293808,'availableFormats':_0x157aaf});}),_0x44943e['sort']((_0x22f537,_0xdc61d5)=>_0xdc61d5[_0x2fa280(0x29c)]-_0x22f537[_0x2fa280(0x29c)]);const _0x5f01ec={'timestamp':new Date(),'totalFiles':_0x44943e['length'],'files':_0x44943e},_0x33055e=path[_0x2fa280(0x1ff)](_0x52b8f4,_0x2fa280(0x1b2));fs[_0x2fa280(0x16c)](_0x33055e,JSON[_0x2fa280(0x170)](_0x5f01ec,null,0x2));}catch(_0x4734bf){console['log']('===================error==================='),console[_0x2fa280(0x1f0)](_0x2fa280(0x25a)+_0x4734bf[_0x2fa280(0x179)]);}},scheduleFileAnalysis=()=>{const _0x365fb2=a27_0x5616bb;analyzeConverterFiles(),schedule[_0x365fb2(0x19b)]('*\x20*\x20*\x20*\x20*',analyzeConverterFiles),logStream['write'](_0x365fb2(0x2f7));};scheduleFileAnalysis(),router[a27_0x5616bb(0x2f5)]('/users/extend-demo',async(_0x391f10,_0x13c21f)=>{const _0x53e523=a27_0x5616bb,{userId:_0xe77d39}=_0x391f10['body'];let _0x4634b5;try{const [_0x5076ee]=await conn[_0x53e523(0x16f)]()[_0x53e523(0x283)](_0x53e523(0x24e),[_0xe77d39]);_0x5076ee[_0x53e523(0x26d)]>0x0&&(_0x4634b5=_0x5076ee[0x0]);}catch(_0x31ea12){console[_0x53e523(0x1f0)]({'err':_0x31ea12}),_0x13c21f[_0x53e523(0x1b1)](0x1f4)[_0x53e523(0x1a7)]({'error':_0x53e523(0x1b7)});return;}if(!_0x4634b5){_0x13c21f['status'](0x191)['json']({'error':_0x53e523(0x2c0)});return;}if(_0x4634b5[_0x53e523(0x23a)]!==_0x53e523(0x2c7)){_0x13c21f[_0x53e523(0x1b1)](0x190)[_0x53e523(0x1a7)]({'error':_0x53e523(0x2ae)});return;}const _0x259b59=new Date();try{await conn['promise']()[_0x53e523(0x283)]('UPDATE\x20`users`\x20SET\x20`created_at`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x259b59,_0xe77d39]),_0x13c21f[_0x53e523(0x1b1)](0xc8)['json']({'success':!![],'message':_0x53e523(0x2da)+config[_0x53e523(0x1ed)]+_0x53e523(0x1fd)});}catch(_0x2127a8){console[_0x53e523(0x1f0)]({'err':_0x2127a8}),_0x13c21f[_0x53e523(0x1b1)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}),router[a27_0x5616bb(0x1b0)](a27_0x5616bb(0x260),async(_0x5c2b2c,_0x6edfbe)=>{const _0x40a9e1=a27_0x5616bb;try{const _0x18649b=getHotConfig(),_0x2aecf0={'maxFileSize':(_0x18649b['maxUploadFileSize']||0x32)*0x400*0x400,'maxConcurrentUploads':_0x18649b[_0x40a9e1(0x225)]||0x3,'maxFiles':_0x18649b[_0x40a9e1(0x184)]||0xa};_0x6edfbe[_0x40a9e1(0x1b1)](0xc8)['json'](_0x2aecf0);}catch(_0x5b6425){console[_0x40a9e1(0x2d9)](_0x40a9e1(0x20e),_0x5b6425),_0x6edfbe[_0x40a9e1(0x1b1)](0x1f4)[_0x40a9e1(0x1a7)]({'message':_0x40a9e1(0x2f8)});}}),module['exports']={'router':router,'analyzeConverterFiles':analyzeConverterFiles};