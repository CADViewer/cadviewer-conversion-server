const a26_0x46ab86=a26_0x2921;(function(_0x391d36,_0x48e74c){const _0x1c554e=a26_0x2921,_0x199818=_0x391d36();while(!![]){try{const _0x247b1a=-parseInt(_0x1c554e(0x198))/0x1+-parseInt(_0x1c554e(0x162))/0x2*(-parseInt(_0x1c554e(0x2e2))/0x3)+-parseInt(_0x1c554e(0x1af))/0x4*(parseInt(_0x1c554e(0x290))/0x5)+-parseInt(_0x1c554e(0x230))/0x6+parseInt(_0x1c554e(0x2a7))/0x7*(parseInt(_0x1c554e(0x2cb))/0x8)+parseInt(_0x1c554e(0x2e9))/0x9+parseInt(_0x1c554e(0x2c2))/0xa*(parseInt(_0x1c554e(0x2b1))/0xb);if(_0x247b1a===_0x48e74c)break;else _0x199818['push'](_0x199818['shift']());}catch(_0x4ead3c){_0x199818['push'](_0x199818['shift']());}}}(a26_0x279e,0x7ab4a));const express=require(a26_0x46ab86(0x1f2)),router=express['Router'](),multer=require(a26_0x46ab86(0x24a)),fs=require('fs'),path=require('path'),getHotConfig=require('../libs/config')[a26_0x46ab86(0x209)],{exec}=require(a26_0x46ab86(0x29e)),os=require('os'),conn=require(a26_0x46ab86(0x259)),bcrypt=require(a26_0x46ab86(0x1e0)),osu=require(a26_0x46ab86(0x190)),schedule=require('node-schedule'),counter=require(a26_0x46ab86(0x2f5)),{randomUUID}=require(a26_0x46ab86(0x1e1)),logStream=require(a26_0x46ab86(0x1a0)),config=require(a26_0x46ab86(0x19f)),basicAuth=require(a26_0x46ab86(0x228)),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a26_0x46ab86(0x227)),protectedRoute=basicAuth({'users':{[config[a26_0x46ab86(0x2d0)]]:config[a26_0x46ab86(0x2ee)]},'challenge':!![],'realm':'CADViewer\x20Settings'});router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x1cb),async(_0x586408,_0x307e1b)=>{const _0x576757=a26_0x46ab86;_0x307e1b[_0x576757(0x2e1)](path[_0x576757(0x24d)](path[_0x576757(0x214)](require[_0x576757(0x1aa)][_0x576757(0x255)]),_0x576757(0x206)));}),router[a26_0x46ab86(0x1c2)]('/chart.min.js',async(_0x37971d,_0x569110)=>{const _0x1b8c76=a26_0x46ab86;_0x569110[_0x1b8c76(0x2e1)](path['join'](path[_0x1b8c76(0x214)](require[_0x1b8c76(0x1aa)][_0x1b8c76(0x255)]),'cadviewer/settings/chart.min.js'));}),router[a26_0x46ab86(0x1c2)]('/style.css',async(_0x13602c,_0x5bb81b)=>{const _0x36ac2a=a26_0x46ab86;_0x5bb81b['sendFile'](path[_0x36ac2a(0x24d)](path[_0x36ac2a(0x214)](require['main'][_0x36ac2a(0x255)]),_0x36ac2a(0x28c)));}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x172),async(_0x2555eb,_0x39f075)=>{const _0x3e452f=a26_0x46ab86;_0x39f075[_0x3e452f(0x2e1)](path[_0x3e452f(0x24d)](path['dirname'](require[_0x3e452f(0x1aa)]['filename']),'cadviewer/settings/vanilla-toast.css'));}),router[a26_0x46ab86(0x1c2)]('/vanilla-toast.js',async(_0x1c9f77,_0x213424)=>{const _0x25771d=a26_0x46ab86;_0x213424[_0x25771d(0x2e1)](path[_0x25771d(0x24d)](path[_0x25771d(0x214)](require[_0x25771d(0x1aa)][_0x25771d(0x255)]),_0x25771d(0x28f)));}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x208),async(_0x35758c,_0x4c97f5)=>{const _0x295f64=a26_0x46ab86;_0x4c97f5[_0x295f64(0x2e1)](path['join'](path[_0x295f64(0x214)](require[_0x295f64(0x1aa)][_0x295f64(0x255)]),'cadviewer/settings/icons.js'));}),router['get']('/',protectedRoute,async(_0x3e0ed4,_0x54db70)=>{const _0x42de03=a26_0x46ab86,_0x56f4b3=fs[_0x42de03(0x231)](path[_0x42de03(0x24d)](path[_0x42de03(0x214)](require[_0x42de03(0x1aa)]['filename']),'cadviewer/settings/home.html'),_0x42de03(0x239)),_0x86a48=_0x56f4b3[_0x42de03(0x281)]('{version}',_0x3e0ed4['version']);_0x54db70[_0x42de03(0x1da)](_0x86a48);}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x2e3),protectedRoute,async(_0x244563,_0x7c32b2)=>{const _0x5d6266=a26_0x46ab86,_0x31225f=fs['readFileSync'](path[_0x5d6266(0x24d)](path[_0x5d6266(0x214)](require[_0x5d6266(0x1aa)]['filename']),'cadviewer/settings/licences.html'),'utf8'),_0x598169=_0x31225f[_0x5d6266(0x281)](_0x5d6266(0x2bb),_0x244563[_0x5d6266(0x27b)]);_0x7c32b2[_0x5d6266(0x1da)](_0x598169);}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x1c0),protectedRoute,async(_0x5ab11e,_0x4df7d7)=>{const _0x14eaea=a26_0x46ab86,_0x52b28a=fs[_0x14eaea(0x231)](path[_0x14eaea(0x24d)](path[_0x14eaea(0x214)](require[_0x14eaea(0x1aa)][_0x14eaea(0x255)]),_0x14eaea(0x2a6)),_0x14eaea(0x239)),_0x28b334=_0x52b28a['replaceAll']('{version}',_0x5ab11e[_0x14eaea(0x27b)]);_0x4df7d7[_0x14eaea(0x1da)](_0x28b334);}),router['get']('/folders',protectedRoute,async(_0x16154c,_0x1ffa9f)=>{const _0x2e14e9=a26_0x46ab86,_0x598ef0=fs['readFileSync'](path['join'](path[_0x2e14e9(0x214)](require['main'][_0x2e14e9(0x255)]),_0x2e14e9(0x229)),_0x2e14e9(0x239)),_0x3817d6=_0x598ef0[_0x2e14e9(0x281)](_0x2e14e9(0x2bb),_0x16154c['version']);_0x1ffa9f[_0x2e14e9(0x1da)](_0x3817d6);}),router['post'](a26_0x46ab86(0x195),async(_0x22bfe1,_0x54139c)=>{const _0x475d00=a26_0x46ab86,_0x1459d9=path[_0x475d00(0x24d)](path[_0x475d00(0x214)](require[_0x475d00(0x1aa)][_0x475d00(0x255)]),_0x475d00(0x288)),_0x1bdaab=JSON[_0x475d00(0x189)](fs[_0x475d00(0x231)](_0x1459d9,_0x475d00(0x239))),_0x2b878c=_0x1bdaab[_0x475d00(0x1e8)];if(!fs['existsSync'](_0x2b878c))return _0x54139c[_0x475d00(0x233)](0x194)[_0x475d00(0x254)]({'message':_0x475d00(0x27a)});const _0x5573d2=_0x4e899f=>{const _0x4933ca=_0x475d00;let _0x174706=0x0;return _0x4e899f[_0x4933ca(0x2f1)](_0x2abbf2=>{const _0xe46f4c=_0x4933ca;_0x2abbf2[_0xe46f4c(0x1ef)]?_0x174706+=_0x5573d2(_0x2abbf2[_0xe46f4c(0x23d)]):_0x174706+=_0x2abbf2[_0xe46f4c(0x1dc)];}),_0x174706;},_0x5cc516=_0x482c77=>{const _0x1d0e98=_0x475d00;if(_0x482c77<0x400)return _0x482c77+'\x20B';else{if(_0x482c77<0x400*0x400)return(_0x482c77/0x400)[_0x1d0e98(0x186)](0x2)+_0x1d0e98(0x179);else return _0x482c77<0x400*0x400*0x400?(_0x482c77/0x400/0x400)['toFixed'](0x2)+_0x1d0e98(0x219):(_0x482c77/0x400/0x400/0x400)['toFixed'](0x2)+'\x20GB';}},_0x17cc02=(_0x4f53d3,_0x21422='')=>{const _0x179707=_0x475d00,_0x171daa=fs[_0x179707(0x1ec)](_0x4f53d3),_0x226a09=[];return _0x171daa[_0x179707(0x2f1)](_0x56fcbf=>{const _0xbc7d64=_0x179707,_0x35874a=path['join'](_0x4f53d3,_0x56fcbf)['replaceAll']('\x5c','/'),_0x34331c=fs['statSync'](_0x35874a);if(_0x34331c['isDirectory']()){const _0x188a31=_0x17cc02(_0x35874a,_0x21422+'\x20\x20\x20');_0x226a09['push']({'name':_0x56fcbf,'size':_0x34331c[_0xbc7d64(0x1dc)],'path':_0x35874a,'permissions':_0x34331c[_0xbc7d64(0x170)],'isFolder':!![],'sub_dirs':_0x188a31});}else _0x226a09['push']({'name':_0x56fcbf,'size':_0x34331c[_0xbc7d64(0x1dc)],'path':_0x35874a,'permissions':_0x34331c[_0xbc7d64(0x170)],'isFolder':![]});}),_0x226a09;};let _0x2126fb=_0x17cc02(_0x2b878c);const _0x4bcaae=_0x44da6e=>{return _0x44da6e['forEach'](_0x82ca03=>{const _0x467667=a26_0x2921;_0x82ca03[_0x467667(0x1ef)]?(_0x82ca03[_0x467667(0x232)]=_0x5cc516(_0x5573d2(_0x82ca03[_0x467667(0x23d)])),_0x82ca03['sub_dirs']=_0x4bcaae(_0x82ca03[_0x467667(0x23d)])):_0x82ca03[_0x467667(0x232)]=_0x5cc516(_0x82ca03[_0x467667(0x1dc)]);}),_0x44da6e;};_0x54139c[_0x475d00(0x233)](0xc8)[_0x475d00(0x254)](_0x4bcaae(_0x2126fb));}),router['post'](a26_0x46ab86(0x263),async(_0x235293,_0x3ca349)=>{const _0x44778a=a26_0x46ab86,{path:_0x19c1de}=_0x235293['body'],_0x48bba9=_0x19c1de[_0x44778a(0x2f3)]('/')[_0x44778a(0x1ed)]();if(!fs[_0x44778a(0x17e)](_0x19c1de))return _0x3ca349['status'](0x194)[_0x44778a(0x254)]({'message':_0x44778a(0x199)});_0x3ca349['setHeader'](_0x44778a(0x1e9),_0x44778a(0x1f6)),_0x3ca349[_0x44778a(0x2c5)](_0x44778a(0x19d),_0x44778a(0x2db)+_0x48bba9+'\x22'),_0x3ca349[_0x44778a(0x2f0)](_0x19c1de,_0x343141=>{const _0x3928c6=_0x44778a;_0x343141&&_0x3ca349[_0x3928c6(0x233)](0x1f4)[_0x3928c6(0x254)]({'message':'Error\x20downloading\x20file.'});});}),router['post'](a26_0x46ab86(0x23c),async(_0x483867,_0x4caaef)=>{const _0x3f5ac7=a26_0x46ab86,_0x4923e6=_0x483867[_0x3f5ac7(0x164)],_0xba04ae=getHotConfig()[_0x3f5ac7(0x1e8)],_0x607cbc=path[_0x3f5ac7(0x24d)](_0xba04ae,_0x4923e6[_0x3f5ac7(0x19c)]);if(!fs[_0x3f5ac7(0x17e)](_0x607cbc))return _0x4caaef[_0x3f5ac7(0x233)](0x194)[_0x3f5ac7(0x254)]({'message':_0x3f5ac7(0x22b)});if(fs[_0x3f5ac7(0x17e)](path[_0x3f5ac7(0x24d)](_0x607cbc,_0x4923e6['folderName'])))return _0x4caaef[_0x3f5ac7(0x233)](0x199)[_0x3f5ac7(0x254)]({'message':_0x3f5ac7(0x1c7)});fs[_0x3f5ac7(0x2cd)](path[_0x3f5ac7(0x24d)](_0x607cbc,_0x4923e6[_0x3f5ac7(0x2ec)]),_0x2ebc06=>{const _0x191dc2=_0x3f5ac7;_0x2ebc06&&_0x4caaef[_0x191dc2(0x233)](0x1f4)[_0x191dc2(0x254)]({'message':_0x191dc2(0x1de)}),_0x4caaef['status'](0xc8)[_0x191dc2(0x254)]({'message':'Folder\x20created.'});});}),router['put']('/folders/update',async(_0x129afe,_0x3f841f)=>{const _0x12d337=a26_0x46ab86,{newName:_0x259374,isFolder:_0x19aaef,path:_0x4cc7c8}=_0x129afe['body'];if(!fs['existsSync'](_0x4cc7c8))return _0x3f841f[_0x12d337(0x233)](0x194)[_0x12d337(0x254)]({'message':_0x19aaef?_0x12d337(0x250):_0x12d337(0x199)});const _0x353ebe=_0x4cc7c8[_0x12d337(0x1a2)](_0x4cc7c8[_0x12d337(0x2f3)]('/')['pop'](),_0x259374),_0x4361a0=fs[_0x12d337(0x20e)](_0x4cc7c8);_0x4361a0[_0x12d337(0x2af)]()?fs[_0x12d337(0x173)](_0x4cc7c8,_0x353ebe):(fs['copyFileSync'](_0x4cc7c8,_0x353ebe),fs[_0x12d337(0x1c1)](_0x4cc7c8)),_0x3f841f[_0x12d337(0x233)](0xc8)[_0x12d337(0x254)]({'message':_0x19aaef?_0x12d337(0x2b0):_0x12d337(0x2b8)});}),router[a26_0x46ab86(0x2b6)](a26_0x46ab86(0x1b5),async(_0x586ebb,_0x1ba36c)=>{const _0x3e98e2=a26_0x46ab86,{path:_0x4824d1}=_0x586ebb[_0x3e98e2(0x164)];if(!fs[_0x3e98e2(0x17e)](_0x4824d1))return _0x1ba36c[_0x3e98e2(0x233)](0x194)['json']({'message':_0x3e98e2(0x1db)});const _0x5a3272=fs[_0x3e98e2(0x20e)](_0x4824d1);if(_0x5a3272['isFile']())fs[_0x3e98e2(0x1d2)](_0x4824d1,_0x33e4bf=>{const _0x34d9af=_0x3e98e2;_0x33e4bf&&_0x1ba36c[_0x34d9af(0x233)](0x1f4)[_0x34d9af(0x254)]({'message':'Error\x20deleting\x20file.'}),_0x1ba36c[_0x34d9af(0x233)](0xc8)['json']({'message':_0x34d9af(0x1fe)});});else _0x5a3272[_0x3e98e2(0x2af)]()&&fs[_0x3e98e2(0x1cc)](_0x4824d1,{'recursive':!![]},_0x2a1ae7=>{const _0x2a678c=_0x3e98e2;_0x2a1ae7&&_0x1ba36c[_0x2a678c(0x233)](0x1f4)[_0x2a678c(0x254)]({'message':_0x2a678c(0x279)}),_0x1ba36c[_0x2a678c(0x233)](0xc8)[_0x2a678c(0x254)]({'message':_0x2a678c(0x2e8)});});});!fs[a26_0x46ab86(0x17e)]('./tmp')&&fs[a26_0x46ab86(0x20f)](a26_0x46ab86(0x18f));const storage=multer[a26_0x46ab86(0x2b5)]({'destination':(_0x445e37,_0x4fcc86,_0x148ecf)=>{const _0x4d756a=a26_0x46ab86;_0x148ecf(null,_0x4d756a(0x28e));},'filename':(_0x44997a,_0x1cc2f3,_0x1830e4)=>{const _0x3dfc05=a26_0x46ab86;_0x1830e4(null,Date[_0x3dfc05(0x2f7)]()+path[_0x3dfc05(0x249)](_0x1cc2f3['originalname']));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x46ab86(0x1b1)](a26_0x46ab86(0x2a5),upload[a26_0x46ab86(0x25f)](a26_0x46ab86(0x291)),async(_0x54421c,_0x172813)=>{const _0x256952=a26_0x46ab86,_0x3e965e=_0x54421c[_0x256952(0x164)];if(!_0x54421c[_0x256952(0x291)]||_0x54421c[_0x256952(0x291)]['length']===0x0)return _0x172813[_0x256952(0x233)](0x190)[_0x256952(0x254)]({'message':'No\x20files\x20uploaded'});const _0x577886=getHotConfig()['folderLocation'],_0x5b8f2d=path[_0x256952(0x24d)](_0x577886,_0x3e965e[_0x256952(0x19c)]);if(!fs[_0x256952(0x17e)](_0x5b8f2d))return _0x172813[_0x256952(0x233)](0x194)[_0x256952(0x254)]({'message':_0x256952(0x22b)});const _0x201f44=_0x54421c[_0x256952(0x291)][_0x256952(0x271)](_0x39b157=>({'originalname':_0x39b157[_0x256952(0x220)],'filename':_0x39b157[_0x256952(0x255)],'mimetype':_0x39b157['mimetype'],'size':_0x39b157[_0x256952(0x1dc)]}));_0x201f44[_0x256952(0x2f1)](_0x553340=>{const _0x27aab1=_0x256952;fs[_0x27aab1(0x276)](path[_0x27aab1(0x24d)](_0x27aab1(0x28e),_0x553340[_0x27aab1(0x255)]),path[_0x27aab1(0x24d)](_0x5b8f2d,_0x553340[_0x27aab1(0x220)])),fs[_0x27aab1(0x1c1)](path[_0x27aab1(0x24d)](_0x27aab1(0x28e),_0x553340[_0x27aab1(0x255)]));}),_0x172813[_0x256952(0x233)](0xc8)[_0x256952(0x254)]({'message':_0x256952(0x2de),'files':_0x201f44});}),router['put'](a26_0x46ab86(0x26d),async(_0x3921fc,_0x13b3e9)=>{const _0x13a053=a26_0x46ab86,_0x49c087=path['join'](path['dirname'](require['main'][_0x13a053(0x255)]),_0x13a053(0x288)),{config:_0x9df07b}=_0x3921fc[_0x13a053(0x164)];if(!_0x9df07b)return _0x13b3e9[_0x13a053(0x233)](0x190)['json']({'message':'No\x20config\x20object\x20provided'});try{fs[_0x13a053(0x264)](_0x49c087,JSON[_0x13a053(0x27e)](_0x9df07b,null,0x4)),_0x13b3e9[_0x13a053(0x233)](0xc8)[_0x13a053(0x254)]({'message':_0x13a053(0x22c)});}catch(_0xf2b6e4){_0x13b3e9[_0x13a053(0x233)](0x1f4)[_0x13a053(0x254)]({'message':_0x13a053(0x284)});}}),router[a26_0x46ab86(0x202)](a26_0x46ab86(0x2a2),async(_0x2ef449,_0x2939a7)=>{const _0x464a8=a26_0x46ab86,{key:_0x55f488,value:_0x965b79}=_0x2ef449[_0x464a8(0x164)],_0x26b56a=path['join'](path[_0x464a8(0x214)](require[_0x464a8(0x1aa)][_0x464a8(0x255)]),'CADViewer_config.json');fs[_0x464a8(0x2fe)](_0x26b56a,_0x464a8(0x239),function(_0x3ca09d,_0x4d95e3){const _0xcc2dd7=_0x464a8;_0x3ca09d&&_0x2939a7['status'](0x1f4)['send'](_0x3ca09d);const _0x13c0e0=JSON[_0xcc2dd7(0x189)](_0x4d95e3);_0x13c0e0[_0x55f488]=_0x965b79;if(_0x55f488==='autodetect_location'){let _0x5e99c5='';if(_0x13c0e0[_0xcc2dd7(0x2f9)]){_0x5e99c5=os['platform']();if(_0x5e99c5===_0xcc2dd7(0x1b3))_0x5e99c5=_0xcc2dd7(0x193);else{if(_0x5e99c5===_0xcc2dd7(0x2a0))_0x5e99c5=_0xcc2dd7(0x1ea);}}else _0x5e99c5=_0x13c0e0[_0xcc2dd7(0x1ee)];if(_0x5e99c5===_0xcc2dd7(0x193)){_0x13c0e0[_0xcc2dd7(0x1b7)]=path[_0xcc2dd7(0x18b)](__dirname,'..')+'/';const _0x35fc63=/\\/g;_0x13c0e0[_0xcc2dd7(0x1b7)]=_0x13c0e0[_0xcc2dd7(0x1b7)][_0xcc2dd7(0x1a2)](_0x35fc63,'/');}else _0x13c0e0[_0xcc2dd7(0x1b7)]=path['resolve'](__dirname,'..')+'/';}if(_0x55f488===_0xcc2dd7(0x2f9)){let _0x24600a=os['platform']();if(_0x24600a==='win32')_0x24600a=_0xcc2dd7(0x193);else _0x24600a='linux';_0x24600a==='windows'?_0x965b79===!![]&&(_0x13c0e0[_0xcc2dd7(0x2c7)]=_0x13c0e0[_0xcc2dd7(0x2cc)],_0x13c0e0[_0xcc2dd7(0x2d8)]=_0x13c0e0['dwgmerge_executable_windows'],_0x13c0e0[_0xcc2dd7(0x262)]=_0x13c0e0[_0xcc2dd7(0x2d5)]):_0x965b79===!![]&&(_0x13c0e0[_0xcc2dd7(0x2c7)]=_0x13c0e0['autoxchange_executable_linux'],_0x13c0e0[_0xcc2dd7(0x2d8)]=_0x13c0e0['dwgmerge_executable_linux'],_0x13c0e0[_0xcc2dd7(0x262)]=_0x13c0e0[_0xcc2dd7(0x188)]),_0x13c0e0[_0xcc2dd7(0x1ee)]=_0x24600a;}if(_0x13c0e0[_0xcc2dd7(0x2f9)]){let _0x48bdba=os[_0xcc2dd7(0x1ee)]();if(_0x48bdba===_0xcc2dd7(0x1b3))_0x48bdba=_0xcc2dd7(0x193);else _0x48bdba=_0xcc2dd7(0x1ea);if(_0x48bdba==='windows'){if(_0x55f488===_0xcc2dd7(0x2cc))_0x13c0e0['autoxchange_executable']=_0x965b79;else{if(_0x55f488===_0xcc2dd7(0x167))_0x13c0e0[_0xcc2dd7(0x2d8)]=_0x965b79;else _0x55f488===_0xcc2dd7(0x2d5)&&(_0x13c0e0[_0xcc2dd7(0x262)]=_0x965b79);}}else{if(_0x55f488===_0xcc2dd7(0x1f4))_0x13c0e0[_0xcc2dd7(0x2c7)]=_0x965b79;else{if(_0x55f488===_0xcc2dd7(0x2da))_0x13c0e0[_0xcc2dd7(0x2d8)]=_0x965b79;else _0x55f488===_0xcc2dd7(0x188)&&(_0x13c0e0['linklist_executable']=_0x965b79);}}}fs[_0xcc2dd7(0x1d0)](_0x26b56a,JSON[_0xcc2dd7(0x27e)](_0x13c0e0,null,0x4),function(_0x27a701){const _0x2660ff=_0xcc2dd7;_0x27a701&&_0x2939a7['status'](0x1f4)[_0x2660ff(0x1da)](_0x27a701),_0x2939a7[_0x2660ff(0x233)](0xc8)['json']({'message':_0x2660ff(0x2ce)});});});}),router['post'](a26_0x46ab86(0x1b6),async(_0x2189b4,_0x202a30)=>{const _0x3d558a=a26_0x46ab86,_0x23af4f=getHotConfig(),_0x38c8d0=(_0x23af4f['dwgmergeLocation']['includes'](_0x23af4f[_0x3d558a(0x1b7)])?'':_0x23af4f['ServerLocation'])+_0x23af4f[_0x3d558a(0x1fa)],_0x40cea0=(_0x23af4f[_0x3d558a(0x1fa)][_0x3d558a(0x246)](_0x23af4f[_0x3d558a(0x1b7)])?'':_0x23af4f[_0x3d558a(0x1b7)])+_0x23af4f[_0x3d558a(0x2fc)],_0x3c45d5=(_0x23af4f[_0x3d558a(0x1f5)][_0x3d558a(0x246)](_0x23af4f[_0x3d558a(0x1b7)])?'':_0x23af4f[_0x3d558a(0x1b7)])+_0x23af4f['converterLocation'],_0x39aec3=/ax202.*\.exe/,_0x248194=/ax202.*/,_0x56ace7=/dwgmerge202.*\.exe/,_0x1f40eb=/dwgmerge_202.*/,_0x97a8a=/linklist_202.*\.exe/,_0x12d882=/linklist_202.*/,_0x5138e6=[],_0x4fe2cf=[],_0x527fdb=[],_0x5afab2=[],_0x33358e=[],_0x32edd6=[];let _0x422066='';if(_0x23af4f[_0x3d558a(0x2f9)]){_0x422066=os[_0x3d558a(0x1ee)]();if(_0x422066===_0x3d558a(0x1b3))_0x422066='windows';else{if(_0x422066===_0x3d558a(0x2a0))_0x422066='linux';}}else _0x422066=_0x23af4f[_0x3d558a(0x1ee)];fs[_0x3d558a(0x1ec)](_0x3c45d5[_0x3d558a(0x281)](_0x3d558a(0x1ea),_0x3d558a(0x193)))[_0x3d558a(0x2f1)](_0x1c5646=>{const _0x403af3=_0x3d558a;if(_0x39aec3[_0x403af3(0x1e5)](_0x1c5646[_0x403af3(0x1c9)]()))_0x5138e6[_0x403af3(0x1f1)](_0x1c5646);}),fs[_0x3d558a(0x1ec)](_0x38c8d0[_0x3d558a(0x281)]('linux',_0x3d558a(0x193)))[_0x3d558a(0x2f1)](_0x59a439=>{const _0x12deb8=_0x3d558a;if(_0x56ace7['test'](_0x59a439[_0x12deb8(0x1c9)]()))_0x4fe2cf[_0x12deb8(0x1f1)](_0x59a439);}),fs[_0x3d558a(0x1ec)](_0x40cea0['replaceAll'](_0x3d558a(0x1ea),'windows'))['forEach'](_0x34c464=>{const _0xf4669=_0x3d558a;if(_0x97a8a[_0xf4669(0x1e5)](_0x34c464[_0xf4669(0x1c9)]()))_0x527fdb[_0xf4669(0x1f1)](_0x34c464);}),fs[_0x3d558a(0x1ec)](_0x3c45d5[_0x3d558a(0x281)](_0x3d558a(0x193),_0x3d558a(0x1ea)))[_0x3d558a(0x2f1)](_0x5d04f6=>{const _0x55468d=_0x3d558a;if(_0x248194[_0x55468d(0x1e5)](_0x5d04f6[_0x55468d(0x1c9)]()))_0x5afab2[_0x55468d(0x1f1)](_0x5d04f6);}),fs['readdirSync'](_0x38c8d0[_0x3d558a(0x281)](_0x3d558a(0x193),_0x3d558a(0x1ea)))[_0x3d558a(0x2f1)](_0x2bc719=>{const _0x630066=_0x3d558a;if(_0x1f40eb[_0x630066(0x1e5)](_0x2bc719[_0x630066(0x1c9)]()))_0x33358e[_0x630066(0x1f1)](_0x2bc719);}),fs['readdirSync'](_0x40cea0[_0x3d558a(0x281)]('windows',_0x3d558a(0x1ea)))[_0x3d558a(0x2f1)](_0x16e89e=>{const _0x14cbf3=_0x3d558a;if(_0x12d882['test'](_0x16e89e[_0x14cbf3(0x1c9)]()))_0x32edd6['push'](_0x16e89e);});const _0x49ea90=[_0x3d558a(0x192),_0x3d558a(0x18d),_0x3d558a(0x2b4),_0x3d558a(0x2a9),_0x3d558a(0x1ba)],_0x14f515=[_0x3d558a(0x197),'fileLocationUrl',_0x3d558a(0x1f5),_0x3d558a(0x21e),'xpathLocation',_0x3d558a(0x1dd),_0x3d558a(0x2ab),'dwgmergeLocation',_0x3d558a(0x2fc),_0x3d558a(0x27b)],_0x116e55=[_0x3d558a(0x303),_0x3d558a(0x1e4),_0x3d558a(0x237),_0x3d558a(0x256),'mysqlDatabase',_0x3d558a(0x1df),_0x3d558a(0x26f)],_0x8cbe00={'ServerUrl':_0x3d558a(0x22e),'autoxchange_executable':_0x3d558a(0x2d7),'linklist_executable':_0x3d558a(0x2c6),'dwgmerge_executable':_0x3d558a(0x2c0),'setup_mysqlHost':_0x3d558a(0x296),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':_0x3d558a(0x17d),'smtpHost':_0x3d558a(0x2d9)},_0x5d9e4e={'https':_0x3d558a(0x20d),'ServerFrontEndUrlAsAllowedOriginOnly':_0x3d558a(0x20d),'autodetect_platform':_0x3d558a(0x20d),'cvjs_svgz_compress':'boolean','cached_conversion':_0x3d558a(0x20d),'remainOnServer':_0x3d558a(0x20d),'cvjs_debug':_0x3d558a(0x20d),'autodetect_location':_0x3d558a(0x20d),'platform':_0x3d558a(0x182),'autoxchange_executable':_0x3d558a(0x2e4)+(_0x422066===_0x3d558a(0x193)?_0x5138e6['join'](','):_0x5afab2['join'](',')),'autoxchange_executable_windows':'radio|'+_0x5138e6['join'](','),'autoxchange_executable_linux':_0x3d558a(0x2e4)+_0x5afab2[_0x3d558a(0x24d)](','),'dwgmerge_executable':_0x3d558a(0x2e4)+(_0x422066===_0x3d558a(0x193)?_0x4fe2cf[_0x3d558a(0x24d)](','):_0x33358e[_0x3d558a(0x24d)](',')),'dwgmerge_executable_windows':_0x3d558a(0x2e4)+_0x4fe2cf[_0x3d558a(0x24d)](','),'dwgmerge_executable_linux':_0x3d558a(0x2e4)+_0x33358e[_0x3d558a(0x24d)](','),'linklist_executable':_0x3d558a(0x2e4)+(_0x422066===_0x3d558a(0x193)?_0x527fdb[_0x3d558a(0x24d)](','):_0x32edd6[_0x3d558a(0x24d)](',')),'linklist_executable_windows':'radio|'+_0x527fdb[_0x3d558a(0x24d)](','),'linklist_executable_linux':_0x3d558a(0x2e4)+_0x32edd6[_0x3d558a(0x24d)](','),'callbackMethod_gatewayUrl_flag':_0x3d558a(0x20d),'setup_mysqlHost':_0x3d558a(0x20d),'ContentSecurityPolicyReportOnly':_0x3d558a(0x20d),'fileLoad_PasswordAuthentication':_0x3d558a(0x20d),'contentLocationCheck':_0x3d558a(0x20d),'globalBearerAutentication':_0x3d558a(0x20d),'bcryptSaltRounds':_0x3d558a(0x180),'userFolderMaximumFiles':_0x3d558a(0x180),'userFolderMaximumSizeInMB':_0x3d558a(0x180)},_0x4226e3={},_0x2af4d6=Object[_0x3d558a(0x1c4)](_0x23af4f);_0x23af4f[_0x3d558a(0x2f9)]&&_0x49ea90[_0x3d558a(0x1f1)](_0x3d558a(0x1ee)),_0x23af4f[_0x3d558a(0x17c)]&&(_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x1b7)),_0x14f515['push']('autoxchange_executable'),_0x14f515[_0x3d558a(0x1f1)]('dwgmerge_executable'),_0x14f515['push'](_0x3d558a(0x262))),!_0x23af4f[_0x3d558a(0x1c6)]&&_0x14f515['push'](_0x3d558a(0x184)),!_0x23af4f['setup_mysqlHost']&&(_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x1e4)),_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x237)),_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x256)),_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x2ad))),!_0x23af4f[_0x3d558a(0x1ff)]&&_0x14f515[_0x3d558a(0x1f1)]('ContentSecurityPolicy'),!_0x23af4f[_0x3d558a(0x183)]&&(_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x257)),_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x2c9))),!_0x23af4f['globalBearerAutentication']&&_0x14f515[_0x3d558a(0x1f1)](_0x3d558a(0x175)),_0x2af4d6[_0x3d558a(0x2f1)](_0x1d6102=>{const _0x3c275e=_0x3d558a;!_0x49ea90[_0x3c275e(0x246)](_0x1d6102)&&(_0x4226e3[_0x1d6102]=_0x23af4f[_0x1d6102]);}),_0x4226e3[_0x3d558a(0x1c3)]=''+_0x23af4f['ServerUrl']+_0x23af4f['fileLocation'],_0x202a30[_0x3d558a(0x233)](0xc8)[_0x3d558a(0x254)]({'notEditableFields':_0x14f515,'customFieldTypes':_0x5d9e4e,'notHotEditableFields':_0x116e55,'config':_0x4226e3,'fieldsTitle':_0x8cbe00,'configData':_0x23af4f});}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x160),protectedRoute,async(_0x279225,_0x333b97)=>{const _0x40576c=a26_0x46ab86,_0x2723c8=fs[_0x40576c(0x231)](path[_0x40576c(0x24d)](path[_0x40576c(0x214)](require['main'][_0x40576c(0x255)]),_0x40576c(0x194)),_0x40576c(0x239)),_0x28ff67=_0x2723c8['replaceAll'](_0x40576c(0x2bb),_0x279225[_0x40576c(0x27b)]);_0x333b97[_0x40576c(0x1da)](_0x28ff67);});function findMatchingLogFiles(_0x435522,_0x2fed58=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x319326=a26_0x46ab86;try{const _0x48f82e=fs[_0x319326(0x1ec)](_0x435522);return _0x48f82e[_0x319326(0x18a)](_0x11e3e2=>_0x2fed58[_0x319326(0x1e5)](_0x11e3e2))[_0x319326(0x271)](_0x201a21=>_0x201a21[_0x319326(0x281)](_0x319326(0x212),'')[_0x319326(0x281)]('.log',''));}catch(_0x433257){return console[_0x319326(0x252)]('Error\x20finding\x20log\x20files:',_0x433257),[];}}router[a26_0x46ab86(0x1b1)](a26_0x46ab86(0x2c8),async(_0x70a325,_0x23ef0a)=>{const _0x3efad8=a26_0x46ab86,_0x1d406a=new Date(),_0xb4eaef=_0x1d406a[_0x3efad8(0x26b)]()['toString']()['padStart'](0x2,'0')+'_'+(_0x1d406a[_0x3efad8(0x277)]()+0x1)['toString']()[_0x3efad8(0x2d3)](0x2,'0')+'_'+_0x1d406a[_0x3efad8(0x289)](),{displayDay:_0x5329f0}=_0x70a325[_0x3efad8(0x164)],_0x16fb11=path[_0x3efad8(0x24d)](path[_0x3efad8(0x214)](require[_0x3efad8(0x1aa)]['filename']),_0x3efad8(0x251),_0x3efad8(0x212)+(_0x5329f0??_0xb4eaef)+'.log');fs[_0x3efad8(0x17e)](_0x16fb11)?fs[_0x3efad8(0x2fe)](_0x16fb11,'utf8',function(_0x32dcd8,_0x5f3b02){const _0x5dfa93=_0x3efad8;_0x32dcd8&&_0x23ef0a[_0x5dfa93(0x233)](0x1f4)[_0x5dfa93(0x1da)](_0x32dcd8),_0x23ef0a['status'](0xc8)['json']({'content':_0x5f3b02,'days':findMatchingLogFiles(path['join'](path[_0x5dfa93(0x214)](require[_0x5dfa93(0x1aa)][_0x5dfa93(0x255)]),'logs'))});}):_0x23ef0a[_0x3efad8(0x233)](0xc8)[_0x3efad8(0x254)]({'content':'','days':findMatchingLogFiles(path[_0x3efad8(0x24d)](path[_0x3efad8(0x214)](require[_0x3efad8(0x1aa)][_0x3efad8(0x255)]),'logs'))});}),router[a26_0x46ab86(0x2b6)](a26_0x46ab86(0x18c),async(_0x190b3d,_0x52e966)=>{const _0x12e343=a26_0x46ab86,_0x3b4331=new Date(),_0x55a5b3=_0x3b4331['getDate']()[_0x12e343(0x270)]()[_0x12e343(0x2d3)](0x2,'0')+'_'+(_0x3b4331[_0x12e343(0x277)]()+0x1)[_0x12e343(0x270)]()[_0x12e343(0x2d3)](0x2,'0')+'_'+_0x3b4331[_0x12e343(0x289)](),_0x811742=findMatchingLogFiles(path['join'](path[_0x12e343(0x214)](require[_0x12e343(0x1aa)]['filename']),_0x12e343(0x251)));_0x811742['forEach'](_0x21f121=>{const _0x2eaffa=_0x12e343;if(_0x21f121!==_0x55a5b3)fs[_0x2eaffa(0x1c1)](path[_0x2eaffa(0x24d)](path[_0x2eaffa(0x214)](require['main'][_0x2eaffa(0x255)]),_0x2eaffa(0x251),_0x2eaffa(0x212)+_0x21f121+_0x2eaffa(0x240)));}),logStream[_0x12e343(0x21a)](),_0x52e966[_0x12e343(0x233)](0xc8)['json']({'message':_0x12e343(0x2c1)});}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x1a6),protectedRoute,async(_0x69d4cb,_0x31f339)=>{const _0x3e5d2c=a26_0x46ab86,_0x1cfda1=path['join'](path['dirname'](require[_0x3e5d2c(0x1aa)][_0x3e5d2c(0x255)]),'cadviewer/settings/rest-api-parameters.json');if(!fs[_0x3e5d2c(0x17e)](_0x1cfda1)){const _0x16363f={'jsonDataExtraction':{'standard':[{'paramName':_0x3e5d2c(0x254),'paramValue':''},{'paramName':_0x3e5d2c(0x169),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x3e5d2c(0x27f),'paramValue':''},{'paramName':_0x3e5d2c(0x1ae),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':'pdf'},{'paramName':_0x3e5d2c(0x27f),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x3e5d2c(0x268)},{'paramName':_0x3e5d2c(0x27f),'paramValue':''},{'paramName':_0x3e5d2c(0x1ae),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x3e5d2c(0x1b9),'paramValue':''}]}};fs['writeFileSync'](_0x1cfda1,JSON['stringify'](_0x16363f,null,0x4));}const _0x2e84f2=fs[_0x3e5d2c(0x231)](path['join'](path[_0x3e5d2c(0x214)](require[_0x3e5d2c(0x1aa)][_0x3e5d2c(0x255)]),_0x3e5d2c(0x181)),'utf8'),_0x1a4d31=_0x2e84f2[_0x3e5d2c(0x281)](_0x3e5d2c(0x2bb),_0x69d4cb[_0x3e5d2c(0x27b)]);_0x31f339['send'](_0x1a4d31);}),router['post'](a26_0x46ab86(0x187),async(_0x3d4aa5,_0x1c25d5)=>{const _0xc01fea=a26_0x46ab86,{actionName:_0x278a98,contentLocation:_0x352500}=_0x3d4aa5[_0xc01fea(0x164)],_0x256cf5=path[_0xc01fea(0x24d)](path['dirname'](require[_0xc01fea(0x1aa)]['filename']),_0xc01fea(0x1bf));fs[_0xc01fea(0x2fe)](_0x256cf5,'utf8',function(_0x4bdc09,_0x3fdb4b){const _0x4d1066=_0xc01fea;if(_0x4bdc09)_0x1c25d5[_0x4d1066(0x233)](0xc8)[_0x4d1066(0x254)]({'parameters':[]});else{const _0x4a3ca7=JSON[_0x4d1066(0x189)](_0x3fdb4b);if(_0x4a3ca7[_0x278a98]&&_0x4a3ca7[_0x278a98][_0x352500])_0x1c25d5[_0x4d1066(0x233)](0xc8)[_0x4d1066(0x254)]({'parameters':_0x4a3ca7[_0x278a98][_0x352500]});else _0x4a3ca7[_0x278a98]&&_0x4a3ca7[_0x278a98][_0x4d1066(0x203)]?_0x1c25d5['status'](0xc8)[_0x4d1066(0x254)]({'parameters':_0x4a3ca7[_0x278a98]['standard']}):_0x1c25d5['status'](0xc8)['json']({'parameters':[]});}});}),router[a26_0x46ab86(0x1b1)](a26_0x46ab86(0x22a),async(_0x385536,_0x21678e)=>{const _0x3b375e=a26_0x46ab86,{actionName:_0x1cc8e0,contentLocation:_0x139521,parameters:_0x2649db}=_0x385536['body'],_0x1b24e9=path[_0x3b375e(0x24d)](path['dirname'](require[_0x3b375e(0x1aa)]['filename']),_0x3b375e(0x1bf));fs[_0x3b375e(0x2fe)](_0x1b24e9,_0x3b375e(0x239),function(_0x1fc113,_0xc92c82){const _0xc951ef=_0x3b375e;if(_0x1fc113)_0x21678e[_0xc951ef(0x233)](0x199)[_0xc951ef(0x254)]({'message':_0xc951ef(0x2bf)});else{const _0x401e82=JSON[_0xc951ef(0x189)](_0xc92c82);!_0x401e82[_0x1cc8e0]&&(_0x401e82[_0x1cc8e0]={}),_0x401e82[_0x1cc8e0][_0x139521]=_0x2649db,fs[_0xc951ef(0x1d0)](_0x1b24e9,JSON[_0xc951ef(0x27e)](_0x401e82,null,0x4),function(_0x526bd5){const _0x1ceced=_0xc951ef;_0x526bd5&&_0x21678e[_0x1ceced(0x233)](0x199)[_0x1ceced(0x254)]({'message':_0x1ceced(0x2bf)}),_0x21678e[_0x1ceced(0x233)](0xc8)['json']({'message':_0x1ceced(0x1f9)});});}});}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x278),protectedRoute,async(_0x230e5c,_0x18f6e4)=>{const _0x158b2b=a26_0x46ab86,_0x35c8f1=fs['readFileSync'](path[_0x158b2b(0x24d)](path[_0x158b2b(0x214)](require[_0x158b2b(0x1aa)][_0x158b2b(0x255)]),_0x158b2b(0x1bd)),_0x158b2b(0x239)),_0x16a70e=_0x35c8f1[_0x158b2b(0x281)](_0x158b2b(0x2bb),_0x230e5c[_0x158b2b(0x27b)]);_0x18f6e4[_0x158b2b(0x1da)](_0x16a70e);}),router[a26_0x46ab86(0x1b1)](a26_0x46ab86(0x2be),async(_0x491759,_0x877eb5)=>{const _0x1a07f1=a26_0x46ab86,_0x172008=getHotConfig(),_0x453871=_0x172008['converterLocation'][_0x1a07f1(0x281)]('//','/'),_0x4e748d=_0x172008[_0x1a07f1(0x1fa)][_0x1a07f1(0x281)]('//','/'),_0x4eefa3=_0x172008[_0x1a07f1(0x2fc)]['replaceAll']('//','/'),_0x199f80=''+_0x453871+_0x172008['autoxchange_executable'],_0x3bcd7f=''+_0x4e748d+_0x172008['dwgmerge_executable'],_0x252803=''+_0x4eefa3+_0x172008['linklist_executable'],_0x3ee142=[],_0x1cc0a9=new Promise(_0x5d6bc6=>{const _0x7468ac=_0x1a07f1;exec(os[_0x7468ac(0x1ee)]()==='win32'?'dir':'ls',_0x15491a=>{const _0x44308d=_0x7468ac;_0x15491a?_0x3ee142[_0x44308d(0x1f1)]({'title':_0x44308d(0x28b),'status':![],'priority':0x1}):_0x3ee142[_0x44308d(0x1f1)]({'title':_0x44308d(0x28b),'status':!![],'priority':0x1}),_0x5d6bc6();});}),_0x45b6c7=new Promise(_0x225882=>{const _0x436277=_0x1a07f1;fs[_0x436277(0x16b)](_0x199f80,fs['constants'][_0x436277(0x2a1)],_0x122563=>{const _0x494522=_0x436277;_0x122563?_0x3ee142[_0x494522(0x1f1)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x172008['autoxchange_executable']+_0x494522(0x213),'status':![],'priority':0x2}):_0x3ee142[_0x494522(0x1f1)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x172008[_0x494522(0x2c7)]+'\x22\x20executable','status':!![],'priority':0x2}),_0x225882();});}),_0x3e71e0=new Promise(_0x28473f=>{fs['access'](_0x3bcd7f,fs['constants']['X_OK'],_0x2dafcc=>{const _0x192ee6=a26_0x2921;_0x2dafcc?_0x3ee142[_0x192ee6(0x1f1)]({'title':_0x192ee6(0x26e)+_0x172008[_0x192ee6(0x2d8)]+_0x192ee6(0x213),'status':![],'priority':0x3}):_0x3ee142[_0x192ee6(0x1f1)]({'title':_0x192ee6(0x26e)+_0x172008[_0x192ee6(0x2d8)]+'\x22\x20executable','status':!![],'priority':0x3}),_0x28473f();});}),_0x31bd84=new Promise(_0x43ace=>{const _0x32636d=_0x1a07f1;fs[_0x32636d(0x16b)](_0x252803,fs[_0x32636d(0x25e)][_0x32636d(0x2a1)],_0x2faced=>{const _0x467fc9=_0x32636d;_0x2faced?_0x3ee142['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x172008[_0x467fc9(0x262)]+_0x467fc9(0x213),'status':![],'priority':0x4}):_0x3ee142[_0x467fc9(0x1f1)]({'title':_0x467fc9(0x26e)+_0x172008['linklist_executable']+_0x467fc9(0x213),'status':!![],'priority':0x4}),_0x43ace();});}),_0x2a88fc=new Promise(_0x355ef7=>{const _0x701aa6=_0x1a07f1,_0x420be7=new Date(),_0x18922a=_0x420be7[_0x701aa6(0x26b)]()['toString']()[_0x701aa6(0x2d3)](0x2,'0')+'_'+(_0x420be7[_0x701aa6(0x277)]()+0x1)[_0x701aa6(0x270)]()[_0x701aa6(0x2d3)](0x2,'0')+'_'+_0x420be7['getFullYear'](),{displayDay:_0x38eaa1}=_0x491759[_0x701aa6(0x164)];fs[_0x701aa6(0x16b)](path[_0x701aa6(0x24d)](path[_0x701aa6(0x214)](require['main'][_0x701aa6(0x255)]),_0x701aa6(0x251),_0x701aa6(0x212)+(_0x38eaa1??_0x18922a)+_0x701aa6(0x240)),fs[_0x701aa6(0x25e)][_0x701aa6(0x1d8)],_0x2d6d39=>{const _0x2e054c=_0x701aa6;_0x2d6d39?_0x3ee142[_0x2e054c(0x1f1)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x38eaa1??_0x18922a)+'.log\x22','status':![],'priority':0x5}):_0x3ee142[_0x2e054c(0x1f1)]({'title':_0x2e054c(0x25b)+(_0x38eaa1??_0x18922a)+'.log\x22','status':!![],'priority':0x5}),_0x355ef7();});}),_0xfc089d=(_0x300cbe,_0x2725c8)=>{const _0xf0491=_0x1a07f1,_0x198f48=path[_0xf0491(0x24d)](path[_0xf0491(0x214)](require['main'][_0xf0491(0x255)]),_0x300cbe);return new Promise(_0x49616e=>{const _0xaab83c=_0xf0491;fs[_0xaab83c(0x16b)](path[_0xaab83c(0x24d)](path[_0xaab83c(0x214)](_0x198f48)),fs[_0xaab83c(0x25e)][_0xaab83c(0x2a4)]|fs[_0xaab83c(0x25e)][_0xaab83c(0x1d8)],_0x107d6c=>{const _0x54a206=_0xaab83c;_0x107d6c?_0x3ee142[_0x54a206(0x1f1)]({'title':_0x54a206(0x2c4)+_0x300cbe,'status':![],'priority':_0x2725c8+0x6}):_0x3ee142['push']({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0x300cbe,'status':!![],'priority':_0x2725c8+0x6}),_0x49616e();});});},_0x25769b=['/converters/files/',_0x1a07f1(0x1e7),'/converters/files/merged/','/converters/files/print/','/converters/files/pdf/',_0x1a07f1(0x19a),_0x1a07f1(0x19e)],_0x278230=_0x25769b[_0x1a07f1(0x271)](_0xfc089d);Promise[_0x1a07f1(0x2dc)]([_0x1cc0a9,_0x45b6c7,_0x3e71e0,_0x31bd84,_0x2a88fc,..._0x278230])[_0x1a07f1(0x2f8)](()=>{const _0x22effe=_0x1a07f1;_0x877eb5[_0x22effe(0x233)](0xc8)[_0x22effe(0x254)]({'checking_list':_0x3ee142});})[_0x1a07f1(0x2b7)](()=>{const _0x107932=_0x1a07f1;_0x877eb5[_0x107932(0x233)](0x1f4)[_0x107932(0x254)]({'error':_0x107932(0x24f)});});}),router[a26_0x46ab86(0x1c2)]('/users',protectedRoute,async(_0x2828ae,_0x3fe4a5)=>{const _0x58a78a=a26_0x46ab86,_0x2625b9=fs['readFileSync'](path[_0x58a78a(0x24d)](path[_0x58a78a(0x214)](require['main'][_0x58a78a(0x255)]),_0x58a78a(0x235)),'utf8'),_0x13a45b=_0x2625b9[_0x58a78a(0x281)]('{version}',_0x2828ae[_0x58a78a(0x27b)]);_0x3fe4a5[_0x58a78a(0x1da)](_0x13a45b);}),router['post'](a26_0x46ab86(0x16d),async(_0x1bbd0f,_0x187fdb)=>{const _0x131d92=a26_0x46ab86;let _0x40af56;try{const [_0x586d0c]=await conn['promise']()[_0x131d92(0x234)](_0x131d92(0x2ed),[]);_0x40af56=_0x586d0c;}catch(_0x4a39b4){console[_0x131d92(0x174)](_0x4a39b4),_0x187fdb[_0x131d92(0x233)](0x1f4)['json']({'error':_0x131d92(0x2b2)});return;}_0x187fdb[_0x131d92(0x233)](0xc8)['json']({'success':!![],'data':_0x40af56});}),router[a26_0x46ab86(0x1b1)]('/users',upload[a26_0x46ab86(0x1ac)](a26_0x46ab86(0x1a5)),async(_0x249206,_0x1a340b)=>{const _0x3c1364=a26_0x46ab86,{id:_0x11c81c,first_name:_0xc972e8,last_name:_0x724465,username:_0x1bc732,email:_0x4b89c4,password:_0x464680,is_enabled:_0x9378e5}=_0x249206[_0x3c1364(0x164)],_0x5ecb8a=_0x249206[_0x3c1364(0x164)][_0x3c1364(0x25d)]===_0x3c1364(0x25a)?_0x3c1364(0x25a):_0x249206[_0x3c1364(0x164)][_0x3c1364(0x25d)]===_0x3c1364(0x166)?_0x3c1364(0x166):_0x3c1364(0x2f4);let _0x560c7d;console[_0x3c1364(0x174)](_0x3c1364(0x21b));_0x464680&&(_0x560c7d=await bcrypt[_0x3c1364(0x20b)](_0x464680,0xa));let _0x4d4559=null;if(_0x249206[_0x3c1364(0x1b2)]){const _0x211632=_0x3c1364(0x2d2)+randomUUID()+'.png';fs[_0x3c1364(0x276)](_0x249206[_0x3c1364(0x1b2)][_0x3c1364(0x19c)],'./'+_0x211632),fs['unlinkSync'](_0x249206['file'][_0x3c1364(0x19c)]),config[_0x3c1364(0x1c6)]?_0x4d4559=config[_0x3c1364(0x184)]+'/'+_0x211632:_0x4d4559=config['ServerUrl']+'/'+_0x211632;}if(_0x11c81c){try{let [_0x3f09ac]=await conn[_0x3c1364(0x2a8)]()['execute'](_0x3c1364(0x2aa),[_0x4b89c4,_0x1bc732,_0x11c81c]);if(_0x3f09ac[_0x3c1364(0x2d4)]>0x0)_0x1a340b['status'](0x199)[_0x3c1364(0x254)]({'error':_0x3c1364(0x245)});else{!_0x249206[_0x3c1364(0x1b2)]&&([_0x3f09ac]=await conn[_0x3c1364(0x2a8)]()[_0x3c1364(0x234)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x11c81c]),_0x4d4559=_0x3f09ac[0x0][_0x3c1364(0x215)]);const _0x13b428=_0x3c1364(0x17a)+(_0x464680?_0x3c1364(0x238):'')+_0x3c1364(0x1f0);await conn[_0x3c1364(0x2a8)]()['execute'](_0x13b428,_0x464680?[_0x4d4559,_0xc972e8,_0x724465,_0x1bc732,_0x4b89c4,_0x560c7d,_0x9378e5,_0x5ecb8a,_0x11c81c]:[_0x4d4559,_0xc972e8,_0x724465,_0x1bc732,_0x4b89c4,_0x9378e5,_0x5ecb8a,_0x11c81c]);}}catch(_0x23b94e){console['log'](_0x23b94e),_0x1a340b[_0x3c1364(0x233)](0x1f4)[_0x3c1364(0x254)]({'error':_0x3c1364(0x2b2)});return;}_0x1a340b[_0x3c1364(0x233)](0xc8)[_0x3c1364(0x254)]({'success':!![],'message':_0x3c1364(0x1ab)});}else{try{const [_0x43a584]=await conn['promise']()[_0x3c1364(0x234)](_0x3c1364(0x165),[_0x4b89c4,_0x1bc732]);if(_0x43a584['length']>0x0)_0x1a340b[_0x3c1364(0x233)](0x199)[_0x3c1364(0x254)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{const _0x3f444e=randomUUID();await conn[_0x3c1364(0x2a8)]()[_0x3c1364(0x234)](_0x3c1364(0x1b4),[_0x4d4559,_0xc972e8,_0x724465,_0x1bc732,_0x4b89c4,_0x560c7d,_0x5ecb8a,_0x9378e5,_0x3f444e]);const _0x2c7d6e=_0x3c1364(0x24b)+_0x3f444e;fs['mkdirSync'](_0x2c7d6e);}}catch(_0x2079c0){console[_0x3c1364(0x174)](_0x2079c0),_0x1a340b[_0x3c1364(0x233)](0x1f4)[_0x3c1364(0x254)]({'error':_0x3c1364(0x2b2)});return;}_0x1a340b[_0x3c1364(0x233)](0xc8)[_0x3c1364(0x254)]({'success':!![],'message':_0x3c1364(0x302)});}}),router[a26_0x46ab86(0x2b6)](a26_0x46ab86(0x1bb),async(_0x10f2e6,_0x1de43f)=>{const _0x188915=a26_0x46ab86,{userId:_0x189d1d}=_0x10f2e6[_0x188915(0x164)];let _0x3c7ff5;try{const [_0x5e34bd]=await conn[_0x188915(0x2a8)]()[_0x188915(0x234)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x189d1d]);_0x5e34bd[_0x188915(0x2d4)]>0x0&&(_0x3c7ff5=_0x5e34bd[0x0]);}catch(_0x29fa41){console['log']({'err':_0x29fa41}),_0x1de43f[_0x188915(0x233)](0x1f4)[_0x188915(0x254)]({'error':_0x188915(0x2b2)});return;}if(!_0x3c7ff5){_0x1de43f[_0x188915(0x233)](0x191)[_0x188915(0x254)]({'error':_0x188915(0x24e)});return;}let _0x5c913d=_0x3c7ff5[_0x188915(0x1a4)];if(!_0x5c913d){_0x5c913d=randomUUID();try{await conn['promise']()[_0x188915(0x234)](_0x188915(0x1d1),[_0x5c913d,_0x189d1d]);}catch(_0x206bb3){console[_0x188915(0x174)]({'err':_0x206bb3}),_0x1de43f[_0x188915(0x233)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x106cd6=_0x188915(0x24b)+_0x5c913d;console[_0x188915(0x174)]('===================='),console[_0x188915(0x174)](_0x106cd6),!fs[_0x188915(0x17e)](_0x106cd6)&&fs['mkdirSync'](_0x106cd6),fs['rmSync'](_0x106cd6,{'recursive':!![],'force':!![]}),fs[_0x188915(0x20f)](_0x106cd6),_0x1de43f[_0x188915(0x233)](0xc8)['json']({'success':!![],'message':_0x188915(0x211)});}),router[a26_0x46ab86(0x2b6)](a26_0x46ab86(0x260),async(_0x2f7641,_0x45ae9d)=>{const _0x17973d=a26_0x46ab86,_0x36e851=_0x2f7641[_0x17973d(0x2d6)][_0x17973d(0x265)];try{let _0x148aea;try{const [_0x4c796f]=await conn['promise']()[_0x17973d(0x234)](_0x17973d(0x1fb),[_0x36e851]);_0x4c796f[_0x17973d(0x2d4)]>0x0&&(_0x148aea=_0x4c796f[0x0]);}catch(_0xba4e61){console[_0x17973d(0x174)]({'err':_0xba4e61}),_0x45ae9d['status'](0x1f4)[_0x17973d(0x254)]({'error':_0x17973d(0x2b2)});return;}if(!_0x148aea){_0x45ae9d[_0x17973d(0x233)](0x191)['json']({'error':_0x17973d(0x24e)});return;}let _0x1dca44=_0x148aea[_0x17973d(0x1a4)];if(_0x1dca44){const _0xdb7b10=_0x17973d(0x24b)+_0x1dca44;fs[_0x17973d(0x17e)](_0xdb7b10)&&fs[_0x17973d(0x242)](_0xdb7b10,{'recursive':!![],'force':!![]});}await conn['promise']()[_0x17973d(0x234)](_0x17973d(0x261),[_0x36e851]);}catch(_0x3d94a1){console[_0x17973d(0x174)](_0x3d94a1),_0x45ae9d[_0x17973d(0x233)](0x1f4)[_0x17973d(0x254)]({'error':_0x17973d(0x2b2)});return;}_0x45ae9d[_0x17973d(0x233)](0xc8)[_0x17973d(0x254)]({'success':!![],'message':_0x17973d(0x29c)});}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x19b),async(_0x14283b,_0x2f0e22)=>{const _0x2e8a91=a26_0x46ab86,_0x3f429b=osu[_0x2e8a91(0x1e2)],_0x3bca0b=osu[_0x2e8a91(0x22d)],_0x515586=osu[_0x2e8a91(0x2cf)],_0x85a589=osu['os'],_0x19dd18={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x10485c=os[_0x2e8a91(0x1ee)]()===_0x2e8a91(0x1b3)?'c:':'/';const _0x1bf9e1=await _0x515586['info'](_0x10485c);_0x19dd18['percentage']=_0x1bf9e1[_0x2e8a91(0x17f)],_0x19dd18[_0x2e8a91(0x2ba)]=_0x1bf9e1['usedGb'],_0x19dd18[_0x2e8a91(0x223)]=_0x1bf9e1[_0x2e8a91(0x223)],_0x19dd18[_0x2e8a91(0x21f)]=_0x1bf9e1[_0x2e8a91(0x275)];}catch(_0x3dbb40){console[_0x2e8a91(0x174)](_0x2e8a91(0x1d7),_0x3dbb40);}const _0x4a3092={'usage':0x0,'count':0x0};try{_0x4a3092[_0x2e8a91(0x266)]=await _0x3f429b[_0x2e8a91(0x266)](),_0x4a3092[_0x2e8a91(0x2e6)]=_0x3f429b[_0x2e8a91(0x2e6)]();}catch(_0x5db43c){console[_0x2e8a91(0x174)](_0x2e8a91(0x1a7),_0x5db43c);}const _0x47f448={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x47f448['os']=await _0x85a589[_0x2e8a91(0x224)](),_0x47f448[_0x2e8a91(0x1ee)]=_0x85a589[_0x2e8a91(0x1ee)](),_0x47f448['ip']=_0x85a589['ip'](),_0x47f448['uptime']=_0x85a589[_0x2e8a91(0x26a)](),_0x47f448[_0x2e8a91(0x1e3)]=_0x85a589['hostname'](),_0x47f448['type']=_0x85a589[_0x2e8a91(0x23f)](),_0x47f448[_0x2e8a91(0x293)]=_0x85a589['arch'](),_0x47f448[_0x2e8a91(0x29b)]=await osu['osCmd'][_0x2e8a91(0x29b)](),_0x47f448[_0x2e8a91(0x1d6)]=await osu['osCmd'][_0x2e8a91(0x1d6)](),_0x47f448[_0x2e8a91(0x2fa)]=await osu[_0x2e8a91(0x272)][_0x2e8a91(0x2fa)]();}catch(_0x308773){console[_0x2e8a91(0x174)](_0x2e8a91(0x2df),_0x308773);}const _0x254e15={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x254e15[_0x2e8a91(0x287)]=await osu[_0x2e8a91(0x1c8)]['totalProcesses'](),_0x254e15['zombieProcesses']=await osu[_0x2e8a91(0x1c8)]['zombieProcesses']();}catch(_0x1f4540){console['log'](_0x2e8a91(0x161),_0x1f4540);}let _0x5e53f3={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x422ec4=await _0x3bca0b['info']();_0x5e53f3[_0x2e8a91(0x21c)]=_0x422ec4['usedMemPercentage'],_0x5e53f3[_0x2e8a91(0x2bc)]=_0x422ec4[_0x2e8a91(0x16c)]/0x400/0x400,_0x5e53f3[_0x2e8a91(0x299)]=_0x422ec4['total']/0x400/0x400;}catch(_0x565b9a){console[_0x2e8a91(0x174)](_0x2e8a91(0x168),_0x565b9a);}let _0x2988c5=0x0;try{_0x2988c5=await conn['promise']()['query']('SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users')[_0x2e8a91(0x2f8)](([_0x142cf0])=>_0x142cf0[0x0]['total']);}catch(_0x735c8c){console[_0x2e8a91(0x174)]('Error\x20getting\x20total\x20users',_0x735c8c);}const _0x3c262e=getMonitoringData(),_0x17f93f=_0x3c262e['filter'](_0x31e77b=>_0x31e77b[_0x2e8a91(0x27d)]!==null&&_0x31e77b['conversionTimeSpend']!==undefined),_0x4152c2=_0x3c262e[_0x2e8a91(0x18a)](_0x3be712=>_0x3be712['conversionMemoryUsage']!==null&&_0x3be712[_0x2e8a91(0x21d)]!==undefined)['map'](_0x3af6c2=>parseFloat(_0x3af6c2[_0x2e8a91(0x21d)][_0x2e8a91(0x281)]('Kb')['trim']())),_0x45a707=_0x17f93f['reduce']((_0x58cbb3,_0xc20475)=>_0x58cbb3+parseFloat(_0xc20475[_0x2e8a91(0x27d)]),0x0)/_0x17f93f['length'],_0x247685=_0x4152c2['reduce']((_0x2935c9,_0x27cd0d)=>_0x2935c9+_0x27cd0d,0x0)/_0x4152c2[_0x2e8a91(0x2d4)];_0x2f0e22[_0x2e8a91(0x254)]({'requestsPerSecond':counter['getStats'](),'diskUsage':_0x19dd18,'cpus':_0x4a3092,'system':_0x47f448,'process':_0x254e15,'totalMonitoringData':_0x3c262e[_0x2e8a91(0x2d4)],'memory':_0x5e53f3,'totalUsers':_0x2988c5,'avgConvertionTime':_0x45a707,'avgMemoryUsage':_0x247685});}),router[a26_0x46ab86(0x1b1)]('/metrics/reset',(_0x58c589,_0x2fec6f)=>{const _0xe74367=a26_0x46ab86;counter[_0xe74367(0x2ae)](),_0x2fec6f[_0xe74367(0x254)]({'message':_0xe74367(0x2ca)});});const getMonitoringData=()=>{const _0x273350=a26_0x46ab86,_0x4483e3=_0x273350(0x222);let _0x49a41a=[];try{_0x49a41a=JSON[_0x273350(0x189)](fs[_0x273350(0x231)](_0x4483e3));}catch(_0x355e50){console['log'](_0x273350(0x2f6));}return _0x49a41a;};function a26_0x2921(_0xb9b591,_0x1eb185){const _0x279e3d=a26_0x279e();return a26_0x2921=function(_0x292166,_0x13f592){_0x292166=_0x292166-0x160;let _0x5ccf8e=_0x279e3d[_0x292166];return _0x5ccf8e;},a26_0x2921(_0xb9b591,_0x1eb185);}router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x16e),async(_0x6574ab,_0x3fd656)=>{const _0x20b1a1=a26_0x46ab86,{page:page=0x1,limit:limit=0xa}=_0x6574ab[_0x20b1a1(0x1fd)],_0x112cbf=(page-0x1)*limit;try{const _0x2b5782=getMonitoringData(),_0x217307=_0x2b5782[_0x20b1a1(0x2d4)],_0x233fb1=Math[_0x20b1a1(0x25c)](_0x217307/limit),_0x21cc3d=_0x2b5782[_0x20b1a1(0x1ca)](_0x112cbf,_0x112cbf+limit);_0x3fd656[_0x20b1a1(0x233)](0xc8)[_0x20b1a1(0x254)]({'data':_0x21cc3d,'page':parseInt(''+page),'totalPages':_0x233fb1,'total':_0x217307});}catch(_0x2c7023){console['log'](_0x2c7023),_0x3fd656['status'](0x1f4)[_0x20b1a1(0x254)]({'error':_0x20b1a1(0x2b2)});}}),router[a26_0x46ab86(0x2b6)](a26_0x46ab86(0x2bd),async(_0x31d97c,_0xe9ecd5)=>{const _0x1ba3e8=a26_0x46ab86,_0x225749=_0x1ba3e8(0x222);try{fs['writeFileSync'](_0x225749,JSON['stringify']([],null,0x4)),analyzeConverterFiles(),_0xe9ecd5['status'](0xc8)[_0x1ba3e8(0x254)]({'message':_0x1ba3e8(0x2b9)});}catch(_0x1e0e8c){console[_0x1ba3e8(0x174)](_0x1e0e8c),_0xe9ecd5['status'](0x1f4)[_0x1ba3e8(0x254)]({'error':_0x1ba3e8(0x2b2)});}}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x23e),async(_0x4d0032,_0x2ba6d9)=>{const _0x37acd8=a26_0x46ab86,_0x4793c4=getHotConfig()[_0x37acd8(0x1f5)]['replaceAll']('//','/'),{page:page=0x1,limit:limit=0xa}=_0x4d0032['query'],_0x1233b8=(page-0x1)*limit;try{const _0x5e1ded=_0x4793c4+_0x37acd8(0x1d9);console[_0x37acd8(0x174)](_0x5e1ded);const _0x399dcf=fs[_0x37acd8(0x231)](_0x5e1ded,_0x37acd8(0x239)),_0x35126d=_0x399dcf[_0x37acd8(0x2f3)]('\x0a'),_0xe728a0=[];_0x35126d['forEach'](_0x541982=>{const _0x47dc04=_0x37acd8,_0x22cfac=_0x541982[_0x47dc04(0x2f3)](',');if(_0x22cfac[_0x47dc04(0x2d4)]<0x4)return;const _0x52e37c=_0x22cfac[0x0],_0x29f9ee=_0x22cfac[0x1],_0x3a0e97=parseFloat(_0x22cfac[0x2]);_0xe728a0[_0x47dc04(0x1f1)]({'file':_0x52e37c[_0x47dc04(0x281)]('\x22',''),'action':_0x29f9ee,'timeSpend':_0x3a0e97,'memoryUsage':_0x22cfac[0x3]});});const _0x446e47=_0xe728a0[_0x37acd8(0x2d4)],_0x4e3137=Math['ceil'](_0x446e47/limit),_0x19fcf4=_0xe728a0[_0x37acd8(0x1ca)](_0x1233b8,_0x1233b8+limit);_0x2ba6d9[_0x37acd8(0x233)](0xc8)[_0x37acd8(0x254)]({'data':_0x19fcf4,'page':parseInt(''+page),'totalPages':_0x4e3137,'total':_0x446e47});}catch(_0x4f3d8f){console['log'](_0x4f3d8f),_0x2ba6d9[_0x37acd8(0x233)](0x1f4)['json']({'error':_0x37acd8(0x2b2)});}}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x1bc),async(_0x50d417,_0x2f7dd8)=>{const _0x25774b=a26_0x46ab86,_0x2d4b47=path[_0x25774b(0x24d)](path['dirname'](require[_0x25774b(0x1aa)][_0x25774b(0x255)]),_0x25774b(0x253),_0x25774b(0x291));try{let _0x209d9f=0x0,_0x55f92e=0x0;function _0x5685eb(_0x539e38){const _0x55adf7=_0x25774b;let _0x4f4413=0x0,_0x3c8755=0x0;if(fs['existsSync'](_0x539e38)){const _0x587870=fs[_0x55adf7(0x1ec)](_0x539e38);_0x3c8755=0x0;for(const _0x3df60f of _0x587870){const _0x41f803=path[_0x55adf7(0x24d)](_0x539e38,_0x3df60f),_0x3ac6a1=fs['statSync'](_0x41f803);if(_0x3ac6a1[_0x55adf7(0x1d3)]()&&_0x3df60f!==_0x55adf7(0x292))_0x3c8755++,_0x4f4413+=_0x3ac6a1['size'];else{if(_0x3ac6a1[_0x55adf7(0x2af)]()){}}}}return{'size':_0x4f4413,'count':_0x3c8755};}const _0x456986=_0x5685eb(_0x2d4b47);_0x209d9f=_0x456986['size'],_0x55f92e=_0x456986[_0x25774b(0x2e6)],_0x2f7dd8[_0x25774b(0x254)]({'fileCount':_0x55f92e,'totalSize':_0x209d9f});}catch(_0x254026){console[_0x25774b(0x252)](_0x25774b(0x205),_0x254026),_0x2f7dd8['status'](0x1f4)[_0x25774b(0x254)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x46ab86(0x2b6)]('/cache/flush',async(_0x3b3e5b,_0x5ec1da)=>{const _0x25ab38=a26_0x46ab86,_0x1058ba=path[_0x25ab38(0x24d)](path[_0x25ab38(0x214)](require[_0x25ab38(0x1aa)][_0x25ab38(0x255)]),_0x25ab38(0x253),_0x25ab38(0x291));try{function _0x4526e9(_0x363483){const _0x4f821a=_0x25ab38;if(fs[_0x4f821a(0x17e)](_0x363483)){const _0x67454c=fs[_0x4f821a(0x1ec)](_0x363483);for(const _0x332b4e of _0x67454c){const _0x30269d=path[_0x4f821a(0x24d)](_0x363483,_0x332b4e),_0x33003c=fs[_0x4f821a(0x20e)](_0x30269d);if(_0x33003c[_0x4f821a(0x2af)]()){}else _0x332b4e!==_0x4f821a(0x292)&&fs['unlinkSync'](_0x30269d);}}}_0x4526e9(_0x1058ba),analyzeConverterFiles(),_0x5ec1da[_0x25ab38(0x254)]({'message':_0x25ab38(0x2e7)});}catch(_0x43966a){console['error'](_0x25ab38(0x218),_0x43966a),_0x5ec1da[_0x25ab38(0x233)](0x1f4)['json']({'error':_0x25ab38(0x196)});}}),router['get']('/cache-stats.js',async(_0x328599,_0x445c3c)=>{const _0x137c63=a26_0x46ab86;_0x445c3c[_0x137c63(0x2e1)](path[_0x137c63(0x24d)](path[_0x137c63(0x214)](require[_0x137c63(0x1aa)][_0x137c63(0x255)]),_0x137c63(0x1ce)));}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x26c),protectedRoute,async(_0x24f397,_0x5a578c)=>{const _0x403922=a26_0x46ab86,_0x27ebc7=fs[_0x403922(0x231)](path[_0x403922(0x24d)](path[_0x403922(0x214)](require[_0x403922(0x1aa)][_0x403922(0x255)]),_0x403922(0x221)),_0x403922(0x239)),_0x2197c3=_0x27ebc7[_0x403922(0x281)](_0x403922(0x2bb),_0x24f397['version']);_0x5a578c[_0x403922(0x1da)](_0x2197c3);}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x16a),async(_0x18811b,_0xb5afc)=>{const _0x1c5a05=a26_0x46ab86,{page:page=0x1,limit:limit=0x10}=_0x18811b['query'],_0x1af690=JSON['parse'](fs[_0x1c5a05(0x231)](path[_0x1c5a05(0x24d)](path[_0x1c5a05(0x214)](require[_0x1c5a05(0x1aa)]['filename']),_0x1c5a05(0x241)))),_0x439997=(page-0x1)*limit,_0x466a01=page*limit,_0x564c8a=_0x1af690[_0x1c5a05(0x291)][_0x1c5a05(0x2d4)],_0xe82dfd=Math[_0x1c5a05(0x25c)](_0x564c8a/limit),_0x20405a=_0x1af690[_0x1c5a05(0x291)][_0x1c5a05(0x1ca)](_0x439997,_0x466a01);_0xb5afc['json']({'files':_0x20405a,'pagination':{'total':_0x564c8a,'totalPages':_0xe82dfd,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x46ab86(0x1c2)]('/cache/csv/:file',async(_0x536a75,_0x4a8339)=>{const _0x13abc5=a26_0x46ab86,{file:_0x2db8eb}=_0x536a75[_0x13abc5(0x2d6)],_0x3793b4=path[_0x13abc5(0x24d)](path[_0x13abc5(0x214)](require[_0x13abc5(0x1aa)][_0x13abc5(0x255)]),_0x13abc5(0x253),'files'),_0x57a0da=path['join'](_0x3793b4,_0x2db8eb),_0x171387=fs[_0x13abc5(0x231)](_0x57a0da,_0x13abc5(0x239)),_0x1b1bd9=_0x171387[_0x13abc5(0x2f3)]('\x0a'),_0x318b98=_0x1b1bd9[_0x13abc5(0x271)](_0x37d6ed=>{const _0x50656d=_0x13abc5,_0x3ae3c5=_0x37d6ed[_0x50656d(0x2f3)](',');return _0x3ae3c5[_0x50656d(0x271)](_0x47c7a3=>_0x47c7a3[_0x50656d(0x281)]('\x22',''));});_0x4a8339['json'](_0x318b98);}),router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x2e5),async(_0x14a25f,_0x53f3cc)=>{const _0x103626=a26_0x46ab86,{id:_0x4c1e60}=_0x14a25f[_0x103626(0x2d6)],_0x3e4dad=path['join'](path[_0x103626(0x214)](require['main'][_0x103626(0x255)]),_0x103626(0x253),'files'),_0x4ca253=path[_0x103626(0x24d)](_0x3e4dad,_0x4c1e60);if(_0x4ca253['endsWith']('.svgz')){var _0x1e6efd=require('zlib');const _0x1702ac=fs[_0x103626(0x231)](_0x4ca253),_0x47b90b=_0x1e6efd[_0x103626(0x1b0)](_0x1702ac);_0x53f3cc[_0x103626(0x2c5)]('Content-Type',_0x103626(0x1d4)),_0x53f3cc[_0x103626(0x1da)](_0x47b90b);}else _0x53f3cc[_0x103626(0x2e1)](_0x4ca253);}),router['delete'](a26_0x46ab86(0x2e5),async(_0x22d440,_0x2954cd)=>{const _0x45f880=a26_0x46ab86,{id:_0x20bb07}=_0x22d440[_0x45f880(0x2d6)],_0x26c761=path[_0x45f880(0x24d)](path['dirname'](require[_0x45f880(0x1aa)][_0x45f880(0x255)]),_0x45f880(0x253),_0x45f880(0x291)),_0x144acf=JSON['parse'](fs['readFileSync'](path[_0x45f880(0x24d)](path[_0x45f880(0x214)](require['main'][_0x45f880(0x255)]),'cadviewer/settings/converter-files-analysis.json'))),_0x5eed8d=_0x144acf[_0x45f880(0x291)][_0x45f880(0x300)](_0x16a7c2=>_0x16a7c2[_0x45f880(0x17b)]===_0x20bb07);if(_0x5eed8d){try{fs[_0x45f880(0x17e)](path[_0x45f880(0x24d)](_0x26c761,_0x5eed8d[_0x45f880(0x17b)]))&&fs[_0x45f880(0x1c1)](path['join'](_0x26c761,_0x5eed8d[_0x45f880(0x17b)]));}catch(_0x5aea43){console[_0x45f880(0x174)]('Error\x20deleting\x20file',{'e':_0x5aea43});}(_0x5eed8d[_0x45f880(0x286)]??[])[_0x45f880(0x2f1)](_0x1e8793=>{const _0x3b8e1e=_0x45f880;try{fs[_0x3b8e1e(0x17e)](path[_0x3b8e1e(0x24d)](_0x26c761,_0x1e8793['id']))&&fs[_0x3b8e1e(0x1c1)](path['join'](_0x26c761,_0x1e8793['id']));}catch(_0x521da4){console[_0x3b8e1e(0x174)]('Error\x20deleting\x20file',{'e':_0x521da4});}});}analyzeConverterFiles(),_0x2954cd[_0x45f880(0x254)]({'message':_0x45f880(0x1e6)});});function a26_0x279e(){const _0x23728d=['/cache/files','access','used','/users/list','/conversion/list','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','mode','\x20users\x20to\x20','/vanilla-toast.css','renameSync','log','globalBearerAutenticationToken','\x20n\x27existe\x20pas.','.csv','demoUserRetentionDays','\x20KB','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','name','autodetect_location','Demo\x20and\x20Base\x20User\x20Settings','existsSync','usedPercentage','number','cadviewer/settings/rest-api.html','radio|windows,linux','fileLoad_PasswordAuthentication','callbackMethod_gatewayUrl','sort','toFixed','/restapi-test/parameters/search','linklist_executable_linux','parse','filter','resolve','/logs/clean','https','Error\x20getting\x20Users\x20export\x20export\x20history:','./tmp','node-os-utils','Error\x20exporting\x20users\x20for\x20Google\x20Ads:','ServerPort','windows','cadviewer/settings/logs.html','/folders','Failed\x20to\x20flush\x20cache','fileLocation','770572nlWbQd','File\x20not\x20found','/content/redlines/','/metrics','path','Content-Disposition','/content/redlines/v7/','../CADViewer_config.json','../libs/log','RL/TL\x20Processing','replace','updatedAt','folder_name','avatar','/restapi-test','Error\x20getting\x20cpu\x20usage','biweekly','/users-export/download/:fileName','main','User\x20updated\x20successfully','single','0\x20*\x20*\x20*\x20*','hlall','4ydFCyM','gunzipSync','post','file','win32','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','/folders/delete','/config/content','ServerLocation','dwg','splity','fontLocation','/users/flush-dir','/cache/stats','cadviewer/settings/doctor.html','DWG\x20to\x20PDF\x20Conversion','cadviewer/settings/rest-api-parameters.json','/config','unlinkSync','get','fileLocationUrl','keys','usersExportFrequency','callbackMethod_gatewayUrl_flag','Folder\x20already\x20exists.','proc','toLocaleLowerCase','slice','/tailwind.js','rmdir','.dwg.json','cadviewer/settings/cache-stats.js','blue','writeFile','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','unlink','isFile','image/svg+xml','.json','whoami','Error\x20getting\x20disk\x20usage','W_OK','memorydata.csv','send','File\x20or\x20Folder\x20not\x20found','size','temp_print_folder','Error\x20creating\x20folder.','cached_conversion','bcrypt','crypto','cpu','hostname','mysqlHost','test','File\x20deleted\x20successfully','/converters/autoxchange/linux/','folderLocation','Content-Type','linux','JSON','readdirSync','pop','platform','isFolder','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','push','express','.svg','autoxchange_executable_linux','converterLocation','application/octet-stream','SVG','toISOString','Parameters\x20saved.','dwgmergeLocation','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','Deleting\x20old\x20demo_user\x20accounts...','query','File\x20deleted.','ContentSecurityPolicyReportOnly','converter-files-analysis.json','Display\x20of\x20DWG','put','standard','/users-export/history','Error\x20getting\x20cache\x20stats:','cadviewer/settings/tailwind.js','DWG\x20file\x20in\x20multiple\x20files','/icons.js','getHotConfig','exports','hash','endsWith','boolean','statSync','mkdirSync','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20','User\x20directory\x20flushed\x20successfully','call-Api_Conversion_','\x22\x20executable','dirname','avatar_url','Exporting\x20new\x20users\x20for\x20Google\x20Ads...','some','Error\x20flushing\x20cache:','\x20MB','clean','=============================>','usedMemPercentage','conversionMemoryUsage','licenseLocation','totalGB','originalname','cadviewer/settings/conversion-cache.html','cadviewer/settings/requests-callapiconversion-monitoring.json','freeGb','oos','red','0\x200\x20*\x20*\x20*','../libs/email-utils','express-basic-auth','cadviewer/settings/folders.html','/restapi-test/parameters/save','Folder\x20not\x20found.','Config\x20updated\x20successfully','mem','Server\x20Settings','last_name','364686HQiMol','readFileSync','formatedSize','status','execute','cadviewer/settings/users.html','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','mysqlUsername','`crypted_password`\x20=\x20?,\x20','utf8','ctime','scheduleJob','/folders/create','sub_dirs','/conversion/memorydata','type','.log','cadviewer/settings/converter-files-analysis.json','rmSync','SVGZ','svgz','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','includes','write','message','extname','multer','./uploads/','Users\x20export\x20triggered\x20successfully','join','Invalid\x20user','An\x20error\x20occurred\x20while\x20checking.','Folder\x20not\x20found','logs','error','converters','json','filename','mysqlPassword','fileLoad_UserName','Cache\x20conversion','../libs/mysql.js','admin','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','ceil','role','constants','array','/users/:userId','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','linklist_executable','/folders/download','writeFileSync','userId','usage','.pdf','svg','cachedfiles','uptime','getDate','/cache','/config/global-update','Permission\x20750\x20for\x20the\x20\x22','cvjs_svgz_compress','toString','map','osCmd','/users-export/trigger','pdf','totalGb','copyFileSync','getMonth','/doctor','Error\x20deleting\x20folder.','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','version','cadviewer/settings/users-export.html','conversionTimeSpend','stringify','model','startsWith','replaceAll','first_name','/export-users','Error\x20updating\x20config','Le\x20dossier\x20','availableFormats','totalProcesses','CADViewer_config.json','getFullYear','DWG','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','cadviewer/settings/style.css','setMonth','tmp','cadviewer/settings/vanilla-toast.js','4179230dUyuAI','files','.gitkeep','arch','Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)','birthtime','Database\x20Settings','email,firstname,lastname\x0a','Error\x20deleting\x20old\x20demo_user\x20accounts:','totalMemMb','lastExportDate','who','User\x20deleted\x20successfully','0\x2023\x20*\x20*\x20*','child_process','0\x201\x20*\x20*\x20*','darwin','X_OK','/config/update','green','R_OK','/folders/upload','cadviewer/settings/config.html','21tATUnJ','promise','converterpathLin','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','callbackMethod','purple','mysqlDatabase','reset','isDirectory','Folder\x20renamed.','1870pJFySo','Error!\x20Something\x20went\x20wrong.','.svgz','converterpathWin','diskStorage','delete','catch','File\x20renamed.','Monitoring\x20file\x20cleaned.','usedGB','{version}','usedMemMb','/conversion/clean','/doctor/check','Error\x20saving\x20parameters.','DwgMerge\x20Settings','Log\x20file\x20cleaned.','52840mbGNuA','cadviewer','Read\x20and\x20write\x20permission\x20for\x20folder\x20','setHeader','LinkList\x20Settings','autoxchange_executable','/logs/content','fileLoad_Password','Counter\x20reset\x20successfully','2362064LKZcQE','autoxchange_executable_windows','mkdir','Config\x20updated.','drive','settingsUserBasicAuth','setDate','avatars/','padStart','length','linklist_executable_windows','params','AutoXchange\x20Settings','dwgmerge_executable','Mail\x20Server\x20Settings','dwgmerge_executable_linux','attachment;\x20filename=\x22','all','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Files\x20uploaded\x20successfully','Error\x20getting\x20os\x20info','gray','sendFile','224031tFAuYD','/licences','radio|','/cache/files/:id','count','Cache\x20flushed\x20successfully','Folder\x20deleted.','1455444iMOemG','email','createdAt','folderName','SELECT\x20*\x20FROM\x20users','settingsPasswordBasicAuth','toUpperCase','download','forEach','rmdirSync','split','user','../libs/counter.js','Error\x20reading\x20monitoring\x20file','now','then','autodetect_platform','vmstats','Export\x20file\x20not\x20found','linklistLocation','*\x20*\x20*\x20*\x20*','readFile','last-users-export.json','find','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','User\x20created\x20successfully','ServerUrl','/logs','Error\x20getting\x20process\x20info','6KJqxfh','.dwg','body','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','demo_user','dwgmerge_executable_windows','Error\x20getting\x20memory\x20info','blocks'];a26_0x279e=function(){return _0x23728d;};return a26_0x279e();}const deleteOldDemoUsers=async()=>{const _0x28c47a=a26_0x46ab86;console[_0x28c47a(0x174)](_0x28c47a(0x1fc));const _0x134a9b=config[_0x28c47a(0x178)],_0x2aff8c=_0x28c47a(0x16f);try{const [_0x20303a]=await conn[_0x28c47a(0x2a8)]()[_0x28c47a(0x234)](_0x2aff8c,[_0x134a9b]),_0x4ef0f9=_0x20303a[_0x28c47a(0x271)](_0x3b8d37=>_0x3b8d37[_0x28c47a(0x1a4)]),_0xf119dc=_0x20303a[_0x28c47a(0x271)](_0x89d19=>_0x89d19['email']);console[_0x28c47a(0x174)](_0xf119dc),await conn[_0x28c47a(0x2a8)]()[_0x28c47a(0x234)](_0x28c47a(0x2dd),[_0x134a9b]),_0x4ef0f9[_0x28c47a(0x2f1)](_0x46d661=>{const _0x581f4d=_0x28c47a;try{const _0x1e6682=_0x581f4d(0x24b)+_0x46d661;fs[_0x581f4d(0x2f2)](_0x1e6682);}catch(_0x3559e7){console['error']('Error\x20deleting\x20user\x20folder:',_0x3559e7);}}),console[_0x28c47a(0x174)]('Old\x20demo_user\x20accounts\x20('+_0x20303a['length']+')\x20older\x20than\x20'+_0x134a9b+'\x20days\x20have\x20been\x20deleted.');}catch(_0x4dce74){console[_0x28c47a(0x252)](_0x28c47a(0x298),_0x4dce74);}};schedule[a26_0x46ab86(0x23b)](a26_0x46ab86(0x29f),deleteOldDemoUsers),router['get'](a26_0x46ab86(0x283),protectedRoute,async(_0x4f0e3a,_0x11200f)=>{const _0x4a5e33=a26_0x46ab86,_0x9ded16=fs[_0x4a5e33(0x231)](path[_0x4a5e33(0x24d)](path[_0x4a5e33(0x214)](require[_0x4a5e33(0x1aa)]['filename']),_0x4a5e33(0x27c)),_0x4a5e33(0x239)),_0x80ba=_0x9ded16['replaceAll'](_0x4a5e33(0x2bb),_0x4f0e3a['version']);_0x11200f[_0x4a5e33(0x1da)](_0x80ba);});const exportUsersList=async()=>{const _0x4b675e=a26_0x46ab86;console[_0x4b675e(0x174)](_0x4b675e(0x216));const _0x4d9f31=path[_0x4b675e(0x24d)](path[_0x4b675e(0x214)](require[_0x4b675e(0x1aa)]['filename']),'exports');!fs[_0x4b675e(0x17e)](_0x4d9f31)&&fs[_0x4b675e(0x20f)](_0x4d9f31);const _0x3eaf62=config[_0x4b675e(0x1c5)]||'monthly';let _0x52a85d;const _0x49cd29=path['join'](_0x4d9f31,_0x4b675e(0x2ff));if(fs['existsSync'](_0x49cd29))try{const _0x52bd0c=JSON['parse'](fs[_0x4b675e(0x231)](_0x49cd29,_0x4b675e(0x239)));_0x52a85d=new Date(_0x52bd0c[_0x4b675e(0x29a)]);}catch(_0x22fc39){console['error']('Error\x20reading\x20last\x20export\x20info:',_0x22fc39),_0x52a85d=calculateDefaultLastExportDate(_0x3eaf62);}else _0x52a85d=calculateDefaultLastExportDate(_0x3eaf62);const _0x5b0e9b=new Date(),_0x4d9425=_0x5b0e9b[_0x4b675e(0x289)]()+'-'+String(_0x5b0e9b['getMonth']()+0x1)[_0x4b675e(0x2d3)](0x2,'0')+'-'+String(_0x5b0e9b[_0x4b675e(0x26b)]())[_0x4b675e(0x2d3)](0x2,'0'),_0x25fdfa='users-export-'+_0x4d9425+_0x4b675e(0x177),_0x992a06=path[_0x4b675e(0x24d)](_0x4d9f31,_0x25fdfa);try{const _0x519cf3=_0x4b675e(0x210),[_0x157534]=await conn[_0x4b675e(0x2a8)]()[_0x4b675e(0x234)](_0x519cf3,[_0x52a85d]);if(_0x157534[_0x4b675e(0x2d4)]===0x0){console['log'](_0x4b675e(0x301));return;}let _0x28deed=_0x4b675e(0x297);_0x157534[_0x4b675e(0x2f1)](_0x232b64=>{const _0x2d66e3=_0x4b675e,_0x421d9f=_0x232b64[_0x2d66e3(0x2ea)]?'\x22'+_0x232b64['email'][_0x2d66e3(0x1a2)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x326135=_0x232b64[_0x2d66e3(0x282)]?'\x22'+_0x232b64['first_name']['replace'](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x2354ba=_0x232b64[_0x2d66e3(0x22f)]?'\x22'+_0x232b64[_0x2d66e3(0x22f)]['replace'](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x28deed+=_0x421d9f+','+_0x326135+','+_0x2354ba+'\x0a';}),fs['writeFileSync'](_0x992a06,_0x28deed),console[_0x4b675e(0x174)]('Exported\x20'+_0x157534[_0x4b675e(0x2d4)]+_0x4b675e(0x171)+_0x992a06);const _0x46ba07={'lastExportDate':_0x5b0e9b[_0x4b675e(0x1f8)](),'fileName':_0x25fdfa,'userCount':_0x157534['length']};fs[_0x4b675e(0x264)](_0x49cd29,JSON[_0x4b675e(0x27e)](_0x46ba07,null,0x2));}catch(_0x2d4b54){console[_0x4b675e(0x252)](_0x4b675e(0x191),_0x2d4b54);}},calculateDefaultLastExportDate=_0x4cdf36=>{const _0x3f0343=a26_0x46ab86,_0x33baf8=new Date();return _0x4cdf36===_0x3f0343(0x1a8)?_0x33baf8[_0x3f0343(0x2d1)](_0x33baf8['getDate']()-0xe):_0x33baf8[_0x3f0343(0x28d)](_0x33baf8[_0x3f0343(0x277)]()-0x1),_0x33baf8;};router[a26_0x46ab86(0x1c2)](a26_0x46ab86(0x204),async(_0x3d1180,_0x220d1f)=>{const _0x107465=a26_0x46ab86,_0x5afe99=path[_0x107465(0x24d)](path['dirname'](require[_0x107465(0x1aa)][_0x107465(0x255)]),_0x107465(0x20a));if(!fs[_0x107465(0x17e)](_0x5afe99))return _0x220d1f[_0x107465(0x233)](0xc8)['json']({'exports':[]});try{const _0x40c4b5=fs[_0x107465(0x1ec)](_0x5afe99)[_0x107465(0x18a)](_0x11c1be=>_0x11c1be[_0x107465(0x280)]('users-export-')&&_0x11c1be['endsWith'](_0x107465(0x177)))['map'](_0x3cbd1c=>{const _0x897f2b=_0x107465,_0x2d9087=path[_0x897f2b(0x24d)](_0x5afe99,_0x3cbd1c),_0x5ae572=fs[_0x897f2b(0x20e)](_0x2d9087),_0x4897c5=fs[_0x897f2b(0x231)](_0x2d9087,_0x897f2b(0x239)),_0x5041a3=_0x4897c5['split']('\x0a')[_0x897f2b(0x2d4)]-0x1;return{'fileName':_0x3cbd1c,'createdAt':_0x5ae572[_0x897f2b(0x295)],'userCount':_0x5041a3};})[_0x107465(0x185)]((_0x25dbf6,_0x346ae8)=>_0x346ae8[_0x107465(0x2eb)]-_0x25dbf6[_0x107465(0x2eb)]);_0x220d1f[_0x107465(0x233)](0xc8)[_0x107465(0x254)]({'exports':_0x40c4b5});}catch(_0x394a1c){console['error'](_0x107465(0x18e),_0x394a1c),_0x220d1f[_0x107465(0x233)](0x1f4)[_0x107465(0x254)]({'error':'Failed\x20to\x20retrieve\x20export\x20history'});}}),router[a26_0x46ab86(0x1b1)](a26_0x46ab86(0x273),async(_0x2bb262,_0x10567d)=>{const _0x552c54=a26_0x46ab86;try{await exportUsersList(),_0x10567d[_0x552c54(0x233)](0xc8)[_0x552c54(0x254)]({'message':_0x552c54(0x24c)});}catch(_0x31fb95){console[_0x552c54(0x252)]('Error\x20triggering\x20Users\x20export:',_0x31fb95),_0x10567d[_0x552c54(0x233)](0x1f4)[_0x552c54(0x254)]({'error':'Failed\x20to\x20trigger\x20export'});}}),router['get'](a26_0x46ab86(0x1a9),async(_0x2b3af5,_0x5a77a4)=>{const _0x17fde3=a26_0x46ab86,{fileName:_0x28acc5}=_0x2b3af5['params'],_0x42cb2b=path[_0x17fde3(0x24d)](path[_0x17fde3(0x214)](require[_0x17fde3(0x1aa)][_0x17fde3(0x255)]),_0x17fde3(0x20a),_0x28acc5);if(!fs[_0x17fde3(0x17e)](_0x42cb2b))return _0x5a77a4[_0x17fde3(0x233)](0x194)[_0x17fde3(0x254)]({'error':_0x17fde3(0x2fb)});_0x5a77a4['download'](_0x42cb2b);}),exportUsersList(),schedule['scheduleJob'](a26_0x46ab86(0x29d),exportUsersList),schedule[a26_0x46ab86(0x23b)](a26_0x46ab86(0x1ad),sendFollowUpEmails),schedule[a26_0x46ab86(0x23b)](a26_0x46ab86(0x226),sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x4870ec=a26_0x46ab86;try{const _0x4d67fb=path[_0x4870ec(0x24d)](path['dirname'](require['main'][_0x4870ec(0x255)]),'converters',_0x4870ec(0x291)),_0x361702=path[_0x4870ec(0x24d)](path['dirname'](require[_0x4870ec(0x1aa)][_0x4870ec(0x255)]),_0x4870ec(0x2c3),'settings');if(!fs['existsSync'](_0x4d67fb)){logStream[_0x4870ec(0x247)](_0x4870ec(0x285)+_0x4d67fb+_0x4870ec(0x176));return;}if(!fs[_0x4870ec(0x17e)](_0x361702)){logStream[_0x4870ec(0x247)](_0x4870ec(0x285)+_0x361702+_0x4870ec(0x176));return;}const _0x1ded00=fs[_0x4870ec(0x1ec)](_0x4d67fb),_0x4790b4={};_0x1ded00[_0x4870ec(0x2f1)](_0x300c65=>{const _0x5696ee=_0x4870ec,_0x1388ad=path['join'](_0x4d67fb,_0x300c65),_0x4c4994=fs[_0x5696ee(0x20e)](_0x1388ad);!Object[_0x5696ee(0x1c4)](_0x4790b4)[_0x5696ee(0x246)](_0x300c65[_0x5696ee(0x2f3)]('.')[0x0])?_0x4790b4[_0x300c65[_0x5696ee(0x2f3)]('.')[0x0]]=[{'file':_0x300c65,'stats':_0x4c4994}]:_0x4790b4[_0x300c65[_0x5696ee(0x2f3)]('.')[0x0]][_0x5696ee(0x1f1)]({'file':_0x300c65,'stats':_0x4c4994});});const _0x31b337=[];_0x1ded00[_0x4870ec(0x2f1)](_0x3fc217=>{const _0x1e7741=_0x4870ec;if(!_0x3fc217[_0x1e7741(0x20c)](_0x1e7741(0x1cd)))return;let _0x4feaf3=_0x3fc217;const _0x4a6a90=path[_0x1e7741(0x24d)](_0x4d67fb,_0x3fc217),_0xa84db1=fs[_0x1e7741(0x20e)](_0x4a6a90);let _0x3d79df=_0xa84db1[_0x1e7741(0x1dc)],_0x39c30c='';const _0x296f32=fs['readFileSync'](_0x4a6a90,'utf8'),_0x1463cd=JSON['parse'](_0x296f32),_0x2a4190=_0x1463cd[_0x1e7741(0x269)]?.[_0x1e7741(0x271)](_0x319455=>_0x319455['fileName'])??[];if(_0x1463cd[_0x1e7741(0x255)])_0x4feaf3=_0x1463cd[_0x1e7741(0x255)];const _0x8fd907=Object[_0x1e7741(0x1c4)](_0x4790b4)[_0x1e7741(0x246)](_0x3fc217[_0x1e7741(0x2f3)]('.')[0x0])?_0x4790b4[_0x3fc217[_0x1e7741(0x2f3)]('.')[0x0]]:[];for(const _0x1ce18b of _0x2a4190){Object['keys'](_0x4790b4)[_0x1e7741(0x246)](_0x1ce18b)&&_0x8fd907['push'](..._0x4790b4[_0x1ce18b]);}const _0x16e9ce=_0x8fd907[_0x1e7741(0x271)](({file:_0x37a7b2,stats:_0x1c90bc})=>{const _0x38e2d5=_0x1e7741;return!_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x1cd))&&(_0x3d79df+=_0x1c90bc[_0x38e2d5(0x1dc)]),{'id':_0x37a7b2,'name':_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x1f3))?_0x38e2d5(0x1f7):_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x2b3))?_0x38e2d5(0x243):_0x37a7b2[_0x38e2d5(0x20c)]('.pdf')?'PDF':_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x1d5))?_0x38e2d5(0x1eb):_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x177))?'CSV':_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x163))?_0x38e2d5(0x28a):_0x37a7b2[_0x38e2d5(0x2f3)]('.')[_0x38e2d5(0x1ed)]()[_0x38e2d5(0x2ef)](),'color':_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x1f3))||_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x2b3))?'yellow':_0x37a7b2[_0x38e2d5(0x20c)](_0x38e2d5(0x267))?_0x38e2d5(0x225):_0x37a7b2[_0x38e2d5(0x20c)]('.json')?_0x38e2d5(0x2e0):_0x37a7b2[_0x38e2d5(0x20c)]('.csv')?_0x38e2d5(0x2a3):_0x37a7b2['endsWith'](_0x38e2d5(0x163))?_0x38e2d5(0x1cf):_0x38e2d5(0x2ac)};});if(_0x16e9ce[_0x1e7741(0x217)](_0x3cefa0=>_0x3cefa0['id'][_0x1e7741(0x246)]('.rl.json')))_0x39c30c=_0x1e7741(0x1a1);else{if(_0x16e9ce[_0x1e7741(0x217)](_0x5a0608=>['svg',_0x1e7741(0x244)][_0x1e7741(0x246)](_0x5a0608['id'][_0x1e7741(0x2f3)]('.')['pop']()))&&_0x16e9ce[_0x1e7741(0x217)](_0x23dcda=>['csv']['includes'](_0x23dcda['id']['split']('.')[_0x1e7741(0x1ed)]())))_0x39c30c='DWG\x20to\x20SVG\x20Conversion';else{if(_0x16e9ce['some'](_0x4b6319=>[_0x1e7741(0x268),_0x1e7741(0x244)][_0x1e7741(0x246)](_0x4b6319['id'][_0x1e7741(0x2f3)]('.')['pop']())))_0x39c30c=_0x1e7741(0x201);else{if(_0x16e9ce[_0x1e7741(0x217)](_0x57ba46=>[_0x1e7741(0x254)]['includes'](_0x57ba46['id'][_0x1e7741(0x2f3)]('.')[_0x1e7741(0x1ed)]()))&&_0x16e9ce[_0x1e7741(0x217)](_0x15f38f=>[_0x1e7741(0x1b8)]['includes'](_0x15f38f['id']['split']('.')['pop']())))_0x39c30c='JSON\x20Data\x20Extraction';else{if(_0x16e9ce['some'](_0xf3362f=>[_0x1e7741(0x274)][_0x1e7741(0x246)](_0xf3362f['id'][_0x1e7741(0x2f3)]('.')[_0x1e7741(0x1ed)]())))_0x39c30c=_0x1e7741(0x1be);else{if(_0x16e9ce[_0x1e7741(0x217)](_0x38879f=>['json']['includes'](_0x38879f['id'][_0x1e7741(0x2f3)]('.')[_0x1e7741(0x1ed)]()))&&!_0x16e9ce[_0x1e7741(0x217)](_0x5a8a4f=>[_0x1e7741(0x1b8)][_0x1e7741(0x246)](_0x5a8a4f['id'][_0x1e7741(0x2f3)]('.')[_0x1e7741(0x1ed)]())))_0x39c30c=_0x1e7741(0x207);else _0x16e9ce[_0x1e7741(0x217)](_0x22d5f0=>[_0x1e7741(0x254)][_0x1e7741(0x246)](_0x22d5f0['id'][_0x1e7741(0x2f3)]('.')[_0x1e7741(0x1ed)]()))&&(_0x39c30c=_0x1e7741(0x258));}}}}}_0x31b337[_0x1e7741(0x1f1)]({'name':_0x3fc217,'goodFileName':_0x4feaf3,'size':_0x3d79df,'createdAt':_0xa84db1[_0x1e7741(0x295)],'updatedAt':_0xa84db1[_0x1e7741(0x23a)],'readAt':_0xa84db1['atime'],'action':_0x39c30c,'availableFormats':_0x16e9ce});}),_0x31b337[_0x4870ec(0x185)]((_0x2feda1,_0x10370b)=>_0x10370b[_0x4870ec(0x1a3)]-_0x2feda1['updatedAt']);const _0xefb4bd={'timestamp':new Date(),'totalFiles':_0x31b337[_0x4870ec(0x2d4)],'files':_0x31b337},_0x46c672=path[_0x4870ec(0x24d)](_0x361702,_0x4870ec(0x200));fs[_0x4870ec(0x264)](_0x46c672,JSON['stringify'](_0xefb4bd,null,0x2));}catch(_0xefebf4){console[_0x4870ec(0x174)]('===================error==================='),console['log'](_0x4870ec(0x236)+_0xefebf4[_0x4870ec(0x248)]);}},scheduleFileAnalysis=()=>{const _0x2d0694=a26_0x46ab86;analyzeConverterFiles(),schedule['scheduleJob'](_0x2d0694(0x2fd),analyzeConverterFiles),logStream[_0x2d0694(0x247)](_0x2d0694(0x294));};scheduleFileAnalysis(),module['exports']={'router':router,'analyzeConverterFiles':analyzeConverterFiles};