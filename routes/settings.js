const a26_0x426f66=a26_0xa37d;(function(_0x39e071,_0xd4dfd5){const _0x597fdd=a26_0xa37d,_0x273a36=_0x39e071();while(!![]){try{const _0x1f1c20=parseInt(_0x597fdd(0x202))/0x1+parseInt(_0x597fdd(0xe7))/0x2+parseInt(_0x597fdd(0xe9))/0x3+-parseInt(_0x597fdd(0xfa))/0x4*(parseInt(_0x597fdd(0x179))/0x5)+parseInt(_0x597fdd(0x14f))/0x6+parseInt(_0x597fdd(0x1c0))/0x7+-parseInt(_0x597fdd(0x1cc))/0x8;if(_0x1f1c20===_0xd4dfd5)break;else _0x273a36['push'](_0x273a36['shift']());}catch(_0x14fd22){_0x273a36['push'](_0x273a36['shift']());}}}(a26_0x28ca,0xb1d9a));const express=require(a26_0x426f66(0x241)),router=express[a26_0x426f66(0x110)](),multer=require('multer'),fs=require('fs'),path=require('path'),getHotConfig=require(a26_0x426f66(0x1db))[a26_0x426f66(0x232)],{exec}=require(a26_0x426f66(0xf8)),os=require('os'),conn=require(a26_0x426f66(0x1b1)),bcrypt=require(a26_0x426f66(0x1bf)),osu=require(a26_0x426f66(0x1cb)),schedule=require('node-schedule'),counter=require(a26_0x426f66(0x16a)),{randomUUID}=require(a26_0x426f66(0x150)),logStream=require(a26_0x426f66(0x17b)),config=require(a26_0x426f66(0x236)),basicAuth=require(a26_0x426f66(0x117)),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a26_0x426f66(0x186)),protectedRoute=basicAuth({'users':{[config[a26_0x426f66(0x1b7)]]:config[a26_0x426f66(0x114)]},'challenge':!![],'realm':a26_0x426f66(0x118)});router['get']('/tailwind.js',async(_0x54bff7,_0x1b6109)=>{const _0x30140b=a26_0x426f66;_0x1b6109['sendFile'](path[_0x30140b(0xc7)](path['dirname'](require[_0x30140b(0x10d)]['filename']),_0x30140b(0x160)));}),router['get'](a26_0x426f66(0x18b),async(_0x2e8998,_0xa5ba5e)=>{const _0x328fb5=a26_0x426f66;_0xa5ba5e[_0x328fb5(0x1fd)](path['join'](path[_0x328fb5(0x1e6)](require[_0x328fb5(0x10d)]['filename']),_0x328fb5(0x1d6)));}),router[a26_0x426f66(0x235)](a26_0x426f66(0x1d5),async(_0x40d0f6,_0x29efea)=>{const _0x53f117=a26_0x426f66;_0x29efea['sendFile'](path[_0x53f117(0xc7)](path[_0x53f117(0x1e6)](require[_0x53f117(0x10d)][_0x53f117(0x124)]),_0x53f117(0x20f)));}),router['get'](a26_0x426f66(0xeb),async(_0x52a77d,_0x25a0c0)=>{const _0x1408cf=a26_0x426f66;_0x25a0c0[_0x1408cf(0x1fd)](path[_0x1408cf(0xc7)](path['dirname'](require['main'][_0x1408cf(0x124)]),_0x1408cf(0xc8)));}),router[a26_0x426f66(0x235)](a26_0x426f66(0x12e),async(_0x1b3893,_0x4c72e5)=>{const _0x3d8089=a26_0x426f66;_0x4c72e5[_0x3d8089(0x1fd)](path[_0x3d8089(0xc7)](path[_0x3d8089(0x1e6)](require[_0x3d8089(0x10d)][_0x3d8089(0x124)]),'cadviewer/settings/vanilla-toast.js'));}),router['get'](a26_0x426f66(0xc9),async(_0x51629b,_0x1e210f)=>{const _0x1ac1a2=a26_0x426f66;_0x1e210f['sendFile'](path[_0x1ac1a2(0xc7)](path[_0x1ac1a2(0x1e6)](require[_0x1ac1a2(0x10d)]['filename']),'cadviewer/settings/icons.js'));}),router[a26_0x426f66(0x235)]('/',protectedRoute,async(_0x136cf8,_0x41767a)=>{const _0x522286=a26_0x426f66,_0x16cf92=fs[_0x522286(0x1d3)](path['join'](path['dirname'](require[_0x522286(0x10d)][_0x522286(0x124)]),_0x522286(0xd2)),_0x522286(0x12a)),_0x59cfd2=_0x16cf92[_0x522286(0x1be)](_0x522286(0xef),_0x136cf8['version']);_0x41767a[_0x522286(0x1df)](_0x59cfd2);}),router[a26_0x426f66(0x235)](a26_0x426f66(0xd9),protectedRoute,async(_0x30f370,_0x3bc1e7)=>{const _0x45bc72=a26_0x426f66,_0x280a39=fs[_0x45bc72(0x1d3)](path[_0x45bc72(0xc7)](path[_0x45bc72(0x1e6)](require[_0x45bc72(0x10d)][_0x45bc72(0x124)]),_0x45bc72(0x199)),'utf8'),_0x2a6d4f=_0x280a39['replaceAll']('{version}',_0x30f370[_0x45bc72(0x108)]);_0x3bc1e7['send'](_0x2a6d4f);}),router[a26_0x426f66(0x235)](a26_0x426f66(0x137),protectedRoute,async(_0x1317f8,_0x224491)=>{const _0x50429c=a26_0x426f66,_0x52a0b6=fs[_0x50429c(0x1d3)](path[_0x50429c(0xc7)](path['dirname'](require[_0x50429c(0x10d)][_0x50429c(0x124)]),_0x50429c(0x210)),'utf8'),_0x493143=_0x52a0b6[_0x50429c(0x1be)](_0x50429c(0xef),_0x1317f8[_0x50429c(0x108)]);_0x224491['send'](_0x493143);}),router['get'](a26_0x426f66(0x1e1),protectedRoute,async(_0x23195b,_0x52158a)=>{const _0x50d0c9=a26_0x426f66,_0x373fc4=fs[_0x50d0c9(0x1d3)](path[_0x50d0c9(0xc7)](path[_0x50d0c9(0x1e6)](require[_0x50d0c9(0x10d)][_0x50d0c9(0x124)]),_0x50d0c9(0x1e0)),_0x50d0c9(0x12a)),_0x27e496=_0x373fc4[_0x50d0c9(0x1be)](_0x50d0c9(0xef),_0x23195b[_0x50d0c9(0x108)]);_0x52158a['send'](_0x27e496);}),router[a26_0x426f66(0x18c)](a26_0x426f66(0x1e1),async(_0x5620d4,_0x5e6824)=>{const _0x36cf45=a26_0x426f66,_0x344e6f=path[_0x36cf45(0xc7)](path['dirname'](require[_0x36cf45(0x10d)][_0x36cf45(0x124)]),_0x36cf45(0x22e)),_0x329e58=JSON['parse'](fs[_0x36cf45(0x1d3)](_0x344e6f,_0x36cf45(0x12a))),_0xb7162f=_0x329e58['folderLocation'];if(!fs[_0x36cf45(0x11d)](_0xb7162f))return _0x5e6824[_0x36cf45(0x1a4)](0x194)[_0x36cf45(0x213)]({'message':_0x36cf45(0x134)});const _0x3a5780=_0x3695fc=>{const _0x56088d=_0x36cf45;let _0x1a3468=0x0;return _0x3695fc[_0x56088d(0x18d)](_0xe24e68=>{const _0x279b9d=_0x56088d;_0xe24e68[_0x279b9d(0x1b2)]?_0x1a3468+=_0x3a5780(_0xe24e68[_0x279b9d(0xd6)]):_0x1a3468+=_0xe24e68[_0x279b9d(0x195)];}),_0x1a3468;},_0x41191b=_0x44c900=>{const _0x5b78c4=_0x36cf45;if(_0x44c900<0x400)return _0x44c900+'\x20B';else{if(_0x44c900<0x400*0x400)return(_0x44c900/0x400)['toFixed'](0x2)+_0x5b78c4(0x151);else return _0x44c900<0x400*0x400*0x400?(_0x44c900/0x400/0x400)['toFixed'](0x2)+_0x5b78c4(0x19d):(_0x44c900/0x400/0x400/0x400)[_0x5b78c4(0x224)](0x2)+_0x5b78c4(0x197);}},_0x1594d7=(_0x4c5bc3,_0x37dfab='')=>{const _0x3e3325=_0x36cf45,_0x3069df=fs[_0x3e3325(0x16e)](_0x4c5bc3),_0x27aa98=[];return _0x3069df['forEach'](_0x1e070a=>{const _0x2306f0=_0x3e3325,_0xad387f=path[_0x2306f0(0xc7)](_0x4c5bc3,_0x1e070a)[_0x2306f0(0x1be)]('\x5c','/'),_0xe2a4be=fs[_0x2306f0(0x182)](_0xad387f);if(_0xe2a4be[_0x2306f0(0xd5)]()){const _0x4cd883=_0x1594d7(_0xad387f,_0x37dfab+_0x2306f0(0x183));_0x27aa98[_0x2306f0(0xf3)]({'name':_0x1e070a,'size':_0xe2a4be[_0x2306f0(0x195)],'path':_0xad387f,'permissions':_0xe2a4be[_0x2306f0(0x20c)],'isFolder':!![],'sub_dirs':_0x4cd883});}else _0x27aa98[_0x2306f0(0xf3)]({'name':_0x1e070a,'size':_0xe2a4be[_0x2306f0(0x195)],'path':_0xad387f,'permissions':_0xe2a4be[_0x2306f0(0x20c)],'isFolder':![]});}),_0x27aa98;};let _0x311989=_0x1594d7(_0xb7162f);const _0x1b075f=_0xc0e2f7=>{const _0x3020ad=_0x36cf45;return _0xc0e2f7[_0x3020ad(0x18d)](_0x2cccfa=>{const _0x411eba=_0x3020ad;_0x2cccfa[_0x411eba(0x1b2)]?(_0x2cccfa[_0x411eba(0x21c)]=_0x41191b(_0x3a5780(_0x2cccfa['sub_dirs'])),_0x2cccfa['sub_dirs']=_0x1b075f(_0x2cccfa[_0x411eba(0xd6)])):_0x2cccfa['formatedSize']=_0x41191b(_0x2cccfa[_0x411eba(0x195)]);}),_0xc0e2f7;};_0x5e6824[_0x36cf45(0x1a4)](0xc8)[_0x36cf45(0x213)](_0x1b075f(_0x311989));}),router['post'](a26_0x426f66(0x120),async(_0x42ebf6,_0x4d55ac)=>{const _0xd70f3b=a26_0x426f66,{path:_0x2caa98}=_0x42ebf6[_0xd70f3b(0x19a)],_0x1ec6c3=_0x2caa98[_0xd70f3b(0x148)]('/')[_0xd70f3b(0x227)]();if(!fs['existsSync'](_0x2caa98))return _0x4d55ac['status'](0x194)['json']({'message':_0xd70f3b(0x233)});_0x4d55ac['setHeader']('Content-Type',_0xd70f3b(0x12d)),_0x4d55ac[_0xd70f3b(0x24a)](_0xd70f3b(0x212),_0xd70f3b(0x121)+_0x1ec6c3+'\x22'),_0x4d55ac[_0xd70f3b(0x25d)](_0x2caa98,_0x55b3ff=>{const _0x235bcc=_0xd70f3b;_0x55b3ff&&_0x4d55ac[_0x235bcc(0x1a4)](0x1f4)[_0x235bcc(0x213)]({'message':_0x235bcc(0x1e3)});});}),router['post'](a26_0x426f66(0xf6),async(_0x7c08ff,_0x3633e1)=>{const _0xfba418=a26_0x426f66,_0x4efac6=_0x7c08ff[_0xfba418(0x19a)],_0x51d415=getHotConfig()[_0xfba418(0xfb)],_0x33d1d1=path[_0xfba418(0xc7)](_0x51d415,_0x4efac6['path']);if(!fs[_0xfba418(0x11d)](_0x33d1d1))return _0x3633e1['status'](0x194)['json']({'message':_0xfba418(0x1ea)});if(fs['existsSync'](path[_0xfba418(0xc7)](_0x33d1d1,_0x4efac6['folderName'])))return _0x3633e1['status'](0x199)['json']({'message':_0xfba418(0x112)});fs[_0xfba418(0xfc)](path[_0xfba418(0xc7)](_0x33d1d1,_0x4efac6['folderName']),_0x3a866d=>{const _0x45916a=_0xfba418;_0x3a866d&&_0x3633e1['status'](0x1f4)[_0x45916a(0x213)]({'message':_0x45916a(0x172)}),_0x3633e1['status'](0xc8)[_0x45916a(0x213)]({'message':'Folder\x20created.'});});}),router[a26_0x426f66(0xff)](a26_0x426f66(0x162),async(_0x4e3cfe,_0x13c268)=>{const _0x31102b=a26_0x426f66,{newName:_0x5ebf35,isFolder:_0x5e2b32,path:_0x3dbaf7}=_0x4e3cfe[_0x31102b(0x19a)];if(!fs[_0x31102b(0x11d)](_0x3dbaf7))return _0x13c268['status'](0x194)[_0x31102b(0x213)]({'message':_0x5e2b32?_0x31102b(0x177):'File\x20not\x20found'});const _0x38a87b=_0x3dbaf7[_0x31102b(0x23e)](_0x3dbaf7[_0x31102b(0x148)]('/')[_0x31102b(0x227)](),_0x5ebf35),_0x1a4785=fs['statSync'](_0x3dbaf7);_0x1a4785[_0x31102b(0xd5)]()?fs[_0x31102b(0x1ff)](_0x3dbaf7,_0x38a87b):(fs[_0x31102b(0xe8)](_0x3dbaf7,_0x38a87b),fs[_0x31102b(0x1e5)](_0x3dbaf7)),_0x13c268['status'](0xc8)[_0x31102b(0x213)]({'message':_0x5e2b32?_0x31102b(0x1b6):_0x31102b(0x1a8)});}),router[a26_0x426f66(0xe6)](a26_0x426f66(0x1b0),async(_0x494f84,_0x22f0e9)=>{const _0x2d1924=a26_0x426f66,{path:_0x48aafd}=_0x494f84['body'];if(!fs[_0x2d1924(0x11d)](_0x48aafd))return _0x22f0e9[_0x2d1924(0x1a4)](0x194)['json']({'message':'File\x20or\x20Folder\x20not\x20found'});const _0x167d28=fs[_0x2d1924(0x182)](_0x48aafd);if(_0x167d28[_0x2d1924(0x127)]())fs[_0x2d1924(0x132)](_0x48aafd,_0x3a7cf9=>{const _0x128f42=_0x2d1924;_0x3a7cf9&&_0x22f0e9[_0x128f42(0x1a4)](0x1f4)['json']({'message':_0x128f42(0x19c)}),_0x22f0e9[_0x128f42(0x1a4)](0xc8)[_0x128f42(0x213)]({'message':'File\x20deleted.'});});else _0x167d28[_0x2d1924(0xd5)]()&&fs[_0x2d1924(0x26a)](_0x48aafd,{'recursive':!![]},_0x581f4a=>{const _0x4ff61a=_0x2d1924;_0x581f4a&&_0x22f0e9['status'](0x1f4)[_0x4ff61a(0x213)]({'message':'Error\x20deleting\x20folder.'}),_0x22f0e9[_0x4ff61a(0x1a4)](0xc8)[_0x4ff61a(0x213)]({'message':_0x4ff61a(0x263)});});});!fs[a26_0x426f66(0x11d)](a26_0x426f66(0x26e))&&fs[a26_0x426f66(0x21e)]('./tmp');const storage=multer[a26_0x426f66(0x222)]({'destination':(_0x3c1834,_0x275712,_0x118d0a)=>{const _0xf62ebf=a26_0x426f66;_0x118d0a(null,_0xf62ebf(0x193));},'filename':(_0x516c70,_0x5514c7,_0x3e4835)=>{const _0x5c9c39=a26_0x426f66;_0x3e4835(null,Date[_0x5c9c39(0x1d7)]()+path[_0x5c9c39(0x1f6)](_0x5514c7[_0x5c9c39(0x262)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x426f66(0x18c)](a26_0x426f66(0x22b),upload[a26_0x426f66(0x146)](a26_0x426f66(0x23b)),async(_0x25bad8,_0x206f04)=>{const _0x4ad210=a26_0x426f66,_0x2bea9f=_0x25bad8['body'];if(!_0x25bad8['files']||_0x25bad8[_0x4ad210(0x23b)][_0x4ad210(0x1c6)]===0x0)return _0x206f04[_0x4ad210(0x1a4)](0x190)[_0x4ad210(0x213)]({'message':_0x4ad210(0x139)});const _0x24de6f=getHotConfig()[_0x4ad210(0xfb)],_0x1a4891=path[_0x4ad210(0xc7)](_0x24de6f,_0x2bea9f[_0x4ad210(0x1f7)]);if(!fs[_0x4ad210(0x11d)](_0x1a4891))return _0x206f04[_0x4ad210(0x1a4)](0x194)['json']({'message':_0x4ad210(0x1ea)});const _0x50a187=_0x25bad8['files']['map'](_0x1ae179=>({'originalname':_0x1ae179[_0x4ad210(0x262)],'filename':_0x1ae179[_0x4ad210(0x124)],'mimetype':_0x1ae179[_0x4ad210(0x257)],'size':_0x1ae179['size']}));_0x50a187['forEach'](_0x1bc1d6=>{const _0x5cb903=_0x4ad210;fs[_0x5cb903(0xe8)](path[_0x5cb903(0xc7)](_0x5cb903(0x193),_0x1bc1d6[_0x5cb903(0x124)]),path[_0x5cb903(0xc7)](_0x1a4891,_0x1bc1d6[_0x5cb903(0x262)])),fs[_0x5cb903(0x1e5)](path[_0x5cb903(0xc7)](_0x5cb903(0x193),_0x1bc1d6[_0x5cb903(0x124)]));}),_0x206f04[_0x4ad210(0x1a4)](0xc8)[_0x4ad210(0x213)]({'message':_0x4ad210(0x12f),'files':_0x50a187});}),router[a26_0x426f66(0xff)](a26_0x426f66(0x1c8),async(_0x2efdee,_0x9c55e8)=>{const _0x28743a=a26_0x426f66,_0x1d38d3=path['join'](path[_0x28743a(0x1e6)](require['main'][_0x28743a(0x124)]),_0x28743a(0x22e)),{config:_0xbd51fe}=_0x2efdee[_0x28743a(0x19a)];if(!_0xbd51fe)return _0x9c55e8['status'](0x190)[_0x28743a(0x213)]({'message':'No\x20config\x20object\x20provided'});try{fs['writeFileSync'](_0x1d38d3,JSON['stringify'](_0xbd51fe,null,0x4)),_0x9c55e8[_0x28743a(0x1a4)](0xc8)[_0x28743a(0x213)]({'message':_0x28743a(0x1cd)});}catch(_0x58def3){_0x9c55e8[_0x28743a(0x1a4)](0x1f4)[_0x28743a(0x213)]({'message':_0x28743a(0x1e9)});}}),router[a26_0x426f66(0xff)](a26_0x426f66(0x1ab),async(_0x3cd7d5,_0x51ffb6)=>{const _0x3d8624=a26_0x426f66,{key:_0x3d37b4,value:_0x36519f}=_0x3cd7d5['body'],_0xbeaf6f=path[_0x3d8624(0xc7)](path[_0x3d8624(0x1e6)](require[_0x3d8624(0x10d)][_0x3d8624(0x124)]),'CADViewer_config.json');fs['readFile'](_0xbeaf6f,'utf8',function(_0x76c762,_0x8b8278){const _0x1ad577=_0x3d8624;_0x76c762&&_0x51ffb6['status'](0x1f4)[_0x1ad577(0x1df)](_0x76c762);const _0x259fc5=JSON[_0x1ad577(0x175)](_0x8b8278);_0x259fc5[_0x3d37b4]=_0x36519f;if(_0x3d37b4===_0x1ad577(0x238)){let _0x36997c='';if(_0x259fc5[_0x1ad577(0x1ca)]){_0x36997c=os['platform']();if(_0x36997c===_0x1ad577(0x191))_0x36997c=_0x1ad577(0x131);else{if(_0x36997c==='darwin')_0x36997c=_0x1ad577(0x1dc);}}else _0x36997c=_0x259fc5[_0x1ad577(0x25f)];if(_0x36997c===_0x1ad577(0x131)){_0x259fc5[_0x1ad577(0x20b)]=path[_0x1ad577(0x141)](__dirname,'..')+'/';const _0x5b7f3f=/\\/g;_0x259fc5[_0x1ad577(0x20b)]=_0x259fc5[_0x1ad577(0x20b)]['replace'](_0x5b7f3f,'/');}else _0x259fc5[_0x1ad577(0x20b)]=path[_0x1ad577(0x141)](__dirname,'..')+'/';}if(_0x3d37b4===_0x1ad577(0x1ca)){let _0x328a9e=os['platform']();if(_0x328a9e===_0x1ad577(0x191))_0x328a9e=_0x1ad577(0x131);else _0x328a9e=_0x1ad577(0x1dc);_0x328a9e===_0x1ad577(0x131)?_0x36519f===!![]&&(_0x259fc5[_0x1ad577(0xcf)]=_0x259fc5[_0x1ad577(0x22a)],_0x259fc5['dwgmerge_executable']=_0x259fc5['dwgmerge_executable_windows'],_0x259fc5['linklist_executable']=_0x259fc5['linklist_executable_windows']):_0x36519f===!![]&&(_0x259fc5[_0x1ad577(0xcf)]=_0x259fc5[_0x1ad577(0x1c1)],_0x259fc5['dwgmerge_executable']=_0x259fc5[_0x1ad577(0x24c)],_0x259fc5['linklist_executable']=_0x259fc5[_0x1ad577(0x21b)]),_0x259fc5[_0x1ad577(0x25f)]=_0x328a9e;}if(_0x259fc5[_0x1ad577(0x1ca)]){let _0x424c64=os[_0x1ad577(0x25f)]();if(_0x424c64===_0x1ad577(0x191))_0x424c64=_0x1ad577(0x131);else _0x424c64=_0x1ad577(0x1dc);if(_0x424c64===_0x1ad577(0x131)){if(_0x3d37b4==='autoxchange_executable_windows')_0x259fc5[_0x1ad577(0xcf)]=_0x36519f;else{if(_0x3d37b4===_0x1ad577(0x142))_0x259fc5[_0x1ad577(0x184)]=_0x36519f;else _0x3d37b4===_0x1ad577(0x1a2)&&(_0x259fc5[_0x1ad577(0x190)]=_0x36519f);}}else{if(_0x3d37b4===_0x1ad577(0x1c1))_0x259fc5[_0x1ad577(0xcf)]=_0x36519f;else{if(_0x3d37b4===_0x1ad577(0x24c))_0x259fc5[_0x1ad577(0x184)]=_0x36519f;else _0x3d37b4===_0x1ad577(0x21b)&&(_0x259fc5[_0x1ad577(0x190)]=_0x36519f);}}}fs[_0x1ad577(0xee)](_0xbeaf6f,JSON['stringify'](_0x259fc5,null,0x4),function(_0x48fbb8){const _0x2603e3=_0x1ad577;_0x48fbb8&&_0x51ffb6[_0x2603e3(0x1a4)](0x1f4)['send'](_0x48fbb8),_0x51ffb6[_0x2603e3(0x1a4)](0xc8)['json']({'message':'Config\x20updated.'});});});}),router[a26_0x426f66(0x18c)](a26_0x426f66(0x16f),async(_0x35348b,_0x1e3ceb)=>{const _0x42e685=a26_0x426f66,_0x4758a8=getHotConfig(),_0x258aad=(_0x4758a8['dwgmergeLocation']['includes'](_0x4758a8['ServerLocation'])?'':_0x4758a8['ServerLocation'])+_0x4758a8[_0x42e685(0x1fa)],_0x50c6c7=(_0x4758a8[_0x42e685(0x1fa)][_0x42e685(0x21d)](_0x4758a8[_0x42e685(0x20b)])?'':_0x4758a8[_0x42e685(0x20b)])+_0x4758a8[_0x42e685(0x26f)],_0x1a13e8=(_0x4758a8[_0x42e685(0x149)][_0x42e685(0x21d)](_0x4758a8[_0x42e685(0x20b)])?'':_0x4758a8[_0x42e685(0x20b)])+_0x4758a8[_0x42e685(0x149)],_0x2cb606=/ax202.*\.exe/,_0x3b84ae=/ax202.*/,_0x22ae70=/dwgmerge202.*\.exe/,_0x210311=/dwgmerge_202.*/,_0x4ed010=/linklist_202.*\.exe/,_0x585666=/linklist_202.*/,_0x569ff4=[],_0x91d898=[],_0x300284=[],_0x38d640=[],_0x3bdabe=[],_0x4a0989=[];let _0x383627='';if(_0x4758a8[_0x42e685(0x1ca)]){_0x383627=os[_0x42e685(0x25f)]();if(_0x383627===_0x42e685(0x191))_0x383627='windows';else{if(_0x383627===_0x42e685(0x252))_0x383627=_0x42e685(0x1dc);}}else _0x383627=_0x4758a8[_0x42e685(0x25f)];fs[_0x42e685(0x16e)](_0x1a13e8[_0x42e685(0x1be)](_0x42e685(0x1dc),_0x42e685(0x131)))['forEach'](_0x3b8a7e=>{const _0x1e131b=_0x42e685;if(_0x2cb606[_0x1e131b(0x1f2)](_0x3b8a7e['toLocaleLowerCase']()))_0x569ff4[_0x1e131b(0xf3)](_0x3b8a7e);}),fs[_0x42e685(0x16e)](_0x258aad[_0x42e685(0x1be)](_0x42e685(0x1dc),_0x42e685(0x131)))['forEach'](_0x4207b7=>{const _0x15bf33=_0x42e685;if(_0x22ae70['test'](_0x4207b7[_0x15bf33(0x226)]()))_0x91d898[_0x15bf33(0xf3)](_0x4207b7);}),fs[_0x42e685(0x16e)](_0x50c6c7[_0x42e685(0x1be)]('linux',_0x42e685(0x131)))[_0x42e685(0x18d)](_0x2d01e0=>{const _0x594f31=_0x42e685;if(_0x4ed010[_0x594f31(0x1f2)](_0x2d01e0[_0x594f31(0x226)]()))_0x300284[_0x594f31(0xf3)](_0x2d01e0);}),fs['readdirSync'](_0x1a13e8[_0x42e685(0x1be)](_0x42e685(0x131),_0x42e685(0x1dc)))['forEach'](_0x437ac3=>{const _0x330b2c=_0x42e685;if(_0x3b84ae['test'](_0x437ac3[_0x330b2c(0x226)]()))_0x38d640[_0x330b2c(0xf3)](_0x437ac3);}),fs[_0x42e685(0x16e)](_0x258aad[_0x42e685(0x1be)]('windows',_0x42e685(0x1dc)))['forEach'](_0x422ea4=>{const _0x4f91b3=_0x42e685;if(_0x210311[_0x4f91b3(0x1f2)](_0x422ea4['toLocaleLowerCase']()))_0x3bdabe[_0x4f91b3(0xf3)](_0x422ea4);}),fs[_0x42e685(0x16e)](_0x50c6c7['replaceAll'](_0x42e685(0x131),_0x42e685(0x1dc)))[_0x42e685(0x18d)](_0x43d4f2=>{const _0x518c10=_0x42e685;if(_0x585666[_0x518c10(0x1f2)](_0x43d4f2[_0x518c10(0x226)]()))_0x4a0989[_0x518c10(0xf3)](_0x43d4f2);});const _0x27b9b6=['ServerPort',_0x42e685(0xde),'converterpathWin',_0x42e685(0xe5),_0x42e685(0x1d4)],_0x4dc7d4=[_0x42e685(0xdd),_0x42e685(0x10c),_0x42e685(0x149),_0x42e685(0x23d),_0x42e685(0xdc),'temp_print_folder',_0x42e685(0x113),_0x42e685(0x1fa),_0x42e685(0x26f),_0x42e685(0x108)],_0x15a1fc=['ServerUrl',_0x42e685(0xe1),'mysqlUsername',_0x42e685(0x215),_0x42e685(0x205),_0x42e685(0xea),_0x42e685(0x15f)],_0x1f3624={'ServerUrl':_0x42e685(0x225),'autoxchange_executable':_0x42e685(0x16b),'linklist_executable':_0x42e685(0x11e),'dwgmerge_executable':_0x42e685(0xe0),'setup_mysqlHost':_0x42e685(0xd7),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':_0x42e685(0x1b8),'smtpHost':'Mail\x20Server\x20Settings'},_0x48a685={'https':_0x42e685(0x129),'ServerFrontEndUrlAsAllowedOriginOnly':_0x42e685(0x129),'autodetect_platform':_0x42e685(0x129),'cvjs_svgz_compress':'boolean','cached_conversion':_0x42e685(0x129),'remainOnServer':_0x42e685(0x129),'cvjs_debug':_0x42e685(0x129),'autodetect_location':_0x42e685(0x129),'platform':'radio|windows,linux','autoxchange_executable':_0x42e685(0x1ef)+(_0x383627===_0x42e685(0x131)?_0x569ff4[_0x42e685(0xc7)](','):_0x38d640['join'](',')),'autoxchange_executable_windows':'radio|'+_0x569ff4[_0x42e685(0xc7)](','),'autoxchange_executable_linux':_0x42e685(0x1ef)+_0x38d640[_0x42e685(0xc7)](','),'dwgmerge_executable':_0x42e685(0x1ef)+(_0x383627===_0x42e685(0x131)?_0x91d898['join'](','):_0x3bdabe[_0x42e685(0xc7)](',')),'dwgmerge_executable_windows':_0x42e685(0x1ef)+_0x91d898[_0x42e685(0xc7)](','),'dwgmerge_executable_linux':'radio|'+_0x3bdabe[_0x42e685(0xc7)](','),'linklist_executable':_0x42e685(0x1ef)+(_0x383627===_0x42e685(0x131)?_0x300284['join'](','):_0x4a0989[_0x42e685(0xc7)](',')),'linklist_executable_windows':_0x42e685(0x1ef)+_0x300284['join'](','),'linklist_executable_linux':'radio|'+_0x4a0989[_0x42e685(0xc7)](','),'callbackMethod_gatewayUrl_flag':_0x42e685(0x129),'setup_mysqlHost':_0x42e685(0x129),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x42e685(0x129),'contentLocationCheck':'boolean','globalBearerAutentication':_0x42e685(0x129),'bcryptSaltRounds':_0x42e685(0x25b),'userFolderMaximumFiles':_0x42e685(0x25b),'userFolderMaximumSizeInMB':_0x42e685(0x25b),'recaptchaEnabled':_0x42e685(0x129),'usersExportFrequency':'radio|monthly,biweekly','enableEmailVerification':_0x42e685(0x129),'demoUserRetentionDaysAlertBeforeDeletion':_0x42e685(0x25b),'demoUserRetentionDays':_0x42e685(0x25b)},_0x4a22f3={},_0x54fee9=Object[_0x42e685(0x1c3)](_0x4758a8);_0x4758a8['autodetect_platform']&&_0x27b9b6[_0x42e685(0xf3)](_0x42e685(0x25f)),_0x4758a8[_0x42e685(0x238)]&&(_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0x20b)),_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0xcf)),_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0x184)),_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0x190))),!_0x4758a8['callbackMethod_gatewayUrl_flag']&&_0x4dc7d4[_0x42e685(0xf3)]('callbackMethod_gatewayUrl'),!_0x4758a8['setup_mysqlHost']&&(_0x4dc7d4[_0x42e685(0xf3)]('mysqlHost'),_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0x10a)),_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0x215)),_0x4dc7d4['push'](_0x42e685(0x205))),!_0x4758a8[_0x42e685(0x13a)]&&_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0x104)),!_0x4758a8[_0x42e685(0x26d)]&&(_0x4dc7d4[_0x42e685(0xf3)](_0x42e685(0x161)),_0x4dc7d4[_0x42e685(0xf3)]('fileLoad_Password')),!_0x4758a8['globalBearerAutentication']&&_0x4dc7d4['push']('globalBearerAutenticationToken'),_0x54fee9[_0x42e685(0x18d)](_0x4af47b=>{!_0x27b9b6['includes'](_0x4af47b)&&(_0x4a22f3[_0x4af47b]=_0x4758a8[_0x4af47b]);}),_0x4a22f3[_0x42e685(0x10c)]=''+_0x4758a8[_0x42e685(0x1f9)]+_0x4758a8[_0x42e685(0xdd)],_0x1e3ceb[_0x42e685(0x1a4)](0xc8)[_0x42e685(0x213)]({'notEditableFields':_0x4dc7d4,'customFieldTypes':_0x48a685,'notHotEditableFields':_0x15a1fc,'config':_0x4a22f3,'fieldsTitle':_0x1f3624,'configData':_0x4758a8});}),router['get'](a26_0x426f66(0x1b3),protectedRoute,async(_0x346222,_0x513aa4)=>{const _0x238ba8=a26_0x426f66,_0x5db73d=fs['readFileSync'](path[_0x238ba8(0xc7)](path[_0x238ba8(0x1e6)](require[_0x238ba8(0x10d)][_0x238ba8(0x124)]),_0x238ba8(0x267)),'utf8'),_0x3f11f1=_0x5db73d['replaceAll'](_0x238ba8(0xef),_0x346222[_0x238ba8(0x108)]);_0x513aa4['send'](_0x3f11f1);});function findMatchingLogFiles(_0x564d35,_0x285e15=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x22f2dd=a26_0x426f66;try{const _0x2ffe8d=fs[_0x22f2dd(0x16e)](_0x564d35);return _0x2ffe8d['filter'](_0x490773=>_0x285e15[_0x22f2dd(0x1f2)](_0x490773))['map'](_0x55bc4e=>_0x55bc4e[_0x22f2dd(0x1be)](_0x22f2dd(0x16c),'')['replaceAll'](_0x22f2dd(0x198),''));}catch(_0x4828f3){return console[_0x22f2dd(0x200)]('Error\x20finding\x20log\x20files:',_0x4828f3),[];}}function a26_0xa37d(_0x506453,_0x5d5d26){const _0x28caf0=a26_0x28ca();return a26_0xa37d=function(_0xa37d90,_0x27f472){_0xa37d90=_0xa37d90-0xc4;let _0xbca1ae=_0x28caf0[_0xa37d90];return _0xbca1ae;},a26_0xa37d(_0x506453,_0x5d5d26);}router[a26_0x426f66(0x18c)]('/logs/content',async(_0x596303,_0xbac987)=>{const _0x5d4d48=a26_0x426f66,_0x29891f=new Date(),_0x1ffff9=_0x29891f[_0x5d4d48(0x218)]()['toString']()[_0x5d4d48(0x1ee)](0x2,'0')+'_'+(_0x29891f['getMonth']()+0x1)[_0x5d4d48(0x20e)]()[_0x5d4d48(0x1ee)](0x2,'0')+'_'+_0x29891f['getFullYear'](),{displayDay:_0x1b830f}=_0x596303['body'],_0x5cd010=path[_0x5d4d48(0xc7)](path[_0x5d4d48(0x1e6)](require[_0x5d4d48(0x10d)][_0x5d4d48(0x124)]),_0x5d4d48(0x1e8),_0x5d4d48(0x16c)+(_0x1b830f??_0x1ffff9)+_0x5d4d48(0x198));fs[_0x5d4d48(0x11d)](_0x5cd010)?fs['readFile'](_0x5cd010,_0x5d4d48(0x12a),function(_0x4a5cdc,_0x583cf6){const _0x45dd18=_0x5d4d48;_0x4a5cdc&&_0xbac987['status'](0x1f4)[_0x45dd18(0x1df)](_0x4a5cdc),_0xbac987[_0x45dd18(0x1a4)](0xc8)['json']({'content':_0x583cf6,'days':findMatchingLogFiles(path[_0x45dd18(0xc7)](path[_0x45dd18(0x1e6)](require[_0x45dd18(0x10d)][_0x45dd18(0x124)]),_0x45dd18(0x1e8)))});}):_0xbac987[_0x5d4d48(0x1a4)](0xc8)['json']({'content':'','days':findMatchingLogFiles(path[_0x5d4d48(0xc7)](path[_0x5d4d48(0x1e6)](require[_0x5d4d48(0x10d)]['filename']),_0x5d4d48(0x1e8)))});}),router[a26_0x426f66(0xe6)](a26_0x426f66(0xf1),async(_0x508955,_0x58c77e)=>{const _0x5874db=a26_0x426f66,_0x3c5d4d=new Date(),_0x93dfda=_0x3c5d4d['getDate']()['toString']()[_0x5874db(0x1ee)](0x2,'0')+'_'+(_0x3c5d4d[_0x5874db(0x169)]()+0x1)[_0x5874db(0x20e)]()['padStart'](0x2,'0')+'_'+_0x3c5d4d['getFullYear'](),_0x1288d2=findMatchingLogFiles(path[_0x5874db(0xc7)](path[_0x5874db(0x1e6)](require[_0x5874db(0x10d)][_0x5874db(0x124)]),_0x5874db(0x1e8)));_0x1288d2[_0x5874db(0x18d)](_0x24f275=>{const _0x59e0c4=_0x5874db;if(_0x24f275!==_0x93dfda)fs['unlinkSync'](path[_0x59e0c4(0xc7)](path['dirname'](require[_0x59e0c4(0x10d)]['filename']),'logs',_0x59e0c4(0x16c)+_0x24f275+_0x59e0c4(0x198)));}),logStream[_0x5874db(0x243)](),_0x58c77e[_0x5874db(0x1a4)](0xc8)[_0x5874db(0x213)]({'message':_0x5874db(0x10e)});}),router['get'](a26_0x426f66(0x1ed),protectedRoute,async(_0x46cf98,_0x18c496)=>{const _0x199c73=a26_0x426f66,_0x3dd96b=path[_0x199c73(0xc7)](path[_0x199c73(0x1e6)](require[_0x199c73(0x10d)][_0x199c73(0x124)]),_0x199c73(0x19e));if(!fs[_0x199c73(0x11d)](_0x3dd96b)){const _0x379599={'jsonDataExtraction':{'standard':[{'paramName':'json','paramValue':''},{'paramName':_0x199c73(0x246),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x199c73(0x264)},{'paramName':_0x199c73(0x17a),'paramValue':''},{'paramName':_0x199c73(0x13b),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x199c73(0x208)},{'paramName':'model','paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x199c73(0x264)},{'paramName':_0x199c73(0x17a),'paramValue':''},{'paramName':_0x199c73(0x13b),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x199c73(0x152),'paramValue':''}]}};fs[_0x199c73(0x1ba)](_0x3dd96b,JSON[_0x199c73(0x13e)](_0x379599,null,0x4));}const _0xa9411e=fs['readFileSync'](path[_0x199c73(0xc7)](path[_0x199c73(0x1e6)](require[_0x199c73(0x10d)][_0x199c73(0x124)]),_0x199c73(0x203)),_0x199c73(0x12a)),_0x7dc98=_0xa9411e['replaceAll'](_0x199c73(0xef),_0x46cf98[_0x199c73(0x108)]);_0x18c496['send'](_0x7dc98);}),router[a26_0x426f66(0x18c)]('/restapi-test/parameters/search',async(_0x14a01e,_0x2a7f16)=>{const _0x12d0bc=a26_0x426f66,{actionName:_0x40c5f8,contentLocation:_0x1bb430}=_0x14a01e[_0x12d0bc(0x19a)],_0x4381c8=path[_0x12d0bc(0xc7)](path[_0x12d0bc(0x1e6)](require[_0x12d0bc(0x10d)][_0x12d0bc(0x124)]),'cadviewer/settings/rest-api-parameters.json');fs[_0x12d0bc(0x12b)](_0x4381c8,'utf8',function(_0x4ddea4,_0xad9031){const _0x38652e=_0x12d0bc;if(_0x4ddea4)_0x2a7f16[_0x38652e(0x1a4)](0xc8)['json']({'parameters':[]});else{const _0x3d2b8e=JSON[_0x38652e(0x175)](_0xad9031);if(_0x3d2b8e[_0x40c5f8]&&_0x3d2b8e[_0x40c5f8][_0x1bb430])_0x2a7f16['status'](0xc8)[_0x38652e(0x213)]({'parameters':_0x3d2b8e[_0x40c5f8][_0x1bb430]});else _0x3d2b8e[_0x40c5f8]&&_0x3d2b8e[_0x40c5f8][_0x38652e(0x143)]?_0x2a7f16[_0x38652e(0x1a4)](0xc8)[_0x38652e(0x213)]({'parameters':_0x3d2b8e[_0x40c5f8][_0x38652e(0x143)]}):_0x2a7f16[_0x38652e(0x1a4)](0xc8)[_0x38652e(0x213)]({'parameters':[]});}});}),router['post']('/restapi-test/parameters/save',async(_0x4add5a,_0x2f9938)=>{const _0x25c8de=a26_0x426f66,{actionName:_0x470671,contentLocation:_0x341cec,parameters:_0x35fe34}=_0x4add5a[_0x25c8de(0x19a)],_0x3b5292=path[_0x25c8de(0xc7)](path[_0x25c8de(0x1e6)](require[_0x25c8de(0x10d)]['filename']),_0x25c8de(0x19e));fs[_0x25c8de(0x12b)](_0x3b5292,_0x25c8de(0x12a),function(_0x54d82f,_0x516e5d){const _0x583eb6=_0x25c8de;if(_0x54d82f)_0x2f9938[_0x583eb6(0x1a4)](0x199)[_0x583eb6(0x213)]({'message':'Error\x20saving\x20parameters.'});else{const _0x58bb44=JSON[_0x583eb6(0x175)](_0x516e5d);!_0x58bb44[_0x470671]&&(_0x58bb44[_0x470671]={}),_0x58bb44[_0x470671][_0x341cec]=_0x35fe34,fs[_0x583eb6(0xee)](_0x3b5292,JSON[_0x583eb6(0x13e)](_0x58bb44,null,0x4),function(_0x474ebc){const _0x201811=_0x583eb6;_0x474ebc&&_0x2f9938['status'](0x199)[_0x201811(0x213)]({'message':_0x201811(0x15d)}),_0x2f9938['status'](0xc8)[_0x201811(0x213)]({'message':_0x201811(0x130)});});}});}),router['get']('/doctor',protectedRoute,async(_0x447f0f,_0x35d282)=>{const _0x13d40a=a26_0x426f66,_0x51dc75=fs[_0x13d40a(0x1d3)](path[_0x13d40a(0xc7)](path['dirname'](require[_0x13d40a(0x10d)][_0x13d40a(0x124)]),_0x13d40a(0x220)),_0x13d40a(0x12a)),_0x23eee8=_0x51dc75[_0x13d40a(0x1be)]('{version}',_0x447f0f[_0x13d40a(0x108)]);_0x35d282['send'](_0x23eee8);}),router[a26_0x426f66(0x18c)](a26_0x426f66(0x155),async(_0x2be41a,_0x31b49d)=>{const _0xe9d63f=a26_0x426f66,_0x30fa74=getHotConfig(),_0x39782c=_0x30fa74[_0xe9d63f(0x149)]['replaceAll']('//','/'),_0x2d0e0b=_0x30fa74[_0xe9d63f(0x1fa)][_0xe9d63f(0x1be)]('//','/'),_0x2f908a=_0x30fa74['linklistLocation'][_0xe9d63f(0x1be)]('//','/'),_0x3b5a1f=''+_0x39782c+_0x30fa74[_0xe9d63f(0xcf)],_0x361435=''+_0x2d0e0b+_0x30fa74[_0xe9d63f(0x184)],_0x3f4302=''+_0x2f908a+_0x30fa74[_0xe9d63f(0x190)],_0x29103b=[],_0x3c8cf8=new Promise(_0x4f1f5d=>{const _0x3792de=_0xe9d63f;exec(os[_0x3792de(0x25f)]()===_0x3792de(0x191)?'dir':'ls',_0x41d029=>{const _0xd6515d=_0x3792de;_0x41d029?_0x29103b['push']({'title':_0xd6515d(0x187),'status':![],'priority':0x1}):_0x29103b[_0xd6515d(0xf3)]({'title':_0xd6515d(0x187),'status':!![],'priority':0x1}),_0x4f1f5d();});}),_0x422cdb=new Promise(_0x460e2f=>{const _0xe2f94=_0xe9d63f;fs[_0xe2f94(0xcd)](_0x3b5a1f,fs[_0xe2f94(0xed)][_0xe2f94(0x242)],_0x15ee61=>{const _0x364fd0=_0xe2f94;_0x15ee61?_0x29103b['push']({'title':_0x364fd0(0xf0)+_0x30fa74[_0x364fd0(0xcf)]+_0x364fd0(0xce),'status':![],'priority':0x2}):_0x29103b[_0x364fd0(0xf3)]({'title':_0x364fd0(0xf0)+_0x30fa74[_0x364fd0(0xcf)]+'\x22\x20executable','status':!![],'priority':0x2}),_0x460e2f();});}),_0x21680b=new Promise(_0x4ba930=>{const _0x53a17d=_0xe9d63f;fs['access'](_0x361435,fs['constants'][_0x53a17d(0x242)],_0x2fb4a9=>{const _0x3c2c3f=_0x53a17d;_0x2fb4a9?_0x29103b[_0x3c2c3f(0xf3)]({'title':_0x3c2c3f(0xf0)+_0x30fa74[_0x3c2c3f(0x184)]+'\x22\x20executable','status':![],'priority':0x3}):_0x29103b[_0x3c2c3f(0xf3)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x30fa74[_0x3c2c3f(0x184)]+_0x3c2c3f(0xce),'status':!![],'priority':0x3}),_0x4ba930();});}),_0x3af08a=new Promise(_0x598134=>{const _0x4a80d0=_0xe9d63f;fs[_0x4a80d0(0xcd)](_0x3f4302,fs[_0x4a80d0(0xed)][_0x4a80d0(0x242)],_0x3eac07=>{const _0x5e8f51=_0x4a80d0;_0x3eac07?_0x29103b[_0x5e8f51(0xf3)]({'title':_0x5e8f51(0xf0)+_0x30fa74[_0x5e8f51(0x190)]+_0x5e8f51(0xce),'status':![],'priority':0x4}):_0x29103b[_0x5e8f51(0xf3)]({'title':_0x5e8f51(0xf0)+_0x30fa74[_0x5e8f51(0x190)]+_0x5e8f51(0xce),'status':!![],'priority':0x4}),_0x598134();});}),_0x5348fb=new Promise(_0xcbfb85=>{const _0x3c78ce=_0xe9d63f,_0x2c0702=new Date(),_0x394961=_0x2c0702[_0x3c78ce(0x218)]()[_0x3c78ce(0x20e)]()['padStart'](0x2,'0')+'_'+(_0x2c0702[_0x3c78ce(0x169)]()+0x1)[_0x3c78ce(0x20e)]()['padStart'](0x2,'0')+'_'+_0x2c0702[_0x3c78ce(0x18e)](),{displayDay:_0x564e98}=_0x2be41a[_0x3c78ce(0x19a)];fs[_0x3c78ce(0xcd)](path[_0x3c78ce(0xc7)](path[_0x3c78ce(0x1e6)](require[_0x3c78ce(0x10d)][_0x3c78ce(0x124)]),_0x3c78ce(0x1e8),_0x3c78ce(0x16c)+(_0x564e98??_0x394961)+_0x3c78ce(0x198)),fs[_0x3c78ce(0xed)][_0x3c78ce(0x1d2)],_0x2be9ae=>{const _0xecbe62=_0x3c78ce;_0x2be9ae?_0x29103b['push']({'title':_0xecbe62(0x1cf)+(_0x564e98??_0x394961)+_0xecbe62(0x1bc),'status':![],'priority':0x5}):_0x29103b['push']({'title':_0xecbe62(0x1cf)+(_0x564e98??_0x394961)+'.log\x22','status':!![],'priority':0x5}),_0xcbfb85();});}),_0x26dc88=(_0x1cd7bf,_0x1cfdf8)=>{const _0x435677=_0xe9d63f,_0x437359=path['join'](path[_0x435677(0x1e6)](require[_0x435677(0x10d)][_0x435677(0x124)]),_0x1cd7bf);return new Promise(_0x476691=>{const _0x121375=_0x435677;fs[_0x121375(0xcd)](path['join'](path[_0x121375(0x1e6)](_0x437359)),fs['constants'][_0x121375(0x17d)]|fs[_0x121375(0xed)][_0x121375(0x1d2)],_0x400cff=>{const _0x3f4eee=_0x121375;_0x400cff?_0x29103b[_0x3f4eee(0xf3)]({'title':_0x3f4eee(0x24d)+_0x1cd7bf,'status':![],'priority':_0x1cfdf8+0x6}):_0x29103b[_0x3f4eee(0xf3)]({'title':_0x3f4eee(0x24d)+_0x1cd7bf,'status':!![],'priority':_0x1cfdf8+0x6}),_0x476691();});});},_0x1d16e8=[_0xe9d63f(0x147),_0xe9d63f(0x217),'/converters/files/merged/',_0xe9d63f(0x249),_0xe9d63f(0x109),'/content/redlines/',_0xe9d63f(0x1f1)],_0x5328e3=_0x1d16e8[_0xe9d63f(0x159)](_0x26dc88);Promise[_0xe9d63f(0xf7)]([_0x3c8cf8,_0x422cdb,_0x21680b,_0x3af08a,_0x5348fb,..._0x5328e3])['then'](()=>{const _0xe13e81=_0xe9d63f;_0x31b49d[_0xe13e81(0x1a4)](0xc8)[_0xe13e81(0x213)]({'checking_list':_0x29103b});})[_0xe9d63f(0x1af)](()=>{const _0x528e0b=_0xe9d63f;_0x31b49d[_0x528e0b(0x1a4)](0x1f4)[_0x528e0b(0x213)]({'error':_0x528e0b(0x244)});});}),router[a26_0x426f66(0x235)](a26_0x426f66(0x1bb),protectedRoute,async(_0x30dd52,_0x3b3fec)=>{const _0xd6cd14=a26_0x426f66,_0x4d21dd=fs[_0xd6cd14(0x1d3)](path[_0xd6cd14(0xc7)](path[_0xd6cd14(0x1e6)](require[_0xd6cd14(0x10d)][_0xd6cd14(0x124)]),_0xd6cd14(0x107)),_0xd6cd14(0x12a)),_0x27dfbc=_0x4d21dd[_0xd6cd14(0x1be)](_0xd6cd14(0xef),_0x30dd52['version']);_0x3b3fec['send'](_0x27dfbc);}),router[a26_0x426f66(0x18c)](a26_0x426f66(0x1c2),async(_0x9dafb1,_0x132068)=>{const _0x551123=a26_0x426f66;let _0x34d95b;try{const [_0xf71548]=await conn[_0x551123(0x268)]()['execute'](_0x551123(0x138),[]);_0x34d95b=_0xf71548;}catch(_0x115125){console['log'](_0x115125),_0x132068[_0x551123(0x1a4)](0x1f4)[_0x551123(0x213)]({'error':_0x551123(0x214)});return;}_0x132068['status'](0xc8)[_0x551123(0x213)]({'success':!![],'data':_0x34d95b});}),router[a26_0x426f66(0x18c)](a26_0x426f66(0x1bb),upload[a26_0x426f66(0x14b)](a26_0x426f66(0x26b)),async(_0x4fd866,_0xa742dd)=>{const _0x57044a=a26_0x426f66,{id:_0x584580,first_name:_0x46baf9,last_name:_0x8490dc,username:_0x14c892,email:_0x2af522,password:_0xe74aa8,is_enabled:_0xa8768b}=_0x4fd866[_0x57044a(0x19a)],_0x45afa4=_0x4fd866[_0x57044a(0x19a)]['role']===_0x57044a(0x128)?'admin':_0x4fd866[_0x57044a(0x19a)]['role']===_0x57044a(0x13c)?_0x57044a(0x13c):_0x57044a(0x230);let _0x58bd2a;console[_0x57044a(0x115)](_0x57044a(0x219));_0xe74aa8&&(_0x58bd2a=await bcrypt[_0x57044a(0x1de)](_0xe74aa8,0xa));let _0xa7ba47=null;if(_0x4fd866[_0x57044a(0x181)]){const _0x38565e=_0x57044a(0x14d)+randomUUID()+_0x57044a(0x258);fs['copyFileSync'](_0x4fd866[_0x57044a(0x181)][_0x57044a(0x1f7)],'./'+_0x38565e),fs[_0x57044a(0x1e5)](_0x4fd866['file'][_0x57044a(0x1f7)]),config[_0x57044a(0x1da)]?_0xa7ba47=config['callbackMethod_gatewayUrl']+'/'+_0x38565e:_0xa7ba47=config[_0x57044a(0x1f9)]+'/'+_0x38565e;}if(_0x584580){try{let [_0x57939b]=await conn[_0x57044a(0x268)]()[_0x57044a(0x1ae)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?',[_0x2af522,_0x14c892,_0x584580]);if(_0x57939b[_0x57044a(0x1c6)]>0x0)_0xa742dd['status'](0x199)[_0x57044a(0x213)]({'error':_0x57044a(0xf5)});else{!_0x4fd866['file']&&([_0x57939b]=await conn['promise']()[_0x57044a(0x1ae)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x584580]),_0xa7ba47=_0x57939b[0x0][_0x57044a(0xf2)]);const _0x31e188=_0x57044a(0x100)+(_0xe74aa8?_0x57044a(0xec):'')+'`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?';await conn['promise']()[_0x57044a(0x1ae)](_0x31e188,_0xe74aa8?[_0xa7ba47,_0x46baf9,_0x8490dc,_0x14c892,_0x2af522,_0x58bd2a,_0xa8768b,_0x45afa4,_0x584580]:[_0xa7ba47,_0x46baf9,_0x8490dc,_0x14c892,_0x2af522,_0xa8768b,_0x45afa4,_0x584580]);}}catch(_0x5b9bb4){console[_0x57044a(0x115)](_0x5b9bb4),_0xa742dd['status'](0x1f4)[_0x57044a(0x213)]({'error':_0x57044a(0x214)});return;}_0xa742dd[_0x57044a(0x1a4)](0xc8)[_0x57044a(0x213)]({'success':!![],'message':'User\x20updated\x20successfully'});}else{try{const [_0x3fe340]=await conn[_0x57044a(0x268)]()['execute'](_0x57044a(0x1d9),[_0x2af522,_0x14c892]);if(_0x3fe340[_0x57044a(0x1c6)]>0x0)_0xa742dd[_0x57044a(0x1a4)](0x199)[_0x57044a(0x213)]({'error':_0x57044a(0xf5)});else{const _0x79ed3=randomUUID();await conn[_0x57044a(0x268)]()[_0x57044a(0x1ae)](_0x57044a(0x163),[_0xa7ba47,_0x46baf9,_0x8490dc,_0x14c892,_0x2af522,_0x58bd2a,_0x45afa4,_0xa8768b,_0x79ed3]);const _0x28ee51=_0x57044a(0x269)+_0x79ed3;fs[_0x57044a(0x21e)](_0x28ee51);}}catch(_0x521653){console[_0x57044a(0x115)](_0x521653),_0xa742dd[_0x57044a(0x1a4)](0x1f4)[_0x57044a(0x213)]({'error':_0x57044a(0x214)});return;}_0xa742dd[_0x57044a(0x1a4)](0xc8)[_0x57044a(0x213)]({'success':!![],'message':_0x57044a(0x22c)});}}),router[a26_0x426f66(0xe6)](a26_0x426f66(0x19f),async(_0x1da73d,_0x20fa55)=>{const _0x2dd270=a26_0x426f66,{userId:_0x363248}=_0x1da73d[_0x2dd270(0x19a)];let _0x48e380;try{const [_0x3275d1]=await conn[_0x2dd270(0x268)]()[_0x2dd270(0x1ae)](_0x2dd270(0x12c),[_0x363248]);_0x3275d1[_0x2dd270(0x1c6)]>0x0&&(_0x48e380=_0x3275d1[0x0]);}catch(_0x38637a){console[_0x2dd270(0x115)]({'err':_0x38637a}),_0x20fa55['status'](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0x48e380){_0x20fa55[_0x2dd270(0x1a4)](0x191)[_0x2dd270(0x213)]({'error':_0x2dd270(0xc6)});return;}let _0x32946e=_0x48e380[_0x2dd270(0x189)];if(!_0x32946e){_0x32946e=randomUUID();try{await conn['promise']()['execute'](_0x2dd270(0x103),[_0x32946e,_0x363248]);}catch(_0x4fa065){console['log']({'err':_0x4fa065}),_0x20fa55[_0x2dd270(0x1a4)](0x1f4)[_0x2dd270(0x213)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x1582a4='./uploads/'+_0x32946e;console[_0x2dd270(0x115)](_0x2dd270(0xd0)),console['log'](_0x1582a4),!fs['existsSync'](_0x1582a4)&&fs['mkdirSync'](_0x1582a4),cleanCacheForUserFiles(_0x1582a4),fs[_0x2dd270(0x1d1)](_0x1582a4,{'recursive':!![],'force':!![]}),fs[_0x2dd270(0x21e)](_0x1582a4),_0x20fa55['status'](0xc8)[_0x2dd270(0x213)]({'success':!![],'message':_0x2dd270(0x18f)});}),router['delete'](a26_0x426f66(0x16d),async(_0x9c84ef,_0x1ae13b)=>{const _0x947a20=a26_0x426f66,_0x348252=_0x9c84ef[_0x947a20(0x1c7)][_0x947a20(0x24e)];try{let _0x5ef3ae;try{const [_0x1b8e7b]=await conn['promise']()[_0x947a20(0x1ae)](_0x947a20(0x12c),[_0x348252]);_0x1b8e7b[_0x947a20(0x1c6)]>0x0&&(_0x5ef3ae=_0x1b8e7b[0x0]);}catch(_0x54dcda){console[_0x947a20(0x115)]({'err':_0x54dcda}),_0x1ae13b[_0x947a20(0x1a4)](0x1f4)[_0x947a20(0x213)]({'error':_0x947a20(0x214)});return;}if(!_0x5ef3ae){_0x1ae13b[_0x947a20(0x1a4)](0x191)['json']({'error':'Invalid\x20user'});return;}let _0x12f8b4=_0x5ef3ae[_0x947a20(0x189)];if(_0x12f8b4){const _0x36d2da=_0x947a20(0x269)+_0x12f8b4;fs['existsSync'](_0x36d2da)&&(cleanCacheForUserFiles(_0x36d2da),fs[_0x947a20(0x1d1)](_0x36d2da,{'recursive':!![],'force':!![]}));}await conn[_0x947a20(0x268)]()[_0x947a20(0x1ae)]('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x348252]);}catch(_0x5edd2b){console[_0x947a20(0x115)](_0x5edd2b),_0x1ae13b[_0x947a20(0x1a4)](0x1f4)[_0x947a20(0x213)]({'error':_0x947a20(0x214)});return;}_0x1ae13b['status'](0xc8)[_0x947a20(0x213)]({'success':!![],'message':_0x947a20(0xe3)});}),router['get'](a26_0x426f66(0x1f4),async(_0x493f5a,_0x23c8b3)=>{const _0xae6c2b=a26_0x426f66,_0xd3ea06=osu['cpu'],_0x473d79=osu[_0xae6c2b(0x111)],_0x178953=osu[_0xae6c2b(0x14e)],_0x3d70e7=osu['os'],_0x3b9983={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x41841f=os[_0xae6c2b(0x25f)]()===_0xae6c2b(0x191)?'c:':'/';const _0x5f0975=await _0x178953[_0xae6c2b(0x211)](_0x41841f);_0x3b9983[_0xae6c2b(0x21a)]=_0x5f0975['usedPercentage'],_0x3b9983[_0xae6c2b(0x168)]=_0x5f0975[_0xae6c2b(0x11a)],_0x3b9983[_0xae6c2b(0x105)]=_0x5f0975[_0xae6c2b(0x105)],_0x3b9983[_0xae6c2b(0x13d)]=_0x5f0975[_0xae6c2b(0x1e4)];}catch(_0x46da60){console[_0xae6c2b(0x115)](_0xae6c2b(0x1e7),_0x46da60);}const _0x5cda9a={'usage':0x0,'count':0x0};try{_0x5cda9a[_0xae6c2b(0x1ad)]=await _0xd3ea06[_0xae6c2b(0x1ad)](),_0x5cda9a[_0xae6c2b(0x173)]=_0xd3ea06[_0xae6c2b(0x173)]();}catch(_0x14501c){console['log'](_0xae6c2b(0x1fe),_0x14501c);}const _0x327ed4={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x327ed4['os']=await _0x3d70e7[_0xae6c2b(0x17c)](),_0x327ed4[_0xae6c2b(0x25f)]=_0x3d70e7[_0xae6c2b(0x25f)](),_0x327ed4['ip']=_0x3d70e7['ip'](),_0x327ed4[_0xae6c2b(0xe2)]=_0x3d70e7[_0xae6c2b(0xe2)](),_0x327ed4[_0xae6c2b(0x106)]=_0x3d70e7['hostname'](),_0x327ed4[_0xae6c2b(0x140)]=_0x3d70e7['type'](),_0x327ed4['arch']=_0x3d70e7[_0xae6c2b(0x1fb)](),_0x327ed4['who']=await osu[_0xae6c2b(0x158)][_0xae6c2b(0x255)](),_0x327ed4[_0xae6c2b(0x178)]=await osu['osCmd']['whoami'](),_0x327ed4['vmstats']=await osu[_0xae6c2b(0x158)][_0xae6c2b(0x194)]();}catch(_0x55cb64){console[_0xae6c2b(0x115)]('Error\x20getting\x20os\x20info',_0x55cb64);}const _0x49c87a={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x49c87a[_0xae6c2b(0xf4)]=await osu[_0xae6c2b(0x11c)][_0xae6c2b(0xf4)](),_0x49c87a['zombieProcesses']=await osu[_0xae6c2b(0x11c)][_0xae6c2b(0x10f)]();}catch(_0x4186c9){console[_0xae6c2b(0x115)](_0xae6c2b(0x1f0),_0x4186c9);}let _0x29e095={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x1b870=await _0x473d79[_0xae6c2b(0x211)]();_0x29e095['usedMemPercentage']=_0x1b870[_0xae6c2b(0x1f3)],_0x29e095['usedMemMb']=_0x1b870['used']/0x400/0x400,_0x29e095[_0xae6c2b(0x26c)]=_0x1b870[_0xae6c2b(0x24b)]/0x400/0x400;}catch(_0x32bd41){console['log']('Error\x20getting\x20memory\x20info',_0x32bd41);}let _0x1607e2=0x0;try{_0x1607e2=await conn[_0xae6c2b(0x268)]()[_0xae6c2b(0x253)](_0xae6c2b(0x256))['then'](([_0xf6df4e])=>_0xf6df4e[0x0][_0xae6c2b(0x24b)]);}catch(_0x2571b0){console[_0xae6c2b(0x115)](_0xae6c2b(0x25c),_0x2571b0);}const _0x35039d=getMonitoringData(),_0xed2284=_0x35039d['filter'](_0x49b7b7=>_0x49b7b7[_0xae6c2b(0x1d0)]!==null&&_0x49b7b7['conversionTimeSpend']!==undefined),_0x7efc7d=_0x35039d[_0xae6c2b(0x1ac)](_0x14b474=>_0x14b474[_0xae6c2b(0xf9)]!==null&&_0x14b474[_0xae6c2b(0xf9)]!==undefined)[_0xae6c2b(0x159)](_0x671de3=>parseFloat(_0x671de3['conversionMemoryUsage'][_0xae6c2b(0x1be)]('Kb')[_0xae6c2b(0x102)]())),_0x54b7f9=_0xed2284[_0xae6c2b(0x170)]((_0x30d173,_0x3ac7d2)=>_0x30d173+parseFloat(_0x3ac7d2[_0xae6c2b(0x1d0)]),0x0)/_0xed2284[_0xae6c2b(0x1c6)],_0x149a0a=_0x7efc7d[_0xae6c2b(0x170)]((_0x3a7735,_0x314469)=>_0x3a7735+_0x314469,0x0)/_0x7efc7d[_0xae6c2b(0x1c6)];_0x23c8b3[_0xae6c2b(0x213)]({'requestsPerSecond':counter[_0xae6c2b(0x17f)](),'diskUsage':_0x3b9983,'cpus':_0x5cda9a,'system':_0x327ed4,'process':_0x49c87a,'totalMonitoringData':_0x35039d[_0xae6c2b(0x1c6)],'memory':_0x29e095,'totalUsers':_0x1607e2,'avgConvertionTime':_0x54b7f9,'avgMemoryUsage':_0x149a0a});}),router[a26_0x426f66(0x18c)](a26_0x426f66(0x20d),(_0x35c5b4,_0x596266)=>{const _0x51d770=a26_0x426f66;counter[_0x51d770(0x11b)](),_0x596266['json']({'message':_0x51d770(0x119)});});function a26_0x28ca(){const _0x4ffcaf=['linklist_executable_windows','zlib','status','JSON\x20Data\x20Extraction','.csv','Display\x20of\x20DWG','File\x20renamed.','sort','SVGZ','/config/update','filter','usage','execute','catch','/folders/delete','../libs/mysql.js','isFolder','/logs','\x20days\x20have\x20been\x20deleted.','birthtime','Folder\x20renamed.','settingsUserBasicAuth','Demo\x20and\x20Base\x20User\x20Settings','updatedAt','writeFileSync','/users','.log\x22','setMonth','replaceAll','bcrypt','8053073PjmIns','autoxchange_executable_linux','/users/list','keys','scheduleJob','.json','length','params','/config/global-update','createdAt','autodetect_platform','node-os-utils','28410136ySKfFR','Config\x20updated\x20successfully','\x20does\x20not\x20exist.','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','conversionTimeSpend','rmSync','W_OK','readFileSync','fontLocation','/style.css','cadviewer/settings/chart.min.js','now','write','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','callbackMethod_gatewayUrl_flag','../libs/config','linux','cadviewer/settings/requests-callapiconversion-monitoring.json','hash','send','cadviewer/settings/folders.html','/folders','converters','Error\x20downloading\x20file.','totalGb','unlinkSync','dirname','Error\x20getting\x20disk\x20usage','logs','Error\x20updating\x20config','Folder\x20not\x20found.','demoUserRetentionDays','Error\x20exporting\x20users\x20for\x20Google\x20Ads:','/restapi-test','padStart','radio|','Error\x20getting\x20process\x20info','/content/redlines/v7/','test','usedMemPercentage','/metrics','csv','extname','path','.svgz','ServerUrl','dwgmergeLocation','arch','DWG\x20to\x20PDF\x20Conversion','sendFile','Error\x20getting\x20cpu\x20usage','renameSync','error','Content-Type','221948bjrEjG','cadviewer/settings/rest-api.html','/conversion/memorydata','mysqlDatabase','/export-users','dwg','pdf','.pdf','.svg','ServerLocation','mode','/metrics/reset','toString','cadviewer/settings/style.css','cadviewer/settings/config.html','info','Content-Disposition','json','Error!\x20Something\x20went\x20wrong.','mysqlPassword','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','/converters/autoxchange/linux/','getDate','=============================>','percentage','linklist_executable_linux','formatedSize','includes','mkdirSync','DWG\x20to\x20SVG\x20Conversion','cadviewer/settings/doctor.html','CSV','diskStorage','/cache-stats.js','toFixed','Server\x20Settings','toLocaleLowerCase','pop','message','\x20n\x27existe\x20pas.','autoxchange_executable_windows','/folders/upload','User\x20created\x20successfully','PDF','CADViewer_config.json','===================error===================','user','startsWith','getHotConfig','File\x20not\x20found','Le\x20dossier\x20','get','../CADViewer_config.json','blue','autodetect_location','green','some','files','Error\x20deleting\x20old\x20demo_user\x20accounts:','licenseLocation','replace','purple','.gitkeep','express','X_OK','clean','An\x20error\x20occurred\x20while\x20checking.','Exported\x20','blocks','last-users-export.json','Cache\x20flushed\x20successfully','/converters/files/print/','setHeader','total','dwgmerge_executable_linux','Read\x20and\x20write\x20permission\x20for\x20folder\x20','userId','exports','0\x2023\x20*\x20*\x20*','find','darwin','query','availableFormats','who','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','mimetype','.png','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','Monitoring\x20file\x20cleaned.','number','Error\x20getting\x20total\x20users','download','.dwg','platform','Error\x20deleting\x20cache\x20file\x20','DWG\x20file\x20in\x20multiple\x20files','originalname','Folder\x20deleted.','svg','rmdirSync','Error\x20reading\x20monitoring\x20file','cadviewer/settings/logs.html','promise','./uploads/','rmdir','avatar','totalMemMb','fileLoad_PasswordAuthentication','./tmp','linklistLocation','usersExportFrequency','/cache/flush','Invalid\x20user','join','cadviewer/settings/vanilla-toast.css','/icons.js','JSON','endsWith','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','access','\x22\x20executable','autoxchange_executable','====================','toUpperCase','cadviewer/settings/home.html','Users\x20export\x20triggered\x20successfully','toISOString','isDirectory','sub_dirs','Database\x20Settings','cadviewer/settings/converter-files-analysis.json','/licences','0\x201\x20*\x20*\x20*','Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)','xpathLocation','fileLocation','https','Error\x20getting\x20Users\x20export\x20export\x20history:','DwgMerge\x20Settings','mysqlHost','uptime','User\x20deleted\x20successfully','cadviewer/settings/cache-stats.js','converterpathLin','delete','2401184oHAETc','copyFileSync','2907939GinLuv','cached_conversion','/vanilla-toast.css','`crypted_password`\x20=\x20?,\x20','constants','writeFile','{version}','Permission\x20750\x20for\x20the\x20\x22','/logs/clean','avatar_url','push','totalProcesses','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','/folders/create','all','child_process','conversionMemoryUsage','24chMbaf','folderLocation','mkdir','first_name','Error\x20deleting\x20user\x20folder:','put','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','/cache/csv/:file','trim','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','ContentSecurityPolicy','freeGb','hostname','cadviewer/settings/users.html','version','/converters/files/pdf/','mysqlUsername','Error\x20deleting\x20file','fileLocationUrl','main','Log\x20file\x20cleaned.','zombieProcesses','Router','mem','Folder\x20already\x20exists.','callbackMethod','settingsPasswordBasicAuth','log','RL/TL\x20Processing','express-basic-auth','CADViewer\x20Settings','Counter\x20reset\x20successfully','usedGb','reset','proc','existsSync','LinkList\x20Settings','/conversion/clean','/folders/download','attachment;\x20filename=\x22','/cache/stats','*\x20*\x20*\x20*\x20*','filename','/users-export/history','users-export-','isFile','admin','boolean','utf8','readFile','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','application/octet-stream','/vanilla-toast.js','Files\x20uploaded\x20successfully','Parameters\x20saved.','windows','unlink','Directory\x20','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','email','gunzipSync','/config','SELECT\x20*\x20FROM\x20users','No\x20files\x20uploaded','ContentSecurityPolicyReportOnly','hlall','demo_user','totalGB','stringify','image/svg+xml','type','resolve','dwgmerge_executable_windows','standard','memorydata.csv','cadviewer/settings/conversion-cache.html','array','/converters/files/','split','converterLocation','svgz','single','ceil','avatars/','drive','7978578LMoEhk','crypto','\x20KB','splity','Failed\x20to\x20flush\x20cache','Error\x20flushing\x20cache:','/doctor/check','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Export\x20file\x20not\x20found','osCmd','map','Error\x20cleaning\x20cache\x20for\x20user\x20files:','settings','setDate','Error\x20saving\x20parameters.','email,firstname,lastname\x0a','cvjs_svgz_compress','cadviewer/settings/tailwind.js','fileLoad_UserName','/folders/update','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','Error\x20getting\x20cache\x20stats:','yellow','cachedfiles','/cache/files','usedGB','getMonth','../libs/counter.js','AutoXchange\x20Settings','call-Api_Conversion_','/users/:userId','readdirSync','/config/content','reduce','name','Error\x20creating\x20folder.','count','SVG','parse','Old\x20demo_user\x20accounts\x20(','Folder\x20not\x20found','whoami','493595LCsbOF','model','../libs/log','oos','R_OK','/conversion/list','getStats','gray','file','statSync','\x20\x20\x20','dwgmerge_executable','DWG','../libs/email-utils','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','atime','folder_name','/cache','/chart.min.js','post','forEach','getFullYear','User\x20directory\x20flushed\x20successfully','linklist_executable','win32','/cache/files/:id','tmp','vmstats','size','0\x20*\x20*\x20*\x20*','\x20GB','.log','cadviewer/settings/licences.html','body','slice','Error\x20deleting\x20file.','\x20MB','cadviewer/settings/rest-api-parameters.json','/users/flush-dir','fileName','.dwg.json'];a26_0x28ca=function(){return _0x4ffcaf;};return a26_0x28ca();}const getMonitoringData=()=>{const _0x2f062a=a26_0x426f66,_0xb141d5=_0x2f062a(0x1dd);let _0x5bdf1d=[];try{_0x5bdf1d=JSON[_0x2f062a(0x175)](fs['readFileSync'](_0xb141d5));}catch(_0x3eb204){console[_0x2f062a(0x115)](_0x2f062a(0x266));}return _0x5bdf1d;};router['get'](a26_0x426f66(0x17e),async(_0x485838,_0x1f60a8)=>{const _0x3c33db=a26_0x426f66,{page:page=0x1,limit:limit=0xa}=_0x485838[_0x3c33db(0x253)],_0x18d3c7=(page-0x1)*limit;try{const _0x4f8c8b=getMonitoringData(),_0xa8910c=_0x4f8c8b['length'],_0x4c75db=Math[_0x3c33db(0x14c)](_0xa8910c/limit),_0x2bd78c=_0x4f8c8b[_0x3c33db(0x19b)](_0x18d3c7,_0x18d3c7+limit);_0x1f60a8[_0x3c33db(0x1a4)](0xc8)[_0x3c33db(0x213)]({'data':_0x2bd78c,'page':parseInt(''+page),'totalPages':_0x4c75db,'total':_0xa8910c});}catch(_0x438f8c){console[_0x3c33db(0x115)](_0x438f8c),_0x1f60a8[_0x3c33db(0x1a4)](0x1f4)[_0x3c33db(0x213)]({'error':_0x3c33db(0x214)});}}),router[a26_0x426f66(0xe6)](a26_0x426f66(0x11f),async(_0x41a185,_0x4b6859)=>{const _0x23a66c=a26_0x426f66,_0x11e388=_0x23a66c(0x1dd);try{fs[_0x23a66c(0x1ba)](_0x11e388,JSON[_0x23a66c(0x13e)]([],null,0x4)),analyzeConverterFiles(),_0x4b6859[_0x23a66c(0x1a4)](0xc8)['json']({'message':_0x23a66c(0x25a)});}catch(_0x54c473){console[_0x23a66c(0x115)](_0x54c473),_0x4b6859[_0x23a66c(0x1a4)](0x1f4)[_0x23a66c(0x213)]({'error':_0x23a66c(0x214)});}}),router[a26_0x426f66(0x235)](a26_0x426f66(0x204),async(_0x3baf13,_0x3b74cc)=>{const _0x146b05=a26_0x426f66,_0x1877cc=getHotConfig()['converterLocation'][_0x146b05(0x1be)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x3baf13[_0x146b05(0x253)],_0x5f432c=(page-0x1)*limit;try{const _0x382ac3=_0x1877cc+_0x146b05(0x144);console[_0x146b05(0x115)](_0x382ac3);const _0x2ded61=fs[_0x146b05(0x1d3)](_0x382ac3,_0x146b05(0x12a)),_0x32a683=_0x2ded61[_0x146b05(0x148)]('\x0a'),_0x36f353=[];_0x32a683[_0x146b05(0x18d)](_0x55d4a8=>{const _0x1bc2af=_0x146b05,_0x3b30de=_0x55d4a8[_0x1bc2af(0x148)](',');if(_0x3b30de[_0x1bc2af(0x1c6)]<0x4)return;const _0x1f134d=_0x3b30de[0x0],_0x5427cf=_0x3b30de[0x1],_0x1f5775=parseFloat(_0x3b30de[0x2]);_0x36f353[_0x1bc2af(0xf3)]({'file':_0x1f134d['replaceAll']('\x22',''),'action':_0x5427cf,'timeSpend':_0x1f5775,'memoryUsage':_0x3b30de[0x3]});});const _0x51b817=_0x36f353['length'],_0x5c0971=Math[_0x146b05(0x14c)](_0x51b817/limit),_0x26171d=_0x36f353[_0x146b05(0x19b)](_0x5f432c,_0x5f432c+limit);_0x3b74cc[_0x146b05(0x1a4)](0xc8)[_0x146b05(0x213)]({'data':_0x26171d,'page':parseInt(''+page),'totalPages':_0x5c0971,'total':_0x51b817});}catch(_0x587d55){console[_0x146b05(0x115)](_0x587d55),_0x3b74cc['status'](0x1f4)[_0x146b05(0x213)]({'error':_0x146b05(0x214)});}}),router[a26_0x426f66(0x235)](a26_0x426f66(0x122),async(_0x56bc86,_0x5d8d22)=>{const _0x4d2a37=a26_0x426f66,_0x25674a=path[_0x4d2a37(0xc7)](path['dirname'](require[_0x4d2a37(0x10d)][_0x4d2a37(0x124)]),_0x4d2a37(0x1e2),_0x4d2a37(0x23b));try{let _0x599686=0x0,_0x57b858=0x0;function _0x45449d(_0x3fafdb){const _0x4695d2=_0x4d2a37;let _0x3c1faf=0x0,_0x23dfdd=0x0;if(fs[_0x4695d2(0x11d)](_0x3fafdb)){const _0x224aeb=fs['readdirSync'](_0x3fafdb);_0x23dfdd=0x0;for(const _0x19602d of _0x224aeb){const _0xd956bd=path['join'](_0x3fafdb,_0x19602d),_0x18d2ab=fs['statSync'](_0xd956bd);if(_0x18d2ab[_0x4695d2(0x127)]()&&_0x19602d!==_0x4695d2(0x240))_0x23dfdd++,_0x3c1faf+=_0x18d2ab[_0x4695d2(0x195)];else{if(_0x18d2ab[_0x4695d2(0xd5)]()){}}}}return{'size':_0x3c1faf,'count':_0x23dfdd};}const _0x4bd85c=_0x45449d(_0x25674a);_0x599686=_0x4bd85c['size'],_0x57b858=_0x4bd85c[_0x4d2a37(0x173)],_0x5d8d22[_0x4d2a37(0x213)]({'fileCount':_0x57b858,'totalSize':_0x599686});}catch(_0x246dd8){console[_0x4d2a37(0x200)](_0x4d2a37(0x164),_0x246dd8),_0x5d8d22['status'](0x1f4)['json']({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x426f66(0xe6)](a26_0x426f66(0xc5),async(_0x4ac3f1,_0x1eec1e)=>{const _0x36609e=a26_0x426f66,_0x368444=path['join'](path[_0x36609e(0x1e6)](require[_0x36609e(0x10d)]['filename']),'converters','files');try{function _0xb5df5b(_0xdb0f3e){const _0x4782c7=_0x36609e;if(fs[_0x4782c7(0x11d)](_0xdb0f3e)){const _0x8a963b=fs['readdirSync'](_0xdb0f3e);for(const _0x5e9b58 of _0x8a963b){const _0x5316ad=path['join'](_0xdb0f3e,_0x5e9b58),_0x32fd1b=fs[_0x4782c7(0x182)](_0x5316ad);if(_0x32fd1b[_0x4782c7(0xd5)]()){}else _0x5e9b58!==_0x4782c7(0x240)&&fs[_0x4782c7(0x1e5)](_0x5316ad);}}}_0xb5df5b(_0x368444),analyzeConverterFiles(),_0x1eec1e[_0x36609e(0x213)]({'message':_0x36609e(0x248)});}catch(_0x329075){console[_0x36609e(0x200)](_0x36609e(0x154),_0x329075),_0x1eec1e[_0x36609e(0x1a4)](0x1f4)['json']({'error':_0x36609e(0x153)});}}),router[a26_0x426f66(0x235)](a26_0x426f66(0x223),async(_0x9f7f66,_0x327924)=>{const _0x3e6ac0=a26_0x426f66;_0x327924[_0x3e6ac0(0x1fd)](path[_0x3e6ac0(0xc7)](path[_0x3e6ac0(0x1e6)](require[_0x3e6ac0(0x10d)][_0x3e6ac0(0x124)]),_0x3e6ac0(0xe4)));}),router[a26_0x426f66(0x235)](a26_0x426f66(0x18a),protectedRoute,async(_0x46325a,_0x294237)=>{const _0x1dcebb=a26_0x426f66,_0x20acea=fs[_0x1dcebb(0x1d3)](path[_0x1dcebb(0xc7)](path[_0x1dcebb(0x1e6)](require[_0x1dcebb(0x10d)][_0x1dcebb(0x124)]),_0x1dcebb(0x145)),'utf8'),_0x15941d=_0x20acea['replaceAll'](_0x1dcebb(0xef),_0x46325a['version']);_0x294237[_0x1dcebb(0x1df)](_0x15941d);}),router[a26_0x426f66(0x235)](a26_0x426f66(0x167),async(_0x1ddad8,_0xe6f73c)=>{const _0x5a1b0c=a26_0x426f66,{page:page=0x1,limit:limit=0x10}=_0x1ddad8[_0x5a1b0c(0x253)],_0xa9a470=JSON[_0x5a1b0c(0x175)](fs[_0x5a1b0c(0x1d3)](path['join'](path[_0x5a1b0c(0x1e6)](require[_0x5a1b0c(0x10d)][_0x5a1b0c(0x124)]),_0x5a1b0c(0xd8)))),_0x1a4a5c=(page-0x1)*limit,_0x4dc425=page*limit,_0x1522dc=_0xa9a470['files'][_0x5a1b0c(0x1c6)],_0x2d584c=Math['ceil'](_0x1522dc/limit),_0x546131=_0xa9a470['files']['slice'](_0x1a4a5c,_0x4dc425);_0xe6f73c['json']({'files':_0x546131,'pagination':{'total':_0x1522dc,'totalPages':_0x2d584c,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x426f66(0x235)](a26_0x426f66(0x101),async(_0x140330,_0x22c16d)=>{const _0x51ec60=a26_0x426f66,{file:_0x431a6f}=_0x140330[_0x51ec60(0x1c7)],_0x11521b=path[_0x51ec60(0xc7)](path['dirname'](require[_0x51ec60(0x10d)][_0x51ec60(0x124)]),_0x51ec60(0x1e2),_0x51ec60(0x23b)),_0x5664bc=path[_0x51ec60(0xc7)](_0x11521b,_0x431a6f),_0x9a17ee=fs[_0x51ec60(0x1d3)](_0x5664bc,_0x51ec60(0x12a)),_0x196409=_0x9a17ee[_0x51ec60(0x148)]('\x0a'),_0x38f808=_0x196409['map'](_0x40fa2e=>{const _0x3c9997=_0x51ec60,_0x59dd35=_0x40fa2e[_0x3c9997(0x148)](',');return _0x59dd35[_0x3c9997(0x159)](_0x59c8c8=>_0x59c8c8[_0x3c9997(0x1be)]('\x22',''));});_0x22c16d['json'](_0x38f808);}),router[a26_0x426f66(0x235)](a26_0x426f66(0x192),async(_0x3ac21e,_0x22a486)=>{const _0xcbeb5f=a26_0x426f66,{id:_0x5b33e2}=_0x3ac21e[_0xcbeb5f(0x1c7)],_0x1a27cc=path['join'](path[_0xcbeb5f(0x1e6)](require[_0xcbeb5f(0x10d)][_0xcbeb5f(0x124)]),_0xcbeb5f(0x1e2),'files'),_0x1324fb=path['join'](_0x1a27cc,_0x5b33e2);if(_0x1324fb['endsWith']('.svgz')){var _0x3ba3d3=require(_0xcbeb5f(0x1a3));const _0xad966e=fs[_0xcbeb5f(0x1d3)](_0x1324fb),_0x152c64=_0x3ba3d3[_0xcbeb5f(0x136)](_0xad966e);_0x22a486[_0xcbeb5f(0x24a)](_0xcbeb5f(0x201),_0xcbeb5f(0x13f)),_0x22a486[_0xcbeb5f(0x1df)](_0x152c64);}else _0x22a486[_0xcbeb5f(0x1fd)](_0x1324fb);}),router[a26_0x426f66(0xe6)]('/cache/files/:id',async(_0x169acf,_0x165fd4)=>{const _0x47be42=a26_0x426f66,{id:_0x2d9521}=_0x169acf[_0x47be42(0x1c7)],_0xd04d58=path[_0x47be42(0xc7)](path[_0x47be42(0x1e6)](require[_0x47be42(0x10d)][_0x47be42(0x124)]),'converters',_0x47be42(0x23b)),_0x1a11e5=JSON[_0x47be42(0x175)](fs[_0x47be42(0x1d3)](path['join'](path['dirname'](require[_0x47be42(0x10d)][_0x47be42(0x124)]),_0x47be42(0xd8)))),_0x3acf22=_0x1a11e5[_0x47be42(0x23b)][_0x47be42(0x251)](_0x1c328d=>_0x1c328d[_0x47be42(0x171)]===_0x2d9521);if(_0x3acf22){try{fs[_0x47be42(0x11d)](path['join'](_0xd04d58,_0x3acf22[_0x47be42(0x171)]))&&fs['unlinkSync'](path[_0x47be42(0xc7)](_0xd04d58,_0x3acf22[_0x47be42(0x171)]));}catch(_0x10b3c4){console[_0x47be42(0x115)](_0x47be42(0x10b),{'e':_0x10b3c4});}(_0x3acf22[_0x47be42(0x254)]??[])[_0x47be42(0x18d)](_0x3cc8d4=>{const _0x545176=_0x47be42;try{fs[_0x545176(0x11d)](path[_0x545176(0xc7)](_0xd04d58,_0x3cc8d4['id']))&&fs[_0x545176(0x1e5)](path[_0x545176(0xc7)](_0xd04d58,_0x3cc8d4['id']));}catch(_0x19600a){console[_0x545176(0x115)](_0x545176(0x10b),{'e':_0x19600a});}});}analyzeConverterFiles(),_0x165fd4[_0x47be42(0x213)]({'message':'File\x20deleted\x20successfully'});});const deleteOldDemoUsers=async()=>{const _0x5537bf=a26_0x426f66;console[_0x5537bf(0x115)]('Deleting\x20old\x20demo_user\x20accounts...');const _0x2e87cc=config[_0x5537bf(0x1eb)],_0x2d37f4=_0x5537bf(0x156);try{const [_0x5c2d43]=await conn[_0x5537bf(0x268)]()[_0x5537bf(0x1ae)](_0x2d37f4,[_0x2e87cc]),_0x4a1116=_0x5c2d43['map'](_0x273ef8=>_0x273ef8[_0x5537bf(0x189)]),_0x29c9f6=_0x5c2d43[_0x5537bf(0x159)](_0x829575=>_0x829575[_0x5537bf(0x135)]);console[_0x5537bf(0x115)](_0x29c9f6),await conn[_0x5537bf(0x268)]()[_0x5537bf(0x1ae)](_0x5537bf(0x216),[_0x2e87cc]),_0x4a1116[_0x5537bf(0x18d)](_0x5c4143=>{const _0x20c97a=_0x5537bf;try{const _0x586d20=_0x20c97a(0x269)+_0x5c4143;cleanCacheForUserFiles(_0x586d20),fs[_0x20c97a(0x265)](_0x586d20);}catch(_0x32a988){console[_0x20c97a(0x200)](_0x20c97a(0xfe),_0x32a988);}}),console['log'](_0x5537bf(0x176)+_0x5c2d43[_0x5537bf(0x1c6)]+')\x20older\x20than\x20'+_0x2e87cc+_0x5537bf(0x1b4));}catch(_0x10641d){console[_0x5537bf(0x200)](_0x5537bf(0x23c),_0x10641d);}};schedule[a26_0x426f66(0x1c4)](a26_0x426f66(0xda),deleteOldDemoUsers),router[a26_0x426f66(0x235)](a26_0x426f66(0x206),protectedRoute,async(_0x306506,_0xdedc9a)=>{const _0x6c155d=a26_0x426f66,_0x254d2d=fs['readFileSync'](path[_0x6c155d(0xc7)](path['dirname'](require[_0x6c155d(0x10d)][_0x6c155d(0x124)]),'cadviewer/settings/users-export.html'),_0x6c155d(0x12a)),_0x3646ad=_0x254d2d[_0x6c155d(0x1be)](_0x6c155d(0xef),_0x306506[_0x6c155d(0x108)]);_0xdedc9a[_0x6c155d(0x1df)](_0x3646ad);});const exportUsersList=async()=>{const _0x4a67be=a26_0x426f66;console[_0x4a67be(0x115)]('Exporting\x20new\x20users\x20for\x20Google\x20Ads...');const _0x4daf7d=path[_0x4a67be(0xc7)](path[_0x4a67be(0x1e6)](require[_0x4a67be(0x10d)][_0x4a67be(0x124)]),_0x4a67be(0x24f));!fs['existsSync'](_0x4daf7d)&&fs[_0x4a67be(0x21e)](_0x4daf7d);const _0xa7814f=config[_0x4a67be(0xc4)]||'monthly';let _0x2933a6;const _0x1518f3=path[_0x4a67be(0xc7)](_0x4daf7d,_0x4a67be(0x247));if(fs[_0x4a67be(0x11d)](_0x1518f3))try{const _0x3c0c8e=JSON['parse'](fs[_0x4a67be(0x1d3)](_0x1518f3,'utf8'));_0x2933a6=new Date(_0x3c0c8e['lastExportDate']);}catch(_0x3b8e02){console[_0x4a67be(0x200)]('Error\x20reading\x20last\x20export\x20info:',_0x3b8e02),_0x2933a6=calculateDefaultLastExportDate(_0xa7814f);}else _0x2933a6=calculateDefaultLastExportDate(_0xa7814f);const _0x297d6f=new Date(),_0x5f561e=_0x297d6f['getFullYear']()+'-'+String(_0x297d6f[_0x4a67be(0x169)]()+0x1)[_0x4a67be(0x1ee)](0x2,'0')+'-'+String(_0x297d6f[_0x4a67be(0x218)]())[_0x4a67be(0x1ee)](0x2,'0'),_0x4b0683=_0x4a67be(0x126)+_0x5f561e+_0x4a67be(0x1a6),_0x4356da=path[_0x4a67be(0xc7)](_0x4daf7d,_0x4b0683);try{const _0x441ead='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20',[_0x31d9a9]=await conn[_0x4a67be(0x268)]()['execute'](_0x441ead,[_0x2933a6]);if(_0x31d9a9[_0x4a67be(0x1c6)]===0x0){console['log'](_0x4a67be(0x259));return;}let _0x393921=_0x4a67be(0x15e);_0x31d9a9[_0x4a67be(0x18d)](_0x453908=>{const _0x4adf2c=_0x4a67be,_0x2e2f1d=_0x453908[_0x4adf2c(0x135)]?'\x22'+_0x453908['email'][_0x4adf2c(0x23e)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x15d951=_0x453908['first_name']?'\x22'+_0x453908[_0x4adf2c(0xfd)][_0x4adf2c(0x23e)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x52ce87=_0x453908['last_name']?'\x22'+_0x453908['last_name'][_0x4adf2c(0x23e)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x393921+=_0x2e2f1d+','+_0x15d951+','+_0x52ce87+'\x0a';}),fs[_0x4a67be(0x1ba)](_0x4356da,_0x393921),console[_0x4a67be(0x115)](_0x4a67be(0x245)+_0x31d9a9[_0x4a67be(0x1c6)]+'\x20users\x20to\x20'+_0x4356da);const _0x2e8362={'lastExportDate':_0x297d6f[_0x4a67be(0xd4)](),'fileName':_0x4b0683,'userCount':_0x31d9a9['length']};fs['writeFileSync'](_0x1518f3,JSON[_0x4a67be(0x13e)](_0x2e8362,null,0x2));}catch(_0x3585ab){console[_0x4a67be(0x200)](_0x4a67be(0x1ec),_0x3585ab);}},calculateDefaultLastExportDate=_0x115793=>{const _0x722fe1=a26_0x426f66,_0x3779e5=new Date();return _0x115793==='biweekly'?_0x3779e5[_0x722fe1(0x15c)](_0x3779e5[_0x722fe1(0x218)]()-0xe):_0x3779e5[_0x722fe1(0x1bd)](_0x3779e5['getMonth']()-0x1),_0x3779e5;};router[a26_0x426f66(0x235)](a26_0x426f66(0x125),async(_0x1fe088,_0xf507cd)=>{const _0x455e1b=a26_0x426f66,_0x38fd40=path[_0x455e1b(0xc7)](path[_0x455e1b(0x1e6)](require[_0x455e1b(0x10d)]['filename']),_0x455e1b(0x24f));if(!fs[_0x455e1b(0x11d)](_0x38fd40))return _0xf507cd[_0x455e1b(0x1a4)](0xc8)[_0x455e1b(0x213)]({'exports':[]});try{const _0x20371e=fs[_0x455e1b(0x16e)](_0x38fd40)[_0x455e1b(0x1ac)](_0x15b775=>_0x15b775[_0x455e1b(0x231)](_0x455e1b(0x126))&&_0x15b775[_0x455e1b(0xcb)](_0x455e1b(0x1a6)))[_0x455e1b(0x159)](_0x4b6543=>{const _0x447812=_0x455e1b,_0x2a1cb9=path[_0x447812(0xc7)](_0x38fd40,_0x4b6543),_0x1459af=fs[_0x447812(0x182)](_0x2a1cb9),_0x24515f=fs[_0x447812(0x1d3)](_0x2a1cb9,_0x447812(0x12a)),_0x5086e=_0x24515f[_0x447812(0x148)]('\x0a')[_0x447812(0x1c6)]-0x1;return{'fileName':_0x4b6543,'createdAt':_0x1459af[_0x447812(0x1b5)],'userCount':_0x5086e};})['sort']((_0xd004ca,_0x2364a4)=>_0x2364a4[_0x455e1b(0x1c9)]-_0xd004ca[_0x455e1b(0x1c9)]);_0xf507cd[_0x455e1b(0x1a4)](0xc8)[_0x455e1b(0x213)]({'exports':_0x20371e});}catch(_0x257834){console[_0x455e1b(0x200)](_0x455e1b(0xdf),_0x257834),_0xf507cd[_0x455e1b(0x1a4)](0x1f4)['json']({'error':'Failed\x20to\x20retrieve\x20export\x20history'});}}),router[a26_0x426f66(0x18c)]('/users-export/trigger',async(_0x1af3da,_0x4b78eb)=>{const _0x494b6f=a26_0x426f66;try{await exportUsersList(),_0x4b78eb[_0x494b6f(0x1a4)](0xc8)['json']({'message':_0x494b6f(0xd3)});}catch(_0x4a99bb){console[_0x494b6f(0x200)]('Error\x20triggering\x20Users\x20export:',_0x4a99bb),_0x4b78eb[_0x494b6f(0x1a4)](0x1f4)['json']({'error':'Failed\x20to\x20trigger\x20export'});}}),router['get']('/users-export/download/:fileName',async(_0x542204,_0xe352c5)=>{const _0x567e8f=a26_0x426f66,{fileName:_0xe82e13}=_0x542204[_0x567e8f(0x1c7)],_0x2c82f1=path[_0x567e8f(0xc7)](path[_0x567e8f(0x1e6)](require['main'][_0x567e8f(0x124)]),_0x567e8f(0x24f),_0xe82e13);if(!fs[_0x567e8f(0x11d)](_0x2c82f1))return _0xe352c5[_0x567e8f(0x1a4)](0x194)[_0x567e8f(0x213)]({'error':_0x567e8f(0x157)});_0xe352c5[_0x567e8f(0x25d)](_0x2c82f1);});const cleanCacheForUserFiles=_0x34f26e=>{const _0x875065=a26_0x426f66;try{if(!fs[_0x875065(0x11d)](_0x34f26e)){console[_0x875065(0x115)](_0x875065(0x133)+_0x34f26e+_0x875065(0x1ce));return;}const _0x594f6f=path['join'](path[_0x875065(0x1e6)](require[_0x875065(0x10d)][_0x875065(0x124)]),_0x875065(0x1e2),'files');if(!fs['existsSync'](_0x594f6f)){console[_0x875065(0x115)]('Cache\x20directory\x20'+_0x594f6f+_0x875065(0x1ce));return;}const _0x9cc8d6=JSON[_0x875065(0x175)](fs[_0x875065(0x1d3)](path[_0x875065(0xc7)](path[_0x875065(0x1e6)](require['main'][_0x875065(0x124)]),_0x875065(0xd8)))),_0x47ade8=fs[_0x875065(0x16e)](_0x34f26e);_0x47ade8[_0x875065(0x18d)](_0x45d49b=>{const _0x49dd32=_0x875065;_0x9cc8d6[_0x49dd32(0x23b)][_0x49dd32(0x18d)](_0x24aad0=>{const _0xa16da4=_0x49dd32;_0x24aad0['goodFileName']===_0x45d49b&&_0x24aad0[_0xa16da4(0x254)][_0xa16da4(0x18d)](_0x5cbc1b=>{const _0x121981=_0xa16da4;try{fs[_0x121981(0x1e5)](path['join'](_0x594f6f,_0x5cbc1b['id']));}catch(_0x6be397){console['error'](_0x121981(0x260)+_0x5cbc1b['id']+':',_0x6be397);}});});}),analyzeConverterFiles(),console[_0x875065(0x115)]('Cache\x20cleaned\x20for\x20files\x20in\x20'+_0x34f26e);}catch(_0x3a7e39){console[_0x875065(0x200)](_0x875065(0x15a),_0x3a7e39);}};schedule[a26_0x426f66(0x1c4)](a26_0x426f66(0x250),exportUsersList),schedule[a26_0x426f66(0x1c4)](a26_0x426f66(0x196),sendFollowUpEmails),schedule[a26_0x426f66(0x1c4)]('0\x200\x20*\x20*\x20*',sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x6cf710=a26_0x426f66;try{const _0x33b9a5=path[_0x6cf710(0xc7)](path[_0x6cf710(0x1e6)](require[_0x6cf710(0x10d)][_0x6cf710(0x124)]),_0x6cf710(0x1e2),_0x6cf710(0x23b)),_0x30d20f=path[_0x6cf710(0xc7)](path['dirname'](require[_0x6cf710(0x10d)][_0x6cf710(0x124)]),'cadviewer',_0x6cf710(0x15b));if(!fs[_0x6cf710(0x11d)](_0x33b9a5)){logStream[_0x6cf710(0x1d8)](_0x6cf710(0x234)+_0x33b9a5+_0x6cf710(0x229));return;}if(!fs['existsSync'](_0x30d20f)){logStream[_0x6cf710(0x1d8)]('Le\x20dossier\x20'+_0x30d20f+_0x6cf710(0x229));return;}const _0xeaca74=fs['readdirSync'](_0x33b9a5),_0x1cf0d2={};_0xeaca74['forEach'](_0x27d1e0=>{const _0x42c251=_0x6cf710,_0x4e680a=path[_0x42c251(0xc7)](_0x33b9a5,_0x27d1e0),_0x3f0e29=fs[_0x42c251(0x182)](_0x4e680a),_0x556d1b=_0x27d1e0[_0x42c251(0x148)]('.'),_0x453865=_0x556d1b['slice'](0x0,-0x1)['filter']((_0x36fe62,_0x2f650d)=>!([_0x42c251(0x207),'rl'][_0x42c251(0x21d)](_0x36fe62[_0x42c251(0x226)]())&&_0x2f650d===_0x556d1b['length']-0x2))[_0x42c251(0xc7)]('.');!Object[_0x42c251(0x1c3)](_0x1cf0d2)[_0x42c251(0x21d)](_0x453865)?_0x1cf0d2[_0x453865]=[{'file':_0x27d1e0,'stats':_0x3f0e29}]:_0x1cf0d2[_0x453865][_0x42c251(0xf3)]({'file':_0x27d1e0,'stats':_0x3f0e29});});const _0x405a0d=[];_0xeaca74[_0x6cf710(0x18d)](_0xdf7361=>{const _0x48db04=_0x6cf710;if(!_0xdf7361['endsWith'](_0x48db04(0x1a1)))return;let _0x1fc94e=_0xdf7361;const _0x30021c=path[_0x48db04(0xc7)](_0x33b9a5,_0xdf7361),_0x19689c=fs[_0x48db04(0x182)](_0x30021c);let _0x34fd33=_0x19689c['size'],_0x20f1a8='';const _0x6a1917=fs['readFileSync'](_0x30021c,'utf8'),_0x1c7861=JSON[_0x48db04(0x175)](_0x6a1917),_0x2cfd17=_0x1c7861[_0x48db04(0x166)]?.[_0x48db04(0x159)](_0x5e6d1b=>_0x5e6d1b[_0x48db04(0x1a0)])??[];if(_0x1c7861['filename'])_0x1fc94e=_0x1c7861['filename'];const _0x502efe=_0xdf7361['split']('.'),_0x401107=_0x502efe[_0x48db04(0x19b)](0x0,-0x1)[_0x48db04(0x1ac)]((_0x12cf8e,_0x5d50ec)=>!(['dwg','rl'][_0x48db04(0x21d)](_0x12cf8e[_0x48db04(0x226)]())&&_0x5d50ec===_0x502efe['length']-0x2))[_0x48db04(0xc7)]('.'),_0x25f48e=Object[_0x48db04(0x1c3)](_0x1cf0d2)[_0x48db04(0x21d)](_0x401107)?_0x1cf0d2[_0x401107]:[];for(const _0x232939 of _0x2cfd17){Object[_0x48db04(0x1c3)](_0x1cf0d2)[_0x48db04(0x21d)](_0x232939)&&_0x25f48e[_0x48db04(0xf3)](..._0x1cf0d2[_0x232939]);}const _0x2de6c0=_0x25f48e[_0x48db04(0x159)](({file:_0x4a0791,stats:_0xc96f89})=>{const _0x503acd=_0x48db04;return!_0x4a0791['endsWith'](_0x503acd(0x1a1))&&(_0x34fd33+=_0xc96f89[_0x503acd(0x195)]),{'id':_0x4a0791,'name':_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x20a))?_0x503acd(0x174):_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x1f8))?_0x503acd(0x1aa):_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x209))?_0x503acd(0x22d):_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x1c5))?_0x503acd(0xca):_0x4a0791['endsWith']('.csv')?_0x503acd(0x221):_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x25e))?_0x503acd(0x185):_0x4a0791[_0x503acd(0x148)]('.')[_0x503acd(0x227)]()[_0x503acd(0xd1)](),'color':_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x20a))||_0x4a0791[_0x503acd(0xcb)]('.svgz')?_0x503acd(0x165):_0x4a0791['endsWith'](_0x503acd(0x209))?'red':_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x1c5))?_0x503acd(0x180):_0x4a0791[_0x503acd(0xcb)]('.csv')?_0x503acd(0x239):_0x4a0791[_0x503acd(0xcb)](_0x503acd(0x25e))?_0x503acd(0x237):_0x503acd(0x23f)};});if(_0x2de6c0[_0x48db04(0x23a)](_0x143770=>_0x143770['id']['includes']('.rl.json')))_0x20f1a8=_0x48db04(0x116);else{if(_0x2de6c0[_0x48db04(0x23a)](_0x2bd1e4=>[_0x48db04(0x264),'svgz'][_0x48db04(0x21d)](_0x2bd1e4['id'][_0x48db04(0x148)]('.')[_0x48db04(0x227)]()))&&_0x2de6c0[_0x48db04(0x23a)](_0x2d20e8=>[_0x48db04(0x1f5)]['includes'](_0x2d20e8['id'][_0x48db04(0x148)]('.')['pop']())))_0x20f1a8=_0x48db04(0x21f);else{if(_0x2de6c0[_0x48db04(0x23a)](_0x302df9=>[_0x48db04(0x264),_0x48db04(0x14a)][_0x48db04(0x21d)](_0x302df9['id'][_0x48db04(0x148)]('.')[_0x48db04(0x227)]())))_0x20f1a8=_0x48db04(0x1a7);else{if(_0x2de6c0[_0x48db04(0x23a)](_0x4e5685=>[_0x48db04(0x213)][_0x48db04(0x21d)](_0x4e5685['id']['split']('.')[_0x48db04(0x227)]()))&&_0x2de6c0[_0x48db04(0x23a)](_0x3ab075=>[_0x48db04(0x207)][_0x48db04(0x21d)](_0x3ab075['id'][_0x48db04(0x148)]('.')['pop']())))_0x20f1a8=_0x48db04(0x1a5);else{if(_0x2de6c0[_0x48db04(0x23a)](_0x398e30=>[_0x48db04(0x208)][_0x48db04(0x21d)](_0x398e30['id'][_0x48db04(0x148)]('.')[_0x48db04(0x227)]())))_0x20f1a8=_0x48db04(0x1fc);else{if(_0x2de6c0['some'](_0x77e20d=>['json'][_0x48db04(0x21d)](_0x77e20d['id'][_0x48db04(0x148)]('.')['pop']()))&&!_0x2de6c0['some'](_0x35fd85=>[_0x48db04(0x207)]['includes'](_0x35fd85['id'][_0x48db04(0x148)]('.')[_0x48db04(0x227)]())))_0x20f1a8=_0x48db04(0x261);else _0x2de6c0['some'](_0x313b74=>[_0x48db04(0x213)][_0x48db04(0x21d)](_0x313b74['id'][_0x48db04(0x148)]('.')[_0x48db04(0x227)]()))&&(_0x20f1a8='Cache\x20conversion');}}}}}_0x405a0d[_0x48db04(0xf3)]({'name':_0xdf7361,'goodFileName':_0x1fc94e,'size':_0x34fd33,'createdAt':_0x19689c[_0x48db04(0x1b5)],'updatedAt':_0x19689c['ctime'],'readAt':_0x19689c[_0x48db04(0x188)],'action':_0x20f1a8,'availableFormats':_0x2de6c0});}),_0x405a0d[_0x6cf710(0x1a9)]((_0x297573,_0xc2b67f)=>_0xc2b67f[_0x6cf710(0x1b9)]-_0x297573[_0x6cf710(0x1b9)]);const _0x12ec5d={'timestamp':new Date(),'totalFiles':_0x405a0d['length'],'files':_0x405a0d},_0x10ae5e=path[_0x6cf710(0xc7)](_0x30d20f,'converter-files-analysis.json');fs[_0x6cf710(0x1ba)](_0x10ae5e,JSON[_0x6cf710(0x13e)](_0x12ec5d,null,0x2));}catch(_0x1efa0c){console[_0x6cf710(0x115)](_0x6cf710(0x22f)),console[_0x6cf710(0x115)](_0x6cf710(0xcc)+_0x1efa0c[_0x6cf710(0x228)]);}},scheduleFileAnalysis=()=>{const _0x473376=a26_0x426f66;analyzeConverterFiles(),schedule[_0x473376(0x1c4)](_0x473376(0x123),analyzeConverterFiles),logStream[_0x473376(0x1d8)](_0x473376(0xdb));};scheduleFileAnalysis(),module[a26_0x426f66(0x24f)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};