const a26_0x3ece13=a26_0x2c90;function a26_0x2c90(_0x513da6,_0x474eee){const _0x185399=a26_0x1853();return a26_0x2c90=function(_0x2c9013,_0x31a05e){_0x2c9013=_0x2c9013-0xf3;let _0x232b70=_0x185399[_0x2c9013];return _0x232b70;},a26_0x2c90(_0x513da6,_0x474eee);}(function(_0x2ebb07,_0x21e564){const _0x1e03d8=a26_0x2c90,_0x104b8a=_0x2ebb07();while(!![]){try{const _0x11a3f5=-parseInt(_0x1e03d8(0x237))/0x1+-parseInt(_0x1e03d8(0x19e))/0x2*(-parseInt(_0x1e03d8(0xfe))/0x3)+-parseInt(_0x1e03d8(0x103))/0x4+-parseInt(_0x1e03d8(0x23e))/0x5*(parseInt(_0x1e03d8(0x10f))/0x6)+parseInt(_0x1e03d8(0x1ae))/0x7*(parseInt(_0x1e03d8(0x24d))/0x8)+parseInt(_0x1e03d8(0x222))/0x9+-parseInt(_0x1e03d8(0x25c))/0xa*(-parseInt(_0x1e03d8(0x11c))/0xb);if(_0x11a3f5===_0x21e564)break;else _0x104b8a['push'](_0x104b8a['shift']());}catch(_0x1661ee){_0x104b8a['push'](_0x104b8a['shift']());}}}(a26_0x1853,0x1cd2c));const express=require(a26_0x3ece13(0x269)),router=express['Router'](),multer=require('multer'),fs=require('fs'),path=require('path'),getHotConfig=require(a26_0x3ece13(0x219))['getHotConfig'],{exec}=require(a26_0x3ece13(0x144)),os=require('os'),conn=require('../libs/mysql.js'),bcrypt=require(a26_0x3ece13(0x153)),osu=require(a26_0x3ece13(0x16e)),schedule=require(a26_0x3ece13(0x18a)),counter=require('../libs/counter.js'),{randomUUID}=require(a26_0x3ece13(0x18c)),logStream=require('../libs/log'),config=require(a26_0x3ece13(0x15c));router[a26_0x3ece13(0x1bd)]('/tailwind.js',async(_0x108a1f,_0x2e0677)=>{const _0x3e8070=a26_0x3ece13;_0x2e0677['sendFile'](path[_0x3e8070(0x148)](path[_0x3e8070(0x16a)](require[_0x3e8070(0x23b)][_0x3e8070(0xf9)]),'cadviewer/settings/tailwind.js'));}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x22e),async(_0x29ad45,_0x3889b4)=>{const _0x197105=a26_0x3ece13;_0x3889b4['sendFile'](path['join'](path[_0x197105(0x16a)](require[_0x197105(0x23b)]['filename']),_0x197105(0x183)));}),router[a26_0x3ece13(0x1bd)]('/style.css',async(_0x238f56,_0x499793)=>{const _0x43a429=a26_0x3ece13;_0x499793[_0x43a429(0x204)](path[_0x43a429(0x148)](path['dirname'](require[_0x43a429(0x23b)]['filename']),_0x43a429(0x1e3)));}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x128),async(_0x544bc5,_0x1ef599)=>{const _0x27d999=a26_0x3ece13;_0x1ef599['sendFile'](path[_0x27d999(0x148)](path[_0x27d999(0x16a)](require[_0x27d999(0x23b)][_0x27d999(0xf9)]),'cadviewer/settings/vanilla-toast.css'));}),router['get'](a26_0x3ece13(0x176),async(_0x5915bf,_0x4252ce)=>{const _0xa6ee6=a26_0x3ece13;_0x4252ce[_0xa6ee6(0x204)](path[_0xa6ee6(0x148)](path[_0xa6ee6(0x16a)](require[_0xa6ee6(0x23b)][_0xa6ee6(0xf9)]),'cadviewer/settings/vanilla-toast.js'));}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x22d),async(_0x3375ae,_0x47b267)=>{const _0x4ad22b=a26_0x3ece13;_0x47b267[_0x4ad22b(0x204)](path[_0x4ad22b(0x148)](path[_0x4ad22b(0x16a)](require[_0x4ad22b(0x23b)][_0x4ad22b(0xf9)]),_0x4ad22b(0x131)));}),router[a26_0x3ece13(0x1bd)]('/',async(_0x4a7c37,_0x13701)=>{const _0x1405e0=a26_0x3ece13,_0x57b03b=fs['readFileSync'](path[_0x1405e0(0x148)](path[_0x1405e0(0x16a)](require[_0x1405e0(0x23b)][_0x1405e0(0xf9)]),_0x1405e0(0x1f9)),_0x1405e0(0x1c4)),_0x1f4684=_0x57b03b[_0x1405e0(0x20f)](_0x1405e0(0x1a3),_0x4a7c37[_0x1405e0(0x1c6)]);_0x13701[_0x1405e0(0x24c)](_0x1f4684);}),router[a26_0x3ece13(0x1bd)]('/licences',async(_0x5b4649,_0x130d28)=>{const _0x5e9ada=a26_0x3ece13,_0x15e9d5=fs[_0x5e9ada(0x1cc)](path[_0x5e9ada(0x148)](path[_0x5e9ada(0x16a)](require['main'][_0x5e9ada(0xf9)]),_0x5e9ada(0x14b)),'utf8'),_0x21f9b4=_0x15e9d5['replaceAll'](_0x5e9ada(0x1a3),_0x5b4649[_0x5e9ada(0x1c6)]);_0x130d28[_0x5e9ada(0x24c)](_0x21f9b4);}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x201),async(_0x16adef,_0x3ac294)=>{const _0x276d10=a26_0x3ece13,_0x275a6=fs['readFileSync'](path[_0x276d10(0x148)](path['dirname'](require[_0x276d10(0x23b)][_0x276d10(0xf9)]),_0x276d10(0x1c2)),_0x276d10(0x1c4)),_0x39baa8=_0x275a6[_0x276d10(0x20f)]('{version}',_0x16adef[_0x276d10(0x1c6)]);_0x3ac294[_0x276d10(0x24c)](_0x39baa8);}),router[a26_0x3ece13(0x1bd)]('/folders',async(_0x919e38,_0x1515e1)=>{const _0x3467cd=a26_0x3ece13,_0x4d88e8=fs[_0x3467cd(0x1cc)](path[_0x3467cd(0x148)](path[_0x3467cd(0x16a)](require['main'][_0x3467cd(0xf9)]),'cadviewer/settings/folders.html'),_0x3467cd(0x1c4)),_0x596af3=_0x4d88e8[_0x3467cd(0x20f)](_0x3467cd(0x1a3),_0x919e38['version']);_0x1515e1[_0x3467cd(0x24c)](_0x596af3);}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x1b8),async(_0x494523,_0x1a4ca8)=>{const _0x3dc2e2=a26_0x3ece13,_0x52e80f=path[_0x3dc2e2(0x148)](path[_0x3dc2e2(0x16a)](require[_0x3dc2e2(0x23b)]['filename']),_0x3dc2e2(0x1e4)),_0x417150=JSON[_0x3dc2e2(0x202)](fs['readFileSync'](_0x52e80f,_0x3dc2e2(0x1c4))),_0x2308f7=_0x417150[_0x3dc2e2(0xf6)];if(!fs[_0x3dc2e2(0x23c)](_0x2308f7))return _0x1a4ca8[_0x3dc2e2(0x261)](0x194)[_0x3dc2e2(0x13a)]({'message':'Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.'});const _0x134b86=_0x90c520=>{const _0x45ee8f=_0x3dc2e2;let _0x41cb35=0x0;return _0x90c520[_0x45ee8f(0x1fc)](_0x516e9d=>{const _0x12bb13=_0x45ee8f;_0x516e9d['isFolder']?_0x41cb35+=_0x134b86(_0x516e9d[_0x12bb13(0x134)]):_0x41cb35+=_0x516e9d[_0x12bb13(0x217)];}),_0x41cb35;},_0x2ac5a8=_0x474226=>{const _0x2cfe82=_0x3dc2e2;if(_0x474226<0x400)return _0x474226+'\x20B';else{if(_0x474226<0x400*0x400)return(_0x474226/0x400)[_0x2cfe82(0x1cb)](0x2)+_0x2cfe82(0x1de);else return _0x474226<0x400*0x400*0x400?(_0x474226/0x400/0x400)[_0x2cfe82(0x1cb)](0x2)+_0x2cfe82(0x1b1):(_0x474226/0x400/0x400/0x400)[_0x2cfe82(0x1cb)](0x2)+_0x2cfe82(0x140);}},_0xa61a86=(_0x532675,_0x444fe9='')=>{const _0x1c8b65=_0x3dc2e2,_0x168ddd=fs[_0x1c8b65(0x266)](_0x532675),_0x627dc=[];return _0x168ddd[_0x1c8b65(0x1fc)](_0x30fec5=>{const _0x924f52=_0x1c8b65,_0x2ff5bb=path[_0x924f52(0x148)](_0x532675,_0x30fec5)[_0x924f52(0x20f)]('\x5c','/'),_0x409832=fs[_0x924f52(0x19a)](_0x2ff5bb);if(_0x409832[_0x924f52(0x1e2)]()){const _0x1673e5=_0xa61a86(_0x2ff5bb,_0x444fe9+_0x924f52(0x235));_0x627dc[_0x924f52(0x16d)]({'name':_0x30fec5,'size':_0x409832[_0x924f52(0x217)],'path':_0x2ff5bb,'permissions':_0x409832[_0x924f52(0x167)],'isFolder':!![],'sub_dirs':_0x1673e5});}else _0x627dc[_0x924f52(0x16d)]({'name':_0x30fec5,'size':_0x409832['size'],'path':_0x2ff5bb,'permissions':_0x409832['mode'],'isFolder':![]});}),_0x627dc;};let _0x21617d=_0xa61a86(_0x2308f7);const _0x1dd919=_0xdd7793=>{return _0xdd7793['forEach'](_0x37544f=>{const _0x38c019=a26_0x2c90;_0x37544f[_0x38c019(0x19f)]?(_0x37544f[_0x38c019(0x12b)]=_0x2ac5a8(_0x134b86(_0x37544f[_0x38c019(0x134)])),_0x37544f[_0x38c019(0x134)]=_0x1dd919(_0x37544f[_0x38c019(0x134)])):_0x37544f[_0x38c019(0x12b)]=_0x2ac5a8(_0x37544f[_0x38c019(0x217)]);}),_0xdd7793;};_0x1a4ca8[_0x3dc2e2(0x261)](0xc8)[_0x3dc2e2(0x13a)](_0x1dd919(_0x21617d));}),router['post']('/folders/download',async(_0xdbf12a,_0x14fb97)=>{const _0x222b07=a26_0x3ece13,{path:_0x57e94d}=_0xdbf12a[_0x222b07(0x1f6)],_0x38c133=_0x57e94d[_0x222b07(0x10a)]('/')['pop']();if(!fs[_0x222b07(0x23c)](_0x57e94d))return _0x14fb97[_0x222b07(0x261)](0x194)[_0x222b07(0x13a)]({'message':_0x222b07(0x18d)});_0x14fb97[_0x222b07(0x21a)](_0x222b07(0x23a),'application/octet-stream'),_0x14fb97[_0x222b07(0x21a)]('Content-Disposition',_0x222b07(0x1c0)+_0x38c133+'\x22'),_0x14fb97[_0x222b07(0x1ee)](_0x57e94d,_0x11cff3=>{const _0x37cdbe=_0x222b07;_0x11cff3&&_0x14fb97[_0x37cdbe(0x261)](0x1f4)[_0x37cdbe(0x13a)]({'message':'Error\x20downloading\x20file.'});});}),router['post'](a26_0x3ece13(0x150),async(_0x586c8d,_0xa7b027)=>{const _0x8b8913=a26_0x3ece13,_0x276ea3=_0x586c8d[_0x8b8913(0x1f6)],_0x400b16=getHotConfig()[_0x8b8913(0xf6)],_0x52ba73=path[_0x8b8913(0x148)](_0x400b16,_0x276ea3[_0x8b8913(0x169)]);if(!fs[_0x8b8913(0x23c)](_0x52ba73))return _0xa7b027[_0x8b8913(0x261)](0x194)[_0x8b8913(0x13a)]({'message':_0x8b8913(0x10d)});if(fs[_0x8b8913(0x23c)](path[_0x8b8913(0x148)](_0x52ba73,_0x276ea3[_0x8b8913(0x1bc)])))return _0xa7b027[_0x8b8913(0x261)](0x199)[_0x8b8913(0x13a)]({'message':_0x8b8913(0x216)});fs['mkdir'](path[_0x8b8913(0x148)](_0x52ba73,_0x276ea3[_0x8b8913(0x1bc)]),_0x1e0589=>{const _0x37b037=_0x8b8913;_0x1e0589&&_0xa7b027[_0x37b037(0x261)](0x1f4)[_0x37b037(0x13a)]({'message':'Error\x20creating\x20folder.'}),_0xa7b027[_0x37b037(0x261)](0xc8)[_0x37b037(0x13a)]({'message':_0x37b037(0x132)});});}),router[a26_0x3ece13(0x215)](a26_0x3ece13(0x1da),async(_0x36685b,_0x1f29cb)=>{const _0x580091=a26_0x3ece13,{newName:_0x58fe02,isFolder:_0x11336d,path:_0x41cb55}=_0x36685b[_0x580091(0x1f6)];if(!fs[_0x580091(0x23c)](_0x41cb55))return _0x1f29cb['status'](0x194)[_0x580091(0x13a)]({'message':_0x11336d?'Folder\x20not\x20found':'File\x20not\x20found'});const _0x5dcecc=_0x41cb55[_0x580091(0x1b7)](_0x41cb55[_0x580091(0x10a)]('/')[_0x580091(0x11d)](),_0x58fe02);fs['rename'](_0x41cb55,_0x5dcecc,_0x5f0b8b=>{const _0x3ff4cc=_0x580091;_0x5f0b8b&&_0x1f29cb[_0x3ff4cc(0x261)](0x1f4)['json']({'message':_0x11336d?_0x3ff4cc(0x1c1):_0x3ff4cc(0x1e7)}),_0x1f29cb[_0x3ff4cc(0x261)](0xc8)[_0x3ff4cc(0x13a)]({'message':_0x11336d?_0x3ff4cc(0x20a):_0x3ff4cc(0xf8)});});}),router[a26_0x3ece13(0x236)]('/folders/delete',async(_0x300192,_0x1de75f)=>{const _0x4e7862=a26_0x3ece13,{path:_0x2046c6}=_0x300192[_0x4e7862(0x1f6)];if(!fs['existsSync'](_0x2046c6))return _0x1de75f[_0x4e7862(0x261)](0x194)['json']({'message':_0x4e7862(0x246)});const _0x2d0814=fs[_0x4e7862(0x19a)](_0x2046c6);if(_0x2d0814['isFile']())fs[_0x4e7862(0x207)](_0x2046c6,_0x45f16d=>{const _0x19a0eb=_0x4e7862;_0x45f16d&&_0x1de75f['status'](0x1f4)[_0x19a0eb(0x13a)]({'message':_0x19a0eb(0x258)}),_0x1de75f[_0x19a0eb(0x261)](0xc8)[_0x19a0eb(0x13a)]({'message':'File\x20deleted.'});});else _0x2d0814[_0x4e7862(0x1e2)]()&&fs[_0x4e7862(0x263)](_0x2046c6,{'recursive':!![]},_0x4d04b3=>{const _0x2ca24d=_0x4e7862;_0x4d04b3&&_0x1de75f[_0x2ca24d(0x261)](0x1f4)['json']({'message':'Error\x20deleting\x20folder.'}),_0x1de75f[_0x2ca24d(0x261)](0xc8)['json']({'message':_0x2ca24d(0x265)});});});!fs[a26_0x3ece13(0x23c)]('./tmp')&&fs['mkdirSync'](a26_0x3ece13(0x13f));const storage=multer[a26_0x3ece13(0x1fd)]({'destination':(_0x2eb5a6,_0x3a1b55,_0x2cc135)=>{const _0x3bef2e=a26_0x3ece13;_0x2cc135(null,_0x3bef2e(0x1a5));},'filename':(_0x31aa25,_0x542436,_0x58e288)=>{const _0x315ad2=a26_0x3ece13;_0x58e288(null,Date[_0x315ad2(0x15f)]()+path[_0x315ad2(0x211)](_0x542436['originalname']));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});function a26_0x1853(){const _0x5e0e10=['/cache/csv/:file','cadviewer/settings/rest-api-parameters.json','/metrics/reset','isFile','role','who','renameSync','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','win32','usedMemPercentage','/icons.js','/chart.min.js','username','../libs/mail','getStats','fileLoad_Password','Error\x20getting\x20cpu\x20usage','DwgMerge\x20Settings','\x20\x20\x20','delete','29550NvzuTK','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','standard','Content-Type','main','existsSync','Error\x20updating\x20config','85yEFTmS','linklist_executable','windows','scheduleJob','Failed\x20to\x20get\x20cache\x20stats','callbackMethod','fileLocationUrl','/cache/files/:id','File\x20or\x20Folder\x20not\x20found','reset','/converters/files/print/','file','Invalid\x20user','radio|','send','95048wwKUUl','File\x20deleted\x20successfully','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','.log\x22','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','keys','converterLocation','access','licenseLocation','linklistLocation','Error\x20deleting\x20file.','fontLocation','.csv','/logs','178460GkvLZs','Config\x20updated.','/restapi-test/parameters/save','query','/conversion/memorydata','status','DWG\x20file\x20in\x20multiple\x20files','rmdir','No\x20files\x20uploaded','Folder\x20deleted.','readdirSync','oos','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','express','mysqlUsername','Permission\x20750\x20for\x20the\x20\x22','email','folderLocation','type','File\x20renamed.','filename','reduce','CSV','getMonth','blocks','3nRmHFX','LinkList\x20Settings','percentage','ContentSecurityPolicy','zombieProcesses','514988TkKOhr','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','autoxchange_executable','hostname','Counter\x20reset\x20successfully','/cache/stats','0\x201\x20*\x20*\x20*','split','arch','Error\x20deleting\x20user\x20folder:','Folder\x20not\x20found.','avatar_url','61866fFsyvV','W_OK','Error\x20deleting\x20old\x20demo_user\x20accounts:','SVG','fileLocation','test','usedGb','User\x20directory\x20flushed\x20successfully','atime','demoUserRetentionDaysAlertBeforeDeletion','ceil','/conversion/list','mkdirSync','110adxIDL','pop','.gitkeep','red','resolve','Files\x20uploaded\x20successfully','An\x20error\x20occurred\x20while\x20checking.','/doctor/check','SVGZ','AutoXchange\x20Settings','files','totalGB','/vanilla-toast.css','Server\x20Settings','darwin','formatedSize','/cache','filter','image/svg+xml','/doctor','.dwg','cadviewer/settings/icons.js','Folder\x20created.','birthtime','sub_dirs','Error\x20saving\x20parameters.','includes','linklist_executable_windows','/config/content','DWG\x20to\x20SVG\x20Conversion','json','createdAt','Old\x20demo_user\x20accounts\x20(','writeFile','cadviewer/settings/cache-stats.js','./tmp','\x20GB','uptime','promise','globalBearerAutentication','child_process','dwgmerge_executable_windows','number','Parameters\x20saved.','join','autodetect_platform','slice','cadviewer/settings/licences.html','Deleting\x20old\x20demo_user\x20accounts...','gray','usage','Deletion\x20prevention\x20email\x20sent\x20to\x20','/folders/create','RL/TL\x20Processing','originalname','bcrypt','ServerUrl','===================error===================','post','.png','demoUserRetentionDays','dir','/users','clean','../CADViewer_config.json','total','fileLoad_UserName','now','/metrics','ContentSecurityPolicyReportOnly','avatar','mimetype','setup_mysqlHost','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Cache\x20conversion','mode','freeGb','path','dirname','error','JSON','push','node-os-utils','.json','osCmd','Database\x20Settings','Mail\x20Server\x20Settings','entries','autoxchange_executable_windows','Cache\x20flushed\x20successfully','/vanilla-toast.js','toString','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','ServerLocation','dwgmerge_executable','userId','conversionTimeSpend','\x22\x20executable','ctime','\x20days\x20have\x20been\x20deleted.','boolean','converters','cpu','cadviewer/settings/chart.min.js','first_name','rmSync','/logs/clean','.pdf','then','SELECT\x20*\x20FROM\x20users','node-schedule','dwgmergeLocation','crypto','File\x20not\x20found','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','demo_user','green','mysqlHost','/users/:userId','constants','set','model','cadviewer/settings/users.html','linux','0\x200\x20*\x20*\x20*','Log\x20file\x20cleaned.','statSync','====================','.svgz','admin','126394qtRWra','isFolder','count','linklist_executable_linux','folder_name','{version}','readFile','tmp','Failed\x20to\x20flush\x20cache','Error\x20getting\x20os\x20info','cadviewer/settings/doctor.html','converterpathLin','cadviewer/settings/logs.html','single','has','/converters/files/','14cFReID','sendMail','R_OK','\x20MB','proc','/converters/files/pdf/','/users/flush-dir','/conversion/clean','./uploads/','replace','/folders','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','DWG\x20to\x20PDF\x20Conversion','converterpathWin','folderName','get','unlinkSync','hlall','attachment;\x20filename=\x22','Error\x20renaming\x20folder.','cadviewer/settings/config.html','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','utf8','Monitoring\x20file\x20cleaned.','version','padStart','dwgmerge_executable_linux','/users/list','autodetect_location','toFixed','readFileSync','`crypted_password`\x20=\x20?,\x20','drive','sort','usedPercentage','zlib','autoxchange_executable_linux','/content/redlines/','hash','pdf','platform','exports','/cache-stats.js','getDate','/folders/update','gunzipSync','.log','Read\x20and\x20write\x20permission\x20for\x20folder\x20','\x20KB','Display\x20of\x20DWG','toLocaleLowerCase','writeFileSync','isDirectory','cadviewer/settings/style.css','CADViewer_config.json','mysqlDatabase','cadviewer/settings/requests-callapiconversion-monitoring.json','Error\x20renaming\x20file.','totalProcesses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','endsWith','usedGB','/folders/upload','whoami','download','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','split_details.json','/cache/files','length','callbackMethod_gatewayUrl','conversionMemoryUsage','logs','body','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','Error!\x20Something\x20went\x20wrong.','cadviewer/settings/home.html','/converters/files/merged/','yellow','forEach','diskStorage','.svg','/cache/flush','User\x20created\x20successfully','/config','parse','/config/update','sendFile','X_OK','call-Api_Conversion_','unlink','info','params','Folder\x20renamed.','getFullYear','map','totalMemMb','=============================>','replaceAll','log','extname','stringify','Failed\x20to\x20send\x20email\x20to\x20','/restapi-test/parameters/search','put','Folder\x20already\x20exists.','size','cvjs_svgz_compress','../libs/config','setHeader','globalBearerAutenticationToken',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','svg','mysqlPassword','trim','execute','memorydata.csv','1676025unVcis'];a26_0x1853=function(){return _0x5e0e10;};return a26_0x1853();}router[a26_0x3ece13(0x156)](a26_0x3ece13(0x1ec),upload['array'](a26_0x3ece13(0x126)),async(_0x230ed4,_0x566dec)=>{const _0x1a4883=a26_0x3ece13,_0x4d2e38=_0x230ed4[_0x1a4883(0x1f6)];if(!_0x230ed4[_0x1a4883(0x126)]||_0x230ed4[_0x1a4883(0x126)]['length']===0x0)return _0x566dec['status'](0x190)[_0x1a4883(0x13a)]({'message':_0x1a4883(0x264)});const _0x5de7dc=getHotConfig()[_0x1a4883(0xf6)],_0x5475ef=path[_0x1a4883(0x148)](_0x5de7dc,_0x4d2e38[_0x1a4883(0x169)]);if(!fs['existsSync'](_0x5475ef))return _0x566dec[_0x1a4883(0x261)](0x194)['json']({'message':'Folder\x20not\x20found.'});const _0x6a3d72=_0x230ed4[_0x1a4883(0x126)][_0x1a4883(0x20c)](_0x818c=>({'originalname':_0x818c[_0x1a4883(0x152)],'filename':_0x818c[_0x1a4883(0xf9)],'mimetype':_0x818c[_0x1a4883(0x163)],'size':_0x818c[_0x1a4883(0x217)]}));_0x6a3d72[_0x1a4883(0x1fc)](_0x351eb3=>{const _0x5e7f09=_0x1a4883;fs[_0x5e7f09(0x229)](path[_0x5e7f09(0x148)](_0x5e7f09(0x1a5),_0x351eb3['filename']),path[_0x5e7f09(0x148)](_0x5475ef,_0x351eb3[_0x5e7f09(0x152)]));}),_0x566dec['status'](0xc8)[_0x1a4883(0x13a)]({'message':_0x1a4883(0x121),'files':_0x6a3d72});}),router['put']('/config/global-update',async(_0x4ae617,_0x462fc5)=>{const _0x54e42c=a26_0x3ece13,_0x1e1c39=path['join'](path[_0x54e42c(0x16a)](require[_0x54e42c(0x23b)][_0x54e42c(0xf9)]),'CADViewer_config.json'),{config:_0x118b8a}=_0x4ae617[_0x54e42c(0x1f6)];if(!_0x118b8a)return _0x462fc5[_0x54e42c(0x261)](0x190)[_0x54e42c(0x13a)]({'message':'No\x20config\x20object\x20provided'});try{fs['writeFileSync'](_0x1e1c39,JSON[_0x54e42c(0x212)](_0x118b8a,null,0x4)),_0x462fc5[_0x54e42c(0x261)](0xc8)[_0x54e42c(0x13a)]({'message':'Config\x20updated\x20successfully'});}catch(_0x26b917){_0x462fc5[_0x54e42c(0x261)](0x1f4)[_0x54e42c(0x13a)]({'message':_0x54e42c(0x23d)});}}),router[a26_0x3ece13(0x215)](a26_0x3ece13(0x203),async(_0x5c8721,_0x76ba2)=>{const _0x4c14fc=a26_0x3ece13,{key:_0x2a912f,value:_0x1601da}=_0x5c8721[_0x4c14fc(0x1f6)],_0x160801=path['join'](path[_0x4c14fc(0x16a)](require['main']['filename']),'CADViewer_config.json');fs['readFile'](_0x160801,_0x4c14fc(0x1c4),function(_0x6dd0a3,_0x4aae4f){const _0xe037b=_0x4c14fc;_0x6dd0a3&&_0x76ba2[_0xe037b(0x261)](0x1f4)[_0xe037b(0x24c)](_0x6dd0a3);const _0x2a892b=JSON[_0xe037b(0x202)](_0x4aae4f);_0x2a892b[_0x2a912f]=_0x1601da;if(_0x2a912f===_0xe037b(0x1ca)){let _0xcb7b6='';if(_0x2a892b[_0xe037b(0x149)]){_0xcb7b6=os[_0xe037b(0x1d6)]();if(_0xcb7b6===_0xe037b(0x22b))_0xcb7b6=_0xe037b(0x240);else{if(_0xcb7b6===_0xe037b(0x12a))_0xcb7b6=_0xe037b(0x197);}}else _0xcb7b6=_0x2a892b['platform'];if(_0xcb7b6===_0xe037b(0x240)){_0x2a892b[_0xe037b(0x179)]=path[_0xe037b(0x120)](__dirname,'..')+'/';const _0x13d867=/\\/g;_0x2a892b['ServerLocation']=_0x2a892b[_0xe037b(0x179)][_0xe037b(0x1b7)](_0x13d867,'/');}else _0x2a892b['ServerLocation']=path[_0xe037b(0x120)](__dirname,'..')+'/';}if(_0x2a912f===_0xe037b(0x149)){let _0x3853de=os[_0xe037b(0x1d6)]();if(_0x3853de===_0xe037b(0x22b))_0x3853de=_0xe037b(0x240);else _0x3853de=_0xe037b(0x197);_0x3853de===_0xe037b(0x240)?_0x1601da===!![]&&(_0x2a892b[_0xe037b(0x105)]=_0x2a892b['autoxchange_executable_windows'],_0x2a892b[_0xe037b(0x17a)]=_0x2a892b[_0xe037b(0x145)],_0x2a892b[_0xe037b(0x23f)]=_0x2a892b[_0xe037b(0x137)]):_0x1601da===!![]&&(_0x2a892b[_0xe037b(0x105)]=_0x2a892b[_0xe037b(0x1d2)],_0x2a892b[_0xe037b(0x17a)]=_0x2a892b[_0xe037b(0x1c8)],_0x2a892b['linklist_executable']=_0x2a892b[_0xe037b(0x1a1)]),_0x2a892b[_0xe037b(0x1d6)]=_0x3853de;}if(_0x2a892b[_0xe037b(0x149)]){let _0x62eea2=os[_0xe037b(0x1d6)]();if(_0x62eea2==='win32')_0x62eea2='windows';else _0x62eea2=_0xe037b(0x197);if(_0x62eea2===_0xe037b(0x240)){if(_0x2a912f===_0xe037b(0x174))_0x2a892b[_0xe037b(0x105)]=_0x1601da;else{if(_0x2a912f==='dwgmerge_executable_windows')_0x2a892b[_0xe037b(0x17a)]=_0x1601da;else _0x2a912f===_0xe037b(0x137)&&(_0x2a892b['linklist_executable']=_0x1601da);}}else{if(_0x2a912f==='autoxchange_executable_linux')_0x2a892b[_0xe037b(0x105)]=_0x1601da;else{if(_0x2a912f===_0xe037b(0x1c8))_0x2a892b[_0xe037b(0x17a)]=_0x1601da;else _0x2a912f===_0xe037b(0x1a1)&&(_0x2a892b[_0xe037b(0x23f)]=_0x1601da);}}}fs[_0xe037b(0x13d)](_0x160801,JSON[_0xe037b(0x212)](_0x2a892b,null,0x4),function(_0x2f7ea6){const _0x4851db=_0xe037b;_0x2f7ea6&&_0x76ba2[_0x4851db(0x261)](0x1f4)[_0x4851db(0x24c)](_0x2f7ea6),_0x76ba2[_0x4851db(0x261)](0xc8)['json']({'message':_0x4851db(0x25d)});});});}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x138),async(_0x58bcaf,_0x10bca4)=>{const _0xc4274f=a26_0x3ece13,_0xbaefdc=getHotConfig(),_0x349b02=(_0xbaefdc[_0xc4274f(0x18b)][_0xc4274f(0x136)](_0xbaefdc['ServerLocation'])?'':_0xbaefdc['ServerLocation'])+_0xbaefdc[_0xc4274f(0x18b)],_0xb0c87d=(_0xbaefdc[_0xc4274f(0x18b)]['includes'](_0xbaefdc['ServerLocation'])?'':_0xbaefdc[_0xc4274f(0x179)])+_0xbaefdc[_0xc4274f(0x257)],_0x34e295=(_0xbaefdc['converterLocation'][_0xc4274f(0x136)](_0xbaefdc[_0xc4274f(0x179)])?'':_0xbaefdc[_0xc4274f(0x179)])+_0xbaefdc[_0xc4274f(0x254)],_0x3858ca=/ax202.*\.exe/,_0x335cba=/ax202.*/,_0x2be686=/dwgmerge202.*\.exe/,_0x179bf2=/dwgmerge_202.*/,_0x47a2cc=/linklist_202.*\.exe/,_0x2fb034=/linklist_202.*/,_0x1260fa=[],_0x279c45=[],_0x2c6a1a=[],_0x13465d=[],_0x34e504=[],_0x231f78=[];let _0x1ecdf4='';if(_0xbaefdc['autodetect_platform']){_0x1ecdf4=os[_0xc4274f(0x1d6)]();if(_0x1ecdf4==='win32')_0x1ecdf4=_0xc4274f(0x240);else{if(_0x1ecdf4===_0xc4274f(0x12a))_0x1ecdf4=_0xc4274f(0x197);}}else _0x1ecdf4=_0xbaefdc['platform'];fs['readdirSync'](_0x34e295['replaceAll'](_0xc4274f(0x197),'windows'))[_0xc4274f(0x1fc)](_0x3e388e=>{const _0x447d51=_0xc4274f;if(_0x3858ca[_0x447d51(0x114)](_0x3e388e[_0x447d51(0x1e0)]()))_0x1260fa[_0x447d51(0x16d)](_0x3e388e);}),fs[_0xc4274f(0x266)](_0x349b02[_0xc4274f(0x20f)](_0xc4274f(0x197),_0xc4274f(0x240)))['forEach'](_0x37b829=>{const _0x3f0bff=_0xc4274f;if(_0x2be686['test'](_0x37b829['toLocaleLowerCase']()))_0x279c45[_0x3f0bff(0x16d)](_0x37b829);}),fs['readdirSync'](_0xb0c87d[_0xc4274f(0x20f)](_0xc4274f(0x197),_0xc4274f(0x240)))['forEach'](_0x4686dc=>{const _0x46698a=_0xc4274f;if(_0x47a2cc[_0x46698a(0x114)](_0x4686dc[_0x46698a(0x1e0)]()))_0x2c6a1a[_0x46698a(0x16d)](_0x4686dc);}),fs[_0xc4274f(0x266)](_0x34e295[_0xc4274f(0x20f)](_0xc4274f(0x240),'linux'))[_0xc4274f(0x1fc)](_0x15728d=>{if(_0x335cba['test'](_0x15728d['toLocaleLowerCase']()))_0x13465d['push'](_0x15728d);}),fs['readdirSync'](_0x349b02[_0xc4274f(0x20f)](_0xc4274f(0x240),_0xc4274f(0x197)))[_0xc4274f(0x1fc)](_0x714323=>{const _0x5ba5ab=_0xc4274f;if(_0x179bf2[_0x5ba5ab(0x114)](_0x714323[_0x5ba5ab(0x1e0)]()))_0x34e504['push'](_0x714323);}),fs[_0xc4274f(0x266)](_0xb0c87d[_0xc4274f(0x20f)](_0xc4274f(0x240),'linux'))['forEach'](_0x27cda2=>{const _0xfe61ff=_0xc4274f;if(_0x2fb034[_0xfe61ff(0x114)](_0x27cda2[_0xfe61ff(0x1e0)]()))_0x231f78[_0xfe61ff(0x16d)](_0x27cda2);});const _0x367438=['ServerPort','https',_0xc4274f(0x1bb),_0xc4274f(0x1a9),_0xc4274f(0x259)],_0x233cf8=[_0xc4274f(0x113),'fileLocationUrl','converterLocation',_0xc4274f(0x256),'xpathLocation','temp_print_folder',_0xc4274f(0x243),'dwgmergeLocation',_0xc4274f(0x257),_0xc4274f(0x1c6)],_0xe3f533=[_0xc4274f(0x154),_0xc4274f(0x191),_0xc4274f(0xf3),_0xc4274f(0x21e),_0xc4274f(0x1e5),'cached_conversion',_0xc4274f(0x218)],_0x215599={'ServerUrl':_0xc4274f(0x129),'autoxchange_executable':_0xc4274f(0x125),'linklist_executable':_0xc4274f(0xff),'dwgmerge_executable':_0xc4274f(0x234),'setup_mysqlHost':_0xc4274f(0x171),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':'Demo\x20and\x20Base\x20User\x20Settings','smtpHost':_0xc4274f(0x172)},_0x18909a={'https':_0xc4274f(0x180),'ServerFrontEndUrlAsAllowedOriginOnly':'boolean','autodetect_platform':'boolean','cvjs_svgz_compress':'boolean','cached_conversion':'boolean','remainOnServer':_0xc4274f(0x180),'cvjs_debug':_0xc4274f(0x180),'autodetect_location':_0xc4274f(0x180),'platform':'radio|windows,linux','autoxchange_executable':_0xc4274f(0x24b)+(_0x1ecdf4===_0xc4274f(0x240)?_0x1260fa[_0xc4274f(0x148)](','):_0x13465d[_0xc4274f(0x148)](',')),'autoxchange_executable_windows':_0xc4274f(0x24b)+_0x1260fa[_0xc4274f(0x148)](','),'autoxchange_executable_linux':_0xc4274f(0x24b)+_0x13465d[_0xc4274f(0x148)](','),'dwgmerge_executable':'radio|'+(_0x1ecdf4===_0xc4274f(0x240)?_0x279c45[_0xc4274f(0x148)](','):_0x34e504['join'](',')),'dwgmerge_executable_windows':'radio|'+_0x279c45[_0xc4274f(0x148)](','),'dwgmerge_executable_linux':_0xc4274f(0x24b)+_0x34e504[_0xc4274f(0x148)](','),'linklist_executable':_0xc4274f(0x24b)+(_0x1ecdf4===_0xc4274f(0x240)?_0x2c6a1a['join'](','):_0x231f78['join'](',')),'linklist_executable_windows':_0xc4274f(0x24b)+_0x2c6a1a[_0xc4274f(0x148)](','),'linklist_executable_linux':'radio|'+_0x231f78[_0xc4274f(0x148)](','),'callbackMethod_gatewayUrl_flag':_0xc4274f(0x180),'setup_mysqlHost':_0xc4274f(0x180),'ContentSecurityPolicyReportOnly':_0xc4274f(0x180),'fileLoad_PasswordAuthentication':_0xc4274f(0x180),'contentLocationCheck':_0xc4274f(0x180),'globalBearerAutentication':_0xc4274f(0x180),'bcryptSaltRounds':_0xc4274f(0x146),'userFolderMaximumFiles':_0xc4274f(0x146),'userFolderMaximumSizeInMB':_0xc4274f(0x146)},_0xc42631={},_0x18204b=Object[_0xc4274f(0x253)](_0xbaefdc);_0xbaefdc[_0xc4274f(0x149)]&&_0x367438[_0xc4274f(0x16d)]('platform'),_0xbaefdc[_0xc4274f(0x1ca)]&&(_0x233cf8[_0xc4274f(0x16d)]('ServerLocation'),_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0x105)),_0x233cf8['push']('dwgmerge_executable'),_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0x23f))),!_0xbaefdc['callbackMethod_gatewayUrl_flag']&&_0x233cf8['push'](_0xc4274f(0x1f3)),!_0xbaefdc[_0xc4274f(0x164)]&&(_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0x191)),_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0xf3)),_0x233cf8['push'](_0xc4274f(0x21e)),_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0x1e5))),!_0xbaefdc[_0xc4274f(0x161)]&&_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0x101)),!_0xbaefdc['fileLoad_PasswordAuthentication']&&(_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0x15e)),_0x233cf8['push'](_0xc4274f(0x232))),!_0xbaefdc[_0xc4274f(0x143)]&&_0x233cf8[_0xc4274f(0x16d)](_0xc4274f(0x21b)),_0x18204b[_0xc4274f(0x1fc)](_0x5cb254=>{!_0x367438['includes'](_0x5cb254)&&(_0xc42631[_0x5cb254]=_0xbaefdc[_0x5cb254]);}),_0xc42631[_0xc4274f(0x244)]=''+_0xbaefdc[_0xc4274f(0x154)]+_0xbaefdc[_0xc4274f(0x113)],_0x10bca4[_0xc4274f(0x261)](0xc8)[_0xc4274f(0x13a)]({'notEditableFields':_0x233cf8,'customFieldTypes':_0x18909a,'notHotEditableFields':_0xe3f533,'config':_0xc42631,'fieldsTitle':_0x215599,'configData':_0xbaefdc});}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x25b),async(_0x113646,_0x37d91e)=>{const _0x182137=a26_0x3ece13,_0x42bac7=fs[_0x182137(0x1cc)](path[_0x182137(0x148)](path[_0x182137(0x16a)](require[_0x182137(0x23b)]['filename']),_0x182137(0x1aa)),_0x182137(0x1c4)),_0x27e73=_0x42bac7[_0x182137(0x20f)]('{version}',_0x113646[_0x182137(0x1c6)]);_0x37d91e[_0x182137(0x24c)](_0x27e73);});function findMatchingLogFiles(_0x490eca,_0x15e616=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x8cd30e=a26_0x3ece13;try{const _0xa1517c=fs[_0x8cd30e(0x266)](_0x490eca);return _0xa1517c[_0x8cd30e(0x12d)](_0x25c610=>_0x15e616['test'](_0x25c610))[_0x8cd30e(0x20c)](_0x1349ed=>_0x1349ed[_0x8cd30e(0x20f)]('call-Api_Conversion_','')['replaceAll'](_0x8cd30e(0x1dc),''));}catch(_0x39643e){return console[_0x8cd30e(0x16b)]('Error\x20finding\x20log\x20files:',_0x39643e),[];}}router[a26_0x3ece13(0x156)]('/logs/content',async(_0x257c8f,_0x503a5a)=>{const _0x25be54=a26_0x3ece13,_0x46f007=new Date(),_0x3dee2e=_0x46f007[_0x25be54(0x1d9)]()['toString']()[_0x25be54(0x1c7)](0x2,'0')+'_'+(_0x46f007[_0x25be54(0xfc)]()+0x1)[_0x25be54(0x177)]()[_0x25be54(0x1c7)](0x2,'0')+'_'+_0x46f007['getFullYear'](),{displayDay:_0x119f42}=_0x257c8f['body'],_0x2aaa55=path[_0x25be54(0x148)](path[_0x25be54(0x16a)](require[_0x25be54(0x23b)]['filename']),_0x25be54(0x1f5),_0x25be54(0x206)+(_0x119f42??_0x3dee2e)+_0x25be54(0x1dc));fs[_0x25be54(0x23c)](_0x2aaa55)?fs[_0x25be54(0x1a4)](_0x2aaa55,_0x25be54(0x1c4),function(_0x370bbc,_0x4e572c){const _0x5864b0=_0x25be54;_0x370bbc&&_0x503a5a[_0x5864b0(0x261)](0x1f4)[_0x5864b0(0x24c)](_0x370bbc),_0x503a5a[_0x5864b0(0x261)](0xc8)[_0x5864b0(0x13a)]({'content':_0x4e572c,'days':findMatchingLogFiles(path[_0x5864b0(0x148)](path[_0x5864b0(0x16a)](require['main'][_0x5864b0(0xf9)]),'logs'))});}):_0x503a5a[_0x25be54(0x261)](0xc8)[_0x25be54(0x13a)]({'content':'','days':findMatchingLogFiles(path[_0x25be54(0x148)](path[_0x25be54(0x16a)](require[_0x25be54(0x23b)]['filename']),_0x25be54(0x1f5)))});}),router[a26_0x3ece13(0x236)](a26_0x3ece13(0x186),async(_0x5592d5,_0x2493c3)=>{const _0x5eb163=a26_0x3ece13,_0xa3f46b=new Date(),_0x13aac1=_0xa3f46b[_0x5eb163(0x1d9)]()['toString']()[_0x5eb163(0x1c7)](0x2,'0')+'_'+(_0xa3f46b[_0x5eb163(0xfc)]()+0x1)[_0x5eb163(0x177)]()['padStart'](0x2,'0')+'_'+_0xa3f46b[_0x5eb163(0x20b)](),_0x3316bb=findMatchingLogFiles(path[_0x5eb163(0x148)](path['dirname'](require['main']['filename']),'logs'));_0x3316bb[_0x5eb163(0x1fc)](_0x41c0ca=>{const _0x4b3b3f=_0x5eb163;if(_0x41c0ca!==_0x13aac1)fs[_0x4b3b3f(0x1be)](path['join'](path[_0x4b3b3f(0x16a)](require[_0x4b3b3f(0x23b)][_0x4b3b3f(0xf9)]),'logs','call-Api_Conversion_'+_0x41c0ca+'.log'));}),logStream[_0x5eb163(0x15b)](),_0x2493c3['status'](0xc8)[_0x5eb163(0x13a)]({'message':_0x5eb163(0x199)});}),router[a26_0x3ece13(0x1bd)]('/restapi-test',async(_0x1ce5bc,_0x529120)=>{const _0x209c9c=a26_0x3ece13,_0x37404f=path[_0x209c9c(0x148)](path[_0x209c9c(0x16a)](require[_0x209c9c(0x23b)][_0x209c9c(0xf9)]),_0x209c9c(0x224));if(!fs['existsSync'](_0x37404f)){const _0x5a344f={'jsonDataExtraction':{'standard':[{'paramName':_0x209c9c(0x13a),'paramValue':''},{'paramName':_0x209c9c(0xfd),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x209c9c(0x21d)},{'paramName':'model','paramValue':''},{'paramName':_0x209c9c(0x1bf),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x209c9c(0x1d5)},{'paramName':_0x209c9c(0x195),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x209c9c(0x21d)},{'paramName':'model','paramValue':''},{'paramName':_0x209c9c(0x1bf),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs[_0x209c9c(0x1e1)](_0x37404f,JSON[_0x209c9c(0x212)](_0x5a344f,null,0x4));}const _0x6de06d=fs[_0x209c9c(0x1cc)](path['join'](path['dirname'](require[_0x209c9c(0x23b)]['filename']),'cadviewer/settings/rest-api.html'),_0x209c9c(0x1c4)),_0x40e40d=_0x6de06d[_0x209c9c(0x20f)](_0x209c9c(0x1a3),_0x1ce5bc[_0x209c9c(0x1c6)]);_0x529120[_0x209c9c(0x24c)](_0x40e40d);}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x214),async(_0x18513e,_0x166f0e)=>{const _0x2d782b=a26_0x3ece13,{actionName:_0x33cac9,contentLocation:_0xbcbd5d}=_0x18513e[_0x2d782b(0x1f6)],_0x56bf5f=path['join'](path['dirname'](require[_0x2d782b(0x23b)][_0x2d782b(0xf9)]),_0x2d782b(0x224));fs[_0x2d782b(0x1a4)](_0x56bf5f,'utf8',function(_0x58dd88,_0x3c6442){const _0x278d7d=_0x2d782b;if(_0x58dd88)_0x166f0e[_0x278d7d(0x261)](0xc8)[_0x278d7d(0x13a)]({'parameters':[]});else{const _0x58a0c8=JSON['parse'](_0x3c6442);if(_0x58a0c8[_0x33cac9]&&_0x58a0c8[_0x33cac9][_0xbcbd5d])_0x166f0e[_0x278d7d(0x261)](0xc8)[_0x278d7d(0x13a)]({'parameters':_0x58a0c8[_0x33cac9][_0xbcbd5d]});else _0x58a0c8[_0x33cac9]&&_0x58a0c8[_0x33cac9][_0x278d7d(0x239)]?_0x166f0e[_0x278d7d(0x261)](0xc8)[_0x278d7d(0x13a)]({'parameters':_0x58a0c8[_0x33cac9][_0x278d7d(0x239)]}):_0x166f0e['status'](0xc8)[_0x278d7d(0x13a)]({'parameters':[]});}});}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x25e),async(_0x214f46,_0x233b0d)=>{const _0x5cecc6=a26_0x3ece13,{actionName:_0x4fba3c,contentLocation:_0x25a32c,parameters:_0x35b919}=_0x214f46['body'],_0x395f75=path[_0x5cecc6(0x148)](path[_0x5cecc6(0x16a)](require[_0x5cecc6(0x23b)][_0x5cecc6(0xf9)]),_0x5cecc6(0x224));fs['readFile'](_0x395f75,_0x5cecc6(0x1c4),function(_0x25e06c,_0x460bfc){const _0x169180=_0x5cecc6;if(_0x25e06c)_0x233b0d[_0x169180(0x261)](0x199)[_0x169180(0x13a)]({'message':'Error\x20saving\x20parameters.'});else{const _0x9e5032=JSON[_0x169180(0x202)](_0x460bfc);!_0x9e5032[_0x4fba3c]&&(_0x9e5032[_0x4fba3c]={}),_0x9e5032[_0x4fba3c][_0x25a32c]=_0x35b919,fs[_0x169180(0x13d)](_0x395f75,JSON[_0x169180(0x212)](_0x9e5032,null,0x4),function(_0x4dada1){const _0x4f8128=_0x169180;_0x4dada1&&_0x233b0d[_0x4f8128(0x261)](0x199)[_0x4f8128(0x13a)]({'message':_0x4f8128(0x135)}),_0x233b0d[_0x4f8128(0x261)](0xc8)['json']({'message':_0x4f8128(0x147)});});}});}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x12f),async(_0x85ea3c,_0x5f28e6)=>{const _0x174c11=a26_0x3ece13,_0x176bea=fs['readFileSync'](path[_0x174c11(0x148)](path['dirname'](require[_0x174c11(0x23b)][_0x174c11(0xf9)]),_0x174c11(0x1a8)),'utf8'),_0x120797=_0x176bea[_0x174c11(0x20f)](_0x174c11(0x1a3),_0x85ea3c[_0x174c11(0x1c6)]);_0x5f28e6[_0x174c11(0x24c)](_0x120797);}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x123),async(_0x2270df,_0x3b14f3)=>{const _0x3f2a1a=a26_0x3ece13,_0x370f16=getHotConfig(),_0x54448e=_0x370f16[_0x3f2a1a(0x254)][_0x3f2a1a(0x20f)]('//','/'),_0x4726c5=_0x370f16['dwgmergeLocation'][_0x3f2a1a(0x20f)]('//','/'),_0x3c71d1=_0x370f16[_0x3f2a1a(0x257)]['replaceAll']('//','/'),_0x5052c7=''+_0x54448e+_0x370f16[_0x3f2a1a(0x105)],_0x5dc8ef=''+_0x4726c5+_0x370f16[_0x3f2a1a(0x17a)],_0x11fdf5=''+_0x3c71d1+_0x370f16[_0x3f2a1a(0x23f)],_0x127959=[],_0x3b405f=new Promise(_0x4f3f82=>{const _0x3ee23f=_0x3f2a1a;exec(os[_0x3ee23f(0x1d6)]()==='win32'?_0x3ee23f(0x159):'ls',_0x2908b3=>{const _0x322df5=_0x3ee23f;_0x2908b3?_0x127959[_0x322df5(0x16d)]({'title':_0x322df5(0x1b9),'status':![],'priority':0x1}):_0x127959[_0x322df5(0x16d)]({'title':_0x322df5(0x1b9),'status':!![],'priority':0x1}),_0x4f3f82();});}),_0xe79028=new Promise(_0x1ac155=>{const _0xc5647b=_0x3f2a1a;fs[_0xc5647b(0x255)](_0x5052c7,fs['constants'][_0xc5647b(0x205)],_0x5064a7=>{const _0x270547=_0xc5647b;_0x5064a7?_0x127959[_0x270547(0x16d)]({'title':_0x270547(0xf4)+_0x370f16[_0x270547(0x105)]+_0x270547(0x17d),'status':![],'priority':0x2}):_0x127959[_0x270547(0x16d)]({'title':_0x270547(0xf4)+_0x370f16[_0x270547(0x105)]+_0x270547(0x17d),'status':!![],'priority':0x2}),_0x1ac155();});}),_0x4547f8=new Promise(_0x1bbcee=>{const _0x59495a=_0x3f2a1a;fs[_0x59495a(0x255)](_0x5dc8ef,fs['constants'][_0x59495a(0x205)],_0x19f6c1=>{const _0x549fcc=_0x59495a;_0x19f6c1?_0x127959['push']({'title':_0x549fcc(0xf4)+_0x370f16[_0x549fcc(0x17a)]+_0x549fcc(0x17d),'status':![],'priority':0x3}):_0x127959[_0x549fcc(0x16d)]({'title':_0x549fcc(0xf4)+_0x370f16[_0x549fcc(0x17a)]+_0x549fcc(0x17d),'status':!![],'priority':0x3}),_0x1bbcee();});}),_0x47a97c=new Promise(_0x148f05=>{const _0x4cdb31=_0x3f2a1a;fs['access'](_0x11fdf5,fs['constants'][_0x4cdb31(0x205)],_0x2962c8=>{const _0x81bbfe=_0x4cdb31;_0x2962c8?_0x127959[_0x81bbfe(0x16d)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x370f16[_0x81bbfe(0x23f)]+_0x81bbfe(0x17d),'status':![],'priority':0x4}):_0x127959[_0x81bbfe(0x16d)]({'title':_0x81bbfe(0xf4)+_0x370f16[_0x81bbfe(0x23f)]+'\x22\x20executable','status':!![],'priority':0x4}),_0x148f05();});}),_0xa6c058=new Promise(_0x1c8dfb=>{const _0x577331=_0x3f2a1a,_0xe0492e=new Date(),_0x1e1128=_0xe0492e[_0x577331(0x1d9)]()[_0x577331(0x177)]()[_0x577331(0x1c7)](0x2,'0')+'_'+(_0xe0492e[_0x577331(0xfc)]()+0x1)['toString']()[_0x577331(0x1c7)](0x2,'0')+'_'+_0xe0492e[_0x577331(0x20b)](),{displayDay:_0x31c8aa}=_0x2270df[_0x577331(0x1f6)];fs['access'](path[_0x577331(0x148)](path[_0x577331(0x16a)](require[_0x577331(0x23b)]['filename']),_0x577331(0x1f5),_0x577331(0x206)+(_0x31c8aa??_0x1e1128)+_0x577331(0x1dc)),fs[_0x577331(0x193)][_0x577331(0x110)],_0x43a712=>{const _0x1bc047=_0x577331;_0x43a712?_0x127959[_0x1bc047(0x16d)]({'title':_0x1bc047(0x104)+(_0x31c8aa??_0x1e1128)+_0x1bc047(0x251),'status':![],'priority':0x5}):_0x127959[_0x1bc047(0x16d)]({'title':_0x1bc047(0x104)+(_0x31c8aa??_0x1e1128)+_0x1bc047(0x251),'status':!![],'priority':0x5}),_0x1c8dfb();});}),_0x833f6d=(_0x437c96,_0x4834ce)=>{const _0x35a036=_0x3f2a1a,_0x32277a=path[_0x35a036(0x148)](path[_0x35a036(0x16a)](require[_0x35a036(0x23b)]['filename']),_0x437c96);return new Promise(_0x5c1397=>{const _0xc468e1=_0x35a036;fs['access'](path[_0xc468e1(0x148)](path[_0xc468e1(0x16a)](_0x32277a)),fs[_0xc468e1(0x193)][_0xc468e1(0x1b0)]|fs[_0xc468e1(0x193)][_0xc468e1(0x110)],_0x253c79=>{const _0xb9bde0=_0xc468e1;_0x253c79?_0x127959[_0xb9bde0(0x16d)]({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0x437c96,'status':![],'priority':_0x4834ce+0x6}):_0x127959['push']({'title':_0xb9bde0(0x1dd)+_0x437c96,'status':!![],'priority':_0x4834ce+0x6}),_0x5c1397();});});},_0x22336a=[_0x3f2a1a(0x1ad),'/converters/autoxchange/linux/',_0x3f2a1a(0x1fa),_0x3f2a1a(0x248),_0x3f2a1a(0x1b3),_0x3f2a1a(0x1d3),'/content/redlines/v7/'],_0x34e947=_0x22336a[_0x3f2a1a(0x20c)](_0x833f6d);Promise['all']([_0x3b405f,_0xe79028,_0x4547f8,_0x47a97c,_0xa6c058,..._0x34e947])['then'](()=>{const _0x3702f3=_0x3f2a1a;_0x3b14f3['status'](0xc8)[_0x3702f3(0x13a)]({'checking_list':_0x127959});})['catch'](()=>{const _0x3507f7=_0x3f2a1a;_0x3b14f3[_0x3507f7(0x261)](0x1f4)[_0x3507f7(0x13a)]({'error':_0x3507f7(0x122)});});}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x15a),async(_0x2c30c4,_0x1a5ffa)=>{const _0x32d820=a26_0x3ece13,_0x270fda=fs[_0x32d820(0x1cc)](path['join'](path[_0x32d820(0x16a)](require['main']['filename']),_0x32d820(0x196)),_0x32d820(0x1c4)),_0xcc0cfe=_0x270fda[_0x32d820(0x20f)](_0x32d820(0x1a3),_0x2c30c4[_0x32d820(0x1c6)]);_0x1a5ffa[_0x32d820(0x24c)](_0xcc0cfe);}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x1c9),async(_0x17cb90,_0xd453e9)=>{const _0x515687=a26_0x3ece13;let _0x210bbf;try{const [_0xcec6f6]=await conn[_0x515687(0x142)]()[_0x515687(0x220)](_0x515687(0x189),[]);_0x210bbf=_0xcec6f6;}catch(_0x1be454){console[_0x515687(0x210)](_0x1be454),_0xd453e9[_0x515687(0x261)](0x1f4)[_0x515687(0x13a)]({'error':_0x515687(0x1f8)});return;}_0xd453e9[_0x515687(0x261)](0xc8)[_0x515687(0x13a)]({'success':!![],'data':_0x210bbf});}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x15a),upload[a26_0x3ece13(0x1ab)](a26_0x3ece13(0x162)),async(_0x555a99,_0x53bad3)=>{const _0x15494e=a26_0x3ece13,{id:_0x7ce869,first_name:_0x37dc18,last_name:_0x920f0e,username:_0x3e5492,email:_0x16d90d,password:_0x4cd43d,is_enabled:_0x57900e}=_0x555a99[_0x15494e(0x1f6)],_0x5a835d=_0x555a99[_0x15494e(0x1f6)][_0x15494e(0x227)]==='admin'?_0x15494e(0x19d):_0x555a99[_0x15494e(0x1f6)][_0x15494e(0x227)]===_0x15494e(0x18f)?_0x15494e(0x18f):'user';let _0x29ca42;console['log'](_0x15494e(0x20e));_0x4cd43d&&(_0x29ca42=await bcrypt[_0x15494e(0x1d4)](_0x4cd43d,0xa));let _0x4c41b5=null;if(_0x555a99[_0x15494e(0x249)]){const _0x4affa0='avatars/'+randomUUID()+_0x15494e(0x157);fs[_0x15494e(0x229)](_0x555a99['file'][_0x15494e(0x169)],'./'+_0x4affa0),_0x4c41b5=config['ServerUrl']+'/'+_0x4affa0;}if(_0x7ce869){try{let [_0x2a1187]=await conn[_0x15494e(0x142)]()[_0x15494e(0x220)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?',[_0x16d90d,_0x3e5492,_0x7ce869]);if(_0x2a1187[_0x15494e(0x1f2)]>0x0)_0x53bad3[_0x15494e(0x261)](0x199)['json']({'error':_0x15494e(0x1f7)});else{!_0x555a99[_0x15494e(0x249)]&&([_0x2a1187]=await conn['promise']()['execute'](_0x15494e(0x18e),[_0x7ce869]),_0x4c41b5=_0x2a1187[0x0][_0x15494e(0x10e)]);const _0x40fa43=_0x15494e(0x238)+(_0x4cd43d?_0x15494e(0x1cd):'')+_0x15494e(0x22a);await conn[_0x15494e(0x142)]()[_0x15494e(0x220)](_0x40fa43,_0x4cd43d?[_0x4c41b5,_0x37dc18,_0x920f0e,_0x3e5492,_0x16d90d,_0x29ca42,_0x57900e,_0x5a835d,_0x7ce869]:[_0x4c41b5,_0x37dc18,_0x920f0e,_0x3e5492,_0x16d90d,_0x57900e,_0x5a835d,_0x7ce869]);}}catch(_0xd8d1ab){console[_0x15494e(0x210)](_0xd8d1ab),_0x53bad3[_0x15494e(0x261)](0x1f4)['json']({'error':_0x15494e(0x1f8)});return;}_0x53bad3[_0x15494e(0x261)](0xc8)['json']({'success':!![],'message':'User\x20updated\x20successfully'});}else{try{const [_0x26a887]=await conn[_0x15494e(0x142)]()[_0x15494e(0x220)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?',[_0x16d90d,_0x3e5492]);if(_0x26a887[_0x15494e(0x1f2)]>0x0)_0x53bad3[_0x15494e(0x261)](0x199)[_0x15494e(0x13a)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{const _0x5a2b16=randomUUID();await conn[_0x15494e(0x142)]()[_0x15494e(0x220)](_0x15494e(0x268),[_0x4c41b5,_0x37dc18,_0x920f0e,_0x3e5492,_0x16d90d,_0x29ca42,_0x5a835d,_0x57900e,_0x5a2b16]);const _0x1840fd=_0x15494e(0x1b6)+_0x5a2b16;fs[_0x15494e(0x11b)](_0x1840fd);}}catch(_0x62a830){console[_0x15494e(0x210)](_0x62a830),_0x53bad3[_0x15494e(0x261)](0x1f4)[_0x15494e(0x13a)]({'error':_0x15494e(0x1f8)});return;}_0x53bad3['status'](0xc8)[_0x15494e(0x13a)]({'success':!![],'message':_0x15494e(0x200)});}}),router['delete'](a26_0x3ece13(0x1b4),async(_0x39b2db,_0x85f566)=>{const _0x2b146d=a26_0x3ece13,{userId:_0x327796}=_0x39b2db[_0x2b146d(0x1f6)];let _0x22c843;try{const [_0x3450fa]=await conn[_0x2b146d(0x142)]()['execute'](_0x2b146d(0x18e),[_0x327796]);_0x3450fa[_0x2b146d(0x1f2)]>0x0&&(_0x22c843=_0x3450fa[0x0]);}catch(_0x4f9f8b){console['log']({'err':_0x4f9f8b}),_0x85f566['status'](0x1f4)[_0x2b146d(0x13a)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0x22c843){_0x85f566['status'](0x191)[_0x2b146d(0x13a)]({'error':_0x2b146d(0x24a)});return;}let _0x4ba359=_0x22c843[_0x2b146d(0x1a2)];if(!_0x4ba359){_0x4ba359=randomUUID();try{await conn['promise']()['execute'](_0x2b146d(0x250),[_0x4ba359,_0x327796]);}catch(_0x423769){console['log']({'err':_0x423769}),_0x85f566[_0x2b146d(0x261)](0x1f4)[_0x2b146d(0x13a)]({'error':_0x2b146d(0x1f8)});return;}}const _0x5119df=_0x2b146d(0x1b6)+_0x4ba359;console[_0x2b146d(0x210)](_0x2b146d(0x19b)),console['log'](_0x5119df),!fs['existsSync'](_0x5119df)&&fs[_0x2b146d(0x11b)](_0x5119df),fs[_0x2b146d(0x185)](_0x5119df,{'recursive':!![],'force':!![]}),fs[_0x2b146d(0x11b)](_0x5119df),_0x85f566['status'](0xc8)[_0x2b146d(0x13a)]({'success':!![],'message':_0x2b146d(0x116)});}),router[a26_0x3ece13(0x236)](a26_0x3ece13(0x192),async(_0xc0ae00,_0x1d53fe)=>{const _0x1dc9a1=a26_0x3ece13,_0x190084=_0xc0ae00[_0x1dc9a1(0x209)][_0x1dc9a1(0x17b)];try{let _0x2509a4;try{const [_0x2debd8]=await conn['promise']()[_0x1dc9a1(0x220)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x190084]);_0x2debd8[_0x1dc9a1(0x1f2)]>0x0&&(_0x2509a4=_0x2debd8[0x0]);}catch(_0xd4da4d){console['log']({'err':_0xd4da4d}),_0x1d53fe['status'](0x1f4)[_0x1dc9a1(0x13a)]({'error':_0x1dc9a1(0x1f8)});return;}if(!_0x2509a4){_0x1d53fe[_0x1dc9a1(0x261)](0x191)['json']({'error':'Invalid\x20user'});return;}let _0x1eb1be=_0x2509a4[_0x1dc9a1(0x1a2)];if(_0x1eb1be){const _0x15ad51=_0x1dc9a1(0x1b6)+_0x1eb1be;fs[_0x1dc9a1(0x23c)](_0x15ad51)&&fs['rmSync'](_0x15ad51,{'recursive':!![],'force':!![]});}await conn[_0x1dc9a1(0x142)]()[_0x1dc9a1(0x220)](_0x1dc9a1(0x178),[_0x190084]);}catch(_0x2a637e){console[_0x1dc9a1(0x210)](_0x2a637e),_0x1d53fe[_0x1dc9a1(0x261)](0x1f4)[_0x1dc9a1(0x13a)]({'error':_0x1dc9a1(0x1f8)});return;}_0x1d53fe[_0x1dc9a1(0x261)](0xc8)[_0x1dc9a1(0x13a)]({'success':!![],'message':'User\x20deleted\x20successfully'});}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x160),async(_0x1cbd3a,_0x2454e1)=>{const _0x59c03a=a26_0x3ece13,_0x5a7956=osu[_0x59c03a(0x182)],_0x551e1e=osu['mem'],_0x454a26=osu[_0x59c03a(0x1ce)],_0x350fa2=osu['os'],_0xf2fbc4={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x587ba3=os['platform']()==='win32'?'c:':'/';const _0x38ef8f=await _0x454a26[_0x59c03a(0x208)](_0x587ba3);_0xf2fbc4[_0x59c03a(0x100)]=_0x38ef8f[_0x59c03a(0x1d0)],_0xf2fbc4[_0x59c03a(0x1eb)]=_0x38ef8f[_0x59c03a(0x115)],_0xf2fbc4[_0x59c03a(0x168)]=_0x38ef8f[_0x59c03a(0x168)],_0xf2fbc4[_0x59c03a(0x127)]=_0x38ef8f['totalGb'];}catch(_0x35ef43){console['log']('Error\x20getting\x20disk\x20usage',_0x35ef43);}const _0x2e2e03={'usage':0x0,'count':0x0};try{_0x2e2e03[_0x59c03a(0x14e)]=await _0x5a7956[_0x59c03a(0x14e)](),_0x2e2e03['count']=_0x5a7956[_0x59c03a(0x1a0)]();}catch(_0x1877bf){console[_0x59c03a(0x210)](_0x59c03a(0x233),_0x1877bf);}const _0x87ccb8={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x87ccb8['os']=await _0x350fa2[_0x59c03a(0x267)](),_0x87ccb8[_0x59c03a(0x1d6)]=_0x350fa2[_0x59c03a(0x1d6)](),_0x87ccb8['ip']=_0x350fa2['ip'](),_0x87ccb8['uptime']=_0x350fa2[_0x59c03a(0x141)](),_0x87ccb8[_0x59c03a(0x106)]=_0x350fa2[_0x59c03a(0x106)](),_0x87ccb8[_0x59c03a(0xf7)]=_0x350fa2[_0x59c03a(0xf7)](),_0x87ccb8[_0x59c03a(0x10b)]=_0x350fa2[_0x59c03a(0x10b)](),_0x87ccb8[_0x59c03a(0x228)]=await osu[_0x59c03a(0x170)][_0x59c03a(0x228)](),_0x87ccb8[_0x59c03a(0x1ed)]=await osu[_0x59c03a(0x170)][_0x59c03a(0x1ed)](),_0x87ccb8['vmstats']=await osu[_0x59c03a(0x170)]['vmstats']();}catch(_0x47756b){console['log'](_0x59c03a(0x1a7),_0x47756b);}const _0x1d3603={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x1d3603[_0x59c03a(0x1e8)]=await osu[_0x59c03a(0x1b2)][_0x59c03a(0x1e8)](),_0x1d3603[_0x59c03a(0x102)]=await osu[_0x59c03a(0x1b2)][_0x59c03a(0x102)]();}catch(_0x3eb1dd){console[_0x59c03a(0x210)]('Error\x20getting\x20process\x20info',_0x3eb1dd);}let _0x17bb68={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x4a3507=await _0x551e1e[_0x59c03a(0x208)]();_0x17bb68[_0x59c03a(0x22c)]=_0x4a3507[_0x59c03a(0x22c)],_0x17bb68['usedMemMb']=_0x4a3507['used']/0x400/0x400,_0x17bb68[_0x59c03a(0x20d)]=_0x4a3507[_0x59c03a(0x15d)]/0x400/0x400;}catch(_0x5a4c8b){console[_0x59c03a(0x210)]('Error\x20getting\x20memory\x20info',_0x5a4c8b);}let _0x310a23=0x0;try{_0x310a23=await conn['promise']()[_0x59c03a(0x25f)]('SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users')[_0x59c03a(0x188)](([_0x4f0220])=>_0x4f0220[0x0]['total']);}catch(_0x5107ee){console[_0x59c03a(0x210)]('Error\x20getting\x20total\x20users',_0x5107ee);}const _0x3cbdc8=getMonitoringData(),_0x1c9b19=_0x3cbdc8['filter'](_0x2ae907=>_0x2ae907[_0x59c03a(0x17c)]!==null&&_0x2ae907[_0x59c03a(0x17c)]!==undefined),_0x144d69=_0x3cbdc8[_0x59c03a(0x12d)](_0x406f4e=>_0x406f4e[_0x59c03a(0x1f4)]!==null&&_0x406f4e[_0x59c03a(0x1f4)]!==undefined)[_0x59c03a(0x20c)](_0x11ae6b=>parseFloat(_0x11ae6b['conversionMemoryUsage']['replaceAll']('Kb')[_0x59c03a(0x21f)]())),_0xb18f2e=_0x1c9b19['reduce']((_0x3ca5d2,_0x4d5e07)=>_0x3ca5d2+parseFloat(_0x4d5e07['conversionTimeSpend']),0x0)/_0x1c9b19[_0x59c03a(0x1f2)],_0x3a7c47=_0x144d69[_0x59c03a(0xfa)]((_0x4bb077,_0x3b9b0b)=>_0x4bb077+_0x3b9b0b,0x0)/_0x144d69[_0x59c03a(0x1f2)];_0x2454e1[_0x59c03a(0x13a)]({'requestsPerSecond':counter[_0x59c03a(0x231)](),'diskUsage':_0xf2fbc4,'cpus':_0x2e2e03,'system':_0x87ccb8,'process':_0x1d3603,'totalMonitoringData':_0x3cbdc8[_0x59c03a(0x1f2)],'memory':_0x17bb68,'totalUsers':_0x310a23,'avgConvertionTime':_0xb18f2e,'avgMemoryUsage':_0x3a7c47});}),router[a26_0x3ece13(0x156)](a26_0x3ece13(0x225),(_0x4f29ff,_0x195c87)=>{const _0x13cfe8=a26_0x3ece13;counter[_0x13cfe8(0x247)](),_0x195c87['json']({'message':_0x13cfe8(0x107)});});const getMonitoringData=()=>{const _0x30a314=a26_0x3ece13,_0x48609f='cadviewer/settings/requests-callapiconversion-monitoring.json';let _0x40564b=[];try{_0x40564b=JSON[_0x30a314(0x202)](fs[_0x30a314(0x1cc)](_0x48609f));}catch(_0x59da8f){console[_0x30a314(0x210)]('Error\x20reading\x20monitoring\x20file');}return _0x40564b;};router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x11a),async(_0xd83c74,_0xcb6ed3)=>{const _0x39df23=a26_0x3ece13,{page:page=0x1,limit:limit=0xa}=_0xd83c74[_0x39df23(0x25f)],_0x308c22=(page-0x1)*limit;try{const _0x403667=getMonitoringData(),_0x560fa6=_0x403667[_0x39df23(0x1f2)],_0x2c0d10=Math[_0x39df23(0x119)](_0x560fa6/limit),_0xc34895=_0x403667[_0x39df23(0x14a)](_0x308c22,_0x308c22+limit);_0xcb6ed3[_0x39df23(0x261)](0xc8)[_0x39df23(0x13a)]({'data':_0xc34895,'page':parseInt(''+page),'totalPages':_0x2c0d10,'total':_0x560fa6});}catch(_0x3f30df){console[_0x39df23(0x210)](_0x3f30df),_0xcb6ed3[_0x39df23(0x261)](0x1f4)[_0x39df23(0x13a)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x3ece13(0x236)](a26_0x3ece13(0x1b5),async(_0x1dd068,_0x156f09)=>{const _0x1ffae2=a26_0x3ece13,_0x3a035b=_0x1ffae2(0x1e6);try{fs[_0x1ffae2(0x1e1)](_0x3a035b,JSON[_0x1ffae2(0x212)]([],null,0x4)),_0x156f09[_0x1ffae2(0x261)](0xc8)['json']({'message':_0x1ffae2(0x1c5)});}catch(_0x54005d){console['log'](_0x54005d),_0x156f09[_0x1ffae2(0x261)](0x1f4)[_0x1ffae2(0x13a)]({'error':_0x1ffae2(0x1f8)});}}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x260),async(_0x4fe774,_0x4de11a)=>{const _0x17082e=a26_0x3ece13,_0x4c1fe3=getHotConfig()['converterLocation'][_0x17082e(0x20f)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x4fe774[_0x17082e(0x25f)],_0x4c0281=(page-0x1)*limit;try{const _0x512a88=_0x4c1fe3+_0x17082e(0x221);console[_0x17082e(0x210)](_0x512a88);const _0x5592fc=fs[_0x17082e(0x1cc)](_0x512a88,_0x17082e(0x1c4)),_0x42ad39=_0x5592fc[_0x17082e(0x10a)]('\x0a'),_0xb26cdc=[];_0x42ad39[_0x17082e(0x1fc)](_0x5ae919=>{const _0x496724=_0x17082e,_0x6b60b=_0x5ae919[_0x496724(0x10a)](',');if(_0x6b60b['length']<0x4)return;const _0x29b594=_0x6b60b[0x0],_0x2a1524=_0x6b60b[0x1],_0x5a90ee=parseFloat(_0x6b60b[0x2]);_0xb26cdc[_0x496724(0x16d)]({'file':_0x29b594[_0x496724(0x20f)]('\x22',''),'action':_0x2a1524,'timeSpend':_0x5a90ee,'memoryUsage':_0x6b60b[0x3]});});const _0x1a0740=_0xb26cdc[_0x17082e(0x1f2)],_0x5512b5=Math[_0x17082e(0x119)](_0x1a0740/limit),_0x182611=_0xb26cdc['slice'](_0x4c0281,_0x4c0281+limit);_0x4de11a[_0x17082e(0x261)](0xc8)[_0x17082e(0x13a)]({'data':_0x182611,'page':parseInt(''+page),'totalPages':_0x5512b5,'total':_0x1a0740});}catch(_0x500223){console[_0x17082e(0x210)](_0x500223),_0x4de11a[_0x17082e(0x261)](0x1f4)[_0x17082e(0x13a)]({'error':_0x17082e(0x1f8)});}}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x108),async(_0x434122,_0x7c6b63)=>{const _0x48d7c0=a26_0x3ece13,_0x5341e1=path[_0x48d7c0(0x148)](path[_0x48d7c0(0x16a)](require[_0x48d7c0(0x23b)]['filename']),_0x48d7c0(0x181),_0x48d7c0(0x126));try{let _0x3322e8=0x0,_0x13c27e=0x0;function _0x28eccf(_0x503cc7){const _0xe11dd3=_0x48d7c0;let _0x43b52c=0x0,_0x36f21c=0x0;if(fs['existsSync'](_0x503cc7)){const _0x2d9f08=fs['readdirSync'](_0x503cc7);_0x36f21c=0x0;for(const _0x170d3d of _0x2d9f08){const _0x213c53=path['join'](_0x503cc7,_0x170d3d),_0x5298e0=fs[_0xe11dd3(0x19a)](_0x213c53);if(_0x5298e0[_0xe11dd3(0x226)]()&&_0x170d3d!==_0xe11dd3(0x11e))_0x36f21c++,_0x43b52c+=_0x5298e0['size'];else{if(_0x5298e0[_0xe11dd3(0x1e2)]()){}}}}return{'size':_0x43b52c,'count':_0x36f21c};}const _0x58df2b=_0x28eccf(_0x5341e1);_0x3322e8=_0x58df2b['size'],_0x13c27e=_0x58df2b[_0x48d7c0(0x1a0)],_0x7c6b63[_0x48d7c0(0x13a)]({'fileCount':_0x13c27e,'totalSize':_0x3322e8});}catch(_0x3c414b){console['error']('Error\x20getting\x20cache\x20stats:',_0x3c414b),_0x7c6b63[_0x48d7c0(0x261)](0x1f4)[_0x48d7c0(0x13a)]({'error':_0x48d7c0(0x242)});}}),router[a26_0x3ece13(0x236)](a26_0x3ece13(0x1ff),async(_0x127de4,_0x40b80d)=>{const _0xa9819=a26_0x3ece13,_0x2f179f=path[_0xa9819(0x148)](path[_0xa9819(0x16a)](require[_0xa9819(0x23b)][_0xa9819(0xf9)]),_0xa9819(0x181),_0xa9819(0x126));try{function _0x37c015(_0x5ce3ff){const _0x276a88=_0xa9819;if(fs['existsSync'](_0x5ce3ff)){const _0x20bfad=fs['readdirSync'](_0x5ce3ff);for(const _0x308e6f of _0x20bfad){const _0x149942=path[_0x276a88(0x148)](_0x5ce3ff,_0x308e6f),_0x559a80=fs[_0x276a88(0x19a)](_0x149942);if(_0x559a80[_0x276a88(0x1e2)]()){}else _0x308e6f!=='.gitkeep'&&fs[_0x276a88(0x1be)](_0x149942);}}}_0x37c015(_0x2f179f),_0x40b80d[_0xa9819(0x13a)]({'message':_0xa9819(0x175)});}catch(_0x57f0cd){console['error']('Error\x20flushing\x20cache:',_0x57f0cd),_0x40b80d[_0xa9819(0x261)](0x1f4)[_0xa9819(0x13a)]({'error':_0xa9819(0x1a6)});}}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x1d8),async(_0x1dc614,_0x4b8216)=>{const _0x4a9308=a26_0x3ece13;_0x4b8216[_0x4a9308(0x204)](path[_0x4a9308(0x148)](path['dirname'](require[_0x4a9308(0x23b)]['filename']),_0x4a9308(0x13e)));}),router['get'](a26_0x3ece13(0x12c),async(_0x3890eb,_0x2cc62d)=>{const _0x1f6cb9=a26_0x3ece13,_0x18d6bd=fs[_0x1f6cb9(0x1cc)](path['join'](path[_0x1f6cb9(0x16a)](require['main']['filename']),'cadviewer/settings/conversion-cache.html'),_0x1f6cb9(0x1c4)),_0x4c612c=_0x18d6bd[_0x1f6cb9(0x20f)]('{version}',_0x3890eb[_0x1f6cb9(0x1c6)]);_0x2cc62d[_0x1f6cb9(0x24c)](_0x4c612c);}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x1f1),async(_0x534398,_0x4dccf1)=>{const _0x51172b=a26_0x3ece13,{page:page=0x1,limit:limit=0x10}=_0x534398[_0x51172b(0x25f)],_0x3c9052=path[_0x51172b(0x148)](path[_0x51172b(0x16a)](require[_0x51172b(0x23b)][_0x51172b(0xf9)]),_0x51172b(0x181),'files'),_0xf52cc0=fs['readdirSync'](_0x3c9052),_0x1c8aec=new Map();_0xf52cc0['forEach'](_0x171511=>{const _0x254632=_0x51172b,_0x3e5ecb=path[_0x254632(0x148)](_0x3c9052,_0x171511),_0x35c530=fs[_0x254632(0x19a)](_0x3e5ecb);_0x1c8aec[_0x254632(0x194)](_0x171511,_0x35c530);});const _0x423398=Array['from'](_0x1c8aec[_0x51172b(0x173)]())['map'](([_0xd9a347,_0x3d0401])=>{const _0x39b31e=_0x51172b;if(_0x3d0401[_0x39b31e(0x1e2)]())return undefined;if(_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x25a)))return undefined;if(_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x130)))return undefined;let _0x3131e6=undefined,_0x16cbc9=undefined;(_0xd9a347[_0x39b31e(0x1ea)]('.svg')||_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x19c)))&&_0x1c8aec[_0x39b31e(0x1ac)](_0xd9a347['replace']('.svgz',_0x39b31e(0x25a))['replace']('.svg',_0x39b31e(0x25a)))&&(_0x3131e6=_0x1c8aec[_0x39b31e(0x1bd)](_0xd9a347['replace'](_0x39b31e(0x19c),_0x39b31e(0x25a))[_0x39b31e(0x1b7)](_0x39b31e(0x1fe),_0x39b31e(0x25a))));_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x16f))&&_0x1c8aec[_0x39b31e(0x1ac)](_0xd9a347[_0x39b31e(0x1b7)]('.json','.dwg'))&&(_0x16cbc9=_0x1c8aec['get'](_0xd9a347[_0x39b31e(0x1b7)]('.json','.dwg')));let _0x2f014b='';if((_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x1fe))||_0xd9a347[_0x39b31e(0x1ea)]('.svgz'))&&_0x3131e6)_0x2f014b=_0x39b31e(0x139);else{if(_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x1fe))||_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x19c)))_0x2f014b=_0x39b31e(0x1df);else{if(_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x16f))&&_0x16cbc9)_0x2f014b='JSON\x20Data\x20Extraction';else{if(_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x187)))_0x2f014b=_0x39b31e(0x1ba);else{if(_0xd9a347['endsWith'](_0x39b31e(0x1f0)))_0x2f014b=_0x39b31e(0x262);else{if(_0xd9a347[_0x39b31e(0x1ea)]('.rl.json'))_0x2f014b=_0x39b31e(0x151);else _0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x16f))&&(_0x2f014b=_0x39b31e(0x166));}}}}}return{'name':_0xd9a347,'size':_0x3d0401[_0x39b31e(0x217)],'createdAt':_0x3d0401[_0x39b31e(0x133)],'updatedAt':_0x3d0401[_0x39b31e(0x17e)],'readAt':_0x3d0401[_0x39b31e(0x117)],'action':_0x2f014b,'csvFile':_0x3131e6,'availableFormats':[_0xd9a347[_0x39b31e(0x1ea)]('.svg')?{'id':_0xd9a347,'name':_0x39b31e(0x112),'color':_0x39b31e(0x1fb)}:undefined,_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x19c))?{'id':_0xd9a347,'name':_0x39b31e(0x124),'color':_0x39b31e(0x1fb)}:undefined,_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x187))?{'id':_0xd9a347,'name':'PDF','color':_0x39b31e(0x11f)}:undefined,_0xd9a347[_0x39b31e(0x1ea)](_0x39b31e(0x16f))?{'id':_0xd9a347,'name':_0x39b31e(0x16c),'color':_0x39b31e(0x14d)}:undefined,_0x3131e6?{'id':_0xd9a347[_0x39b31e(0x1b7)](_0x39b31e(0x19c),_0x39b31e(0x25a))[_0x39b31e(0x1b7)](_0x39b31e(0x1fe),_0x39b31e(0x25a)),'name':_0x39b31e(0xfb),'color':_0x39b31e(0x190)}:undefined][_0x39b31e(0x12d)](_0x29034c=>_0x29034c!==undefined)};})[_0x51172b(0x12d)](_0x36f77b=>_0x36f77b!==undefined),_0x56f168=(page-0x1)*limit,_0x37ddde=page*limit,_0x566d4f=_0x423398['length'],_0x239e13=Math[_0x51172b(0x119)](_0x566d4f/limit);_0x423398[_0x51172b(0x1cf)]((_0x32b6c8,_0x4c34d)=>_0x4c34d[_0x51172b(0x13b)]-_0x32b6c8[_0x51172b(0x13b)]);const _0x37cc64=_0x423398[_0x51172b(0x14a)](_0x56f168,_0x37ddde);_0x4dccf1[_0x51172b(0x13a)]({'files':_0x37cc64,'pagination':{'total':_0x566d4f,'totalPages':_0x239e13,'currentPage':parseInt(page),'limit':parseInt(limit)}});}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x223),async(_0x21beb3,_0x3b729f)=>{const _0x18b98f=a26_0x3ece13,{file:_0x4ec75c}=_0x21beb3[_0x18b98f(0x209)],_0x5907af=path['join'](path['dirname'](require['main'][_0x18b98f(0xf9)]),_0x18b98f(0x181),_0x18b98f(0x126)),_0x48c515=path['join'](_0x5907af,_0x4ec75c),_0x9371cd=fs[_0x18b98f(0x1cc)](_0x48c515,_0x18b98f(0x1c4)),_0x568b45=_0x9371cd['split']('\x0a'),_0x228d66=_0x568b45[_0x18b98f(0x20c)](_0x248f7b=>{const _0x3bdde1=_0x18b98f,_0x563ffc=_0x248f7b['split'](',');return _0x563ffc[_0x3bdde1(0x20c)](_0x20d15b=>_0x20d15b[_0x3bdde1(0x20f)]('\x22',''));});_0x3b729f[_0x18b98f(0x13a)](_0x228d66);}),router[a26_0x3ece13(0x1bd)](a26_0x3ece13(0x245),async(_0x58ae51,_0x237a41)=>{const _0x20264c=a26_0x3ece13,{id:_0xdd9a4e}=_0x58ae51[_0x20264c(0x209)],_0x13fc7b=path[_0x20264c(0x148)](path['dirname'](require['main'][_0x20264c(0xf9)]),'converters',_0x20264c(0x126)),_0x472443=path[_0x20264c(0x148)](_0x13fc7b,_0xdd9a4e);if(_0x472443[_0x20264c(0x1ea)](_0x20264c(0x19c))){var _0x501f36=require(_0x20264c(0x1d1));const _0x594364=fs[_0x20264c(0x1cc)](_0x472443),_0x387ae1=_0x501f36[_0x20264c(0x1db)](_0x594364);_0x237a41[_0x20264c(0x21a)](_0x20264c(0x23a),_0x20264c(0x12e)),_0x237a41[_0x20264c(0x24c)](_0x387ae1);}else _0x237a41['sendFile'](_0x472443);}),router[a26_0x3ece13(0x236)](a26_0x3ece13(0x245),async(_0xc589e,_0x558191)=>{const _0x377d1a=a26_0x3ece13,{id:_0x1d16c5}=_0xc589e[_0x377d1a(0x209)],_0x4f2cba=path[_0x377d1a(0x148)](path[_0x377d1a(0x16a)](require['main'][_0x377d1a(0xf9)]),_0x377d1a(0x181),'files'),_0x289eda=path['join'](_0x4f2cba,_0x1d16c5);fs[_0x377d1a(0x1be)](_0x289eda);if(_0x1d16c5[_0x377d1a(0x1ea)]('.svg')){const _0x4d8a3a=path[_0x377d1a(0x148)](_0x4f2cba,_0x1d16c5[_0x377d1a(0x1b7)]('.svgz','.csv')[_0x377d1a(0x1b7)](_0x377d1a(0x1fe),_0x377d1a(0x25a)));fs[_0x377d1a(0x23c)](_0x4d8a3a)&&fs[_0x377d1a(0x1be)](_0x4d8a3a);}_0x558191['json']({'message':_0x377d1a(0x24e)});});const deleteOldDemoUsers=async()=>{const _0x393429=a26_0x3ece13;console['log'](_0x393429(0x14c));const _0x25ec16=config[_0x393429(0x158)],_0x491030='SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)';try{const [_0x38f688]=await conn[_0x393429(0x142)]()[_0x393429(0x220)](_0x491030,[_0x25ec16]),_0x13feac=_0x38f688[_0x393429(0x20c)](_0x1443ee=>_0x1443ee[_0x393429(0x1a2)]),_0x5528ba=_0x38f688['map'](_0x3fb554=>_0x3fb554[_0x393429(0xf5)]);console[_0x393429(0x210)](_0x5528ba),await conn['promise']()[_0x393429(0x220)](_0x393429(0x24f),[_0x25ec16]),_0x13feac[_0x393429(0x1fc)](_0xf74759=>{const _0x4a8418=_0x393429;try{const _0x1dcca2=_0x4a8418(0x1b6)+_0xf74759;fs['rmdirSync'](_0x1dcca2);}catch(_0x349937){console['error'](_0x4a8418(0x10c),_0x349937);}}),console[_0x393429(0x210)](_0x393429(0x13c)+_0x38f688['length']+')\x20older\x20than\x20'+_0x25ec16+_0x393429(0x17f));}catch(_0x1bf3bd){console[_0x393429(0x16b)](_0x393429(0x111),_0x1bf3bd);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x393502=a26_0x3ece13,_0xbd445f=require(_0x393502(0x230))['transporter'];try{const [_0x3fd8d0]=await conn[_0x393502(0x142)]()[_0x393502(0x220)](_0x393502(0x165),[config[_0x393502(0x158)]-config[_0x393502(0x118)]]);if(_0x3fd8d0[_0x393502(0x1f2)]===0x0){console[_0x393502(0x210)](_0x393502(0x1c3));return;}for(const _0x175544 of _0x3fd8d0){let _0x58eebd=_0x393502(0x1e9)+(_0x175544[_0x393502(0x184)]||_0x175544[_0x393502(0x22f)])+_0x393502(0x21c);const _0x5a1d0a={'from':config['smtpFrom'],'to':_0x175544[_0x393502(0xf5)],'subject':_0x393502(0x1ef),'text':'Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','html':_0x58eebd};try{await _0xbd445f[_0x393502(0x1af)](_0x5a1d0a),console[_0x393502(0x210)](_0x393502(0x14f)+_0x175544[_0x393502(0xf5)]);}catch(_0x8cbbf7){console[_0x393502(0x210)]('===================error==================='),console[_0x393502(0x210)](_0x393502(0x213)+_0x175544[_0x393502(0xf5)]),console[_0x393502(0x210)](_0x8cbbf7);}}}catch(_0x417e12){console[_0x393502(0x210)](_0x393502(0x155)),console[_0x393502(0x210)](_0x393502(0x252)),console[_0x393502(0x210)](_0x417e12);}};schedule[a26_0x3ece13(0x241)](a26_0x3ece13(0x109),deleteOldDemoUsers),schedule[a26_0x3ece13(0x241)](a26_0x3ece13(0x198),sendEmailForAccountDeletionPrevention),sendEmailForAccountDeletionPrevention(),module[a26_0x3ece13(0x1d7)]=router;