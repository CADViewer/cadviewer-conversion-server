const a26_0x26e0b9=a26_0x3269;(function(_0x5b5e1a,_0x463189){const _0x3d3944=a26_0x3269,_0x53fd62=_0x5b5e1a();while(!![]){try{const _0x5905e3=parseInt(_0x3d3944(0x173))/0x1*(-parseInt(_0x3d3944(0xfa))/0x2)+-parseInt(_0x3d3944(0x1b6))/0x3+-parseInt(_0x3d3944(0xc8))/0x4*(parseInt(_0x3d3944(0x144))/0x5)+parseInt(_0x3d3944(0x16f))/0x6+parseInt(_0x3d3944(0xc5))/0x7+parseInt(_0x3d3944(0xba))/0x8+-parseInt(_0x3d3944(0x6c))/0x9*(-parseInt(_0x3d3944(0x1f2))/0xa);if(_0x5905e3===_0x463189)break;else _0x53fd62['push'](_0x53fd62['shift']());}catch(_0x21eb64){_0x53fd62['push'](_0x53fd62['shift']());}}}(a26_0x2ab0,0x894be));const express=require('express'),router=express[a26_0x26e0b9(0x92)](),multer=require(a26_0x26e0b9(0xaa)),fs=require('fs'),path=require(a26_0x26e0b9(0x88)),getHotConfig=require(a26_0x26e0b9(0x85))[a26_0x26e0b9(0xdb)],{exec}=require(a26_0x26e0b9(0x163)),os=require('os'),conn=require(a26_0x26e0b9(0x1f5)),bcrypt=require(a26_0x26e0b9(0x124)),osu=require(a26_0x26e0b9(0xca)),schedule=require(a26_0x26e0b9(0x6e)),counter=require('../libs/counter.js'),{randomUUID}=require(a26_0x26e0b9(0xaf)),logStream=require('../libs/log'),config=require(a26_0x26e0b9(0x15e)),basicAuth=require(a26_0x26e0b9(0x190)),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a26_0x26e0b9(0xa7)),protectedRoute=basicAuth({'users':{[config['settingsUserBasicAuth']]:config[a26_0x26e0b9(0x13f)]},'challenge':!![],'realm':'CADViewer\x20Settings'});router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x1e7),async(_0x4d7073,_0x5da31c)=>{const _0x5022cf=a26_0x26e0b9;_0x5da31c['sendFile'](path[_0x5022cf(0x7a)](path['dirname'](require[_0x5022cf(0x1c0)][_0x5022cf(0x80)]),'cadviewer/settings/tailwind.js'));}),router['get'](a26_0x26e0b9(0x14b),async(_0x4ea0cc,_0x553325)=>{const _0x277382=a26_0x26e0b9;_0x553325[_0x277382(0x112)](path[_0x277382(0x7a)](path[_0x277382(0x1bb)](require[_0x277382(0x1c0)][_0x277382(0x80)]),_0x277382(0xb6)));}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x12a),async(_0xeae611,_0x51c780)=>{const _0xc7a93d=a26_0x26e0b9;_0x51c780[_0xc7a93d(0x112)](path['join'](path[_0xc7a93d(0x1bb)](require['main']['filename']),'cadviewer/settings/style.css'));}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x11d),async(_0x33c2ac,_0x33f5ee)=>{const _0x2a3b8f=a26_0x26e0b9;_0x33f5ee[_0x2a3b8f(0x112)](path[_0x2a3b8f(0x7a)](path[_0x2a3b8f(0x1bb)](require[_0x2a3b8f(0x1c0)][_0x2a3b8f(0x80)]),_0x2a3b8f(0x1bf)));}),router['get'](a26_0x26e0b9(0xb4),async(_0x50c0c4,_0x175e13)=>{const _0x1cbd09=a26_0x26e0b9;_0x175e13['sendFile'](path[_0x1cbd09(0x7a)](path[_0x1cbd09(0x1bb)](require[_0x1cbd09(0x1c0)][_0x1cbd09(0x80)]),_0x1cbd09(0xe2)));}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x14f),async(_0xb068fc,_0x4d18cf)=>{const _0xd8cc43=a26_0x26e0b9;_0x4d18cf[_0xd8cc43(0x112)](path['join'](path[_0xd8cc43(0x1bb)](require['main'][_0xd8cc43(0x80)]),_0xd8cc43(0x206)));}),router[a26_0x26e0b9(0x160)]('/',protectedRoute,async(_0x563343,_0x3b239c)=>{const _0x3d6c96=a26_0x26e0b9,_0x368711=fs[_0x3d6c96(0xa8)](path[_0x3d6c96(0x7a)](path['dirname'](require[_0x3d6c96(0x1c0)][_0x3d6c96(0x80)]),_0x3d6c96(0xcc)),_0x3d6c96(0x6d)),_0x1bdbcf=_0x368711[_0x3d6c96(0x16a)](_0x3d6c96(0xc2),_0x563343[_0x3d6c96(0x145)]);_0x3b239c[_0x3d6c96(0x106)](_0x1bdbcf);}),router['get']('/licences',protectedRoute,async(_0x1ebbc5,_0x371f8)=>{const _0x23d964=a26_0x26e0b9,_0x3b8cf5=fs[_0x23d964(0xa8)](path[_0x23d964(0x7a)](path[_0x23d964(0x1bb)](require[_0x23d964(0x1c0)][_0x23d964(0x80)]),'cadviewer/settings/licences.html'),_0x23d964(0x6d)),_0x15b3e1=_0x3b8cf5[_0x23d964(0x16a)](_0x23d964(0xc2),_0x1ebbc5['version']);_0x371f8[_0x23d964(0x106)](_0x15b3e1);}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x103),protectedRoute,async(_0x52def8,_0x53e10a)=>{const _0x24832f=a26_0x26e0b9,_0x1218ba=fs[_0x24832f(0xa8)](path[_0x24832f(0x7a)](path['dirname'](require[_0x24832f(0x1c0)][_0x24832f(0x80)]),_0x24832f(0x18e)),'utf8'),_0x16834e=_0x1218ba[_0x24832f(0x16a)](_0x24832f(0xc2),_0x52def8['version']);_0x53e10a[_0x24832f(0x106)](_0x16834e);}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x15a),protectedRoute,async(_0x5e1aca,_0x4c5862)=>{const _0x5c1b87=a26_0x26e0b9,_0x4e1b9c=fs[_0x5c1b87(0xa8)](path[_0x5c1b87(0x7a)](path['dirname'](require['main'][_0x5c1b87(0x80)]),_0x5c1b87(0xd7)),_0x5c1b87(0x6d)),_0x1b7adb=_0x4e1b9c[_0x5c1b87(0x16a)](_0x5c1b87(0xc2),_0x5e1aca['version']);_0x4c5862[_0x5c1b87(0x106)](_0x1b7adb);}),router[a26_0x26e0b9(0xbf)](a26_0x26e0b9(0x15a),async(_0x27e5d7,_0x1a65d6)=>{const _0x592cb2=a26_0x26e0b9,_0x5d3c76=path['join'](path[_0x592cb2(0x1bb)](require[_0x592cb2(0x1c0)][_0x592cb2(0x80)]),_0x592cb2(0x18d)),_0x304f4e=JSON[_0x592cb2(0xed)](fs['readFileSync'](_0x5d3c76,'utf8')),_0x32486c=_0x304f4e[_0x592cb2(0x13c)];if(!fs[_0x592cb2(0x9c)](_0x32486c))return _0x1a65d6['status'](0x194)[_0x592cb2(0xae)]({'message':'Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.'});const _0x279cae=_0x435762=>{const _0x2bd42f=_0x592cb2;let _0x4f8c67=0x0;return _0x435762[_0x2bd42f(0x1c7)](_0x40f251=>{const _0x13aa8f=_0x2bd42f;_0x40f251[_0x13aa8f(0x155)]?_0x4f8c67+=_0x279cae(_0x40f251[_0x13aa8f(0x1e0)]):_0x4f8c67+=_0x40f251[_0x13aa8f(0x1e6)];}),_0x4f8c67;},_0x3ea327=_0x222d59=>{const _0x1f5a29=_0x592cb2;if(_0x222d59<0x400)return _0x222d59+'\x20B';else{if(_0x222d59<0x400*0x400)return(_0x222d59/0x400)['toFixed'](0x2)+'\x20KB';else return _0x222d59<0x400*0x400*0x400?(_0x222d59/0x400/0x400)[_0x1f5a29(0xd4)](0x2)+_0x1f5a29(0x1d0):(_0x222d59/0x400/0x400/0x400)['toFixed'](0x2)+'\x20GB';}},_0x55ed70=(_0x5af95d,_0x419dc6='')=>{const _0x13f744=_0x592cb2,_0x30f4de=fs[_0x13f744(0xc3)](_0x5af95d),_0x193598=[];return _0x30f4de[_0x13f744(0x1c7)](_0x53b43d=>{const _0x14cc02=_0x13f744,_0x33b299=path['join'](_0x5af95d,_0x53b43d)[_0x14cc02(0x16a)]('\x5c','/'),_0x1387a2=fs[_0x14cc02(0x9f)](_0x33b299);if(_0x1387a2[_0x14cc02(0xe5)]()){const _0x2e9803=_0x55ed70(_0x33b299,_0x419dc6+_0x14cc02(0x1f7));_0x193598[_0x14cc02(0x1b5)]({'name':_0x53b43d,'size':_0x1387a2['size'],'path':_0x33b299,'permissions':_0x1387a2[_0x14cc02(0x188)],'isFolder':!![],'sub_dirs':_0x2e9803});}else _0x193598[_0x14cc02(0x1b5)]({'name':_0x53b43d,'size':_0x1387a2[_0x14cc02(0x1e6)],'path':_0x33b299,'permissions':_0x1387a2['mode'],'isFolder':![]});}),_0x193598;};let _0x460c93=_0x55ed70(_0x32486c);const _0x22d285=_0x3bb492=>{return _0x3bb492['forEach'](_0x3bc06f=>{const _0x5dde9f=a26_0x3269;_0x3bc06f['isFolder']?(_0x3bc06f[_0x5dde9f(0x6f)]=_0x3ea327(_0x279cae(_0x3bc06f['sub_dirs'])),_0x3bc06f['sub_dirs']=_0x22d285(_0x3bc06f[_0x5dde9f(0x1e0)])):_0x3bc06f[_0x5dde9f(0x6f)]=_0x3ea327(_0x3bc06f[_0x5dde9f(0x1e6)]);}),_0x3bb492;};_0x1a65d6[_0x592cb2(0xfc)](0xc8)[_0x592cb2(0xae)](_0x22d285(_0x460c93));}),router[a26_0x26e0b9(0xbf)](a26_0x26e0b9(0x142),async(_0x19347b,_0x2166d5)=>{const _0x13c831=a26_0x26e0b9,{path:_0x4a8cde}=_0x19347b[_0x13c831(0x1dd)],_0x52a76e=_0x4a8cde[_0x13c831(0x207)]('/')['pop']();if(!fs['existsSync'](_0x4a8cde))return _0x2166d5[_0x13c831(0xfc)](0x194)[_0x13c831(0xae)]({'message':_0x13c831(0xa3)});_0x2166d5[_0x13c831(0x7d)](_0x13c831(0xb7),'application/octet-stream'),_0x2166d5[_0x13c831(0x7d)](_0x13c831(0x16b),'attachment;\x20filename=\x22'+_0x52a76e+'\x22'),_0x2166d5['download'](_0x4a8cde,_0x4f5f5c=>{const _0x27f4c3=_0x13c831;_0x4f5f5c&&_0x2166d5[_0x27f4c3(0xfc)](0x1f4)[_0x27f4c3(0xae)]({'message':_0x27f4c3(0x7b)});});}),router['post'](a26_0x26e0b9(0xf9),async(_0x215a2b,_0x45e58f)=>{const _0x539bf7=a26_0x26e0b9,_0x2a7aa3=_0x215a2b[_0x539bf7(0x1dd)],_0xb0c823=getHotConfig()[_0x539bf7(0x13c)],_0x14e6fb=path[_0x539bf7(0x7a)](_0xb0c823,_0x2a7aa3[_0x539bf7(0x88)]);if(!fs['existsSync'](_0x14e6fb))return _0x45e58f[_0x539bf7(0xfc)](0x194)[_0x539bf7(0xae)]({'message':_0x539bf7(0x105)});if(fs['existsSync'](path[_0x539bf7(0x7a)](_0x14e6fb,_0x2a7aa3[_0x539bf7(0x18c)])))return _0x45e58f[_0x539bf7(0xfc)](0x199)[_0x539bf7(0xae)]({'message':_0x539bf7(0x193)});fs[_0x539bf7(0x1d1)](path['join'](_0x14e6fb,_0x2a7aa3[_0x539bf7(0x18c)]),_0xa38799=>{const _0x497db2=_0x539bf7;_0xa38799&&_0x45e58f[_0x497db2(0xfc)](0x1f4)[_0x497db2(0xae)]({'message':_0x497db2(0x77)}),_0x45e58f[_0x497db2(0xfc)](0xc8)['json']({'message':_0x497db2(0x1ad)});});}),router[a26_0x26e0b9(0x186)](a26_0x26e0b9(0x1c1),async(_0x4eed66,_0x43a843)=>{const _0x114315=a26_0x26e0b9,{newName:_0x4ebb1a,isFolder:_0x972481,path:_0x2a11b6}=_0x4eed66[_0x114315(0x1dd)];if(!fs[_0x114315(0x9c)](_0x2a11b6))return _0x43a843[_0x114315(0xfc)](0x194)[_0x114315(0xae)]({'message':_0x972481?_0x114315(0xf1):_0x114315(0xa3)});const _0x18df43=_0x2a11b6[_0x114315(0xdf)](_0x2a11b6['split']('/')[_0x114315(0x12d)](),_0x4ebb1a),_0x319b2f=fs[_0x114315(0x9f)](_0x2a11b6);_0x319b2f[_0x114315(0xe5)]()?fs[_0x114315(0x13a)](_0x2a11b6,_0x18df43):(fs['copyFileSync'](_0x2a11b6,_0x18df43),fs[_0x114315(0x10b)](_0x2a11b6)),_0x43a843[_0x114315(0xfc)](0xc8)['json']({'message':_0x972481?_0x114315(0x1bc):_0x114315(0x8d)});}),router['delete']('/folders/delete',async(_0x2ba617,_0x15f230)=>{const _0x516183=a26_0x26e0b9,{path:_0x54ca66}=_0x2ba617[_0x516183(0x1dd)];if(!fs[_0x516183(0x9c)](_0x54ca66))return _0x15f230[_0x516183(0xfc)](0x194)['json']({'message':'File\x20or\x20Folder\x20not\x20found'});const _0x22cb04=fs[_0x516183(0x9f)](_0x54ca66);if(_0x22cb04[_0x516183(0x20a)]())fs[_0x516183(0x1fd)](_0x54ca66,_0x5deb2d=>{const _0x620cd7=_0x516183;_0x5deb2d&&_0x15f230['status'](0x1f4)[_0x620cd7(0xae)]({'message':'Error\x20deleting\x20file.'}),_0x15f230[_0x620cd7(0xfc)](0xc8)[_0x620cd7(0xae)]({'message':'File\x20deleted.'});});else _0x22cb04[_0x516183(0xe5)]()&&fs[_0x516183(0x1a5)](_0x54ca66,{'recursive':!![]},_0x44c019=>{const _0x1b7330=_0x516183;_0x44c019&&_0x15f230[_0x1b7330(0xfc)](0x1f4)['json']({'message':_0x1b7330(0x1a7)}),_0x15f230['status'](0xc8)[_0x1b7330(0xae)]({'message':_0x1b7330(0x169)});});});!fs[a26_0x26e0b9(0x9c)](a26_0x26e0b9(0x74))&&fs['mkdirSync'](a26_0x26e0b9(0x74));const storage=multer[a26_0x26e0b9(0x1e2)]({'destination':(_0xb07538,_0x4dc1b0,_0x483b29)=>{const _0x57b252=a26_0x26e0b9;_0x483b29(null,_0x57b252(0x107));},'filename':(_0x20d7f1,_0x3b7b57,_0x5913fd)=>{const _0x28908f=a26_0x26e0b9;_0x5913fd(null,Date[_0x28908f(0x1eb)]()+path[_0x28908f(0x1d9)](_0x3b7b57[_0x28908f(0x16e)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x26e0b9(0xbf)]('/folders/upload',upload['array'](a26_0x26e0b9(0x17e)),async(_0x1b18e4,_0x3d91f2)=>{const _0xea8e41=a26_0x26e0b9,_0x310290=_0x1b18e4['body'];if(!_0x1b18e4[_0xea8e41(0x17e)]||_0x1b18e4[_0xea8e41(0x17e)]['length']===0x0)return _0x3d91f2['status'](0x190)[_0xea8e41(0xae)]({'message':_0xea8e41(0x90)});const _0x33c672=getHotConfig()[_0xea8e41(0x13c)],_0xe6cbed=path[_0xea8e41(0x7a)](_0x33c672,_0x310290[_0xea8e41(0x88)]);if(!fs['existsSync'](_0xe6cbed))return _0x3d91f2['status'](0x194)[_0xea8e41(0xae)]({'message':_0xea8e41(0x105)});const _0x28b1d4=_0x1b18e4['files'][_0xea8e41(0xd2)](_0x4c27fa=>({'originalname':_0x4c27fa[_0xea8e41(0x16e)],'filename':_0x4c27fa['filename'],'mimetype':_0x4c27fa[_0xea8e41(0x162)],'size':_0x4c27fa[_0xea8e41(0x1e6)]}));_0x28b1d4[_0xea8e41(0x1c7)](_0x3f1826=>{const _0x1f9b80=_0xea8e41;fs[_0x1f9b80(0x1de)](path[_0x1f9b80(0x7a)](_0x1f9b80(0x107),_0x3f1826[_0x1f9b80(0x80)]),path[_0x1f9b80(0x7a)](_0xe6cbed,_0x3f1826[_0x1f9b80(0x16e)])),fs[_0x1f9b80(0x10b)](path[_0x1f9b80(0x7a)](_0x1f9b80(0x107),_0x3f1826[_0x1f9b80(0x80)]));}),_0x3d91f2[_0xea8e41(0xfc)](0xc8)[_0xea8e41(0xae)]({'message':'Files\x20uploaded\x20successfully','files':_0x28b1d4});}),router['put'](a26_0x26e0b9(0x19f),async(_0x531992,_0x2cdb50)=>{const _0x3a6a20=a26_0x26e0b9,_0x248633=path[_0x3a6a20(0x7a)](path[_0x3a6a20(0x1bb)](require[_0x3a6a20(0x1c0)][_0x3a6a20(0x80)]),_0x3a6a20(0x18d)),{config:_0x43a7c2}=_0x531992[_0x3a6a20(0x1dd)];if(!_0x43a7c2)return _0x2cdb50[_0x3a6a20(0xfc)](0x190)[_0x3a6a20(0xae)]({'message':_0x3a6a20(0x11a)});try{fs[_0x3a6a20(0x159)](_0x248633,JSON[_0x3a6a20(0xec)](_0x43a7c2,null,0x4)),_0x2cdb50[_0x3a6a20(0xfc)](0xc8)['json']({'message':_0x3a6a20(0xf7)});}catch(_0x56d333){_0x2cdb50[_0x3a6a20(0xfc)](0x1f4)[_0x3a6a20(0xae)]({'message':_0x3a6a20(0xda)});}}),router[a26_0x26e0b9(0x186)]('/config/update',async(_0x5783d6,_0x4e75ba)=>{const _0x31d78e=a26_0x26e0b9,{key:_0x54f494,value:_0x4a7bb3}=_0x5783d6[_0x31d78e(0x1dd)],_0x1957ed=path[_0x31d78e(0x7a)](path[_0x31d78e(0x1bb)](require[_0x31d78e(0x1c0)][_0x31d78e(0x80)]),_0x31d78e(0x18d));fs[_0x31d78e(0x117)](_0x1957ed,_0x31d78e(0x6d),function(_0x1bc6e8,_0x356b2c){const _0x3ea16c=_0x31d78e;_0x1bc6e8&&_0x4e75ba['status'](0x1f4)[_0x3ea16c(0x106)](_0x1bc6e8);const _0x327323=JSON[_0x3ea16c(0xed)](_0x356b2c);_0x327323[_0x54f494]=_0x4a7bb3;if(_0x54f494==='autodetect_location'){let _0x3bea14='';if(_0x327323[_0x3ea16c(0x121)]){_0x3bea14=os['platform']();if(_0x3bea14===_0x3ea16c(0x8f))_0x3bea14=_0x3ea16c(0x1a8);else{if(_0x3bea14===_0x3ea16c(0x1a0))_0x3bea14=_0x3ea16c(0x8a);}}else _0x3bea14=_0x327323['platform'];if(_0x3bea14===_0x3ea16c(0x1a8)){_0x327323['ServerLocation']=path[_0x3ea16c(0x91)](__dirname,'..')+'/';const _0x1832a0=/\\/g;_0x327323[_0x3ea16c(0x115)]=_0x327323[_0x3ea16c(0x115)]['replace'](_0x1832a0,'/');}else _0x327323[_0x3ea16c(0x115)]=path[_0x3ea16c(0x91)](__dirname,'..')+'/';}if(_0x54f494===_0x3ea16c(0x121)){let _0x3d02e6=os['platform']();if(_0x3d02e6===_0x3ea16c(0x8f))_0x3d02e6='windows';else _0x3d02e6=_0x3ea16c(0x8a);_0x3d02e6==='windows'?_0x4a7bb3===!![]&&(_0x327323[_0x3ea16c(0x1c9)]=_0x327323[_0x3ea16c(0xc1)],_0x327323[_0x3ea16c(0x19d)]=_0x327323[_0x3ea16c(0x168)],_0x327323['linklist_executable']=_0x327323[_0x3ea16c(0xa5)]):_0x4a7bb3===!![]&&(_0x327323[_0x3ea16c(0x1c9)]=_0x327323['autoxchange_executable_linux'],_0x327323[_0x3ea16c(0x19d)]=_0x327323[_0x3ea16c(0xa0)],_0x327323[_0x3ea16c(0x79)]=_0x327323['linklist_executable_linux']),_0x327323[_0x3ea16c(0xe9)]=_0x3d02e6;}if(_0x327323[_0x3ea16c(0x121)]){let _0x5f2af=os['platform']();if(_0x5f2af===_0x3ea16c(0x8f))_0x5f2af=_0x3ea16c(0x1a8);else _0x5f2af=_0x3ea16c(0x8a);if(_0x5f2af==='windows'){if(_0x54f494===_0x3ea16c(0xc1))_0x327323[_0x3ea16c(0x1c9)]=_0x4a7bb3;else{if(_0x54f494===_0x3ea16c(0x168))_0x327323[_0x3ea16c(0x19d)]=_0x4a7bb3;else _0x54f494===_0x3ea16c(0xa5)&&(_0x327323[_0x3ea16c(0x79)]=_0x4a7bb3);}}else{if(_0x54f494==='autoxchange_executable_linux')_0x327323[_0x3ea16c(0x1c9)]=_0x4a7bb3;else{if(_0x54f494===_0x3ea16c(0xa0))_0x327323[_0x3ea16c(0x19d)]=_0x4a7bb3;else _0x54f494===_0x3ea16c(0x143)&&(_0x327323['linklist_executable']=_0x4a7bb3);}}}fs['writeFile'](_0x1957ed,JSON[_0x3ea16c(0xec)](_0x327323,null,0x4),function(_0x12a456){const _0x3cc60b=_0x3ea16c;_0x12a456&&_0x4e75ba[_0x3cc60b(0xfc)](0x1f4)[_0x3cc60b(0x106)](_0x12a456),_0x4e75ba[_0x3cc60b(0xfc)](0xc8)[_0x3cc60b(0xae)]({'message':_0x3cc60b(0x184)});});});}),router[a26_0x26e0b9(0xbf)]('/config/content',async(_0x23c94b,_0x38ceda)=>{const _0x5e4eb7=a26_0x26e0b9,_0x2fa564=getHotConfig(),_0x12daa6=(_0x2fa564[_0x5e4eb7(0x10c)][_0x5e4eb7(0xd5)](_0x2fa564['ServerLocation'])?'':_0x2fa564[_0x5e4eb7(0x115)])+_0x2fa564[_0x5e4eb7(0x10c)],_0x3dbf87=(_0x2fa564[_0x5e4eb7(0x10c)]['includes'](_0x2fa564[_0x5e4eb7(0x115)])?'':_0x2fa564[_0x5e4eb7(0x115)])+_0x2fa564[_0x5e4eb7(0x1a9)],_0x3b3fab=(_0x2fa564[_0x5e4eb7(0x17d)][_0x5e4eb7(0xd5)](_0x2fa564[_0x5e4eb7(0x115)])?'':_0x2fa564[_0x5e4eb7(0x115)])+_0x2fa564[_0x5e4eb7(0x17d)],_0x43c999=/ax202.*\.exe/,_0x37ee07=/ax202.*/,_0x198a24=/dwgmerge202.*\.exe/,_0x383da6=/dwgmerge_202.*/,_0x2e0f5a=/linklist_202.*\.exe/,_0x58277f=/linklist_202.*/,_0x1ece40=[],_0x4af28e=[],_0x4fcda3=[],_0x350f90=[],_0x526d95=[],_0x5b3731=[];let _0x2b807a='';if(_0x2fa564[_0x5e4eb7(0x121)]){_0x2b807a=os[_0x5e4eb7(0xe9)]();if(_0x2b807a===_0x5e4eb7(0x8f))_0x2b807a=_0x5e4eb7(0x1a8);else{if(_0x2b807a==='darwin')_0x2b807a=_0x5e4eb7(0x8a);}}else _0x2b807a=_0x2fa564[_0x5e4eb7(0xe9)];fs[_0x5e4eb7(0xc3)](_0x3b3fab[_0x5e4eb7(0x16a)](_0x5e4eb7(0x8a),_0x5e4eb7(0x1a8)))[_0x5e4eb7(0x1c7)](_0x148c7a=>{if(_0x43c999['test'](_0x148c7a['toLocaleLowerCase']()))_0x1ece40['push'](_0x148c7a);}),fs[_0x5e4eb7(0xc3)](_0x12daa6[_0x5e4eb7(0x16a)]('linux',_0x5e4eb7(0x1a8)))[_0x5e4eb7(0x1c7)](_0x24ff1b=>{const _0x46d41a=_0x5e4eb7;if(_0x198a24[_0x46d41a(0x176)](_0x24ff1b[_0x46d41a(0x12e)]()))_0x4af28e[_0x46d41a(0x1b5)](_0x24ff1b);}),fs[_0x5e4eb7(0xc3)](_0x3dbf87[_0x5e4eb7(0x16a)](_0x5e4eb7(0x8a),_0x5e4eb7(0x1a8)))[_0x5e4eb7(0x1c7)](_0x2f191b=>{const _0x5db957=_0x5e4eb7;if(_0x2e0f5a[_0x5db957(0x176)](_0x2f191b['toLocaleLowerCase']()))_0x4fcda3[_0x5db957(0x1b5)](_0x2f191b);}),fs['readdirSync'](_0x3b3fab[_0x5e4eb7(0x16a)](_0x5e4eb7(0x1a8),_0x5e4eb7(0x8a)))[_0x5e4eb7(0x1c7)](_0x218209=>{const _0x5e754c=_0x5e4eb7;if(_0x37ee07[_0x5e754c(0x176)](_0x218209[_0x5e754c(0x12e)]()))_0x350f90[_0x5e754c(0x1b5)](_0x218209);}),fs[_0x5e4eb7(0xc3)](_0x12daa6[_0x5e4eb7(0x16a)](_0x5e4eb7(0x1a8),_0x5e4eb7(0x8a)))[_0x5e4eb7(0x1c7)](_0xa33955=>{const _0xab32db=_0x5e4eb7;if(_0x383da6['test'](_0xa33955[_0xab32db(0x12e)]()))_0x526d95[_0xab32db(0x1b5)](_0xa33955);}),fs['readdirSync'](_0x3dbf87[_0x5e4eb7(0x16a)](_0x5e4eb7(0x1a8),_0x5e4eb7(0x8a)))[_0x5e4eb7(0x1c7)](_0x5131fc=>{const _0x5b1f6b=_0x5e4eb7;if(_0x58277f['test'](_0x5131fc[_0x5b1f6b(0x12e)]()))_0x5b3731[_0x5b1f6b(0x1b5)](_0x5131fc);});const _0x1ca901=[_0x5e4eb7(0x1be),_0x5e4eb7(0x11f),_0x5e4eb7(0x204),'converterpathLin','fontLocation'],_0x3bbc42=['fileLocation','fileLocationUrl',_0x5e4eb7(0x17d),_0x5e4eb7(0x139),'xpathLocation',_0x5e4eb7(0x97),_0x5e4eb7(0xe0),_0x5e4eb7(0x10c),'linklistLocation',_0x5e4eb7(0x145)],_0x5aa65c=['ServerUrl',_0x5e4eb7(0x185),_0x5e4eb7(0x1f6),'mysqlPassword',_0x5e4eb7(0xd1),'cached_conversion','cvjs_svgz_compress'],_0x4cf01c={'ServerUrl':_0x5e4eb7(0xee),'autoxchange_executable':_0x5e4eb7(0x127),'linklist_executable':_0x5e4eb7(0x72),'dwgmerge_executable':_0x5e4eb7(0xf0),'setup_mysqlHost':_0x5e4eb7(0x1ac),'callbackMethod_gatewayUrl_flag':_0x5e4eb7(0x154),'userFolderMaximumFiles':'Demo\x20and\x20Base\x20User\x20Settings','smtpHost':_0x5e4eb7(0x180)},_0x5c1321={'https':_0x5e4eb7(0x1d8),'ServerFrontEndUrlAsAllowedOriginOnly':_0x5e4eb7(0x1d8),'autodetect_platform':_0x5e4eb7(0x1d8),'cvjs_svgz_compress':_0x5e4eb7(0x1d8),'cached_conversion':'boolean','remainOnServer':_0x5e4eb7(0x1d8),'cvjs_debug':_0x5e4eb7(0x1d8),'autodetect_location':_0x5e4eb7(0x1d8),'platform':_0x5e4eb7(0x205),'autoxchange_executable':'radio|'+(_0x2b807a===_0x5e4eb7(0x1a8)?_0x1ece40[_0x5e4eb7(0x7a)](','):_0x350f90['join'](',')),'autoxchange_executable_windows':'radio|'+_0x1ece40[_0x5e4eb7(0x7a)](','),'autoxchange_executable_linux':'radio|'+_0x350f90[_0x5e4eb7(0x7a)](','),'dwgmerge_executable':_0x5e4eb7(0xf2)+(_0x2b807a===_0x5e4eb7(0x1a8)?_0x4af28e[_0x5e4eb7(0x7a)](','):_0x526d95[_0x5e4eb7(0x7a)](',')),'dwgmerge_executable_windows':'radio|'+_0x4af28e[_0x5e4eb7(0x7a)](','),'dwgmerge_executable_linux':_0x5e4eb7(0xf2)+_0x526d95[_0x5e4eb7(0x7a)](','),'linklist_executable':_0x5e4eb7(0xf2)+(_0x2b807a==='windows'?_0x4fcda3[_0x5e4eb7(0x7a)](','):_0x5b3731[_0x5e4eb7(0x7a)](',')),'linklist_executable_windows':_0x5e4eb7(0xf2)+_0x4fcda3[_0x5e4eb7(0x7a)](','),'linklist_executable_linux':'radio|'+_0x5b3731[_0x5e4eb7(0x7a)](','),'callbackMethod_gatewayUrl_flag':_0x5e4eb7(0x1d8),'setup_mysqlHost':'boolean','ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x5e4eb7(0x1d8),'contentLocationCheck':_0x5e4eb7(0x1d8),'globalBearerAutentication':_0x5e4eb7(0x1d8),'bcryptSaltRounds':_0x5e4eb7(0xfd),'userFolderMaximumFiles':_0x5e4eb7(0xfd),'userFolderMaximumSizeInMB':'number','recaptchaEnabled':_0x5e4eb7(0x1d8),'usersExportFrequency':_0x5e4eb7(0x16c),'enableEmailVerification':_0x5e4eb7(0x1d8),'demoUserRetentionDaysAlertBeforeDeletion':_0x5e4eb7(0xfd),'demoUserRetentionDays':'number'},_0x2ae014={},_0x5956b1=Object[_0x5e4eb7(0x1fe)](_0x2fa564);_0x2fa564['autodetect_platform']&&_0x1ca901[_0x5e4eb7(0x1b5)](_0x5e4eb7(0xe9)),_0x2fa564[_0x5e4eb7(0x1a4)]&&(_0x3bbc42[_0x5e4eb7(0x1b5)](_0x5e4eb7(0x115)),_0x3bbc42[_0x5e4eb7(0x1b5)](_0x5e4eb7(0x1c9)),_0x3bbc42[_0x5e4eb7(0x1b5)](_0x5e4eb7(0x19d)),_0x3bbc42[_0x5e4eb7(0x1b5)](_0x5e4eb7(0x79))),!_0x2fa564[_0x5e4eb7(0x129)]&&_0x3bbc42[_0x5e4eb7(0x1b5)]('callbackMethod_gatewayUrl'),!_0x2fa564[_0x5e4eb7(0x1cd)]&&(_0x3bbc42[_0x5e4eb7(0x1b5)](_0x5e4eb7(0x185)),_0x3bbc42['push'](_0x5e4eb7(0x1f6)),_0x3bbc42[_0x5e4eb7(0x1b5)](_0x5e4eb7(0xb8)),_0x3bbc42['push']('mysqlDatabase')),!_0x2fa564[_0x5e4eb7(0xc4)]&&_0x3bbc42[_0x5e4eb7(0x1b5)]('ContentSecurityPolicy'),!_0x2fa564[_0x5e4eb7(0x111)]&&(_0x3bbc42[_0x5e4eb7(0x1b5)](_0x5e4eb7(0x1ed)),_0x3bbc42[_0x5e4eb7(0x1b5)]('fileLoad_Password')),!_0x2fa564[_0x5e4eb7(0x1f0)]&&_0x3bbc42['push'](_0x5e4eb7(0x153)),_0x5956b1[_0x5e4eb7(0x1c7)](_0x49c86f=>{const _0x1ec24c=_0x5e4eb7;!_0x1ca901[_0x1ec24c(0xd5)](_0x49c86f)&&(_0x2ae014[_0x49c86f]=_0x2fa564[_0x49c86f]);}),_0x2ae014['fileLocationUrl']=''+_0x2fa564['ServerUrl']+_0x2fa564[_0x5e4eb7(0x14d)],_0x38ceda['status'](0xc8)[_0x5e4eb7(0xae)]({'notEditableFields':_0x3bbc42,'customFieldTypes':_0x5c1321,'notHotEditableFields':_0x5aa65c,'config':_0x2ae014,'fieldsTitle':_0x4cf01c,'configData':_0x2fa564});}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x1ca),protectedRoute,async(_0x23a907,_0x10e824)=>{const _0x27b5f3=a26_0x26e0b9,_0x78aa86=fs[_0x27b5f3(0xa8)](path['join'](path[_0x27b5f3(0x1bb)](require[_0x27b5f3(0x1c0)]['filename']),_0x27b5f3(0x73)),_0x27b5f3(0x6d)),_0x3a5c44=_0x78aa86[_0x27b5f3(0x16a)]('{version}',_0x23a907[_0x27b5f3(0x145)]);_0x10e824[_0x27b5f3(0x106)](_0x3a5c44);});function a26_0x3269(_0x2b471b,_0xefe53a){const _0x2ab068=a26_0x2ab0();return a26_0x3269=function(_0x3269d7,_0x5c3c4f){_0x3269d7=_0x3269d7-0x6a;let _0x19e9e4=_0x2ab068[_0x3269d7];return _0x19e9e4;},a26_0x3269(_0x2b471b,_0xefe53a);}function findMatchingLogFiles(_0x57d3ab,_0x5ebfbb=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x419626=a26_0x26e0b9;try{const _0x2d9e61=fs[_0x419626(0xc3)](_0x57d3ab);return _0x2d9e61[_0x419626(0x187)](_0xb4baf1=>_0x5ebfbb['test'](_0xb4baf1))[_0x419626(0xd2)](_0x1b8bbe=>_0x1b8bbe[_0x419626(0x16a)](_0x419626(0xc7),'')[_0x419626(0x16a)](_0x419626(0xd0),''));}catch(_0x4b0ed4){return console[_0x419626(0x11e)]('Error\x20finding\x20log\x20files:',_0x4b0ed4),[];}}router[a26_0x26e0b9(0xbf)](a26_0x26e0b9(0x78),async(_0x2a883f,_0x20c782)=>{const _0xe95946=a26_0x26e0b9,_0xe66329=new Date(),_0x437e08=_0xe66329[_0xe95946(0xf8)]()['toString']()[_0xe95946(0xfe)](0x2,'0')+'_'+(_0xe66329[_0xe95946(0x198)]()+0x1)[_0xe95946(0xbc)]()['padStart'](0x2,'0')+'_'+_0xe66329['getFullYear'](),{displayDay:_0x5d1c15}=_0x2a883f['body'],_0xeed158=path[_0xe95946(0x7a)](path['dirname'](require[_0xe95946(0x1c0)][_0xe95946(0x80)]),_0xe95946(0x179),_0xe95946(0xc7)+(_0x5d1c15??_0x437e08)+_0xe95946(0xd0));fs[_0xe95946(0x9c)](_0xeed158)?fs[_0xe95946(0x117)](_0xeed158,_0xe95946(0x6d),function(_0x4c629e,_0x29ee52){const _0x193d24=_0xe95946;_0x4c629e&&_0x20c782[_0x193d24(0xfc)](0x1f4)[_0x193d24(0x106)](_0x4c629e),_0x20c782[_0x193d24(0xfc)](0xc8)[_0x193d24(0xae)]({'content':_0x29ee52,'days':findMatchingLogFiles(path[_0x193d24(0x7a)](path['dirname'](require[_0x193d24(0x1c0)][_0x193d24(0x80)]),'logs'))});}):_0x20c782[_0xe95946(0xfc)](0xc8)[_0xe95946(0xae)]({'content':'','days':findMatchingLogFiles(path[_0xe95946(0x7a)](path[_0xe95946(0x1bb)](require['main']['filename']),_0xe95946(0x179)))});}),router['delete']('/logs/clean',async(_0x21f27e,_0x25ca54)=>{const _0x20181a=a26_0x26e0b9,_0x9bb799=new Date(),_0x526e72=_0x9bb799[_0x20181a(0xf8)]()[_0x20181a(0xbc)]()[_0x20181a(0xfe)](0x2,'0')+'_'+(_0x9bb799['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'_'+_0x9bb799[_0x20181a(0x140)](),_0x30b4a8=findMatchingLogFiles(path[_0x20181a(0x7a)](path[_0x20181a(0x1bb)](require[_0x20181a(0x1c0)][_0x20181a(0x80)]),_0x20181a(0x179)));_0x30b4a8['forEach'](_0x908c8d=>{const _0x27f223=_0x20181a;if(_0x908c8d!==_0x526e72)fs[_0x27f223(0x10b)](path[_0x27f223(0x7a)](path['dirname'](require[_0x27f223(0x1c0)][_0x27f223(0x80)]),'logs',_0x27f223(0xc7)+_0x908c8d+_0x27f223(0xd0)));}),logStream['clean'](),_0x25ca54[_0x20181a(0xfc)](0xc8)['json']({'message':_0x20181a(0xcd)});}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0xeb),protectedRoute,async(_0x232f35,_0x59c264)=>{const _0x29cc7c=a26_0x26e0b9,_0x489f60=path[_0x29cc7c(0x7a)](path['dirname'](require[_0x29cc7c(0x1c0)][_0x29cc7c(0x80)]),_0x29cc7c(0x7c));if(!fs[_0x29cc7c(0x9c)](_0x489f60)){const _0x5267dc={'jsonDataExtraction':{'standard':[{'paramName':_0x29cc7c(0xae),'paramValue':''},{'paramName':_0x29cc7c(0x138),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x29cc7c(0x1db)},{'paramName':_0x29cc7c(0x209),'paramValue':''},{'paramName':_0x29cc7c(0x1ae),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x29cc7c(0x1d4)},{'paramName':'model','paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x29cc7c(0x209),'paramValue':''},{'paramName':_0x29cc7c(0x1ae),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x29cc7c(0x119),'paramValue':''}]}};fs['writeFileSync'](_0x489f60,JSON[_0x29cc7c(0xec)](_0x5267dc,null,0x4));}const _0x4697f7=fs[_0x29cc7c(0xa8)](path[_0x29cc7c(0x7a)](path[_0x29cc7c(0x1bb)](require[_0x29cc7c(0x1c0)]['filename']),_0x29cc7c(0x1aa)),_0x29cc7c(0x6d)),_0x3e5081=_0x4697f7['replaceAll'](_0x29cc7c(0xc2),_0x232f35['version']);_0x59c264[_0x29cc7c(0x106)](_0x3e5081);}),router[a26_0x26e0b9(0xbf)](a26_0x26e0b9(0x1ba),async(_0x58accb,_0x149bb8)=>{const _0x38bc7e=a26_0x26e0b9,{actionName:_0x544704,contentLocation:_0x486299}=_0x58accb[_0x38bc7e(0x1dd)],_0x4a6ffe=path[_0x38bc7e(0x7a)](path[_0x38bc7e(0x1bb)](require[_0x38bc7e(0x1c0)][_0x38bc7e(0x80)]),_0x38bc7e(0x7c));fs[_0x38bc7e(0x117)](_0x4a6ffe,_0x38bc7e(0x6d),function(_0x2ab131,_0x4917ef){const _0x4dedd5=_0x38bc7e;if(_0x2ab131)_0x149bb8[_0x4dedd5(0xfc)](0xc8)['json']({'parameters':[]});else{const _0x1b1f40=JSON['parse'](_0x4917ef);if(_0x1b1f40[_0x544704]&&_0x1b1f40[_0x544704][_0x486299])_0x149bb8[_0x4dedd5(0xfc)](0xc8)[_0x4dedd5(0xae)]({'parameters':_0x1b1f40[_0x544704][_0x486299]});else _0x1b1f40[_0x544704]&&_0x1b1f40[_0x544704][_0x4dedd5(0x86)]?_0x149bb8['status'](0xc8)['json']({'parameters':_0x1b1f40[_0x544704]['standard']}):_0x149bb8[_0x4dedd5(0xfc)](0xc8)[_0x4dedd5(0xae)]({'parameters':[]});}});}),router['post']('/restapi-test/parameters/save',async(_0x3818d0,_0x43c277)=>{const _0x4d6edf=a26_0x26e0b9,{actionName:_0x4418f8,contentLocation:_0x23e997,parameters:_0x1794cf}=_0x3818d0[_0x4d6edf(0x1dd)],_0x40ac6d=path['join'](path[_0x4d6edf(0x1bb)](require[_0x4d6edf(0x1c0)][_0x4d6edf(0x80)]),'cadviewer/settings/rest-api-parameters.json');fs['readFile'](_0x40ac6d,_0x4d6edf(0x6d),function(_0x2b52bb,_0x53a6ff){const _0x1f5777=_0x4d6edf;if(_0x2b52bb)_0x43c277[_0x1f5777(0xfc)](0x199)[_0x1f5777(0xae)]({'message':_0x1f5777(0x17b)});else{const _0x4c57aa=JSON[_0x1f5777(0xed)](_0x53a6ff);!_0x4c57aa[_0x4418f8]&&(_0x4c57aa[_0x4418f8]={}),_0x4c57aa[_0x4418f8][_0x23e997]=_0x1794cf,fs[_0x1f5777(0x1cf)](_0x40ac6d,JSON[_0x1f5777(0xec)](_0x4c57aa,null,0x4),function(_0x356ef5){const _0xdfdacb=_0x1f5777;_0x356ef5&&_0x43c277[_0xdfdacb(0xfc)](0x199)[_0xdfdacb(0xae)]({'message':'Error\x20saving\x20parameters.'}),_0x43c277['status'](0xc8)[_0xdfdacb(0xae)]({'message':_0xdfdacb(0x167)});});}});}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x95),protectedRoute,async(_0x44af94,_0x10bb81)=>{const _0x3b6b58=a26_0x26e0b9,_0x580a75=fs[_0x3b6b58(0xa8)](path[_0x3b6b58(0x7a)](path[_0x3b6b58(0x1bb)](require['main'][_0x3b6b58(0x80)]),'cadviewer/settings/doctor.html'),_0x3b6b58(0x6d)),_0x405c1a=_0x580a75[_0x3b6b58(0x16a)](_0x3b6b58(0xc2),_0x44af94[_0x3b6b58(0x145)]);_0x10bb81['send'](_0x405c1a);}),router['post'](a26_0x26e0b9(0x99),async(_0x7ed1f8,_0x19dcd2)=>{const _0x42dcd8=a26_0x26e0b9,_0xdc11e2=getHotConfig(),_0x28c27e=_0xdc11e2[_0x42dcd8(0x17d)][_0x42dcd8(0x16a)]('//','/'),_0xc4f2b=_0xdc11e2[_0x42dcd8(0x10c)][_0x42dcd8(0x16a)]('//','/'),_0x4f9aff=_0xdc11e2[_0x42dcd8(0x1a9)]['replaceAll']('//','/'),_0x593373=''+_0x28c27e+_0xdc11e2[_0x42dcd8(0x1c9)],_0x640b9=''+_0xc4f2b+_0xdc11e2[_0x42dcd8(0x19d)],_0x47b7db=''+_0x4f9aff+_0xdc11e2[_0x42dcd8(0x79)],_0x41b018=[],_0x2ce8e0=new Promise(_0x26ebcd=>{const _0x354399=_0x42dcd8;exec(os[_0x354399(0xe9)]()===_0x354399(0x8f)?_0x354399(0xa2):'ls',_0x5ba319=>{const _0x5aa0de=_0x354399;_0x5ba319?_0x41b018['push']({'title':_0x5aa0de(0x194),'status':![],'priority':0x1}):_0x41b018['push']({'title':_0x5aa0de(0x194),'status':!![],'priority':0x1}),_0x26ebcd();});}),_0x1c9024=new Promise(_0x5f166e=>{const _0x2719bf=_0x42dcd8;fs[_0x2719bf(0xcb)](_0x593373,fs[_0x2719bf(0x156)][_0x2719bf(0x201)],_0x17b7be=>{const _0x344c7c=_0x2719bf;_0x17b7be?_0x41b018['push']({'title':_0x344c7c(0xd3)+_0xdc11e2['autoxchange_executable']+_0x344c7c(0x82),'status':![],'priority':0x2}):_0x41b018[_0x344c7c(0x1b5)]({'title':_0x344c7c(0xd3)+_0xdc11e2[_0x344c7c(0x1c9)]+_0x344c7c(0x82),'status':!![],'priority':0x2}),_0x5f166e();});}),_0xc1d45a=new Promise(_0x25540f=>{const _0x316af5=_0x42dcd8;fs['access'](_0x640b9,fs[_0x316af5(0x156)][_0x316af5(0x201)],_0x2ece3c=>{const _0x39ed3d=_0x316af5;_0x2ece3c?_0x41b018['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0xdc11e2[_0x39ed3d(0x19d)]+_0x39ed3d(0x82),'status':![],'priority':0x3}):_0x41b018[_0x39ed3d(0x1b5)]({'title':_0x39ed3d(0xd3)+_0xdc11e2['dwgmerge_executable']+'\x22\x20executable','status':!![],'priority':0x3}),_0x25540f();});}),_0x575fec=new Promise(_0x100d11=>{const _0x40d790=_0x42dcd8;fs[_0x40d790(0xcb)](_0x47b7db,fs['constants'][_0x40d790(0x201)],_0x1c64ab=>{const _0x68fc79=_0x40d790;_0x1c64ab?_0x41b018['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0xdc11e2[_0x68fc79(0x79)]+_0x68fc79(0x82),'status':![],'priority':0x4}):_0x41b018[_0x68fc79(0x1b5)]({'title':_0x68fc79(0xd3)+_0xdc11e2[_0x68fc79(0x79)]+'\x22\x20executable','status':!![],'priority':0x4}),_0x100d11();});}),_0x20f225=new Promise(_0x5506b1=>{const _0x50178d=_0x42dcd8,_0x57bfc9=new Date(),_0x5e9412=_0x57bfc9['getDate']()['toString']()[_0x50178d(0xfe)](0x2,'0')+'_'+(_0x57bfc9['getMonth']()+0x1)[_0x50178d(0xbc)]()[_0x50178d(0xfe)](0x2,'0')+'_'+_0x57bfc9['getFullYear'](),{displayDay:_0x31e14d}=_0x7ed1f8[_0x50178d(0x1dd)];fs[_0x50178d(0xcb)](path[_0x50178d(0x7a)](path['dirname'](require[_0x50178d(0x1c0)]['filename']),_0x50178d(0x179),_0x50178d(0xc7)+(_0x31e14d??_0x5e9412)+_0x50178d(0xd0)),fs[_0x50178d(0x156)][_0x50178d(0xc9)],_0x5f229e=>{const _0x413cff=_0x50178d;_0x5f229e?_0x41b018[_0x413cff(0x1b5)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x31e14d??_0x5e9412)+_0x413cff(0x11c),'status':![],'priority':0x5}):_0x41b018[_0x413cff(0x1b5)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x31e14d??_0x5e9412)+_0x413cff(0x11c),'status':!![],'priority':0x5}),_0x5506b1();});}),_0x1a35f8=(_0x228f1e,_0x3c9d2f)=>{const _0x30898f=_0x42dcd8,_0x312999=path['join'](path['dirname'](require[_0x30898f(0x1c0)]['filename']),_0x228f1e);return new Promise(_0x5d7647=>{const _0x329b12=_0x30898f;fs['access'](path[_0x329b12(0x7a)](path['dirname'](_0x312999)),fs[_0x329b12(0x156)][_0x329b12(0x135)]|fs['constants'][_0x329b12(0xc9)],_0x337b35=>{const _0x97e309=_0x329b12;_0x337b35?_0x41b018[_0x97e309(0x1b5)]({'title':_0x97e309(0x120)+_0x228f1e,'status':![],'priority':_0x3c9d2f+0x6}):_0x41b018[_0x97e309(0x1b5)]({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0x228f1e,'status':!![],'priority':_0x3c9d2f+0x6}),_0x5d7647();});});},_0x231ac9=[_0x42dcd8(0xcf),_0x42dcd8(0x20b),_0x42dcd8(0x108),_0x42dcd8(0x182),_0x42dcd8(0xd8),_0x42dcd8(0x1ef),_0x42dcd8(0xce)],_0x33015f=_0x231ac9[_0x42dcd8(0xd2)](_0x1a35f8);Promise['all']([_0x2ce8e0,_0x1c9024,_0xc1d45a,_0x575fec,_0x20f225,..._0x33015f])[_0x42dcd8(0x14c)](()=>{const _0x497351=_0x42dcd8;_0x19dcd2[_0x497351(0xfc)](0xc8)[_0x497351(0xae)]({'checking_list':_0x41b018});})['catch'](()=>{const _0x2e1e6f=_0x42dcd8;_0x19dcd2['status'](0x1f4)[_0x2e1e6f(0xae)]({'error':_0x2e1e6f(0x1bd)});});}),router['get'](a26_0x26e0b9(0x14e),protectedRoute,async(_0x5ef38e,_0x519105)=>{const _0x358ff6=a26_0x26e0b9,_0x451aa2=fs[_0x358ff6(0xa8)](path[_0x358ff6(0x7a)](path['dirname'](require['main'][_0x358ff6(0x80)]),_0x358ff6(0x199)),'utf8'),_0x5d1ba4=_0x451aa2[_0x358ff6(0x16a)](_0x358ff6(0xc2),_0x5ef38e[_0x358ff6(0x145)]);_0x519105[_0x358ff6(0x106)](_0x5d1ba4);}),router[a26_0x26e0b9(0xbf)]('/users/list',async(_0x53ee97,_0x4ef5a3)=>{const _0x4989b6=a26_0x26e0b9;let _0x2ef588;try{const [_0x5500b8]=await conn[_0x4989b6(0x10e)]()[_0x4989b6(0x75)](_0x4989b6(0x1af),[]);_0x2ef588=_0x5500b8;}catch(_0x299894){console['log'](_0x299894),_0x4ef5a3[_0x4989b6(0xfc)](0x1f4)[_0x4989b6(0xae)]({'error':_0x4989b6(0x171)});return;}_0x4ef5a3[_0x4989b6(0xfc)](0xc8)[_0x4989b6(0xae)]({'success':!![],'data':_0x2ef588});}),router['post']('/users',upload['single'](a26_0x26e0b9(0x178)),async(_0x4138ba,_0x471427)=>{const _0x2f3c8c=a26_0x26e0b9,{id:_0x3f9a16,first_name:_0x5b135e,last_name:_0x55dd7d,username:_0x36f2c6,email:_0x2bc649,password:_0xdd7ec2,is_enabled:_0x456f6d}=_0x4138ba[_0x2f3c8c(0x1dd)],_0x1b3f2e=_0x4138ba[_0x2f3c8c(0x1dd)][_0x2f3c8c(0x134)]===_0x2f3c8c(0x131)?_0x2f3c8c(0x131):_0x4138ba['body']['role']===_0x2f3c8c(0xab)?_0x2f3c8c(0xab):_0x2f3c8c(0x8c);let _0x4bde8b;console[_0x2f3c8c(0x130)]('=============================>');_0xdd7ec2&&(_0x4bde8b=await bcrypt[_0x2f3c8c(0x197)](_0xdd7ec2,0xa));let _0x2cac04=null;if(_0x4138ba['file']){const _0x2fe939=_0x2f3c8c(0xf4)+randomUUID()+'.png';fs[_0x2f3c8c(0x1de)](_0x4138ba[_0x2f3c8c(0xa6)][_0x2f3c8c(0x88)],'./'+_0x2fe939),fs[_0x2f3c8c(0x10b)](_0x4138ba[_0x2f3c8c(0xa6)][_0x2f3c8c(0x88)]),config[_0x2f3c8c(0x129)]?_0x2cac04=config[_0x2f3c8c(0x83)]+'/'+_0x2fe939:_0x2cac04=config['ServerUrl']+'/'+_0x2fe939;}if(_0x3f9a16){try{let [_0x311740]=await conn[_0x2f3c8c(0x10e)]()[_0x2f3c8c(0x75)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?',[_0x2bc649,_0x36f2c6,_0x3f9a16]);if(_0x311740[_0x2f3c8c(0x136)]>0x0)_0x471427[_0x2f3c8c(0xfc)](0x199)['json']({'error':_0x2f3c8c(0xf3)});else{!_0x4138ba['file']&&([_0x311740]=await conn[_0x2f3c8c(0x10e)]()[_0x2f3c8c(0x75)](_0x2f3c8c(0x1b0),[_0x3f9a16]),_0x2cac04=_0x311740[0x0][_0x2f3c8c(0x1f9)]);const _0x342078=_0x2f3c8c(0x17f)+(_0xdd7ec2?_0x2f3c8c(0x18b):'')+_0x2f3c8c(0x1e9);await conn['promise']()[_0x2f3c8c(0x75)](_0x342078,_0xdd7ec2?[_0x2cac04,_0x5b135e,_0x55dd7d,_0x36f2c6,_0x2bc649,_0x4bde8b,_0x456f6d,_0x1b3f2e,_0x3f9a16]:[_0x2cac04,_0x5b135e,_0x55dd7d,_0x36f2c6,_0x2bc649,_0x456f6d,_0x1b3f2e,_0x3f9a16]);}}catch(_0x1f414c){console[_0x2f3c8c(0x130)](_0x1f414c),_0x471427[_0x2f3c8c(0xfc)](0x1f4)[_0x2f3c8c(0xae)]({'error':_0x2f3c8c(0x171)});return;}_0x471427['status'](0xc8)[_0x2f3c8c(0xae)]({'success':!![],'message':_0x2f3c8c(0x13d)});}else{try{const [_0x2977a3]=await conn[_0x2f3c8c(0x10e)]()[_0x2f3c8c(0x75)](_0x2f3c8c(0x1c6),[_0x2bc649,_0x36f2c6]);if(_0x2977a3[_0x2f3c8c(0x136)]>0x0)_0x471427[_0x2f3c8c(0xfc)](0x199)[_0x2f3c8c(0xae)]({'error':_0x2f3c8c(0xf3)});else{const _0x1bc63a=randomUUID();await conn[_0x2f3c8c(0x10e)]()[_0x2f3c8c(0x75)]('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x2cac04,_0x5b135e,_0x55dd7d,_0x36f2c6,_0x2bc649,_0x4bde8b,_0x1b3f2e,_0x456f6d,_0x1bc63a]);const _0x3b6420=_0x2f3c8c(0xff)+_0x1bc63a;fs['mkdirSync'](_0x3b6420);}}catch(_0x433b52){console[_0x2f3c8c(0x130)](_0x433b52),_0x471427[_0x2f3c8c(0xfc)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x471427['status'](0xc8)[_0x2f3c8c(0xae)]({'success':!![],'message':_0x2f3c8c(0x9e)});}}),router[a26_0x26e0b9(0x94)](a26_0x26e0b9(0x17c),async(_0x83a92b,_0x50745d)=>{const _0x553c11=a26_0x26e0b9,{userId:_0x151dbe}=_0x83a92b[_0x553c11(0x1dd)];let _0x4e65a1;try{const [_0x54cdea]=await conn[_0x553c11(0x10e)]()[_0x553c11(0x75)](_0x553c11(0x1b0),[_0x151dbe]);_0x54cdea[_0x553c11(0x136)]>0x0&&(_0x4e65a1=_0x54cdea[0x0]);}catch(_0x42b6ee){console[_0x553c11(0x130)]({'err':_0x42b6ee}),_0x50745d[_0x553c11(0xfc)](0x1f4)['json']({'error':_0x553c11(0x171)});return;}if(!_0x4e65a1){_0x50745d[_0x553c11(0xfc)](0x191)['json']({'error':_0x553c11(0x1f4)});return;}let _0x37b6ca=_0x4e65a1[_0x553c11(0x1e4)];if(!_0x37b6ca){_0x37b6ca=randomUUID();try{await conn[_0x553c11(0x10e)]()[_0x553c11(0x75)](_0x553c11(0xad),[_0x37b6ca,_0x151dbe]);}catch(_0x15e943){console['log']({'err':_0x15e943}),_0x50745d[_0x553c11(0xfc)](0x1f4)[_0x553c11(0xae)]({'error':_0x553c11(0x171)});return;}}const _0x190e79=_0x553c11(0xff)+_0x37b6ca;console[_0x553c11(0x130)](_0x553c11(0x174)),console[_0x553c11(0x130)](_0x190e79),!fs[_0x553c11(0x9c)](_0x190e79)&&fs[_0x553c11(0x192)](_0x190e79),cleanCacheForUserFiles(_0x190e79),fs[_0x553c11(0x71)](_0x190e79,{'recursive':!![],'force':!![]}),fs[_0x553c11(0x192)](_0x190e79),_0x50745d['status'](0xc8)['json']({'success':!![],'message':_0x553c11(0x147)});}),router[a26_0x26e0b9(0x94)](a26_0x26e0b9(0x100),async(_0x2cc6a6,_0x1145cc)=>{const _0x389d20=a26_0x26e0b9,_0xc993ed=_0x2cc6a6[_0x389d20(0x10a)]['userId'];try{let _0x2ad764;try{const [_0x22687b]=await conn[_0x389d20(0x10e)]()['execute'](_0x389d20(0x1b0),[_0xc993ed]);_0x22687b[_0x389d20(0x136)]>0x0&&(_0x2ad764=_0x22687b[0x0]);}catch(_0x48b894){console['log']({'err':_0x48b894}),_0x1145cc[_0x389d20(0xfc)](0x1f4)[_0x389d20(0xae)]({'error':_0x389d20(0x171)});return;}if(!_0x2ad764){_0x1145cc[_0x389d20(0xfc)](0x191)[_0x389d20(0xae)]({'error':_0x389d20(0x1f4)});return;}let _0x3496d8=_0x2ad764[_0x389d20(0x1e4)];if(_0x3496d8){const _0x4ec834=_0x389d20(0xff)+_0x3496d8;fs[_0x389d20(0x9c)](_0x4ec834)&&(cleanCacheForUserFiles(_0x4ec834),fs['rmSync'](_0x4ec834,{'recursive':!![],'force':!![]}));}await conn[_0x389d20(0x10e)]()[_0x389d20(0x75)](_0x389d20(0x181),[_0xc993ed]);}catch(_0x35947d){console[_0x389d20(0x130)](_0x35947d),_0x1145cc[_0x389d20(0xfc)](0x1f4)[_0x389d20(0xae)]({'error':_0x389d20(0x171)});return;}_0x1145cc[_0x389d20(0xfc)](0xc8)[_0x389d20(0xae)]({'success':!![],'message':'User\x20deleted\x20successfully'});}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x128),async(_0x4db2cf,_0x24a2c3)=>{const _0x2e9cc8=a26_0x26e0b9,_0x55f4c4=osu['cpu'],_0x4c587e=osu[_0x2e9cc8(0x123)],_0x4036f1=osu[_0x2e9cc8(0x1ea)],_0x9c2367=osu['os'],_0x54d896={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0xe4684d=os[_0x2e9cc8(0xe9)]()===_0x2e9cc8(0x8f)?'c:':'/';const _0x5682eb=await _0x4036f1[_0x2e9cc8(0x16d)](_0xe4684d);_0x54d896[_0x2e9cc8(0x20c)]=_0x5682eb[_0x2e9cc8(0x1a6)],_0x54d896[_0x2e9cc8(0xb1)]=_0x5682eb['usedGb'],_0x54d896[_0x2e9cc8(0x202)]=_0x5682eb['freeGb'],_0x54d896[_0x2e9cc8(0x157)]=_0x5682eb[_0x2e9cc8(0x1c3)];}catch(_0x3faaa7){console[_0x2e9cc8(0x130)](_0x2e9cc8(0x102),_0x3faaa7);}const _0x172f32={'usage':0x0,'count':0x0};try{_0x172f32['usage']=await _0x55f4c4['usage'](),_0x172f32[_0x2e9cc8(0x9a)]=_0x55f4c4['count']();}catch(_0x470f08){console['log'](_0x2e9cc8(0xfb),_0x470f08);}const _0x2bccf4={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x2bccf4['os']=await _0x9c2367[_0x2e9cc8(0xdc)](),_0x2bccf4[_0x2e9cc8(0xe9)]=_0x9c2367[_0x2e9cc8(0xe9)](),_0x2bccf4['ip']=_0x9c2367['ip'](),_0x2bccf4[_0x2e9cc8(0x1ce)]=_0x9c2367['uptime'](),_0x2bccf4['hostname']=_0x9c2367[_0x2e9cc8(0xc6)](),_0x2bccf4['type']=_0x9c2367[_0x2e9cc8(0xa1)](),_0x2bccf4[_0x2e9cc8(0x1d3)]=_0x9c2367[_0x2e9cc8(0x1d3)](),_0x2bccf4[_0x2e9cc8(0xa4)]=await osu['osCmd'][_0x2e9cc8(0xa4)](),_0x2bccf4[_0x2e9cc8(0xa9)]=await osu[_0x2e9cc8(0x113)][_0x2e9cc8(0xa9)](),_0x2bccf4[_0x2e9cc8(0x1ab)]=await osu[_0x2e9cc8(0x113)]['vmstats']();}catch(_0x1c1527){console[_0x2e9cc8(0x130)]('Error\x20getting\x20os\x20info',_0x1c1527);}const _0x2f3a1f={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x2f3a1f[_0x2e9cc8(0x191)]=await osu['proc'][_0x2e9cc8(0x191)](),_0x2f3a1f[_0x2e9cc8(0xd9)]=await osu[_0x2e9cc8(0xb9)]['zombieProcesses']();}catch(_0x11481a){console['log'](_0x2e9cc8(0x19e),_0x11481a);}let _0xba0360={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x4e6031=await _0x4c587e[_0x2e9cc8(0x16d)]();_0xba0360['usedMemPercentage']=_0x4e6031['usedMemPercentage'],_0xba0360[_0x2e9cc8(0x98)]=_0x4e6031[_0x2e9cc8(0x84)]/0x400/0x400,_0xba0360[_0x2e9cc8(0x149)]=_0x4e6031[_0x2e9cc8(0x126)]/0x400/0x400;}catch(_0x53bad9){console[_0x2e9cc8(0x130)](_0x2e9cc8(0x19c),_0x53bad9);}let _0x21713d=0x0;try{_0x21713d=await conn[_0x2e9cc8(0x10e)]()[_0x2e9cc8(0x12f)](_0x2e9cc8(0x116))[_0x2e9cc8(0x14c)](([_0xccce1c])=>_0xccce1c[0x0][_0x2e9cc8(0x126)]);}catch(_0x595f90){console[_0x2e9cc8(0x130)](_0x2e9cc8(0x189),_0x595f90);}const _0x1ba61f=getMonitoringData(),_0x20e6e8=_0x1ba61f['filter'](_0x436c85=>_0x436c85[_0x2e9cc8(0x158)]!==null&&_0x436c85[_0x2e9cc8(0x158)]!==undefined),_0x4df7f6=_0x1ba61f[_0x2e9cc8(0x187)](_0x38428e=>_0x38428e[_0x2e9cc8(0x7f)]!==null&&_0x38428e[_0x2e9cc8(0x7f)]!==undefined)[_0x2e9cc8(0xd2)](_0x10d351=>parseFloat(_0x10d351[_0x2e9cc8(0x7f)]['replaceAll']('Kb')[_0x2e9cc8(0x1b2)]())),_0x4609e0=_0x20e6e8[_0x2e9cc8(0xb0)]((_0x2453b1,_0x1e809d)=>_0x2453b1+parseFloat(_0x1e809d[_0x2e9cc8(0x158)]),0x0)/_0x20e6e8[_0x2e9cc8(0x136)],_0x57fe77=_0x4df7f6[_0x2e9cc8(0xb0)]((_0x3a1cc9,_0x259066)=>_0x3a1cc9+_0x259066,0x0)/_0x4df7f6[_0x2e9cc8(0x136)];_0x24a2c3[_0x2e9cc8(0xae)]({'requestsPerSecond':counter[_0x2e9cc8(0xe6)](),'diskUsage':_0x54d896,'cpus':_0x172f32,'system':_0x2bccf4,'process':_0x2f3a1f,'totalMonitoringData':_0x1ba61f[_0x2e9cc8(0x136)],'memory':_0xba0360,'totalUsers':_0x21713d,'avgConvertionTime':_0x4609e0,'avgMemoryUsage':_0x57fe77});}),router[a26_0x26e0b9(0xbf)]('/metrics/reset',(_0x117809,_0x5ebd8d)=>{const _0x35149c=a26_0x26e0b9;counter[_0x35149c(0x118)](),_0x5ebd8d[_0x35149c(0xae)]({'message':_0x35149c(0x195)});});const getMonitoringData=()=>{const _0x5ac0a5=a26_0x26e0b9,_0x3fe963=_0x5ac0a5(0x18a);let _0xff2f66=[];try{_0xff2f66=JSON['parse'](fs[_0x5ac0a5(0xa8)](_0x3fe963));}catch(_0x5ca8f5){console[_0x5ac0a5(0x130)](_0x5ac0a5(0x1d6));}return _0xff2f66;};router['get'](a26_0x26e0b9(0x133),async(_0x417ddc,_0x137452)=>{const _0x24eff6=a26_0x26e0b9,{page:page=0x1,limit:limit=0xa}=_0x417ddc[_0x24eff6(0x12f)],_0x1db6ca=(page-0x1)*limit;try{const _0x132708=getMonitoringData(),_0x56263a=_0x132708[_0x24eff6(0x136)],_0x5a0d38=Math['ceil'](_0x56263a/limit),_0x1dd400=_0x132708[_0x24eff6(0x15b)](_0x1db6ca,_0x1db6ca+limit);_0x137452[_0x24eff6(0xfc)](0xc8)['json']({'data':_0x1dd400,'page':parseInt(''+page),'totalPages':_0x5a0d38,'total':_0x56263a});}catch(_0x3364ae){console[_0x24eff6(0x130)](_0x3364ae),_0x137452[_0x24eff6(0xfc)](0x1f4)[_0x24eff6(0xae)]({'error':_0x24eff6(0x171)});}}),router[a26_0x26e0b9(0x94)](a26_0x26e0b9(0x137),async(_0x1d80bb,_0xff31d6)=>{const _0x325124=a26_0x26e0b9,_0x559752=_0x325124(0x18a);try{fs['writeFileSync'](_0x559752,JSON[_0x325124(0xec)]([],null,0x4)),analyzeConverterFiles(),_0xff31d6[_0x325124(0xfc)](0xc8)[_0x325124(0xae)]({'message':_0x325124(0x1f1)});}catch(_0x4599f4){console[_0x325124(0x130)](_0x4599f4),_0xff31d6['status'](0x1f4)['json']({'error':_0x325124(0x171)});}}),router['get'](a26_0x26e0b9(0x1e1),async(_0x9654f9,_0x595f96)=>{const _0x45bda3=a26_0x26e0b9,_0x43bc48=getHotConfig()[_0x45bda3(0x17d)][_0x45bda3(0x16a)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x9654f9[_0x45bda3(0x12f)],_0x3076eb=(page-0x1)*limit;try{const _0x3726b4=_0x43bc48+'memorydata.csv';console[_0x45bda3(0x130)](_0x3726b4);const _0x2a92ac=fs[_0x45bda3(0xa8)](_0x3726b4,_0x45bda3(0x6d)),_0x30024d=_0x2a92ac[_0x45bda3(0x207)]('\x0a'),_0x152111=[];_0x30024d[_0x45bda3(0x1c7)](_0x1e09ea=>{const _0xd16db3=_0x45bda3,_0x291ef9=_0x1e09ea['split'](',');if(_0x291ef9[_0xd16db3(0x136)]<0x4)return;const _0x1659ee=_0x291ef9[0x0],_0xa931bd=_0x291ef9[0x1],_0x4b9cd1=parseFloat(_0x291ef9[0x2]);_0x152111['push']({'file':_0x1659ee[_0xd16db3(0x16a)]('\x22',''),'action':_0xa931bd,'timeSpend':_0x4b9cd1,'memoryUsage':_0x291ef9[0x3]});});const _0x51e061=_0x152111['length'],_0x61b605=Math[_0x45bda3(0x152)](_0x51e061/limit),_0x294b6d=_0x152111['slice'](_0x3076eb,_0x3076eb+limit);_0x595f96[_0x45bda3(0xfc)](0xc8)['json']({'data':_0x294b6d,'page':parseInt(''+page),'totalPages':_0x61b605,'total':_0x51e061});}catch(_0x41fdd7){console[_0x45bda3(0x130)](_0x41fdd7),_0x595f96[_0x45bda3(0xfc)](0x1f4)['json']({'error':_0x45bda3(0x171)});}}),router['get']('/cache/stats',async(_0x3dc60d,_0xf173f9)=>{const _0x109206=a26_0x26e0b9,_0x2433e0=path[_0x109206(0x7a)](path[_0x109206(0x1bb)](require[_0x109206(0x1c0)][_0x109206(0x80)]),_0x109206(0x87),_0x109206(0x17e));try{let _0x41289b=0x0,_0x4b2231=0x0;function _0x3a9ef6(_0x1c7bd5){const _0x595e9f=_0x109206;let _0x2967ef=0x0,_0x32ee99=0x0;if(fs[_0x595e9f(0x9c)](_0x1c7bd5)){const _0x1c80a5=fs['readdirSync'](_0x1c7bd5);_0x32ee99=0x0;for(const _0x557f8b of _0x1c80a5){const _0xe9162f=path[_0x595e9f(0x7a)](_0x1c7bd5,_0x557f8b),_0x1d5781=fs[_0x595e9f(0x9f)](_0xe9162f);if(_0x1d5781[_0x595e9f(0x20a)]()&&_0x557f8b!==_0x595e9f(0x1d5))_0x32ee99++,_0x2967ef+=_0x1d5781[_0x595e9f(0x1e6)];else{if(_0x1d5781['isDirectory']()){}}}}return{'size':_0x2967ef,'count':_0x32ee99};}const _0x332e29=_0x3a9ef6(_0x2433e0);_0x41289b=_0x332e29[_0x109206(0x1e6)],_0x4b2231=_0x332e29[_0x109206(0x9a)],_0xf173f9[_0x109206(0xae)]({'fileCount':_0x4b2231,'totalSize':_0x41289b});}catch(_0x8b698b){console['error'](_0x109206(0xbb),_0x8b698b),_0xf173f9['status'](0x1f4)[_0x109206(0xae)]({'error':_0x109206(0xbe)});}}),router[a26_0x26e0b9(0x94)](a26_0x26e0b9(0x166),async(_0x43412b,_0x5bd0d8)=>{const _0x3008cf=a26_0x26e0b9,_0x32fd7f=path['join'](path[_0x3008cf(0x1bb)](require['main'][_0x3008cf(0x80)]),_0x3008cf(0x87),_0x3008cf(0x17e));try{function _0x42bd7c(_0xda012f){const _0x436785=_0x3008cf;if(fs['existsSync'](_0xda012f)){const _0x5628a2=fs[_0x436785(0xc3)](_0xda012f);for(const _0x196721 of _0x5628a2){const _0x54d0fb=path[_0x436785(0x7a)](_0xda012f,_0x196721),_0x22761e=fs[_0x436785(0x9f)](_0x54d0fb);if(_0x22761e[_0x436785(0xe5)]()){}else _0x196721!==_0x436785(0x1d5)&&fs[_0x436785(0x10b)](_0x54d0fb);}}}_0x42bd7c(_0x32fd7f),analyzeConverterFiles(),_0x5bd0d8[_0x3008cf(0xae)]({'message':_0x3008cf(0x1e8)});}catch(_0x40b9d8){console[_0x3008cf(0x11e)]('Error\x20flushing\x20cache:',_0x40b9d8),_0x5bd0d8[_0x3008cf(0xfc)](0x1f4)[_0x3008cf(0xae)]({'error':_0x3008cf(0x208)});}}),router[a26_0x26e0b9(0x160)]('/cache-stats.js',async(_0x2bd413,_0x14ef5d)=>{const _0x4ab181=a26_0x26e0b9;_0x14ef5d['sendFile'](path[_0x4ab181(0x7a)](path[_0x4ab181(0x1bb)](require[_0x4ab181(0x1c0)]['filename']),_0x4ab181(0x175)));}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0xea),protectedRoute,async(_0x55d5b3,_0x21377c)=>{const _0x263221=a26_0x26e0b9,_0x17e9f0=fs[_0x263221(0xa8)](path['join'](path[_0x263221(0x1bb)](require['main'][_0x263221(0x80)]),'cadviewer/settings/conversion-cache.html'),_0x263221(0x6d)),_0x51924c=_0x17e9f0[_0x263221(0x16a)](_0x263221(0xc2),_0x55d5b3[_0x263221(0x145)]);_0x21377c[_0x263221(0x106)](_0x51924c);}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0xde),async(_0x525e72,_0x48d664)=>{const _0x439da3=a26_0x26e0b9,{page:page=0x1,limit:limit=0x10}=_0x525e72['query'],_0x2b9feb=JSON[_0x439da3(0xed)](fs[_0x439da3(0xa8)](path[_0x439da3(0x7a)](path[_0x439da3(0x1bb)](require['main'][_0x439da3(0x80)]),_0x439da3(0x19b)))),_0x25c9e3=(page-0x1)*limit,_0x579111=page*limit,_0x5442e0=_0x2b9feb[_0x439da3(0x17e)][_0x439da3(0x136)],_0x59532e=Math[_0x439da3(0x152)](_0x5442e0/limit),_0x4e5662=_0x2b9feb[_0x439da3(0x17e)][_0x439da3(0x15b)](_0x25c9e3,_0x579111);_0x48d664[_0x439da3(0xae)]({'files':_0x4e5662,'pagination':{'total':_0x5442e0,'totalPages':_0x59532e,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x15f),async(_0x1968f0,_0x3c57bd)=>{const _0x1a78f5=a26_0x26e0b9,{file:_0x1113e8}=_0x1968f0[_0x1a78f5(0x10a)],_0x5c10f4=path[_0x1a78f5(0x7a)](path[_0x1a78f5(0x1bb)](require[_0x1a78f5(0x1c0)][_0x1a78f5(0x80)]),_0x1a78f5(0x87),'files'),_0x38e52c=path[_0x1a78f5(0x7a)](_0x5c10f4,_0x1113e8),_0x56a276=fs['readFileSync'](_0x38e52c,'utf8'),_0x3d6cad=_0x56a276['split']('\x0a'),_0x1a72a7=_0x3d6cad[_0x1a78f5(0xd2)](_0x5707c2=>{const _0x24fe54=_0x1a78f5,_0x170cf1=_0x5707c2[_0x24fe54(0x207)](',');return _0x170cf1[_0x24fe54(0xd2)](_0x1e02a9=>_0x1e02a9[_0x24fe54(0x16a)]('\x22',''));});_0x3c57bd['json'](_0x1a72a7);}),router['get']('/cache/files/:id',async(_0x2285d4,_0x334ac3)=>{const _0x4b1fe7=a26_0x26e0b9,{id:_0x50de03}=_0x2285d4[_0x4b1fe7(0x10a)],_0x25db2f=path[_0x4b1fe7(0x7a)](path[_0x4b1fe7(0x1bb)](require['main'][_0x4b1fe7(0x80)]),_0x4b1fe7(0x87),_0x4b1fe7(0x17e)),_0x4abf85=path[_0x4b1fe7(0x7a)](_0x25db2f,_0x50de03);if(_0x4abf85[_0x4b1fe7(0x1f8)](_0x4b1fe7(0x8e))){var _0x24f643=require(_0x4b1fe7(0x196));const _0x754f84=fs['readFileSync'](_0x4abf85),_0xbfc0e1=_0x24f643['gunzipSync'](_0x754f84);_0x334ac3['setHeader'](_0x4b1fe7(0xb7),_0x4b1fe7(0x13b)),_0x334ac3[_0x4b1fe7(0x106)](_0xbfc0e1);}else _0x334ac3['sendFile'](_0x4abf85);}),router[a26_0x26e0b9(0x94)](a26_0x26e0b9(0xef),async(_0x5292c8,_0x20c59b)=>{const _0x572a21=a26_0x26e0b9,{id:_0xa786de}=_0x5292c8['params'],_0x52791b=path[_0x572a21(0x7a)](path[_0x572a21(0x1bb)](require[_0x572a21(0x1c0)]['filename']),'converters','files'),_0x1fe50c=JSON['parse'](fs[_0x572a21(0xa8)](path[_0x572a21(0x7a)](path[_0x572a21(0x1bb)](require[_0x572a21(0x1c0)][_0x572a21(0x80)]),_0x572a21(0x19b)))),_0x3d63ce=_0x1fe50c[_0x572a21(0x17e)]['find'](_0x5a2651=>_0x5a2651[_0x572a21(0x96)]===_0xa786de);if(_0x3d63ce){try{fs['existsSync'](path['join'](_0x52791b,_0x3d63ce[_0x572a21(0x96)]))&&fs[_0x572a21(0x10b)](path[_0x572a21(0x7a)](_0x52791b,_0x3d63ce[_0x572a21(0x96)]));}catch(_0x1ed5c3){console[_0x572a21(0x130)]('Error\x20deleting\x20file',{'e':_0x1ed5c3});}(_0x3d63ce[_0x572a21(0x1b9)]??[])['forEach'](_0x2d438c=>{const _0x33edaa=_0x572a21;try{fs[_0x33edaa(0x9c)](path[_0x33edaa(0x7a)](_0x52791b,_0x2d438c['id']))&&fs[_0x33edaa(0x10b)](path[_0x33edaa(0x7a)](_0x52791b,_0x2d438c['id']));}catch(_0x5a1995){console['log'](_0x33edaa(0x8b),{'e':_0x5a1995});}});}analyzeConverterFiles(),_0x20c59b[_0x572a21(0xae)]({'message':_0x572a21(0x1fc)});});const deleteOldDemoUsers=async()=>{const _0x1c0ccd=a26_0x26e0b9;console['log'](_0x1c0ccd(0x1e3));const _0x51f845=config['demoUserRetentionDays'],_0x1e4602=_0x1c0ccd(0x164);try{const [_0x169ea3]=await conn['promise']()[_0x1c0ccd(0x75)](_0x1e4602,[_0x51f845]),_0x2fbe23=_0x169ea3[_0x1c0ccd(0xd2)](_0x2f2e12=>_0x2f2e12['folder_name']),_0x5bec27=_0x169ea3[_0x1c0ccd(0xd2)](_0x3286e5=>_0x3286e5[_0x1c0ccd(0x132)]);console[_0x1c0ccd(0x130)](_0x5bec27),await conn[_0x1c0ccd(0x10e)]()[_0x1c0ccd(0x75)](_0x1c0ccd(0x9d),[_0x51f845]),_0x2fbe23[_0x1c0ccd(0x1c7)](_0x202715=>{const _0x25def3=_0x1c0ccd;try{const _0x481436=_0x25def3(0xff)+_0x202715;cleanCacheForUserFiles(_0x481436),fs[_0x25def3(0x109)](_0x481436);}catch(_0x12b8fa){console['error'](_0x25def3(0x1cc),_0x12b8fa);}}),console['log'](_0x1c0ccd(0x110)+_0x169ea3[_0x1c0ccd(0x136)]+_0x1c0ccd(0x101)+_0x51f845+_0x1c0ccd(0x183));}catch(_0x512f14){console['error'](_0x1c0ccd(0x114),_0x512f14);}};schedule[a26_0x26e0b9(0x70)](a26_0x26e0b9(0x12c),deleteOldDemoUsers),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x1da),protectedRoute,async(_0x164edd,_0x40353d)=>{const _0x49d086=a26_0x26e0b9,_0x2b962a=fs['readFileSync'](path[_0x49d086(0x7a)](path['dirname'](require[_0x49d086(0x1c0)][_0x49d086(0x80)]),_0x49d086(0x1cb)),_0x49d086(0x6d)),_0x6de47=_0x2b962a[_0x49d086(0x16a)](_0x49d086(0xc2),_0x164edd[_0x49d086(0x145)]);_0x40353d[_0x49d086(0x106)](_0x6de47);});const exportUsersList=async()=>{const _0x42539a=a26_0x26e0b9;console[_0x42539a(0x130)](_0x42539a(0xf6));const _0x49b1d2=path[_0x42539a(0x7a)](path[_0x42539a(0x1bb)](require[_0x42539a(0x1c0)][_0x42539a(0x80)]),'exports');!fs[_0x42539a(0x9c)](_0x49b1d2)&&fs[_0x42539a(0x192)](_0x49b1d2);const _0x427e9a=config[_0x42539a(0x1b8)]||_0x42539a(0xc0);let _0x50beac;const _0x556be1=path['join'](_0x49b1d2,_0x42539a(0x1ff));if(fs[_0x42539a(0x9c)](_0x556be1))try{const _0x493a72=JSON['parse'](fs[_0x42539a(0xa8)](_0x556be1,_0x42539a(0x6d)));_0x50beac=new Date(_0x493a72[_0x42539a(0x13e)]);}catch(_0x319357){console[_0x42539a(0x11e)]('Error\x20reading\x20last\x20export\x20info:',_0x319357),_0x50beac=calculateDefaultLastExportDate(_0x427e9a);}else _0x50beac=calculateDefaultLastExportDate(_0x427e9a);const _0x542b2e=new Date(),_0x18893d=_0x542b2e[_0x42539a(0x140)]()+'-'+String(_0x542b2e[_0x42539a(0x198)]()+0x1)['padStart'](0x2,'0')+'-'+String(_0x542b2e[_0x42539a(0xf8)]())[_0x42539a(0xfe)](0x2,'0'),_0x516c6c='users-export-'+_0x18893d+_0x42539a(0x141),_0x4fe304=path[_0x42539a(0x7a)](_0x49b1d2,_0x516c6c);try{const _0x89e18e=_0x42539a(0x11b),[_0x4087dc]=await conn['promise']()[_0x42539a(0x75)](_0x89e18e,[_0x50beac]);if(_0x4087dc[_0x42539a(0x136)]===0x0){console[_0x42539a(0x130)]('No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads');return;}let _0x941f3d='email,firstname,lastname\x0a';_0x4087dc[_0x42539a(0x1c7)](_0x566d27=>{const _0x553ca1=_0x42539a,_0x5d0de5=_0x566d27[_0x553ca1(0x132)]?'\x22'+_0x566d27[_0x553ca1(0x132)]['replace'](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x1ded57=_0x566d27[_0x553ca1(0xb3)]?'\x22'+_0x566d27[_0x553ca1(0xb3)][_0x553ca1(0xdf)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0xfe04b4=_0x566d27['last_name']?'\x22'+_0x566d27[_0x553ca1(0xe4)][_0x553ca1(0xdf)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x941f3d+=_0x5d0de5+','+_0x1ded57+','+_0xfe04b4+'\x0a';}),fs[_0x42539a(0x159)](_0x4fe304,_0x941f3d),console[_0x42539a(0x130)](_0x42539a(0x1a1)+_0x4087dc[_0x42539a(0x136)]+_0x42539a(0x76)+_0x4fe304);const _0x5650ae={'lastExportDate':_0x542b2e[_0x42539a(0x151)](),'fileName':_0x516c6c,'userCount':_0x4087dc[_0x42539a(0x136)]};fs[_0x42539a(0x159)](_0x556be1,JSON[_0x42539a(0xec)](_0x5650ae,null,0x2));}catch(_0x25d117){console[_0x42539a(0x11e)](_0x42539a(0x1c4),_0x25d117);}},calculateDefaultLastExportDate=_0x54cdf6=>{const _0x564fcd=a26_0x26e0b9,_0x587b02=new Date();return _0x54cdf6===_0x564fcd(0xd6)?_0x587b02[_0x564fcd(0x1d7)](_0x587b02[_0x564fcd(0xf8)]()-0xe):_0x587b02[_0x564fcd(0x12b)](_0x587b02[_0x564fcd(0x198)]()-0x1),_0x587b02;};router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x161),async(_0x58830e,_0x907dc2)=>{const _0x5fa178=a26_0x26e0b9,_0x4d217d=path[_0x5fa178(0x7a)](path[_0x5fa178(0x1bb)](require[_0x5fa178(0x1c0)]['filename']),'exports');if(!fs[_0x5fa178(0x9c)](_0x4d217d))return _0x907dc2[_0x5fa178(0xfc)](0xc8)[_0x5fa178(0xae)]({'exports':[]});try{const _0xf5e1ad=fs[_0x5fa178(0xc3)](_0x4d217d)['filter'](_0x48abb4=>_0x48abb4[_0x5fa178(0x7e)](_0x5fa178(0x89))&&_0x48abb4[_0x5fa178(0x1f8)](_0x5fa178(0x141)))[_0x5fa178(0xd2)](_0x161a96=>{const _0x2d895c=_0x5fa178,_0x24ccc3=path['join'](_0x4d217d,_0x161a96),_0x4ede36=fs[_0x2d895c(0x9f)](_0x24ccc3),_0xd82a03=fs[_0x2d895c(0xa8)](_0x24ccc3,_0x2d895c(0x6d)),_0x4e34f2=_0xd82a03[_0x2d895c(0x207)]('\x0a')[_0x2d895c(0x136)]-0x1;return{'fileName':_0x161a96,'createdAt':_0x4ede36['birthtime'],'userCount':_0x4e34f2};})[_0x5fa178(0x1fb)]((_0x575db9,_0x15ff79)=>_0x15ff79[_0x5fa178(0xe8)]-_0x575db9[_0x5fa178(0xe8)]);_0x907dc2[_0x5fa178(0xfc)](0xc8)['json']({'exports':_0xf5e1ad});}catch(_0x5a475d){console[_0x5fa178(0x11e)](_0x5fa178(0x122),_0x5a475d),_0x907dc2['status'](0x1f4)['json']({'error':_0x5fa178(0x17a)});}}),router[a26_0x26e0b9(0xbf)]('/users-export/trigger',async(_0x205b3e,_0x32f82d)=>{const _0x290604=a26_0x26e0b9;try{await exportUsersList(),_0x32f82d['status'](0xc8)[_0x290604(0xae)]({'message':_0x290604(0xbd)});}catch(_0x29b3e1){console['error'](_0x290604(0xe1),_0x29b3e1),_0x32f82d[_0x290604(0xfc)](0x1f4)[_0x290604(0xae)]({'error':'Failed\x20to\x20trigger\x20export'});}}),router[a26_0x26e0b9(0x160)](a26_0x26e0b9(0x1dc),async(_0x46ce43,_0x52076c)=>{const _0xf4009a=a26_0x26e0b9,{fileName:_0x2b1322}=_0x46ce43['params'],_0x222b07=path['join'](path[_0xf4009a(0x1bb)](require['main'][_0xf4009a(0x80)]),'exports',_0x2b1322);if(!fs[_0xf4009a(0x9c)](_0x222b07))return _0x52076c['status'](0x194)[_0xf4009a(0xae)]({'error':_0xf4009a(0x150)});_0x52076c[_0xf4009a(0x125)](_0x222b07);});const cleanCacheForUserFiles=_0x497096=>{const _0xd6702a=a26_0x26e0b9;try{if(!fs[_0xd6702a(0x9c)](_0x497096)){console[_0xd6702a(0x130)](_0xd6702a(0x1c8)+_0x497096+_0xd6702a(0x14a));return;}const _0x8bb37a=path['join'](path[_0xd6702a(0x1bb)](require[_0xd6702a(0x1c0)][_0xd6702a(0x80)]),_0xd6702a(0x87),_0xd6702a(0x17e));if(!fs['existsSync'](_0x8bb37a)){console[_0xd6702a(0x130)](_0xd6702a(0x1b3)+_0x8bb37a+_0xd6702a(0x14a));return;}const _0x284764=JSON[_0xd6702a(0xed)](fs[_0xd6702a(0xa8)](path['join'](path[_0xd6702a(0x1bb)](require['main'][_0xd6702a(0x80)]),'cadviewer/settings/converter-files-analysis.json'))),_0xeb97d4=fs['readdirSync'](_0x497096);_0xeb97d4['forEach'](_0xa32ddc=>{const _0x44a330=_0xd6702a;_0x284764['files'][_0x44a330(0x1c7)](_0x54931a=>{const _0x2bfda1=_0x44a330;_0x54931a[_0x2bfda1(0xb5)]===_0xa32ddc&&_0x54931a[_0x2bfda1(0x1b9)]['forEach'](_0x5c0856=>{const _0x23a0f5=_0x2bfda1;try{fs[_0x23a0f5(0x10b)](path['join'](_0x8bb37a,_0x5c0856['id']));}catch(_0xddb6f6){console[_0x23a0f5(0x11e)]('Error\x20deleting\x20cache\x20file\x20'+_0x5c0856['id']+':',_0xddb6f6);}});});}),analyzeConverterFiles(),console[_0xd6702a(0x130)](_0xd6702a(0x177)+_0x497096);}catch(_0x4e9ba3){console[_0xd6702a(0x11e)](_0xd6702a(0xb2),_0x4e9ba3);}};schedule['scheduleJob']('0\x2023\x20*\x20*\x20*',exportUsersList),schedule[a26_0x26e0b9(0x70)](a26_0x26e0b9(0x1d2),sendFollowUpEmails),schedule[a26_0x26e0b9(0x70)](a26_0x26e0b9(0x15d),sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x11f373=a26_0x26e0b9;try{const _0x150d5b=path['join'](path[_0x11f373(0x1bb)](require[_0x11f373(0x1c0)][_0x11f373(0x80)]),_0x11f373(0x87),'files'),_0x48dcc8=path[_0x11f373(0x7a)](path[_0x11f373(0x1bb)](require[_0x11f373(0x1c0)][_0x11f373(0x80)]),_0x11f373(0x200),_0x11f373(0x1b7));if(!fs['existsSync'](_0x150d5b)){logStream[_0x11f373(0xe3)](_0x11f373(0xac)+_0x150d5b+'\x20n\x27existe\x20pas.');return;}if(!fs[_0x11f373(0x9c)](_0x48dcc8)){logStream[_0x11f373(0xe3)](_0x11f373(0xac)+_0x48dcc8+_0x11f373(0x19a));return;}const _0x1f645b=fs[_0x11f373(0xc3)](_0x150d5b),_0x5e1ae5={};_0x1f645b[_0x11f373(0x1c7)](_0x47b971=>{const _0xbc8469=_0x11f373,_0x397dec=path['join'](_0x150d5b,_0x47b971),_0x6cf2a1=fs[_0xbc8469(0x9f)](_0x397dec),_0x2e9e8b=_0x47b971[_0xbc8469(0x207)]('.'),_0x33dd5e=_0x2e9e8b['slice'](0x0,-0x1)[_0xbc8469(0x187)]((_0x2f036e,_0x373873)=>!([_0xbc8469(0x93),'rl'][_0xbc8469(0xd5)](_0x2f036e[_0xbc8469(0x12e)]())&&_0x373873===_0x2e9e8b[_0xbc8469(0x136)]-0x2))[_0xbc8469(0x7a)]('.');!Object['keys'](_0x5e1ae5)[_0xbc8469(0xd5)](_0x33dd5e)?_0x5e1ae5[_0x33dd5e]=[{'file':_0x47b971,'stats':_0x6cf2a1}]:_0x5e1ae5[_0x33dd5e][_0xbc8469(0x1b5)]({'file':_0x47b971,'stats':_0x6cf2a1});});const _0x59af34=[];_0x1f645b[_0x11f373(0x1c7)](_0x672d85=>{const _0x1ba2bb=_0x11f373;if(!_0x672d85['endsWith'](_0x1ba2bb(0x104)))return;let _0x4dca08=_0x672d85;const _0x29f938=path[_0x1ba2bb(0x7a)](_0x150d5b,_0x672d85),_0x2ab45f=fs[_0x1ba2bb(0x9f)](_0x29f938);let _0x3a272e=_0x2ab45f[_0x1ba2bb(0x1e6)],_0x3bce38='';const _0x4922d8=fs[_0x1ba2bb(0xa8)](_0x29f938,'utf8'),_0x4aa5d3=JSON[_0x1ba2bb(0xed)](_0x4922d8),_0x14c9ac=_0x4aa5d3['cachedfiles']?.[_0x1ba2bb(0xd2)](_0x52d09d=>_0x52d09d['fileName'])??[];if(_0x4aa5d3[_0x1ba2bb(0x80)])_0x4dca08=_0x4aa5d3[_0x1ba2bb(0x80)];const _0x3ec686=_0x672d85[_0x1ba2bb(0x207)]('.'),_0x7e2ee5=_0x3ec686[_0x1ba2bb(0x15b)](0x0,-0x1)[_0x1ba2bb(0x187)]((_0x27cbbd,_0xa71ba7)=>!([_0x1ba2bb(0x93),'rl'][_0x1ba2bb(0xd5)](_0x27cbbd[_0x1ba2bb(0x12e)]())&&_0xa71ba7===_0x3ec686['length']-0x2))['join']('.'),_0x3991ef=Object['keys'](_0x5e1ae5)[_0x1ba2bb(0xd5)](_0x7e2ee5)?_0x5e1ae5[_0x7e2ee5]:[];for(const _0xa61020 of _0x14c9ac){Object[_0x1ba2bb(0x1fe)](_0x5e1ae5)[_0x1ba2bb(0xd5)](_0xa61020)&&_0x3991ef['push'](..._0x5e1ae5[_0xa61020]);}const _0x170302=_0x3991ef[_0x1ba2bb(0xd2)](({file:_0x380d08,stats:_0x57ee0d})=>{const _0x193879=_0x1ba2bb;return!_0x380d08[_0x193879(0x1f8)]('.dwg.json')&&(_0x3a272e+=_0x57ee0d[_0x193879(0x1e6)]),{'id':_0x380d08,'name':_0x380d08[_0x193879(0x1f8)]('.svg')?'SVG':_0x380d08[_0x193879(0x1f8)](_0x193879(0x8e))?_0x193879(0x172):_0x380d08[_0x193879(0x1f8)](_0x193879(0x9b))?'PDF':_0x380d08[_0x193879(0x1f8)](_0x193879(0xe7))?_0x193879(0x1a2):_0x380d08[_0x193879(0x1f8)](_0x193879(0x141))?_0x193879(0x1e5):_0x380d08[_0x193879(0x1f8)](_0x193879(0x1ee))?_0x193879(0x10d):_0x380d08[_0x193879(0x207)]('.')[_0x193879(0x12d)]()['toUpperCase'](),'color':_0x380d08['endsWith']('.svg')||_0x380d08['endsWith']('.svgz')?'yellow':_0x380d08[_0x193879(0x1f8)]('.pdf')?_0x193879(0x146):_0x380d08[_0x193879(0x1f8)](_0x193879(0xe7))?_0x193879(0x15c):_0x380d08[_0x193879(0x1f8)](_0x193879(0x141))?_0x193879(0x81):_0x380d08[_0x193879(0x1f8)](_0x193879(0x1ee))?_0x193879(0x1b4):_0x193879(0x148)};});if(_0x170302[_0x1ba2bb(0xdd)](_0x211f33=>_0x211f33['id'][_0x1ba2bb(0xd5)](_0x1ba2bb(0x1f3))))_0x3bce38=_0x1ba2bb(0x1ec);else{if(_0x170302[_0x1ba2bb(0xdd)](_0x330a53=>[_0x1ba2bb(0x1db),_0x1ba2bb(0x1a3)]['includes'](_0x330a53['id']['split']('.')['pop']()))&&_0x170302[_0x1ba2bb(0xdd)](_0xfdf5bd=>[_0x1ba2bb(0x165)][_0x1ba2bb(0xd5)](_0xfdf5bd['id'][_0x1ba2bb(0x207)]('.')['pop']())))_0x3bce38='DWG\x20to\x20SVG\x20Conversion';else{if(_0x170302[_0x1ba2bb(0xdd)](_0x4f50bf=>[_0x1ba2bb(0x1db),'svgz']['includes'](_0x4f50bf['id']['split']('.')[_0x1ba2bb(0x12d)]())))_0x3bce38=_0x1ba2bb(0x1df);else{if(_0x170302[_0x1ba2bb(0xdd)](_0x496bc2=>[_0x1ba2bb(0xae)]['includes'](_0x496bc2['id'][_0x1ba2bb(0x207)]('.')[_0x1ba2bb(0x12d)]()))&&_0x170302[_0x1ba2bb(0xdd)](_0x429f4f=>[_0x1ba2bb(0x93)][_0x1ba2bb(0xd5)](_0x429f4f['id'][_0x1ba2bb(0x207)]('.')['pop']())))_0x3bce38=_0x1ba2bb(0x6b);else{if(_0x170302[_0x1ba2bb(0xdd)](_0x2cba00=>['pdf'][_0x1ba2bb(0xd5)](_0x2cba00['id'][_0x1ba2bb(0x207)]('.')[_0x1ba2bb(0x12d)]())))_0x3bce38=_0x1ba2bb(0x203);else{if(_0x170302[_0x1ba2bb(0xdd)](_0x235357=>['json'][_0x1ba2bb(0xd5)](_0x235357['id']['split']('.')[_0x1ba2bb(0x12d)]()))&&!_0x170302[_0x1ba2bb(0xdd)](_0x186096=>[_0x1ba2bb(0x93)][_0x1ba2bb(0xd5)](_0x186096['id'][_0x1ba2bb(0x207)]('.')[_0x1ba2bb(0x12d)]())))_0x3bce38='DWG\x20file\x20in\x20multiple\x20files';else _0x170302['some'](_0x5dccab=>[_0x1ba2bb(0xae)]['includes'](_0x5dccab['id'][_0x1ba2bb(0x207)]('.')[_0x1ba2bb(0x12d)]()))&&(_0x3bce38='Cache\x20conversion');}}}}}_0x59af34[_0x1ba2bb(0x1b5)]({'name':_0x672d85,'goodFileName':_0x4dca08,'size':_0x3a272e,'createdAt':_0x2ab45f[_0x1ba2bb(0x6a)],'updatedAt':_0x2ab45f[_0x1ba2bb(0x1b1)],'readAt':_0x2ab45f[_0x1ba2bb(0xf5)],'action':_0x3bce38,'availableFormats':_0x170302});}),_0x59af34[_0x11f373(0x1fb)]((_0xa5e8c2,_0x4bbd7b)=>_0x4bbd7b[_0x11f373(0x1fa)]-_0xa5e8c2[_0x11f373(0x1fa)]);const _0x158cb7={'timestamp':new Date(),'totalFiles':_0x59af34['length'],'files':_0x59af34},_0x3df673=path[_0x11f373(0x7a)](_0x48dcc8,'converter-files-analysis.json');fs[_0x11f373(0x159)](_0x3df673,JSON[_0x11f373(0xec)](_0x158cb7,null,0x2));}catch(_0x3d73e2){console[_0x11f373(0x130)](_0x11f373(0x170)),console[_0x11f373(0x130)](_0x11f373(0x1c5)+_0x3d73e2['message']);}},scheduleFileAnalysis=()=>{const _0x22a185=a26_0x26e0b9;analyzeConverterFiles(),schedule['scheduleJob'](_0x22a185(0x10f),analyzeConverterFiles),logStream[_0x22a185(0xe3)](_0x22a185(0x18f));};function a26_0x2ab0(){const _0x5e6214=['linklist_executable','join','Error\x20downloading\x20file.','cadviewer/settings/rest-api-parameters.json','setHeader','startsWith','conversionMemoryUsage','filename','green','\x22\x20executable','callbackMethod_gatewayUrl','used','../libs/config','standard','converters','path','users-export-','linux','Error\x20deleting\x20file','user','File\x20renamed.','.svgz','win32','No\x20files\x20uploaded','resolve','Router','dwg','delete','/doctor','name','temp_print_folder','usedMemMb','/doctor/check','count','.pdf','existsSync','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','User\x20created\x20successfully','statSync','dwgmerge_executable_linux','type','dir','File\x20not\x20found','who','linklist_executable_windows','file','../libs/email-utils','readFileSync','whoami','multer','demo_user','Le\x20dossier\x20','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','json','crypto','reduce','usedGB','Error\x20cleaning\x20cache\x20for\x20user\x20files:','first_name','/vanilla-toast.js','goodFileName','cadviewer/settings/chart.min.js','Content-Type','mysqlPassword','proc','8366792yRZOGl','Error\x20getting\x20cache\x20stats:','toString','Users\x20export\x20triggered\x20successfully','Failed\x20to\x20get\x20cache\x20stats','post','monthly','autoxchange_executable_windows','{version}','readdirSync','ContentSecurityPolicyReportOnly','3826823FlbmBb','hostname','call-Api_Conversion_','8RlgvmJ','W_OK','node-os-utils','access','cadviewer/settings/home.html','Log\x20file\x20cleaned.','/content/redlines/v7/','/converters/files/','.log','mysqlDatabase','map','Permission\x20750\x20for\x20the\x20\x22','toFixed','includes','biweekly','cadviewer/settings/folders.html','/converters/files/pdf/','zombieProcesses','Error\x20updating\x20config','getHotConfig','oos','some','/cache/files','replace','callbackMethod','Error\x20triggering\x20Users\x20export:','cadviewer/settings/vanilla-toast.js','write','last_name','isDirectory','getStats','.json','createdAt','platform','/cache','/restapi-test','stringify','parse','Server\x20Settings','/cache/files/:id','DwgMerge\x20Settings','Folder\x20not\x20found','radio|','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','avatars/','atime','Exporting\x20new\x20users\x20for\x20Google\x20Ads...','Config\x20updated\x20successfully','getDate','/folders/create','6572oaVjxy','Error\x20getting\x20cpu\x20usage','status','number','padStart','./uploads/','/users/:userId',')\x20older\x20than\x20','Error\x20getting\x20disk\x20usage','/config','.dwg.json','Folder\x20not\x20found.','send','tmp','/converters/files/merged/','rmdirSync','params','unlinkSync','dwgmergeLocation','DWG','promise','*\x20*\x20*\x20*\x20*','Old\x20demo_user\x20accounts\x20(','fileLoad_PasswordAuthentication','sendFile','osCmd','Error\x20deleting\x20old\x20demo_user\x20accounts:','ServerLocation','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','readFile','reset','splity','No\x20config\x20object\x20provided','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20','.log\x22','/vanilla-toast.css','error','https','Read\x20and\x20write\x20permission\x20for\x20folder\x20','autodetect_platform','Error\x20getting\x20Users\x20export\x20export\x20history:','mem','bcrypt','download','total','AutoXchange\x20Settings','/metrics','callbackMethod_gatewayUrl_flag','/style.css','setMonth','0\x201\x20*\x20*\x20*','pop','toLocaleLowerCase','query','log','admin','email','/conversion/list','role','R_OK','length','/conversion/clean','blocks','licenseLocation','renameSync','image/svg+xml','folderLocation','User\x20updated\x20successfully','lastExportDate','settingsPasswordBasicAuth','getFullYear','.csv','/folders/download','linklist_executable_linux','900670yUfZmU','version','red','User\x20directory\x20flushed\x20successfully','purple','totalMemMb','\x20does\x20not\x20exist.','/chart.min.js','then','fileLocation','/users','/icons.js','Export\x20file\x20not\x20found','toISOString','ceil','globalBearerAutenticationToken','Callback\x20and\x20Authentication\x20Settings','isFolder','constants','totalGB','conversionTimeSpend','writeFileSync','/folders','slice','gray','0\x200\x20*\x20*\x20*','../CADViewer_config.json','/cache/csv/:file','get','/users-export/history','mimetype','child_process','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','csv','/cache/flush','Parameters\x20saved.','dwgmerge_executable_windows','Folder\x20deleted.','replaceAll','Content-Disposition','radio|monthly,biweekly','info','originalname','1331040VQffOL','===================error===================','Error!\x20Something\x20went\x20wrong.','SVGZ','272YNVZBO','====================','cadviewer/settings/cache-stats.js','test','Cache\x20cleaned\x20for\x20files\x20in\x20','avatar','logs','Failed\x20to\x20retrieve\x20export\x20history','Error\x20saving\x20parameters.','/users/flush-dir','converterLocation','files','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','Mail\x20Server\x20Settings','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','/converters/files/print/','\x20days\x20have\x20been\x20deleted.','Config\x20updated.','mysqlHost','put','filter','mode','Error\x20getting\x20total\x20users','cadviewer/settings/requests-callapiconversion-monitoring.json','`crypted_password`\x20=\x20?,\x20','folderName','CADViewer_config.json','cadviewer/settings/config.html','Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)','express-basic-auth','totalProcesses','mkdirSync','Folder\x20already\x20exists.','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','Counter\x20reset\x20successfully','zlib','hash','getMonth','cadviewer/settings/users.html','\x20n\x27existe\x20pas.','cadviewer/settings/converter-files-analysis.json','Error\x20getting\x20memory\x20info','dwgmerge_executable','Error\x20getting\x20process\x20info','/config/global-update','darwin','Exported\x20','JSON','svgz','autodetect_location','rmdir','usedPercentage','Error\x20deleting\x20folder.','windows','linklistLocation','cadviewer/settings/rest-api.html','vmstats','Database\x20Settings','Folder\x20created.','hlall','SELECT\x20*\x20FROM\x20users','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','ctime','trim','Cache\x20directory\x20','blue','push','2558946LbJLqH','settings','usersExportFrequency','availableFormats','/restapi-test/parameters/search','dirname','Folder\x20renamed.','An\x20error\x20occurred\x20while\x20checking.','ServerPort','cadviewer/settings/vanilla-toast.css','main','/folders/update','exports','totalGb','Error\x20exporting\x20users\x20for\x20Google\x20Ads:','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','forEach','Directory\x20','autoxchange_executable','/logs','cadviewer/settings/users-export.html','Error\x20deleting\x20user\x20folder:','setup_mysqlHost','uptime','writeFile','\x20MB','mkdir','0\x20*\x20*\x20*\x20*','arch','pdf','.gitkeep','Error\x20reading\x20monitoring\x20file','setDate','boolean','extname','/export-users','svg','/users-export/download/:fileName','body','copyFileSync','Display\x20of\x20DWG','sub_dirs','/conversion/memorydata','diskStorage','Deleting\x20old\x20demo_user\x20accounts...','folder_name','CSV','size','/tailwind.js','Cache\x20flushed\x20successfully','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','drive','now','RL/TL\x20Processing','fileLoad_UserName','.dwg','/content/redlines/','globalBearerAutentication','Monitoring\x20file\x20cleaned.','3300zaZvEd','.rl.json','Invalid\x20user','../libs/mysql.js','mysqlUsername','\x20\x20\x20','endsWith','avatar_url','updatedAt','sort','File\x20deleted\x20successfully','unlink','keys','last-users-export.json','cadviewer','X_OK','freeGb','DWG\x20to\x20PDF\x20Conversion','converterpathWin','radio|windows,linux','cadviewer/settings/icons.js','split','Failed\x20to\x20flush\x20cache','model','isFile','/converters/autoxchange/linux/','percentage','birthtime','JSON\x20Data\x20Extraction','23319YlTdzY','utf8','node-schedule','formatedSize','scheduleJob','rmSync','LinkList\x20Settings','cadviewer/settings/logs.html','./tmp','execute','\x20users\x20to\x20','Error\x20creating\x20folder.','/logs/content'];a26_0x2ab0=function(){return _0x5e6214;};return a26_0x2ab0();}scheduleFileAnalysis(),module[a26_0x26e0b9(0x1c2)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};