const a26_0x4cb3bf=a26_0x329d;(function(_0x2a805e,_0x4624a8){const _0x108df3=a26_0x329d,_0x4cde2f=_0x2a805e();while(!![]){try{const _0x4ff726=-parseInt(_0x108df3(0x1c4))/0x1*(-parseInt(_0x108df3(0x134))/0x2)+-parseInt(_0x108df3(0x2ba))/0x3*(-parseInt(_0x108df3(0x146))/0x4)+-parseInt(_0x108df3(0x2ad))/0x5+-parseInt(_0x108df3(0x278))/0x6+parseInt(_0x108df3(0x129))/0x7+-parseInt(_0x108df3(0x1a9))/0x8*(-parseInt(_0x108df3(0x24b))/0x9)+-parseInt(_0x108df3(0x16c))/0xa*(parseInt(_0x108df3(0x1e6))/0xb);if(_0x4ff726===_0x4624a8)break;else _0x4cde2f['push'](_0x4cde2f['shift']());}catch(_0x41ac65){_0x4cde2f['push'](_0x4cde2f['shift']());}}}(a26_0x8ac4,0x63346));const express=require(a26_0x4cb3bf(0x22f)),router=express[a26_0x4cb3bf(0x29e)](),multer=require('multer'),fs=require('fs'),path=require(a26_0x4cb3bf(0x170)),getHotConfig=require('../libs/config')[a26_0x4cb3bf(0x1e7)],{exec}=require(a26_0x4cb3bf(0x1c8)),os=require('os'),conn=require(a26_0x4cb3bf(0x24a)),bcrypt=require(a26_0x4cb3bf(0x16b)),osu=require('node-os-utils'),schedule=require(a26_0x4cb3bf(0x1f6)),counter=require('../libs/counter.js'),{randomUUID}=require('crypto'),logStream=require(a26_0x4cb3bf(0x16a)),config=require('../CADViewer_config.json'),basicAuth=require('express-basic-auth'),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a26_0x4cb3bf(0x249)),protectedRoute=basicAuth({'users':{[config[a26_0x4cb3bf(0x138)]]:config[a26_0x4cb3bf(0x147)]},'challenge':!![],'realm':a26_0x4cb3bf(0x2a7)});router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x1d1),async(_0x2898a8,_0x5cd5fa)=>{const _0x443bad=a26_0x4cb3bf;_0x5cd5fa[_0x443bad(0x22b)](path['join'](path['dirname'](require['main'][_0x443bad(0x1ba)]),'cadviewer/settings/tailwind.js'));}),router[a26_0x4cb3bf(0x26a)]('/chart.min.js',async(_0x850fcb,_0x10c3d0)=>{const _0xd59a0b=a26_0x4cb3bf;_0x10c3d0[_0xd59a0b(0x22b)](path['join'](path[_0xd59a0b(0x183)](require['main'][_0xd59a0b(0x1ba)]),_0xd59a0b(0x203)));}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x2a4),async(_0x784109,_0x38ba60)=>{const _0x2d9dff=a26_0x4cb3bf;_0x38ba60[_0x2d9dff(0x22b)](path['join'](path['dirname'](require[_0x2d9dff(0x238)][_0x2d9dff(0x1ba)]),_0x2d9dff(0x1cb)));}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x13e),async(_0x395c96,_0x617cbd)=>{const _0x984bf7=a26_0x4cb3bf;_0x617cbd[_0x984bf7(0x22b)](path[_0x984bf7(0x21a)](path[_0x984bf7(0x183)](require[_0x984bf7(0x238)]['filename']),_0x984bf7(0x16d)));}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x1b3),async(_0x4f1e94,_0x1b40d3)=>{const _0xe639e=a26_0x4cb3bf;_0x1b40d3[_0xe639e(0x22b)](path[_0xe639e(0x21a)](path[_0xe639e(0x183)](require[_0xe639e(0x238)][_0xe639e(0x1ba)]),_0xe639e(0x153)));}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x133),async(_0x310f92,_0x54bc73)=>{const _0x320aa9=a26_0x4cb3bf;_0x54bc73[_0x320aa9(0x22b)](path[_0x320aa9(0x21a)](path['dirname'](require[_0x320aa9(0x238)][_0x320aa9(0x1ba)]),'cadviewer/settings/icons.js'));}),router[a26_0x4cb3bf(0x26a)]('/',protectedRoute,async(_0x453a97,_0x5572f1)=>{const _0x50d974=a26_0x4cb3bf,_0x1f302e=fs[_0x50d974(0x187)](path[_0x50d974(0x21a)](path['dirname'](require[_0x50d974(0x238)]['filename']),_0x50d974(0x204)),'utf8'),_0x3dfdc4=_0x1f302e[_0x50d974(0x1fb)](_0x50d974(0x2b7),_0x453a97['version']);_0x5572f1['send'](_0x3dfdc4);}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x180),protectedRoute,async(_0x5d175c,_0x4e5f07)=>{const _0x4f90bd=a26_0x4cb3bf,_0x3c7ce8=fs['readFileSync'](path[_0x4f90bd(0x21a)](path[_0x4f90bd(0x183)](require[_0x4f90bd(0x238)][_0x4f90bd(0x1ba)]),_0x4f90bd(0x144)),_0x4f90bd(0x12b)),_0x38c1bd=_0x3c7ce8[_0x4f90bd(0x1fb)](_0x4f90bd(0x2b7),_0x5d175c['version']);_0x4e5f07[_0x4f90bd(0x268)](_0x38c1bd);}),router['get'](a26_0x4cb3bf(0x14e),protectedRoute,async(_0x1b2471,_0x3da415)=>{const _0x35c3e2=a26_0x4cb3bf,_0x51a22c=fs[_0x35c3e2(0x187)](path[_0x35c3e2(0x21a)](path[_0x35c3e2(0x183)](require[_0x35c3e2(0x238)][_0x35c3e2(0x1ba)]),_0x35c3e2(0x25c)),_0x35c3e2(0x12b)),_0x46ef29=_0x51a22c[_0x35c3e2(0x1fb)](_0x35c3e2(0x2b7),_0x1b2471[_0x35c3e2(0x213)]);_0x3da415[_0x35c3e2(0x268)](_0x46ef29);}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x1a5),protectedRoute,async(_0x2180f5,_0x147864)=>{const _0x56aa7=a26_0x4cb3bf,_0x5710ed=fs[_0x56aa7(0x187)](path[_0x56aa7(0x21a)](path['dirname'](require[_0x56aa7(0x238)][_0x56aa7(0x1ba)]),_0x56aa7(0x12a)),_0x56aa7(0x12b)),_0x4ffaf7=_0x5710ed['replaceAll']('{version}',_0x2180f5[_0x56aa7(0x213)]);_0x147864[_0x56aa7(0x268)](_0x4ffaf7);}),router[a26_0x4cb3bf(0x13a)]('/folders',async(_0x10c8ac,_0x2777bb)=>{const _0xee0384=a26_0x4cb3bf,_0x240db7=path[_0xee0384(0x21a)](path[_0xee0384(0x183)](require[_0xee0384(0x238)]['filename']),'CADViewer_config.json'),_0x523b79=JSON[_0xee0384(0x270)](fs['readFileSync'](_0x240db7,'utf8')),_0x48a27e=_0x523b79[_0xee0384(0x224)];if(!fs[_0xee0384(0x17d)](_0x48a27e))return _0x2777bb[_0xee0384(0x222)](0x194)[_0xee0384(0x266)]({'message':'Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.'});const _0x316e30=_0x231ceb=>{let _0x13181d=0x0;return _0x231ceb['forEach'](_0x5e13db=>{const _0x5b929b=a26_0x329d;_0x5e13db[_0x5b929b(0x148)]?_0x13181d+=_0x316e30(_0x5e13db[_0x5b929b(0x2a6)]):_0x13181d+=_0x5e13db[_0x5b929b(0x115)];}),_0x13181d;},_0x373759=_0xb750ed=>{const _0x2cce98=_0xee0384;if(_0xb750ed<0x400)return _0xb750ed+'\x20B';else{if(_0xb750ed<0x400*0x400)return(_0xb750ed/0x400)[_0x2cce98(0x273)](0x2)+'\x20KB';else return _0xb750ed<0x400*0x400*0x400?(_0xb750ed/0x400/0x400)['toFixed'](0x2)+_0x2cce98(0x114):(_0xb750ed/0x400/0x400/0x400)[_0x2cce98(0x273)](0x2)+'\x20GB';}},_0x51f1c6=(_0x3f5e4b,_0x4f48c7='')=>{const _0x347038=_0xee0384,_0x15c2b7=fs[_0x347038(0x250)](_0x3f5e4b),_0xcc8ce0=[];return _0x15c2b7[_0x347038(0x1ec)](_0x3c3491=>{const _0x403460=_0x347038,_0x43de01=path[_0x403460(0x21a)](_0x3f5e4b,_0x3c3491)['replaceAll']('\x5c','/'),_0x4a738f=fs[_0x403460(0x269)](_0x43de01);if(_0x4a738f[_0x403460(0x190)]()){const _0x2f724a=_0x51f1c6(_0x43de01,_0x4f48c7+_0x403460(0x1e0));_0xcc8ce0[_0x403460(0x116)]({'name':_0x3c3491,'size':_0x4a738f[_0x403460(0x115)],'path':_0x43de01,'permissions':_0x4a738f[_0x403460(0x1be)],'isFolder':!![],'sub_dirs':_0x2f724a});}else _0xcc8ce0[_0x403460(0x116)]({'name':_0x3c3491,'size':_0x4a738f[_0x403460(0x115)],'path':_0x43de01,'permissions':_0x4a738f[_0x403460(0x1be)],'isFolder':![]});}),_0xcc8ce0;};let _0x4d1344=_0x51f1c6(_0x48a27e);const _0x1a45c6=_0x155fc0=>{const _0x7fc344=_0xee0384;return _0x155fc0[_0x7fc344(0x1ec)](_0x356340=>{const _0x23a9da=_0x7fc344;_0x356340['isFolder']?(_0x356340[_0x23a9da(0x24c)]=_0x373759(_0x316e30(_0x356340[_0x23a9da(0x2a6)])),_0x356340[_0x23a9da(0x2a6)]=_0x1a45c6(_0x356340[_0x23a9da(0x2a6)])):_0x356340[_0x23a9da(0x24c)]=_0x373759(_0x356340[_0x23a9da(0x115)]);}),_0x155fc0;};_0x2777bb['status'](0xc8)[_0xee0384(0x266)](_0x1a45c6(_0x4d1344));}),router[a26_0x4cb3bf(0x13a)](a26_0x4cb3bf(0x1bf),async(_0x3dca14,_0x15fbfd)=>{const _0x1dc53f=a26_0x4cb3bf,{path:_0x3130ff}=_0x3dca14[_0x1dc53f(0x1f5)],_0x68b721=_0x3130ff[_0x1dc53f(0x230)]('/')['pop']();if(!fs[_0x1dc53f(0x17d)](_0x3130ff))return _0x15fbfd[_0x1dc53f(0x222)](0x194)['json']({'message':'File\x20not\x20found'});_0x15fbfd['setHeader']('Content-Type',_0x1dc53f(0x125)),_0x15fbfd[_0x1dc53f(0x25a)](_0x1dc53f(0x202),_0x1dc53f(0x1e9)+_0x68b721+'\x22'),_0x15fbfd[_0x1dc53f(0x23e)](_0x3130ff,_0x428599=>{const _0x1a47bb=_0x1dc53f;_0x428599&&_0x15fbfd[_0x1a47bb(0x222)](0x1f4)['json']({'message':'Error\x20downloading\x20file.'});});}),router[a26_0x4cb3bf(0x13a)](a26_0x4cb3bf(0x14c),async(_0x5ca4d6,_0x5c35f4)=>{const _0x4b6f8=a26_0x4cb3bf,_0x51d67f=_0x5ca4d6[_0x4b6f8(0x1f5)],_0xd962ad=getHotConfig()[_0x4b6f8(0x224)],_0x265cc2=path[_0x4b6f8(0x21a)](_0xd962ad,_0x51d67f[_0x4b6f8(0x170)]);if(!fs['existsSync'](_0x265cc2))return _0x5c35f4[_0x4b6f8(0x222)](0x194)[_0x4b6f8(0x266)]({'message':'Folder\x20not\x20found.'});if(fs[_0x4b6f8(0x17d)](path[_0x4b6f8(0x21a)](_0x265cc2,_0x51d67f[_0x4b6f8(0x189)])))return _0x5c35f4['status'](0x199)[_0x4b6f8(0x266)]({'message':'Folder\x20already\x20exists.'});fs[_0x4b6f8(0x1f1)](path[_0x4b6f8(0x21a)](_0x265cc2,_0x51d67f[_0x4b6f8(0x189)]),_0x324700=>{const _0x5b4d21=_0x4b6f8;_0x324700&&_0x5c35f4[_0x5b4d21(0x222)](0x1f4)[_0x5b4d21(0x266)]({'message':_0x5b4d21(0x286)}),_0x5c35f4[_0x5b4d21(0x222)](0xc8)[_0x5b4d21(0x266)]({'message':_0x5b4d21(0x198)});});}),router['put'](a26_0x4cb3bf(0x160),async(_0x390e05,_0x33acc3)=>{const _0x57acac=a26_0x4cb3bf,{newName:_0x2f3305,isFolder:_0xb29723,path:_0x1445aa}=_0x390e05['body'];if(!fs[_0x57acac(0x17d)](_0x1445aa))return _0x33acc3[_0x57acac(0x222)](0x194)[_0x57acac(0x266)]({'message':_0xb29723?_0x57acac(0x2b1):_0x57acac(0x215)});const _0x2c5fce=_0x1445aa[_0x57acac(0x1a6)](_0x1445aa[_0x57acac(0x230)]('/')[_0x57acac(0x208)](),_0x2f3305),_0x5560c2=fs[_0x57acac(0x269)](_0x1445aa);_0x5560c2[_0x57acac(0x190)]()?fs[_0x57acac(0x28a)](_0x1445aa,_0x2c5fce):(fs[_0x57acac(0x192)](_0x1445aa,_0x2c5fce),fs[_0x57acac(0x281)](_0x1445aa)),_0x33acc3[_0x57acac(0x222)](0xc8)[_0x57acac(0x266)]({'message':_0xb29723?_0x57acac(0x1bc):'File\x20renamed.'});}),router[a26_0x4cb3bf(0x28c)](a26_0x4cb3bf(0x126),async(_0x408c92,_0x338525)=>{const _0x5429c4=a26_0x4cb3bf,{path:_0xd5f56b}=_0x408c92[_0x5429c4(0x1f5)];if(!fs['existsSync'](_0xd5f56b))return _0x338525[_0x5429c4(0x222)](0x194)['json']({'message':_0x5429c4(0x279)});const _0x1ae523=fs[_0x5429c4(0x269)](_0xd5f56b);if(_0x1ae523[_0x5429c4(0x23f)]())fs[_0x5429c4(0x16e)](_0xd5f56b,_0x5cb92a=>{const _0x424271=_0x5429c4;_0x5cb92a&&_0x338525['status'](0x1f4)[_0x424271(0x266)]({'message':_0x424271(0x2a0)}),_0x338525[_0x424271(0x222)](0xc8)[_0x424271(0x266)]({'message':_0x424271(0x171)});});else _0x1ae523[_0x5429c4(0x190)]()&&fs[_0x5429c4(0x1fe)](_0xd5f56b,{'recursive':!![]},_0x2bc024=>{const _0x4d9a39=_0x5429c4;_0x2bc024&&_0x338525[_0x4d9a39(0x222)](0x1f4)['json']({'message':_0x4d9a39(0x21d)}),_0x338525[_0x4d9a39(0x222)](0xc8)['json']({'message':_0x4d9a39(0x1f2)});});});!fs[a26_0x4cb3bf(0x17d)](a26_0x4cb3bf(0x1e2))&&fs[a26_0x4cb3bf(0x298)](a26_0x4cb3bf(0x1e2));const storage=multer[a26_0x4cb3bf(0x297)]({'destination':(_0xcfcdbe,_0x4fba01,_0x120885)=>{const _0x25e95c=a26_0x4cb3bf;_0x120885(null,_0x25e95c(0x1b2));},'filename':(_0xca7dea,_0x3e4c87,_0x20acda)=>{const _0x2ba923=a26_0x4cb3bf;_0x20acda(null,Date[_0x2ba923(0x275)]()+path[_0x2ba923(0x229)](_0x3e4c87[_0x2ba923(0x20b)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x4cb3bf(0x13a)]('/folders/upload',upload[a26_0x4cb3bf(0x256)](a26_0x4cb3bf(0x218)),async(_0x12cb22,_0x250a07)=>{const _0x5634f0=a26_0x4cb3bf,_0x1f582f=_0x12cb22[_0x5634f0(0x1f5)];if(!_0x12cb22[_0x5634f0(0x218)]||_0x12cb22['files'][_0x5634f0(0x27d)]===0x0)return _0x250a07['status'](0x190)[_0x5634f0(0x266)]({'message':_0x5634f0(0x289)});const _0x3ceff3=getHotConfig()[_0x5634f0(0x224)],_0x4a4a0f=path[_0x5634f0(0x21a)](_0x3ceff3,_0x1f582f[_0x5634f0(0x170)]);if(!fs[_0x5634f0(0x17d)](_0x4a4a0f))return _0x250a07[_0x5634f0(0x222)](0x194)[_0x5634f0(0x266)]({'message':_0x5634f0(0x1f8)});const _0x53afb1=_0x12cb22['files'][_0x5634f0(0x1b7)](_0x55a771=>({'originalname':_0x55a771['originalname'],'filename':_0x55a771['filename'],'mimetype':_0x55a771[_0x5634f0(0x23c)],'size':_0x55a771[_0x5634f0(0x115)]}));_0x53afb1[_0x5634f0(0x1ec)](_0x4632c9=>{const _0x39bffd=_0x5634f0;fs[_0x39bffd(0x192)](path[_0x39bffd(0x21a)](_0x39bffd(0x1b2),_0x4632c9['filename']),path[_0x39bffd(0x21a)](_0x4a4a0f,_0x4632c9[_0x39bffd(0x20b)])),fs[_0x39bffd(0x281)](path[_0x39bffd(0x21a)](_0x39bffd(0x1b2),_0x4632c9[_0x39bffd(0x1ba)]));}),_0x250a07[_0x5634f0(0x222)](0xc8)[_0x5634f0(0x266)]({'message':_0x5634f0(0x282),'files':_0x53afb1});}),router[a26_0x4cb3bf(0x240)](a26_0x4cb3bf(0x293),async(_0x4cceee,_0x1e4945)=>{const _0x58d12d=a26_0x4cb3bf,_0x46e12c=path['join'](path[_0x58d12d(0x183)](require[_0x58d12d(0x238)][_0x58d12d(0x1ba)]),_0x58d12d(0x1bd)),{config:_0x1885e3}=_0x4cceee[_0x58d12d(0x1f5)];if(!_0x1885e3)return _0x1e4945[_0x58d12d(0x222)](0x190)[_0x58d12d(0x266)]({'message':_0x58d12d(0x23d)});try{fs['writeFileSync'](_0x46e12c,JSON[_0x58d12d(0x131)](_0x1885e3,null,0x4)),_0x1e4945['status'](0xc8)[_0x58d12d(0x266)]({'message':_0x58d12d(0x299)});}catch(_0x409bf8){_0x1e4945[_0x58d12d(0x222)](0x1f4)['json']({'message':_0x58d12d(0x121)});}}),router[a26_0x4cb3bf(0x240)](a26_0x4cb3bf(0x27a),async(_0x44991b,_0x277d86)=>{const _0x310606=a26_0x4cb3bf,{key:_0x4a95a3,value:_0x24cb35}=_0x44991b[_0x310606(0x1f5)],_0x24f219=path[_0x310606(0x21a)](path[_0x310606(0x183)](require[_0x310606(0x238)][_0x310606(0x1ba)]),_0x310606(0x1bd));fs[_0x310606(0x20a)](_0x24f219,_0x310606(0x12b),function(_0x5df46a,_0x206f81){const _0x5ec9ac=_0x310606;_0x5df46a&&_0x277d86[_0x5ec9ac(0x222)](0x1f4)[_0x5ec9ac(0x268)](_0x5df46a);const _0x1abe6f=JSON[_0x5ec9ac(0x270)](_0x206f81);_0x1abe6f[_0x4a95a3]=_0x24cb35;if(_0x4a95a3===_0x5ec9ac(0x29d)){let _0x1e8082='';if(_0x1abe6f[_0x5ec9ac(0x27e)]){_0x1e8082=os['platform']();if(_0x1e8082===_0x5ec9ac(0x205))_0x1e8082='windows';else{if(_0x1e8082===_0x5ec9ac(0x219))_0x1e8082=_0x5ec9ac(0x2ac);}}else _0x1e8082=_0x1abe6f[_0x5ec9ac(0x2a1)];if(_0x1e8082===_0x5ec9ac(0x19a)){_0x1abe6f['ServerLocation']=path[_0x5ec9ac(0x20e)](__dirname,'..')+'/';const _0x4c310d=/\\/g;_0x1abe6f[_0x5ec9ac(0x15f)]=_0x1abe6f[_0x5ec9ac(0x15f)][_0x5ec9ac(0x1a6)](_0x4c310d,'/');}else _0x1abe6f['ServerLocation']=path[_0x5ec9ac(0x20e)](__dirname,'..')+'/';}if(_0x4a95a3===_0x5ec9ac(0x27e)){let _0x41db0a=os[_0x5ec9ac(0x2a1)]();if(_0x41db0a===_0x5ec9ac(0x205))_0x41db0a=_0x5ec9ac(0x19a);else _0x41db0a='linux';_0x41db0a===_0x5ec9ac(0x19a)?_0x24cb35===!![]&&(_0x1abe6f['autoxchange_executable']=_0x1abe6f[_0x5ec9ac(0x10c)],_0x1abe6f[_0x5ec9ac(0x182)]=_0x1abe6f[_0x5ec9ac(0x11f)],_0x1abe6f[_0x5ec9ac(0x2a9)]=_0x1abe6f[_0x5ec9ac(0x216)]):_0x24cb35===!![]&&(_0x1abe6f[_0x5ec9ac(0x2b6)]=_0x1abe6f['autoxchange_executable_linux'],_0x1abe6f['dwgmerge_executable']=_0x1abe6f[_0x5ec9ac(0x1aa)],_0x1abe6f[_0x5ec9ac(0x2a9)]=_0x1abe6f[_0x5ec9ac(0x197)]),_0x1abe6f[_0x5ec9ac(0x2a1)]=_0x41db0a;}if(_0x1abe6f[_0x5ec9ac(0x27e)]){let _0xa327c0=os[_0x5ec9ac(0x2a1)]();if(_0xa327c0===_0x5ec9ac(0x205))_0xa327c0=_0x5ec9ac(0x19a);else _0xa327c0='linux';if(_0xa327c0===_0x5ec9ac(0x19a)){if(_0x4a95a3===_0x5ec9ac(0x10c))_0x1abe6f[_0x5ec9ac(0x2b6)]=_0x24cb35;else{if(_0x4a95a3===_0x5ec9ac(0x11f))_0x1abe6f[_0x5ec9ac(0x182)]=_0x24cb35;else _0x4a95a3===_0x5ec9ac(0x216)&&(_0x1abe6f[_0x5ec9ac(0x2a9)]=_0x24cb35);}}else{if(_0x4a95a3==='autoxchange_executable_linux')_0x1abe6f[_0x5ec9ac(0x2b6)]=_0x24cb35;else{if(_0x4a95a3===_0x5ec9ac(0x1aa))_0x1abe6f[_0x5ec9ac(0x182)]=_0x24cb35;else _0x4a95a3===_0x5ec9ac(0x197)&&(_0x1abe6f[_0x5ec9ac(0x2a9)]=_0x24cb35);}}}fs[_0x5ec9ac(0x1ee)](_0x24f219,JSON[_0x5ec9ac(0x131)](_0x1abe6f,null,0x4),function(_0x5526c8){const _0x13f917=_0x5ec9ac;_0x5526c8&&_0x277d86['status'](0x1f4)[_0x13f917(0x268)](_0x5526c8),_0x277d86[_0x13f917(0x222)](0xc8)[_0x13f917(0x266)]({'message':_0x13f917(0x1ff)});});});}),router['post'](a26_0x4cb3bf(0x1ad),async(_0x6d632c,_0x15ef11)=>{const _0x40fb8e=a26_0x4cb3bf,_0x14279c=getHotConfig(),_0x215a97=(_0x14279c['dwgmergeLocation'][_0x40fb8e(0x15b)](_0x14279c[_0x40fb8e(0x15f)])?'':_0x14279c['ServerLocation'])+_0x14279c[_0x40fb8e(0x169)],_0x55b645=(_0x14279c[_0x40fb8e(0x169)][_0x40fb8e(0x15b)](_0x14279c[_0x40fb8e(0x15f)])?'':_0x14279c['ServerLocation'])+_0x14279c[_0x40fb8e(0x2aa)],_0x4d5990=(_0x14279c[_0x40fb8e(0x122)][_0x40fb8e(0x15b)](_0x14279c['ServerLocation'])?'':_0x14279c[_0x40fb8e(0x15f)])+_0x14279c['converterLocation'],_0x1aa1c5=/ax202.*\.exe/,_0x4831b3=/ax202.*/,_0xfa4e7a=/dwgmerge202.*\.exe/,_0x17b48e=/dwgmerge_202.*/,_0x5bead3=/linklist_202.*\.exe/,_0x21208c=/linklist_202.*/,_0x196619=[],_0x563464=[],_0x2cf7cf=[],_0x1081a7=[],_0x12eace=[],_0x373d7d=[];let _0x294c5e='';if(_0x14279c[_0x40fb8e(0x27e)]){_0x294c5e=os[_0x40fb8e(0x2a1)]();if(_0x294c5e===_0x40fb8e(0x205))_0x294c5e=_0x40fb8e(0x19a);else{if(_0x294c5e==='darwin')_0x294c5e='linux';}}else _0x294c5e=_0x14279c['platform'];fs['readdirSync'](_0x4d5990[_0x40fb8e(0x1fb)](_0x40fb8e(0x2ac),_0x40fb8e(0x19a)))[_0x40fb8e(0x1ec)](_0x48a7a3=>{const _0x637e31=_0x40fb8e;if(_0x1aa1c5[_0x637e31(0x177)](_0x48a7a3[_0x637e31(0x290)]()))_0x196619[_0x637e31(0x116)](_0x48a7a3);}),fs['readdirSync'](_0x215a97[_0x40fb8e(0x1fb)](_0x40fb8e(0x2ac),_0x40fb8e(0x19a)))[_0x40fb8e(0x1ec)](_0x288203=>{const _0x5d7a3b=_0x40fb8e;if(_0xfa4e7a[_0x5d7a3b(0x177)](_0x288203[_0x5d7a3b(0x290)]()))_0x563464['push'](_0x288203);}),fs['readdirSync'](_0x55b645['replaceAll']('linux',_0x40fb8e(0x19a)))[_0x40fb8e(0x1ec)](_0x38cf6f=>{const _0x2c8fa2=_0x40fb8e;if(_0x5bead3[_0x2c8fa2(0x177)](_0x38cf6f['toLocaleLowerCase']()))_0x2cf7cf[_0x2c8fa2(0x116)](_0x38cf6f);}),fs[_0x40fb8e(0x250)](_0x4d5990[_0x40fb8e(0x1fb)](_0x40fb8e(0x19a),_0x40fb8e(0x2ac)))[_0x40fb8e(0x1ec)](_0x193364=>{const _0x59217b=_0x40fb8e;if(_0x4831b3['test'](_0x193364[_0x59217b(0x290)]()))_0x1081a7[_0x59217b(0x116)](_0x193364);}),fs[_0x40fb8e(0x250)](_0x215a97[_0x40fb8e(0x1fb)](_0x40fb8e(0x19a),_0x40fb8e(0x2ac)))[_0x40fb8e(0x1ec)](_0x1986fb=>{const _0x343304=_0x40fb8e;if(_0x17b48e['test'](_0x1986fb[_0x343304(0x290)]()))_0x12eace['push'](_0x1986fb);}),fs['readdirSync'](_0x55b645[_0x40fb8e(0x1fb)](_0x40fb8e(0x19a),_0x40fb8e(0x2ac)))['forEach'](_0x15b780=>{const _0x16b7dc=_0x40fb8e;if(_0x21208c[_0x16b7dc(0x177)](_0x15b780[_0x16b7dc(0x290)]()))_0x373d7d[_0x16b7dc(0x116)](_0x15b780);});const _0x1177de=[_0x40fb8e(0x25e),_0x40fb8e(0x1d8),_0x40fb8e(0x233),_0x40fb8e(0x277),_0x40fb8e(0x210)],_0x14e996=[_0x40fb8e(0x132),'fileLocationUrl',_0x40fb8e(0x122),'licenseLocation',_0x40fb8e(0x111),_0x40fb8e(0x179),_0x40fb8e(0x13b),'dwgmergeLocation',_0x40fb8e(0x2aa),_0x40fb8e(0x213)],_0x46f07e=[_0x40fb8e(0x2ae),_0x40fb8e(0x207),_0x40fb8e(0x24f),'mysqlPassword',_0x40fb8e(0x1d7),_0x40fb8e(0x12c),_0x40fb8e(0x221)],_0x57bf4d={'ServerUrl':_0x40fb8e(0x288),'autoxchange_executable':_0x40fb8e(0x13c),'linklist_executable':_0x40fb8e(0x1f7),'dwgmerge_executable':_0x40fb8e(0x25b),'setup_mysqlHost':_0x40fb8e(0x1a1),'callbackMethod_gatewayUrl_flag':_0x40fb8e(0x166),'userFolderMaximumFiles':_0x40fb8e(0x2b0),'smtpHost':_0x40fb8e(0x14f)},_0x24afb3={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':'boolean','autodetect_platform':_0x40fb8e(0x1db),'cvjs_svgz_compress':_0x40fb8e(0x1db),'cached_conversion':'boolean','remainOnServer':_0x40fb8e(0x1db),'cvjs_debug':_0x40fb8e(0x1db),'autodetect_location':_0x40fb8e(0x1db),'platform':'radio|windows,linux','autoxchange_executable':'radio|'+(_0x294c5e===_0x40fb8e(0x19a)?_0x196619['join'](','):_0x1081a7[_0x40fb8e(0x21a)](',')),'autoxchange_executable_windows':'radio|'+_0x196619['join'](','),'autoxchange_executable_linux':_0x40fb8e(0x12d)+_0x1081a7[_0x40fb8e(0x21a)](','),'dwgmerge_executable':'radio|'+(_0x294c5e==='windows'?_0x563464['join'](','):_0x12eace[_0x40fb8e(0x21a)](',')),'dwgmerge_executable_windows':_0x40fb8e(0x12d)+_0x563464[_0x40fb8e(0x21a)](','),'dwgmerge_executable_linux':_0x40fb8e(0x12d)+_0x12eace[_0x40fb8e(0x21a)](','),'linklist_executable':_0x40fb8e(0x12d)+(_0x294c5e===_0x40fb8e(0x19a)?_0x2cf7cf['join'](','):_0x373d7d[_0x40fb8e(0x21a)](',')),'linklist_executable_windows':'radio|'+_0x2cf7cf[_0x40fb8e(0x21a)](','),'linklist_executable_linux':_0x40fb8e(0x12d)+_0x373d7d[_0x40fb8e(0x21a)](','),'callbackMethod_gatewayUrl_flag':_0x40fb8e(0x1db),'setup_mysqlHost':_0x40fb8e(0x1db),'ContentSecurityPolicyReportOnly':_0x40fb8e(0x1db),'fileLoad_PasswordAuthentication':_0x40fb8e(0x1db),'contentLocationCheck':_0x40fb8e(0x1db),'globalBearerAutentication':_0x40fb8e(0x1db),'bcryptSaltRounds':_0x40fb8e(0x1de),'userFolderMaximumFiles':_0x40fb8e(0x1de),'userFolderMaximumSizeInMB':_0x40fb8e(0x1de),'recaptchaEnabled':'boolean','usersExportFrequency':_0x40fb8e(0x11c),'enableEmailVerification':'boolean','demoUserRetentionDaysAlertBeforeDeletion':'number','demoUserRetentionDays':_0x40fb8e(0x1de)},_0x175da4={},_0x5a1f27=Object['keys'](_0x14279c);_0x14279c[_0x40fb8e(0x27e)]&&_0x1177de[_0x40fb8e(0x116)](_0x40fb8e(0x2a1)),_0x14279c[_0x40fb8e(0x29d)]&&(_0x14e996['push'](_0x40fb8e(0x15f)),_0x14e996['push']('autoxchange_executable'),_0x14e996['push'](_0x40fb8e(0x182)),_0x14e996[_0x40fb8e(0x116)](_0x40fb8e(0x2a9))),!_0x14279c[_0x40fb8e(0x151)]&&_0x14e996[_0x40fb8e(0x116)]('callbackMethod_gatewayUrl'),!_0x14279c[_0x40fb8e(0x1c2)]&&(_0x14e996['push']('mysqlHost'),_0x14e996[_0x40fb8e(0x116)](_0x40fb8e(0x24f)),_0x14e996['push'](_0x40fb8e(0x21b)),_0x14e996[_0x40fb8e(0x116)](_0x40fb8e(0x1d7))),!_0x14279c[_0x40fb8e(0x200)]&&_0x14e996[_0x40fb8e(0x116)](_0x40fb8e(0x26f)),!_0x14279c['fileLoad_PasswordAuthentication']&&(_0x14e996[_0x40fb8e(0x116)](_0x40fb8e(0x1d9)),_0x14e996[_0x40fb8e(0x116)](_0x40fb8e(0x1a2))),!_0x14279c[_0x40fb8e(0x143)]&&_0x14e996[_0x40fb8e(0x116)](_0x40fb8e(0x231)),_0x5a1f27[_0x40fb8e(0x1ec)](_0x6f0f55=>{const _0x4ae570=_0x40fb8e;!_0x1177de[_0x4ae570(0x15b)](_0x6f0f55)&&(_0x175da4[_0x6f0f55]=_0x14279c[_0x6f0f55]);}),_0x175da4[_0x40fb8e(0x22c)]=''+_0x14279c[_0x40fb8e(0x2ae)]+_0x14279c[_0x40fb8e(0x132)],_0x15ef11[_0x40fb8e(0x222)](0xc8)[_0x40fb8e(0x266)]({'notEditableFields':_0x14e996,'customFieldTypes':_0x24afb3,'notHotEditableFields':_0x46f07e,'config':_0x175da4,'fieldsTitle':_0x57bf4d,'configData':_0x14279c});}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x149),protectedRoute,async(_0xf4c60a,_0x30bb91)=>{const _0x1f826f=a26_0x4cb3bf,_0xf92e8e=fs[_0x1f826f(0x187)](path[_0x1f826f(0x21a)](path[_0x1f826f(0x183)](require[_0x1f826f(0x238)][_0x1f826f(0x1ba)]),_0x1f826f(0x1ac)),'utf8'),_0x30c440=_0xf92e8e[_0x1f826f(0x1fb)](_0x1f826f(0x2b7),_0xf4c60a['version']);_0x30bb91[_0x1f826f(0x268)](_0x30c440);});function findMatchingLogFiles(_0x4f4af7,_0x1003bb=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0xf14d0a=a26_0x4cb3bf;try{const _0x48b662=fs[_0xf14d0a(0x250)](_0x4f4af7);return _0x48b662[_0xf14d0a(0x157)](_0x5d39f9=>_0x1003bb[_0xf14d0a(0x177)](_0x5d39f9))[_0xf14d0a(0x1b7)](_0x5b7c40=>_0x5b7c40[_0xf14d0a(0x1fb)]('call-Api_Conversion_','')[_0xf14d0a(0x1fb)](_0xf14d0a(0x120),''));}catch(_0x2b917a){return console[_0xf14d0a(0x2b2)](_0xf14d0a(0x26c),_0x2b917a),[];}}router[a26_0x4cb3bf(0x13a)](a26_0x4cb3bf(0x247),async(_0x159644,_0x4be9b8)=>{const _0x156a9d=a26_0x4cb3bf,_0x2bb3ae=new Date(),_0x3bf7b2=_0x2bb3ae['getDate']()['toString']()['padStart'](0x2,'0')+'_'+(_0x2bb3ae['getMonth']()+0x1)[_0x156a9d(0x255)]()[_0x156a9d(0x11a)](0x2,'0')+'_'+_0x2bb3ae[_0x156a9d(0x15a)](),{displayDay:_0x226efc}=_0x159644[_0x156a9d(0x1f5)],_0x3fea25=path[_0x156a9d(0x21a)](path[_0x156a9d(0x183)](require[_0x156a9d(0x238)]['filename']),_0x156a9d(0x28d),_0x156a9d(0x26d)+(_0x226efc??_0x3bf7b2)+_0x156a9d(0x120));fs[_0x156a9d(0x17d)](_0x3fea25)?fs[_0x156a9d(0x20a)](_0x3fea25,_0x156a9d(0x12b),function(_0x2b13e9,_0x2caadc){const _0x3128c2=_0x156a9d;_0x2b13e9&&_0x4be9b8[_0x3128c2(0x222)](0x1f4)['send'](_0x2b13e9),_0x4be9b8[_0x3128c2(0x222)](0xc8)['json']({'content':_0x2caadc,'days':findMatchingLogFiles(path[_0x3128c2(0x21a)](path[_0x3128c2(0x183)](require[_0x3128c2(0x238)][_0x3128c2(0x1ba)]),'logs'))});}):_0x4be9b8[_0x156a9d(0x222)](0xc8)[_0x156a9d(0x266)]({'content':'','days':findMatchingLogFiles(path[_0x156a9d(0x21a)](path[_0x156a9d(0x183)](require[_0x156a9d(0x238)][_0x156a9d(0x1ba)]),_0x156a9d(0x28d)))});}),router[a26_0x4cb3bf(0x28c)](a26_0x4cb3bf(0x272),async(_0x36897d,_0x4052ec)=>{const _0x4ec165=a26_0x4cb3bf,_0x2ec408=new Date(),_0x14e8ba=_0x2ec408[_0x4ec165(0x263)]()[_0x4ec165(0x255)]()['padStart'](0x2,'0')+'_'+(_0x2ec408[_0x4ec165(0x1b0)]()+0x1)[_0x4ec165(0x255)]()[_0x4ec165(0x11a)](0x2,'0')+'_'+_0x2ec408[_0x4ec165(0x15a)](),_0x446282=findMatchingLogFiles(path['join'](path[_0x4ec165(0x183)](require['main'][_0x4ec165(0x1ba)]),'logs'));_0x446282[_0x4ec165(0x1ec)](_0x5780a7=>{const _0x39e081=_0x4ec165;if(_0x5780a7!==_0x14e8ba)fs[_0x39e081(0x281)](path['join'](path[_0x39e081(0x183)](require['main'][_0x39e081(0x1ba)]),_0x39e081(0x28d),'call-Api_Conversion_'+_0x5780a7+'.log'));}),logStream[_0x4ec165(0x1f3)](),_0x4052ec[_0x4ec165(0x222)](0xc8)[_0x4ec165(0x266)]({'message':_0x4ec165(0x178)});}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x22a),protectedRoute,async(_0x4922ef,_0x432a3d)=>{const _0x47e6ac=a26_0x4cb3bf,_0x14b18a=path[_0x47e6ac(0x21a)](path[_0x47e6ac(0x183)](require[_0x47e6ac(0x238)][_0x47e6ac(0x1ba)]),_0x47e6ac(0x226));if(!fs[_0x47e6ac(0x17d)](_0x14b18a)){const _0x4e2c57={'jsonDataExtraction':{'standard':[{'paramName':_0x47e6ac(0x266),'paramValue':''},{'paramName':'blocks','paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x47e6ac(0x175)},{'paramName':_0x47e6ac(0x20c),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x47e6ac(0x29a)},{'paramName':_0x47e6ac(0x20c),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x47e6ac(0x175)},{'paramName':_0x47e6ac(0x20c),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x47e6ac(0x2a5),'paramValue':''}]}};fs[_0x47e6ac(0x244)](_0x14b18a,JSON[_0x47e6ac(0x131)](_0x4e2c57,null,0x4));}const _0x194a69=fs['readFileSync'](path['join'](path[_0x47e6ac(0x183)](require['main'][_0x47e6ac(0x1ba)]),_0x47e6ac(0x1b8)),_0x47e6ac(0x12b)),_0x863158=_0x194a69[_0x47e6ac(0x1fb)](_0x47e6ac(0x2b7),_0x4922ef['version']);_0x432a3d[_0x47e6ac(0x268)](_0x863158);}),router[a26_0x4cb3bf(0x13a)](a26_0x4cb3bf(0x201),async(_0xa44308,_0x36a612)=>{const _0x209872=a26_0x4cb3bf,{actionName:_0x455a28,contentLocation:_0x1c5fba}=_0xa44308[_0x209872(0x1f5)],_0x3a9437=path[_0x209872(0x21a)](path[_0x209872(0x183)](require[_0x209872(0x238)][_0x209872(0x1ba)]),'cadviewer/settings/rest-api-parameters.json');fs[_0x209872(0x20a)](_0x3a9437,_0x209872(0x12b),function(_0x25166b,_0x41972a){const _0x261cf0=_0x209872;if(_0x25166b)_0x36a612['status'](0xc8)['json']({'parameters':[]});else{const _0x47ce4d=JSON[_0x261cf0(0x270)](_0x41972a);if(_0x47ce4d[_0x455a28]&&_0x47ce4d[_0x455a28][_0x1c5fba])_0x36a612[_0x261cf0(0x222)](0xc8)[_0x261cf0(0x266)]({'parameters':_0x47ce4d[_0x455a28][_0x1c5fba]});else _0x47ce4d[_0x455a28]&&_0x47ce4d[_0x455a28][_0x261cf0(0x1ae)]?_0x36a612[_0x261cf0(0x222)](0xc8)[_0x261cf0(0x266)]({'parameters':_0x47ce4d[_0x455a28][_0x261cf0(0x1ae)]}):_0x36a612[_0x261cf0(0x222)](0xc8)['json']({'parameters':[]});}});}),router['post'](a26_0x4cb3bf(0x21c),async(_0x325030,_0x5948ee)=>{const _0x3e6bd9=a26_0x4cb3bf,{actionName:_0x49f382,contentLocation:_0x30b6e0,parameters:_0x1dd4ce}=_0x325030[_0x3e6bd9(0x1f5)],_0x558893=path['join'](path[_0x3e6bd9(0x183)](require[_0x3e6bd9(0x238)][_0x3e6bd9(0x1ba)]),_0x3e6bd9(0x226));fs['readFile'](_0x558893,_0x3e6bd9(0x12b),function(_0x586a77,_0x3e02af){const _0x1dad6e=_0x3e6bd9;if(_0x586a77)_0x5948ee[_0x1dad6e(0x222)](0x199)[_0x1dad6e(0x266)]({'message':'Error\x20saving\x20parameters.'});else{const _0x3ba641=JSON[_0x1dad6e(0x270)](_0x3e02af);!_0x3ba641[_0x49f382]&&(_0x3ba641[_0x49f382]={}),_0x3ba641[_0x49f382][_0x30b6e0]=_0x1dd4ce,fs[_0x1dad6e(0x1ee)](_0x558893,JSON[_0x1dad6e(0x131)](_0x3ba641,null,0x4),function(_0xd2b2e2){const _0x3aec70=_0x1dad6e;_0xd2b2e2&&_0x5948ee[_0x3aec70(0x222)](0x199)[_0x3aec70(0x266)]({'message':_0x3aec70(0x1eb)}),_0x5948ee[_0x3aec70(0x222)](0xc8)[_0x3aec70(0x266)]({'message':'Parameters\x20saved.'});});}});}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x254),protectedRoute,async(_0x21e0d2,_0x31cab4)=>{const _0x48ebfc=a26_0x4cb3bf,_0x5bb82b=fs['readFileSync'](path[_0x48ebfc(0x21a)](path['dirname'](require[_0x48ebfc(0x238)][_0x48ebfc(0x1ba)]),'cadviewer/settings/doctor.html'),'utf8'),_0x18255e=_0x5bb82b[_0x48ebfc(0x1fb)](_0x48ebfc(0x2b7),_0x21e0d2[_0x48ebfc(0x213)]);_0x31cab4['send'](_0x18255e);}),router[a26_0x4cb3bf(0x13a)](a26_0x4cb3bf(0x193),async(_0x2167bb,_0x3201bb)=>{const _0x45ca9f=a26_0x4cb3bf,_0x10c3a0=getHotConfig(),_0x2b7108=_0x10c3a0[_0x45ca9f(0x122)][_0x45ca9f(0x1fb)]('//','/'),_0x3fe071=_0x10c3a0[_0x45ca9f(0x169)]['replaceAll']('//','/'),_0x31dfa2=_0x10c3a0[_0x45ca9f(0x2aa)][_0x45ca9f(0x1fb)]('//','/'),_0x5d0b8c=''+_0x2b7108+_0x10c3a0[_0x45ca9f(0x2b6)],_0x4312f4=''+_0x3fe071+_0x10c3a0['dwgmerge_executable'],_0x5a4c45=''+_0x31dfa2+_0x10c3a0[_0x45ca9f(0x2a9)],_0x14b4a6=[],_0x87d66=new Promise(_0x16a48f=>{const _0x39129e=_0x45ca9f;exec(os[_0x39129e(0x2a1)]()===_0x39129e(0x205)?_0x39129e(0x1ca):'ls',_0x231a6d=>{const _0x2ae0a=_0x39129e;_0x231a6d?_0x14b4a6[_0x2ae0a(0x116)]({'title':_0x2ae0a(0x15d),'status':![],'priority':0x1}):_0x14b4a6[_0x2ae0a(0x116)]({'title':_0x2ae0a(0x15d),'status':!![],'priority':0x1}),_0x16a48f();});}),_0xb9618f=new Promise(_0x136d70=>{const _0x3fa4b2=_0x45ca9f;fs['access'](_0x5d0b8c,fs[_0x3fa4b2(0x1b4)][_0x3fa4b2(0x12e)],_0x2856e2=>{const _0x271ab3=_0x3fa4b2;_0x2856e2?_0x14b4a6['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x10c3a0[_0x271ab3(0x2b6)]+'\x22\x20executable','status':![],'priority':0x2}):_0x14b4a6[_0x271ab3(0x116)]({'title':_0x271ab3(0x28b)+_0x10c3a0['autoxchange_executable']+_0x271ab3(0x241),'status':!![],'priority':0x2}),_0x136d70();});}),_0x1f8ee7=new Promise(_0x3f1437=>{const _0x473e11=_0x45ca9f;fs['access'](_0x4312f4,fs[_0x473e11(0x1b4)][_0x473e11(0x12e)],_0x69c63f=>{const _0x38fcbe=_0x473e11;_0x69c63f?_0x14b4a6[_0x38fcbe(0x116)]({'title':_0x38fcbe(0x28b)+_0x10c3a0[_0x38fcbe(0x182)]+_0x38fcbe(0x241),'status':![],'priority':0x3}):_0x14b4a6[_0x38fcbe(0x116)]({'title':_0x38fcbe(0x28b)+_0x10c3a0[_0x38fcbe(0x182)]+'\x22\x20executable','status':!![],'priority':0x3}),_0x3f1437();});}),_0x37223c=new Promise(_0x3957e3=>{const _0x3e53ff=_0x45ca9f;fs[_0x3e53ff(0x19f)](_0x5a4c45,fs[_0x3e53ff(0x1b4)][_0x3e53ff(0x12e)],_0xd4791c=>{const _0x4cec58=_0x3e53ff;_0xd4791c?_0x14b4a6[_0x4cec58(0x116)]({'title':_0x4cec58(0x28b)+_0x10c3a0[_0x4cec58(0x2a9)]+_0x4cec58(0x241),'status':![],'priority':0x4}):_0x14b4a6['push']({'title':_0x4cec58(0x28b)+_0x10c3a0['linklist_executable']+_0x4cec58(0x241),'status':!![],'priority':0x4}),_0x3957e3();});}),_0x2290cb=new Promise(_0xb4102e=>{const _0x413117=_0x45ca9f,_0x35b198=new Date(),_0x392dec=_0x35b198[_0x413117(0x263)]()[_0x413117(0x255)]()[_0x413117(0x11a)](0x2,'0')+'_'+(_0x35b198[_0x413117(0x1b0)]()+0x1)[_0x413117(0x255)]()[_0x413117(0x11a)](0x2,'0')+'_'+_0x35b198[_0x413117(0x15a)](),{displayDay:_0x4d99c3}=_0x2167bb['body'];fs[_0x413117(0x19f)](path[_0x413117(0x21a)](path['dirname'](require[_0x413117(0x238)]['filename']),_0x413117(0x28d),_0x413117(0x26d)+(_0x4d99c3??_0x392dec)+_0x413117(0x120)),fs[_0x413117(0x1b4)][_0x413117(0x142)],_0xceac69=>{const _0x5dedef=_0x413117;_0xceac69?_0x14b4a6[_0x5dedef(0x116)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x4d99c3??_0x392dec)+_0x5dedef(0x1c6),'status':![],'priority':0x5}):_0x14b4a6[_0x5dedef(0x116)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x4d99c3??_0x392dec)+_0x5dedef(0x1c6),'status':!![],'priority':0x5}),_0xb4102e();});}),_0x4f47ac=(_0x4f41d4,_0x421bf3)=>{const _0x5e3a4f=_0x45ca9f,_0x245ce0=path[_0x5e3a4f(0x21a)](path[_0x5e3a4f(0x183)](require['main']['filename']),_0x4f41d4);return new Promise(_0x1e5382=>{const _0x610aa7=_0x5e3a4f;fs['access'](path['join'](path['dirname'](_0x245ce0)),fs[_0x610aa7(0x1b4)][_0x610aa7(0x212)]|fs[_0x610aa7(0x1b4)][_0x610aa7(0x142)],_0x3e051e=>{const _0x2bed6e=_0x610aa7;_0x3e051e?_0x14b4a6[_0x2bed6e(0x116)]({'title':_0x2bed6e(0x2b8)+_0x4f41d4,'status':![],'priority':_0x421bf3+0x6}):_0x14b4a6[_0x2bed6e(0x116)]({'title':_0x2bed6e(0x2b8)+_0x4f41d4,'status':!![],'priority':_0x421bf3+0x6}),_0x1e5382();});});},_0x286fd2=[_0x45ca9f(0x24e),_0x45ca9f(0x1a0),'/converters/files/merged/',_0x45ca9f(0x29c),_0x45ca9f(0x1df),_0x45ca9f(0x253),_0x45ca9f(0x1f0)],_0x18930f=_0x286fd2[_0x45ca9f(0x1b7)](_0x4f47ac);Promise[_0x45ca9f(0x130)]([_0x87d66,_0xb9618f,_0x1f8ee7,_0x37223c,_0x2290cb,..._0x18930f])[_0x45ca9f(0x1ce)](()=>{const _0x288aa8=_0x45ca9f;_0x3201bb[_0x288aa8(0x222)](0xc8)[_0x288aa8(0x266)]({'checking_list':_0x14b4a6});})[_0x45ca9f(0x217)](()=>{const _0xfc4390=_0x45ca9f;_0x3201bb[_0xfc4390(0x222)](0x1f4)[_0xfc4390(0x266)]({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x19c),protectedRoute,async(_0x57340f,_0x4b20c5)=>{const _0x58fc0e=a26_0x4cb3bf,_0x1abba2=fs['readFileSync'](path[_0x58fc0e(0x21a)](path[_0x58fc0e(0x183)](require[_0x58fc0e(0x238)][_0x58fc0e(0x1ba)]),_0x58fc0e(0x135)),_0x58fc0e(0x12b)),_0x24c657=_0x1abba2['replaceAll'](_0x58fc0e(0x2b7),_0x57340f[_0x58fc0e(0x213)]);_0x4b20c5['send'](_0x24c657);}),router[a26_0x4cb3bf(0x13a)](a26_0x4cb3bf(0x1a3),async(_0x3db161,_0x3ea935)=>{const _0x2d3ed4=a26_0x4cb3bf;let _0x28a8f7;try{const [_0x83c616]=await conn[_0x2d3ed4(0x13d)]()[_0x2d3ed4(0x119)](_0x2d3ed4(0x2a2),[]);_0x28a8f7=_0x83c616;}catch(_0x2715a5){console[_0x2d3ed4(0x295)](_0x2715a5),_0x3ea935[_0x2d3ed4(0x222)](0x1f4)['json']({'error':_0x2d3ed4(0x211)});return;}_0x3ea935[_0x2d3ed4(0x222)](0xc8)[_0x2d3ed4(0x266)]({'success':!![],'data':_0x28a8f7});}),router[a26_0x4cb3bf(0x13a)](a26_0x4cb3bf(0x19c),upload[a26_0x4cb3bf(0x271)](a26_0x4cb3bf(0x1b1)),async(_0xe6c322,_0x375f97)=>{const _0x3d683d=a26_0x4cb3bf,{id:_0x3527ab,first_name:_0x1b3cb2,last_name:_0x36e65a,username:_0x5a6c38,email:_0x189141,password:_0x58c20e,is_enabled:_0x3df7cd}=_0xe6c322['body'],_0x45c05a=_0xe6c322[_0x3d683d(0x1f5)]['role']==='admin'?_0x3d683d(0x159):_0xe6c322[_0x3d683d(0x1f5)][_0x3d683d(0x223)]==='demo_user'?_0x3d683d(0x145):_0x3d683d(0x209);let _0x2e00e5;console[_0x3d683d(0x295)](_0x3d683d(0x19d));_0x58c20e&&(_0x2e00e5=await bcrypt[_0x3d683d(0x19b)](_0x58c20e,0xa));let _0x58a758=null;if(_0xe6c322['file']){const _0x1eddf6='avatars/'+randomUUID()+_0x3d683d(0x291);fs[_0x3d683d(0x192)](_0xe6c322[_0x3d683d(0x260)][_0x3d683d(0x170)],'./'+_0x1eddf6),fs[_0x3d683d(0x281)](_0xe6c322[_0x3d683d(0x260)][_0x3d683d(0x170)]),config[_0x3d683d(0x151)]?_0x58a758=config[_0x3d683d(0x117)]+'/'+_0x1eddf6:_0x58a758=config[_0x3d683d(0x2ae)]+'/'+_0x1eddf6;}if(_0x3527ab){try{let [_0x19c51c]=await conn[_0x3d683d(0x13d)]()[_0x3d683d(0x119)](_0x3d683d(0x22e),[_0x189141,_0x5a6c38,_0x3527ab]);if(_0x19c51c['length']>0x0)_0x375f97[_0x3d683d(0x222)](0x199)[_0x3d683d(0x266)]({'error':_0x3d683d(0x276)});else{!_0xe6c322[_0x3d683d(0x260)]&&([_0x19c51c]=await conn[_0x3d683d(0x13d)]()[_0x3d683d(0x119)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x3527ab]),_0x58a758=_0x19c51c[0x0]['avatar_url']);const _0x324239=_0x3d683d(0x287)+(_0x58c20e?'`crypted_password`\x20=\x20?,\x20':'')+_0x3d683d(0x172);await conn['promise']()[_0x3d683d(0x119)](_0x324239,_0x58c20e?[_0x58a758,_0x1b3cb2,_0x36e65a,_0x5a6c38,_0x189141,_0x2e00e5,_0x3df7cd,_0x45c05a,_0x3527ab]:[_0x58a758,_0x1b3cb2,_0x36e65a,_0x5a6c38,_0x189141,_0x3df7cd,_0x45c05a,_0x3527ab]);}}catch(_0x273249){console[_0x3d683d(0x295)](_0x273249),_0x375f97['status'](0x1f4)[_0x3d683d(0x266)]({'error':_0x3d683d(0x211)});return;}_0x375f97[_0x3d683d(0x222)](0xc8)['json']({'success':!![],'message':_0x3d683d(0x10d)});}else{try{const [_0x15d89f]=await conn['promise']()[_0x3d683d(0x119)](_0x3d683d(0x29f),[_0x189141,_0x5a6c38]);if(_0x15d89f[_0x3d683d(0x27d)]>0x0)_0x375f97[_0x3d683d(0x222)](0x199)[_0x3d683d(0x266)]({'error':_0x3d683d(0x276)});else{const _0x59e122=randomUUID();await conn[_0x3d683d(0x13d)]()[_0x3d683d(0x119)](_0x3d683d(0x1fd),[_0x58a758,_0x1b3cb2,_0x36e65a,_0x5a6c38,_0x189141,_0x2e00e5,_0x45c05a,_0x3df7cd,_0x59e122]);const _0x31c5dd='./uploads/'+_0x59e122;fs[_0x3d683d(0x298)](_0x31c5dd);}}catch(_0x366b6b){console[_0x3d683d(0x295)](_0x366b6b),_0x375f97[_0x3d683d(0x222)](0x1f4)[_0x3d683d(0x266)]({'error':_0x3d683d(0x211)});return;}_0x375f97[_0x3d683d(0x222)](0xc8)[_0x3d683d(0x266)]({'success':!![],'message':_0x3d683d(0x262)});}}),router[a26_0x4cb3bf(0x28c)](a26_0x4cb3bf(0x274),async(_0x44c630,_0x4bde4b)=>{const _0x30417f=a26_0x4cb3bf,{userId:_0x346e88}=_0x44c630[_0x30417f(0x1f5)];let _0x3934a7;try{const [_0x46ad8c]=await conn[_0x30417f(0x13d)]()[_0x30417f(0x119)](_0x30417f(0x1c5),[_0x346e88]);_0x46ad8c[_0x30417f(0x27d)]>0x0&&(_0x3934a7=_0x46ad8c[0x0]);}catch(_0x124a42){console[_0x30417f(0x295)]({'err':_0x124a42}),_0x4bde4b[_0x30417f(0x222)](0x1f4)[_0x30417f(0x266)]({'error':_0x30417f(0x211)});return;}if(!_0x3934a7){_0x4bde4b[_0x30417f(0x222)](0x191)[_0x30417f(0x266)]({'error':'Invalid\x20user'});return;}let _0xc8430f=_0x3934a7[_0x30417f(0x176)];if(!_0xc8430f){_0xc8430f=randomUUID();try{await conn['promise']()['execute'](_0x30417f(0x239),[_0xc8430f,_0x346e88]);}catch(_0x51ce7c){console['log']({'err':_0x51ce7c}),_0x4bde4b['status'](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x1afe8d='./uploads/'+_0xc8430f;console[_0x30417f(0x295)](_0x30417f(0x261)),console['log'](_0x1afe8d),!fs[_0x30417f(0x17d)](_0x1afe8d)&&fs[_0x30417f(0x298)](_0x1afe8d),cleanCacheForUserFiles(_0x1afe8d),fs[_0x30417f(0x237)](_0x1afe8d,{'recursive':!![],'force':!![]}),fs[_0x30417f(0x298)](_0x1afe8d),_0x4bde4b[_0x30417f(0x222)](0xc8)['json']({'success':!![],'message':_0x30417f(0x1cd)});}),router[a26_0x4cb3bf(0x28c)]('/users/:userId',async(_0x378de0,_0x20656d)=>{const _0x392e8c=a26_0x4cb3bf,_0xfcfb9f=_0x378de0[_0x392e8c(0x127)][_0x392e8c(0x167)];try{let _0x1690fc;try{const [_0x2fe2b6]=await conn['promise']()['execute'](_0x392e8c(0x1c5),[_0xfcfb9f]);_0x2fe2b6[_0x392e8c(0x27d)]>0x0&&(_0x1690fc=_0x2fe2b6[0x0]);}catch(_0x586193){console[_0x392e8c(0x295)]({'err':_0x586193}),_0x20656d['status'](0x1f4)[_0x392e8c(0x266)]({'error':_0x392e8c(0x211)});return;}if(!_0x1690fc){_0x20656d[_0x392e8c(0x222)](0x191)[_0x392e8c(0x266)]({'error':_0x392e8c(0x285)});return;}let _0x24af5f=_0x1690fc[_0x392e8c(0x176)];if(_0x24af5f){const _0x5de374='./uploads/'+_0x24af5f;fs[_0x392e8c(0x17d)](_0x5de374)&&(cleanCacheForUserFiles(_0x5de374),fs['rmSync'](_0x5de374,{'recursive':!![],'force':!![]}));}await conn[_0x392e8c(0x13d)]()[_0x392e8c(0x119)](_0x392e8c(0x18d),[_0xfcfb9f]);}catch(_0x7a348){console[_0x392e8c(0x295)](_0x7a348),_0x20656d['status'](0x1f4)[_0x392e8c(0x266)]({'error':_0x392e8c(0x211)});return;}_0x20656d[_0x392e8c(0x222)](0xc8)[_0x392e8c(0x266)]({'success':!![],'message':'User\x20deleted\x20successfully'});}),router[a26_0x4cb3bf(0x26a)]('/metrics',async(_0x4085c5,_0x1e3607)=>{const _0x421771=a26_0x4cb3bf,_0x123a9b=osu[_0x421771(0x1c0)],_0x26ba17=osu[_0x421771(0x161)],_0x50cdb3=osu[_0x421771(0x214)],_0x246492=osu['os'],_0x3fcd4f={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x4fff7d=os[_0x421771(0x2a1)]()===_0x421771(0x205)?'c:':'/';const _0x4edbd9=await _0x50cdb3[_0x421771(0x15e)](_0x4fff7d);_0x3fcd4f['percentage']=_0x4edbd9['usedPercentage'],_0x3fcd4f[_0x421771(0x17f)]=_0x4edbd9[_0x421771(0x17a)],_0x3fcd4f[_0x421771(0x23a)]=_0x4edbd9['freeGb'],_0x3fcd4f['totalGB']=_0x4edbd9[_0x421771(0x1b5)];}catch(_0x1d9dfb){console[_0x421771(0x295)](_0x421771(0x232),_0x1d9dfb);}const _0x303f5e={'usage':0x0,'count':0x0};try{_0x303f5e[_0x421771(0x25f)]=await _0x123a9b['usage'](),_0x303f5e[_0x421771(0x27f)]=_0x123a9b[_0x421771(0x27f)]();}catch(_0x3c2463){console['log'](_0x421771(0x165),_0x3c2463);}const _0x29b2a7={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x29b2a7['os']=await _0x246492['oos'](),_0x29b2a7[_0x421771(0x2a1)]=_0x246492[_0x421771(0x2a1)](),_0x29b2a7['ip']=_0x246492['ip'](),_0x29b2a7[_0x421771(0x1cc)]=_0x246492[_0x421771(0x1cc)](),_0x29b2a7[_0x421771(0x264)]=_0x246492['hostname'](),_0x29b2a7[_0x421771(0x1dd)]=_0x246492[_0x421771(0x1dd)](),_0x29b2a7[_0x421771(0x140)]=_0x246492['arch'](),_0x29b2a7[_0x421771(0x136)]=await osu['osCmd'][_0x421771(0x136)](),_0x29b2a7[_0x421771(0x21e)]=await osu[_0x421771(0x227)][_0x421771(0x21e)](),_0x29b2a7['vmstats']=await osu[_0x421771(0x227)][_0x421771(0x23b)]();}catch(_0x215992){console[_0x421771(0x295)]('Error\x20getting\x20os\x20info',_0x215992);}const _0x584693={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x584693[_0x421771(0x141)]=await osu[_0x421771(0x28f)][_0x421771(0x141)](),_0x584693[_0x421771(0x1b9)]=await osu[_0x421771(0x28f)][_0x421771(0x1b9)]();}catch(_0x5b1c08){console[_0x421771(0x295)](_0x421771(0x1d3),_0x5b1c08);}let _0x751bcb={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x1db21a=await _0x26ba17['info']();_0x751bcb['usedMemPercentage']=_0x1db21a[_0x421771(0x2b9)],_0x751bcb[_0x421771(0x112)]=_0x1db21a[_0x421771(0x296)]/0x400/0x400,_0x751bcb[_0x421771(0x2b5)]=_0x1db21a[_0x421771(0x1c3)]/0x400/0x400;}catch(_0x41225a){console[_0x421771(0x295)](_0x421771(0x1ea),_0x41225a);}let _0x2c1796=0x0;try{_0x2c1796=await conn[_0x421771(0x13d)]()[_0x421771(0x283)](_0x421771(0x1d4))[_0x421771(0x1ce)](([_0x1db5bd])=>_0x1db5bd[0x0][_0x421771(0x1c3)]);}catch(_0x18372b){console[_0x421771(0x295)]('Error\x20getting\x20total\x20users',_0x18372b);}const _0xae2b34=getMonitoringData(),_0x472ec9=_0xae2b34[_0x421771(0x157)](_0x2a39ea=>_0x2a39ea[_0x421771(0x1e5)]!==null&&_0x2a39ea[_0x421771(0x1e5)]!==undefined),_0x13264d=_0xae2b34[_0x421771(0x157)](_0x119ec7=>_0x119ec7[_0x421771(0x1b6)]!==null&&_0x119ec7[_0x421771(0x1b6)]!==undefined)[_0x421771(0x1b7)](_0x21ab25=>parseFloat(_0x21ab25[_0x421771(0x1b6)]['replaceAll']('Kb')[_0x421771(0x1c1)]())),_0x16e87d=_0x472ec9[_0x421771(0x188)]((_0x51f7c4,_0x38dc5a)=>_0x51f7c4+parseFloat(_0x38dc5a[_0x421771(0x1e5)]),0x0)/_0x472ec9['length'],_0x49c62e=_0x13264d[_0x421771(0x188)]((_0x3c8382,_0xf27c0d)=>_0x3c8382+_0xf27c0d,0x0)/_0x13264d[_0x421771(0x27d)];_0x1e3607[_0x421771(0x266)]({'requestsPerSecond':counter[_0x421771(0x25d)](),'diskUsage':_0x3fcd4f,'cpus':_0x303f5e,'system':_0x29b2a7,'process':_0x584693,'totalMonitoringData':_0xae2b34[_0x421771(0x27d)],'memory':_0x751bcb,'totalUsers':_0x2c1796,'avgConvertionTime':_0x16e87d,'avgMemoryUsage':_0x49c62e});}),router[a26_0x4cb3bf(0x13a)]('/metrics/reset',(_0x54983a,_0x3ffa53)=>{const _0xc7c384=a26_0x4cb3bf;counter[_0xc7c384(0x174)](),_0x3ffa53[_0xc7c384(0x266)]({'message':_0xc7c384(0x11b)});});const getMonitoringData=()=>{const _0xcf5e19=a26_0x4cb3bf,_0x3fa311=_0xcf5e19(0x2a3);let _0x2167b1=[];try{_0x2167b1=JSON[_0xcf5e19(0x270)](fs[_0xcf5e19(0x187)](_0x3fa311));}catch(_0x2be607){console['log'](_0xcf5e19(0x158));}return _0x2167b1;};router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x162),async(_0x4942f2,_0x41ee86)=>{const _0xa8cba8=a26_0x4cb3bf,{page:page=0x1,limit:limit=0xa}=_0x4942f2[_0xa8cba8(0x283)],_0x56253d=(page-0x1)*limit;try{const _0xf2b3=getMonitoringData(),_0x387305=_0xf2b3[_0xa8cba8(0x27d)],_0x11e92f=Math['ceil'](_0x387305/limit),_0x4fc5c2=_0xf2b3[_0xa8cba8(0x110)](_0x56253d,_0x56253d+limit);_0x41ee86[_0xa8cba8(0x222)](0xc8)[_0xa8cba8(0x266)]({'data':_0x4fc5c2,'page':parseInt(''+page),'totalPages':_0x11e92f,'total':_0x387305});}catch(_0x51d708){console['log'](_0x51d708),_0x41ee86[_0xa8cba8(0x222)](0x1f4)[_0xa8cba8(0x266)]({'error':_0xa8cba8(0x211)});}}),router[a26_0x4cb3bf(0x28c)]('/conversion/clean',async(_0x1f443e,_0xe90a3f)=>{const _0x4091b6=a26_0x4cb3bf,_0x504de8=_0x4091b6(0x2a3);try{fs[_0x4091b6(0x244)](_0x504de8,JSON[_0x4091b6(0x131)]([],null,0x4)),analyzeConverterFiles(),_0xe90a3f['status'](0xc8)[_0x4091b6(0x266)]({'message':_0x4091b6(0x1cf)});}catch(_0x476b99){console[_0x4091b6(0x295)](_0x476b99),_0xe90a3f['status'](0x1f4)[_0x4091b6(0x266)]({'error':_0x4091b6(0x211)});}}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x18e),async(_0x472d96,_0x4f24fc)=>{const _0x20d03b=a26_0x4cb3bf,_0x597a73=getHotConfig()['converterLocation'][_0x20d03b(0x1fb)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x472d96[_0x20d03b(0x283)],_0x430dc5=(page-0x1)*limit;try{const _0x3ec16a=_0x597a73+_0x20d03b(0x292);console[_0x20d03b(0x295)](_0x3ec16a);const _0x1b2fed=fs[_0x20d03b(0x187)](_0x3ec16a,_0x20d03b(0x12b)),_0x337b55=_0x1b2fed['split']('\x0a'),_0x4d66ae=[];_0x337b55['forEach'](_0x2f7648=>{const _0x547906=_0x2f7648['split'](',');if(_0x547906['length']<0x4)return;const _0x544d91=_0x547906[0x0],_0x31d46b=_0x547906[0x1],_0x5f24bd=parseFloat(_0x547906[0x2]);_0x4d66ae['push']({'file':_0x544d91['replaceAll']('\x22',''),'action':_0x31d46b,'timeSpend':_0x5f24bd,'memoryUsage':_0x547906[0x3]});});const _0x4aee75=_0x4d66ae[_0x20d03b(0x27d)],_0x4bc653=Math['ceil'](_0x4aee75/limit),_0x2ee7a2=_0x4d66ae[_0x20d03b(0x110)](_0x430dc5,_0x430dc5+limit);_0x4f24fc['status'](0xc8)[_0x20d03b(0x266)]({'data':_0x2ee7a2,'page':parseInt(''+page),'totalPages':_0x4bc653,'total':_0x4aee75});}catch(_0x494af9){console[_0x20d03b(0x295)](_0x494af9),_0x4f24fc['status'](0x1f4)[_0x20d03b(0x266)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x139),async(_0x466209,_0x321439)=>{const _0x35dc6c=a26_0x4cb3bf,_0x396290=path[_0x35dc6c(0x21a)](path['dirname'](require[_0x35dc6c(0x238)][_0x35dc6c(0x1ba)]),_0x35dc6c(0x1e8),_0x35dc6c(0x218));try{let _0xa0d0f2=0x0,_0x379ca7=0x0;function _0x498c80(_0x448a6c){const _0x4248db=_0x35dc6c;let _0x58ed34=0x0,_0xb6b15a=0x0;if(fs['existsSync'](_0x448a6c)){const _0x2d1750=fs['readdirSync'](_0x448a6c);_0xb6b15a=0x0;for(const _0xeb4837 of _0x2d1750){const _0x468f14=path[_0x4248db(0x21a)](_0x448a6c,_0xeb4837),_0x4b55a0=fs['statSync'](_0x468f14);if(_0x4b55a0['isFile']()&&_0xeb4837!==_0x4248db(0x185))_0xb6b15a++,_0x58ed34+=_0x4b55a0[_0x4248db(0x115)];else{if(_0x4b55a0[_0x4248db(0x190)]()){}}}}return{'size':_0x58ed34,'count':_0xb6b15a};}const _0x60cc2=_0x498c80(_0x396290);_0xa0d0f2=_0x60cc2[_0x35dc6c(0x115)],_0x379ca7=_0x60cc2['count'],_0x321439[_0x35dc6c(0x266)]({'fileCount':_0x379ca7,'totalSize':_0xa0d0f2});}catch(_0x1d4c92){console[_0x35dc6c(0x2b2)](_0x35dc6c(0x1ed),_0x1d4c92),_0x321439[_0x35dc6c(0x222)](0x1f4)[_0x35dc6c(0x266)]({'error':_0x35dc6c(0x164)});}}),router['delete'](a26_0x4cb3bf(0x16f),async(_0x2d5f9b,_0x403e3e)=>{const _0x4ace88=a26_0x4cb3bf,_0x1d11bf=path[_0x4ace88(0x21a)](path['dirname'](require[_0x4ace88(0x238)]['filename']),'converters',_0x4ace88(0x218));try{function _0x20aecc(_0x348b81){const _0x53342e=_0x4ace88;if(fs['existsSync'](_0x348b81)){const _0x5a5311=fs[_0x53342e(0x250)](_0x348b81);for(const _0x33ed8d of _0x5a5311){const _0x54ea3e=path['join'](_0x348b81,_0x33ed8d),_0x1c3070=fs[_0x53342e(0x269)](_0x54ea3e);if(_0x1c3070[_0x53342e(0x190)]()){}else _0x33ed8d!==_0x53342e(0x185)&&fs[_0x53342e(0x281)](_0x54ea3e);}}}_0x20aecc(_0x1d11bf),analyzeConverterFiles(),_0x403e3e[_0x4ace88(0x266)]({'message':_0x4ace88(0x18a)});}catch(_0x3f2be4){console['error']('Error\x20flushing\x20cache:',_0x3f2be4),_0x403e3e[_0x4ace88(0x222)](0x1f4)[_0x4ace88(0x266)]({'error':_0x4ace88(0x1c7)});}}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x258),async(_0x5758cc,_0xc13075)=>{const _0x561425=a26_0x4cb3bf;_0xc13075[_0x561425(0x22b)](path['join'](path[_0x561425(0x183)](require[_0x561425(0x238)][_0x561425(0x1ba)]),'cadviewer/settings/cache-stats.js'));}),router[a26_0x4cb3bf(0x26a)]('/cache',protectedRoute,async(_0x26ef86,_0x312fa1)=>{const _0x54b98d=a26_0x4cb3bf,_0x59aa0a=fs[_0x54b98d(0x187)](path[_0x54b98d(0x21a)](path['dirname'](require[_0x54b98d(0x238)][_0x54b98d(0x1ba)]),_0x54b98d(0x168)),_0x54b98d(0x12b)),_0x41bef1=_0x59aa0a[_0x54b98d(0x1fb)](_0x54b98d(0x2b7),_0x26ef86['version']);_0x312fa1['send'](_0x41bef1);}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x13f),async(_0x150775,_0x4953d1)=>{const _0x5b9c93=a26_0x4cb3bf,{page:page=0x1,limit:limit=0x10}=_0x150775['query'],_0x13538c=JSON['parse'](fs[_0x5b9c93(0x187)](path[_0x5b9c93(0x21a)](path[_0x5b9c93(0x183)](require[_0x5b9c93(0x238)][_0x5b9c93(0x1ba)]),_0x5b9c93(0x18c)))),_0x3d6a92=(page-0x1)*limit,_0x5ba03d=page*limit,_0xb673a8=_0x13538c['files'][_0x5b9c93(0x27d)],_0x443137=Math[_0x5b9c93(0x1fa)](_0xb673a8/limit),_0x126ce1=_0x13538c['files'][_0x5b9c93(0x110)](_0x3d6a92,_0x5ba03d);_0x4953d1[_0x5b9c93(0x266)]({'files':_0x126ce1,'pagination':{'total':_0xb673a8,'totalPages':_0x443137,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router['get'](a26_0x4cb3bf(0x1f9),async(_0x3c0fe5,_0x1d8a9e)=>{const _0x4d0677=a26_0x4cb3bf,{file:_0x31d67f}=_0x3c0fe5[_0x4d0677(0x127)],_0x241b9e=path['join'](path[_0x4d0677(0x183)](require[_0x4d0677(0x238)][_0x4d0677(0x1ba)]),_0x4d0677(0x1e8),_0x4d0677(0x218)),_0xa0c72b=path[_0x4d0677(0x21a)](_0x241b9e,_0x31d67f),_0xecb226=fs[_0x4d0677(0x187)](_0xa0c72b,'utf8'),_0x27b131=_0xecb226['split']('\x0a'),_0x333c8f=_0x27b131[_0x4d0677(0x1b7)](_0x2eed4c=>{const _0x53fdc7=_0x4d0677,_0x4d325d=_0x2eed4c[_0x53fdc7(0x230)](',');return _0x4d325d['map'](_0x19f266=>_0x19f266[_0x53fdc7(0x1fb)]('\x22',''));});_0x1d8a9e[_0x4d0677(0x266)](_0x333c8f);}),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x28e),async(_0x3fcf2f,_0x354fcf)=>{const _0x2ad729=a26_0x4cb3bf,{id:_0x21c8ad}=_0x3fcf2f[_0x2ad729(0x127)],_0xd84339=path[_0x2ad729(0x21a)](path['dirname'](require[_0x2ad729(0x238)][_0x2ad729(0x1ba)]),_0x2ad729(0x1e8),_0x2ad729(0x218)),_0x26459f=path[_0x2ad729(0x21a)](_0xd84339,_0x21c8ad);if(_0x26459f[_0x2ad729(0x284)]('.svgz')){var _0x8565ce=require(_0x2ad729(0x113));const _0x46aacd=fs[_0x2ad729(0x187)](_0x26459f),_0x46473d=_0x8565ce[_0x2ad729(0x2b4)](_0x46aacd);_0x354fcf[_0x2ad729(0x25a)](_0x2ad729(0x12f),_0x2ad729(0x257)),_0x354fcf['send'](_0x46473d);}else _0x354fcf[_0x2ad729(0x22b)](_0x26459f);}),router[a26_0x4cb3bf(0x28c)]('/cache/files/:id',async(_0xabe359,_0x4bbb3b)=>{const _0x529ebb=a26_0x4cb3bf,{id:_0x39ba78}=_0xabe359[_0x529ebb(0x127)],_0x2e6552=path[_0x529ebb(0x21a)](path['dirname'](require['main'][_0x529ebb(0x1ba)]),_0x529ebb(0x1e8),_0x529ebb(0x218)),_0x2fc9a6=JSON[_0x529ebb(0x270)](fs[_0x529ebb(0x187)](path[_0x529ebb(0x21a)](path[_0x529ebb(0x183)](require[_0x529ebb(0x238)][_0x529ebb(0x1ba)]),'cadviewer/settings/converter-files-analysis.json'))),_0x18008a=_0x2fc9a6['files'][_0x529ebb(0x2ab)](_0x19e2ba=>_0x19e2ba[_0x529ebb(0x1da)]===_0x39ba78);if(_0x18008a){try{fs[_0x529ebb(0x17d)](path[_0x529ebb(0x21a)](_0x2e6552,_0x18008a[_0x529ebb(0x1da)]))&&fs['unlinkSync'](path[_0x529ebb(0x21a)](_0x2e6552,_0x18008a[_0x529ebb(0x1da)]));}catch(_0x3bed1c){console[_0x529ebb(0x295)](_0x529ebb(0x150),{'e':_0x3bed1c});}(_0x18008a['availableFormats']??[])[_0x529ebb(0x1ec)](_0x1bbcd6=>{const _0x5c0afa=_0x529ebb;try{fs[_0x5c0afa(0x17d)](path[_0x5c0afa(0x21a)](_0x2e6552,_0x1bbcd6['id']))&&fs[_0x5c0afa(0x281)](path[_0x5c0afa(0x21a)](_0x2e6552,_0x1bbcd6['id']));}catch(_0x419616){console[_0x5c0afa(0x295)]('Error\x20deleting\x20file',{'e':_0x419616});}});}analyzeConverterFiles(),_0x4bbb3b[_0x529ebb(0x266)]({'message':'File\x20deleted\x20successfully'});});const deleteOldDemoUsers=async()=>{const _0x233da0=a26_0x4cb3bf;console[_0x233da0(0x295)](_0x233da0(0x163));const _0x4d56eb=config[_0x233da0(0x2a8)],_0x3657aa='SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)';try{const [_0x493bfd]=await conn[_0x233da0(0x13d)]()[_0x233da0(0x119)](_0x3657aa,[_0x4d56eb]),_0x538a0a=_0x493bfd[_0x233da0(0x1b7)](_0x325cd5=>_0x325cd5[_0x233da0(0x176)]),_0x52312c=_0x493bfd[_0x233da0(0x1b7)](_0x347d63=>_0x347d63[_0x233da0(0x236)]);console['log'](_0x52312c),await conn['promise']()[_0x233da0(0x119)](_0x233da0(0x20f),[_0x4d56eb]),_0x538a0a[_0x233da0(0x1ec)](_0x1f0523=>{const _0x311f7c=_0x233da0;try{const _0x4251a7=_0x311f7c(0x196)+_0x1f0523;cleanCacheForUserFiles(_0x4251a7),fs[_0x311f7c(0x1d5)](_0x4251a7);}catch(_0x2245d9){console[_0x311f7c(0x2b2)](_0x311f7c(0x243),_0x2245d9);}}),console[_0x233da0(0x295)]('Old\x20demo_user\x20accounts\x20('+_0x493bfd[_0x233da0(0x27d)]+')\x20older\x20than\x20'+_0x4d56eb+_0x233da0(0x2b3));}catch(_0x20b653){console[_0x233da0(0x2b2)]('Error\x20deleting\x20old\x20demo_user\x20accounts:',_0x20b653);}};schedule[a26_0x4cb3bf(0x26e)]('0\x201\x20*\x20*\x20*',deleteOldDemoUsers),router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x2af),protectedRoute,async(_0x431225,_0x273a5c)=>{const _0x4ae518=a26_0x4cb3bf,_0x4742fd=fs[_0x4ae518(0x187)](path[_0x4ae518(0x21a)](path[_0x4ae518(0x183)](require[_0x4ae518(0x238)]['filename']),_0x4ae518(0x220)),_0x4ae518(0x12b)),_0x42ad47=_0x4742fd[_0x4ae518(0x1fb)](_0x4ae518(0x2b7),_0x431225[_0x4ae518(0x213)]);_0x273a5c['send'](_0x42ad47);});const exportUsersList=async()=>{const _0x5d77aa=a26_0x4cb3bf;console[_0x5d77aa(0x295)](_0x5d77aa(0x245));const _0x516a7b=path[_0x5d77aa(0x21a)](path[_0x5d77aa(0x183)](require[_0x5d77aa(0x238)]['filename']),_0x5d77aa(0x14d));!fs[_0x5d77aa(0x17d)](_0x516a7b)&&fs[_0x5d77aa(0x298)](_0x516a7b);const _0x4c1bbf=config[_0x5d77aa(0x1a4)]||_0x5d77aa(0x14a);let _0x2389b9;const _0x299978=path['join'](_0x516a7b,_0x5d77aa(0x11e));if(fs['existsSync'](_0x299978))try{const _0x1aadcc=JSON[_0x5d77aa(0x270)](fs['readFileSync'](_0x299978,'utf8'));_0x2389b9=new Date(_0x1aadcc[_0x5d77aa(0x156)]);}catch(_0x229f0d){console[_0x5d77aa(0x2b2)]('Error\x20reading\x20last\x20export\x20info:',_0x229f0d),_0x2389b9=calculateDefaultLastExportDate(_0x4c1bbf);}else _0x2389b9=calculateDefaultLastExportDate(_0x4c1bbf);const _0x25c516=new Date(),_0x33f92c=_0x25c516[_0x5d77aa(0x15a)]()+'-'+String(_0x25c516[_0x5d77aa(0x1b0)]()+0x1)[_0x5d77aa(0x11a)](0x2,'0')+'-'+String(_0x25c516[_0x5d77aa(0x263)]())[_0x5d77aa(0x11a)](0x2,'0'),_0x4092c0=_0x5d77aa(0x1d0)+_0x33f92c+_0x5d77aa(0x235),_0x2e06ee=path[_0x5d77aa(0x21a)](_0x516a7b,_0x4092c0);try{const _0x4bc2f1=_0x5d77aa(0x194),[_0x26eb78]=await conn[_0x5d77aa(0x13d)]()[_0x5d77aa(0x119)](_0x4bc2f1,[_0x2389b9]);if(_0x26eb78[_0x5d77aa(0x27d)]===0x0){console['log'](_0x5d77aa(0x228));return;}let _0x2498ac=_0x5d77aa(0x225);_0x26eb78['forEach'](_0x41873d=>{const _0x4f7cd7=_0x5d77aa,_0x1c8f60=_0x41873d[_0x4f7cd7(0x236)]?'\x22'+_0x41873d['email'][_0x4f7cd7(0x1a6)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x48032a=_0x41873d[_0x4f7cd7(0x19e)]?'\x22'+_0x41873d[_0x4f7cd7(0x19e)][_0x4f7cd7(0x1a6)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x3639e0=_0x41873d[_0x4f7cd7(0x20d)]?'\x22'+_0x41873d[_0x4f7cd7(0x20d)][_0x4f7cd7(0x1a6)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x2498ac+=_0x1c8f60+','+_0x48032a+','+_0x3639e0+'\x0a';}),fs[_0x5d77aa(0x244)](_0x2e06ee,_0x2498ac),console[_0x5d77aa(0x295)]('Exported\x20'+_0x26eb78[_0x5d77aa(0x27d)]+_0x5d77aa(0x1d6)+_0x2e06ee);const _0x58d62a={'lastExportDate':_0x25c516[_0x5d77aa(0x1e3)](),'fileName':_0x4092c0,'userCount':_0x26eb78[_0x5d77aa(0x27d)]};fs[_0x5d77aa(0x244)](_0x299978,JSON['stringify'](_0x58d62a,null,0x2));}catch(_0x1b380b){console['error'](_0x5d77aa(0x17c),_0x1b380b);}},calculateDefaultLastExportDate=_0x31a078=>{const _0x5877e7=a26_0x4cb3bf,_0x28ee76=new Date();return _0x31a078===_0x5877e7(0x14b)?_0x28ee76[_0x5877e7(0x118)](_0x28ee76[_0x5877e7(0x263)]()-0xe):_0x28ee76[_0x5877e7(0x124)](_0x28ee76[_0x5877e7(0x1b0)]()-0x1),_0x28ee76;};router[a26_0x4cb3bf(0x26a)](a26_0x4cb3bf(0x22d),async(_0x501304,_0x466f08)=>{const _0x29fc4c=a26_0x4cb3bf,_0x635bcd=path['join'](path[_0x29fc4c(0x183)](require[_0x29fc4c(0x238)][_0x29fc4c(0x1ba)]),_0x29fc4c(0x14d));if(!fs['existsSync'](_0x635bcd))return _0x466f08[_0x29fc4c(0x222)](0xc8)['json']({'exports':[]});try{const _0x4f55a1=fs[_0x29fc4c(0x250)](_0x635bcd)[_0x29fc4c(0x157)](_0x5b5ee2=>_0x5b5ee2[_0x29fc4c(0x1af)](_0x29fc4c(0x1d0))&&_0x5b5ee2[_0x29fc4c(0x284)](_0x29fc4c(0x235)))[_0x29fc4c(0x1b7)](_0x52131b=>{const _0x53046a=_0x29fc4c,_0x5e8ee6=path[_0x53046a(0x21a)](_0x635bcd,_0x52131b),_0x4d9469=fs[_0x53046a(0x269)](_0x5e8ee6),_0x1b04a8=fs['readFileSync'](_0x5e8ee6,_0x53046a(0x12b)),_0x1b466c=_0x1b04a8['split']('\x0a')[_0x53046a(0x27d)]-0x1;return{'fileName':_0x52131b,'createdAt':_0x4d9469[_0x53046a(0x181)],'userCount':_0x1b466c};})['sort']((_0x3b0ecb,_0xd76638)=>_0xd76638[_0x29fc4c(0x184)]-_0x3b0ecb[_0x29fc4c(0x184)]);_0x466f08['status'](0xc8)[_0x29fc4c(0x266)]({'exports':_0x4f55a1});}catch(_0x4dfbec){console[_0x29fc4c(0x2b2)]('Error\x20getting\x20Users\x20export\x20export\x20history:',_0x4dfbec),_0x466f08[_0x29fc4c(0x222)](0x1f4)['json']({'error':'Failed\x20to\x20retrieve\x20export\x20history'});}}),router['post'](a26_0x4cb3bf(0x1f4),async(_0x4bfbd8,_0x1ac2a4)=>{const _0x28f48f=a26_0x4cb3bf;try{await exportUsersList(),_0x1ac2a4[_0x28f48f(0x222)](0xc8)[_0x28f48f(0x266)]({'message':'Users\x20export\x20triggered\x20successfully'});}catch(_0xedc93a){console[_0x28f48f(0x2b2)](_0x28f48f(0x154),_0xedc93a),_0x1ac2a4[_0x28f48f(0x222)](0x1f4)[_0x28f48f(0x266)]({'error':_0x28f48f(0x280)});}}),router['get'](a26_0x4cb3bf(0x1c9),async(_0x14eeec,_0x1ed6bc)=>{const _0x461cd1=a26_0x4cb3bf,{fileName:_0x6c1d7d}=_0x14eeec[_0x461cd1(0x127)],_0x1f59f7=path[_0x461cd1(0x21a)](path['dirname'](require[_0x461cd1(0x238)][_0x461cd1(0x1ba)]),'exports',_0x6c1d7d);if(!fs[_0x461cd1(0x17d)](_0x1f59f7))return _0x1ed6bc['status'](0x194)[_0x461cd1(0x266)]({'error':_0x461cd1(0x1bb)});_0x1ed6bc[_0x461cd1(0x23e)](_0x1f59f7);});const cleanCacheForUserFiles=_0x352503=>{const _0x3a2d08=a26_0x4cb3bf;try{if(!fs['existsSync'](_0x352503)){console['log']('Directory\x20'+_0x352503+'\x20does\x20not\x20exist.');return;}const _0x27b91c=path[_0x3a2d08(0x21a)](path[_0x3a2d08(0x183)](require[_0x3a2d08(0x238)][_0x3a2d08(0x1ba)]),_0x3a2d08(0x1e8),_0x3a2d08(0x218));if(!fs[_0x3a2d08(0x17d)](_0x27b91c)){console[_0x3a2d08(0x295)](_0x3a2d08(0x155)+_0x27b91c+_0x3a2d08(0x24d));return;}const _0x5df62d=JSON[_0x3a2d08(0x270)](fs[_0x3a2d08(0x187)](path[_0x3a2d08(0x21a)](path['dirname'](require['main']['filename']),'cadviewer/settings/converter-files-analysis.json'))),_0x4f17c9=fs[_0x3a2d08(0x250)](_0x352503);_0x4f17c9[_0x3a2d08(0x1ec)](_0x82945b=>{const _0x2ca65a=_0x3a2d08;_0x5df62d[_0x2ca65a(0x218)][_0x2ca65a(0x1ec)](_0x557196=>{const _0x442881=_0x2ca65a;_0x557196[_0x442881(0x294)]===_0x82945b&&_0x557196['availableFormats'][_0x442881(0x1ec)](_0x3af38d=>{const _0x45b60c=_0x442881;try{fs[_0x45b60c(0x281)](path['join'](_0x27b91c,_0x3af38d['id']));}catch(_0x3401e5){console[_0x45b60c(0x2b2)](_0x45b60c(0x27b)+_0x3af38d['id']+':',_0x3401e5);}});});}),analyzeConverterFiles(),console[_0x3a2d08(0x295)](_0x3a2d08(0x234)+_0x352503);}catch(_0xcb2d81){console[_0x3a2d08(0x2b2)](_0x3a2d08(0x137),_0xcb2d81);}};function a26_0x329d(_0x577a16,_0x393987){const _0x8ac412=a26_0x8ac4();return a26_0x329d=function(_0x329db1,_0x15dbc0){_0x329db1=_0x329db1-0x10c;let _0x560ef7=_0x8ac412[_0x329db1];return _0x560ef7;},a26_0x329d(_0x577a16,_0x393987);}schedule[a26_0x4cb3bf(0x26e)](a26_0x4cb3bf(0x1ab),exportUsersList),schedule[a26_0x4cb3bf(0x26e)](a26_0x4cb3bf(0x267),sendFollowUpEmails),schedule[a26_0x4cb3bf(0x26e)]('0\x200\x20*\x20*\x20*',sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x2e46ae=a26_0x4cb3bf;try{const _0x2b2c59=path[_0x2e46ae(0x21a)](path['dirname'](require[_0x2e46ae(0x238)][_0x2e46ae(0x1ba)]),_0x2e46ae(0x1e8),_0x2e46ae(0x218)),_0x52f25e=path[_0x2e46ae(0x21a)](path['dirname'](require[_0x2e46ae(0x238)][_0x2e46ae(0x1ba)]),'cadviewer',_0x2e46ae(0x199));if(!fs['existsSync'](_0x2b2c59)){logStream[_0x2e46ae(0x173)](_0x2e46ae(0x259)+_0x2b2c59+'\x20n\x27existe\x20pas.');return;}if(!fs['existsSync'](_0x52f25e)){logStream[_0x2e46ae(0x173)](_0x2e46ae(0x259)+_0x52f25e+_0x2e46ae(0x1d2));return;}const _0x834c82=fs[_0x2e46ae(0x250)](_0x2b2c59),_0x126394={};_0x834c82[_0x2e46ae(0x1ec)](_0x15c690=>{const _0x2b80b0=_0x2e46ae,_0x2cd47d=path[_0x2b80b0(0x21a)](_0x2b2c59,_0x15c690),_0x5ade14=fs[_0x2b80b0(0x269)](_0x2cd47d),_0x106b9c=_0x15c690[_0x2b80b0(0x230)]('.'),_0x4d9692=_0x106b9c[_0x2b80b0(0x110)](0x0,-0x1)[_0x2b80b0(0x157)]((_0xfd647,_0x3d7358)=>!([_0x2b80b0(0x152),'rl'][_0x2b80b0(0x15b)](_0xfd647[_0x2b80b0(0x290)]())&&_0x3d7358===_0x106b9c[_0x2b80b0(0x27d)]-0x2))[_0x2b80b0(0x21a)]('.');!Object['keys'](_0x126394)[_0x2b80b0(0x15b)](_0x4d9692)?_0x126394[_0x4d9692]=[{'file':_0x15c690,'stats':_0x5ade14}]:_0x126394[_0x4d9692][_0x2b80b0(0x116)]({'file':_0x15c690,'stats':_0x5ade14});});const _0x7986b=[];_0x834c82[_0x2e46ae(0x1ec)](_0x235f76=>{const _0x3c6a9d=_0x2e46ae;if(!_0x235f76[_0x3c6a9d(0x284)]('.dwg.json'))return;let _0x145c63=_0x235f76;const _0x5ab8bb=path['join'](_0x2b2c59,_0x235f76),_0x426a43=fs[_0x3c6a9d(0x269)](_0x5ab8bb);let _0xc0b9e6=_0x426a43[_0x3c6a9d(0x115)],_0x6134c2='';const _0x3a9287=fs['readFileSync'](_0x5ab8bb,_0x3c6a9d(0x12b)),_0x49cbaa=JSON[_0x3c6a9d(0x270)](_0x3a9287),_0x4c762a=_0x49cbaa[_0x3c6a9d(0x10f)]?.['map'](_0x4e4c25=>_0x4e4c25[_0x3c6a9d(0x251)])??[];if(_0x49cbaa['filename'])_0x145c63=_0x49cbaa['filename'];const _0x29482f=_0x235f76[_0x3c6a9d(0x230)]('.'),_0x1de747=_0x29482f[_0x3c6a9d(0x110)](0x0,-0x1)['filter']((_0x15393a,_0x491a2a)=>!([_0x3c6a9d(0x152),'rl']['includes'](_0x15393a[_0x3c6a9d(0x290)]())&&_0x491a2a===_0x29482f[_0x3c6a9d(0x27d)]-0x2))['join']('.'),_0x4b4820=Object['keys'](_0x126394)[_0x3c6a9d(0x15b)](_0x1de747)?_0x126394[_0x1de747]:[];for(const _0x3d0599 of _0x4c762a){Object[_0x3c6a9d(0x1a7)](_0x126394)[_0x3c6a9d(0x15b)](_0x3d0599)&&_0x4b4820[_0x3c6a9d(0x116)](..._0x126394[_0x3d0599]);}const _0x4270b9=_0x4b4820[_0x3c6a9d(0x1b7)](({file:_0x20ed7d,stats:_0x28d14e})=>{const _0x3370c6=_0x3c6a9d;return!_0x20ed7d['endsWith'](_0x3370c6(0x265))&&(_0xc0b9e6+=_0x28d14e['size']),{'id':_0x20ed7d,'name':_0x20ed7d[_0x3370c6(0x284)](_0x3370c6(0x18b))?'SVG':_0x20ed7d[_0x3370c6(0x284)](_0x3370c6(0x1a8))?'SVGZ':_0x20ed7d['endsWith'](_0x3370c6(0x123))?_0x3370c6(0x17b):_0x20ed7d[_0x3370c6(0x284)](_0x3370c6(0x1ef))?'JSON':_0x20ed7d[_0x3370c6(0x284)](_0x3370c6(0x235))?_0x3370c6(0x29b):_0x20ed7d[_0x3370c6(0x284)]('.dwg')?_0x3370c6(0x252):_0x20ed7d[_0x3370c6(0x230)]('.')[_0x3370c6(0x208)]()['toUpperCase'](),'color':_0x20ed7d[_0x3370c6(0x284)](_0x3370c6(0x18b))||_0x20ed7d[_0x3370c6(0x284)]('.svgz')?_0x3370c6(0x15c):_0x20ed7d['endsWith'](_0x3370c6(0x123))?_0x3370c6(0x248):_0x20ed7d[_0x3370c6(0x284)](_0x3370c6(0x1ef))?_0x3370c6(0x1fc):_0x20ed7d[_0x3370c6(0x284)](_0x3370c6(0x235))?'green':_0x20ed7d['endsWith']('.dwg')?'blue':_0x3370c6(0x18f)};});if(_0x4270b9[_0x3c6a9d(0x195)](_0x1c8a6b=>_0x1c8a6b['id'][_0x3c6a9d(0x15b)]('.rl.json')))_0x6134c2=_0x3c6a9d(0x246);else{if(_0x4270b9[_0x3c6a9d(0x195)](_0x24571b=>['svg',_0x3c6a9d(0x27c)]['includes'](_0x24571b['id']['split']('.')[_0x3c6a9d(0x208)]()))&&_0x4270b9['some'](_0x310d4a=>[_0x3c6a9d(0x186)][_0x3c6a9d(0x15b)](_0x310d4a['id'][_0x3c6a9d(0x230)]('.')[_0x3c6a9d(0x208)]())))_0x6134c2='DWG\x20to\x20SVG\x20Conversion';else{if(_0x4270b9[_0x3c6a9d(0x195)](_0x4f45b4=>[_0x3c6a9d(0x175),_0x3c6a9d(0x27c)][_0x3c6a9d(0x15b)](_0x4f45b4['id'][_0x3c6a9d(0x230)]('.')[_0x3c6a9d(0x208)]())))_0x6134c2=_0x3c6a9d(0x1dc);else{if(_0x4270b9[_0x3c6a9d(0x195)](_0x315a5a=>[_0x3c6a9d(0x266)][_0x3c6a9d(0x15b)](_0x315a5a['id']['split']('.')['pop']()))&&_0x4270b9['some'](_0x1788ad=>[_0x3c6a9d(0x152)][_0x3c6a9d(0x15b)](_0x1788ad['id'][_0x3c6a9d(0x230)]('.')[_0x3c6a9d(0x208)]())))_0x6134c2=_0x3c6a9d(0x1e1);else{if(_0x4270b9[_0x3c6a9d(0x195)](_0x416c76=>[_0x3c6a9d(0x29a)][_0x3c6a9d(0x15b)](_0x416c76['id'][_0x3c6a9d(0x230)]('.')[_0x3c6a9d(0x208)]())))_0x6134c2='DWG\x20to\x20PDF\x20Conversion';else{if(_0x4270b9[_0x3c6a9d(0x195)](_0x136b2f=>['json'][_0x3c6a9d(0x15b)](_0x136b2f['id'][_0x3c6a9d(0x230)]('.')['pop']()))&&!_0x4270b9['some'](_0x491cf4=>[_0x3c6a9d(0x152)][_0x3c6a9d(0x15b)](_0x491cf4['id'][_0x3c6a9d(0x230)]('.')[_0x3c6a9d(0x208)]())))_0x6134c2='DWG\x20file\x20in\x20multiple\x20files';else _0x4270b9[_0x3c6a9d(0x195)](_0x87a381=>[_0x3c6a9d(0x266)][_0x3c6a9d(0x15b)](_0x87a381['id'][_0x3c6a9d(0x230)]('.')[_0x3c6a9d(0x208)]()))&&(_0x6134c2=_0x3c6a9d(0x191));}}}}}_0x7986b[_0x3c6a9d(0x116)]({'name':_0x235f76,'goodFileName':_0x145c63,'size':_0xc0b9e6,'createdAt':_0x426a43[_0x3c6a9d(0x181)],'updatedAt':_0x426a43[_0x3c6a9d(0x1e4)],'readAt':_0x426a43[_0x3c6a9d(0x206)],'action':_0x6134c2,'availableFormats':_0x4270b9});}),_0x7986b[_0x2e46ae(0x242)]((_0x1587f8,_0x50a095)=>_0x50a095[_0x2e46ae(0x21f)]-_0x1587f8['updatedAt']);const _0x37144b={'timestamp':new Date(),'totalFiles':_0x7986b[_0x2e46ae(0x27d)],'files':_0x7986b},_0x1e24f2=path[_0x2e46ae(0x21a)](_0x52f25e,_0x2e46ae(0x26b));fs['writeFileSync'](_0x1e24f2,JSON[_0x2e46ae(0x131)](_0x37144b,null,0x2));}catch(_0x4009b9){console[_0x2e46ae(0x295)](_0x2e46ae(0x17e)),console['log'](_0x2e46ae(0x10e)+_0x4009b9[_0x2e46ae(0x11d)]);}},scheduleFileAnalysis=()=>{const _0xf80a8f=a26_0x4cb3bf;analyzeConverterFiles(),schedule[_0xf80a8f(0x26e)](_0xf80a8f(0x128),analyzeConverterFiles),logStream['write']('Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)');};function a26_0x8ac4(){const _0x3ddc65=['dwgmerge_executable_windows','.log','Error\x20updating\x20config','converterLocation','.pdf','setMonth','application/octet-stream','/folders/delete','params','*\x20*\x20*\x20*\x20*','2809100GXmxra','cadviewer/settings/folders.html','utf8','cached_conversion','radio|','X_OK','Content-Type','all','stringify','fileLocation','/icons.js','699702cgggJu','cadviewer/settings/users.html','who','Error\x20cleaning\x20cache\x20for\x20user\x20files:','settingsUserBasicAuth','/cache/stats','post','callbackMethod','AutoXchange\x20Settings','promise','/vanilla-toast.css','/cache/files','arch','totalProcesses','W_OK','globalBearerAutentication','cadviewer/settings/licences.html','demo_user','437708yErEpQ','settingsPasswordBasicAuth','isFolder','/logs','monthly','biweekly','/folders/create','exports','/config','Mail\x20Server\x20Settings','Error\x20deleting\x20file','callbackMethod_gatewayUrl_flag','dwg','cadviewer/settings/vanilla-toast.js','Error\x20triggering\x20Users\x20export:','Cache\x20directory\x20','lastExportDate','filter','Error\x20reading\x20monitoring\x20file','admin','getFullYear','includes','yellow','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','info','ServerLocation','/folders/update','mem','/conversion/list','Deleting\x20old\x20demo_user\x20accounts...','Failed\x20to\x20get\x20cache\x20stats','Error\x20getting\x20cpu\x20usage','Callback\x20and\x20Authentication\x20Settings','userId','cadviewer/settings/conversion-cache.html','dwgmergeLocation','../libs/log','bcrypt','2439170PskghM','cadviewer/settings/vanilla-toast.css','unlink','/cache/flush','path','File\x20deleted.','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','write','reset','svg','folder_name','test','Log\x20file\x20cleaned.','temp_print_folder','usedGb','PDF','Error\x20exporting\x20users\x20for\x20Google\x20Ads:','existsSync','===================error===================','usedGB','/licences','birthtime','dwgmerge_executable','dirname','createdAt','.gitkeep','csv','readFileSync','reduce','folderName','Cache\x20flushed\x20successfully','.svg','cadviewer/settings/converter-files-analysis.json','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','/conversion/memorydata','purple','isDirectory','Cache\x20conversion','copyFileSync','/doctor/check','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20','some','./uploads/','linklist_executable_linux','Folder\x20created.','settings','windows','hash','/users','=============================>','first_name','access','/converters/autoxchange/linux/','Database\x20Settings','fileLoad_Password','/users/list','usersExportFrequency','/folders','replace','keys','.svgz','6352792YUqRNd','dwgmerge_executable_linux','0\x2023\x20*\x20*\x20*','cadviewer/settings/logs.html','/config/content','standard','startsWith','getMonth','avatar','tmp','/vanilla-toast.js','constants','totalGb','conversionMemoryUsage','map','cadviewer/settings/rest-api.html','zombieProcesses','filename','Export\x20file\x20not\x20found','Folder\x20renamed.','CADViewer_config.json','mode','/folders/download','cpu','trim','setup_mysqlHost','total','2ZdJrHR','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','.log\x22','Failed\x20to\x20flush\x20cache','child_process','/users-export/download/:fileName','dir','cadviewer/settings/style.css','uptime','User\x20directory\x20flushed\x20successfully','then','Monitoring\x20file\x20cleaned.','users-export-','/tailwind.js','\x20n\x27existe\x20pas.','Error\x20getting\x20process\x20info','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','rmdirSync','\x20users\x20to\x20','mysqlDatabase','https','fileLoad_UserName','name','boolean','Display\x20of\x20DWG','type','number','/converters/files/pdf/','\x20\x20\x20','JSON\x20Data\x20Extraction','./tmp','toISOString','ctime','conversionTimeSpend','55lLXLfP','getHotConfig','converters','attachment;\x20filename=\x22','Error\x20getting\x20memory\x20info','Error\x20saving\x20parameters.','forEach','Error\x20getting\x20cache\x20stats:','writeFile','.json','/content/redlines/v7/','mkdir','Folder\x20deleted.','clean','/users-export/trigger','body','node-schedule','LinkList\x20Settings','Folder\x20not\x20found.','/cache/csv/:file','ceil','replaceAll','gray','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','rmdir','Config\x20updated.','ContentSecurityPolicyReportOnly','/restapi-test/parameters/search','Content-Disposition','cadviewer/settings/chart.min.js','cadviewer/settings/home.html','win32','atime','mysqlHost','pop','user','readFile','originalname','model','last_name','resolve','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','fontLocation','Error!\x20Something\x20went\x20wrong.','R_OK','version','drive','File\x20not\x20found','linklist_executable_windows','catch','files','darwin','join','mysqlPassword','/restapi-test/parameters/save','Error\x20deleting\x20folder.','whoami','updatedAt','cadviewer/settings/users-export.html','cvjs_svgz_compress','status','role','folderLocation','email,firstname,lastname\x0a','cadviewer/settings/rest-api-parameters.json','osCmd','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','extname','/restapi-test','sendFile','fileLocationUrl','/users-export/history','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','express','split','globalBearerAutenticationToken','Error\x20getting\x20disk\x20usage','converterpathWin','Cache\x20cleaned\x20for\x20files\x20in\x20','.csv','email','rmSync','main','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','freeGb','vmstats','mimetype','No\x20config\x20object\x20provided','download','isFile','put','\x22\x20executable','sort','Error\x20deleting\x20user\x20folder:','writeFileSync','Exporting\x20new\x20users\x20for\x20Google\x20Ads...','RL/TL\x20Processing','/logs/content','red','../libs/email-utils','../libs/mysql.js','9qEHzpU','formatedSize','\x20does\x20not\x20exist.','/converters/files/','mysqlUsername','readdirSync','fileName','DWG','/content/redlines/','/doctor','toString','array','image/svg+xml','/cache-stats.js','Le\x20dossier\x20','setHeader','DwgMerge\x20Settings','cadviewer/settings/config.html','getStats','ServerPort','usage','file','====================','User\x20created\x20successfully','getDate','hostname','.dwg.json','json','0\x20*\x20*\x20*\x20*','send','statSync','get','converter-files-analysis.json','Error\x20finding\x20log\x20files:','call-Api_Conversion_','scheduleJob','ContentSecurityPolicy','parse','single','/logs/clean','toFixed','/users/flush-dir','now','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','converterpathLin','153066qvRyto','File\x20or\x20Folder\x20not\x20found','/config/update','Error\x20deleting\x20cache\x20file\x20','svgz','length','autodetect_platform','count','Failed\x20to\x20trigger\x20export','unlinkSync','Files\x20uploaded\x20successfully','query','endsWith','Invalid\x20user','Error\x20creating\x20folder.','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','Server\x20Settings','No\x20files\x20uploaded','renameSync','Permission\x20750\x20for\x20the\x20\x22','delete','logs','/cache/files/:id','proc','toLocaleLowerCase','.png','memorydata.csv','/config/global-update','goodFileName','log','used','diskStorage','mkdirSync','Config\x20updated\x20successfully','pdf','CSV','/converters/files/print/','autodetect_location','Router','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','Error\x20deleting\x20file.','platform','SELECT\x20*\x20FROM\x20users','cadviewer/settings/requests-callapiconversion-monitoring.json','/style.css','splity','sub_dirs','CADViewer\x20Settings','demoUserRetentionDays','linklist_executable','linklistLocation','find','linux','1765450jmXQez','ServerUrl','/export-users','Demo\x20and\x20Base\x20User\x20Settings','Folder\x20not\x20found','error','\x20days\x20have\x20been\x20deleted.','gunzipSync','totalMemMb','autoxchange_executable','{version}','Read\x20and\x20write\x20permission\x20for\x20folder\x20','usedMemPercentage','3ApZuxf','autoxchange_executable_windows','User\x20updated\x20successfully','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','cachedfiles','slice','xpathLocation','usedMemMb','zlib','\x20MB','size','push','callbackMethod_gatewayUrl','setDate','execute','padStart','Counter\x20reset\x20successfully','radio|monthly,biweekly','message','last-users-export.json'];a26_0x8ac4=function(){return _0x3ddc65;};return a26_0x8ac4();}scheduleFileAnalysis(),module[a26_0x4cb3bf(0x14d)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};