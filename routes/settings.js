const a26_0x2e0f80=a26_0x2059;(function(_0x2cae2a,_0x1ef237){const _0x3b8090=a26_0x2059,_0x862dec=_0x2cae2a();while(!![]){try{const _0xddf681=-parseInt(_0x3b8090(0x178))/0x1+parseInt(_0x3b8090(0xe2))/0x2+-parseInt(_0x3b8090(0x132))/0x3*(-parseInt(_0x3b8090(0x149))/0x4)+parseInt(_0x3b8090(0x1e2))/0x5+parseInt(_0x3b8090(0xed))/0x6*(parseInt(_0x3b8090(0xf3))/0x7)+parseInt(_0x3b8090(0xf1))/0x8+-parseInt(_0x3b8090(0x1da))/0x9;if(_0xddf681===_0x1ef237)break;else _0x862dec['push'](_0x862dec['shift']());}catch(_0x1d6f15){_0x862dec['push'](_0x862dec['shift']());}}}(a26_0x1542,0x316f6));const express=require(a26_0x2e0f80(0x1de)),router=express['Router'](),multer=require(a26_0x2e0f80(0x241)),fs=require('fs'),path=require(a26_0x2e0f80(0x20f)),getHotConfig=require('../libs/config')[a26_0x2e0f80(0x1b1)],{exec}=require(a26_0x2e0f80(0x183)),os=require('os'),conn=require(a26_0x2e0f80(0x17b)),bcrypt=require('bcrypt'),osu=require(a26_0x2e0f80(0xfa)),schedule=require(a26_0x2e0f80(0x1ff)),counter=require(a26_0x2e0f80(0x163)),{randomUUID}=require(a26_0x2e0f80(0x261)),logStream=require(a26_0x2e0f80(0x14f)),config=require(a26_0x2e0f80(0x12d)),basicAuth=require(a26_0x2e0f80(0x1a0)),protectedRoute=basicAuth({'users':{[config['settingsUserBasicAuth']]:config[a26_0x2e0f80(0x18c)]},'challenge':!![],'realm':'CADViewer\x20Settings'});function a26_0x1542(){const _0x47af85=['forEach','File\x20renamed.','length','W_OK','globalBearerAutentication','Error\x20getting\x20cache\x20stats:','Error!\x20Something\x20went\x20wrong.','parse','User\x20created\x20successfully','test','autodetect_platform','some','/chart.min.js','/cache/stats','folderName','freeGb','formatedSize','/vanilla-toast.css','toString','memorydata.csv','writeFileSync','.csv','sendFile','multer','callbackMethod_gatewayUrl','/conversion/list','converterpathLin','AutoXchange\x20Settings','avatar','/cache','DWG\x20file\x20in\x20multiple\x20files','cadviewer/settings/requests-callapiconversion-monitoring.json','/users/:userId','/vanilla-toast.js','callbackMethod',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','====================','Deleting\x20old\x20demo_user\x20accounts...','name','/tailwind.js','total','tmp','access','cadviewer/settings/cache-stats.js','getDate','/converters/files/','used','Server\x20Settings','zombieProcesses','.png','uptime','model','/metrics/reset','rmdir','boolean','crypto','statSync','\x20GB','File\x20deleted.','updatedAt','count','mem','An\x20error\x20occurred\x20while\x20checking.','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20terminée.\x20Résultats\x20enregistrés\x20dans\x20','copyFileSync','Log\x20file\x20cleaned.','smtpFrom','get','.dwg.json','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','proc','type','put','linklist_executable_windows','utf8','getStats','User\x20deleted\x20successfully','/conversion/memorydata','percentage','osCmd','Error\x20getting\x20memory\x20info','platform','send','ServerUrl','669982tMILrN','.log\x22','execute','green',')\x20older\x20than\x20','cadviewer/settings/doctor.html','unlinkSync','ceil','autoxchange_executable_windows','/converters/autoxchange/linux/','body','6RZvsJJ','JSON\x20Data\x20Extraction','includes','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','330376vXDZJO','cadviewer/settings/rest-api.html','2005493JRqtwO','fileLocation','getMonth','/folders/upload','sort','*\x20*\x20*\x20*\x20*','radio|','node-os-utils','/restapi-test','Content-Type','/users','readFile','map','username','getFullYear','atime','https','Le\x20dossier\x20','readdirSync','/config/update','Error\x20deleting\x20file','Failed\x20to\x20send\x20email\x20to\x20','write','\x20\x20\x20','Error\x20deleting\x20old\x20demo_user\x20accounts:','.rl.json','.dwg','autoxchange_executable_linux','licenseLocation','pdf','Mail\x20Server\x20Settings','Folder\x20not\x20found.','/converters/files/merged/','find','keys','./uploads/','ContentSecurityPolicy','isDirectory','./tmp','Failed\x20to\x20flush\x20cache','converters','setup_mysqlHost','win32','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','cadviewer/settings/home.html','pop','Read\x20and\x20write\x20permission\x20for\x20folder\x20','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','cadviewer/settings/licences.html','.svgz','renameSync','Folder\x20not\x20found','/cache/flush','Permission\x20750\x20for\x20the\x20\x22','log','cadviewer/settings/vanilla-toast.js','status','red','../CADViewer_config.json','cadviewer/settings/users.html','darwin','cadviewer/settings/tailwind.js','message','456MQoCrK','Content-Disposition','Error\x20getting\x20process\x20info','linux','filter','Monitoring\x20file\x20cleaned.','/conversion/clean','cadviewer/settings/rest-api-parameters.json','demoUserRetentionDays','/converters/files/pdf/','No\x20config\x20object\x20provided','join','usedGb','settings','filename','params','hash','role','json','User\x20directory\x20flushed\x20successfully','Database\x20Settings','version','admin','6904IUFQNB','autodetect_location','error','0\x200\x20*\x20*\x20*','LinkList\x20Settings','mysqlPassword','../libs/log','X_OK','cadviewer/settings/vanilla-toast.css','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','/icons.js','{version}','/doctor','padStart','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','email','Invalid\x20user','mode','usedPercentage','cadviewer/settings/chart.min.js','endsWith','zlib','avatar_url','converterpathWin','fileLoad_PasswordAuthentication','fileLoad_UserName','../libs/counter.js','/config/content','JSON','constants','folderLocation','usedGB','exports','=============================>','windows','dir','who','readFileSync','hlall','Counter\x20reset\x20successfully','fileName','linklist_executable_linux','Folder\x20created.','linklist_executable','Cache\x20conversion','attachment;\x20filename=\x22','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','193194KjfAcH','.gitkeep','drive','../libs/mysql.js','files','post','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','download','totalGb','.pdf','toLocaleLowerCase','child_process','usedMemPercentage','DwgMerge\x20Settings','existsSync','/style.css','.json','call-Api_Conversion_','folder_name','size','settingsPasswordBasicAuth','totalProcesses','/cache/files/:id','cpu','DWG\x20to\x20SVG\x20Conversion','dwgmerge_executable_linux','.svg','first_name','0\x201\x20*\x20*\x20*','logs','main','usedMemMb','blue','then','sub_dirs','hostname','delete','/metrics','push','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','express-basic-auth','globalBearerAutenticationToken','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','query','slice','application/octet-stream','cadviewer/settings/conversion-cache.html','mysqlHost','isFolder','Error\x20downloading\x20file.','Error\x20deleting\x20file.','linklistLocation','mkdirSync','cadviewer/settings/folders.html','File\x20or\x20Folder\x20not\x20found','csv','ctime','getHotConfig','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','converterLocation','Demo\x20and\x20Base\x20User\x20Settings','now','svgz','Error\x20finding\x20log\x20files:','birthtime','conversionMemoryUsage','Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','Error\x20deleting\x20folder.','gunzipSync','number','\x22\x20executable','demo_user','SVGZ','scheduleJob','`crypted_password`\x20=\x20?,\x20','No\x20files\x20uploaded','Display\x20of\x20DWG','clean','user','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','replace','mysqlUsername','radio|windows,linux','dirname','fileLocationUrl','RL/TL\x20Processing','/converters/files/print/','/folders','/folders/delete','splity','reduce','cadviewer/settings/icons.js','\x20n\x27existe\x20pas.','.log','svg','/cache/csv/:file','split','Cache\x20flushed\x20successfully','7224867fMtQoT','arch','all','/licences','express','unlink','Error\x20getting\x20os\x20info','===================error===================','1366520IxluNx','\x20MB','extname','cached_conversion','SELECT\x20*\x20FROM\x20users','sendMail','originalname','standard','cadviewer/settings/converter-files-analysis.json','Files\x20uploaded\x20successfully','cachedfiles','mysqlDatabase','isFile','dwgmergeLocation','/content/redlines/v7/','cvjs_svgz_compress','trim','Analyzing\x20converter\x20files...','image/svg+xml','temp_print_folder','Error\x20getting\x20disk\x20usage','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','ServerPort','Callback\x20and\x20Authentication\x20Settings','transporter','PDF','file','Error\x20updating\x20config','node-schedule','../libs/mail','Folder\x20already\x20exists.','User\x20updated\x20successfully','CADViewer_config.json','replaceAll','cadviewer/settings/config.html','usage','writeFile','File\x20not\x20found','/restapi-test/parameters/search','mkdir','resolve','Folder\x20deleted.','reset','/folders/create','path','dwgmerge_executable_windows','oos','toUpperCase','/cache/files','promise','conversionTimeSpend','stringify','/users/flush-dir','Error\x20getting\x20total\x20users','SVG','availableFormats','xpathLocation','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','Error\x20getting\x20cpu\x20usage','dwgmerge_executable','toFixed','setHeader','ContentSecurityPolicyReportOnly','info','autoxchange_executable','Error\x20creating\x20folder.','fontLocation','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','ServerLocation','cadviewer','catch'];a26_0x1542=function(){return _0x47af85;};return a26_0x1542();}router['get'](a26_0x2e0f80(0x251),async(_0x5eec0d,_0x2bd818)=>{const _0x5d9415=a26_0x2e0f80;_0x2bd818[_0x5d9415(0x240)](path[_0x5d9415(0x13d)](path['dirname'](require[_0x5d9415(0x196)][_0x5d9415(0x140)]),_0x5d9415(0x130)));}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x236),async(_0x2ddc68,_0x546f4b)=>{const _0x47eafb=a26_0x2e0f80;_0x546f4b[_0x47eafb(0x240)](path[_0x47eafb(0x13d)](path['dirname'](require[_0x47eafb(0x196)][_0x47eafb(0x140)]),_0x47eafb(0x15c)));}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x187),async(_0x29c317,_0x3687d7)=>{const _0x54073e=a26_0x2e0f80;_0x3687d7[_0x54073e(0x240)](path[_0x54073e(0x13d)](path[_0x54073e(0x1cb)](require[_0x54073e(0x196)][_0x54073e(0x140)]),'cadviewer/settings/style.css'));}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x23b),async(_0xd31189,_0x4ad90c)=>{const _0x3954b2=a26_0x2e0f80;_0x4ad90c['sendFile'](path['join'](path[_0x3954b2(0x1cb)](require['main'][_0x3954b2(0x140)]),_0x3954b2(0x151)));}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x24b),async(_0xdf4363,_0x2267b4)=>{const _0x362ba9=a26_0x2e0f80;_0x2267b4['sendFile'](path[_0x362ba9(0x13d)](path[_0x362ba9(0x1cb)](require[_0x362ba9(0x196)][_0x362ba9(0x140)]),_0x362ba9(0x12a)));}),router['get'](a26_0x2e0f80(0x153),async(_0xfa5e91,_0x436c33)=>{const _0x3f45dc=a26_0x2e0f80;_0x436c33[_0x3f45dc(0x240)](path[_0x3f45dc(0x13d)](path[_0x3f45dc(0x1cb)](require[_0x3f45dc(0x196)][_0x3f45dc(0x140)]),_0x3f45dc(0x1d3)));}),router[a26_0x2e0f80(0x26d)]('/',protectedRoute,async(_0x4dce32,_0x3ed2c7)=>{const _0x56ec26=a26_0x2e0f80,_0x4d8f95=fs['readFileSync'](path[_0x56ec26(0x13d)](path['dirname'](require['main'][_0x56ec26(0x140)]),_0x56ec26(0x11f)),_0x56ec26(0x274)),_0x54b200=_0x4d8f95[_0x56ec26(0x204)](_0x56ec26(0x154),_0x4dce32[_0x56ec26(0x147)]);_0x3ed2c7[_0x56ec26(0xe0)](_0x54b200);}),router['get'](a26_0x2e0f80(0x1dd),protectedRoute,async(_0x469c44,_0x3892c4)=>{const _0x43f096=a26_0x2e0f80,_0x477608=fs[_0x43f096(0x16e)](path[_0x43f096(0x13d)](path[_0x43f096(0x1cb)](require[_0x43f096(0x196)]['filename']),_0x43f096(0x123)),'utf8'),_0x3bf9b9=_0x477608['replaceAll'](_0x43f096(0x154),_0x469c44[_0x43f096(0x147)]);_0x3892c4['send'](_0x3bf9b9);}),router[a26_0x2e0f80(0x26d)]('/config',protectedRoute,async(_0x3324f9,_0x991085)=>{const _0x56050c=a26_0x2e0f80,_0x5b1302=fs[_0x56050c(0x16e)](path[_0x56050c(0x13d)](path[_0x56050c(0x1cb)](require[_0x56050c(0x196)]['filename']),_0x56050c(0x205)),'utf8'),_0x4a81ad=_0x5b1302[_0x56050c(0x204)](_0x56050c(0x154),_0x3324f9[_0x56050c(0x147)]);_0x991085['send'](_0x4a81ad);}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x1cf),protectedRoute,async(_0x1f128b,_0x3ae95b)=>{const _0xbb3ad5=a26_0x2e0f80,_0x3de0e0=fs[_0xbb3ad5(0x16e)](path[_0xbb3ad5(0x13d)](path[_0xbb3ad5(0x1cb)](require[_0xbb3ad5(0x196)][_0xbb3ad5(0x140)]),_0xbb3ad5(0x1ad)),_0xbb3ad5(0x274)),_0x4ce9c2=_0x3de0e0[_0xbb3ad5(0x204)]('{version}',_0x1f128b[_0xbb3ad5(0x147)]);_0x3ae95b['send'](_0x4ce9c2);}),router[a26_0x2e0f80(0x17d)]('/folders',async(_0x4a3909,_0x24dc7)=>{const _0x3ca7bf=a26_0x2e0f80,_0x1a6792=path['join'](path[_0x3ca7bf(0x1cb)](require[_0x3ca7bf(0x196)][_0x3ca7bf(0x140)]),_0x3ca7bf(0x203)),_0x98f487=JSON[_0x3ca7bf(0x231)](fs[_0x3ca7bf(0x16e)](_0x1a6792,_0x3ca7bf(0x274))),_0x342503=_0x98f487[_0x3ca7bf(0x167)];if(!fs[_0x3ca7bf(0x186)](_0x342503))return _0x24dc7[_0x3ca7bf(0x12b)](0x194)[_0x3ca7bf(0x144)]({'message':_0x3ca7bf(0x1f7)});const _0x5b7471=_0xef438c=>{const _0x53b412=_0x3ca7bf;let _0x2a9c1f=0x0;return _0xef438c[_0x53b412(0x22a)](_0x51f86c=>{const _0x553173=_0x53b412;_0x51f86c[_0x553173(0x1a8)]?_0x2a9c1f+=_0x5b7471(_0x51f86c[_0x553173(0x19a)]):_0x2a9c1f+=_0x51f86c[_0x553173(0x18b)];}),_0x2a9c1f;},_0x31fff8=_0x53378a=>{const _0x1c3e0c=_0x3ca7bf;if(_0x53378a<0x400)return _0x53378a+'\x20B';else{if(_0x53378a<0x400*0x400)return(_0x53378a/0x400)[_0x1c3e0c(0x21f)](0x2)+'\x20KB';else return _0x53378a<0x400*0x400*0x400?(_0x53378a/0x400/0x400)[_0x1c3e0c(0x21f)](0x2)+_0x1c3e0c(0x1e3):(_0x53378a/0x400/0x400/0x400)[_0x1c3e0c(0x21f)](0x2)+_0x1c3e0c(0x263);}},_0x2d0329=(_0x5e6a7b,_0x2f8eae='')=>{const _0x41b9bc=_0x3ca7bf,_0x2ca81c=fs['readdirSync'](_0x5e6a7b),_0x283e7a=[];return _0x2ca81c[_0x41b9bc(0x22a)](_0x574507=>{const _0x4602fa=_0x41b9bc,_0x27569f=path[_0x4602fa(0x13d)](_0x5e6a7b,_0x574507)[_0x4602fa(0x204)]('\x5c','/'),_0x56430a=fs[_0x4602fa(0x262)](_0x27569f);if(_0x56430a[_0x4602fa(0x118)]()){const _0x176674=_0x2d0329(_0x27569f,_0x2f8eae+_0x4602fa(0x10a));_0x283e7a['push']({'name':_0x574507,'size':_0x56430a[_0x4602fa(0x18b)],'path':_0x27569f,'permissions':_0x56430a[_0x4602fa(0x15a)],'isFolder':!![],'sub_dirs':_0x176674});}else _0x283e7a[_0x4602fa(0x19e)]({'name':_0x574507,'size':_0x56430a[_0x4602fa(0x18b)],'path':_0x27569f,'permissions':_0x56430a[_0x4602fa(0x15a)],'isFolder':![]});}),_0x283e7a;};let _0x515914=_0x2d0329(_0x342503);const _0x4a0cf7=_0x54a091=>{const _0x40c4ed=_0x3ca7bf;return _0x54a091[_0x40c4ed(0x22a)](_0x2c144f=>{const _0x57bbeb=_0x40c4ed;_0x2c144f[_0x57bbeb(0x1a8)]?(_0x2c144f[_0x57bbeb(0x23a)]=_0x31fff8(_0x5b7471(_0x2c144f[_0x57bbeb(0x19a)])),_0x2c144f[_0x57bbeb(0x19a)]=_0x4a0cf7(_0x2c144f['sub_dirs'])):_0x2c144f[_0x57bbeb(0x23a)]=_0x31fff8(_0x2c144f[_0x57bbeb(0x18b)]);}),_0x54a091;};_0x24dc7[_0x3ca7bf(0x12b)](0xc8)[_0x3ca7bf(0x144)](_0x4a0cf7(_0x515914));}),router[a26_0x2e0f80(0x17d)]('/folders/download',async(_0x172688,_0x253f94)=>{const _0x295ba9=a26_0x2e0f80,{path:_0x503160}=_0x172688['body'],_0x327fc4=_0x503160['split']('/')[_0x295ba9(0x120)]();if(!fs['existsSync'](_0x503160))return _0x253f94[_0x295ba9(0x12b)](0x194)[_0x295ba9(0x144)]({'message':_0x295ba9(0x208)});_0x253f94[_0x295ba9(0x220)](_0x295ba9(0xfc),_0x295ba9(0x1a5)),_0x253f94[_0x295ba9(0x220)](_0x295ba9(0x133),_0x295ba9(0x176)+_0x327fc4+'\x22'),_0x253f94[_0x295ba9(0x17f)](_0x503160,_0x3afec9=>{const _0x2d1d6b=_0x295ba9;_0x3afec9&&_0x253f94[_0x2d1d6b(0x12b)](0x1f4)[_0x2d1d6b(0x144)]({'message':_0x2d1d6b(0x1a9)});});}),router['post'](a26_0x2e0f80(0x20e),async(_0x11ccf0,_0x1197d7)=>{const _0xf21011=a26_0x2e0f80,_0x7b5e24=_0x11ccf0['body'],_0x3a4c88=getHotConfig()[_0xf21011(0x167)],_0x458939=path[_0xf21011(0x13d)](_0x3a4c88,_0x7b5e24[_0xf21011(0x20f)]);if(!fs[_0xf21011(0x186)](_0x458939))return _0x1197d7[_0xf21011(0x12b)](0x194)[_0xf21011(0x144)]({'message':'Folder\x20not\x20found.'});if(fs[_0xf21011(0x186)](path[_0xf21011(0x13d)](_0x458939,_0x7b5e24['folderName'])))return _0x1197d7[_0xf21011(0x12b)](0x199)['json']({'message':_0xf21011(0x201)});fs[_0xf21011(0x20a)](path['join'](_0x458939,_0x7b5e24[_0xf21011(0x238)]),_0x524d62=>{const _0x2de87b=_0xf21011;_0x524d62&&_0x1197d7[_0x2de87b(0x12b)](0x1f4)['json']({'message':_0x2de87b(0x224)}),_0x1197d7[_0x2de87b(0x12b)](0xc8)[_0x2de87b(0x144)]({'message':_0x2de87b(0x173)});});}),router['put']('/folders/update',async(_0x3c243a,_0x3eb33a)=>{const _0x5db616=a26_0x2e0f80,{newName:_0x155dba,isFolder:_0x225942,path:_0x3ff896}=_0x3c243a[_0x5db616(0xec)];if(!fs['existsSync'](_0x3ff896))return _0x3eb33a[_0x5db616(0x12b)](0x194)['json']({'message':_0x225942?_0x5db616(0x126):_0x5db616(0x208)});const _0x278dbf=_0x3ff896[_0x5db616(0x1c8)](_0x3ff896[_0x5db616(0x1d8)]('/')[_0x5db616(0x120)](),_0x155dba),_0x5c750e=fs['statSync'](_0x3ff896);_0x5c750e[_0x5db616(0x118)]()?fs[_0x5db616(0x125)](_0x3ff896,_0x278dbf):(fs[_0x5db616(0x26a)](_0x3ff896,_0x278dbf),fs[_0x5db616(0xe8)](_0x3ff896)),_0x3eb33a[_0x5db616(0x12b)](0xc8)[_0x5db616(0x144)]({'message':_0x225942?'Folder\x20renamed.':_0x5db616(0x22b)});}),router[a26_0x2e0f80(0x19c)](a26_0x2e0f80(0x1d0),async(_0x3176d7,_0x2d53cb)=>{const _0x427757=a26_0x2e0f80,{path:_0x5a671c}=_0x3176d7[_0x427757(0xec)];if(!fs[_0x427757(0x186)](_0x5a671c))return _0x2d53cb[_0x427757(0x12b)](0x194)[_0x427757(0x144)]({'message':_0x427757(0x1ae)});const _0x5a155e=fs['statSync'](_0x5a671c);if(_0x5a155e[_0x427757(0x1ee)]())fs[_0x427757(0x1df)](_0x5a671c,_0xff5829=>{const _0x5dd3c4=_0x427757;_0xff5829&&_0x2d53cb[_0x5dd3c4(0x12b)](0x1f4)[_0x5dd3c4(0x144)]({'message':_0x5dd3c4(0x1aa)}),_0x2d53cb[_0x5dd3c4(0x12b)](0xc8)[_0x5dd3c4(0x144)]({'message':_0x5dd3c4(0x264)});});else _0x5a155e[_0x427757(0x118)]()&&fs[_0x427757(0x25f)](_0x5a671c,{'recursive':!![]},_0x108942=>{const _0x488bea=_0x427757;_0x108942&&_0x2d53cb[_0x488bea(0x12b)](0x1f4)[_0x488bea(0x144)]({'message':_0x488bea(0x1bb)}),_0x2d53cb['status'](0xc8)[_0x488bea(0x144)]({'message':_0x488bea(0x20c)});});});!fs['existsSync'](a26_0x2e0f80(0x119))&&fs[a26_0x2e0f80(0x1ac)](a26_0x2e0f80(0x119));const storage=multer['diskStorage']({'destination':(_0x5b00f4,_0x339b9c,_0x272a37)=>{const _0x43e877=a26_0x2e0f80;_0x272a37(null,_0x43e877(0x253));},'filename':(_0x196774,_0x17d286,_0x3a4566)=>{const _0x1e4a39=a26_0x2e0f80;_0x3a4566(null,Date[_0x1e4a39(0x1b5)]()+path[_0x1e4a39(0x1e4)](_0x17d286[_0x1e4a39(0x1e8)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x2e0f80(0x17d)](a26_0x2e0f80(0xf6),upload['array']('files'),async(_0x4ce0da,_0x454dd7)=>{const _0x7aec10=a26_0x2e0f80,_0x9e3ad9=_0x4ce0da[_0x7aec10(0xec)];if(!_0x4ce0da[_0x7aec10(0x17c)]||_0x4ce0da[_0x7aec10(0x17c)][_0x7aec10(0x22c)]===0x0)return _0x454dd7['status'](0x190)[_0x7aec10(0x144)]({'message':_0x7aec10(0x1c3)});const _0x50e00d=getHotConfig()['folderLocation'],_0x3c1393=path[_0x7aec10(0x13d)](_0x50e00d,_0x9e3ad9[_0x7aec10(0x20f)]);if(!fs[_0x7aec10(0x186)](_0x3c1393))return _0x454dd7[_0x7aec10(0x12b)](0x194)[_0x7aec10(0x144)]({'message':_0x7aec10(0x112)});const _0x6c1f89=_0x4ce0da['files']['map'](_0x1f3c68=>({'originalname':_0x1f3c68[_0x7aec10(0x1e8)],'filename':_0x1f3c68[_0x7aec10(0x140)],'mimetype':_0x1f3c68['mimetype'],'size':_0x1f3c68[_0x7aec10(0x18b)]}));_0x6c1f89[_0x7aec10(0x22a)](_0x18668a=>{const _0x25c185=_0x7aec10;fs[_0x25c185(0x26a)](path[_0x25c185(0x13d)](_0x25c185(0x253),_0x18668a[_0x25c185(0x140)]),path['join'](_0x3c1393,_0x18668a[_0x25c185(0x1e8)])),fs[_0x25c185(0xe8)](path[_0x25c185(0x13d)](_0x25c185(0x253),_0x18668a[_0x25c185(0x140)]));}),_0x454dd7[_0x7aec10(0x12b)](0xc8)['json']({'message':_0x7aec10(0x1eb),'files':_0x6c1f89});}),router['put']('/config/global-update',async(_0x1638ff,_0x4edfac)=>{const _0x3d7fde=a26_0x2e0f80,_0x2974d3=path['join'](path['dirname'](require[_0x3d7fde(0x196)]['filename']),_0x3d7fde(0x203)),{config:_0x3a0599}=_0x1638ff[_0x3d7fde(0xec)];if(!_0x3a0599)return _0x4edfac[_0x3d7fde(0x12b)](0x190)[_0x3d7fde(0x144)]({'message':_0x3d7fde(0x13c)});try{fs[_0x3d7fde(0x23e)](_0x2974d3,JSON[_0x3d7fde(0x216)](_0x3a0599,null,0x4)),_0x4edfac['status'](0xc8)[_0x3d7fde(0x144)]({'message':'Config\x20updated\x20successfully'});}catch(_0x5aa407){_0x4edfac[_0x3d7fde(0x12b)](0x1f4)['json']({'message':_0x3d7fde(0x1fe)});}}),router[a26_0x2e0f80(0x272)](a26_0x2e0f80(0x106),async(_0x1aa8f4,_0x4dc2c9)=>{const _0x28fdf6=a26_0x2e0f80,{key:_0x5c0d66,value:_0x2caf6e}=_0x1aa8f4[_0x28fdf6(0xec)],_0x5a0a93=path[_0x28fdf6(0x13d)](path[_0x28fdf6(0x1cb)](require[_0x28fdf6(0x196)][_0x28fdf6(0x140)]),_0x28fdf6(0x203));fs['readFile'](_0x5a0a93,'utf8',function(_0xee82bd,_0x382321){const _0x4fd98d=_0x28fdf6;_0xee82bd&&_0x4dc2c9['status'](0x1f4)[_0x4fd98d(0xe0)](_0xee82bd);const _0x2611d1=JSON[_0x4fd98d(0x231)](_0x382321);_0x2611d1[_0x5c0d66]=_0x2caf6e;if(_0x5c0d66===_0x4fd98d(0x14a)){let _0x3cecb4='';if(_0x2611d1[_0x4fd98d(0x234)]){_0x3cecb4=os['platform']();if(_0x3cecb4===_0x4fd98d(0x11d))_0x3cecb4='windows';else{if(_0x3cecb4===_0x4fd98d(0x12f))_0x3cecb4=_0x4fd98d(0x135);}}else _0x3cecb4=_0x2611d1[_0x4fd98d(0xdf)];if(_0x3cecb4===_0x4fd98d(0x16b)){_0x2611d1[_0x4fd98d(0x227)]=path[_0x4fd98d(0x20b)](__dirname,'..')+'/';const _0x177623=/\\/g;_0x2611d1[_0x4fd98d(0x227)]=_0x2611d1[_0x4fd98d(0x227)][_0x4fd98d(0x1c8)](_0x177623,'/');}else _0x2611d1[_0x4fd98d(0x227)]=path[_0x4fd98d(0x20b)](__dirname,'..')+'/';}if(_0x5c0d66==='autodetect_platform'){let _0xca68b5=os[_0x4fd98d(0xdf)]();if(_0xca68b5===_0x4fd98d(0x11d))_0xca68b5=_0x4fd98d(0x16b);else _0xca68b5=_0x4fd98d(0x135);_0xca68b5===_0x4fd98d(0x16b)?_0x2caf6e===!![]&&(_0x2611d1[_0x4fd98d(0x223)]=_0x2611d1[_0x4fd98d(0xea)],_0x2611d1[_0x4fd98d(0x21e)]=_0x2611d1[_0x4fd98d(0x210)],_0x2611d1[_0x4fd98d(0x174)]=_0x2611d1[_0x4fd98d(0x273)]):_0x2caf6e===!![]&&(_0x2611d1[_0x4fd98d(0x223)]=_0x2611d1['autoxchange_executable_linux'],_0x2611d1[_0x4fd98d(0x21e)]=_0x2611d1[_0x4fd98d(0x191)],_0x2611d1[_0x4fd98d(0x174)]=_0x2611d1[_0x4fd98d(0x172)]),_0x2611d1[_0x4fd98d(0xdf)]=_0xca68b5;}if(_0x2611d1[_0x4fd98d(0x234)]){let _0x29c9e0=os['platform']();if(_0x29c9e0==='win32')_0x29c9e0=_0x4fd98d(0x16b);else _0x29c9e0=_0x4fd98d(0x135);if(_0x29c9e0===_0x4fd98d(0x16b)){if(_0x5c0d66===_0x4fd98d(0xea))_0x2611d1['autoxchange_executable']=_0x2caf6e;else{if(_0x5c0d66===_0x4fd98d(0x210))_0x2611d1[_0x4fd98d(0x21e)]=_0x2caf6e;else _0x5c0d66===_0x4fd98d(0x273)&&(_0x2611d1[_0x4fd98d(0x174)]=_0x2caf6e);}}else{if(_0x5c0d66===_0x4fd98d(0x10e))_0x2611d1['autoxchange_executable']=_0x2caf6e;else{if(_0x5c0d66===_0x4fd98d(0x191))_0x2611d1[_0x4fd98d(0x21e)]=_0x2caf6e;else _0x5c0d66==='linklist_executable_linux'&&(_0x2611d1[_0x4fd98d(0x174)]=_0x2caf6e);}}}fs[_0x4fd98d(0x207)](_0x5a0a93,JSON[_0x4fd98d(0x216)](_0x2611d1,null,0x4),function(_0x17a8ca){const _0x5c43b1=_0x4fd98d;_0x17a8ca&&_0x4dc2c9[_0x5c43b1(0x12b)](0x1f4)[_0x5c43b1(0xe0)](_0x17a8ca),_0x4dc2c9[_0x5c43b1(0x12b)](0xc8)[_0x5c43b1(0x144)]({'message':'Config\x20updated.'});});});}),router[a26_0x2e0f80(0x17d)](a26_0x2e0f80(0x164),async(_0x375e27,_0x5c5e82)=>{const _0x11af5a=a26_0x2e0f80,_0x2ff9d0=getHotConfig(),_0x5eba74=(_0x2ff9d0['dwgmergeLocation'][_0x11af5a(0xef)](_0x2ff9d0[_0x11af5a(0x227)])?'':_0x2ff9d0[_0x11af5a(0x227)])+_0x2ff9d0[_0x11af5a(0x1ef)],_0x4918af=(_0x2ff9d0[_0x11af5a(0x1ef)]['includes'](_0x2ff9d0[_0x11af5a(0x227)])?'':_0x2ff9d0[_0x11af5a(0x227)])+_0x2ff9d0[_0x11af5a(0x1ab)],_0x57849a=(_0x2ff9d0[_0x11af5a(0x1b3)][_0x11af5a(0xef)](_0x2ff9d0[_0x11af5a(0x227)])?'':_0x2ff9d0['ServerLocation'])+_0x2ff9d0[_0x11af5a(0x1b3)],_0x23603e=/ax202.*\.exe/,_0x1f34ef=/ax202.*/,_0x143836=/dwgmerge202.*\.exe/,_0x3c6f19=/dwgmerge_202.*/,_0xfb90ab=/linklist_202.*\.exe/,_0x6044fc=/linklist_202.*/,_0x4416b9=[],_0x535c70=[],_0x4af18c=[],_0x469ff8=[],_0x375acd=[],_0x50a266=[];let _0x2797c8='';if(_0x2ff9d0['autodetect_platform']){_0x2797c8=os[_0x11af5a(0xdf)]();if(_0x2797c8===_0x11af5a(0x11d))_0x2797c8=_0x11af5a(0x16b);else{if(_0x2797c8===_0x11af5a(0x12f))_0x2797c8=_0x11af5a(0x135);}}else _0x2797c8=_0x2ff9d0[_0x11af5a(0xdf)];fs[_0x11af5a(0x105)](_0x57849a[_0x11af5a(0x204)](_0x11af5a(0x135),'windows'))[_0x11af5a(0x22a)](_0x27caee=>{const _0x24d304=_0x11af5a;if(_0x23603e['test'](_0x27caee[_0x24d304(0x182)]()))_0x4416b9[_0x24d304(0x19e)](_0x27caee);}),fs[_0x11af5a(0x105)](_0x5eba74['replaceAll']('linux',_0x11af5a(0x16b)))[_0x11af5a(0x22a)](_0x10280=>{const _0x2a4ea3=_0x11af5a;if(_0x143836[_0x2a4ea3(0x233)](_0x10280[_0x2a4ea3(0x182)]()))_0x535c70[_0x2a4ea3(0x19e)](_0x10280);}),fs[_0x11af5a(0x105)](_0x4918af[_0x11af5a(0x204)](_0x11af5a(0x135),_0x11af5a(0x16b)))[_0x11af5a(0x22a)](_0x2d1a12=>{const _0x400c20=_0x11af5a;if(_0xfb90ab[_0x400c20(0x233)](_0x2d1a12[_0x400c20(0x182)]()))_0x4af18c['push'](_0x2d1a12);}),fs[_0x11af5a(0x105)](_0x57849a[_0x11af5a(0x204)](_0x11af5a(0x16b),'linux'))['forEach'](_0x416942=>{const _0x1b331e=_0x11af5a;if(_0x1f34ef[_0x1b331e(0x233)](_0x416942[_0x1b331e(0x182)]()))_0x469ff8[_0x1b331e(0x19e)](_0x416942);}),fs['readdirSync'](_0x5eba74[_0x11af5a(0x204)]('windows',_0x11af5a(0x135)))[_0x11af5a(0x22a)](_0x2eb707=>{const _0x55e394=_0x11af5a;if(_0x3c6f19[_0x55e394(0x233)](_0x2eb707[_0x55e394(0x182)]()))_0x375acd[_0x55e394(0x19e)](_0x2eb707);}),fs[_0x11af5a(0x105)](_0x4918af[_0x11af5a(0x204)](_0x11af5a(0x16b),'linux'))[_0x11af5a(0x22a)](_0x53a85d=>{const _0x3934bf=_0x11af5a;if(_0x6044fc[_0x3934bf(0x233)](_0x53a85d[_0x3934bf(0x182)]()))_0x50a266['push'](_0x53a85d);});const _0x5c5817=[_0x11af5a(0x1f9),_0x11af5a(0x103),_0x11af5a(0x160),_0x11af5a(0x244),_0x11af5a(0x225)],_0x1991da=['fileLocation',_0x11af5a(0x1cc),_0x11af5a(0x1b3),_0x11af5a(0x10f),_0x11af5a(0x21b),_0x11af5a(0x1f5),_0x11af5a(0x24c),_0x11af5a(0x1ef),_0x11af5a(0x1ab),_0x11af5a(0x147)],_0x15b408=['ServerUrl',_0x11af5a(0x1a7),'mysqlUsername',_0x11af5a(0x14e),_0x11af5a(0x1ed),_0x11af5a(0x1e5),_0x11af5a(0x1f1)],_0x2764ae={'ServerUrl':_0x11af5a(0x259),'autoxchange_executable':_0x11af5a(0x245),'linklist_executable':_0x11af5a(0x14d),'dwgmerge_executable':_0x11af5a(0x185),'setup_mysqlHost':_0x11af5a(0x146),'callbackMethod_gatewayUrl_flag':_0x11af5a(0x1fa),'userFolderMaximumFiles':_0x11af5a(0x1b4),'smtpHost':_0x11af5a(0x111)},_0x5cbf97={'https':_0x11af5a(0x260),'ServerFrontEndUrlAsAllowedOriginOnly':'boolean','autodetect_platform':_0x11af5a(0x260),'cvjs_svgz_compress':_0x11af5a(0x260),'cached_conversion':'boolean','remainOnServer':_0x11af5a(0x260),'cvjs_debug':_0x11af5a(0x260),'autodetect_location':_0x11af5a(0x260),'platform':_0x11af5a(0x1ca),'autoxchange_executable':_0x11af5a(0xf9)+(_0x2797c8===_0x11af5a(0x16b)?_0x4416b9[_0x11af5a(0x13d)](','):_0x469ff8[_0x11af5a(0x13d)](',')),'autoxchange_executable_windows':_0x11af5a(0xf9)+_0x4416b9[_0x11af5a(0x13d)](','),'autoxchange_executable_linux':_0x11af5a(0xf9)+_0x469ff8[_0x11af5a(0x13d)](','),'dwgmerge_executable':_0x11af5a(0xf9)+(_0x2797c8===_0x11af5a(0x16b)?_0x535c70['join'](','):_0x375acd['join'](',')),'dwgmerge_executable_windows':'radio|'+_0x535c70['join'](','),'dwgmerge_executable_linux':'radio|'+_0x375acd['join'](','),'linklist_executable':'radio|'+(_0x2797c8==='windows'?_0x4af18c[_0x11af5a(0x13d)](','):_0x50a266[_0x11af5a(0x13d)](',')),'linklist_executable_windows':_0x11af5a(0xf9)+_0x4af18c[_0x11af5a(0x13d)](','),'linklist_executable_linux':_0x11af5a(0xf9)+_0x50a266[_0x11af5a(0x13d)](','),'callbackMethod_gatewayUrl_flag':_0x11af5a(0x260),'setup_mysqlHost':_0x11af5a(0x260),'ContentSecurityPolicyReportOnly':_0x11af5a(0x260),'fileLoad_PasswordAuthentication':_0x11af5a(0x260),'contentLocationCheck':_0x11af5a(0x260),'globalBearerAutentication':'boolean','bcryptSaltRounds':'number','userFolderMaximumFiles':'number','userFolderMaximumSizeInMB':_0x11af5a(0x1bd)},_0x4fca35={},_0x6853c=Object[_0x11af5a(0x115)](_0x2ff9d0);_0x2ff9d0['autodetect_platform']&&_0x5c5817['push'](_0x11af5a(0xdf)),_0x2ff9d0[_0x11af5a(0x14a)]&&(_0x1991da[_0x11af5a(0x19e)](_0x11af5a(0x227)),_0x1991da['push'](_0x11af5a(0x223)),_0x1991da[_0x11af5a(0x19e)]('dwgmerge_executable'),_0x1991da[_0x11af5a(0x19e)]('linklist_executable')),!_0x2ff9d0['callbackMethod_gatewayUrl_flag']&&_0x1991da['push'](_0x11af5a(0x242)),!_0x2ff9d0[_0x11af5a(0x11c)]&&(_0x1991da[_0x11af5a(0x19e)](_0x11af5a(0x1a7)),_0x1991da[_0x11af5a(0x19e)](_0x11af5a(0x1c9)),_0x1991da['push'](_0x11af5a(0x14e)),_0x1991da[_0x11af5a(0x19e)]('mysqlDatabase')),!_0x2ff9d0[_0x11af5a(0x221)]&&_0x1991da[_0x11af5a(0x19e)](_0x11af5a(0x117)),!_0x2ff9d0[_0x11af5a(0x161)]&&(_0x1991da[_0x11af5a(0x19e)](_0x11af5a(0x162)),_0x1991da[_0x11af5a(0x19e)]('fileLoad_Password')),!_0x2ff9d0[_0x11af5a(0x22e)]&&_0x1991da[_0x11af5a(0x19e)](_0x11af5a(0x1a1)),_0x6853c['forEach'](_0x2fd182=>{const _0x2e11b2=_0x11af5a;!_0x5c5817[_0x2e11b2(0xef)](_0x2fd182)&&(_0x4fca35[_0x2fd182]=_0x2ff9d0[_0x2fd182]);}),_0x4fca35[_0x11af5a(0x1cc)]=''+_0x2ff9d0[_0x11af5a(0xe1)]+_0x2ff9d0[_0x11af5a(0xf4)],_0x5c5e82[_0x11af5a(0x12b)](0xc8)[_0x11af5a(0x144)]({'notEditableFields':_0x1991da,'customFieldTypes':_0x5cbf97,'notHotEditableFields':_0x15b408,'config':_0x4fca35,'fieldsTitle':_0x2764ae,'configData':_0x2ff9d0});}),router[a26_0x2e0f80(0x26d)]('/logs',protectedRoute,async(_0x514acc,_0x1d4168)=>{const _0x21de69=a26_0x2e0f80,_0x10f2f9=fs[_0x21de69(0x16e)](path[_0x21de69(0x13d)](path['dirname'](require[_0x21de69(0x196)][_0x21de69(0x140)]),'cadviewer/settings/logs.html'),'utf8'),_0x1705e9=_0x10f2f9[_0x21de69(0x204)]('{version}',_0x514acc[_0x21de69(0x147)]);_0x1d4168[_0x21de69(0xe0)](_0x1705e9);});function findMatchingLogFiles(_0x3d15a1,_0x1b7c26=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x1447a7=a26_0x2e0f80;try{const _0x3575d5=fs['readdirSync'](_0x3d15a1);return _0x3575d5['filter'](_0x172c44=>_0x1b7c26[_0x1447a7(0x233)](_0x172c44))[_0x1447a7(0xff)](_0x2e199e=>_0x2e199e[_0x1447a7(0x204)]('call-Api_Conversion_','')[_0x1447a7(0x204)](_0x1447a7(0x1d5),''));}catch(_0x4e6fc8){return console[_0x1447a7(0x14b)](_0x1447a7(0x1b7),_0x4e6fc8),[];}}router['post']('/logs/content',async(_0x69348c,_0xed9a86)=>{const _0x348291=a26_0x2e0f80,_0x385344=new Date(),_0x36f579=_0x385344['getDate']()[_0x348291(0x23c)]()[_0x348291(0x156)](0x2,'0')+'_'+(_0x385344[_0x348291(0xf5)]()+0x1)[_0x348291(0x23c)]()['padStart'](0x2,'0')+'_'+_0x385344[_0x348291(0x101)](),{displayDay:_0x4318d2}=_0x69348c['body'],_0x242a46=path[_0x348291(0x13d)](path[_0x348291(0x1cb)](require[_0x348291(0x196)]['filename']),_0x348291(0x195),_0x348291(0x189)+(_0x4318d2??_0x36f579)+_0x348291(0x1d5));fs[_0x348291(0x186)](_0x242a46)?fs[_0x348291(0xfe)](_0x242a46,'utf8',function(_0xc42b61,_0x3b8daa){const _0x351639=_0x348291;_0xc42b61&&_0xed9a86['status'](0x1f4)['send'](_0xc42b61),_0xed9a86[_0x351639(0x12b)](0xc8)[_0x351639(0x144)]({'content':_0x3b8daa,'days':findMatchingLogFiles(path[_0x351639(0x13d)](path[_0x351639(0x1cb)](require[_0x351639(0x196)]['filename']),_0x351639(0x195)))});}):_0xed9a86[_0x348291(0x12b)](0xc8)['json']({'content':'','days':findMatchingLogFiles(path[_0x348291(0x13d)](path[_0x348291(0x1cb)](require[_0x348291(0x196)][_0x348291(0x140)]),_0x348291(0x195)))});}),router[a26_0x2e0f80(0x19c)]('/logs/clean',async(_0x56be9f,_0x2f43b6)=>{const _0x591788=a26_0x2e0f80,_0x183c3b=new Date(),_0x50da9f=_0x183c3b[_0x591788(0x256)]()[_0x591788(0x23c)]()[_0x591788(0x156)](0x2,'0')+'_'+(_0x183c3b[_0x591788(0xf5)]()+0x1)[_0x591788(0x23c)]()[_0x591788(0x156)](0x2,'0')+'_'+_0x183c3b[_0x591788(0x101)](),_0x39741c=findMatchingLogFiles(path[_0x591788(0x13d)](path[_0x591788(0x1cb)](require[_0x591788(0x196)][_0x591788(0x140)]),_0x591788(0x195)));_0x39741c[_0x591788(0x22a)](_0x1c505c=>{const _0x22befa=_0x591788;if(_0x1c505c!==_0x50da9f)fs['unlinkSync'](path['join'](path[_0x22befa(0x1cb)](require[_0x22befa(0x196)][_0x22befa(0x140)]),'logs',_0x22befa(0x189)+_0x1c505c+_0x22befa(0x1d5)));}),logStream[_0x591788(0x1c5)](),_0x2f43b6[_0x591788(0x12b)](0xc8)[_0x591788(0x144)]({'message':_0x591788(0x26b)});}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0xfb),protectedRoute,async(_0x3784e7,_0x4796b8)=>{const _0x31c5ae=a26_0x2e0f80,_0x23ba86=path[_0x31c5ae(0x13d)](path[_0x31c5ae(0x1cb)](require[_0x31c5ae(0x196)]['filename']),_0x31c5ae(0x139));if(!fs[_0x31c5ae(0x186)](_0x23ba86)){const _0x4ac890={'jsonDataExtraction':{'standard':[{'paramName':_0x31c5ae(0x144),'paramValue':''},{'paramName':'blocks','paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':'model','paramValue':''},{'paramName':_0x31c5ae(0x16f),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x31c5ae(0x110)},{'paramName':_0x31c5ae(0x25d),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x31c5ae(0x25d),'paramValue':''},{'paramName':_0x31c5ae(0x16f),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x31c5ae(0x1d1),'paramValue':''}]}};fs[_0x31c5ae(0x23e)](_0x23ba86,JSON['stringify'](_0x4ac890,null,0x4));}const _0x175f0d=fs[_0x31c5ae(0x16e)](path[_0x31c5ae(0x13d)](path[_0x31c5ae(0x1cb)](require['main'][_0x31c5ae(0x140)]),_0x31c5ae(0xf2)),_0x31c5ae(0x274)),_0x526e50=_0x175f0d[_0x31c5ae(0x204)](_0x31c5ae(0x154),_0x3784e7[_0x31c5ae(0x147)]);_0x4796b8[_0x31c5ae(0xe0)](_0x526e50);}),router['post'](a26_0x2e0f80(0x209),async(_0x466b4f,_0x52bbfe)=>{const _0x239326=a26_0x2e0f80,{actionName:_0x2b55a6,contentLocation:_0x3d6eba}=_0x466b4f[_0x239326(0xec)],_0x494c66=path[_0x239326(0x13d)](path['dirname'](require[_0x239326(0x196)][_0x239326(0x140)]),'cadviewer/settings/rest-api-parameters.json');fs[_0x239326(0xfe)](_0x494c66,_0x239326(0x274),function(_0x4134dc,_0x1c18ce){const _0x2b14d2=_0x239326;if(_0x4134dc)_0x52bbfe[_0x2b14d2(0x12b)](0xc8)['json']({'parameters':[]});else{const _0x471433=JSON[_0x2b14d2(0x231)](_0x1c18ce);if(_0x471433[_0x2b55a6]&&_0x471433[_0x2b55a6][_0x3d6eba])_0x52bbfe['status'](0xc8)[_0x2b14d2(0x144)]({'parameters':_0x471433[_0x2b55a6][_0x3d6eba]});else _0x471433[_0x2b55a6]&&_0x471433[_0x2b55a6][_0x2b14d2(0x1e9)]?_0x52bbfe[_0x2b14d2(0x12b)](0xc8)['json']({'parameters':_0x471433[_0x2b55a6][_0x2b14d2(0x1e9)]}):_0x52bbfe['status'](0xc8)[_0x2b14d2(0x144)]({'parameters':[]});}});}),router[a26_0x2e0f80(0x17d)]('/restapi-test/parameters/save',async(_0xba2822,_0x2141ab)=>{const _0x19a3ad=a26_0x2e0f80,{actionName:_0x496058,contentLocation:_0x4860a4,parameters:_0x213331}=_0xba2822[_0x19a3ad(0xec)],_0x3ed9a3=path[_0x19a3ad(0x13d)](path[_0x19a3ad(0x1cb)](require[_0x19a3ad(0x196)][_0x19a3ad(0x140)]),_0x19a3ad(0x139));fs[_0x19a3ad(0xfe)](_0x3ed9a3,_0x19a3ad(0x274),function(_0x11d3e2,_0x38b6c7){const _0x37dbb3=_0x19a3ad;if(_0x11d3e2)_0x2141ab[_0x37dbb3(0x12b)](0x199)['json']({'message':'Error\x20saving\x20parameters.'});else{const _0xeea2f=JSON[_0x37dbb3(0x231)](_0x38b6c7);!_0xeea2f[_0x496058]&&(_0xeea2f[_0x496058]={}),_0xeea2f[_0x496058][_0x4860a4]=_0x213331,fs[_0x37dbb3(0x207)](_0x3ed9a3,JSON[_0x37dbb3(0x216)](_0xeea2f,null,0x4),function(_0x3e6ae9){const _0x321b73=_0x37dbb3;_0x3e6ae9&&_0x2141ab[_0x321b73(0x12b)](0x199)[_0x321b73(0x144)]({'message':'Error\x20saving\x20parameters.'}),_0x2141ab['status'](0xc8)[_0x321b73(0x144)]({'message':'Parameters\x20saved.'});});}});}),router['get'](a26_0x2e0f80(0x155),protectedRoute,async(_0x44ee3d,_0x478649)=>{const _0x40fbf6=a26_0x2e0f80,_0x403cb5=fs['readFileSync'](path[_0x40fbf6(0x13d)](path[_0x40fbf6(0x1cb)](require[_0x40fbf6(0x196)][_0x40fbf6(0x140)]),_0x40fbf6(0xe7)),'utf8'),_0x277a8f=_0x403cb5[_0x40fbf6(0x204)]('{version}',_0x44ee3d[_0x40fbf6(0x147)]);_0x478649[_0x40fbf6(0xe0)](_0x277a8f);}),router[a26_0x2e0f80(0x17d)]('/doctor/check',async(_0x48fe8e,_0x19b122)=>{const _0x5ac3e4=a26_0x2e0f80,_0x1faa48=getHotConfig(),_0x2b2607=_0x1faa48['converterLocation']['replaceAll']('//','/'),_0x180d18=_0x1faa48['dwgmergeLocation']['replaceAll']('//','/'),_0x275f39=_0x1faa48[_0x5ac3e4(0x1ab)]['replaceAll']('//','/'),_0x78712e=''+_0x2b2607+_0x1faa48['autoxchange_executable'],_0xe94304=''+_0x180d18+_0x1faa48[_0x5ac3e4(0x21e)],_0x270d68=''+_0x275f39+_0x1faa48[_0x5ac3e4(0x174)],_0x36f89d=[],_0xb09d14=new Promise(_0x486158=>{const _0x35c3f7=_0x5ac3e4;exec(os[_0x35c3f7(0xdf)]()==='win32'?_0x35c3f7(0x16c):'ls',_0x3a33cb=>{const _0x5812f8=_0x35c3f7;_0x3a33cb?_0x36f89d[_0x5812f8(0x19e)]({'title':_0x5812f8(0x21c),'status':![],'priority':0x1}):_0x36f89d['push']({'title':_0x5812f8(0x21c),'status':!![],'priority':0x1}),_0x486158();});}),_0x19461d=new Promise(_0x20c3fe=>{const _0x212735=_0x5ac3e4;fs[_0x212735(0x254)](_0x78712e,fs[_0x212735(0x166)][_0x212735(0x150)],_0xd11aa8=>{const _0x62a483=_0x212735;_0xd11aa8?_0x36f89d[_0x62a483(0x19e)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x1faa48[_0x62a483(0x223)]+_0x62a483(0x1be),'status':![],'priority':0x2}):_0x36f89d[_0x62a483(0x19e)]({'title':_0x62a483(0x128)+_0x1faa48['autoxchange_executable']+_0x62a483(0x1be),'status':!![],'priority':0x2}),_0x20c3fe();});}),_0x19a71d=new Promise(_0x13a687=>{const _0x2ccc5e=_0x5ac3e4;fs[_0x2ccc5e(0x254)](_0xe94304,fs['constants'][_0x2ccc5e(0x150)],_0x638b52=>{const _0x108c30=_0x2ccc5e;_0x638b52?_0x36f89d[_0x108c30(0x19e)]({'title':_0x108c30(0x128)+_0x1faa48[_0x108c30(0x21e)]+_0x108c30(0x1be),'status':![],'priority':0x3}):_0x36f89d[_0x108c30(0x19e)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x1faa48['dwgmerge_executable']+_0x108c30(0x1be),'status':!![],'priority':0x3}),_0x13a687();});}),_0x48da9d=new Promise(_0x172b47=>{const _0xd4872e=_0x5ac3e4;fs[_0xd4872e(0x254)](_0x270d68,fs[_0xd4872e(0x166)][_0xd4872e(0x150)],_0x5dd875=>{const _0x1e28e3=_0xd4872e;_0x5dd875?_0x36f89d[_0x1e28e3(0x19e)]({'title':_0x1e28e3(0x128)+_0x1faa48[_0x1e28e3(0x174)]+_0x1e28e3(0x1be),'status':![],'priority':0x4}):_0x36f89d[_0x1e28e3(0x19e)]({'title':_0x1e28e3(0x128)+_0x1faa48['linklist_executable']+_0x1e28e3(0x1be),'status':!![],'priority':0x4}),_0x172b47();});}),_0x30b0ad=new Promise(_0xefff9a=>{const _0x1b9bc8=_0x5ac3e4,_0x1ed143=new Date(),_0x503b0c=_0x1ed143['getDate']()[_0x1b9bc8(0x23c)]()[_0x1b9bc8(0x156)](0x2,'0')+'_'+(_0x1ed143[_0x1b9bc8(0xf5)]()+0x1)['toString']()[_0x1b9bc8(0x156)](0x2,'0')+'_'+_0x1ed143[_0x1b9bc8(0x101)](),{displayDay:_0x24d2b0}=_0x48fe8e[_0x1b9bc8(0xec)];fs[_0x1b9bc8(0x254)](path[_0x1b9bc8(0x13d)](path[_0x1b9bc8(0x1cb)](require[_0x1b9bc8(0x196)]['filename']),_0x1b9bc8(0x195),_0x1b9bc8(0x189)+(_0x24d2b0??_0x503b0c)+'.log'),fs['constants'][_0x1b9bc8(0x22d)],_0x30b120=>{const _0x55309a=_0x1b9bc8;_0x30b120?_0x36f89d[_0x55309a(0x19e)]({'title':_0x55309a(0x122)+(_0x24d2b0??_0x503b0c)+_0x55309a(0xe3),'status':![],'priority':0x5}):_0x36f89d[_0x55309a(0x19e)]({'title':_0x55309a(0x122)+(_0x24d2b0??_0x503b0c)+'.log\x22','status':!![],'priority':0x5}),_0xefff9a();});}),_0x151552=(_0xeaa29b,_0x4c0ad1)=>{const _0x18b5af=_0x5ac3e4,_0x94e8e7=path['join'](path[_0x18b5af(0x1cb)](require[_0x18b5af(0x196)][_0x18b5af(0x140)]),_0xeaa29b);return new Promise(_0x3101fb=>{const _0xb0adeb=_0x18b5af;fs['access'](path[_0xb0adeb(0x13d)](path[_0xb0adeb(0x1cb)](_0x94e8e7)),fs['constants']['R_OK']|fs[_0xb0adeb(0x166)][_0xb0adeb(0x22d)],_0x613af3=>{const _0x1a2421=_0xb0adeb;_0x613af3?_0x36f89d[_0x1a2421(0x19e)]({'title':_0x1a2421(0x121)+_0xeaa29b,'status':![],'priority':_0x4c0ad1+0x6}):_0x36f89d[_0x1a2421(0x19e)]({'title':_0x1a2421(0x121)+_0xeaa29b,'status':!![],'priority':_0x4c0ad1+0x6}),_0x3101fb();});});},_0x4399e5=[_0x5ac3e4(0x257),_0x5ac3e4(0xeb),_0x5ac3e4(0x113),_0x5ac3e4(0x1ce),_0x5ac3e4(0x13b),'/content/redlines/',_0x5ac3e4(0x1f0)],_0xa7ab71=_0x4399e5[_0x5ac3e4(0xff)](_0x151552);Promise[_0x5ac3e4(0x1dc)]([_0xb09d14,_0x19461d,_0x19a71d,_0x48da9d,_0x30b0ad,..._0xa7ab71])[_0x5ac3e4(0x199)](()=>{const _0x4b5470=_0x5ac3e4;_0x19b122['status'](0xc8)[_0x4b5470(0x144)]({'checking_list':_0x36f89d});})[_0x5ac3e4(0x229)](()=>{const _0x575c92=_0x5ac3e4;_0x19b122[_0x575c92(0x12b)](0x1f4)[_0x575c92(0x144)]({'error':_0x575c92(0x268)});});}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0xfd),protectedRoute,async(_0x10218e,_0x41734b)=>{const _0x5a14e6=a26_0x2e0f80,_0x1460a7=fs['readFileSync'](path[_0x5a14e6(0x13d)](path[_0x5a14e6(0x1cb)](require[_0x5a14e6(0x196)][_0x5a14e6(0x140)]),_0x5a14e6(0x12e)),_0x5a14e6(0x274)),_0x36818c=_0x1460a7[_0x5a14e6(0x204)](_0x5a14e6(0x154),_0x10218e['version']);_0x41734b[_0x5a14e6(0xe0)](_0x36818c);}),router['post']('/users/list',async(_0x3dbf4d,_0x551a8f)=>{const _0x539ff4=a26_0x2e0f80;let _0x273415;try{const [_0xaf087a]=await conn[_0x539ff4(0x214)]()[_0x539ff4(0xe4)](_0x539ff4(0x1e6),[]);_0x273415=_0xaf087a;}catch(_0x685db3){console['log'](_0x685db3),_0x551a8f[_0x539ff4(0x12b)](0x1f4)['json']({'error':_0x539ff4(0x230)});return;}_0x551a8f[_0x539ff4(0x12b)](0xc8)['json']({'success':!![],'data':_0x273415});}),router[a26_0x2e0f80(0x17d)]('/users',upload['single'](a26_0x2e0f80(0x246)),async(_0x17c7fe,_0x53ecaf)=>{const _0x192a81=a26_0x2e0f80,{id:_0x210460,first_name:_0x5c126e,last_name:_0x30baab,username:_0x356822,email:_0x13ae6f,password:_0x1639e9,is_enabled:_0x3667de}=_0x17c7fe['body'],_0x4cd5f4=_0x17c7fe[_0x192a81(0xec)]['role']==='admin'?_0x192a81(0x148):_0x17c7fe['body'][_0x192a81(0x143)]===_0x192a81(0x1bf)?'demo_user':_0x192a81(0x1c6);let _0x2b8a9a;console[_0x192a81(0x129)](_0x192a81(0x16a));_0x1639e9&&(_0x2b8a9a=await bcrypt[_0x192a81(0x142)](_0x1639e9,0xa));let _0x431a20=null;if(_0x17c7fe[_0x192a81(0x1fd)]){const _0x9b404b='avatars/'+randomUUID()+_0x192a81(0x25b);fs['copyFileSync'](_0x17c7fe[_0x192a81(0x1fd)]['path'],'./'+_0x9b404b),fs[_0x192a81(0xe8)](_0x17c7fe[_0x192a81(0x1fd)]['path']),_0x431a20=config[_0x192a81(0xe1)]+'/'+_0x9b404b;}if(_0x210460){try{let [_0x987a42]=await conn[_0x192a81(0x214)]()[_0x192a81(0xe4)](_0x192a81(0x152),[_0x13ae6f,_0x356822,_0x210460]);if(_0x987a42['length']>0x0)_0x53ecaf[_0x192a81(0x12b)](0x199)[_0x192a81(0x144)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{!_0x17c7fe[_0x192a81(0x1fd)]&&([_0x987a42]=await conn[_0x192a81(0x214)]()[_0x192a81(0xe4)](_0x192a81(0x26f),[_0x210460]),_0x431a20=_0x987a42[0x0][_0x192a81(0x15f)]);const _0x586735='UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,'+(_0x1639e9?_0x192a81(0x1c2):'')+_0x192a81(0x19f);await conn['promise']()[_0x192a81(0xe4)](_0x586735,_0x1639e9?[_0x431a20,_0x5c126e,_0x30baab,_0x356822,_0x13ae6f,_0x2b8a9a,_0x3667de,_0x4cd5f4,_0x210460]:[_0x431a20,_0x5c126e,_0x30baab,_0x356822,_0x13ae6f,_0x3667de,_0x4cd5f4,_0x210460]);}}catch(_0x6153b4){console[_0x192a81(0x129)](_0x6153b4),_0x53ecaf[_0x192a81(0x12b)](0x1f4)[_0x192a81(0x144)]({'error':_0x192a81(0x230)});return;}_0x53ecaf[_0x192a81(0x12b)](0xc8)[_0x192a81(0x144)]({'success':!![],'message':_0x192a81(0x202)});}else{try{const [_0x9ed050]=await conn[_0x192a81(0x214)]()[_0x192a81(0xe4)](_0x192a81(0xf0),[_0x13ae6f,_0x356822]);if(_0x9ed050[_0x192a81(0x22c)]>0x0)_0x53ecaf[_0x192a81(0x12b)](0x199)['json']({'error':_0x192a81(0x226)});else{const _0x49e0e6=randomUUID();await conn[_0x192a81(0x214)]()[_0x192a81(0xe4)](_0x192a81(0x17e),[_0x431a20,_0x5c126e,_0x30baab,_0x356822,_0x13ae6f,_0x2b8a9a,_0x4cd5f4,_0x3667de,_0x49e0e6]);const _0x22748c='./uploads/'+_0x49e0e6;fs[_0x192a81(0x1ac)](_0x22748c);}}catch(_0x4e0735){console['log'](_0x4e0735),_0x53ecaf[_0x192a81(0x12b)](0x1f4)[_0x192a81(0x144)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x53ecaf['status'](0xc8)[_0x192a81(0x144)]({'success':!![],'message':_0x192a81(0x232)});}}),router[a26_0x2e0f80(0x19c)](a26_0x2e0f80(0x217),async(_0xb8086a,_0x5d36d2)=>{const _0x3b15c9=a26_0x2e0f80,{userId:_0x2a3cf3}=_0xb8086a['body'];let _0x5d826e;try{const [_0x4bc4f0]=await conn[_0x3b15c9(0x214)]()['execute'](_0x3b15c9(0x26f),[_0x2a3cf3]);_0x4bc4f0[_0x3b15c9(0x22c)]>0x0&&(_0x5d826e=_0x4bc4f0[0x0]);}catch(_0x5c3698){console['log']({'err':_0x5c3698}),_0x5d36d2[_0x3b15c9(0x12b)](0x1f4)[_0x3b15c9(0x144)]({'error':_0x3b15c9(0x230)});return;}if(!_0x5d826e){_0x5d36d2[_0x3b15c9(0x12b)](0x191)['json']({'error':_0x3b15c9(0x159)});return;}let _0x3a4765=_0x5d826e[_0x3b15c9(0x18a)];if(!_0x3a4765){_0x3a4765=randomUUID();try{await conn[_0x3b15c9(0x214)]()['execute'](_0x3b15c9(0x177),[_0x3a4765,_0x2a3cf3]);}catch(_0x315d6d){console[_0x3b15c9(0x129)]({'err':_0x315d6d}),_0x5d36d2['status'](0x1f4)['json']({'error':_0x3b15c9(0x230)});return;}}const _0x24d66e=_0x3b15c9(0x116)+_0x3a4765;console[_0x3b15c9(0x129)](_0x3b15c9(0x24e)),console['log'](_0x24d66e),!fs[_0x3b15c9(0x186)](_0x24d66e)&&fs[_0x3b15c9(0x1ac)](_0x24d66e),fs['rmSync'](_0x24d66e,{'recursive':!![],'force':!![]}),fs[_0x3b15c9(0x1ac)](_0x24d66e),_0x5d36d2['status'](0xc8)[_0x3b15c9(0x144)]({'success':!![],'message':_0x3b15c9(0x145)});}),router[a26_0x2e0f80(0x19c)](a26_0x2e0f80(0x24a),async(_0x196748,_0x156968)=>{const _0x567c54=a26_0x2e0f80,_0x34f798=_0x196748[_0x567c54(0x141)]['userId'];try{let _0xe28cbf;try{const [_0x2dd430]=await conn[_0x567c54(0x214)]()[_0x567c54(0xe4)](_0x567c54(0x26f),[_0x34f798]);_0x2dd430[_0x567c54(0x22c)]>0x0&&(_0xe28cbf=_0x2dd430[0x0]);}catch(_0x25ee12){console['log']({'err':_0x25ee12}),_0x156968[_0x567c54(0x12b)](0x1f4)[_0x567c54(0x144)]({'error':_0x567c54(0x230)});return;}if(!_0xe28cbf){_0x156968[_0x567c54(0x12b)](0x191)[_0x567c54(0x144)]({'error':_0x567c54(0x159)});return;}let _0x1c977f=_0xe28cbf[_0x567c54(0x18a)];if(_0x1c977f){const _0x40f236='./uploads/'+_0x1c977f;fs[_0x567c54(0x186)](_0x40f236)&&fs['rmSync'](_0x40f236,{'recursive':!![],'force':!![]});}await conn[_0x567c54(0x214)]()['execute']('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x34f798]);}catch(_0x17e1c5){console[_0x567c54(0x129)](_0x17e1c5),_0x156968[_0x567c54(0x12b)](0x1f4)[_0x567c54(0x144)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x156968[_0x567c54(0x12b)](0xc8)[_0x567c54(0x144)]({'success':!![],'message':_0x567c54(0x276)});}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x19d),async(_0x180c92,_0x326414)=>{const _0x3fdda4=a26_0x2e0f80,_0x45ff80=osu[_0x3fdda4(0x18f)],_0x54001c=osu[_0x3fdda4(0x267)],_0x1d6064=osu[_0x3fdda4(0x17a)],_0xc336af=osu['os'],_0x54dac2={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x3775f0=os[_0x3fdda4(0xdf)]()==='win32'?'c:':'/';const _0x2e8150=await _0x1d6064[_0x3fdda4(0x222)](_0x3775f0);_0x54dac2[_0x3fdda4(0xdc)]=_0x2e8150[_0x3fdda4(0x15b)],_0x54dac2[_0x3fdda4(0x168)]=_0x2e8150[_0x3fdda4(0x13e)],_0x54dac2[_0x3fdda4(0x239)]=_0x2e8150[_0x3fdda4(0x239)],_0x54dac2['totalGB']=_0x2e8150[_0x3fdda4(0x180)];}catch(_0x52c451){console[_0x3fdda4(0x129)](_0x3fdda4(0x1f6),_0x52c451);}const _0x1fb0db={'usage':0x0,'count':0x0};try{_0x1fb0db[_0x3fdda4(0x206)]=await _0x45ff80[_0x3fdda4(0x206)](),_0x1fb0db[_0x3fdda4(0x266)]=_0x45ff80[_0x3fdda4(0x266)]();}catch(_0x296cd7){console[_0x3fdda4(0x129)](_0x3fdda4(0x21d),_0x296cd7);}const _0xe06d33={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0xe06d33['os']=await _0xc336af[_0x3fdda4(0x211)](),_0xe06d33[_0x3fdda4(0xdf)]=_0xc336af[_0x3fdda4(0xdf)](),_0xe06d33['ip']=_0xc336af['ip'](),_0xe06d33[_0x3fdda4(0x25c)]=_0xc336af[_0x3fdda4(0x25c)](),_0xe06d33[_0x3fdda4(0x19b)]=_0xc336af[_0x3fdda4(0x19b)](),_0xe06d33[_0x3fdda4(0x271)]=_0xc336af['type'](),_0xe06d33[_0x3fdda4(0x1db)]=_0xc336af[_0x3fdda4(0x1db)](),_0xe06d33[_0x3fdda4(0x16d)]=await osu[_0x3fdda4(0xdd)][_0x3fdda4(0x16d)](),_0xe06d33['whoami']=await osu[_0x3fdda4(0xdd)]['whoami'](),_0xe06d33['vmstats']=await osu[_0x3fdda4(0xdd)]['vmstats']();}catch(_0x24fe22){console[_0x3fdda4(0x129)](_0x3fdda4(0x1e0),_0x24fe22);}const _0x187df9={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x187df9['totalProcesses']=await osu[_0x3fdda4(0x270)][_0x3fdda4(0x18d)](),_0x187df9[_0x3fdda4(0x25a)]=await osu[_0x3fdda4(0x270)][_0x3fdda4(0x25a)]();}catch(_0x1717a9){console['log'](_0x3fdda4(0x134),_0x1717a9);}let _0x24249a={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x343d61=await _0x54001c[_0x3fdda4(0x222)]();_0x24249a[_0x3fdda4(0x184)]=_0x343d61[_0x3fdda4(0x184)],_0x24249a[_0x3fdda4(0x197)]=_0x343d61[_0x3fdda4(0x258)]/0x400/0x400,_0x24249a['totalMemMb']=_0x343d61[_0x3fdda4(0x252)]/0x400/0x400;}catch(_0x93f098){console[_0x3fdda4(0x129)](_0x3fdda4(0xde),_0x93f098);}let _0x593beb=0x0;try{_0x593beb=await conn[_0x3fdda4(0x214)]()[_0x3fdda4(0x1a3)](_0x3fdda4(0x1c7))[_0x3fdda4(0x199)](([_0x88fcf6])=>_0x88fcf6[0x0][_0x3fdda4(0x252)]);}catch(_0x30eb81){console[_0x3fdda4(0x129)](_0x3fdda4(0x218),_0x30eb81);}const _0x1047f7=getMonitoringData(),_0x59fe04=_0x1047f7[_0x3fdda4(0x136)](_0x4f7bb8=>_0x4f7bb8['conversionTimeSpend']!==null&&_0x4f7bb8[_0x3fdda4(0x215)]!==undefined),_0x17ac86=_0x1047f7[_0x3fdda4(0x136)](_0x1a9bf1=>_0x1a9bf1['conversionMemoryUsage']!==null&&_0x1a9bf1[_0x3fdda4(0x1b9)]!==undefined)[_0x3fdda4(0xff)](_0x417c6e=>parseFloat(_0x417c6e['conversionMemoryUsage']['replaceAll']('Kb')[_0x3fdda4(0x1f2)]())),_0x408164=_0x59fe04[_0x3fdda4(0x1d2)]((_0x46e274,_0x4883e4)=>_0x46e274+parseFloat(_0x4883e4[_0x3fdda4(0x215)]),0x0)/_0x59fe04[_0x3fdda4(0x22c)],_0x2aba49=_0x17ac86[_0x3fdda4(0x1d2)]((_0x2aabfb,_0x555119)=>_0x2aabfb+_0x555119,0x0)/_0x17ac86[_0x3fdda4(0x22c)];_0x326414['json']({'requestsPerSecond':counter[_0x3fdda4(0x275)](),'diskUsage':_0x54dac2,'cpus':_0x1fb0db,'system':_0xe06d33,'process':_0x187df9,'totalMonitoringData':_0x1047f7[_0x3fdda4(0x22c)],'memory':_0x24249a,'totalUsers':_0x593beb,'avgConvertionTime':_0x408164,'avgMemoryUsage':_0x2aba49});}),router[a26_0x2e0f80(0x17d)](a26_0x2e0f80(0x25e),(_0x356912,_0x486a1e)=>{const _0x4a4afb=a26_0x2e0f80;counter[_0x4a4afb(0x20d)](),_0x486a1e['json']({'message':_0x4a4afb(0x170)});});const getMonitoringData=()=>{const _0x4c9713=a26_0x2e0f80,_0x13e7ed='cadviewer/settings/requests-callapiconversion-monitoring.json';let _0x14236c=[];try{_0x14236c=JSON[_0x4c9713(0x231)](fs['readFileSync'](_0x13e7ed));}catch(_0x1f9abc){console[_0x4c9713(0x129)]('Error\x20reading\x20monitoring\x20file');}return _0x14236c;};router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x243),async(_0x36fbd0,_0x2b8a47)=>{const _0x25cafe=a26_0x2e0f80,{page:page=0x1,limit:limit=0xa}=_0x36fbd0[_0x25cafe(0x1a3)],_0x36663f=(page-0x1)*limit;try{const _0x332666=getMonitoringData(),_0x117131=_0x332666[_0x25cafe(0x22c)],_0xdd5e1d=Math[_0x25cafe(0xe9)](_0x117131/limit),_0x5766c1=_0x332666['slice'](_0x36663f,_0x36663f+limit);_0x2b8a47[_0x25cafe(0x12b)](0xc8)[_0x25cafe(0x144)]({'data':_0x5766c1,'page':parseInt(''+page),'totalPages':_0xdd5e1d,'total':_0x117131});}catch(_0x3e19d9){console[_0x25cafe(0x129)](_0x3e19d9),_0x2b8a47['status'](0x1f4)[_0x25cafe(0x144)]({'error':_0x25cafe(0x230)});}}),router[a26_0x2e0f80(0x19c)](a26_0x2e0f80(0x138),async(_0x2263b2,_0xd6032f)=>{const _0x522e52=a26_0x2e0f80,_0x4dcb33=_0x522e52(0x249);try{fs['writeFileSync'](_0x4dcb33,JSON[_0x522e52(0x216)]([],null,0x4)),analyzeConverterFiles(),_0xd6032f[_0x522e52(0x12b)](0xc8)[_0x522e52(0x144)]({'message':_0x522e52(0x137)});}catch(_0x5e80e5){console['log'](_0x5e80e5),_0xd6032f[_0x522e52(0x12b)](0x1f4)['json']({'error':_0x522e52(0x230)});}}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x277),async(_0x1a2094,_0x9f0c0b)=>{const _0x3cde84=a26_0x2e0f80,_0x422681=getHotConfig()[_0x3cde84(0x1b3)][_0x3cde84(0x204)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x1a2094[_0x3cde84(0x1a3)],_0x516c0b=(page-0x1)*limit;try{const _0x6caa9e=_0x422681+_0x3cde84(0x23d);console[_0x3cde84(0x129)](_0x6caa9e);const _0x4bd5bc=fs['readFileSync'](_0x6caa9e,_0x3cde84(0x274)),_0x3b88da=_0x4bd5bc[_0x3cde84(0x1d8)]('\x0a'),_0x1e2b72=[];_0x3b88da[_0x3cde84(0x22a)](_0x627038=>{const _0x462795=_0x3cde84,_0x213812=_0x627038[_0x462795(0x1d8)](',');if(_0x213812['length']<0x4)return;const _0xb25a82=_0x213812[0x0],_0x51a52d=_0x213812[0x1],_0xe8be9c=parseFloat(_0x213812[0x2]);_0x1e2b72[_0x462795(0x19e)]({'file':_0xb25a82['replaceAll']('\x22',''),'action':_0x51a52d,'timeSpend':_0xe8be9c,'memoryUsage':_0x213812[0x3]});});const _0x55beda=_0x1e2b72['length'],_0x32b119=Math[_0x3cde84(0xe9)](_0x55beda/limit),_0x45bbdf=_0x1e2b72[_0x3cde84(0x1a4)](_0x516c0b,_0x516c0b+limit);_0x9f0c0b[_0x3cde84(0x12b)](0xc8)['json']({'data':_0x45bbdf,'page':parseInt(''+page),'totalPages':_0x32b119,'total':_0x55beda});}catch(_0x24b5e4){console['log'](_0x24b5e4),_0x9f0c0b['status'](0x1f4)[_0x3cde84(0x144)]({'error':_0x3cde84(0x230)});}}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x237),async(_0xe927da,_0x4f21d6)=>{const _0x54382e=a26_0x2e0f80,_0x475f52=path[_0x54382e(0x13d)](path[_0x54382e(0x1cb)](require[_0x54382e(0x196)][_0x54382e(0x140)]),_0x54382e(0x11b),_0x54382e(0x17c));try{let _0x359d52=0x0,_0x52407e=0x0;function _0xd55b6c(_0x30a8f1){const _0x50db91=_0x54382e;let _0x40bd0a=0x0,_0x261c83=0x0;if(fs[_0x50db91(0x186)](_0x30a8f1)){const _0x202af4=fs[_0x50db91(0x105)](_0x30a8f1);_0x261c83=0x0;for(const _0x5ebc4a of _0x202af4){const _0x1c30bb=path['join'](_0x30a8f1,_0x5ebc4a),_0x49148a=fs['statSync'](_0x1c30bb);if(_0x49148a[_0x50db91(0x1ee)]()&&_0x5ebc4a!==_0x50db91(0x179))_0x261c83++,_0x40bd0a+=_0x49148a[_0x50db91(0x18b)];else{if(_0x49148a[_0x50db91(0x118)]()){}}}}return{'size':_0x40bd0a,'count':_0x261c83};}const _0xfb0ae=_0xd55b6c(_0x475f52);_0x359d52=_0xfb0ae[_0x54382e(0x18b)],_0x52407e=_0xfb0ae['count'],_0x4f21d6['json']({'fileCount':_0x52407e,'totalSize':_0x359d52});}catch(_0x55dcf8){console[_0x54382e(0x14b)](_0x54382e(0x22f),_0x55dcf8),_0x4f21d6[_0x54382e(0x12b)](0x1f4)[_0x54382e(0x144)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x2e0f80(0x19c)](a26_0x2e0f80(0x127),async(_0x393827,_0x2adacc)=>{const _0x3463fd=a26_0x2e0f80,_0x20d28f=path[_0x3463fd(0x13d)](path[_0x3463fd(0x1cb)](require[_0x3463fd(0x196)][_0x3463fd(0x140)]),_0x3463fd(0x11b),_0x3463fd(0x17c));try{function _0x2d9596(_0x98307f){const _0x44d63a=_0x3463fd;if(fs[_0x44d63a(0x186)](_0x98307f)){const _0x356795=fs[_0x44d63a(0x105)](_0x98307f);for(const _0x5a9329 of _0x356795){const _0x5c2650=path[_0x44d63a(0x13d)](_0x98307f,_0x5a9329),_0x5a148c=fs['statSync'](_0x5c2650);if(_0x5a148c[_0x44d63a(0x118)]()){}else _0x5a9329!==_0x44d63a(0x179)&&fs[_0x44d63a(0xe8)](_0x5c2650);}}}_0x2d9596(_0x20d28f),analyzeConverterFiles(),_0x2adacc[_0x3463fd(0x144)]({'message':_0x3463fd(0x1d9)});}catch(_0x2877c4){console[_0x3463fd(0x14b)]('Error\x20flushing\x20cache:',_0x2877c4),_0x2adacc[_0x3463fd(0x12b)](0x1f4)[_0x3463fd(0x144)]({'error':_0x3463fd(0x11a)});}}),router['get']('/cache-stats.js',async(_0x56ae38,_0x5828c5)=>{const _0x2d3ae5=a26_0x2e0f80;_0x5828c5[_0x2d3ae5(0x240)](path[_0x2d3ae5(0x13d)](path[_0x2d3ae5(0x1cb)](require['main'][_0x2d3ae5(0x140)]),_0x2d3ae5(0x255)));}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x247),protectedRoute,async(_0x505c82,_0x56ef79)=>{const _0x5bd302=a26_0x2e0f80,_0x4f9e89=fs['readFileSync'](path[_0x5bd302(0x13d)](path[_0x5bd302(0x1cb)](require[_0x5bd302(0x196)][_0x5bd302(0x140)]),_0x5bd302(0x1a6)),_0x5bd302(0x274)),_0x20f6b7=_0x4f9e89[_0x5bd302(0x204)](_0x5bd302(0x154),_0x505c82['version']);_0x56ef79[_0x5bd302(0xe0)](_0x20f6b7);}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x213),async(_0x3692b5,_0x36d884)=>{const _0x3efeef=a26_0x2e0f80,{page:page=0x1,limit:limit=0x10}=_0x3692b5[_0x3efeef(0x1a3)],_0x538819=JSON[_0x3efeef(0x231)](fs[_0x3efeef(0x16e)](path[_0x3efeef(0x13d)](path[_0x3efeef(0x1cb)](require['main']['filename']),_0x3efeef(0x1ea)))),_0x4c341c=(page-0x1)*limit,_0x393727=page*limit,_0xd5f810=_0x538819[_0x3efeef(0x17c)][_0x3efeef(0x22c)],_0x4b4524=Math[_0x3efeef(0xe9)](_0xd5f810/limit),_0x443b9e=_0x538819[_0x3efeef(0x17c)]['slice'](_0x4c341c,_0x393727);_0x36d884[_0x3efeef(0x144)]({'files':_0x443b9e,'pagination':{'total':_0xd5f810,'totalPages':_0x4b4524,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router['get'](a26_0x2e0f80(0x1d7),async(_0x1aede4,_0x2c2f30)=>{const _0x4de431=a26_0x2e0f80,{file:_0x3732d3}=_0x1aede4['params'],_0x556599=path[_0x4de431(0x13d)](path[_0x4de431(0x1cb)](require[_0x4de431(0x196)][_0x4de431(0x140)]),'converters',_0x4de431(0x17c)),_0x5b9486=path[_0x4de431(0x13d)](_0x556599,_0x3732d3),_0x2da8b9=fs[_0x4de431(0x16e)](_0x5b9486,_0x4de431(0x274)),_0x5d45c6=_0x2da8b9[_0x4de431(0x1d8)]('\x0a'),_0x545989=_0x5d45c6[_0x4de431(0xff)](_0xbebf9f=>{const _0x1b793f=_0x4de431,_0x297459=_0xbebf9f[_0x1b793f(0x1d8)](',');return _0x297459[_0x1b793f(0xff)](_0x1df837=>_0x1df837[_0x1b793f(0x204)]('\x22',''));});_0x2c2f30['json'](_0x545989);}),router[a26_0x2e0f80(0x26d)](a26_0x2e0f80(0x18e),async(_0x114d11,_0x2319d1)=>{const _0x9d735f=a26_0x2e0f80,{id:_0x511c05}=_0x114d11['params'],_0x20abf6=path[_0x9d735f(0x13d)](path[_0x9d735f(0x1cb)](require[_0x9d735f(0x196)]['filename']),_0x9d735f(0x11b),'files'),_0x52b50=path[_0x9d735f(0x13d)](_0x20abf6,_0x511c05);if(_0x52b50[_0x9d735f(0x15d)](_0x9d735f(0x124))){var _0x1865de=require(_0x9d735f(0x15e));const _0x4107c1=fs[_0x9d735f(0x16e)](_0x52b50),_0x4f5338=_0x1865de[_0x9d735f(0x1bc)](_0x4107c1);_0x2319d1[_0x9d735f(0x220)](_0x9d735f(0xfc),_0x9d735f(0x1f4)),_0x2319d1[_0x9d735f(0xe0)](_0x4f5338);}else _0x2319d1['sendFile'](_0x52b50);}),router[a26_0x2e0f80(0x19c)]('/cache/files/:id',async(_0x3173aa,_0x50238f)=>{const _0xa3f10d=a26_0x2e0f80,{id:_0xa587b6}=_0x3173aa[_0xa3f10d(0x141)],_0x5adee0=path[_0xa3f10d(0x13d)](path[_0xa3f10d(0x1cb)](require['main'][_0xa3f10d(0x140)]),_0xa3f10d(0x11b),_0xa3f10d(0x17c)),_0x34c028=JSON[_0xa3f10d(0x231)](fs['readFileSync'](path[_0xa3f10d(0x13d)](path[_0xa3f10d(0x1cb)](require[_0xa3f10d(0x196)][_0xa3f10d(0x140)]),'cadviewer/settings/converter-files-analysis.json'))),_0x334d13=_0x34c028[_0xa3f10d(0x17c)][_0xa3f10d(0x114)](_0x3f4949=>_0x3f4949[_0xa3f10d(0x250)]===_0xa587b6);if(_0x334d13){try{fs['existsSync'](path[_0xa3f10d(0x13d)](_0x5adee0,_0x334d13[_0xa3f10d(0x250)]))&&fs[_0xa3f10d(0xe8)](path[_0xa3f10d(0x13d)](_0x5adee0,_0x334d13[_0xa3f10d(0x250)]));}catch(_0x5efdec){console[_0xa3f10d(0x129)](_0xa3f10d(0x107),{'e':_0x5efdec});}(_0x334d13[_0xa3f10d(0x21a)]??[])[_0xa3f10d(0x22a)](_0x4846b8=>{const _0x388964=_0xa3f10d;try{fs[_0x388964(0x186)](path[_0x388964(0x13d)](_0x5adee0,_0x4846b8['id']))&&fs[_0x388964(0xe8)](path[_0x388964(0x13d)](_0x5adee0,_0x4846b8['id']));}catch(_0x3f65a4){console[_0x388964(0x129)](_0x388964(0x107),{'e':_0x3f65a4});}});}analyzeConverterFiles(),_0x50238f[_0xa3f10d(0x144)]({'message':'File\x20deleted\x20successfully'});});const deleteOldDemoUsers=async()=>{const _0x2975c4=a26_0x2e0f80;console['log'](_0x2975c4(0x24f));const _0x19fad0=config[_0x2975c4(0x13a)],_0x2a891c=_0x2975c4(0x1b2);try{const [_0x13e817]=await conn[_0x2975c4(0x214)]()[_0x2975c4(0xe4)](_0x2a891c,[_0x19fad0]),_0x271c99=_0x13e817['map'](_0x53a004=>_0x53a004[_0x2975c4(0x18a)]),_0xe39438=_0x13e817['map'](_0x461ea0=>_0x461ea0[_0x2975c4(0x158)]);console['log'](_0xe39438),await conn[_0x2975c4(0x214)]()[_0x2975c4(0xe4)](_0x2975c4(0x11e),[_0x19fad0]),_0x271c99[_0x2975c4(0x22a)](_0xc21f36=>{const _0x2cf34e=_0x2975c4;try{const _0x1af404=_0x2cf34e(0x116)+_0xc21f36;fs['rmdirSync'](_0x1af404);}catch(_0x43844e){console['error']('Error\x20deleting\x20user\x20folder:',_0x43844e);}}),console[_0x2975c4(0x129)]('Old\x20demo_user\x20accounts\x20('+_0x13e817[_0x2975c4(0x22c)]+_0x2975c4(0xe6)+_0x19fad0+'\x20days\x20have\x20been\x20deleted.');}catch(_0x26b3df){console[_0x2975c4(0x14b)](_0x2975c4(0x10b),_0x26b3df);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x16f6a4=a26_0x2e0f80,_0xcecbeb=require(_0x16f6a4(0x200))[_0x16f6a4(0x1fb)];try{const [_0x5142e9]=await conn['promise']()[_0x16f6a4(0xe4)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[config[_0x16f6a4(0x13a)]-config['demoUserRetentionDaysAlertBeforeDeletion']]);if(_0x5142e9[_0x16f6a4(0x22c)]===0x0){console[_0x16f6a4(0x129)]('No\x20users\x20to\x20notify\x20about\x20account\x20deletion');return;}for(const _0x20eb86 of _0x5142e9){let _0x315af4=_0x16f6a4(0x1a2)+(_0x20eb86[_0x16f6a4(0x193)]||_0x20eb86[_0x16f6a4(0x100)])+_0x16f6a4(0x24d);const _0x305948={'from':config[_0x16f6a4(0x26c)],'to':_0x20eb86[_0x16f6a4(0x158)],'subject':_0x16f6a4(0x1f8),'text':_0x16f6a4(0x1ba),'html':_0x315af4};try{await _0xcecbeb[_0x16f6a4(0x1e7)](_0x305948),console['log']('Deletion\x20prevention\x20email\x20sent\x20to\x20'+_0x20eb86[_0x16f6a4(0x158)]);}catch(_0x28e6cb){console[_0x16f6a4(0x129)](_0x16f6a4(0x1e1)),console['log'](_0x16f6a4(0x108)+_0x20eb86[_0x16f6a4(0x158)]),console['log'](_0x28e6cb);}}}catch(_0x536847){console['log'](_0x16f6a4(0x1e1)),console['log']('Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails'),console[_0x16f6a4(0x129)](_0x536847);}};function a26_0x2059(_0x4d8658,_0x4dcba4){const _0x154277=a26_0x1542();return a26_0x2059=function(_0x20596b,_0x4b512d){_0x20596b=_0x20596b-0xdc;let _0x2889=_0x154277[_0x20596b];return _0x2889;},a26_0x2059(_0x4d8658,_0x4dcba4);}schedule['scheduleJob'](a26_0x2e0f80(0x194),deleteOldDemoUsers),schedule[a26_0x2e0f80(0x1c1)](a26_0x2e0f80(0x14c),sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x43d4e3=a26_0x2e0f80;console['log'](_0x43d4e3(0x1f3));try{const _0x572571=path[_0x43d4e3(0x13d)](path[_0x43d4e3(0x1cb)](require[_0x43d4e3(0x196)][_0x43d4e3(0x140)]),'converters','files'),_0x3b2cef=path[_0x43d4e3(0x13d)](path['dirname'](require['main']['filename']),_0x43d4e3(0x228),_0x43d4e3(0x13f));if(!fs[_0x43d4e3(0x186)](_0x572571)){logStream[_0x43d4e3(0x109)](_0x43d4e3(0x104)+_0x572571+'\x20n\x27existe\x20pas.');return;}if(!fs[_0x43d4e3(0x186)](_0x3b2cef)){logStream[_0x43d4e3(0x109)](_0x43d4e3(0x104)+_0x3b2cef+_0x43d4e3(0x1d4));return;}const _0x35c385=fs[_0x43d4e3(0x105)](_0x572571),_0x128dc0={};_0x35c385[_0x43d4e3(0x22a)](_0x4a5892=>{const _0x29a6d9=_0x43d4e3,_0x5351a0=path[_0x29a6d9(0x13d)](_0x572571,_0x4a5892),_0x1aa832=fs[_0x29a6d9(0x262)](_0x5351a0);!Object['keys'](_0x128dc0)[_0x29a6d9(0xef)](_0x4a5892[_0x29a6d9(0x1d8)]('.')[0x0])?_0x128dc0[_0x4a5892[_0x29a6d9(0x1d8)]('.')[0x0]]=[{'file':_0x4a5892,'stats':_0x1aa832}]:_0x128dc0[_0x4a5892[_0x29a6d9(0x1d8)]('.')[0x0]][_0x29a6d9(0x19e)]({'file':_0x4a5892,'stats':_0x1aa832});});const _0x150084=[];_0x35c385[_0x43d4e3(0x22a)](_0x341e61=>{const _0x283574=_0x43d4e3;if(!_0x341e61[_0x283574(0x15d)](_0x283574(0x26e)))return;let _0x30be09=_0x341e61;const _0x5e61bb=path['join'](_0x572571,_0x341e61),_0x2f391a=fs[_0x283574(0x262)](_0x5e61bb);let _0x4be1ad=_0x2f391a[_0x283574(0x18b)],_0x5e12e1='';const _0x2eb206=fs[_0x283574(0x16e)](_0x5e61bb,_0x283574(0x274)),_0x19c814=JSON[_0x283574(0x231)](_0x2eb206),_0x20e809=_0x19c814[_0x283574(0x1ec)]?.[_0x283574(0xff)](_0xeb9f23=>_0xeb9f23[_0x283574(0x171)])??[];if(_0x19c814[_0x283574(0x140)])_0x30be09=_0x19c814[_0x283574(0x140)];const _0x1bc337=Object[_0x283574(0x115)](_0x128dc0)['includes'](_0x341e61['split']('.')[0x0])?_0x128dc0[_0x341e61['split']('.')[0x0]]:[];for(const _0x5d51e8 of _0x20e809){Object[_0x283574(0x115)](_0x128dc0)[_0x283574(0xef)](_0x5d51e8)&&_0x1bc337[_0x283574(0x19e)](..._0x128dc0[_0x5d51e8]);}const _0x1065fc=_0x1bc337['map'](({file:_0x22664e,stats:_0x5b4ac1})=>{const _0x25dc21=_0x283574;return!_0x22664e[_0x25dc21(0x15d)]('.dwg.json')&&(_0x4be1ad+=_0x5b4ac1[_0x25dc21(0x18b)]),{'id':_0x22664e,'name':_0x22664e[_0x25dc21(0x15d)]('.svg')?_0x25dc21(0x219):_0x22664e['endsWith'](_0x25dc21(0x124))?_0x25dc21(0x1c0):_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x181))?_0x25dc21(0x1fc):_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x188))?_0x25dc21(0x165):_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x23f))?'CSV':_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x10d))?'DWG':_0x22664e[_0x25dc21(0x1d8)]('.')['pop']()[_0x25dc21(0x212)](),'color':_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x192))||_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x124))?'yellow':_0x22664e[_0x25dc21(0x15d)]('.pdf')?_0x25dc21(0x12c):_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x188))?'gray':_0x22664e[_0x25dc21(0x15d)](_0x25dc21(0x23f))?_0x25dc21(0xe5):_0x22664e['endsWith'](_0x25dc21(0x10d))?_0x25dc21(0x198):'purple'};});if(_0x1065fc[_0x283574(0x235)](_0x209f4d=>_0x209f4d['id'][_0x283574(0xef)](_0x283574(0x10c))))_0x5e12e1=_0x283574(0x1cd);else{if(_0x1065fc[_0x283574(0x235)](_0x219ef8=>['svg',_0x283574(0x1b6)]['includes'](_0x219ef8['id']['split']('.')['pop']()))&&_0x1065fc['some'](_0x337f95=>[_0x283574(0x1af)][_0x283574(0xef)](_0x337f95['id'][_0x283574(0x1d8)]('.')[_0x283574(0x120)]())))_0x5e12e1=_0x283574(0x190);else{if(_0x1065fc[_0x283574(0x235)](_0x5bba26=>[_0x283574(0x1d6),_0x283574(0x1b6)][_0x283574(0xef)](_0x5bba26['id'][_0x283574(0x1d8)]('.')[_0x283574(0x120)]())))_0x5e12e1=_0x283574(0x1c4);else{if(_0x1065fc[_0x283574(0x235)](_0x37c405=>['json']['includes'](_0x37c405['id']['split']('.')[_0x283574(0x120)]()))&&_0x1065fc[_0x283574(0x235)](_0x3765e4=>['dwg'][_0x283574(0xef)](_0x3765e4['id'][_0x283574(0x1d8)]('.')[_0x283574(0x120)]())))_0x5e12e1=_0x283574(0xee);else{if(_0x1065fc[_0x283574(0x235)](_0x7a8ec9=>['pdf']['includes'](_0x7a8ec9['id']['split']('.')[_0x283574(0x120)]())))_0x5e12e1='DWG\x20to\x20PDF\x20Conversion';else{if(_0x1065fc[_0x283574(0x235)](_0x3b518e=>['json'][_0x283574(0xef)](_0x3b518e['id']['split']('.')[_0x283574(0x120)]()))&&!_0x1065fc[_0x283574(0x235)](_0x1746af=>['dwg'][_0x283574(0xef)](_0x1746af['id'][_0x283574(0x1d8)]('.')[_0x283574(0x120)]())))_0x5e12e1=_0x283574(0x248);else _0x1065fc[_0x283574(0x235)](_0x573d5d=>[_0x283574(0x144)][_0x283574(0xef)](_0x573d5d['id'][_0x283574(0x1d8)]('.')[_0x283574(0x120)]()))&&(_0x5e12e1=_0x283574(0x175));}}}}}_0x150084[_0x283574(0x19e)]({'name':_0x341e61,'goodFileName':_0x30be09,'size':_0x4be1ad,'createdAt':_0x2f391a[_0x283574(0x1b8)],'updatedAt':_0x2f391a[_0x283574(0x1b0)],'readAt':_0x2f391a[_0x283574(0x102)],'action':_0x5e12e1,'availableFormats':_0x1065fc});}),_0x150084[_0x43d4e3(0xf7)]((_0x21113c,_0x44282)=>_0x44282[_0x43d4e3(0x265)]-_0x21113c[_0x43d4e3(0x265)]);const _0x159029={'timestamp':new Date(),'totalFiles':_0x150084[_0x43d4e3(0x22c)],'files':_0x150084},_0x5abc7d=path[_0x43d4e3(0x13d)](_0x3b2cef,'converter-files-analysis.json');fs['writeFileSync'](_0x5abc7d,JSON[_0x43d4e3(0x216)](_0x159029,null,0x2)),console[_0x43d4e3(0x129)](_0x43d4e3(0x269)+_0x5abc7d);}catch(_0x4d9668){console[_0x43d4e3(0x129)](_0x43d4e3(0x1e1)),console['log'](_0x43d4e3(0x157)+_0x4d9668[_0x43d4e3(0x131)]);}},scheduleFileAnalysis=()=>{const _0x2b709a=a26_0x2e0f80;analyzeConverterFiles(),schedule[_0x2b709a(0x1c1)](_0x2b709a(0xf8),analyzeConverterFiles),logStream[_0x2b709a(0x109)]('Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)');};scheduleFileAnalysis(),module[a26_0x2e0f80(0x169)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};