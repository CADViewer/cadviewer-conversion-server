const a26_0x401f54=a26_0x5e24;(function(_0x2981d6,_0x26326b){const _0x508ecc=a26_0x5e24,_0x3f2047=_0x2981d6();while(!![]){try{const _0x1dc41a=-parseInt(_0x508ecc(0x2d7))/0x1*(parseInt(_0x508ecc(0x1a9))/0x2)+-parseInt(_0x508ecc(0x2a3))/0x3+-parseInt(_0x508ecc(0x27e))/0x4+-parseInt(_0x508ecc(0x2c2))/0x5+parseInt(_0x508ecc(0x1b9))/0x6*(-parseInt(_0x508ecc(0x19f))/0x7)+parseInt(_0x508ecc(0x25e))/0x8*(parseInt(_0x508ecc(0x188))/0x9)+parseInt(_0x508ecc(0x231))/0xa;if(_0x1dc41a===_0x26326b)break;else _0x3f2047['push'](_0x3f2047['shift']());}catch(_0x10857f){_0x3f2047['push'](_0x3f2047['shift']());}}}(a26_0x1f08,0xaf6fc));const express=require(a26_0x401f54(0x255)),router=express[a26_0x401f54(0x1a4)](),multer=require('multer'),fs=require('fs'),path=require(a26_0x401f54(0x236)),getHotConfig=require(a26_0x401f54(0x168))['getHotConfig'],{exec}=require(a26_0x401f54(0x22f)),os=require('os'),conn=require(a26_0x401f54(0x1d0)),bcrypt=require(a26_0x401f54(0x252)),osu=require(a26_0x401f54(0x2a4)),schedule=require(a26_0x401f54(0x1a2)),counter=require(a26_0x401f54(0x197)),{randomUUID}=require(a26_0x401f54(0x2b4)),logStream=require('../libs/log'),config=require(a26_0x401f54(0x1d8)),basicAuth=require(a26_0x401f54(0x1ac)),protectedRoute=basicAuth({'users':{[config[a26_0x401f54(0x1e8)]]:config['settingsPasswordBasicAuth']},'challenge':!![],'realm':'CADViewer\x20Settings'});router[a26_0x401f54(0x1e2)](a26_0x401f54(0x1b6),async(_0x11533a,_0x3858c4)=>{const _0x3fdfb6=a26_0x401f54;_0x3858c4['sendFile'](path['join'](path[_0x3fdfb6(0x1e3)](require[_0x3fdfb6(0x242)][_0x3fdfb6(0x25f)]),_0x3fdfb6(0x2cb)));}),router[a26_0x401f54(0x1e2)]('/chart.min.js',async(_0x4e74a1,_0x120ece)=>{const _0x2b2749=a26_0x401f54;_0x120ece[_0x2b2749(0x2cf)](path['join'](path[_0x2b2749(0x1e3)](require[_0x2b2749(0x242)]['filename']),_0x2b2749(0x1db)));}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x159),async(_0x59cd85,_0x5c0fca)=>{const _0x4255db=a26_0x401f54;_0x5c0fca['sendFile'](path[_0x4255db(0x161)](path[_0x4255db(0x1e3)](require[_0x4255db(0x242)][_0x4255db(0x25f)]),_0x4255db(0x1c2)));}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x211),async(_0x3697a4,_0x4af63c)=>{const _0x11e621=a26_0x401f54;_0x4af63c['sendFile'](path[_0x11e621(0x161)](path[_0x11e621(0x1e3)](require['main'][_0x11e621(0x25f)]),_0x11e621(0x22b)));}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x234),async(_0x1c1ab2,_0x137e19)=>{const _0x10a37d=a26_0x401f54;_0x137e19[_0x10a37d(0x2cf)](path['join'](path[_0x10a37d(0x1e3)](require[_0x10a37d(0x242)][_0x10a37d(0x25f)]),_0x10a37d(0x1c1)));}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x179),async(_0x87909f,_0x4d0174)=>{const _0x1e63bb=a26_0x401f54;_0x4d0174['sendFile'](path[_0x1e63bb(0x161)](path[_0x1e63bb(0x1e3)](require[_0x1e63bb(0x242)]['filename']),'cadviewer/settings/icons.js'));}),router[a26_0x401f54(0x1e2)]('/',protectedRoute,async(_0x422a31,_0x784f0)=>{const _0x26962a=a26_0x401f54,_0x3eb346=fs['readFileSync'](path['join'](path[_0x26962a(0x1e3)](require['main'][_0x26962a(0x25f)]),_0x26962a(0x1e1)),_0x26962a(0x278)),_0x16e59a=_0x3eb346[_0x26962a(0x283)](_0x26962a(0x167),_0x422a31[_0x26962a(0x163)]);_0x784f0[_0x26962a(0x18a)](_0x16e59a);}),router['get'](a26_0x401f54(0x1c3),protectedRoute,async(_0x25b34e,_0x1ad550)=>{const _0x5e4aa7=a26_0x401f54,_0x3dfb2c=fs[_0x5e4aa7(0x1e9)](path[_0x5e4aa7(0x161)](path[_0x5e4aa7(0x1e3)](require['main'][_0x5e4aa7(0x25f)]),_0x5e4aa7(0x229)),_0x5e4aa7(0x278)),_0xc85986=_0x3dfb2c[_0x5e4aa7(0x283)](_0x5e4aa7(0x167),_0x25b34e[_0x5e4aa7(0x163)]);_0x1ad550[_0x5e4aa7(0x18a)](_0xc85986);}),router[a26_0x401f54(0x1e2)]('/config',protectedRoute,async(_0x3fe862,_0x2b56a9)=>{const _0x1e6802=a26_0x401f54,_0x113b13=fs[_0x1e6802(0x1e9)](path[_0x1e6802(0x161)](path[_0x1e6802(0x1e3)](require[_0x1e6802(0x242)][_0x1e6802(0x25f)]),'cadviewer/settings/config.html'),_0x1e6802(0x278)),_0x3e86f3=_0x113b13[_0x1e6802(0x283)](_0x1e6802(0x167),_0x3fe862['version']);_0x2b56a9[_0x1e6802(0x18a)](_0x3e86f3);}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x258),protectedRoute,async(_0x1c2eca,_0x2c3388)=>{const _0x236aa4=a26_0x401f54,_0xc0b663=fs[_0x236aa4(0x1e9)](path[_0x236aa4(0x161)](path[_0x236aa4(0x1e3)](require[_0x236aa4(0x242)][_0x236aa4(0x25f)]),_0x236aa4(0x162)),'utf8'),_0x44583e=_0xc0b663[_0x236aa4(0x283)](_0x236aa4(0x167),_0x1c2eca[_0x236aa4(0x163)]);_0x2c3388[_0x236aa4(0x18a)](_0x44583e);}),router['post']('/folders',async(_0x2c810e,_0x2a5d13)=>{const _0x131feb=a26_0x401f54,_0x20ceba=path[_0x131feb(0x161)](path['dirname'](require['main'][_0x131feb(0x25f)]),_0x131feb(0x1c5)),_0x52163b=JSON[_0x131feb(0x158)](fs[_0x131feb(0x1e9)](_0x20ceba,_0x131feb(0x278))),_0x19ceac=_0x52163b[_0x131feb(0x21c)];if(!fs[_0x131feb(0x177)](_0x19ceac))return _0x2a5d13[_0x131feb(0x2ac)](0x194)['json']({'message':_0x131feb(0x1fe)});const _0x4434a3=_0x1981c7=>{const _0x190f6d=_0x131feb;let _0x27e960=0x0;return _0x1981c7[_0x190f6d(0x1f8)](_0x5469a2=>{const _0x415d37=_0x190f6d;_0x5469a2[_0x415d37(0x204)]?_0x27e960+=_0x4434a3(_0x5469a2[_0x415d37(0x1cd)]):_0x27e960+=_0x5469a2[_0x415d37(0x271)];}),_0x27e960;},_0xb5f027=_0x1fb176=>{const _0x838fb7=_0x131feb;if(_0x1fb176<0x400)return _0x1fb176+'\x20B';else{if(_0x1fb176<0x400*0x400)return(_0x1fb176/0x400)['toFixed'](0x2)+_0x838fb7(0x2b0);else return _0x1fb176<0x400*0x400*0x400?(_0x1fb176/0x400/0x400)[_0x838fb7(0x2d1)](0x2)+_0x838fb7(0x2b2):(_0x1fb176/0x400/0x400/0x400)[_0x838fb7(0x2d1)](0x2)+_0x838fb7(0x225);}},_0x5ca667=(_0x395fa9,_0x5abcee='')=>{const _0x22d052=_0x131feb,_0x55ece2=fs['readdirSync'](_0x395fa9),_0x33500d=[];return _0x55ece2[_0x22d052(0x1f8)](_0xa35545=>{const _0x35cc31=_0x22d052,_0x4c0856=path[_0x35cc31(0x161)](_0x395fa9,_0xa35545)[_0x35cc31(0x283)]('\x5c','/'),_0x370358=fs['statSync'](_0x4c0856);if(_0x370358['isDirectory']()){const _0x95e5ca=_0x5ca667(_0x4c0856,_0x5abcee+_0x35cc31(0x14f));_0x33500d['push']({'name':_0xa35545,'size':_0x370358['size'],'path':_0x4c0856,'permissions':_0x370358[_0x35cc31(0x226)],'isFolder':!![],'sub_dirs':_0x95e5ca});}else _0x33500d['push']({'name':_0xa35545,'size':_0x370358['size'],'path':_0x4c0856,'permissions':_0x370358['mode'],'isFolder':![]});}),_0x33500d;};let _0x4718b0=_0x5ca667(_0x19ceac);const _0x362b8e=_0x4418cd=>{const _0x16c447=_0x131feb;return _0x4418cd[_0x16c447(0x1f8)](_0x17cda1=>{const _0x476e0d=_0x16c447;_0x17cda1[_0x476e0d(0x204)]?(_0x17cda1['formatedSize']=_0xb5f027(_0x4434a3(_0x17cda1[_0x476e0d(0x1cd)])),_0x17cda1['sub_dirs']=_0x362b8e(_0x17cda1[_0x476e0d(0x1cd)])):_0x17cda1['formatedSize']=_0xb5f027(_0x17cda1['size']);}),_0x4418cd;};_0x2a5d13['status'](0xc8)[_0x131feb(0x228)](_0x362b8e(_0x4718b0));}),router[a26_0x401f54(0x1c9)](a26_0x401f54(0x16d),async(_0x50a6fb,_0x49f58e)=>{const _0x3f341b=a26_0x401f54,{path:_0x134d1c}=_0x50a6fb[_0x3f341b(0x2dc)],_0x2978ed=_0x134d1c[_0x3f341b(0x186)]('/')[_0x3f341b(0x1fa)]();if(!fs['existsSync'](_0x134d1c))return _0x49f58e['status'](0x194)[_0x3f341b(0x228)]({'message':'File\x20not\x20found'});_0x49f58e[_0x3f341b(0x286)](_0x3f341b(0x2d3),'application/octet-stream'),_0x49f58e['setHeader'](_0x3f341b(0x18b),_0x3f341b(0x249)+_0x2978ed+'\x22'),_0x49f58e[_0x3f341b(0x1ff)](_0x134d1c,_0x5b106e=>{const _0xac474d=_0x3f341b;_0x5b106e&&_0x49f58e[_0xac474d(0x2ac)](0x1f4)['json']({'message':'Error\x20downloading\x20file.'});});}),router['post'](a26_0x401f54(0x1cb),async(_0x25f0df,_0x1b4959)=>{const _0x2a5aa9=a26_0x401f54,_0x27af36=_0x25f0df[_0x2a5aa9(0x2dc)],_0x3c2ae0=getHotConfig()[_0x2a5aa9(0x21c)],_0x2fd0fe=path['join'](_0x3c2ae0,_0x27af36[_0x2a5aa9(0x236)]);if(!fs[_0x2a5aa9(0x177)](_0x2fd0fe))return _0x1b4959['status'](0x194)[_0x2a5aa9(0x228)]({'message':'Folder\x20not\x20found.'});if(fs['existsSync'](path[_0x2a5aa9(0x161)](_0x2fd0fe,_0x27af36[_0x2a5aa9(0x270)])))return _0x1b4959[_0x2a5aa9(0x2ac)](0x199)[_0x2a5aa9(0x228)]({'message':_0x2a5aa9(0x1ce)});fs[_0x2a5aa9(0x1b1)](path[_0x2a5aa9(0x161)](_0x2fd0fe,_0x27af36[_0x2a5aa9(0x270)]),_0x18053e=>{const _0x34526b=_0x2a5aa9;_0x18053e&&_0x1b4959[_0x34526b(0x2ac)](0x1f4)[_0x34526b(0x228)]({'message':'Error\x20creating\x20folder.'}),_0x1b4959[_0x34526b(0x2ac)](0xc8)[_0x34526b(0x228)]({'message':_0x34526b(0x2a1)});});}),router['put'](a26_0x401f54(0x29c),async(_0x1f601e,_0x4bcbd2)=>{const _0x1aa662=a26_0x401f54,{newName:_0xa000a5,isFolder:_0x436b80,path:_0x454ae6}=_0x1f601e[_0x1aa662(0x2dc)];if(!fs[_0x1aa662(0x177)](_0x454ae6))return _0x4bcbd2[_0x1aa662(0x2ac)](0x194)[_0x1aa662(0x228)]({'message':_0x436b80?'Folder\x20not\x20found':_0x1aa662(0x1a1)});const _0x1f7ed7=_0x454ae6[_0x1aa662(0x2c9)](_0x454ae6[_0x1aa662(0x186)]('/')[_0x1aa662(0x1fa)](),_0xa000a5);fs[_0x1aa662(0x1f7)](_0x454ae6,_0x1f7ed7),fs['unlinkSync'](_0x454ae6),_0x4bcbd2[_0x1aa662(0x2ac)](0xc8)['json']({'message':_0x436b80?_0x1aa662(0x282):_0x1aa662(0x2d9)});}),router[a26_0x401f54(0x296)](a26_0x401f54(0x1ba),async(_0x4cc77,_0x5705e8)=>{const _0x1e4a5d=a26_0x401f54,{path:_0x4f4843}=_0x4cc77[_0x1e4a5d(0x2dc)];if(!fs[_0x1e4a5d(0x177)](_0x4f4843))return _0x5705e8[_0x1e4a5d(0x2ac)](0x194)[_0x1e4a5d(0x228)]({'message':_0x1e4a5d(0x28a)});const _0xdbddb6=fs[_0x1e4a5d(0x28e)](_0x4f4843);if(_0xdbddb6['isFile']())fs[_0x1e4a5d(0x1e4)](_0x4f4843,_0x4f54e5=>{const _0x59fee9=_0x1e4a5d;_0x4f54e5&&_0x5705e8['status'](0x1f4)[_0x59fee9(0x228)]({'message':_0x59fee9(0x1f5)}),_0x5705e8[_0x59fee9(0x2ac)](0xc8)['json']({'message':_0x59fee9(0x2a0)});});else _0xdbddb6[_0x1e4a5d(0x2c6)]()&&fs['rmdir'](_0x4f4843,{'recursive':!![]},_0x2779a7=>{const _0x27dcfa=_0x1e4a5d;_0x2779a7&&_0x5705e8['status'](0x1f4)[_0x27dcfa(0x228)]({'message':'Error\x20deleting\x20folder.'}),_0x5705e8[_0x27dcfa(0x2ac)](0xc8)[_0x27dcfa(0x228)]({'message':_0x27dcfa(0x2a6)});});});!fs['existsSync'](a26_0x401f54(0x151))&&fs[a26_0x401f54(0x1af)]('./tmp');const storage=multer['diskStorage']({'destination':(_0xdfa213,_0xfc1bc3,_0x2d8c09)=>{const _0xf50704=a26_0x401f54;_0x2d8c09(null,_0xf50704(0x23c));},'filename':(_0x1cc5f5,_0xaad69d,_0x1db063)=>{const _0x203aff=a26_0x401f54;_0x1db063(null,Date[_0x203aff(0x2e1)]()+path[_0x203aff(0x1e5)](_0xaad69d['originalname']));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x401f54(0x1c9)]('/folders/upload',upload[a26_0x401f54(0x1bf)](a26_0x401f54(0x1b7)),async(_0x1ccc72,_0xec96e0)=>{const _0x27c82a=a26_0x401f54,_0x25a0db=_0x1ccc72[_0x27c82a(0x2dc)];if(!_0x1ccc72[_0x27c82a(0x1b7)]||_0x1ccc72[_0x27c82a(0x1b7)][_0x27c82a(0x24a)]===0x0)return _0xec96e0[_0x27c82a(0x2ac)](0x190)[_0x27c82a(0x228)]({'message':_0x27c82a(0x214)});const _0x13ab24=getHotConfig()[_0x27c82a(0x21c)],_0x2d7262=path[_0x27c82a(0x161)](_0x13ab24,_0x25a0db[_0x27c82a(0x236)]);if(!fs['existsSync'](_0x2d7262))return _0xec96e0['status'](0x194)[_0x27c82a(0x228)]({'message':_0x27c82a(0x290)});const _0x106ec8=_0x1ccc72[_0x27c82a(0x1b7)][_0x27c82a(0x1b2)](_0x4efa40=>({'originalname':_0x4efa40[_0x27c82a(0x2bb)],'filename':_0x4efa40[_0x27c82a(0x25f)],'mimetype':_0x4efa40[_0x27c82a(0x1bc)],'size':_0x4efa40['size']}));_0x106ec8[_0x27c82a(0x1f8)](_0x2dbdb7=>{const _0x3bcee5=_0x27c82a;fs[_0x3bcee5(0x1f7)](path[_0x3bcee5(0x161)]('tmp',_0x2dbdb7[_0x3bcee5(0x25f)]),path['join'](_0x2d7262,_0x2dbdb7[_0x3bcee5(0x2bb)])),fs[_0x3bcee5(0x1d7)](path[_0x3bcee5(0x161)](_0x3bcee5(0x23c),_0x2dbdb7['filename']));}),_0xec96e0[_0x27c82a(0x2ac)](0xc8)['json']({'message':_0x27c82a(0x2b8),'files':_0x106ec8});}),router[a26_0x401f54(0x2db)](a26_0x401f54(0x1bb),async(_0x41a452,_0x113ce0)=>{const _0x37645c=a26_0x401f54,_0x50da39=path[_0x37645c(0x161)](path[_0x37645c(0x1e3)](require[_0x37645c(0x242)][_0x37645c(0x25f)]),_0x37645c(0x1c5)),{config:_0x197196}=_0x41a452[_0x37645c(0x2dc)];if(!_0x197196)return _0x113ce0['status'](0x190)[_0x37645c(0x228)]({'message':_0x37645c(0x1fb)});try{fs[_0x37645c(0x1ef)](_0x50da39,JSON[_0x37645c(0x171)](_0x197196,null,0x4)),_0x113ce0[_0x37645c(0x2ac)](0xc8)[_0x37645c(0x228)]({'message':_0x37645c(0x190)});}catch(_0x2ef1a9){_0x113ce0[_0x37645c(0x2ac)](0x1f4)[_0x37645c(0x228)]({'message':_0x37645c(0x246)});}}),router[a26_0x401f54(0x2db)](a26_0x401f54(0x150),async(_0x4cbecd,_0x2afe6c)=>{const _0xbe5b5c=a26_0x401f54,{key:_0x552f18,value:_0x2eff90}=_0x4cbecd[_0xbe5b5c(0x2dc)],_0x3a153b=path[_0xbe5b5c(0x161)](path[_0xbe5b5c(0x1e3)](require[_0xbe5b5c(0x242)][_0xbe5b5c(0x25f)]),_0xbe5b5c(0x1c5));fs[_0xbe5b5c(0x1d4)](_0x3a153b,'utf8',function(_0x45c467,_0x248f66){const _0x562dfb=_0xbe5b5c;_0x45c467&&_0x2afe6c['status'](0x1f4)[_0x562dfb(0x18a)](_0x45c467);const _0x5342e5=JSON[_0x562dfb(0x158)](_0x248f66);_0x5342e5[_0x552f18]=_0x2eff90;if(_0x552f18===_0x562dfb(0x210)){let _0x434d1b='';if(_0x5342e5[_0x562dfb(0x24e)]){_0x434d1b=os[_0x562dfb(0x2c1)]();if(_0x434d1b==='win32')_0x434d1b=_0x562dfb(0x2d4);else{if(_0x434d1b===_0x562dfb(0x18f))_0x434d1b=_0x562dfb(0x201);}}else _0x434d1b=_0x5342e5[_0x562dfb(0x2c1)];if(_0x434d1b===_0x562dfb(0x2d4)){_0x5342e5[_0x562dfb(0x1d3)]=path['resolve'](__dirname,'..')+'/';const _0x1572d7=/\\/g;_0x5342e5[_0x562dfb(0x1d3)]=_0x5342e5['ServerLocation'][_0x562dfb(0x2c9)](_0x1572d7,'/');}else _0x5342e5['ServerLocation']=path['resolve'](__dirname,'..')+'/';}if(_0x552f18===_0x562dfb(0x24e)){let _0x4c59a6=os[_0x562dfb(0x2c1)]();if(_0x4c59a6===_0x562dfb(0x1ea))_0x4c59a6='windows';else _0x4c59a6=_0x562dfb(0x201);_0x4c59a6===_0x562dfb(0x2d4)?_0x2eff90===!![]&&(_0x5342e5[_0x562dfb(0x24d)]=_0x5342e5[_0x562dfb(0x22a)],_0x5342e5['dwgmerge_executable']=_0x5342e5[_0x562dfb(0x1cf)],_0x5342e5[_0x562dfb(0x263)]=_0x5342e5[_0x562dfb(0x2df)]):_0x2eff90===!![]&&(_0x5342e5['autoxchange_executable']=_0x5342e5[_0x562dfb(0x18d)],_0x5342e5['dwgmerge_executable']=_0x5342e5[_0x562dfb(0x22d)],_0x5342e5[_0x562dfb(0x263)]=_0x5342e5[_0x562dfb(0x2c8)]),_0x5342e5[_0x562dfb(0x2c1)]=_0x4c59a6;}if(_0x5342e5[_0x562dfb(0x24e)]){let _0x36eebc=os[_0x562dfb(0x2c1)]();if(_0x36eebc===_0x562dfb(0x1ea))_0x36eebc=_0x562dfb(0x2d4);else _0x36eebc=_0x562dfb(0x201);if(_0x36eebc===_0x562dfb(0x2d4)){if(_0x552f18===_0x562dfb(0x22a))_0x5342e5[_0x562dfb(0x24d)]=_0x2eff90;else{if(_0x552f18===_0x562dfb(0x1cf))_0x5342e5[_0x562dfb(0x29a)]=_0x2eff90;else _0x552f18===_0x562dfb(0x2df)&&(_0x5342e5['linklist_executable']=_0x2eff90);}}else{if(_0x552f18==='autoxchange_executable_linux')_0x5342e5['autoxchange_executable']=_0x2eff90;else{if(_0x552f18===_0x562dfb(0x22d))_0x5342e5[_0x562dfb(0x29a)]=_0x2eff90;else _0x552f18===_0x562dfb(0x2c8)&&(_0x5342e5[_0x562dfb(0x263)]=_0x2eff90);}}}fs[_0x562dfb(0x2e3)](_0x3a153b,JSON[_0x562dfb(0x171)](_0x5342e5,null,0x4),function(_0x524d97){const _0x2ad62a=_0x562dfb;_0x524d97&&_0x2afe6c[_0x2ad62a(0x2ac)](0x1f4)['send'](_0x524d97),_0x2afe6c[_0x2ad62a(0x2ac)](0xc8)[_0x2ad62a(0x228)]({'message':_0x2ad62a(0x2bd)});});});}),router['post'](a26_0x401f54(0x19d),async(_0x5deba8,_0x4b6591)=>{const _0x2c65ad=a26_0x401f54,_0x3030b3=getHotConfig(),_0x12264c=(_0x3030b3['dwgmergeLocation']['includes'](_0x3030b3[_0x2c65ad(0x1d3)])?'':_0x3030b3[_0x2c65ad(0x1d3)])+_0x3030b3[_0x2c65ad(0x15a)],_0x43e037=(_0x3030b3[_0x2c65ad(0x15a)][_0x2c65ad(0x1b0)](_0x3030b3[_0x2c65ad(0x1d3)])?'':_0x3030b3[_0x2c65ad(0x1d3)])+_0x3030b3[_0x2c65ad(0x2b3)],_0x474d2b=(_0x3030b3[_0x2c65ad(0x2af)][_0x2c65ad(0x1b0)](_0x3030b3[_0x2c65ad(0x1d3)])?'':_0x3030b3[_0x2c65ad(0x1d3)])+_0x3030b3[_0x2c65ad(0x2af)],_0x10cbd7=/ax202.*\.exe/,_0x4c8f40=/ax202.*/,_0x3e9f2a=/dwgmerge202.*\.exe/,_0xfb18a2=/dwgmerge_202.*/,_0x2076c8=/linklist_202.*\.exe/,_0x483c70=/linklist_202.*/,_0x403bd0=[],_0x32c691=[],_0x14f211=[],_0x35efbe=[],_0x234f7d=[],_0x395061=[];let _0x9a156b='';if(_0x3030b3['autodetect_platform']){_0x9a156b=os[_0x2c65ad(0x2c1)]();if(_0x9a156b===_0x2c65ad(0x1ea))_0x9a156b=_0x2c65ad(0x2d4);else{if(_0x9a156b===_0x2c65ad(0x18f))_0x9a156b=_0x2c65ad(0x201);}}else _0x9a156b=_0x3030b3[_0x2c65ad(0x2c1)];fs[_0x2c65ad(0x25d)](_0x474d2b[_0x2c65ad(0x283)](_0x2c65ad(0x201),_0x2c65ad(0x2d4)))['forEach'](_0x1c85e2=>{const _0x5b8ce4=_0x2c65ad;if(_0x10cbd7[_0x5b8ce4(0x29f)](_0x1c85e2[_0x5b8ce4(0x27b)]()))_0x403bd0['push'](_0x1c85e2);}),fs[_0x2c65ad(0x25d)](_0x12264c['replaceAll'](_0x2c65ad(0x201),'windows'))['forEach'](_0x5cdf84=>{const _0x180add=_0x2c65ad;if(_0x3e9f2a['test'](_0x5cdf84[_0x180add(0x27b)]()))_0x32c691['push'](_0x5cdf84);}),fs['readdirSync'](_0x43e037['replaceAll'](_0x2c65ad(0x201),_0x2c65ad(0x2d4)))[_0x2c65ad(0x1f8)](_0x3a2c0a=>{const _0x12e4c4=_0x2c65ad;if(_0x2076c8[_0x12e4c4(0x29f)](_0x3a2c0a[_0x12e4c4(0x27b)]()))_0x14f211[_0x12e4c4(0x184)](_0x3a2c0a);}),fs[_0x2c65ad(0x25d)](_0x474d2b['replaceAll'](_0x2c65ad(0x2d4),_0x2c65ad(0x201)))[_0x2c65ad(0x1f8)](_0x290f76=>{const _0x34708c=_0x2c65ad;if(_0x4c8f40[_0x34708c(0x29f)](_0x290f76[_0x34708c(0x27b)]()))_0x35efbe[_0x34708c(0x184)](_0x290f76);}),fs[_0x2c65ad(0x25d)](_0x12264c[_0x2c65ad(0x283)](_0x2c65ad(0x2d4),_0x2c65ad(0x201)))[_0x2c65ad(0x1f8)](_0x408479=>{const _0x2feefe=_0x2c65ad;if(_0xfb18a2['test'](_0x408479[_0x2feefe(0x27b)]()))_0x234f7d[_0x2feefe(0x184)](_0x408479);}),fs[_0x2c65ad(0x25d)](_0x43e037[_0x2c65ad(0x283)](_0x2c65ad(0x2d4),_0x2c65ad(0x201)))[_0x2c65ad(0x1f8)](_0x2b8755=>{const _0x393e2d=_0x2c65ad;if(_0x483c70[_0x393e2d(0x29f)](_0x2b8755[_0x393e2d(0x27b)]()))_0x395061[_0x393e2d(0x184)](_0x2b8755);});const _0x1a0566=[_0x2c65ad(0x240),_0x2c65ad(0x291),_0x2c65ad(0x2c0),'converterpathLin',_0x2c65ad(0x1de)],_0x43f3e0=['fileLocation',_0x2c65ad(0x247),_0x2c65ad(0x2af),'licenseLocation',_0x2c65ad(0x1a8),_0x2c65ad(0x241),'callbackMethod',_0x2c65ad(0x15a),'linklistLocation',_0x2c65ad(0x163)],_0x451697=[_0x2c65ad(0x287),_0x2c65ad(0x268),_0x2c65ad(0x219),_0x2c65ad(0x198),_0x2c65ad(0x245),_0x2c65ad(0x1c6),_0x2c65ad(0x1b8)],_0x3b9d0d={'ServerUrl':'Server\x20Settings','autoxchange_executable':_0x2c65ad(0x170),'linklist_executable':_0x2c65ad(0x1f2),'dwgmerge_executable':_0x2c65ad(0x26b),'setup_mysqlHost':_0x2c65ad(0x288),'callbackMethod_gatewayUrl_flag':_0x2c65ad(0x196),'userFolderMaximumFiles':_0x2c65ad(0x1be),'smtpHost':_0x2c65ad(0x15e)},_0x55b669={'https':_0x2c65ad(0x2ab),'ServerFrontEndUrlAsAllowedOriginOnly':_0x2c65ad(0x2ab),'autodetect_platform':_0x2c65ad(0x2ab),'cvjs_svgz_compress':_0x2c65ad(0x2ab),'cached_conversion':'boolean','remainOnServer':_0x2c65ad(0x2ab),'cvjs_debug':'boolean','autodetect_location':_0x2c65ad(0x2ab),'platform':_0x2c65ad(0x2a7),'autoxchange_executable':_0x2c65ad(0x22e)+(_0x9a156b===_0x2c65ad(0x2d4)?_0x403bd0[_0x2c65ad(0x161)](','):_0x35efbe['join'](',')),'autoxchange_executable_windows':_0x2c65ad(0x22e)+_0x403bd0['join'](','),'autoxchange_executable_linux':_0x2c65ad(0x22e)+_0x35efbe[_0x2c65ad(0x161)](','),'dwgmerge_executable':_0x2c65ad(0x22e)+(_0x9a156b==='windows'?_0x32c691[_0x2c65ad(0x161)](','):_0x234f7d['join'](',')),'dwgmerge_executable_windows':_0x2c65ad(0x22e)+_0x32c691[_0x2c65ad(0x161)](','),'dwgmerge_executable_linux':_0x2c65ad(0x22e)+_0x234f7d['join'](','),'linklist_executable':'radio|'+(_0x9a156b===_0x2c65ad(0x2d4)?_0x14f211[_0x2c65ad(0x161)](','):_0x395061['join'](',')),'linklist_executable_windows':_0x2c65ad(0x22e)+_0x14f211[_0x2c65ad(0x161)](','),'linklist_executable_linux':'radio|'+_0x395061[_0x2c65ad(0x161)](','),'callbackMethod_gatewayUrl_flag':_0x2c65ad(0x2ab),'setup_mysqlHost':'boolean','ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':'boolean','contentLocationCheck':'boolean','globalBearerAutentication':'boolean','bcryptSaltRounds':_0x2c65ad(0x27c),'userFolderMaximumFiles':_0x2c65ad(0x27c),'userFolderMaximumSizeInMB':_0x2c65ad(0x27c)},_0xb920e7={},_0x89cf06=Object[_0x2c65ad(0x28f)](_0x3030b3);_0x3030b3['autodetect_platform']&&_0x1a0566[_0x2c65ad(0x184)](_0x2c65ad(0x2c1)),_0x3030b3[_0x2c65ad(0x210)]&&(_0x43f3e0[_0x2c65ad(0x184)]('ServerLocation'),_0x43f3e0['push']('autoxchange_executable'),_0x43f3e0[_0x2c65ad(0x184)]('dwgmerge_executable'),_0x43f3e0[_0x2c65ad(0x184)](_0x2c65ad(0x263))),!_0x3030b3['callbackMethod_gatewayUrl_flag']&&_0x43f3e0[_0x2c65ad(0x184)]('callbackMethod_gatewayUrl'),!_0x3030b3['setup_mysqlHost']&&(_0x43f3e0[_0x2c65ad(0x184)]('mysqlHost'),_0x43f3e0[_0x2c65ad(0x184)](_0x2c65ad(0x219)),_0x43f3e0[_0x2c65ad(0x184)]('mysqlPassword'),_0x43f3e0[_0x2c65ad(0x184)](_0x2c65ad(0x245))),!_0x3030b3['ContentSecurityPolicyReportOnly']&&_0x43f3e0[_0x2c65ad(0x184)](_0x2c65ad(0x18e)),!_0x3030b3[_0x2c65ad(0x20b)]&&(_0x43f3e0[_0x2c65ad(0x184)](_0x2c65ad(0x1ab)),_0x43f3e0[_0x2c65ad(0x184)](_0x2c65ad(0x181))),!_0x3030b3[_0x2c65ad(0x153)]&&_0x43f3e0[_0x2c65ad(0x184)](_0x2c65ad(0x1f1)),_0x89cf06[_0x2c65ad(0x1f8)](_0x225270=>{!_0x1a0566['includes'](_0x225270)&&(_0xb920e7[_0x225270]=_0x3030b3[_0x225270]);}),_0xb920e7['fileLocationUrl']=''+_0x3030b3[_0x2c65ad(0x287)]+_0x3030b3[_0x2c65ad(0x15c)],_0x4b6591[_0x2c65ad(0x2ac)](0xc8)['json']({'notEditableFields':_0x43f3e0,'customFieldTypes':_0x55b669,'notHotEditableFields':_0x451697,'config':_0xb920e7,'fieldsTitle':_0x3b9d0d,'configData':_0x3030b3});}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x259),protectedRoute,async(_0x4810d6,_0x3c7825)=>{const _0x3933ec=a26_0x401f54,_0x556706=fs[_0x3933ec(0x1e9)](path[_0x3933ec(0x161)](path[_0x3933ec(0x1e3)](require[_0x3933ec(0x242)][_0x3933ec(0x25f)]),_0x3933ec(0x202)),'utf8'),_0x58dac4=_0x556706['replaceAll'](_0x3933ec(0x167),_0x4810d6[_0x3933ec(0x163)]);_0x3c7825[_0x3933ec(0x18a)](_0x58dac4);});function findMatchingLogFiles(_0x230dca,_0x38dd01=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x1adef9=a26_0x401f54;try{const _0x2fdde1=fs['readdirSync'](_0x230dca);return _0x2fdde1['filter'](_0x523f1d=>_0x38dd01[_0x1adef9(0x29f)](_0x523f1d))[_0x1adef9(0x1b2)](_0x37d771=>_0x37d771[_0x1adef9(0x283)](_0x1adef9(0x1f0),'')[_0x1adef9(0x283)](_0x1adef9(0x195),''));}catch(_0x37a32f){return console['error']('Error\x20finding\x20log\x20files:',_0x37a32f),[];}}router[a26_0x401f54(0x1c9)]('/logs/content',async(_0x544be5,_0x4c9fa6)=>{const _0x55a084=a26_0x401f54,_0x407461=new Date(),_0x335e50=_0x407461[_0x55a084(0x28c)]()[_0x55a084(0x297)]()[_0x55a084(0x175)](0x2,'0')+'_'+(_0x407461[_0x55a084(0x1c0)]()+0x1)[_0x55a084(0x297)]()[_0x55a084(0x175)](0x2,'0')+'_'+_0x407461[_0x55a084(0x238)](),{displayDay:_0x129767}=_0x544be5['body'],_0x1b664d=path[_0x55a084(0x161)](path[_0x55a084(0x1e3)](require[_0x55a084(0x242)][_0x55a084(0x25f)]),'logs',_0x55a084(0x1f0)+(_0x129767??_0x335e50)+'.log');fs['existsSync'](_0x1b664d)?fs['readFile'](_0x1b664d,_0x55a084(0x278),function(_0x20f4b9,_0x5dc7fe){const _0x1318b4=_0x55a084;_0x20f4b9&&_0x4c9fa6[_0x1318b4(0x2ac)](0x1f4)[_0x1318b4(0x18a)](_0x20f4b9),_0x4c9fa6[_0x1318b4(0x2ac)](0xc8)[_0x1318b4(0x228)]({'content':_0x5dc7fe,'days':findMatchingLogFiles(path[_0x1318b4(0x161)](path[_0x1318b4(0x1e3)](require[_0x1318b4(0x242)][_0x1318b4(0x25f)]),'logs'))});}):_0x4c9fa6[_0x55a084(0x2ac)](0xc8)[_0x55a084(0x228)]({'content':'','days':findMatchingLogFiles(path[_0x55a084(0x161)](path[_0x55a084(0x1e3)](require[_0x55a084(0x242)][_0x55a084(0x25f)]),'logs'))});}),router[a26_0x401f54(0x296)](a26_0x401f54(0x223),async(_0x365b3c,_0x36418e)=>{const _0x32a33c=a26_0x401f54,_0x2eb43d=new Date(),_0x429b34=_0x2eb43d[_0x32a33c(0x28c)]()['toString']()[_0x32a33c(0x175)](0x2,'0')+'_'+(_0x2eb43d['getMonth']()+0x1)[_0x32a33c(0x297)]()[_0x32a33c(0x175)](0x2,'0')+'_'+_0x2eb43d[_0x32a33c(0x238)](),_0x31f68b=findMatchingLogFiles(path[_0x32a33c(0x161)](path[_0x32a33c(0x1e3)](require['main'][_0x32a33c(0x25f)]),_0x32a33c(0x28d)));_0x31f68b[_0x32a33c(0x1f8)](_0x2b6e9a=>{const _0x264287=_0x32a33c;if(_0x2b6e9a!==_0x429b34)fs[_0x264287(0x1d7)](path[_0x264287(0x161)](path[_0x264287(0x1e3)](require['main'][_0x264287(0x25f)]),_0x264287(0x28d),_0x264287(0x1f0)+_0x2b6e9a+_0x264287(0x195)));}),logStream[_0x32a33c(0x2d6)](),_0x36418e[_0x32a33c(0x2ac)](0xc8)[_0x32a33c(0x228)]({'message':_0x32a33c(0x1f4)});}),router[a26_0x401f54(0x1e2)]('/restapi-test',protectedRoute,async(_0x43f36c,_0x30b6e4)=>{const _0x114664=a26_0x401f54,_0x287128=path[_0x114664(0x161)](path[_0x114664(0x1e3)](require[_0x114664(0x242)]['filename']),'cadviewer/settings/rest-api-parameters.json');if(!fs['existsSync'](_0x287128)){const _0x54ddd0={'jsonDataExtraction':{'standard':[{'paramName':_0x114664(0x228),'paramValue':''},{'paramName':_0x114664(0x15b),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':'model','paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x114664(0x2d8)},{'paramName':_0x114664(0x17a),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x114664(0x274)},{'paramName':'model','paramValue':''},{'paramName':_0x114664(0x269),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x114664(0x23b),'paramValue':''}]}};fs[_0x114664(0x1ef)](_0x287128,JSON[_0x114664(0x171)](_0x54ddd0,null,0x4));}const _0x2d8bdf=fs['readFileSync'](path[_0x114664(0x161)](path[_0x114664(0x1e3)](require[_0x114664(0x242)][_0x114664(0x25f)]),_0x114664(0x1b4)),_0x114664(0x278)),_0x1b3f57=_0x2d8bdf[_0x114664(0x283)]('{version}',_0x43f36c['version']);_0x30b6e4[_0x114664(0x18a)](_0x1b3f57);}),router[a26_0x401f54(0x1c9)](a26_0x401f54(0x28b),async(_0x4bba36,_0x4c3d39)=>{const _0x33e59a=a26_0x401f54,{actionName:_0x47c88b,contentLocation:_0x947b25}=_0x4bba36[_0x33e59a(0x2dc)],_0x3fab54=path[_0x33e59a(0x161)](path[_0x33e59a(0x1e3)](require[_0x33e59a(0x242)][_0x33e59a(0x25f)]),_0x33e59a(0x280));fs[_0x33e59a(0x1d4)](_0x3fab54,_0x33e59a(0x278),function(_0x1c4b13,_0x33eb4a){const _0x5a5b93=_0x33e59a;if(_0x1c4b13)_0x4c3d39['status'](0xc8)['json']({'parameters':[]});else{const _0x4d43b0=JSON['parse'](_0x33eb4a);if(_0x4d43b0[_0x47c88b]&&_0x4d43b0[_0x47c88b][_0x947b25])_0x4c3d39[_0x5a5b93(0x2ac)](0xc8)[_0x5a5b93(0x228)]({'parameters':_0x4d43b0[_0x47c88b][_0x947b25]});else _0x4d43b0[_0x47c88b]&&_0x4d43b0[_0x47c88b][_0x5a5b93(0x294)]?_0x4c3d39[_0x5a5b93(0x2ac)](0xc8)[_0x5a5b93(0x228)]({'parameters':_0x4d43b0[_0x47c88b][_0x5a5b93(0x294)]}):_0x4c3d39['status'](0xc8)[_0x5a5b93(0x228)]({'parameters':[]});}});}),router[a26_0x401f54(0x1c9)](a26_0x401f54(0x193),async(_0x4ba98d,_0x5861c8)=>{const _0x2a9ad5=a26_0x401f54,{actionName:_0x2e9071,contentLocation:_0x354686,parameters:_0x1d25d5}=_0x4ba98d[_0x2a9ad5(0x2dc)],_0x34614b=path[_0x2a9ad5(0x161)](path[_0x2a9ad5(0x1e3)](require['main'][_0x2a9ad5(0x25f)]),_0x2a9ad5(0x280));fs['readFile'](_0x34614b,_0x2a9ad5(0x278),function(_0x4d43ea,_0x1a07cd){const _0x5b9d1a=_0x2a9ad5;if(_0x4d43ea)_0x5861c8['status'](0x199)[_0x5b9d1a(0x228)]({'message':_0x5b9d1a(0x2b7)});else{const _0x263eb3=JSON[_0x5b9d1a(0x158)](_0x1a07cd);!_0x263eb3[_0x2e9071]&&(_0x263eb3[_0x2e9071]={}),_0x263eb3[_0x2e9071][_0x354686]=_0x1d25d5,fs[_0x5b9d1a(0x2e3)](_0x34614b,JSON[_0x5b9d1a(0x171)](_0x263eb3,null,0x4),function(_0x477502){const _0x36a415=_0x5b9d1a;_0x477502&&_0x5861c8[_0x36a415(0x2ac)](0x199)[_0x36a415(0x228)]({'message':_0x36a415(0x2b7)}),_0x5861c8[_0x36a415(0x2ac)](0xc8)['json']({'message':_0x36a415(0x182)});});}});}),router[a26_0x401f54(0x1e2)]('/doctor',protectedRoute,async(_0x135936,_0x2d1822)=>{const _0x4bbc01=a26_0x401f54,_0x3e1b13=fs['readFileSync'](path[_0x4bbc01(0x161)](path[_0x4bbc01(0x1e3)](require[_0x4bbc01(0x242)][_0x4bbc01(0x25f)]),_0x4bbc01(0x2ae)),_0x4bbc01(0x278)),_0x42ec09=_0x3e1b13[_0x4bbc01(0x283)](_0x4bbc01(0x167),_0x135936[_0x4bbc01(0x163)]);_0x2d1822['send'](_0x42ec09);}),router[a26_0x401f54(0x1c9)](a26_0x401f54(0x152),async(_0x3c42fe,_0x4bd461)=>{const _0x9e40a1=a26_0x401f54,_0x3c4f75=getHotConfig(),_0x3385b=_0x3c4f75['converterLocation'][_0x9e40a1(0x283)]('//','/'),_0x44b57a=_0x3c4f75['dwgmergeLocation'][_0x9e40a1(0x283)]('//','/'),_0x18005c=_0x3c4f75[_0x9e40a1(0x2b3)][_0x9e40a1(0x283)]('//','/'),_0x5651f2=''+_0x3385b+_0x3c4f75[_0x9e40a1(0x24d)],_0x28c419=''+_0x44b57a+_0x3c4f75['dwgmerge_executable'],_0x4a2182=''+_0x18005c+_0x3c4f75['linklist_executable'],_0x30c841=[],_0x5270d3=new Promise(_0xfcb35f=>{const _0x25ec59=_0x9e40a1;exec(os[_0x25ec59(0x2c1)]()===_0x25ec59(0x1ea)?'dir':'ls',_0x28fee8=>{const _0xa7f03b=_0x25ec59;_0x28fee8?_0x30c841[_0xa7f03b(0x184)]({'title':_0xa7f03b(0x23d),'status':![],'priority':0x1}):_0x30c841[_0xa7f03b(0x184)]({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':!![],'priority':0x1}),_0xfcb35f();});}),_0x247d10=new Promise(_0x29338b=>{const _0x4a8b3c=_0x9e40a1;fs[_0x4a8b3c(0x1f6)](_0x5651f2,fs[_0x4a8b3c(0x17d)][_0x4a8b3c(0x1df)],_0x267159=>{const _0x4f1720=_0x4a8b3c;_0x267159?_0x30c841['push']({'title':_0x4f1720(0x1c8)+_0x3c4f75[_0x4f1720(0x24d)]+_0x4f1720(0x27d),'status':![],'priority':0x2}):_0x30c841[_0x4f1720(0x184)]({'title':_0x4f1720(0x1c8)+_0x3c4f75[_0x4f1720(0x24d)]+_0x4f1720(0x27d),'status':!![],'priority':0x2}),_0x29338b();});}),_0x416700=new Promise(_0x1a40fc=>{const _0xbf2f09=_0x9e40a1;fs[_0xbf2f09(0x1f6)](_0x28c419,fs['constants']['X_OK'],_0x471784=>{const _0x4b1393=_0xbf2f09;_0x471784?_0x30c841['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x3c4f75['dwgmerge_executable']+'\x22\x20executable','status':![],'priority':0x3}):_0x30c841[_0x4b1393(0x184)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x3c4f75[_0x4b1393(0x29a)]+_0x4b1393(0x27d),'status':!![],'priority':0x3}),_0x1a40fc();});}),_0x283857=new Promise(_0x1e7c05=>{const _0x3d952c=_0x9e40a1;fs[_0x3d952c(0x1f6)](_0x4a2182,fs[_0x3d952c(0x17d)][_0x3d952c(0x1df)],_0x438115=>{const _0x555217=_0x3d952c;_0x438115?_0x30c841[_0x555217(0x184)]({'title':_0x555217(0x1c8)+_0x3c4f75[_0x555217(0x263)]+_0x555217(0x27d),'status':![],'priority':0x4}):_0x30c841[_0x555217(0x184)]({'title':_0x555217(0x1c8)+_0x3c4f75[_0x555217(0x263)]+_0x555217(0x27d),'status':!![],'priority':0x4}),_0x1e7c05();});}),_0x3752e8=new Promise(_0xb5cff6=>{const _0x45f0a1=_0x9e40a1,_0x5c38ba=new Date(),_0x40322=_0x5c38ba[_0x45f0a1(0x28c)]()['toString']()[_0x45f0a1(0x175)](0x2,'0')+'_'+(_0x5c38ba[_0x45f0a1(0x1c0)]()+0x1)[_0x45f0a1(0x297)]()['padStart'](0x2,'0')+'_'+_0x5c38ba[_0x45f0a1(0x238)](),{displayDay:_0x216b85}=_0x3c42fe[_0x45f0a1(0x2dc)];fs[_0x45f0a1(0x1f6)](path[_0x45f0a1(0x161)](path['dirname'](require[_0x45f0a1(0x242)][_0x45f0a1(0x25f)]),_0x45f0a1(0x28d),'call-Api_Conversion_'+(_0x216b85??_0x40322)+_0x45f0a1(0x195)),fs[_0x45f0a1(0x17d)][_0x45f0a1(0x16a)],_0x1189f6=>{const _0x5625af=_0x45f0a1;_0x1189f6?_0x30c841[_0x5625af(0x184)]({'title':_0x5625af(0x235)+(_0x216b85??_0x40322)+_0x5625af(0x2e2),'status':![],'priority':0x5}):_0x30c841[_0x5625af(0x184)]({'title':_0x5625af(0x235)+(_0x216b85??_0x40322)+_0x5625af(0x2e2),'status':!![],'priority':0x5}),_0xb5cff6();});}),_0x556d76=(_0x23f117,_0x4e6c44)=>{const _0x3d1778=_0x9e40a1,_0x392bfb=path[_0x3d1778(0x161)](path[_0x3d1778(0x1e3)](require['main'][_0x3d1778(0x25f)]),_0x23f117);return new Promise(_0x2b11e6=>{const _0x17ad9b=_0x3d1778;fs[_0x17ad9b(0x1f6)](path[_0x17ad9b(0x161)](path[_0x17ad9b(0x1e3)](_0x392bfb)),fs['constants'][_0x17ad9b(0x16c)]|fs[_0x17ad9b(0x17d)][_0x17ad9b(0x16a)],_0x32a4a4=>{const _0x23daf6=_0x17ad9b;_0x32a4a4?_0x30c841['push']({'title':_0x23daf6(0x173)+_0x23f117,'status':![],'priority':_0x4e6c44+0x6}):_0x30c841['push']({'title':_0x23daf6(0x173)+_0x23f117,'status':!![],'priority':_0x4e6c44+0x6}),_0x2b11e6();});});},_0xee102e=['/converters/files/',_0x9e40a1(0x1f3),_0x9e40a1(0x191),_0x9e40a1(0x227),_0x9e40a1(0x16b),_0x9e40a1(0x17e),'/content/redlines/v7/'],_0x734d17=_0xee102e['map'](_0x556d76);Promise[_0x9e40a1(0x2da)]([_0x5270d3,_0x247d10,_0x416700,_0x283857,_0x3752e8,..._0x734d17])[_0x9e40a1(0x164)](()=>{const _0x1ce646=_0x9e40a1;_0x4bd461[_0x1ce646(0x2ac)](0xc8)[_0x1ce646(0x228)]({'checking_list':_0x30c841});})[_0x9e40a1(0x224)](()=>{const _0x490f26=_0x9e40a1;_0x4bd461[_0x490f26(0x2ac)](0x1f4)['json']({'error':_0x490f26(0x154)});});}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x24f),protectedRoute,async(_0x5cdff4,_0x52fef3)=>{const _0x4f205a=a26_0x401f54,_0x38648b=fs[_0x4f205a(0x1e9)](path[_0x4f205a(0x161)](path[_0x4f205a(0x1e3)](require['main'][_0x4f205a(0x25f)]),_0x4f205a(0x1d1)),_0x4f205a(0x278)),_0x171a21=_0x38648b['replaceAll'](_0x4f205a(0x167),_0x5cdff4[_0x4f205a(0x163)]);_0x52fef3[_0x4f205a(0x18a)](_0x171a21);}),router['post'](a26_0x401f54(0x1a0),async(_0x718afd,_0x12cc40)=>{const _0x2060e4=a26_0x401f54;let _0x3350cd;try{const [_0x17df80]=await conn[_0x2060e4(0x277)]()[_0x2060e4(0x218)]('SELECT\x20*\x20FROM\x20users',[]);_0x3350cd=_0x17df80;}catch(_0x3318ff){console['log'](_0x3318ff),_0x12cc40['status'](0x1f4)[_0x2060e4(0x228)]({'error':_0x2060e4(0x24c)});return;}_0x12cc40['status'](0xc8)['json']({'success':!![],'data':_0x3350cd});}),router[a26_0x401f54(0x1c9)](a26_0x401f54(0x24f),upload[a26_0x401f54(0x261)](a26_0x401f54(0x209)),async(_0x45671c,_0x1c16c5)=>{const _0x41d7d1=a26_0x401f54,{id:_0x4bf0fb,first_name:_0x37553b,last_name:_0x389f3c,username:_0xa38c87,email:_0x2831b2,password:_0x9445a6,is_enabled:_0x1c1cbe}=_0x45671c[_0x41d7d1(0x2dc)],_0x3a5b91=_0x45671c[_0x41d7d1(0x2dc)][_0x41d7d1(0x183)]===_0x41d7d1(0x24b)?_0x41d7d1(0x24b):_0x45671c[_0x41d7d1(0x2dc)][_0x41d7d1(0x183)]==='demo_user'?_0x41d7d1(0x20a):'user';let _0x208ca3;console[_0x41d7d1(0x217)](_0x41d7d1(0x1fd));_0x9445a6&&(_0x208ca3=await bcrypt['hash'](_0x9445a6,0xa));let _0x430410=null;if(_0x45671c[_0x41d7d1(0x266)]){const _0x93d10f=_0x41d7d1(0x1b3)+randomUUID()+'.png';fs[_0x41d7d1(0x1f7)](_0x45671c[_0x41d7d1(0x266)]['path'],'./'+_0x93d10f),fs[_0x41d7d1(0x1d7)](_0x45671c[_0x41d7d1(0x266)]['path']),_0x430410=config['ServerUrl']+'/'+_0x93d10f;}if(_0x4bf0fb){try{let [_0xf3d1c0]=await conn[_0x41d7d1(0x277)]()[_0x41d7d1(0x218)](_0x41d7d1(0x20e),[_0x2831b2,_0xa38c87,_0x4bf0fb]);if(_0xf3d1c0[_0x41d7d1(0x24a)]>0x0)_0x1c16c5[_0x41d7d1(0x2ac)](0x199)[_0x41d7d1(0x228)]({'error':_0x41d7d1(0x156)});else{!_0x45671c[_0x41d7d1(0x266)]&&([_0xf3d1c0]=await conn[_0x41d7d1(0x277)]()[_0x41d7d1(0x218)](_0x41d7d1(0x1ed),[_0x4bf0fb]),_0x430410=_0xf3d1c0[0x0][_0x41d7d1(0x248)]);const _0x148c44=_0x41d7d1(0x2ba)+(_0x9445a6?'`crypted_password`\x20=\x20?,\x20':'')+_0x41d7d1(0x1eb);await conn['promise']()[_0x41d7d1(0x218)](_0x148c44,_0x9445a6?[_0x430410,_0x37553b,_0x389f3c,_0xa38c87,_0x2831b2,_0x208ca3,_0x1c1cbe,_0x3a5b91,_0x4bf0fb]:[_0x430410,_0x37553b,_0x389f3c,_0xa38c87,_0x2831b2,_0x1c1cbe,_0x3a5b91,_0x4bf0fb]);}}catch(_0x3ba965){console['log'](_0x3ba965),_0x1c16c5[_0x41d7d1(0x2ac)](0x1f4)[_0x41d7d1(0x228)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x1c16c5[_0x41d7d1(0x2ac)](0xc8)[_0x41d7d1(0x228)]({'success':!![],'message':_0x41d7d1(0x2bc)});}else{try{const [_0x30c864]=await conn[_0x41d7d1(0x277)]()[_0x41d7d1(0x218)](_0x41d7d1(0x215),[_0x2831b2,_0xa38c87]);if(_0x30c864[_0x41d7d1(0x24a)]>0x0)_0x1c16c5[_0x41d7d1(0x2ac)](0x199)[_0x41d7d1(0x228)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{const _0x3825f4=randomUUID();await conn[_0x41d7d1(0x277)]()[_0x41d7d1(0x218)]('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x430410,_0x37553b,_0x389f3c,_0xa38c87,_0x2831b2,_0x208ca3,_0x3a5b91,_0x1c1cbe,_0x3825f4]);const _0x2a918d=_0x41d7d1(0x185)+_0x3825f4;fs['mkdirSync'](_0x2a918d);}}catch(_0x41229c){console[_0x41d7d1(0x217)](_0x41229c),_0x1c16c5[_0x41d7d1(0x2ac)](0x1f4)[_0x41d7d1(0x228)]({'error':_0x41d7d1(0x24c)});return;}_0x1c16c5[_0x41d7d1(0x2ac)](0xc8)['json']({'success':!![],'message':'User\x20created\x20successfully'});}}),router[a26_0x401f54(0x296)](a26_0x401f54(0x17f),async(_0x28341a,_0x5be639)=>{const _0x3a51b2=a26_0x401f54,{userId:_0x4f8db5}=_0x28341a[_0x3a51b2(0x2dc)];let _0x41744c;try{const [_0x2ed6d9]=await conn[_0x3a51b2(0x277)]()[_0x3a51b2(0x218)](_0x3a51b2(0x1ed),[_0x4f8db5]);_0x2ed6d9[_0x3a51b2(0x24a)]>0x0&&(_0x41744c=_0x2ed6d9[0x0]);}catch(_0x20828c){console[_0x3a51b2(0x217)]({'err':_0x20828c}),_0x5be639[_0x3a51b2(0x2ac)](0x1f4)[_0x3a51b2(0x228)]({'error':_0x3a51b2(0x24c)});return;}if(!_0x41744c){_0x5be639[_0x3a51b2(0x2ac)](0x191)['json']({'error':_0x3a51b2(0x289)});return;}let _0x3d62d8=_0x41744c[_0x3a51b2(0x27a)];if(!_0x3d62d8){_0x3d62d8=randomUUID();try{await conn[_0x3a51b2(0x277)]()[_0x3a51b2(0x218)](_0x3a51b2(0x17c),[_0x3d62d8,_0x4f8db5]);}catch(_0x27358b){console[_0x3a51b2(0x217)]({'err':_0x27358b}),_0x5be639['status'](0x1f4)[_0x3a51b2(0x228)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x595b10=_0x3a51b2(0x185)+_0x3d62d8;console[_0x3a51b2(0x217)](_0x3a51b2(0x1ae)),console[_0x3a51b2(0x217)](_0x595b10),!fs['existsSync'](_0x595b10)&&fs[_0x3a51b2(0x1af)](_0x595b10),fs['rmSync'](_0x595b10,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x595b10),_0x5be639[_0x3a51b2(0x2ac)](0xc8)[_0x3a51b2(0x228)]({'success':!![],'message':'User\x20directory\x20flushed\x20successfully'});}),router[a26_0x401f54(0x296)](a26_0x401f54(0x14d),async(_0x5bedea,_0xc4ad8e)=>{const _0x4f87e0=a26_0x401f54,_0x5ba374=_0x5bedea[_0x4f87e0(0x2c7)][_0x4f87e0(0x2d2)];try{let _0x3be697;try{const [_0x2a9ee2]=await conn['promise']()[_0x4f87e0(0x218)](_0x4f87e0(0x1ed),[_0x5ba374]);_0x2a9ee2[_0x4f87e0(0x24a)]>0x0&&(_0x3be697=_0x2a9ee2[0x0]);}catch(_0x462714){console[_0x4f87e0(0x217)]({'err':_0x462714}),_0xc4ad8e[_0x4f87e0(0x2ac)](0x1f4)[_0x4f87e0(0x228)]({'error':_0x4f87e0(0x24c)});return;}if(!_0x3be697){_0xc4ad8e[_0x4f87e0(0x2ac)](0x191)['json']({'error':_0x4f87e0(0x289)});return;}let _0x4105f2=_0x3be697[_0x4f87e0(0x27a)];if(_0x4105f2){const _0x3fd35f=_0x4f87e0(0x185)+_0x4105f2;fs[_0x4f87e0(0x177)](_0x3fd35f)&&fs[_0x4f87e0(0x2cc)](_0x3fd35f,{'recursive':!![],'force':!![]});}await conn[_0x4f87e0(0x277)]()[_0x4f87e0(0x218)](_0x4f87e0(0x23f),[_0x5ba374]);}catch(_0x238b42){console[_0x4f87e0(0x217)](_0x238b42),_0xc4ad8e['status'](0x1f4)[_0x4f87e0(0x228)]({'error':_0x4f87e0(0x24c)});return;}_0xc4ad8e[_0x4f87e0(0x2ac)](0xc8)['json']({'success':!![],'message':'User\x20deleted\x20successfully'});}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x216),async(_0x5d68b4,_0x134575)=>{const _0x734cc9=a26_0x401f54,_0x27947a=osu[_0x734cc9(0x19c)],_0x2dca81=osu[_0x734cc9(0x1dc)],_0x5ccd6c=osu[_0x734cc9(0x180)],_0x4605c8=osu['os'],_0x527733={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x2f613b=os[_0x734cc9(0x2c1)]()===_0x734cc9(0x1ea)?'c:':'/';const _0x5acbd9=await _0x5ccd6c['info'](_0x2f613b);_0x527733[_0x734cc9(0x2a8)]=_0x5acbd9[_0x734cc9(0x279)],_0x527733[_0x734cc9(0x165)]=_0x5acbd9[_0x734cc9(0x2b6)],_0x527733['freeGb']=_0x5acbd9['freeGb'],_0x527733[_0x734cc9(0x250)]=_0x5acbd9[_0x734cc9(0x26c)];}catch(_0x39f37d){console['log'](_0x734cc9(0x21f),_0x39f37d);}const _0x55b6d3={'usage':0x0,'count':0x0};try{_0x55b6d3[_0x734cc9(0x174)]=await _0x27947a[_0x734cc9(0x174)](),_0x55b6d3[_0x734cc9(0x2a5)]=_0x27947a[_0x734cc9(0x2a5)]();}catch(_0x2f5c30){console[_0x734cc9(0x217)](_0x734cc9(0x2a9),_0x2f5c30);}const _0x1ead2b={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x1ead2b['os']=await _0x4605c8[_0x734cc9(0x220)](),_0x1ead2b[_0x734cc9(0x2c1)]=_0x4605c8[_0x734cc9(0x2c1)](),_0x1ead2b['ip']=_0x4605c8['ip'](),_0x1ead2b[_0x734cc9(0x29b)]=_0x4605c8[_0x734cc9(0x29b)](),_0x1ead2b[_0x734cc9(0x16e)]=_0x4605c8[_0x734cc9(0x16e)](),_0x1ead2b[_0x734cc9(0x298)]=_0x4605c8[_0x734cc9(0x298)](),_0x1ead2b[_0x734cc9(0x237)]=_0x4605c8['arch'](),_0x1ead2b['who']=await osu[_0x734cc9(0x208)][_0x734cc9(0x2c4)](),_0x1ead2b[_0x734cc9(0x257)]=await osu[_0x734cc9(0x208)][_0x734cc9(0x257)](),_0x1ead2b['vmstats']=await osu['osCmd']['vmstats']();}catch(_0x3777c1){console[_0x734cc9(0x217)]('Error\x20getting\x20os\x20info',_0x3777c1);}const _0x5563fb={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x5563fb[_0x734cc9(0x1da)]=await osu['proc'][_0x734cc9(0x1da)](),_0x5563fb[_0x734cc9(0x254)]=await osu[_0x734cc9(0x20d)][_0x734cc9(0x254)]();}catch(_0x1f581a){console[_0x734cc9(0x217)](_0x734cc9(0x2bf),_0x1f581a);}let _0x330ae4={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x25d649=await _0x2dca81[_0x734cc9(0x21d)]();_0x330ae4[_0x734cc9(0x2dd)]=_0x25d649[_0x734cc9(0x2dd)],_0x330ae4['usedMemMb']=_0x25d649[_0x734cc9(0x2b5)]/0x400/0x400,_0x330ae4['totalMemMb']=_0x25d649[_0x734cc9(0x1a5)]/0x400/0x400;}catch(_0x257b5d){console['log'](_0x734cc9(0x2c3),_0x257b5d);}let _0x2f5be5=0x0;try{_0x2f5be5=await conn['promise']()[_0x734cc9(0x1e6)]('SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users')[_0x734cc9(0x164)](([_0x180936])=>_0x180936[0x0]['total']);}catch(_0x693d7a){console[_0x734cc9(0x217)](_0x734cc9(0x157),_0x693d7a);}const _0x42c816=getMonitoringData(),_0x30c06c=_0x42c816[_0x734cc9(0x2c5)](_0x50fdb3=>_0x50fdb3[_0x734cc9(0x1e0)]!==null&&_0x50fdb3[_0x734cc9(0x1e0)]!==undefined),_0x5a028d=_0x42c816[_0x734cc9(0x2c5)](_0x3473e5=>_0x3473e5[_0x734cc9(0x17b)]!==null&&_0x3473e5[_0x734cc9(0x17b)]!==undefined)[_0x734cc9(0x1b2)](_0x2b2e55=>parseFloat(_0x2b2e55[_0x734cc9(0x17b)][_0x734cc9(0x283)]('Kb')[_0x734cc9(0x251)]())),_0x2984fb=_0x30c06c[_0x734cc9(0x25c)]((_0x18ef50,_0x9a9096)=>_0x18ef50+parseFloat(_0x9a9096['conversionTimeSpend']),0x0)/_0x30c06c[_0x734cc9(0x24a)],_0x3fd184=_0x5a028d[_0x734cc9(0x25c)]((_0x5e3b03,_0x3308e3)=>_0x5e3b03+_0x3308e3,0x0)/_0x5a028d[_0x734cc9(0x24a)];_0x134575[_0x734cc9(0x228)]({'requestsPerSecond':counter['getStats'](),'diskUsage':_0x527733,'cpus':_0x55b6d3,'system':_0x1ead2b,'process':_0x5563fb,'totalMonitoringData':_0x42c816['length'],'memory':_0x330ae4,'totalUsers':_0x2f5be5,'avgConvertionTime':_0x2984fb,'avgMemoryUsage':_0x3fd184});}),router[a26_0x401f54(0x1c9)](a26_0x401f54(0x194),(_0x461772,_0x53b589)=>{const _0x219fcf=a26_0x401f54;counter['reset'](),_0x53b589[_0x219fcf(0x228)]({'message':'Counter\x20reset\x20successfully'});});function a26_0x1f08(){const _0x265224=['catch','\x20GB','mode','/converters/files/print/','json','cadviewer/settings/licences.html','autoxchange_executable_windows','cadviewer/settings/vanilla-toast.css','some','dwgmerge_executable_linux','radio|','child_process','slice','42313270GIJwwE','red','gray','/vanilla-toast.js','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','path','arch','getFullYear','from','converter-files-analysis.json','splity','tmp','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','ServerPort','temp_print_folder','main','\x20n\x27existe\x20pas.','Failed\x20to\x20send\x20email\x20to\x20','mysqlDatabase','Error\x20updating\x20config','fileLocationUrl','avatar_url','attachment;\x20filename=\x22','length','admin','Error!\x20Something\x20went\x20wrong.','autoxchange_executable','autodetect_platform','/users','totalGB','trim','bcrypt','birthtime','zombieProcesses','express','RL/TL\x20Processing','whoami','/folders','/logs','converters','fileName','reduce','readdirSync','24pHPtuT','filename','/cache/files/:id','single','Error\x20deleting\x20old\x20demo_user\x20accounts:','linklist_executable','\x20days\x20have\x20been\x20deleted.','.dwg.json','file','Error\x20reading\x20monitoring\x20file','mysqlHost','hlall','atime','DwgMerge\x20Settings','totalGb','.dwg','entries','Le\x20dossier\x20','folderName','size','/conversion/memorydata','Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)','svg','scheduleJob','SVGZ','promise','utf8','usedPercentage','folder_name','toLocaleLowerCase','number','\x22\x20executable','198088yUonJJ','Old\x20demo_user\x20accounts\x20(','cadviewer/settings/rest-api-parameters.json','Cache\x20flushed\x20successfully','Folder\x20renamed.','replaceAll','0\x200\x20*\x20*\x20*','.gitkeep','setHeader','ServerUrl','Database\x20Settings','Invalid\x20user','File\x20or\x20Folder\x20not\x20found','/restapi-test/parameters/search','getDate','logs','statSync','keys','Folder\x20not\x20found.','https','DWG\x20to\x20SVG\x20Conversion','DWG\x20to\x20PDF\x20Conversion','standard','username','delete','toString','type','cadviewer/settings/converter-files-analysis.json','dwgmerge_executable','uptime','/folders/update','createdAt','JSON','test','File\x20deleted.','Folder\x20created.','.json','3555387XVksrl','node-os-utils','count','Folder\x20deleted.','radio|windows,linux','percentage','Error\x20getting\x20cpu\x20usage','green','boolean','status','smtpFrom','cadviewer/settings/doctor.html','converterLocation','\x20KB','ceil','\x20MB','linklistLocation','crypto','used','usedGb','Error\x20saving\x20parameters.','Files\x20uploaded\x20successfully','/conversion/clean','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','originalname','User\x20updated\x20successfully','Config\x20updated.','Error\x20flushing\x20cache:','Error\x20getting\x20process\x20info','converterpathWin','platform','6624965rLSyyC','Error\x20getting\x20memory\x20info','who','filter','isDirectory','params','linklist_executable_linux','replace','sendMail','cadviewer/settings/tailwind.js','rmSync','Failed\x20to\x20get\x20cache\x20stats','isArray','sendFile','exports','toFixed','userId','Content-Type','windows','/cache-stats.js','clean','2wgYiOb','pdf','File\x20renamed.','all','put','body','usedMemPercentage','.csv','linklist_executable_windows','availableFormats','now','.log\x22','writeFile','/users/:userId','DWG\x20file\x20in\x20multiple\x20files','\x20\x20\x20','/config/update','./tmp','/doctor/check','globalBearerAutentication','An\x20error\x20occurred\x20while\x20checking.',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','Error\x20getting\x20total\x20users','parse','/style.css','dwgmergeLocation','blocks','fileLocation','Error\x20getting\x20cache\x20stats:','Mail\x20Server\x20Settings','DWG','dwgFile','join','cadviewer/settings/folders.html','version','then','usedGB','set','{version}','../libs/config','File\x20deleted\x20successfully','W_OK','/converters/files/pdf/','R_OK','/folders/download','hostname','settings','AutoXchange\x20Settings','stringify','SVG','Read\x20and\x20write\x20permission\x20for\x20folder\x20','usage','padStart','email','existsSync','error','/icons.js','model','conversionMemoryUsage','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','constants','/content/redlines/','/users/flush-dir','drive','fileLoad_Password','Parameters\x20saved.','role','push','./uploads/','split','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','3750039uWfJPE','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20terminée.\x20Résultats\x20enregistrés\x20dans\x20','send','Content-Disposition','first_name','autoxchange_executable_linux','ContentSecurityPolicy','darwin','Config\x20updated\x20successfully','/converters/files/merged/','.rl.json','/restapi-test/parameters/save','/metrics/reset','.log','Callback\x20and\x20Authentication\x20Settings','../libs/counter.js','mysqlPassword','write','demoUserRetentionDaysAlertBeforeDeletion','../libs/mail','cpu','/config/content','svgz','28PIktaE','/users/list','File\x20not\x20found','node-schedule','yellow','Router','total','cadviewer/settings/cache-stats.js','cadviewer/settings/requests-callapiconversion-monitoring.json','xpathLocation','935696CqluJC','lastIndexOf','fileLoad_UserName','express-basic-auth','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','====================','mkdirSync','includes','mkdir','map','avatars/','cadviewer/settings/rest-api.html','CSV','/tailwind.js','files','cvjs_svgz_compress','1901118VZeGJx','/folders/delete','/config/global-update','mimetype','demoUserRetentionDays','Demo\x20and\x20Base\x20User\x20Settings','array','getMonth','cadviewer/settings/vanilla-toast.js','cadviewer/settings/style.css','/licences','csvFile','CADViewer_config.json','cached_conversion','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','Permission\x20750\x20for\x20the\x20\x22','post','action','/folders/create','.pdf','sub_dirs','Folder\x20already\x20exists.','dwgmerge_executable_windows','../libs/mysql.js','cadviewer/settings/users.html','transporter','ServerLocation','readFile','/cache/files','Display\x20of\x20DWG','unlinkSync','../CADViewer_config.json','/conversion/list','totalProcesses','cadviewer/settings/chart.min.js','mem','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','fontLocation','X_OK','conversionTimeSpend','cadviewer/settings/home.html','get','dirname','unlink','extname','query','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','settingsUserBasicAuth','readFileSync','win32','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','PDF','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','writeFileSync','call-Api_Conversion_','globalBearerAutenticationToken','LinkList\x20Settings','/converters/autoxchange/linux/','Log\x20file\x20cleaned.','Error\x20deleting\x20file.','access','copyFileSync','forEach','Failed\x20to\x20flush\x20cache','pop','No\x20config\x20object\x20provided','image/svg+xml','=============================>','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','download','has','linux','cadviewer/settings/logs.html','/cache/stats','isFolder','0\x201\x20*\x20*\x20*','Monitoring\x20file\x20cleaned.','JSON\x20Data\x20Extraction','osCmd','avatar','demo_user','fileLoad_PasswordAuthentication','toUpperCase','proc','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','blue','autodetect_location','/vanilla-toast.css','Deleting\x20old\x20demo_user\x20accounts...','ctime','No\x20files\x20uploaded','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','/metrics','log','execute','mysqlUsername','.svg','.svgz','folderLocation','info','===================error===================','Error\x20getting\x20disk\x20usage','oos','endsWith','name','/logs/clean'];a26_0x1f08=function(){return _0x265224;};return a26_0x1f08();}const getMonitoringData=()=>{const _0x14e60b=a26_0x401f54,_0x237d4d=_0x14e60b(0x1a7);let _0xfca3e6=[];try{_0xfca3e6=JSON[_0x14e60b(0x158)](fs['readFileSync'](_0x237d4d));}catch(_0x51f5b6){console[_0x14e60b(0x217)](_0x14e60b(0x267));}return _0xfca3e6;};function a26_0x5e24(_0x3937eb,_0xe1984b){const _0x1f088c=a26_0x1f08();return a26_0x5e24=function(_0x5e2435,_0x14bc40){_0x5e2435=_0x5e2435-0x14d;let _0x5953ff=_0x1f088c[_0x5e2435];return _0x5953ff;},a26_0x5e24(_0x3937eb,_0xe1984b);}router[a26_0x401f54(0x1e2)](a26_0x401f54(0x1d9),async(_0x389958,_0x516626)=>{const _0x5ce29a=a26_0x401f54,{page:page=0x1,limit:limit=0xa}=_0x389958[_0x5ce29a(0x1e6)],_0x3bb0ac=(page-0x1)*limit;try{const _0x4fbc7a=getMonitoringData(),_0xc24a81=_0x4fbc7a[_0x5ce29a(0x24a)],_0x154c8c=Math[_0x5ce29a(0x2b1)](_0xc24a81/limit),_0x2e98ba=_0x4fbc7a[_0x5ce29a(0x230)](_0x3bb0ac,_0x3bb0ac+limit);_0x516626[_0x5ce29a(0x2ac)](0xc8)[_0x5ce29a(0x228)]({'data':_0x2e98ba,'page':parseInt(''+page),'totalPages':_0x154c8c,'total':_0xc24a81});}catch(_0x3cabeb){console['log'](_0x3cabeb),_0x516626['status'](0x1f4)['json']({'error':_0x5ce29a(0x24c)});}}),router[a26_0x401f54(0x296)](a26_0x401f54(0x2b9),async(_0x4a99d2,_0x330a8a)=>{const _0x4e97d6=a26_0x401f54,_0x478580='cadviewer/settings/requests-callapiconversion-monitoring.json';try{fs[_0x4e97d6(0x1ef)](_0x478580,JSON[_0x4e97d6(0x171)]([],null,0x4)),_0x330a8a[_0x4e97d6(0x2ac)](0xc8)[_0x4e97d6(0x228)]({'message':_0x4e97d6(0x206)});}catch(_0x199cc6){console[_0x4e97d6(0x217)](_0x199cc6),_0x330a8a[_0x4e97d6(0x2ac)](0x1f4)[_0x4e97d6(0x228)]({'error':_0x4e97d6(0x24c)});}}),router['get'](a26_0x401f54(0x272),async(_0x379638,_0x128228)=>{const _0x14319d=a26_0x401f54,_0x3670c2=getHotConfig()['converterLocation'][_0x14319d(0x283)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x379638[_0x14319d(0x1e6)],_0x2b5dac=(page-0x1)*limit;try{const _0x3ec7c6=_0x3670c2+'memorydata.csv';console[_0x14319d(0x217)](_0x3ec7c6);const _0x118803=fs[_0x14319d(0x1e9)](_0x3ec7c6,_0x14319d(0x278)),_0x5413c2=_0x118803[_0x14319d(0x186)]('\x0a'),_0x44362f=[];_0x5413c2[_0x14319d(0x1f8)](_0xc0373c=>{const _0x1360f8=_0x14319d,_0x38c9ef=_0xc0373c['split'](',');if(_0x38c9ef[_0x1360f8(0x24a)]<0x4)return;const _0x51ca69=_0x38c9ef[0x0],_0x34e45d=_0x38c9ef[0x1],_0x4df540=parseFloat(_0x38c9ef[0x2]);_0x44362f[_0x1360f8(0x184)]({'file':_0x51ca69[_0x1360f8(0x283)]('\x22',''),'action':_0x34e45d,'timeSpend':_0x4df540,'memoryUsage':_0x38c9ef[0x3]});});const _0x25df1b=_0x44362f[_0x14319d(0x24a)],_0x588e20=Math[_0x14319d(0x2b1)](_0x25df1b/limit),_0x51a4a8=_0x44362f[_0x14319d(0x230)](_0x2b5dac,_0x2b5dac+limit);_0x128228[_0x14319d(0x2ac)](0xc8)[_0x14319d(0x228)]({'data':_0x51a4a8,'page':parseInt(''+page),'totalPages':_0x588e20,'total':_0x25df1b});}catch(_0x11b896){console[_0x14319d(0x217)](_0x11b896),_0x128228[_0x14319d(0x2ac)](0x1f4)[_0x14319d(0x228)]({'error':_0x14319d(0x24c)});}}),router['get'](a26_0x401f54(0x203),async(_0x32c7c7,_0x36199c)=>{const _0x5031a1=a26_0x401f54,_0x37c928=path[_0x5031a1(0x161)](path[_0x5031a1(0x1e3)](require[_0x5031a1(0x242)][_0x5031a1(0x25f)]),'converters',_0x5031a1(0x1b7));try{let _0x4d8622=0x0,_0x2ae7bd=0x0;function _0x271ff1(_0x74518b){const _0x20b010=_0x5031a1;let _0x18233b=0x0,_0x450e65=0x0;if(fs[_0x20b010(0x177)](_0x74518b)){const _0x2ede0f=fs[_0x20b010(0x25d)](_0x74518b);_0x450e65=0x0;for(const _0xf8ef34 of _0x2ede0f){const _0x36099a=path[_0x20b010(0x161)](_0x74518b,_0xf8ef34),_0x516322=fs[_0x20b010(0x28e)](_0x36099a);if(_0x516322['isFile']()&&_0xf8ef34!==_0x20b010(0x285))_0x450e65++,_0x18233b+=_0x516322['size'];else{if(_0x516322['isDirectory']()){}}}}return{'size':_0x18233b,'count':_0x450e65};}const _0x463dd3=_0x271ff1(_0x37c928);_0x4d8622=_0x463dd3[_0x5031a1(0x271)],_0x2ae7bd=_0x463dd3[_0x5031a1(0x2a5)],_0x36199c[_0x5031a1(0x228)]({'fileCount':_0x2ae7bd,'totalSize':_0x4d8622});}catch(_0x125166){console['error'](_0x5031a1(0x15d),_0x125166),_0x36199c[_0x5031a1(0x2ac)](0x1f4)[_0x5031a1(0x228)]({'error':_0x5031a1(0x2cd)});}}),router[a26_0x401f54(0x296)]('/cache/flush',async(_0x3170e1,_0x7ecaf7)=>{const _0x4020c2=a26_0x401f54,_0x50d02c=path[_0x4020c2(0x161)](path['dirname'](require[_0x4020c2(0x242)][_0x4020c2(0x25f)]),'converters','files');try{function _0x43883b(_0x47bb43){const _0x10da4c=_0x4020c2;if(fs['existsSync'](_0x47bb43)){const _0x277ef6=fs[_0x10da4c(0x25d)](_0x47bb43);for(const _0x50b33d of _0x277ef6){const _0x38205b=path[_0x10da4c(0x161)](_0x47bb43,_0x50b33d),_0x5333e1=fs[_0x10da4c(0x28e)](_0x38205b);if(_0x5333e1[_0x10da4c(0x2c6)]()){}else _0x50b33d!==_0x10da4c(0x285)&&fs[_0x10da4c(0x1d7)](_0x38205b);}}}_0x43883b(_0x50d02c),_0x7ecaf7[_0x4020c2(0x228)]({'message':_0x4020c2(0x281)});}catch(_0x37700b){console[_0x4020c2(0x178)](_0x4020c2(0x2be),_0x37700b),_0x7ecaf7[_0x4020c2(0x2ac)](0x1f4)[_0x4020c2(0x228)]({'error':_0x4020c2(0x1f9)});}}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x2d5),async(_0x46f738,_0x11fe20)=>{const _0x3bcba5=a26_0x401f54;_0x11fe20['sendFile'](path['join'](path[_0x3bcba5(0x1e3)](require[_0x3bcba5(0x242)][_0x3bcba5(0x25f)]),_0x3bcba5(0x1a6)));}),router[a26_0x401f54(0x1e2)]('/cache',protectedRoute,async(_0xb3647a,_0x1e9572)=>{const _0x184138=a26_0x401f54,_0x3627c0=fs[_0x184138(0x1e9)](path['join'](path['dirname'](require['main'][_0x184138(0x25f)]),'cadviewer/settings/conversion-cache.html'),'utf8'),_0x59fee2=_0x3627c0[_0x184138(0x283)]('{version}',_0xb3647a[_0x184138(0x163)]);_0x1e9572[_0x184138(0x18a)](_0x59fee2);}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x1d5),async(_0x122d9d,_0x41c1c6)=>{const _0x33e187=a26_0x401f54,{page:page=0x1,limit:limit=0x10}=_0x122d9d['query'],_0x10f0c0=JSON[_0x33e187(0x158)](fs[_0x33e187(0x1e9)](path[_0x33e187(0x161)](path[_0x33e187(0x1e3)](require['main'][_0x33e187(0x25f)]),_0x33e187(0x299)))),_0x27b3cb=(page-0x1)*limit,_0x14564e=page*limit,_0xd7b704=_0x10f0c0['files'][_0x33e187(0x24a)],_0x20fd35=Math['ceil'](_0xd7b704/limit),_0x3fa3a9=_0x10f0c0['files'][_0x33e187(0x230)](_0x27b3cb,_0x14564e);_0x41c1c6['json']({'files':_0x3fa3a9,'pagination':{'total':_0xd7b704,'totalPages':_0x20fd35,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x401f54(0x1e2)]('/cache/csv/:file',async(_0x19a753,_0x38fe83)=>{const _0x66217f=a26_0x401f54,{file:_0x41ca10}=_0x19a753['params'],_0x2c8b8a=path[_0x66217f(0x161)](path['dirname'](require[_0x66217f(0x242)][_0x66217f(0x25f)]),'converters',_0x66217f(0x1b7)),_0x18213d=path[_0x66217f(0x161)](_0x2c8b8a,_0x41ca10),_0x56052a=fs[_0x66217f(0x1e9)](_0x18213d,_0x66217f(0x278)),_0x287ea0=_0x56052a[_0x66217f(0x186)]('\x0a'),_0x392b28=_0x287ea0['map'](_0x57ba5c=>{const _0x38584e=_0x66217f,_0x2ab380=_0x57ba5c[_0x38584e(0x186)](',');return _0x2ab380[_0x38584e(0x1b2)](_0x30b46d=>_0x30b46d['replaceAll']('\x22',''));});_0x38fe83[_0x66217f(0x228)](_0x392b28);}),router[a26_0x401f54(0x1e2)](a26_0x401f54(0x260),async(_0xe08b00,_0x98ec6d)=>{const _0x1490ab=a26_0x401f54,{id:_0x85996f}=_0xe08b00[_0x1490ab(0x2c7)],_0x5f2221=path[_0x1490ab(0x161)](path['dirname'](require[_0x1490ab(0x242)][_0x1490ab(0x25f)]),'converters','files'),_0x14f8af=path[_0x1490ab(0x161)](_0x5f2221,_0x85996f);if(_0x14f8af[_0x1490ab(0x221)]('.svgz')){var _0x5f2291=require('zlib');const _0x2cd38f=fs['readFileSync'](_0x14f8af),_0x2e33c8=_0x5f2291['gunzipSync'](_0x2cd38f);_0x98ec6d['setHeader'](_0x1490ab(0x2d3),_0x1490ab(0x1fc)),_0x98ec6d['send'](_0x2e33c8);}else _0x98ec6d['sendFile'](_0x14f8af);}),router[a26_0x401f54(0x296)](a26_0x401f54(0x260),async(_0x1b02b7,_0x1f9251)=>{const _0x4990a8=a26_0x401f54,{id:_0x1ef59f}=_0x1b02b7[_0x4990a8(0x2c7)],_0x361a2b=path[_0x4990a8(0x161)](path[_0x4990a8(0x1e3)](require['main'][_0x4990a8(0x25f)]),_0x4990a8(0x25a),'files'),_0x5ce2d5=JSON['parse'](fs[_0x4990a8(0x1e9)](path[_0x4990a8(0x161)](path['dirname'](require['main']['filename']),_0x4990a8(0x299)))),_0x4e61db=_0x5ce2d5['files']['find'](_0x4cc8d5=>_0x4cc8d5[_0x4990a8(0x222)]===_0x1ef59f);if(_0x4e61db){try{fs[_0x4990a8(0x177)](path[_0x4990a8(0x161)](_0x361a2b,_0x4e61db[_0x4990a8(0x222)]))&&fs[_0x4990a8(0x1d7)](path['join'](_0x361a2b,_0x4e61db['name']));}catch(_0x2066ca){console[_0x4990a8(0x217)]({'e':_0x2066ca});}(_0x4e61db[_0x4990a8(0x2e0)]??[])[_0x4990a8(0x1f8)](_0x4b6f90=>{const _0x1bc82a=_0x4990a8;try{fs[_0x1bc82a(0x177)](path[_0x1bc82a(0x161)](_0x361a2b,_0x4b6f90['id']))&&fs['unlinkSync'](path[_0x1bc82a(0x161)](_0x361a2b,_0x4b6f90['id']));}catch(_0x292b16){console[_0x1bc82a(0x217)]({'e':_0x292b16});}});}analyzeConverterFiles(),_0x1f9251[_0x4990a8(0x228)]({'message':_0x4990a8(0x169)});});const deleteOldDemoUsers=async()=>{const _0x15b902=a26_0x401f54;console[_0x15b902(0x217)](_0x15b902(0x212));const _0x11ad11=config[_0x15b902(0x1bd)],_0x2d45ac=_0x15b902(0x1ad);try{const [_0x26e03e]=await conn[_0x15b902(0x277)]()[_0x15b902(0x218)](_0x2d45ac,[_0x11ad11]),_0x13f146=_0x26e03e[_0x15b902(0x1b2)](_0x1a5a4e=>_0x1a5a4e[_0x15b902(0x27a)]),_0x4bf698=_0x26e03e[_0x15b902(0x1b2)](_0x40ff80=>_0x40ff80[_0x15b902(0x176)]);console['log'](_0x4bf698),await conn[_0x15b902(0x277)]()[_0x15b902(0x218)](_0x15b902(0x1dd),[_0x11ad11]),_0x13f146[_0x15b902(0x1f8)](_0x3c28e7=>{const _0x553259=_0x15b902;try{const _0x33b832=_0x553259(0x185)+_0x3c28e7;fs['rmdirSync'](_0x33b832);}catch(_0x3dad6a){console[_0x553259(0x178)]('Error\x20deleting\x20user\x20folder:',_0x3dad6a);}}),console[_0x15b902(0x217)](_0x15b902(0x27f)+_0x26e03e[_0x15b902(0x24a)]+')\x20older\x20than\x20'+_0x11ad11+_0x15b902(0x264));}catch(_0x5ce75a){console[_0x15b902(0x178)](_0x15b902(0x262),_0x5ce75a);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x43911a=a26_0x401f54,_0x119ce5=require(_0x43911a(0x19b))[_0x43911a(0x1d2)];try{const [_0x800814]=await conn['promise']()[_0x43911a(0x218)](_0x43911a(0x1ad),[config['demoUserRetentionDays']-config[_0x43911a(0x19a)]]);if(_0x800814[_0x43911a(0x24a)]===0x0){console[_0x43911a(0x217)](_0x43911a(0x187));return;}for(const _0x39b3d4 of _0x800814){let _0x20a199=_0x43911a(0x23e)+(_0x39b3d4[_0x43911a(0x18c)]||_0x39b3d4[_0x43911a(0x295)])+_0x43911a(0x155);const _0x25d9e0={'from':config[_0x43911a(0x2ad)],'to':_0x39b3d4['email'],'subject':_0x43911a(0x1c7),'text':_0x43911a(0x1ee),'html':_0x20a199};try{await _0x119ce5[_0x43911a(0x2ca)](_0x25d9e0),console[_0x43911a(0x217)]('Deletion\x20prevention\x20email\x20sent\x20to\x20'+_0x39b3d4[_0x43911a(0x176)]);}catch(_0x35c4ef){console['log'](_0x43911a(0x21e)),console[_0x43911a(0x217)](_0x43911a(0x244)+_0x39b3d4[_0x43911a(0x176)]),console[_0x43911a(0x217)](_0x35c4ef);}}}catch(_0x1e19cd){console[_0x43911a(0x217)]('===================error==================='),console[_0x43911a(0x217)]('Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails'),console['log'](_0x1e19cd);}};schedule['scheduleJob'](a26_0x401f54(0x205),deleteOldDemoUsers),schedule[a26_0x401f54(0x275)](a26_0x401f54(0x284),sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x143262=a26_0x401f54;try{const _0x758780=path[_0x143262(0x161)](path[_0x143262(0x1e3)](require[_0x143262(0x242)][_0x143262(0x25f)]),'converters',_0x143262(0x1b7)),_0x43a995=path[_0x143262(0x161)](path[_0x143262(0x1e3)](require['main'][_0x143262(0x25f)]),'cadviewer',_0x143262(0x16f));if(!fs[_0x143262(0x177)](_0x758780)){logStream[_0x143262(0x199)]('Le\x20dossier\x20'+_0x758780+'\x20n\x27existe\x20pas.');return;}if(!fs[_0x143262(0x177)](_0x43a995)){logStream[_0x143262(0x199)](_0x143262(0x26f)+_0x43a995+_0x143262(0x243));return;}const _0x591020=fs[_0x143262(0x25d)](_0x758780),_0x45d076=new Map();_0x591020[_0x143262(0x1f8)](_0x453eac=>{const _0x5016a1=_0x143262,_0x210e93=path[_0x5016a1(0x161)](_0x758780,_0x453eac),_0x31c5ae=fs[_0x5016a1(0x28e)](_0x210e93);_0x45d076[_0x5016a1(0x166)](_0x453eac,_0x31c5ae);});const _0x28d6a2=[],_0x272dd8=Array[_0x143262(0x239)](_0x45d076[_0x143262(0x26e)]())[_0x143262(0x1b2)](([_0x6c6e16,_0x57e60f])=>{const _0x4ef287=_0x143262;if(_0x57e60f['isDirectory']())return undefined;let _0x3ed7b9=undefined,_0x369fc0=undefined;(_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x21a))||_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x21b)))&&_0x45d076[_0x4ef287(0x200)](_0x6c6e16[_0x4ef287(0x2c9)](_0x4ef287(0x21b),_0x4ef287(0x2de))[_0x4ef287(0x2c9)](_0x4ef287(0x21a),'.csv'))&&(_0x3ed7b9=_0x6c6e16[_0x4ef287(0x2c9)](_0x4ef287(0x21b),'.csv')[_0x4ef287(0x2c9)](_0x4ef287(0x21a),_0x4ef287(0x2de)));_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x2a2))&&_0x45d076['has'](_0x6c6e16['replace']('.json',_0x4ef287(0x26d)))&&(_0x369fc0=_0x6c6e16[_0x4ef287(0x2c9)](_0x4ef287(0x2a2),_0x4ef287(0x26d)));const _0x2ceafb=_0x1711e2=>{const _0xfecefc=_0x4ef287;if(_0x1711e2[_0xfecefc(0x221)](_0xfecefc(0x192)))return _0x1711e2['slice'](0x0,-0x8);else{if(_0x1711e2[_0xfecefc(0x221)](_0xfecefc(0x265))){const _0x4bf41c=fs['readFileSync'](path[_0xfecefc(0x161)](_0x758780,_0x1711e2),_0xfecefc(0x278));return JSON[_0xfecefc(0x158)](_0x4bf41c)['cachedfiles'][_0xfecefc(0x1b2)](_0x45e22f=>_0x45e22f[_0xfecefc(0x25b)]);}}return _0x1711e2[_0xfecefc(0x230)](0x0,_0x1711e2[_0xfecefc(0x1aa)]('.'));},_0x113ee5=_0x2ceafb(_0x6c6e16),_0x898eb5=Array[_0x4ef287(0x239)](_0x45d076[_0x4ef287(0x28f)]())[_0x4ef287(0x2c5)](_0x317d9d=>{const _0x35f22a=_0x4ef287;return Array['isArray'](_0x113ee5)?_0x113ee5[_0x35f22a(0x22c)](_0x6bb4a7=>_0x2ceafb(_0x317d9d)===_0x6bb4a7&&_0x317d9d!==_0x6c6e16):_0x2ceafb(_0x317d9d)===_0x113ee5&&_0x317d9d!==_0x6c6e16;});if(Array[_0x4ef287(0x2ce)](_0x113ee5)){if(_0x113ee5[_0x4ef287(0x22c)](_0x1333db=>_0x28d6a2[_0x4ef287(0x1b0)](_0x1333db)))return;}else{if(_0x28d6a2[_0x4ef287(0x1b0)](_0x113ee5))return;}Array[_0x4ef287(0x2ce)](_0x113ee5)?_0x113ee5[_0x4ef287(0x1f8)](_0x17ade5=>{_0x28d6a2['push'](_0x17ade5);}):_0x28d6a2[_0x4ef287(0x184)](_0x113ee5);const _0x2cb84f=[{'id':_0x6c6e16,'name':_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x21a))?'SVG':_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x21b))?_0x4ef287(0x276):_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x1cc))?'PDF':_0x6c6e16['endsWith']('.json')?_0x4ef287(0x29e):_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x2de))?_0x4ef287(0x1b5):_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x26d))?_0x4ef287(0x15f):_0x6c6e16[_0x4ef287(0x186)]('.')[_0x4ef287(0x1fa)]()['toUpperCase'](),'color':_0x6c6e16['endsWith'](_0x4ef287(0x21a))||_0x6c6e16['endsWith'](_0x4ef287(0x21b))?_0x4ef287(0x1a3):_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x1cc))?_0x4ef287(0x232):_0x6c6e16[_0x4ef287(0x221)]('.json')?_0x4ef287(0x233):_0x6c6e16[_0x4ef287(0x221)]('.csv')?_0x4ef287(0x2aa):_0x6c6e16[_0x4ef287(0x221)](_0x4ef287(0x26d))?_0x4ef287(0x20f):'purple'},..._0x898eb5['map'](_0x143774=>({'id':_0x143774,'name':_0x143774[_0x4ef287(0x221)](_0x4ef287(0x21a))?_0x4ef287(0x172):_0x143774[_0x4ef287(0x221)](_0x4ef287(0x21b))?'SVGZ':_0x143774[_0x4ef287(0x221)]('.pdf')?_0x4ef287(0x1ec):_0x143774[_0x4ef287(0x221)](_0x4ef287(0x2a2))?_0x4ef287(0x29e):_0x143774[_0x4ef287(0x221)]('.csv')?_0x4ef287(0x1b5):_0x143774[_0x4ef287(0x221)](_0x4ef287(0x26d))?_0x4ef287(0x15f):_0x143774['split']('.')[_0x4ef287(0x1fa)]()[_0x4ef287(0x20c)](),'color':_0x143774['endsWith'](_0x4ef287(0x21a))||_0x143774[_0x4ef287(0x221)]('.svgz')?'yellow':_0x143774[_0x4ef287(0x221)](_0x4ef287(0x1cc))?_0x4ef287(0x232):_0x143774[_0x4ef287(0x221)]('.json')?'gray':_0x143774['endsWith'](_0x4ef287(0x2de))?_0x4ef287(0x2aa):_0x143774[_0x4ef287(0x221)](_0x4ef287(0x26d))?_0x4ef287(0x20f):'purple'}))];let _0x53e427='';if(_0x2cb84f[_0x4ef287(0x22c)](_0x23fa90=>_0x23fa90['id'][_0x4ef287(0x1b0)](_0x4ef287(0x192))))_0x53e427='RL/TL\x20Processing';else{if(_0x2cb84f[_0x4ef287(0x22c)](_0x3caa42=>['svg',_0x4ef287(0x19e)][_0x4ef287(0x1b0)](_0x3caa42['id'][_0x4ef287(0x186)]('.')['pop']()))&&_0x3ed7b9)_0x53e427=_0x4ef287(0x292);else{if(_0x2cb84f['some'](_0x5dd482=>[_0x4ef287(0x274),_0x4ef287(0x19e)][_0x4ef287(0x1b0)](_0x5dd482['id']['split']('.')[_0x4ef287(0x1fa)]())))_0x53e427='Display\x20of\x20DWG';else{if(_0x2cb84f['some'](_0x26ccf3=>['json'][_0x4ef287(0x1b0)](_0x26ccf3['id'][_0x4ef287(0x186)]('.')['pop']()))&&_0x369fc0)_0x53e427=_0x4ef287(0x207);else{if(_0x2cb84f[_0x4ef287(0x22c)](_0x2a77a2=>[_0x4ef287(0x2d8)][_0x4ef287(0x1b0)](_0x2a77a2['id'][_0x4ef287(0x186)]('.')[_0x4ef287(0x1fa)]())))_0x53e427=_0x4ef287(0x293);else{if(_0x2cb84f['some'](_0x508579=>[_0x4ef287(0x228)][_0x4ef287(0x1b0)](_0x508579['id'][_0x4ef287(0x186)]('.')[_0x4ef287(0x1fa)]()))&&!_0x369fc0)_0x53e427=_0x4ef287(0x14e);else _0x2cb84f[_0x4ef287(0x22c)](_0x594a21=>[_0x4ef287(0x228)][_0x4ef287(0x1b0)](_0x594a21['id'][_0x4ef287(0x186)]('.')['pop']()))&&(_0x53e427='Cache\x20conversion');}}}}}return{'name':_0x6c6e16,'size':_0x57e60f[_0x4ef287(0x271)],'createdAt':_0x57e60f[_0x4ef287(0x253)],'updatedAt':_0x57e60f[_0x4ef287(0x213)],'readAt':_0x57e60f[_0x4ef287(0x26a)],'action':_0x53e427,'csvFile':_0x3ed7b9,'dwgFile':_0x369fc0,'availableFormats':_0x2cb84f};})['filter'](_0x92edac=>_0x92edac!==undefined);_0x272dd8['sort']((_0x2e643b,_0x42f73b)=>_0x42f73b['createdAt']-_0x2e643b[_0x143262(0x29d)]);const _0x2c9b9f={'timestamp':new Date(),'totalFiles':_0x272dd8['length'],'filesByType':{'svg':_0x272dd8['filter'](_0x170a88=>_0x170a88[_0x143262(0x222)][_0x143262(0x221)](_0x143262(0x21a)))[_0x143262(0x24a)],'svgz':_0x272dd8[_0x143262(0x2c5)](_0x2a139f=>_0x2a139f['name']['endsWith'](_0x143262(0x21b)))[_0x143262(0x24a)],'pdf':_0x272dd8[_0x143262(0x2c5)](_0x4f880b=>_0x4f880b['name'][_0x143262(0x221)](_0x143262(0x1cc)))['length'],'json':_0x272dd8[_0x143262(0x2c5)](_0x4c2795=>_0x4c2795[_0x143262(0x222)][_0x143262(0x221)](_0x143262(0x2a2)))[_0x143262(0x24a)],'csv':_0x272dd8[_0x143262(0x2c5)](_0x1fd1bd=>_0x1fd1bd[_0x143262(0x1c4)])[_0x143262(0x24a)],'dwg':_0x272dd8[_0x143262(0x2c5)](_0x488676=>_0x488676[_0x143262(0x160)])[_0x143262(0x24a)]},'filesByAction':{'dwgToSvg':_0x272dd8['filter'](_0x2356fa=>_0x2356fa[_0x143262(0x1ca)]===_0x143262(0x292))[_0x143262(0x24a)],'displayDwg':_0x272dd8[_0x143262(0x2c5)](_0x22d563=>_0x22d563[_0x143262(0x1ca)]===_0x143262(0x1d6))[_0x143262(0x24a)],'jsonExtraction':_0x272dd8[_0x143262(0x2c5)](_0x2edd90=>_0x2edd90[_0x143262(0x1ca)]===_0x143262(0x207))[_0x143262(0x24a)],'dwgToPdf':_0x272dd8[_0x143262(0x2c5)](_0x16388f=>_0x16388f[_0x143262(0x1ca)]===_0x143262(0x293))[_0x143262(0x24a)],'splitFiles':_0x272dd8[_0x143262(0x2c5)](_0x51cdf7=>_0x51cdf7['action']===_0x143262(0x14e))[_0x143262(0x24a)],'rlProcessing':_0x272dd8[_0x143262(0x2c5)](_0x515ea9=>_0x515ea9['action']===_0x143262(0x256))['length'],'cacheConversion':_0x272dd8[_0x143262(0x2c5)](_0x3e73b0=>_0x3e73b0[_0x143262(0x1ca)]==='Cache\x20conversion')[_0x143262(0x24a)]},'files':_0x272dd8},_0x1fac83=path[_0x143262(0x161)](_0x43a995,_0x143262(0x23a));fs[_0x143262(0x1ef)](_0x1fac83,JSON['stringify'](_0x2c9b9f,null,0x2)),logStream['write'](_0x143262(0x189)+_0x1fac83);}catch(_0x3fb870){logStream[_0x143262(0x199)](_0x143262(0x1e7)+_0x3fb870['message']);}},scheduleFileAnalysis=()=>{const _0x5afdbc=a26_0x401f54;analyzeConverterFiles(),schedule[_0x5afdbc(0x275)]('*\x20*\x20*\x20*\x20*',analyzeConverterFiles),logStream[_0x5afdbc(0x199)](_0x5afdbc(0x273));};scheduleFileAnalysis(),module[a26_0x401f54(0x2d0)]=router;