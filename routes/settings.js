const a26_0xdd4970=a26_0x3802;(function(_0x3a334a,_0x41169c){const _0x32f822=a26_0x3802,_0x3d659a=_0x3a334a();while(!![]){try{const _0x3d0517=-parseInt(_0x32f822(0x2e6))/0x1+-parseInt(_0x32f822(0x300))/0x2*(-parseInt(_0x32f822(0x30d))/0x3)+-parseInt(_0x32f822(0x32d))/0x4*(parseInt(_0x32f822(0x23b))/0x5)+parseInt(_0x32f822(0x307))/0x6+parseInt(_0x32f822(0x2bf))/0x7+parseInt(_0x32f822(0x229))/0x8*(parseInt(_0x32f822(0x253))/0x9)+-parseInt(_0x32f822(0x1f2))/0xa*(parseInt(_0x32f822(0x32e))/0xb);if(_0x3d0517===_0x41169c)break;else _0x3d659a['push'](_0x3d659a['shift']());}catch(_0x50bcbd){_0x3d659a['push'](_0x3d659a['shift']());}}}(a26_0x86e6,0x3b859));const express=require(a26_0xdd4970(0x2a7)),router=express['Router'](),multer=require('multer'),fs=require('fs'),path=require(a26_0xdd4970(0x248)),getHotConfig=require('../libs/config')[a26_0xdd4970(0x245)],{exec}=require('child_process'),os=require('os'),conn=require(a26_0xdd4970(0x315)),bcrypt=require(a26_0xdd4970(0x286)),osu=require(a26_0xdd4970(0x21e)),schedule=require(a26_0xdd4970(0x2bc)),counter=require(a26_0xdd4970(0x320)),{randomUUID}=require(a26_0xdd4970(0x293)),logStream=require(a26_0xdd4970(0x28c)),config=require(a26_0xdd4970(0x2b0));router['get']('/tailwind.js',async(_0x45a9cd,_0x25b3a5)=>{const _0x2a891c=a26_0xdd4970;_0x25b3a5[_0x2a891c(0x2ea)](path[_0x2a891c(0x29d)](path[_0x2a891c(0x22b)](require[_0x2a891c(0x273)][_0x2a891c(0x226)]),_0x2a891c(0x2ce)));}),router['get']('/chart.min.js',async(_0x21aec5,_0x415445)=>{const _0x1ce51a=a26_0xdd4970;_0x415445[_0x1ce51a(0x2ea)](path[_0x1ce51a(0x29d)](path[_0x1ce51a(0x22b)](require[_0x1ce51a(0x273)][_0x1ce51a(0x226)]),_0x1ce51a(0x298)));}),router['get']('/style.css',async(_0xa1b1e5,_0x54c700)=>{const _0x547cb3=a26_0xdd4970;_0x54c700[_0x547cb3(0x2ea)](path['join'](path[_0x547cb3(0x22b)](require[_0x547cb3(0x273)]['filename']),_0x547cb3(0x311)));}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x337),async(_0x5904a8,_0x2a6203)=>{const _0x3c7e36=a26_0xdd4970;_0x2a6203[_0x3c7e36(0x2ea)](path[_0x3c7e36(0x29d)](path['dirname'](require[_0x3c7e36(0x273)][_0x3c7e36(0x226)]),'cadviewer/settings/vanilla-toast.css'));}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x1f4),async(_0x54ca01,_0x4feab7)=>{const _0x28b0ae=a26_0xdd4970;_0x4feab7[_0x28b0ae(0x2ea)](path[_0x28b0ae(0x29d)](path['dirname'](require['main'][_0x28b0ae(0x226)]),_0x28b0ae(0x2e9)));}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x2f7),async(_0x20f5bb,_0x8488af)=>{const _0x440ff4=a26_0xdd4970;_0x8488af[_0x440ff4(0x2ea)](path['join'](path[_0x440ff4(0x22b)](require['main'][_0x440ff4(0x226)]),'cadviewer/settings/icons.js'));}),router[a26_0xdd4970(0x28a)]('/',async(_0x5bc0e3,_0x35f9ce)=>{const _0x4aa170=a26_0xdd4970,_0x106623=fs['readFileSync'](path[_0x4aa170(0x29d)](path[_0x4aa170(0x22b)](require[_0x4aa170(0x273)][_0x4aa170(0x226)]),_0x4aa170(0x249)),_0x4aa170(0x24c)),_0x2f2aa5=_0x106623[_0x4aa170(0x1f8)](_0x4aa170(0x2fe),_0x5bc0e3['version']);_0x35f9ce['send'](_0x2f2aa5);}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x2f6),async(_0x36f008,_0x244901)=>{const _0x304f0b=a26_0xdd4970,_0x3225b4=fs['readFileSync'](path[_0x304f0b(0x29d)](path[_0x304f0b(0x22b)](require[_0x304f0b(0x273)][_0x304f0b(0x226)]),_0x304f0b(0x271)),_0x304f0b(0x24c)),_0x597b60=_0x3225b4[_0x304f0b(0x1f8)]('{version}',_0x36f008['version']);_0x244901[_0x304f0b(0x269)](_0x597b60);}),router[a26_0xdd4970(0x28a)]('/config',async(_0x287d84,_0x3e3ab3)=>{const _0x324a6f=a26_0xdd4970,_0x36117e=fs[_0x324a6f(0x27e)](path[_0x324a6f(0x29d)](path[_0x324a6f(0x22b)](require['main']['filename']),_0x324a6f(0x1fe)),_0x324a6f(0x24c)),_0x263e2e=_0x36117e[_0x324a6f(0x1f8)](_0x324a6f(0x2fe),_0x287d84[_0x324a6f(0x341)]);_0x3e3ab3['send'](_0x263e2e);}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x329),async(_0xb44ed,_0x38409d)=>{const _0x3d19dd=a26_0xdd4970,_0x12a662=fs['readFileSync'](path[_0x3d19dd(0x29d)](path[_0x3d19dd(0x22b)](require['main'][_0x3d19dd(0x226)]),_0x3d19dd(0x25d)),'utf8'),_0x45bbff=_0x12a662[_0x3d19dd(0x1f8)](_0x3d19dd(0x2fe),_0xb44ed['version']);_0x38409d[_0x3d19dd(0x269)](_0x45bbff);}),router[a26_0xdd4970(0x308)](a26_0xdd4970(0x329),async(_0x3d94d3,_0x357e29)=>{const _0x1aa197=a26_0xdd4970,_0x1dd00b=path[_0x1aa197(0x29d)](path['dirname'](require['main'][_0x1aa197(0x226)]),_0x1aa197(0x319)),_0x4d59c8=JSON['parse'](fs[_0x1aa197(0x27e)](_0x1dd00b,_0x1aa197(0x24c))),_0x4bee89=_0x4d59c8[_0x1aa197(0x272)];if(!fs[_0x1aa197(0x332)](_0x4bee89))return _0x357e29[_0x1aa197(0x225)](0x194)[_0x1aa197(0x1ea)]({'message':_0x1aa197(0x333)});const _0x3b5c77=_0x511056=>{const _0x277830=_0x1aa197;let _0x526199=0x0;return _0x511056[_0x277830(0x282)](_0x4162e7=>{const _0x390b46=_0x277830;_0x4162e7[_0x390b46(0x2cc)]?_0x526199+=_0x3b5c77(_0x4162e7[_0x390b46(0x2ad)]):_0x526199+=_0x4162e7['size'];}),_0x526199;},_0x45c44c=_0x39b7c4=>{const _0x1cc6f9=_0x1aa197;if(_0x39b7c4<0x400)return _0x39b7c4+'\x20B';else{if(_0x39b7c4<0x400*0x400)return(_0x39b7c4/0x400)[_0x1cc6f9(0x241)](0x2)+_0x1cc6f9(0x2fc);else return _0x39b7c4<0x400*0x400*0x400?(_0x39b7c4/0x400/0x400)['toFixed'](0x2)+_0x1cc6f9(0x2fd):(_0x39b7c4/0x400/0x400/0x400)[_0x1cc6f9(0x241)](0x2)+_0x1cc6f9(0x221);}},_0x7db7be=(_0x4619a8,_0x34db5b='')=>{const _0x2737be=_0x1aa197,_0xd089a2=fs[_0x2737be(0x1f3)](_0x4619a8),_0x2bc74e=[];return _0xd089a2['forEach'](_0x529615=>{const _0x1cdfd5=_0x2737be,_0xe04d63=path[_0x1cdfd5(0x29d)](_0x4619a8,_0x529615)['replaceAll']('\x5c','/'),_0x2cb8f8=fs[_0x1cdfd5(0x2d1)](_0xe04d63);if(_0x2cb8f8[_0x1cdfd5(0x239)]()){const _0x5b3e90=_0x7db7be(_0xe04d63,_0x34db5b+_0x1cdfd5(0x2f4));_0x2bc74e[_0x1cdfd5(0x2ef)]({'name':_0x529615,'size':_0x2cb8f8['size'],'path':_0xe04d63,'permissions':_0x2cb8f8[_0x1cdfd5(0x30f)],'isFolder':!![],'sub_dirs':_0x5b3e90});}else _0x2bc74e[_0x1cdfd5(0x2ef)]({'name':_0x529615,'size':_0x2cb8f8[_0x1cdfd5(0x23f)],'path':_0xe04d63,'permissions':_0x2cb8f8['mode'],'isFolder':![]});}),_0x2bc74e;};let _0x548720=_0x7db7be(_0x4bee89);const _0x2bcc14=_0x25bcb1=>{const _0x21a272=_0x1aa197;return _0x25bcb1[_0x21a272(0x282)](_0x3b6108=>{const _0x32b99b=_0x21a272;_0x3b6108['isFolder']?(_0x3b6108['formatedSize']=_0x45c44c(_0x3b5c77(_0x3b6108[_0x32b99b(0x2ad)])),_0x3b6108['sub_dirs']=_0x2bcc14(_0x3b6108['sub_dirs'])):_0x3b6108[_0x32b99b(0x287)]=_0x45c44c(_0x3b6108['size']);}),_0x25bcb1;};_0x357e29[_0x1aa197(0x225)](0xc8)[_0x1aa197(0x1ea)](_0x2bcc14(_0x548720));}),router[a26_0xdd4970(0x308)](a26_0xdd4970(0x306),async(_0xb9eebf,_0x1b1cce)=>{const _0x4b5e58=a26_0xdd4970,{path:_0x3d811b}=_0xb9eebf[_0x4b5e58(0x303)],_0x2db0d3=_0x3d811b[_0x4b5e58(0x2ff)]('/')[_0x4b5e58(0x1f5)]();if(!fs[_0x4b5e58(0x332)](_0x3d811b))return _0x1b1cce[_0x4b5e58(0x225)](0x194)[_0x4b5e58(0x1ea)]({'message':_0x4b5e58(0x2c9)});_0x1b1cce[_0x4b5e58(0x2c0)](_0x4b5e58(0x299),_0x4b5e58(0x33b)),_0x1b1cce[_0x4b5e58(0x2c0)](_0x4b5e58(0x2e0),'attachment;\x20filename=\x22'+_0x2db0d3+'\x22'),_0x1b1cce[_0x4b5e58(0x2bb)](_0x3d811b,_0x45f1d8=>{const _0x35fbb7=_0x4b5e58;_0x45f1d8&&_0x1b1cce[_0x35fbb7(0x225)](0x1f4)[_0x35fbb7(0x1ea)]({'message':_0x35fbb7(0x291)});});}),router['post'](a26_0xdd4970(0x27d),async(_0x85571c,_0x4131ca)=>{const _0x155cfa=a26_0xdd4970,_0x2af0fd=_0x85571c[_0x155cfa(0x303)],_0xa94fe8=getHotConfig()['folderLocation'],_0x14dda9=path['join'](_0xa94fe8,_0x2af0fd[_0x155cfa(0x248)]);if(!fs['existsSync'](_0x14dda9))return _0x4131ca[_0x155cfa(0x225)](0x194)[_0x155cfa(0x1ea)]({'message':_0x155cfa(0x1fd)});if(fs[_0x155cfa(0x332)](path[_0x155cfa(0x29d)](_0x14dda9,_0x2af0fd[_0x155cfa(0x313)])))return _0x4131ca[_0x155cfa(0x225)](0x199)['json']({'message':'Folder\x20already\x20exists.'});fs[_0x155cfa(0x305)](path[_0x155cfa(0x29d)](_0x14dda9,_0x2af0fd['folderName']),_0x398fce=>{const _0x43892c=_0x155cfa;_0x398fce&&_0x4131ca['status'](0x1f4)[_0x43892c(0x1ea)]({'message':_0x43892c(0x316)}),_0x4131ca[_0x43892c(0x225)](0xc8)[_0x43892c(0x1ea)]({'message':'Folder\x20created.'});});}),router['put'](a26_0xdd4970(0x22d),async(_0x447ce0,_0x234436)=>{const _0x18eec7=a26_0xdd4970,{newName:_0x3a6be1,isFolder:_0x5a1eb9,path:_0x3a09d3}=_0x447ce0[_0x18eec7(0x303)];if(!fs[_0x18eec7(0x332)](_0x3a09d3))return _0x234436['status'](0x194)[_0x18eec7(0x1ea)]({'message':_0x5a1eb9?_0x18eec7(0x30e):_0x18eec7(0x2c9)});const _0x5633d2=_0x3a09d3[_0x18eec7(0x2b4)](_0x3a09d3['split']('/')['pop'](),_0x3a6be1);fs[_0x18eec7(0x27b)](_0x3a09d3,_0x5633d2,_0x6bb717=>{const _0x1a788d=_0x18eec7;_0x6bb717&&_0x234436[_0x1a788d(0x225)](0x1f4)[_0x1a788d(0x1ea)]({'message':_0x5a1eb9?_0x1a788d(0x31c):_0x1a788d(0x31d)}),_0x234436[_0x1a788d(0x225)](0xc8)[_0x1a788d(0x1ea)]({'message':_0x5a1eb9?_0x1a788d(0x2d6):'File\x20renamed.'});});}),router[a26_0xdd4970(0x1fa)]('/folders/delete',async(_0x340220,_0x426fda)=>{const _0x30b209=a26_0xdd4970,{path:_0x4dff46}=_0x340220[_0x30b209(0x303)];if(!fs['existsSync'](_0x4dff46))return _0x426fda[_0x30b209(0x225)](0x194)['json']({'message':_0x30b209(0x26c)});const _0x33f5a4=fs[_0x30b209(0x2d1)](_0x4dff46);if(_0x33f5a4[_0x30b209(0x2ec)]())fs[_0x30b209(0x2f8)](_0x4dff46,_0x1723e0=>{const _0x17ea4d=_0x30b209;_0x1723e0&&_0x426fda[_0x17ea4d(0x225)](0x1f4)[_0x17ea4d(0x1ea)]({'message':_0x17ea4d(0x203)}),_0x426fda[_0x17ea4d(0x225)](0xc8)[_0x17ea4d(0x1ea)]({'message':_0x17ea4d(0x2a4)});});else _0x33f5a4[_0x30b209(0x239)]()&&fs['rmdir'](_0x4dff46,{'recursive':!![]},_0x19d5e7=>{const _0x55d33a=_0x30b209;_0x19d5e7&&_0x426fda[_0x55d33a(0x225)](0x1f4)['json']({'message':_0x55d33a(0x218)}),_0x426fda[_0x55d33a(0x225)](0xc8)[_0x55d33a(0x1ea)]({'message':_0x55d33a(0x257)});});});!fs[a26_0xdd4970(0x332)](a26_0xdd4970(0x2ee))&&fs[a26_0xdd4970(0x25b)](a26_0xdd4970(0x2ee));const storage=multer['diskStorage']({'destination':(_0x4b785c,_0x13deed,_0x210d89)=>{const _0x4d2619=a26_0xdd4970;_0x210d89(null,_0x4d2619(0x24e));},'filename':(_0x5be124,_0x16c934,_0x1eb5f7)=>{const _0x1d5097=a26_0xdd4970;_0x1eb5f7(null,Date[_0x1d5097(0x2ae)]()+path[_0x1d5097(0x251)](_0x16c934[_0x1d5097(0x2f0)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0xdd4970(0x308)]('/folders/upload',upload['array'](a26_0xdd4970(0x28f)),async(_0x35f973,_0x1d683b)=>{const _0x1e5c18=a26_0xdd4970,_0x49b58b=_0x35f973['body'];if(!_0x35f973[_0x1e5c18(0x28f)]||_0x35f973[_0x1e5c18(0x28f)]['length']===0x0)return _0x1d683b[_0x1e5c18(0x225)](0x190)[_0x1e5c18(0x1ea)]({'message':'No\x20files\x20uploaded'});const _0x14af76=getHotConfig()[_0x1e5c18(0x272)],_0x330197=path['join'](_0x14af76,_0x49b58b[_0x1e5c18(0x248)]);if(!fs['existsSync'](_0x330197))return _0x1d683b['status'](0x194)[_0x1e5c18(0x1ea)]({'message':_0x1e5c18(0x1fd)});const _0x53c05b=_0x35f973[_0x1e5c18(0x28f)]['map'](_0x3076eb=>({'originalname':_0x3076eb[_0x1e5c18(0x2f0)],'filename':_0x3076eb['filename'],'mimetype':_0x3076eb[_0x1e5c18(0x2aa)],'size':_0x3076eb[_0x1e5c18(0x23f)]}));_0x53c05b[_0x1e5c18(0x282)](_0x1ed83e=>{const _0x3ac22f=_0x1e5c18;fs[_0x3ac22f(0x2c2)](path['join']('tmp',_0x1ed83e[_0x3ac22f(0x226)]),path[_0x3ac22f(0x29d)](_0x330197,_0x1ed83e[_0x3ac22f(0x2f0)]));}),_0x1d683b[_0x1e5c18(0x225)](0xc8)[_0x1e5c18(0x1ea)]({'message':_0x1e5c18(0x211),'files':_0x53c05b});}),router[a26_0xdd4970(0x26f)]('/config/global-update',async(_0x29d1f2,_0x1cd833)=>{const _0x52c6af=a26_0xdd4970,_0x12b3a4=path[_0x52c6af(0x29d)](path[_0x52c6af(0x22b)](require[_0x52c6af(0x273)][_0x52c6af(0x226)]),_0x52c6af(0x319)),{config:_0x383559}=_0x29d1f2[_0x52c6af(0x303)];if(!_0x383559)return _0x1cd833[_0x52c6af(0x225)](0x190)[_0x52c6af(0x1ea)]({'message':'No\x20config\x20object\x20provided'});try{fs[_0x52c6af(0x2c5)](_0x12b3a4,JSON[_0x52c6af(0x2b7)](_0x383559,null,0x4)),_0x1cd833['status'](0xc8)[_0x52c6af(0x1ea)]({'message':'Config\x20updated\x20successfully'});}catch(_0x4b68dd){_0x1cd833['status'](0x1f4)[_0x52c6af(0x1ea)]({'message':_0x52c6af(0x31f)});}}),router[a26_0xdd4970(0x26f)](a26_0xdd4970(0x2c4),async(_0x56e317,_0x437c2c)=>{const _0x4399b2=a26_0xdd4970,{key:_0x5af3b7,value:_0x45c01b}=_0x56e317[_0x4399b2(0x303)],_0x54dd81=path[_0x4399b2(0x29d)](path[_0x4399b2(0x22b)](require[_0x4399b2(0x273)][_0x4399b2(0x226)]),'CADViewer_config.json');fs['readFile'](_0x54dd81,_0x4399b2(0x24c),function(_0x5b86dd,_0x2a2254){const _0x3afba8=_0x4399b2;_0x5b86dd&&_0x437c2c['status'](0x1f4)['send'](_0x5b86dd);const _0x49c5db=JSON[_0x3afba8(0x2b2)](_0x2a2254);_0x49c5db[_0x5af3b7]=_0x45c01b;if(_0x5af3b7===_0x3afba8(0x255)){let _0x5d740a='';if(_0x49c5db['autodetect_platform']){_0x5d740a=os[_0x3afba8(0x230)]();if(_0x5d740a===_0x3afba8(0x2fb))_0x5d740a=_0x3afba8(0x26a);else{if(_0x5d740a===_0x3afba8(0x330))_0x5d740a=_0x3afba8(0x26b);}}else _0x5d740a=_0x49c5db[_0x3afba8(0x230)];if(_0x5d740a===_0x3afba8(0x26a)){_0x49c5db[_0x3afba8(0x31b)]=path[_0x3afba8(0x22e)](__dirname,'..')+'/';const _0x7262bf=/\\/g;_0x49c5db[_0x3afba8(0x31b)]=_0x49c5db[_0x3afba8(0x31b)][_0x3afba8(0x2b4)](_0x7262bf,'/');}else _0x49c5db['ServerLocation']=path[_0x3afba8(0x22e)](__dirname,'..')+'/';}if(_0x5af3b7===_0x3afba8(0x21f)){let _0x5624d2=os[_0x3afba8(0x230)]();if(_0x5624d2==='win32')_0x5624d2=_0x3afba8(0x26a);else _0x5624d2=_0x3afba8(0x26b);_0x5624d2===_0x3afba8(0x26a)?_0x45c01b===!![]&&(_0x49c5db[_0x3afba8(0x2c1)]=_0x49c5db[_0x3afba8(0x2d3)],_0x49c5db[_0x3afba8(0x2a1)]=_0x49c5db[_0x3afba8(0x29a)],_0x49c5db[_0x3afba8(0x2e1)]=_0x49c5db[_0x3afba8(0x328)]):_0x45c01b===!![]&&(_0x49c5db[_0x3afba8(0x2c1)]=_0x49c5db[_0x3afba8(0x27c)],_0x49c5db[_0x3afba8(0x2a1)]=_0x49c5db[_0x3afba8(0x2dd)],_0x49c5db[_0x3afba8(0x2e1)]=_0x49c5db['linklist_executable_linux']),_0x49c5db[_0x3afba8(0x230)]=_0x5624d2;}if(_0x49c5db[_0x3afba8(0x21f)]){let _0x396584=os['platform']();if(_0x396584===_0x3afba8(0x2fb))_0x396584='windows';else _0x396584=_0x3afba8(0x26b);if(_0x396584===_0x3afba8(0x26a)){if(_0x5af3b7===_0x3afba8(0x2d3))_0x49c5db[_0x3afba8(0x2c1)]=_0x45c01b;else{if(_0x5af3b7===_0x3afba8(0x29a))_0x49c5db[_0x3afba8(0x2a1)]=_0x45c01b;else _0x5af3b7===_0x3afba8(0x328)&&(_0x49c5db['linklist_executable']=_0x45c01b);}}else{if(_0x5af3b7==='autoxchange_executable_linux')_0x49c5db[_0x3afba8(0x2c1)]=_0x45c01b;else{if(_0x5af3b7===_0x3afba8(0x2dd))_0x49c5db[_0x3afba8(0x2a1)]=_0x45c01b;else _0x5af3b7===_0x3afba8(0x207)&&(_0x49c5db['linklist_executable']=_0x45c01b);}}}fs[_0x3afba8(0x206)](_0x54dd81,JSON[_0x3afba8(0x2b7)](_0x49c5db,null,0x4),function(_0xdbd711){const _0x900e2=_0x3afba8;_0xdbd711&&_0x437c2c[_0x900e2(0x225)](0x1f4)['send'](_0xdbd711),_0x437c2c['status'](0xc8)[_0x900e2(0x1ea)]({'message':_0x900e2(0x23d)});});});}),router[a26_0xdd4970(0x308)](a26_0xdd4970(0x29e),async(_0xba48bc,_0x35089e)=>{const _0x17f824=a26_0xdd4970,_0x18e9c5=getHotConfig(),_0x1ad160=(_0x18e9c5[_0x17f824(0x32f)][_0x17f824(0x295)](_0x18e9c5[_0x17f824(0x31b)])?'':_0x18e9c5['ServerLocation'])+_0x18e9c5[_0x17f824(0x32f)],_0x4858f3=(_0x18e9c5[_0x17f824(0x32f)]['includes'](_0x18e9c5[_0x17f824(0x31b)])?'':_0x18e9c5[_0x17f824(0x31b)])+_0x18e9c5[_0x17f824(0x216)],_0x1d953f=(_0x18e9c5[_0x17f824(0x227)][_0x17f824(0x295)](_0x18e9c5[_0x17f824(0x31b)])?'':_0x18e9c5[_0x17f824(0x31b)])+_0x18e9c5[_0x17f824(0x227)],_0x43408c=/ax202.*\.exe/,_0x58d3e8=/ax202.*/,_0x5d496a=/dwgmerge202.*\.exe/,_0x5f5d62=/dwgmerge_202.*/,_0x57a5f2=/linklist_202.*\.exe/,_0xc1e732=/linklist_202.*/,_0x3d0a37=[],_0x2402e2=[],_0x3dfc40=[],_0x2b5d32=[],_0xb5c72a=[],_0x193f7b=[];let _0x62e2cd='';if(_0x18e9c5['autodetect_platform']){_0x62e2cd=os['platform']();if(_0x62e2cd==='win32')_0x62e2cd=_0x17f824(0x26a);else{if(_0x62e2cd===_0x17f824(0x330))_0x62e2cd=_0x17f824(0x26b);}}else _0x62e2cd=_0x18e9c5[_0x17f824(0x230)];fs[_0x17f824(0x1f3)](_0x1d953f['replaceAll']('linux',_0x17f824(0x26a)))[_0x17f824(0x282)](_0x4afc39=>{const _0x11b624=_0x17f824;if(_0x43408c['test'](_0x4afc39[_0x11b624(0x31a)]()))_0x3d0a37[_0x11b624(0x2ef)](_0x4afc39);}),fs['readdirSync'](_0x1ad160[_0x17f824(0x1f8)](_0x17f824(0x26b),'windows'))[_0x17f824(0x282)](_0x4906bc=>{const _0x151960=_0x17f824;if(_0x5d496a[_0x151960(0x202)](_0x4906bc[_0x151960(0x31a)]()))_0x2402e2[_0x151960(0x2ef)](_0x4906bc);}),fs[_0x17f824(0x1f3)](_0x4858f3[_0x17f824(0x1f8)]('linux',_0x17f824(0x26a)))[_0x17f824(0x282)](_0x109c85=>{const _0x2b338a=_0x17f824;if(_0x57a5f2['test'](_0x109c85[_0x2b338a(0x31a)]()))_0x3dfc40['push'](_0x109c85);}),fs[_0x17f824(0x1f3)](_0x1d953f[_0x17f824(0x1f8)](_0x17f824(0x26a),_0x17f824(0x26b)))[_0x17f824(0x282)](_0x2f4ef9=>{const _0xbc5ce7=_0x17f824;if(_0x58d3e8['test'](_0x2f4ef9[_0xbc5ce7(0x31a)]()))_0x2b5d32[_0xbc5ce7(0x2ef)](_0x2f4ef9);}),fs['readdirSync'](_0x1ad160['replaceAll'](_0x17f824(0x26a),'linux'))[_0x17f824(0x282)](_0x1b1160=>{const _0x43181d=_0x17f824;if(_0x5f5d62[_0x43181d(0x202)](_0x1b1160[_0x43181d(0x31a)]()))_0xb5c72a[_0x43181d(0x2ef)](_0x1b1160);}),fs[_0x17f824(0x1f3)](_0x4858f3['replaceAll'](_0x17f824(0x26a),'linux'))['forEach'](_0x4d4b03=>{const _0x579f60=_0x17f824;if(_0xc1e732[_0x579f60(0x202)](_0x4d4b03[_0x579f60(0x31a)]()))_0x193f7b['push'](_0x4d4b03);});const _0x50a26b=[_0x17f824(0x288),_0x17f824(0x2e2),_0x17f824(0x304),'converterpathLin','fontLocation'],_0x51a8f7=[_0x17f824(0x2cd),'fileLocationUrl','converterLocation',_0x17f824(0x2e3),_0x17f824(0x20e),_0x17f824(0x204),_0x17f824(0x2bd),_0x17f824(0x32f),_0x17f824(0x216),_0x17f824(0x341)],_0x286f50=[_0x17f824(0x2be),_0x17f824(0x2da),'mysqlUsername',_0x17f824(0x219),_0x17f824(0x283),_0x17f824(0x238),_0x17f824(0x2d7)],_0x56806d={'ServerUrl':'Server\x20Settings','autoxchange_executable':'AutoXchange\x20Settings','linklist_executable':_0x17f824(0x26e),'dwgmerge_executable':_0x17f824(0x2ed),'setup_mysqlHost':_0x17f824(0x27a),'callbackMethod_gatewayUrl_flag':_0x17f824(0x274),'userFolderMaximumFiles':'Demo\x20and\x20Base\x20User\x20Settings'},_0xb188ec={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':_0x17f824(0x339),'autodetect_platform':_0x17f824(0x339),'cvjs_svgz_compress':_0x17f824(0x339),'cached_conversion':_0x17f824(0x339),'remainOnServer':'boolean','cvjs_debug':_0x17f824(0x339),'autodetect_location':_0x17f824(0x339),'platform':_0x17f824(0x213),'autoxchange_executable':_0x17f824(0x259)+(_0x62e2cd===_0x17f824(0x26a)?_0x3d0a37[_0x17f824(0x29d)](','):_0x2b5d32['join'](',')),'autoxchange_executable_windows':'radio|'+_0x3d0a37[_0x17f824(0x29d)](','),'autoxchange_executable_linux':_0x17f824(0x259)+_0x2b5d32['join'](','),'dwgmerge_executable':_0x17f824(0x259)+(_0x62e2cd==='windows'?_0x2402e2[_0x17f824(0x29d)](','):_0xb5c72a[_0x17f824(0x29d)](',')),'dwgmerge_executable_windows':'radio|'+_0x2402e2[_0x17f824(0x29d)](','),'dwgmerge_executable_linux':'radio|'+_0xb5c72a[_0x17f824(0x29d)](','),'linklist_executable':'radio|'+(_0x62e2cd===_0x17f824(0x26a)?_0x3dfc40[_0x17f824(0x29d)](','):_0x193f7b[_0x17f824(0x29d)](',')),'linklist_executable_windows':_0x17f824(0x259)+_0x3dfc40[_0x17f824(0x29d)](','),'linklist_executable_linux':_0x17f824(0x259)+_0x193f7b[_0x17f824(0x29d)](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':_0x17f824(0x339),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':'boolean','contentLocationCheck':'boolean','globalBearerAutentication':_0x17f824(0x339),'bcryptSaltRounds':'number','userFolderMaximumFiles':_0x17f824(0x32a),'userFolderMaximumSizeInMB':_0x17f824(0x32a)},_0x294d53={},_0x2b83d0=Object[_0x17f824(0x28b)](_0x18e9c5);_0x18e9c5[_0x17f824(0x21f)]&&_0x50a26b[_0x17f824(0x2ef)](_0x17f824(0x230)),_0x18e9c5[_0x17f824(0x255)]&&(_0x51a8f7[_0x17f824(0x2ef)](_0x17f824(0x31b)),_0x51a8f7['push'](_0x17f824(0x2c1)),_0x51a8f7['push'](_0x17f824(0x2a1)),_0x51a8f7[_0x17f824(0x2ef)](_0x17f824(0x2e1))),!_0x18e9c5['callbackMethod_gatewayUrl_flag']&&_0x51a8f7[_0x17f824(0x2ef)]('callbackMethod_gatewayUrl'),!_0x18e9c5[_0x17f824(0x254)]&&(_0x51a8f7[_0x17f824(0x2ef)]('mysqlHost'),_0x51a8f7[_0x17f824(0x2ef)](_0x17f824(0x2dc)),_0x51a8f7['push'](_0x17f824(0x219)),_0x51a8f7['push']('mysqlDatabase')),!_0x18e9c5[_0x17f824(0x2ab)]&&_0x51a8f7[_0x17f824(0x2ef)](_0x17f824(0x235)),!_0x18e9c5['fileLoad_PasswordAuthentication']&&(_0x51a8f7[_0x17f824(0x2ef)](_0x17f824(0x2e5)),_0x51a8f7['push'](_0x17f824(0x2de))),!_0x18e9c5['globalBearerAutentication']&&_0x51a8f7[_0x17f824(0x2ef)](_0x17f824(0x23e)),_0x2b83d0[_0x17f824(0x282)](_0x43b5f7=>{!_0x50a26b['includes'](_0x43b5f7)&&(_0x294d53[_0x43b5f7]=_0x18e9c5[_0x43b5f7]);}),_0x294d53[_0x17f824(0x2e4)]=''+_0x18e9c5[_0x17f824(0x2be)]+_0x18e9c5[_0x17f824(0x2cd)],_0x35089e[_0x17f824(0x225)](0xc8)[_0x17f824(0x1ea)]({'notEditableFields':_0x51a8f7,'customFieldTypes':_0xb188ec,'notHotEditableFields':_0x286f50,'config':_0x294d53,'fieldsTitle':_0x56806d,'configData':_0x18e9c5});}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x2c3),async(_0x598f5f,_0xdc9ae0)=>{const _0x1f093c=a26_0xdd4970,_0x409ff9=fs['readFileSync'](path['join'](path[_0x1f093c(0x22b)](require[_0x1f093c(0x273)][_0x1f093c(0x226)]),_0x1f093c(0x265)),_0x1f093c(0x24c)),_0x45ea09=_0x409ff9['replaceAll']('{version}',_0x598f5f[_0x1f093c(0x341)]);_0xdc9ae0[_0x1f093c(0x269)](_0x45ea09);});function findMatchingLogFiles(_0xe72fac,_0x58e1a0=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x4d614e=a26_0xdd4970;try{const _0x411299=fs[_0x4d614e(0x1f3)](_0xe72fac);return _0x411299['filter'](_0x2dd2cf=>_0x58e1a0[_0x4d614e(0x202)](_0x2dd2cf))[_0x4d614e(0x327)](_0x1b4ef9=>_0x1b4ef9[_0x4d614e(0x1f8)]('call-Api_Conversion_','')['replaceAll'](_0x4d614e(0x2f2),''));}catch(_0x2ee656){return console[_0x4d614e(0x1f7)]('Error\x20finding\x20log\x20files:',_0x2ee656),[];}}router[a26_0xdd4970(0x308)]('/logs/content',async(_0x435267,_0xa5ef93)=>{const _0x4a21e2=a26_0xdd4970,_0x370afc=new Date(),_0x452da5=_0x370afc[_0x4a21e2(0x29c)]()['toString']()[_0x4a21e2(0x228)](0x2,'0')+'_'+(_0x370afc[_0x4a21e2(0x302)]()+0x1)[_0x4a21e2(0x2ca)]()['padStart'](0x2,'0')+'_'+_0x370afc[_0x4a21e2(0x2e8)](),{displayDay:_0x4ac5b5}=_0x435267[_0x4a21e2(0x303)],_0x130b1d=path[_0x4a21e2(0x29d)](path[_0x4a21e2(0x22b)](require[_0x4a21e2(0x273)][_0x4a21e2(0x226)]),_0x4a21e2(0x1ee),_0x4a21e2(0x1f6)+(_0x4ac5b5??_0x452da5)+_0x4a21e2(0x2f2));fs[_0x4a21e2(0x332)](_0x130b1d)?fs[_0x4a21e2(0x246)](_0x130b1d,_0x4a21e2(0x24c),function(_0xbd698d,_0x4f53ba){const _0x50afbe=_0x4a21e2;_0xbd698d&&_0xa5ef93['status'](0x1f4)[_0x50afbe(0x269)](_0xbd698d),_0xa5ef93[_0x50afbe(0x225)](0xc8)[_0x50afbe(0x1ea)]({'content':_0x4f53ba,'days':findMatchingLogFiles(path[_0x50afbe(0x29d)](path[_0x50afbe(0x22b)](require[_0x50afbe(0x273)][_0x50afbe(0x226)]),_0x50afbe(0x1ee)))});}):_0xa5ef93[_0x4a21e2(0x225)](0xc8)[_0x4a21e2(0x1ea)]({'content':'','days':findMatchingLogFiles(path[_0x4a21e2(0x29d)](path[_0x4a21e2(0x22b)](require['main'][_0x4a21e2(0x226)]),_0x4a21e2(0x1ee)))});}),router[a26_0xdd4970(0x1fa)]('/logs/clean',async(_0xb53d59,_0xdf948b)=>{const _0x1a8aff=a26_0xdd4970,_0x3a2b20=new Date(),_0x23e6b9=_0x3a2b20[_0x1a8aff(0x29c)]()[_0x1a8aff(0x2ca)]()[_0x1a8aff(0x228)](0x2,'0')+'_'+(_0x3a2b20['getMonth']()+0x1)[_0x1a8aff(0x2ca)]()[_0x1a8aff(0x228)](0x2,'0')+'_'+_0x3a2b20['getFullYear'](),_0x5a2189=findMatchingLogFiles(path[_0x1a8aff(0x29d)](path[_0x1a8aff(0x22b)](require[_0x1a8aff(0x273)][_0x1a8aff(0x226)]),_0x1a8aff(0x1ee)));_0x5a2189[_0x1a8aff(0x282)](_0x29b608=>{const _0x49e529=_0x1a8aff;if(_0x29b608!==_0x23e6b9)fs[_0x49e529(0x256)](path[_0x49e529(0x29d)](path[_0x49e529(0x22b)](require[_0x49e529(0x273)][_0x49e529(0x226)]),_0x49e529(0x1ee),_0x49e529(0x1f6)+_0x29b608+_0x49e529(0x2f2)));}),logStream[_0x1a8aff(0x336)](),_0xdf948b[_0x1a8aff(0x225)](0xc8)[_0x1a8aff(0x1ea)]({'message':'Log\x20file\x20cleaned.'});}),router[a26_0xdd4970(0x28a)]('/restapi-test',async(_0x38efc0,_0x5c2f32)=>{const _0x33de87=a26_0xdd4970,_0xd8c25b=path[_0x33de87(0x29d)](path[_0x33de87(0x22b)](require['main'][_0x33de87(0x226)]),_0x33de87(0x210));if(!fs[_0x33de87(0x332)](_0xd8c25b)){const _0xa8cdd={'jsonDataExtraction':{'standard':[{'paramName':'json','paramValue':''},{'paramName':_0x33de87(0x280),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x33de87(0x277)},{'paramName':_0x33de87(0x24b),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x33de87(0x2f1)},{'paramName':_0x33de87(0x24b),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x33de87(0x24b),'paramValue':''},{'paramName':_0x33de87(0x2a0),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs['writeFileSync'](_0xd8c25b,JSON['stringify'](_0xa8cdd,null,0x4));}const _0x54c9e9=fs[_0x33de87(0x27e)](path['join'](path[_0x33de87(0x22b)](require[_0x33de87(0x273)][_0x33de87(0x226)]),'cadviewer/settings/rest-api.html'),'utf8'),_0x16958f=_0x54c9e9[_0x33de87(0x1f8)](_0x33de87(0x2fe),_0x38efc0[_0x33de87(0x341)]);_0x5c2f32['send'](_0x16958f);}),router[a26_0xdd4970(0x308)]('/restapi-test/parameters/search',async(_0x1e944c,_0x180a98)=>{const _0xe73481=a26_0xdd4970,{actionName:_0x4de9a3,contentLocation:_0x228122}=_0x1e944c[_0xe73481(0x303)],_0x4d0149=path['join'](path[_0xe73481(0x22b)](require[_0xe73481(0x273)][_0xe73481(0x226)]),_0xe73481(0x210));fs[_0xe73481(0x246)](_0x4d0149,_0xe73481(0x24c),function(_0x2e78ff,_0x250fa5){const _0x500dd6=_0xe73481;if(_0x2e78ff)_0x180a98['status'](0xc8)[_0x500dd6(0x1ea)]({'parameters':[]});else{const _0x1ae6f5=JSON[_0x500dd6(0x2b2)](_0x250fa5);if(_0x1ae6f5[_0x4de9a3]&&_0x1ae6f5[_0x4de9a3][_0x228122])_0x180a98[_0x500dd6(0x225)](0xc8)[_0x500dd6(0x1ea)]({'parameters':_0x1ae6f5[_0x4de9a3][_0x228122]});else _0x1ae6f5[_0x4de9a3]&&_0x1ae6f5[_0x4de9a3]['standard']?_0x180a98['status'](0xc8)[_0x500dd6(0x1ea)]({'parameters':_0x1ae6f5[_0x4de9a3][_0x500dd6(0x20f)]}):_0x180a98['status'](0xc8)[_0x500dd6(0x1ea)]({'parameters':[]});}});}),router['post'](a26_0xdd4970(0x232),async(_0x18ba88,_0x589bc1)=>{const _0x160798=a26_0xdd4970,{actionName:_0x820428,contentLocation:_0x508281,parameters:_0x47057c}=_0x18ba88[_0x160798(0x303)],_0x38bad0=path['join'](path['dirname'](require[_0x160798(0x273)][_0x160798(0x226)]),'cadviewer/settings/rest-api-parameters.json');fs[_0x160798(0x246)](_0x38bad0,_0x160798(0x24c),function(_0x468294,_0x2aec8c){const _0x6ffcf3=_0x160798;if(_0x468294)_0x589bc1[_0x6ffcf3(0x225)](0x199)[_0x6ffcf3(0x1ea)]({'message':_0x6ffcf3(0x278)});else{const _0x5194b1=JSON[_0x6ffcf3(0x2b2)](_0x2aec8c);!_0x5194b1[_0x820428]&&(_0x5194b1[_0x820428]={}),_0x5194b1[_0x820428][_0x508281]=_0x47057c,fs[_0x6ffcf3(0x206)](_0x38bad0,JSON[_0x6ffcf3(0x2b7)](_0x5194b1,null,0x4),function(_0x4c995e){const _0x24c6e9=_0x6ffcf3;_0x4c995e&&_0x589bc1['status'](0x199)['json']({'message':_0x24c6e9(0x278)}),_0x589bc1['status'](0xc8)[_0x24c6e9(0x1ea)]({'message':_0x24c6e9(0x301)});});}});}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x264),async(_0x51a62c,_0x2cf2a0)=>{const _0x5ed282=a26_0xdd4970,_0x1ec3f0=fs[_0x5ed282(0x27e)](path[_0x5ed282(0x29d)](path[_0x5ed282(0x22b)](require[_0x5ed282(0x273)]['filename']),_0x5ed282(0x321)),'utf8'),_0x133765=_0x1ec3f0[_0x5ed282(0x1f8)](_0x5ed282(0x2fe),_0x51a62c[_0x5ed282(0x341)]);_0x2cf2a0[_0x5ed282(0x269)](_0x133765);}),router[a26_0xdd4970(0x308)](a26_0xdd4970(0x296),async(_0x1478f3,_0x47ebf9)=>{const _0xb1a6b7=a26_0xdd4970,_0xf95be3=getHotConfig(),_0x4fc737=_0xf95be3['converterLocation'][_0xb1a6b7(0x1f8)]('//','/'),_0x131051=_0xf95be3[_0xb1a6b7(0x32f)]['replaceAll']('//','/'),_0x118959=_0xf95be3['linklistLocation'][_0xb1a6b7(0x1f8)]('//','/'),_0xc919b8=''+_0x4fc737+_0xf95be3[_0xb1a6b7(0x2c1)],_0x2a3706=''+_0x131051+_0xf95be3['dwgmerge_executable'],_0x5e8a35=''+_0x118959+_0xf95be3[_0xb1a6b7(0x2e1)],_0x3ca67a=[],_0x48074f=new Promise(_0x258c76=>{const _0x228020=_0xb1a6b7;exec(os[_0x228020(0x230)]()==='win32'?_0x228020(0x237):'ls',_0x3c6ce4=>{const _0x21e777=_0x228020;_0x3c6ce4?_0x3ca67a[_0x21e777(0x2ef)]({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':![],'priority':0x1}):_0x3ca67a['push']({'title':_0x21e777(0x208),'status':!![],'priority':0x1}),_0x258c76();});}),_0x999463=new Promise(_0x4a7d16=>{const _0x169480=_0xb1a6b7;fs[_0x169480(0x201)](_0xc919b8,fs[_0x169480(0x2cb)]['X_OK'],_0x5a79d1=>{const _0x135b4e=_0x169480;_0x5a79d1?_0x3ca67a['push']({'title':_0x135b4e(0x30b)+_0xf95be3['autoxchange_executable']+_0x135b4e(0x200),'status':![],'priority':0x2}):_0x3ca67a[_0x135b4e(0x2ef)]({'title':_0x135b4e(0x30b)+_0xf95be3[_0x135b4e(0x2c1)]+_0x135b4e(0x200),'status':!![],'priority':0x2}),_0x4a7d16();});}),_0x1597fc=new Promise(_0x2c8077=>{const _0x27f193=_0xb1a6b7;fs['access'](_0x2a3706,fs[_0x27f193(0x2cb)][_0x27f193(0x25e)],_0x335f21=>{const _0x45385f=_0x27f193;_0x335f21?_0x3ca67a['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0xf95be3[_0x45385f(0x2a1)]+_0x45385f(0x200),'status':![],'priority':0x3}):_0x3ca67a[_0x45385f(0x2ef)]({'title':_0x45385f(0x30b)+_0xf95be3[_0x45385f(0x2a1)]+_0x45385f(0x200),'status':!![],'priority':0x3}),_0x2c8077();});}),_0x12c43c=new Promise(_0x58ee0f=>{const _0x563224=_0xb1a6b7;fs['access'](_0x5e8a35,fs[_0x563224(0x2cb)][_0x563224(0x25e)],_0x1a543d=>{const _0x53a44c=_0x563224;_0x1a543d?_0x3ca67a[_0x53a44c(0x2ef)]({'title':_0x53a44c(0x30b)+_0xf95be3['linklist_executable']+_0x53a44c(0x200),'status':![],'priority':0x4}):_0x3ca67a[_0x53a44c(0x2ef)]({'title':_0x53a44c(0x30b)+_0xf95be3[_0x53a44c(0x2e1)]+_0x53a44c(0x200),'status':!![],'priority':0x4}),_0x58ee0f();});}),_0x2f753f=new Promise(_0x2309b5=>{const _0x2486c8=_0xb1a6b7,_0x182a81=new Date(),_0x5a1ba3=_0x182a81['getDate']()[_0x2486c8(0x2ca)]()[_0x2486c8(0x228)](0x2,'0')+'_'+(_0x182a81[_0x2486c8(0x302)]()+0x1)['toString']()[_0x2486c8(0x228)](0x2,'0')+'_'+_0x182a81[_0x2486c8(0x2e8)](),{displayDay:_0x562a9d}=_0x1478f3['body'];fs['access'](path[_0x2486c8(0x29d)](path[_0x2486c8(0x22b)](require[_0x2486c8(0x273)][_0x2486c8(0x226)]),'logs','call-Api_Conversion_'+(_0x562a9d??_0x5a1ba3)+'.log'),fs[_0x2486c8(0x2cb)][_0x2486c8(0x275)],_0x40546f=>{const _0x43f109=_0x2486c8;_0x40546f?_0x3ca67a[_0x43f109(0x2ef)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x562a9d??_0x5a1ba3)+'.log\x22','status':![],'priority':0x5}):_0x3ca67a[_0x43f109(0x2ef)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x562a9d??_0x5a1ba3)+_0x43f109(0x217),'status':!![],'priority':0x5}),_0x2309b5();});}),_0x3d45ec=(_0x5a2650,_0x12eccf)=>{const _0x4ac2df=_0xb1a6b7,_0x5e7466=path[_0x4ac2df(0x29d)](path['dirname'](require[_0x4ac2df(0x273)][_0x4ac2df(0x226)]),_0x5a2650);return new Promise(_0x4672d8=>{const _0x23da76=_0x4ac2df;fs[_0x23da76(0x201)](path[_0x23da76(0x29d)](path[_0x23da76(0x22b)](_0x5e7466)),fs['constants'][_0x23da76(0x22c)]|fs[_0x23da76(0x2cb)][_0x23da76(0x275)],_0x78bf2a=>{const _0xd7a643=_0x23da76;_0x78bf2a?_0x3ca67a['push']({'title':_0xd7a643(0x270)+_0x5a2650,'status':![],'priority':_0x12eccf+0x6}):_0x3ca67a[_0xd7a643(0x2ef)]({'title':_0xd7a643(0x270)+_0x5a2650,'status':!![],'priority':_0x12eccf+0x6}),_0x4672d8();});});},_0x109195=[_0xb1a6b7(0x258),_0xb1a6b7(0x2ac),_0xb1a6b7(0x21d),'/converters/files/print/','/converters/files/pdf/','/content/redlines/','/content/redlines/v7/'],_0x5a09e1=_0x109195['map'](_0x3d45ec);Promise[_0xb1a6b7(0x2a8)]([_0x48074f,_0x999463,_0x1597fc,_0x12c43c,_0x2f753f,..._0x5a09e1])[_0xb1a6b7(0x338)](()=>{const _0x104aa1=_0xb1a6b7;_0x47ebf9[_0x104aa1(0x225)](0xc8)[_0x104aa1(0x1ea)]({'checking_list':_0x3ca67a});})['catch'](()=>{const _0x3e6284=_0xb1a6b7;_0x47ebf9[_0x3e6284(0x225)](0x1f4)[_0x3e6284(0x1ea)]({'error':_0x3e6284(0x2d5)});});}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x285),async(_0xa4522f,_0x133094)=>{const _0x3c71b9=a26_0xdd4970,_0x4dcf3f=fs[_0x3c71b9(0x27e)](path[_0x3c71b9(0x29d)](path[_0x3c71b9(0x22b)](require[_0x3c71b9(0x273)][_0x3c71b9(0x226)]),_0x3c71b9(0x242)),_0x3c71b9(0x24c)),_0x5b738d=_0x4dcf3f[_0x3c71b9(0x1f8)](_0x3c71b9(0x2fe),_0xa4522f[_0x3c71b9(0x341)]);_0x133094[_0x3c71b9(0x269)](_0x5b738d);}),router[a26_0xdd4970(0x308)](a26_0xdd4970(0x31e),async(_0x4408f2,_0x563296)=>{const _0x4f40bd=a26_0xdd4970;let _0x5c8042;try{const [_0x40970a]=await conn[_0x4f40bd(0x236)]()[_0x4f40bd(0x223)]('SELECT\x20*\x20FROM\x20users',[]);_0x5c8042=_0x40970a;}catch(_0x1fdf90){console['log']({'err':_0x1fdf90}),_0x563296[_0x4f40bd(0x225)](0x1f4)['json']({'error':_0x4f40bd(0x1ff)});return;}_0x563296[_0x4f40bd(0x225)](0xc8)['json']({'success':!![],'data':_0x5c8042});}),router[a26_0xdd4970(0x308)](a26_0xdd4970(0x285),upload['single']('avatar'),async(_0x3c2fe0,_0x1399ac)=>{const _0x3a7230=a26_0xdd4970,{id:_0x3ab856,first_name:_0x2d2bd6,last_name:_0x466518,username:_0x2ba2e0,email:_0x17cb4a,password:_0x37ed48,is_enabled:_0x3988a7}=_0x3c2fe0[_0x3a7230(0x303)],_0x26116a=_0x3c2fe0['body'][_0x3a7230(0x2b6)]===_0x3a7230(0x222)?_0x3a7230(0x222):_0x3a7230(0x25a);let _0x411898;console[_0x3a7230(0x33f)](_0x3a7230(0x205));_0x37ed48&&(_0x411898=await bcrypt[_0x3a7230(0x23a)](_0x37ed48,0xa));let _0x25ff9e=null;if(_0x3c2fe0[_0x3a7230(0x297)]){const _0xcc4ed1='avatars/'+randomUUID()+'.png';fs[_0x3a7230(0x2c2)](_0x3c2fe0[_0x3a7230(0x297)][_0x3a7230(0x248)],'./'+_0xcc4ed1),_0x25ff9e=config[_0x3a7230(0x2be)]+'/'+_0xcc4ed1;}if(_0x3ab856){try{let [_0x405e68]=await conn[_0x3a7230(0x236)]()[_0x3a7230(0x223)](_0x3a7230(0x323),[_0x17cb4a,_0x2ba2e0,_0x3ab856]);if(_0x405e68[_0x3a7230(0x331)]>0x0)_0x1399ac[_0x3a7230(0x225)](0x199)[_0x3a7230(0x1ea)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{!_0x3c2fe0[_0x3a7230(0x297)]&&([_0x405e68]=await conn[_0x3a7230(0x236)]()['execute'](_0x3a7230(0x2df),[_0x3ab856]),_0x25ff9e=_0x405e68[0x0][_0x3a7230(0x267)]);const _0x2c545d=_0x3a7230(0x2f5)+(_0x37ed48?'`crypted_password`\x20=\x20?,\x20':'')+_0x3a7230(0x26d);await conn[_0x3a7230(0x236)]()[_0x3a7230(0x223)](_0x2c545d,_0x37ed48?[_0x25ff9e,_0x2d2bd6,_0x466518,_0x2ba2e0,_0x17cb4a,_0x411898,_0x3988a7,_0x26116a,_0x3ab856]:[_0x25ff9e,_0x2d2bd6,_0x466518,_0x2ba2e0,_0x17cb4a,_0x3988a7,_0x26116a,_0x3ab856]);}}catch(_0x5d0a02){console['log'](_0x5d0a02),_0x1399ac[_0x3a7230(0x225)](0x1f4)[_0x3a7230(0x1ea)]({'error':_0x3a7230(0x1ff)});return;}_0x1399ac[_0x3a7230(0x225)](0xc8)['json']({'success':!![],'message':'User\x20updated\x20successfully'});}else{try{const [_0x2e27ce]=await conn[_0x3a7230(0x236)]()['execute'](_0x3a7230(0x1fb),[_0x17cb4a,_0x2ba2e0]);if(_0x2e27ce['length']>0x0)_0x1399ac[_0x3a7230(0x225)](0x199)['json']({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{const _0x54e7ba=randomUUID();await conn[_0x3a7230(0x236)]()[_0x3a7230(0x223)](_0x3a7230(0x2c8),[_0x25ff9e,_0x2d2bd6,_0x466518,_0x2ba2e0,_0x17cb4a,_0x411898,_0x26116a,_0x3988a7,_0x54e7ba]);const _0x1e4373=_0x3a7230(0x21c)+_0x54e7ba;fs[_0x3a7230(0x25b)](_0x1e4373);}}catch(_0x316223){console[_0x3a7230(0x33f)](_0x316223),_0x1399ac[_0x3a7230(0x225)](0x1f4)['json']({'error':_0x3a7230(0x1ff)});return;}_0x1399ac['status'](0xc8)[_0x3a7230(0x1ea)]({'success':!![],'message':_0x3a7230(0x33a)});}}),router[a26_0xdd4970(0x1fa)]('/users/flush-dir',async(_0x25a7cd,_0x5b2f28)=>{const _0xfb494d=a26_0xdd4970,{userId:_0x8d06c0}=_0x25a7cd[_0xfb494d(0x303)];let _0x5c553e;try{const [_0x197984]=await conn[_0xfb494d(0x236)]()[_0xfb494d(0x223)](_0xfb494d(0x2df),[_0x8d06c0]);_0x197984[_0xfb494d(0x331)]>0x0&&(_0x5c553e=_0x197984[0x0]);}catch(_0xff6dcb){console[_0xfb494d(0x33f)]({'err':_0xff6dcb}),_0x5b2f28[_0xfb494d(0x225)](0x1f4)[_0xfb494d(0x1ea)]({'error':_0xfb494d(0x1ff)});return;}if(!_0x5c553e){_0x5b2f28[_0xfb494d(0x225)](0x191)[_0xfb494d(0x1ea)]({'error':_0xfb494d(0x326)});return;}let _0x26f552=_0x5c553e[_0xfb494d(0x310)];if(!_0x26f552){_0x26f552=randomUUID();try{await conn[_0xfb494d(0x236)]()['execute']('UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x26f552,_0x8d06c0]);}catch(_0x3308d4){console[_0xfb494d(0x33f)]({'err':_0x3308d4}),_0x5b2f28[_0xfb494d(0x225)](0x1f4)[_0xfb494d(0x1ea)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x2876e3='./uploads/'+_0x26f552;console[_0xfb494d(0x33f)](_0xfb494d(0x318)),console[_0xfb494d(0x33f)](_0x2876e3),!fs[_0xfb494d(0x332)](_0x2876e3)&&fs[_0xfb494d(0x25b)](_0x2876e3),fs[_0xfb494d(0x30a)](_0x2876e3,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x2876e3),_0x5b2f28[_0xfb494d(0x225)](0xc8)[_0xfb494d(0x1ea)]({'success':!![],'message':_0xfb494d(0x2c7)});}),router[a26_0xdd4970(0x1fa)]('/users/:userId',async(_0x25817c,_0x3d31e3)=>{const _0x584dff=a26_0xdd4970,_0x3ad542=_0x25817c['params']['userId'];try{let _0x5b3e79;try{const [_0x1ab6a1]=await conn['promise']()['execute'](_0x584dff(0x2df),[_0x3ad542]);_0x1ab6a1['length']>0x0&&(_0x5b3e79=_0x1ab6a1[0x0]);}catch(_0x56fbc8){console[_0x584dff(0x33f)]({'err':_0x56fbc8}),_0x3d31e3['status'](0x1f4)[_0x584dff(0x1ea)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0x5b3e79){_0x3d31e3['status'](0x191)[_0x584dff(0x1ea)]({'error':_0x584dff(0x326)});return;}let _0x1467da=_0x5b3e79[_0x584dff(0x310)];if(_0x1467da){const _0x4396c0=_0x584dff(0x21c)+_0x1467da;fs['existsSync'](_0x4396c0)&&fs[_0x584dff(0x30a)](_0x4396c0,{'recursive':!![],'force':!![]});}await conn['promise']()['execute']('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x3ad542]);}catch(_0x59ce09){console[_0x584dff(0x33f)](_0x59ce09),_0x3d31e3[_0x584dff(0x225)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x3d31e3[_0x584dff(0x225)](0xc8)[_0x584dff(0x1ea)]({'success':!![],'message':_0x584dff(0x2a6)});}),router['get']('/metrics',async(_0x10bbd8,_0x465da3)=>{const _0x12791e=a26_0xdd4970,_0x25c769=osu[_0x12791e(0x20c)],_0xfc6a7c=osu[_0x12791e(0x2a5)],_0x17eb8=osu[_0x12791e(0x231)],_0x4fa3bf=osu['os'],_0x262dfb={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0xd0a444=os[_0x12791e(0x230)]()===_0x12791e(0x2fb)?'c:':'/';const _0x17497d=await _0x17eb8['info'](_0xd0a444);_0x262dfb['percentage']=_0x17497d[_0x12791e(0x312)],_0x262dfb[_0x12791e(0x212)]=_0x17497d[_0x12791e(0x28d)],_0x262dfb['freeGb']=_0x17497d[_0x12791e(0x314)],_0x262dfb[_0x12791e(0x1ed)]=_0x17497d[_0x12791e(0x292)];}catch(_0x521a40){console['log'](_0x12791e(0x2b9),_0x521a40);}const _0x1f2e50={'usage':0x0,'count':0x0};try{_0x1f2e50[_0x12791e(0x33c)]=await _0x25c769['usage'](),_0x1f2e50['count']=_0x25c769[_0x12791e(0x215)]();}catch(_0x2135d5){console[_0x12791e(0x33f)](_0x12791e(0x2cf),_0x2135d5);}const _0x5ca041={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x5ca041['os']=await _0x4fa3bf[_0x12791e(0x260)](),_0x5ca041[_0x12791e(0x230)]=_0x4fa3bf[_0x12791e(0x230)](),_0x5ca041['ip']=_0x4fa3bf['ip'](),_0x5ca041[_0x12791e(0x247)]=_0x4fa3bf['uptime'](),_0x5ca041[_0x12791e(0x28e)]=_0x4fa3bf['hostname'](),_0x5ca041[_0x12791e(0x233)]=_0x4fa3bf[_0x12791e(0x233)](),_0x5ca041[_0x12791e(0x2e7)]=_0x4fa3bf[_0x12791e(0x2e7)](),_0x5ca041['who']=await osu[_0x12791e(0x27f)][_0x12791e(0x32b)](),_0x5ca041[_0x12791e(0x24d)]=await osu['osCmd']['whoami'](),_0x5ca041[_0x12791e(0x252)]=await osu[_0x12791e(0x27f)][_0x12791e(0x252)]();}catch(_0xed077a){console[_0x12791e(0x33f)]('Error\x20getting\x20os\x20info',_0xed077a);}const _0x11d86a={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x11d86a['totalProcesses']=await osu['proc'][_0x12791e(0x22a)](),_0x11d86a[_0x12791e(0x279)]=await osu[_0x12791e(0x2ba)]['zombieProcesses']();}catch(_0xf0b56d){console[_0x12791e(0x33f)](_0x12791e(0x1e7),_0xf0b56d);}let _0x29dcab={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x15aaa8=await _0xfc6a7c[_0x12791e(0x244)]();_0x29dcab[_0x12791e(0x2a3)]=_0x15aaa8[_0x12791e(0x2a3)],_0x29dcab['usedMemMb']=_0x15aaa8['used']/0x400/0x400,_0x29dcab['totalMemMb']=_0x15aaa8[_0x12791e(0x23c)]/0x400/0x400;}catch(_0x546fb5){console[_0x12791e(0x33f)](_0x12791e(0x309),_0x546fb5);}let _0x15d69d=0x0;try{_0x15d69d=await conn[_0x12791e(0x236)]()['query'](_0x12791e(0x25f))['then'](([_0x464f11])=>_0x464f11[0x0]['total']);}catch(_0x55e25){console[_0x12791e(0x33f)](_0x12791e(0x2d9),_0x55e25);}const _0x32197e=getMonitoringData(),_0x5ab31b=_0x32197e[_0x12791e(0x29b)](_0x25d61e=>_0x25d61e[_0x12791e(0x289)]!==null&&_0x25d61e[_0x12791e(0x289)]!==undefined),_0x41f572=_0x32197e['filter'](_0x33024c=>_0x33024c[_0x12791e(0x261)]!==null&&_0x33024c[_0x12791e(0x261)]!==undefined)['map'](_0xbfcbb9=>parseFloat(_0xbfcbb9[_0x12791e(0x261)][_0x12791e(0x1f8)]('Kb')['trim']())),_0x43d149=_0x5ab31b[_0x12791e(0x1fc)]((_0x589308,_0x517e31)=>_0x589308+parseFloat(_0x517e31[_0x12791e(0x289)]),0x0)/_0x5ab31b['length'],_0x432231=_0x41f572[_0x12791e(0x1fc)]((_0x3b107d,_0x25bddb)=>_0x3b107d+_0x25bddb,0x0)/_0x41f572['length'];_0x465da3[_0x12791e(0x1ea)]({'requestsPerSecond':counter[_0x12791e(0x268)](),'diskUsage':_0x262dfb,'cpus':_0x1f2e50,'system':_0x5ca041,'process':_0x11d86a,'totalMonitoringData':_0x32197e[_0x12791e(0x331)],'memory':_0x29dcab,'totalUsers':_0x15d69d,'avgConvertionTime':_0x43d149,'avgMemoryUsage':_0x432231});}),router['post']('/metrics/reset',(_0x1bcdca,_0x540faa)=>{const _0x247161=a26_0xdd4970;counter[_0x247161(0x1e9)](),_0x540faa[_0x247161(0x1ea)]({'message':_0x247161(0x1e8)});});const getMonitoringData=()=>{const _0x4d8578=a26_0xdd4970,_0x2f3263='cadviewer/settings/requests-callapiconversion-monitoring.json';let _0x49ee61=[];try{_0x49ee61=JSON[_0x4d8578(0x2b2)](fs[_0x4d8578(0x27e)](_0x2f3263));}catch(_0x4d144e){console[_0x4d8578(0x33f)](_0x4d8578(0x2b8));}return _0x49ee61;};function a26_0x86e6(){const _0x269661=['Folder\x20renamed.','cvjs_svgz_compress','yellow','Error\x20getting\x20total\x20users','mysqlHost','Cache\x20flushed\x20successfully','mysqlUsername','dwgmerge_executable_linux','fileLoad_Password','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','Content-Disposition','linklist_executable','https','licenseLocation','fileLocationUrl','fileLoad_UserName','149882UjKOle','arch','getFullYear','cadviewer/settings/vanilla-toast.js','sendFile','RL/TL\x20Processing','isFile','DwgMerge\x20Settings','./tmp','push','originalname','pdf','.log','DWG\x20to\x20SVG\x20Conversion','\x20\x20\x20','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','/licences','/icons.js','unlink','JSON\x20Data\x20Extraction','/conversion/memorydata','win32','\x20KB','\x20MB','{version}','split','24WbTPVH','Parameters\x20saved.','getMonth','body','converterpathWin','mkdir','/folders/download','291810KgDuLu','post','Error\x20getting\x20memory\x20info','rmSync','Permission\x20750\x20for\x20the\x20\x22','query','4056qjmnhE','Folder\x20not\x20found','mode','folder_name','cadviewer/settings/style.css','usedPercentage','folderName','freeGb','../libs/mysql.js','Error\x20creating\x20folder.','zlib','====================','CADViewer_config.json','toLocaleLowerCase','ServerLocation','Error\x20renaming\x20folder.','Error\x20renaming\x20file.','/users/list','Error\x20updating\x20config','../libs/counter.js','cadviewer/settings/doctor.html','Old\x20demo_user\x20accounts\x20(','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','.svg','.gitkeep','Invalid\x20user','map','linklist_executable_windows','/folders','number','who','converters','34256SjVkQH','176121rNlVan','dwgmergeLocation','darwin','length','existsSync','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','SVG','File\x20deleted\x20successfully','clean','/vanilla-toast.css','then','boolean','User\x20created\x20successfully','application/octet-stream','usage','exports','image/svg+xml','log','from','version','Error\x20getting\x20process\x20info','Counter\x20reset\x20successfully','reset','json','email','Error\x20deleting\x20user\x20folder:','totalGB','logs','sort','split_details.json','/conversion/list','10iTCwzF','readdirSync','/vanilla-toast.js','pop','call-Api_Conversion_','error','replaceAll','.dwg','delete','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','reduce','Folder\x20not\x20found.','cadviewer/settings/config.html','Error!\x20Something\x20went\x20wrong.','\x22\x20executable','access','test','Error\x20deleting\x20file.','temp_print_folder','=============================>','writeFile','linklist_executable_linux','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','ceil','Failed\x20to\x20flush\x20cache','slice','cpu','.pdf','xpathLocation','standard','cadviewer/settings/rest-api-parameters.json','Files\x20uploaded\x20successfully','usedGB','radio|windows,linux','endsWith','count','linklistLocation','.log\x22','Error\x20deleting\x20folder.','mysqlPassword','gunzipSync','Failed\x20to\x20get\x20cache\x20stats','./uploads/','/converters/files/merged/','node-os-utils','autodetect_platform','has','\x20GB','admin','execute','DWG\x20to\x20PDF\x20Conversion','status','filename','converterLocation','padStart','57976PdPmOc','totalProcesses','dirname','R_OK','/folders/update','resolve','birthtime','platform','drive','/restapi-test/parameters/save','type','cadviewer/settings/conversion-cache.html','ContentSecurityPolicy','promise','dir','cached_conversion','isDirectory','hash','5KuSJXr','total','Config\x20updated.','globalBearerAutenticationToken','size','/cache/stats','toFixed','cadviewer/settings/users.html','DWG\x20file\x20in\x20multiple\x20files','info','getHotConfig','readFile','uptime','path','cadviewer/settings/home.html','PDF','model','utf8','whoami','tmp','cadviewer/settings/requests-callapiconversion-monitoring.json','Error\x20flushing\x20cache:','extname','vmstats','27LwfWHv','setup_mysqlHost','autodetect_location','unlinkSync','Folder\x20deleted.','/converters/files/','radio|','user','mkdirSync','scheduleJob','cadviewer/settings/folders.html','X_OK','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','oos','conversionMemoryUsage','green','0\x201\x20*\x20*\x20*','/doctor','cadviewer/settings/logs.html','.json','avatar_url','getStats','send','windows','linux','File\x20or\x20Folder\x20not\x20found','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','LinkList\x20Settings','put','Read\x20and\x20write\x20permission\x20for\x20folder\x20','cadviewer/settings/licences.html','folderLocation','main','Callback\x20and\x20Authentication\x20Settings','W_OK','entries','svg','Error\x20saving\x20parameters.','zombieProcesses','Database\x20Settings','rename','autoxchange_executable_linux','/folders/create','readFileSync','osCmd','blocks','gray','forEach','mysqlDatabase','.rl.json','/users','bcrypt','formatedSize','ServerPort','conversionTimeSpend','get','keys','../libs/log','usedGb','hostname','files','SVGZ','Error\x20downloading\x20file.','totalGb','crypto','/cache-stats.js','includes','/doctor/check','file','cadviewer/settings/chart.min.js','Content-Type','dwgmerge_executable_windows','filter','getDate','join','/config/content','/cache','hlall','dwgmerge_executable',')\x20older\x20than\x20','usedMemPercentage','File\x20deleted.','mem','User\x20deleted\x20successfully','express','all','createdAt','mimetype','ContentSecurityPolicyReportOnly','/converters/autoxchange/linux/','sub_dirs','now','atime','../CADViewer_config.json','.svgz','parse','Deleting\x20old\x20demo_user\x20accounts...','replace','JSON','role','stringify','Error\x20reading\x20monitoring\x20file','Error\x20getting\x20disk\x20usage','proc','download','node-schedule','callbackMethod','ServerUrl','2321606cTSvCD','setHeader','autoxchange_executable','renameSync','/logs','/config/update','writeFileSync','/cache/files/:id','User\x20directory\x20flushed\x20successfully','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','File\x20not\x20found','toString','constants','isFolder','fileLocation','cadviewer/settings/tailwind.js','Error\x20getting\x20cpu\x20usage','.csv','statSync','params','autoxchange_executable_windows','set','An\x20error\x20occurred\x20while\x20checking.'];a26_0x86e6=function(){return _0x269661;};return a26_0x86e6();}function a26_0x3802(_0x4e9a60,_0x833276){const _0x86e6f6=a26_0x86e6();return a26_0x3802=function(_0x3802e5,_0x134238){_0x3802e5=_0x3802e5-0x1e7;let _0x4e265b=_0x86e6f6[_0x3802e5];return _0x4e265b;},a26_0x3802(_0x4e9a60,_0x833276);}router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x1f1),async(_0x17dcab,_0x5f5d88)=>{const _0x5d3a32=a26_0xdd4970,{page:page=0x1,limit:limit=0xa}=_0x17dcab['query'],_0x277d66=(page-0x1)*limit;try{const _0x18a7f4=getMonitoringData(),_0x29626f=_0x18a7f4['length'],_0x23f462=Math[_0x5d3a32(0x209)](_0x29626f/limit),_0x2d7e5e=_0x18a7f4[_0x5d3a32(0x20b)](_0x277d66,_0x277d66+limit);_0x5f5d88[_0x5d3a32(0x225)](0xc8)['json']({'data':_0x2d7e5e,'page':parseInt(''+page),'totalPages':_0x23f462,'total':_0x29626f});}catch(_0x5d7319){console['log'](_0x5d7319),_0x5f5d88[_0x5d3a32(0x225)](0x1f4)[_0x5d3a32(0x1ea)]({'error':_0x5d3a32(0x1ff)});}}),router[a26_0xdd4970(0x1fa)]('/conversion/clean',async(_0x5c5158,_0x287fec)=>{const _0x5829b6=a26_0xdd4970,_0x106667=_0x5829b6(0x24f);try{fs[_0x5829b6(0x2c5)](_0x106667,JSON[_0x5829b6(0x2b7)]([],null,0x4)),_0x287fec[_0x5829b6(0x225)](0xc8)[_0x5829b6(0x1ea)]({'message':'Monitoring\x20file\x20cleaned.'});}catch(_0x2c0042){console['log'](_0x2c0042),_0x287fec[_0x5829b6(0x225)](0x1f4)[_0x5829b6(0x1ea)]({'error':_0x5829b6(0x1ff)});}}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x2fa),async(_0x4af766,_0x1f436b)=>{const _0x5eeb52=a26_0xdd4970,_0x278112=getHotConfig()['converterLocation'][_0x5eeb52(0x1f8)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x4af766[_0x5eeb52(0x30c)],_0x1fd9f3=(page-0x1)*limit;try{const _0x29d7ad=_0x278112+'memorydata.csv';console[_0x5eeb52(0x33f)](_0x29d7ad);const _0x59e6e1=fs[_0x5eeb52(0x27e)](_0x29d7ad,_0x5eeb52(0x24c)),_0x42516a=_0x59e6e1[_0x5eeb52(0x2ff)]('\x0a'),_0x442ed0=[];_0x42516a[_0x5eeb52(0x282)](_0x1e353c=>{const _0x2cab3a=_0x5eeb52,_0x2cb1e9=_0x1e353c[_0x2cab3a(0x2ff)](',');if(_0x2cb1e9[_0x2cab3a(0x331)]<0x4)return;const _0x16644e=_0x2cb1e9[0x0],_0x16b808=_0x2cb1e9[0x1],_0x2dd0c2=parseFloat(_0x2cb1e9[0x2]);_0x442ed0[_0x2cab3a(0x2ef)]({'file':_0x16644e['replaceAll']('\x22',''),'action':_0x16b808,'timeSpend':_0x2dd0c2,'memoryUsage':_0x2cb1e9[0x3]});});const _0x11e7b2=_0x442ed0[_0x5eeb52(0x331)],_0x1f3b1d=Math['ceil'](_0x11e7b2/limit),_0x48099f=_0x442ed0[_0x5eeb52(0x20b)](_0x1fd9f3,_0x1fd9f3+limit);_0x1f436b[_0x5eeb52(0x225)](0xc8)[_0x5eeb52(0x1ea)]({'data':_0x48099f,'page':parseInt(''+page),'totalPages':_0x1f3b1d,'total':_0x11e7b2});}catch(_0x5919a9){console[_0x5eeb52(0x33f)](_0x5919a9),_0x1f436b[_0x5eeb52(0x225)](0x1f4)[_0x5eeb52(0x1ea)]({'error':_0x5eeb52(0x1ff)});}}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x240),async(_0x21f82c,_0x3c3445)=>{const _0x308517=a26_0xdd4970,_0x122817=path[_0x308517(0x29d)](path[_0x308517(0x22b)](require['main']['filename']),'converters',_0x308517(0x28f));try{let _0x502d90=0x0,_0x14f860=0x0;function _0x4b707e(_0x4d77da){const _0x527949=_0x308517;let _0x300c1e=0x0,_0x476334=0x0;if(fs[_0x527949(0x332)](_0x4d77da)){const _0x3c226d=fs['readdirSync'](_0x4d77da);_0x476334=0x0;for(const _0x2fb90a of _0x3c226d){const _0x5f5da3=path[_0x527949(0x29d)](_0x4d77da,_0x2fb90a),_0x62d3b0=fs[_0x527949(0x2d1)](_0x5f5da3);if(_0x62d3b0[_0x527949(0x2ec)]()&&_0x2fb90a!==_0x527949(0x325))_0x476334++,_0x300c1e+=_0x62d3b0[_0x527949(0x23f)];else{if(_0x62d3b0[_0x527949(0x239)]()){}}}}return{'size':_0x300c1e,'count':_0x476334};}const _0x2614d8=_0x4b707e(_0x122817);_0x502d90=_0x2614d8[_0x308517(0x23f)],_0x14f860=_0x2614d8[_0x308517(0x215)],_0x3c3445[_0x308517(0x1ea)]({'fileCount':_0x14f860,'totalSize':_0x502d90});}catch(_0x43c811){console[_0x308517(0x1f7)]('Error\x20getting\x20cache\x20stats:',_0x43c811),_0x3c3445[_0x308517(0x225)](0x1f4)['json']({'error':_0x308517(0x21b)});}}),router[a26_0xdd4970(0x1fa)]('/cache/flush',async(_0x1627f8,_0x5a0663)=>{const _0x9ec01=a26_0xdd4970,_0x2cc71c=path['join'](path[_0x9ec01(0x22b)](require[_0x9ec01(0x273)]['filename']),'converters',_0x9ec01(0x28f));try{function _0x2b6eb8(_0x1cbd38){const _0x589000=_0x9ec01;if(fs['existsSync'](_0x1cbd38)){const _0x43c3a8=fs[_0x589000(0x1f3)](_0x1cbd38);for(const _0x47a060 of _0x43c3a8){const _0x52bd77=path[_0x589000(0x29d)](_0x1cbd38,_0x47a060),_0x268a27=fs[_0x589000(0x2d1)](_0x52bd77);if(_0x268a27[_0x589000(0x239)]()){}else _0x47a060!==_0x589000(0x325)&&fs['unlinkSync'](_0x52bd77);}}}_0x2b6eb8(_0x2cc71c),_0x5a0663[_0x9ec01(0x1ea)]({'message':_0x9ec01(0x2db)});}catch(_0x1e93ce){console[_0x9ec01(0x1f7)](_0x9ec01(0x250),_0x1e93ce),_0x5a0663['status'](0x1f4)[_0x9ec01(0x1ea)]({'error':_0x9ec01(0x20a)});}}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x294),async(_0x380861,_0xd05c4e)=>{const _0x664a4b=a26_0xdd4970;_0xd05c4e[_0x664a4b(0x2ea)](path[_0x664a4b(0x29d)](path[_0x664a4b(0x22b)](require['main'][_0x664a4b(0x226)]),'cadviewer/settings/cache-stats.js'));}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x29f),async(_0x4ec239,_0x514823)=>{const _0x4fbf71=a26_0xdd4970,_0x108e60=fs[_0x4fbf71(0x27e)](path[_0x4fbf71(0x29d)](path['dirname'](require[_0x4fbf71(0x273)][_0x4fbf71(0x226)]),_0x4fbf71(0x234)),_0x4fbf71(0x24c)),_0x432c68=_0x108e60[_0x4fbf71(0x1f8)]('{version}',_0x4ec239[_0x4fbf71(0x341)]);_0x514823[_0x4fbf71(0x269)](_0x432c68);}),router[a26_0xdd4970(0x28a)]('/cache/files',async(_0x4a4eba,_0x57e84e)=>{const _0x6913e9=a26_0xdd4970,{page:page=0x1,limit:limit=0x10}=_0x4a4eba[_0x6913e9(0x30c)],_0x59eba0=path[_0x6913e9(0x29d)](path[_0x6913e9(0x22b)](require[_0x6913e9(0x273)]['filename']),'converters','files'),_0x5f2162=fs['readdirSync'](_0x59eba0),_0xc3cd59=new Map();_0x5f2162[_0x6913e9(0x282)](_0x3abf19=>{const _0x13b58a=_0x6913e9,_0x15d465=path['join'](_0x59eba0,_0x3abf19),_0x17bc97=fs['statSync'](_0x15d465);_0xc3cd59[_0x13b58a(0x2d4)](_0x3abf19,_0x17bc97);});const _0x236278=Array[_0x6913e9(0x340)](_0xc3cd59[_0x6913e9(0x276)]())[_0x6913e9(0x327)](([_0x2ec747,_0x3a0fff])=>{const _0x383388=_0x6913e9;if(_0x3a0fff[_0x383388(0x239)]())return undefined;if(_0x2ec747['endsWith'](_0x383388(0x2d0)))return undefined;if(_0x2ec747[_0x383388(0x214)](_0x383388(0x1f9)))return undefined;let _0x3ef9db=undefined,_0x2dc338=undefined;(_0x2ec747[_0x383388(0x214)](_0x383388(0x324))||_0x2ec747['endsWith'](_0x383388(0x2b1)))&&_0xc3cd59[_0x383388(0x220)](_0x2ec747['replace'](_0x383388(0x2b1),_0x383388(0x2d0))['replace'](_0x383388(0x324),_0x383388(0x2d0)))&&(_0x3ef9db=_0xc3cd59[_0x383388(0x28a)](_0x2ec747[_0x383388(0x2b4)](_0x383388(0x2b1),'.csv')['replace'](_0x383388(0x324),_0x383388(0x2d0))));_0x2ec747['endsWith']('.json')&&_0xc3cd59['has'](_0x2ec747[_0x383388(0x2b4)]('.json',_0x383388(0x1f9)))&&(_0x2dc338=_0xc3cd59[_0x383388(0x28a)](_0x2ec747[_0x383388(0x2b4)](_0x383388(0x266),'.dwg')));let _0x4f96d0='';if((_0x2ec747[_0x383388(0x214)]('.svg')||_0x2ec747['endsWith'](_0x383388(0x2b1)))&&_0x3ef9db)_0x4f96d0=_0x383388(0x2f3);else{if(_0x2ec747['endsWith'](_0x383388(0x324))||_0x2ec747[_0x383388(0x214)]('.svgz'))_0x4f96d0='Display\x20of\x20DWG';else{if(_0x2ec747['endsWith'](_0x383388(0x266))&&_0x2dc338)_0x4f96d0=_0x383388(0x2f9);else{if(_0x2ec747[_0x383388(0x214)]('.pdf'))_0x4f96d0=_0x383388(0x224);else{if(_0x2ec747[_0x383388(0x214)](_0x383388(0x1f0)))_0x4f96d0=_0x383388(0x243);else{if(_0x2ec747['endsWith'](_0x383388(0x284)))_0x4f96d0=_0x383388(0x2eb);else _0x2ec747[_0x383388(0x214)]('.json')&&(_0x4f96d0='Cache\x20conversion');}}}}}return{'name':_0x2ec747,'size':_0x3a0fff['size'],'createdAt':_0x3a0fff[_0x383388(0x22f)],'updatedAt':_0x3a0fff['ctime'],'readAt':_0x3a0fff[_0x383388(0x2af)],'action':_0x4f96d0,'csvFile':_0x3ef9db,'availableFormats':[_0x2ec747[_0x383388(0x214)](_0x383388(0x324))?{'id':_0x2ec747,'name':_0x383388(0x334),'color':_0x383388(0x2d8)}:undefined,_0x2ec747['endsWith']('.svgz')?{'id':_0x2ec747,'name':_0x383388(0x290),'color':_0x383388(0x2d8)}:undefined,_0x2ec747[_0x383388(0x214)](_0x383388(0x20d))?{'id':_0x2ec747,'name':_0x383388(0x24a),'color':'red'}:undefined,_0x2ec747['endsWith']('.json')?{'id':_0x2ec747,'name':_0x383388(0x2b5),'color':_0x383388(0x281)}:undefined,_0x3ef9db?{'id':_0x2ec747['replace'](_0x383388(0x2b1),'.csv')['replace'](_0x383388(0x324),_0x383388(0x2d0)),'name':'CSV','color':_0x383388(0x262)}:undefined][_0x383388(0x29b)](_0x22244e=>_0x22244e!==undefined)};})[_0x6913e9(0x29b)](_0xb942ef=>_0xb942ef!==undefined),_0x177938=(page-0x1)*limit,_0x4dae62=page*limit,_0x10f4a0=_0x236278[_0x6913e9(0x331)],_0x4ad792=Math[_0x6913e9(0x209)](_0x10f4a0/limit);_0x236278[_0x6913e9(0x1ef)]((_0x28ce82,_0x32a134)=>_0x32a134[_0x6913e9(0x2a9)]-_0x28ce82['createdAt']);const _0x35c626=_0x236278[_0x6913e9(0x20b)](_0x177938,_0x4dae62);_0x57e84e[_0x6913e9(0x1ea)]({'files':_0x35c626,'pagination':{'total':_0x10f4a0,'totalPages':_0x4ad792,'currentPage':parseInt(page),'limit':parseInt(limit)}});}),router[a26_0xdd4970(0x28a)]('/cache/csv/:file',async(_0x14574a,_0x491627)=>{const _0x5948a6=a26_0xdd4970,{file:_0xa3d66b}=_0x14574a['params'],_0x52bc50=path['join'](path['dirname'](require[_0x5948a6(0x273)][_0x5948a6(0x226)]),_0x5948a6(0x32c),_0x5948a6(0x28f)),_0x4c05d2=path[_0x5948a6(0x29d)](_0x52bc50,_0xa3d66b),_0x49258c=fs[_0x5948a6(0x27e)](_0x4c05d2,_0x5948a6(0x24c)),_0x2c0b28=_0x49258c[_0x5948a6(0x2ff)]('\x0a'),_0x4a22f2=_0x2c0b28[_0x5948a6(0x327)](_0x377bbf=>{const _0x222622=_0x5948a6,_0x2d45b1=_0x377bbf[_0x222622(0x2ff)](',');return _0x2d45b1[_0x222622(0x327)](_0x548cf2=>_0x548cf2[_0x222622(0x1f8)]('\x22',''));});_0x491627['json'](_0x4a22f2);}),router[a26_0xdd4970(0x28a)](a26_0xdd4970(0x2c6),async(_0x1c2979,_0x421e68)=>{const _0x32b736=a26_0xdd4970,{id:_0x307b73}=_0x1c2979[_0x32b736(0x2d2)],_0x29d669=path[_0x32b736(0x29d)](path['dirname'](require[_0x32b736(0x273)]['filename']),_0x32b736(0x32c),_0x32b736(0x28f)),_0x2cde59=path[_0x32b736(0x29d)](_0x29d669,_0x307b73);if(_0x2cde59['endsWith'](_0x32b736(0x2b1))){var _0x5d7f93=require(_0x32b736(0x317));const _0x2966ce=fs[_0x32b736(0x27e)](_0x2cde59),_0x50efdf=_0x5d7f93[_0x32b736(0x21a)](_0x2966ce);_0x421e68[_0x32b736(0x2c0)](_0x32b736(0x299),_0x32b736(0x33e)),_0x421e68[_0x32b736(0x269)](_0x50efdf);}else _0x421e68['sendFile'](_0x2cde59);}),router[a26_0xdd4970(0x1fa)]('/cache/files/:id',async(_0x242520,_0xf1add9)=>{const _0x901c1=a26_0xdd4970,{id:_0x14c31c}=_0x242520['params'],_0x55af58=path[_0x901c1(0x29d)](path['dirname'](require[_0x901c1(0x273)][_0x901c1(0x226)]),_0x901c1(0x32c),_0x901c1(0x28f)),_0xb88a96=path['join'](_0x55af58,_0x14c31c);fs['unlinkSync'](_0xb88a96);if(_0x14c31c['endsWith']('.svg')){const _0x20c54a=path[_0x901c1(0x29d)](_0x55af58,_0x14c31c[_0x901c1(0x2b4)]('.svgz',_0x901c1(0x2d0))['replace'](_0x901c1(0x324),_0x901c1(0x2d0)));fs['existsSync'](_0x20c54a)&&fs[_0x901c1(0x256)](_0x20c54a);}_0xf1add9[_0x901c1(0x1ea)]({'message':_0x901c1(0x335)});});const deleteOldDemoUsers=async()=>{const _0x102709=a26_0xdd4970;console['log'](_0x102709(0x2b3));const _0x723841=config['demoUserRetentionDays'],_0x52d086='SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)';try{const [_0x2f3df1]=await conn[_0x102709(0x236)]()[_0x102709(0x223)](_0x52d086,[_0x723841]),_0x4a4eae=_0x2f3df1[_0x102709(0x327)](_0x95eea2=>_0x95eea2[_0x102709(0x310)]),_0x275611=_0x2f3df1[_0x102709(0x327)](_0x4cfb2c=>_0x4cfb2c[_0x102709(0x1eb)]);console[_0x102709(0x33f)](_0x275611),await conn[_0x102709(0x236)]()[_0x102709(0x223)]('DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[_0x723841]),_0x4a4eae['forEach'](_0x4d1366=>{const _0x67113f=_0x102709;try{const _0x37ffe7=_0x67113f(0x21c)+_0x4d1366;fs['rmdirSync'](_0x37ffe7);}catch(_0x1be7f8){console[_0x67113f(0x1f7)](_0x67113f(0x1ec),_0x1be7f8);}}),console[_0x102709(0x33f)](_0x102709(0x322)+_0x2f3df1['length']+_0x102709(0x2a2)+_0x723841+'\x20days\x20have\x20been\x20deleted.');}catch(_0x1d0978){console['error']('Error\x20deleting\x20old\x20demo_user\x20accounts:',_0x1d0978);}};schedule[a26_0xdd4970(0x25c)](a26_0xdd4970(0x263),deleteOldDemoUsers),module[a26_0xdd4970(0x33d)]=router;