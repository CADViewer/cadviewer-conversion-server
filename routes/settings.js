const a26_0x3b6580=a26_0x711e;(function(_0x5ac030,_0x211ca4){const _0x42f009=a26_0x711e,_0x350249=_0x5ac030();while(!![]){try{const _0x9de358=parseInt(_0x42f009(0x2f1))/0x1*(-parseInt(_0x42f009(0x2ad))/0x2)+parseInt(_0x42f009(0x2da))/0x3*(-parseInt(_0x42f009(0x347))/0x4)+parseInt(_0x42f009(0x203))/0x5+-parseInt(_0x42f009(0x202))/0x6*(-parseInt(_0x42f009(0x1fb))/0x7)+-parseInt(_0x42f009(0x261))/0x8+parseInt(_0x42f009(0x1e1))/0x9*(-parseInt(_0x42f009(0x2a6))/0xa)+parseInt(_0x42f009(0x26d))/0xb*(parseInt(_0x42f009(0x248))/0xc);if(_0x9de358===_0x211ca4)break;else _0x350249['push'](_0x350249['shift']());}catch(_0x5b0cac){_0x350249['push'](_0x350249['shift']());}}}(a26_0x4f5e,0x511a1));const express=require(a26_0x3b6580(0x29c)),router=express[a26_0x3b6580(0x219)](),multer=require(a26_0x3b6580(0x2fa)),fs=require('fs'),path=require('path'),getHotConfig=require(a26_0x3b6580(0x25d))[a26_0x3b6580(0x1dd)],{exec}=require(a26_0x3b6580(0x244)),os=require('os'),conn=require(a26_0x3b6580(0x253)),bcrypt=require(a26_0x3b6580(0x2ee)),osu=require(a26_0x3b6580(0x30c)),schedule=require(a26_0x3b6580(0x301)),counter=require('../libs/counter.js'),{randomUUID}=require(a26_0x3b6580(0x2b3)),logStream=require(a26_0x3b6580(0x31c)),config=require(a26_0x3b6580(0x2d7)),basicAuth=require(a26_0x3b6580(0x256)),protectedRoute=basicAuth({'users':{[config[a26_0x3b6580(0x216)]]:config[a26_0x3b6580(0x1ee)]},'challenge':!![],'realm':a26_0x3b6580(0x230)});router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x2e2),async(_0x356874,_0x17255d)=>{const _0x310dab=a26_0x3b6580;_0x17255d[_0x310dab(0x1d5)](path[_0x310dab(0x317)](path[_0x310dab(0x1e9)](require['main'][_0x310dab(0x237)]),_0x310dab(0x2fe)));}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x2ea),async(_0x324b80,_0x22c025)=>{const _0x49f5c8=a26_0x3b6580;_0x22c025[_0x49f5c8(0x1d5)](path['join'](path['dirname'](require[_0x49f5c8(0x22b)][_0x49f5c8(0x237)]),_0x49f5c8(0x2af)));}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x25c),async(_0x211173,_0xfce503)=>{const _0x2436b8=a26_0x3b6580;_0xfce503[_0x2436b8(0x1d5)](path[_0x2436b8(0x317)](path[_0x2436b8(0x1e9)](require['main'][_0x2436b8(0x237)]),_0x2436b8(0x28f)));}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x1da),async(_0x389c50,_0x339167)=>{const _0xeb894c=a26_0x3b6580;_0x339167[_0xeb894c(0x1d5)](path[_0xeb894c(0x317)](path[_0xeb894c(0x1e9)](require[_0xeb894c(0x22b)][_0xeb894c(0x237)]),_0xeb894c(0x2c2)));}),router['get'](a26_0x3b6580(0x28a),async(_0x45b43d,_0x2644f0)=>{const _0x4e9e74=a26_0x3b6580;_0x2644f0['sendFile'](path['join'](path[_0x4e9e74(0x1e9)](require['main'][_0x4e9e74(0x237)]),'cadviewer/settings/vanilla-toast.js'));}),router[a26_0x3b6580(0x27a)]('/icons.js',async(_0x2515ff,_0x3c2f99)=>{const _0x1373b0=a26_0x3b6580;_0x3c2f99[_0x1373b0(0x1d5)](path[_0x1373b0(0x317)](path[_0x1373b0(0x1e9)](require[_0x1373b0(0x22b)][_0x1373b0(0x237)]),_0x1373b0(0x295)));}),router['get']('/',protectedRoute,async(_0x3df2a5,_0x2e5a38)=>{const _0x1db3db=a26_0x3b6580,_0x1dbbf2=fs['readFileSync'](path[_0x1db3db(0x317)](path['dirname'](require[_0x1db3db(0x22b)][_0x1db3db(0x237)]),_0x1db3db(0x1c2)),_0x1db3db(0x279)),_0x3bb720=_0x1dbbf2['replaceAll']('{version}',_0x3df2a5[_0x1db3db(0x2d3)]);_0x2e5a38[_0x1db3db(0x2b6)](_0x3bb720);}),router['get'](a26_0x3b6580(0x2a3),protectedRoute,async(_0x4fd6e2,_0x31a3fa)=>{const _0xa68214=a26_0x3b6580,_0x1f173b=fs[_0xa68214(0x2bf)](path[_0xa68214(0x317)](path[_0xa68214(0x1e9)](require[_0xa68214(0x22b)][_0xa68214(0x237)]),_0xa68214(0x2e0)),_0xa68214(0x279)),_0x3b7bff=_0x1f173b[_0xa68214(0x330)](_0xa68214(0x345),_0x4fd6e2['version']);_0x31a3fa['send'](_0x3b7bff);}),router[a26_0x3b6580(0x27a)]('/config',protectedRoute,async(_0x2a010b,_0x4f42a1)=>{const _0x2c3957=a26_0x3b6580,_0x4c8085=fs[_0x2c3957(0x2bf)](path[_0x2c3957(0x317)](path[_0x2c3957(0x1e9)](require['main'][_0x2c3957(0x237)]),_0x2c3957(0x232)),_0x2c3957(0x279)),_0x5c2ef9=_0x4c8085[_0x2c3957(0x330)]('{version}',_0x2a010b[_0x2c3957(0x2d3)]);_0x4f42a1[_0x2c3957(0x2b6)](_0x5c2ef9);}),router[a26_0x3b6580(0x27a)]('/folders',protectedRoute,async(_0x265c32,_0x7cdd94)=>{const _0x1d1a86=a26_0x3b6580,_0x99de0=fs[_0x1d1a86(0x2bf)](path[_0x1d1a86(0x317)](path[_0x1d1a86(0x1e9)](require[_0x1d1a86(0x22b)][_0x1d1a86(0x237)]),_0x1d1a86(0x258)),_0x1d1a86(0x279)),_0x3f527b=_0x99de0[_0x1d1a86(0x330)](_0x1d1a86(0x345),_0x265c32[_0x1d1a86(0x2d3)]);_0x7cdd94['send'](_0x3f527b);}),router['post']('/folders',async(_0x54fbcd,_0xc221c3)=>{const _0x5129f9=a26_0x3b6580,_0x4f9539=path[_0x5129f9(0x317)](path[_0x5129f9(0x1e9)](require[_0x5129f9(0x22b)][_0x5129f9(0x237)]),_0x5129f9(0x33e)),_0x34b031=JSON['parse'](fs[_0x5129f9(0x2bf)](_0x4f9539,'utf8')),_0x5147cf=_0x34b031[_0x5129f9(0x1fe)];if(!fs[_0x5129f9(0x2f9)](_0x5147cf))return _0xc221c3[_0x5129f9(0x260)](0x194)['json']({'message':'Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.'});const _0x358a41=_0x5db1b2=>{const _0x343b4e=_0x5129f9;let _0x324950=0x0;return _0x5db1b2[_0x343b4e(0x1f7)](_0xbf3895=>{const _0x34a3b4=_0x343b4e;_0xbf3895[_0x34a3b4(0x293)]?_0x324950+=_0x358a41(_0xbf3895[_0x34a3b4(0x204)]):_0x324950+=_0xbf3895[_0x34a3b4(0x236)];}),_0x324950;},_0x4f6ce5=_0x568f93=>{const _0x5ae907=_0x5129f9;if(_0x568f93<0x400)return _0x568f93+'\x20B';else{if(_0x568f93<0x400*0x400)return(_0x568f93/0x400)[_0x5ae907(0x326)](0x2)+_0x5ae907(0x213);else return _0x568f93<0x400*0x400*0x400?(_0x568f93/0x400/0x400)[_0x5ae907(0x326)](0x2)+_0x5ae907(0x2ba):(_0x568f93/0x400/0x400/0x400)[_0x5ae907(0x326)](0x2)+_0x5ae907(0x2d5);}},_0x24274f=(_0x24c40d,_0x395309='')=>{const _0x4cec1e=_0x5129f9,_0x37e23e=fs['readdirSync'](_0x24c40d),_0x31816a=[];return _0x37e23e[_0x4cec1e(0x1f7)](_0xd36f48=>{const _0x50eef8=_0x4cec1e,_0x1f526f=path[_0x50eef8(0x317)](_0x24c40d,_0xd36f48)['replaceAll']('\x5c','/'),_0x4227c0=fs[_0x50eef8(0x1f3)](_0x1f526f);if(_0x4227c0[_0x50eef8(0x2ae)]()){const _0x489701=_0x24274f(_0x1f526f,_0x395309+_0x50eef8(0x327));_0x31816a[_0x50eef8(0x23d)]({'name':_0xd36f48,'size':_0x4227c0[_0x50eef8(0x236)],'path':_0x1f526f,'permissions':_0x4227c0[_0x50eef8(0x1cc)],'isFolder':!![],'sub_dirs':_0x489701});}else _0x31816a[_0x50eef8(0x23d)]({'name':_0xd36f48,'size':_0x4227c0[_0x50eef8(0x236)],'path':_0x1f526f,'permissions':_0x4227c0['mode'],'isFolder':![]});}),_0x31816a;};let _0x1099d7=_0x24274f(_0x5147cf);const _0x2741fb=_0x2881eb=>{const _0x5d751a=_0x5129f9;return _0x2881eb[_0x5d751a(0x1f7)](_0x4eb2ce=>{const _0x380963=_0x5d751a;_0x4eb2ce['isFolder']?(_0x4eb2ce['formatedSize']=_0x4f6ce5(_0x358a41(_0x4eb2ce[_0x380963(0x204)])),_0x4eb2ce[_0x380963(0x204)]=_0x2741fb(_0x4eb2ce[_0x380963(0x204)])):_0x4eb2ce[_0x380963(0x32b)]=_0x4f6ce5(_0x4eb2ce[_0x380963(0x236)]);}),_0x2881eb;};_0xc221c3[_0x5129f9(0x260)](0xc8)[_0x5129f9(0x275)](_0x2741fb(_0x1099d7));}),router[a26_0x3b6580(0x257)](a26_0x3b6580(0x336),async(_0x2df144,_0xce9806)=>{const _0x8f91b5=a26_0x3b6580,{path:_0x42d007}=_0x2df144[_0x8f91b5(0x26b)],_0x1d27ff=_0x42d007[_0x8f91b5(0x24d)]('/')[_0x8f91b5(0x2a1)]();if(!fs[_0x8f91b5(0x2f9)](_0x42d007))return _0xce9806[_0x8f91b5(0x260)](0x194)[_0x8f91b5(0x275)]({'message':_0x8f91b5(0x1fd)});_0xce9806[_0x8f91b5(0x2e4)]('Content-Type',_0x8f91b5(0x264)),_0xce9806[_0x8f91b5(0x2e4)]('Content-Disposition','attachment;\x20filename=\x22'+_0x1d27ff+'\x22'),_0xce9806['download'](_0x42d007,_0x39e802=>{_0x39e802&&_0xce9806['status'](0x1f4)['json']({'message':'Error\x20downloading\x20file.'});});}),router['post'](a26_0x3b6580(0x206),async(_0x5172f6,_0xbd4ff)=>{const _0x3d548f=a26_0x3b6580,_0x1d8c9b=_0x5172f6[_0x3d548f(0x26b)],_0xe04058=getHotConfig()[_0x3d548f(0x1fe)],_0x11fae2=path['join'](_0xe04058,_0x1d8c9b[_0x3d548f(0x268)]);if(!fs[_0x3d548f(0x2f9)](_0x11fae2))return _0xbd4ff['status'](0x194)['json']({'message':_0x3d548f(0x289)});if(fs[_0x3d548f(0x2f9)](path[_0x3d548f(0x317)](_0x11fae2,_0x1d8c9b['folderName'])))return _0xbd4ff['status'](0x199)[_0x3d548f(0x275)]({'message':_0x3d548f(0x1ea)});fs[_0x3d548f(0x310)](path[_0x3d548f(0x317)](_0x11fae2,_0x1d8c9b[_0x3d548f(0x1bc)]),_0x2495ff=>{const _0x409f11=_0x3d548f;_0x2495ff&&_0xbd4ff[_0x409f11(0x260)](0x1f4)[_0x409f11(0x275)]({'message':_0x409f11(0x1d1)}),_0xbd4ff[_0x409f11(0x260)](0xc8)[_0x409f11(0x275)]({'message':_0x409f11(0x280)});});}),router[a26_0x3b6580(0x1df)](a26_0x3b6580(0x2e9),async(_0x58ed0d,_0x59bce7)=>{const _0x3386be=a26_0x3b6580,{newName:_0xfae8bd,isFolder:_0x46ad32,path:_0xc4eedc}=_0x58ed0d[_0x3386be(0x26b)];if(!fs[_0x3386be(0x2f9)](_0xc4eedc))return _0x59bce7[_0x3386be(0x260)](0x194)[_0x3386be(0x275)]({'message':_0x46ad32?_0x3386be(0x340):_0x3386be(0x1fd)});const _0x50bbf4=_0xc4eedc[_0x3386be(0x2c9)](_0xc4eedc[_0x3386be(0x24d)]('/')['pop'](),_0xfae8bd);fs[_0x3386be(0x29f)](_0xc4eedc,_0x50bbf4),fs['unlinkSync'](_0xc4eedc),_0x59bce7[_0x3386be(0x260)](0xc8)[_0x3386be(0x275)]({'message':_0x46ad32?_0x3386be(0x33c):_0x3386be(0x2b1)});}),router['delete']('/folders/delete',async(_0xc0f14e,_0xcc4269)=>{const _0x26d9bd=a26_0x3b6580,{path:_0x5cde42}=_0xc0f14e[_0x26d9bd(0x26b)];if(!fs[_0x26d9bd(0x2f9)](_0x5cde42))return _0xcc4269[_0x26d9bd(0x260)](0x194)[_0x26d9bd(0x275)]({'message':'File\x20or\x20Folder\x20not\x20found'});const _0x5936b8=fs[_0x26d9bd(0x1f3)](_0x5cde42);if(_0x5936b8[_0x26d9bd(0x2f7)]())fs[_0x26d9bd(0x2db)](_0x5cde42,_0x388c7f=>{const _0x4e8555=_0x26d9bd;_0x388c7f&&_0xcc4269[_0x4e8555(0x260)](0x1f4)['json']({'message':_0x4e8555(0x238)}),_0xcc4269[_0x4e8555(0x260)](0xc8)[_0x4e8555(0x275)]({'message':'File\x20deleted.'});});else _0x5936b8[_0x26d9bd(0x2ae)]()&&fs[_0x26d9bd(0x27e)](_0x5cde42,{'recursive':!![]},_0x3067e6=>{const _0x1961fc=_0x26d9bd;_0x3067e6&&_0xcc4269[_0x1961fc(0x260)](0x1f4)[_0x1961fc(0x275)]({'message':_0x1961fc(0x242)}),_0xcc4269[_0x1961fc(0x260)](0xc8)[_0x1961fc(0x275)]({'message':'Folder\x20deleted.'});});});!fs[a26_0x3b6580(0x2f9)](a26_0x3b6580(0x27f))&&fs[a26_0x3b6580(0x1fc)](a26_0x3b6580(0x27f));const storage=multer['diskStorage']({'destination':(_0x4c397b,_0x1aace9,_0x24840e)=>{const _0x4896d9=a26_0x3b6580;_0x24840e(null,_0x4896d9(0x235));},'filename':(_0x100e5e,_0x5e767f,_0x48244c)=>{const _0xe1a15b=a26_0x3b6580;_0x48244c(null,Date[_0xe1a15b(0x2a5)]()+path[_0xe1a15b(0x24b)](_0x5e767f[_0xe1a15b(0x32a)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});function a26_0x4f5e(){const _0x26c32c=['sub_dirs','.svgz','/folders/create','/users/flush-dir','fileLocation','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','User\x20updated\x20successfully','ServerLocation','cadviewer/settings/requests-callapiconversion-monitoring.json','whoami','DWG\x20to\x20SVG\x20Conversion','ContentSecurityPolicy','/conversion/list','ceil','mimetype','\x20KB','cadviewer/settings/conversion-cache.html','usedMemPercentage','settingsUserBasicAuth','.csv','clean','Router','RL/TL\x20Processing','find','Error!\x20Something\x20went\x20wrong.','ctime','win32','cadviewer/settings/converter-files-analysis.json','all','File\x20deleted\x20successfully','cadviewer/settings/cache-stats.js','padStart','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','model','avatars/','vmstats','User\x20deleted\x20successfully','licenseLocation','autodetect_platform','main','JSON\x20Data\x20Extraction','svg','demoUserRetentionDaysAlertBeforeDeletion','X_OK','CADViewer\x20Settings','settings','cadviewer/settings/config.html','freeGb','map','tmp','size','filename','Error\x20deleting\x20file.','promise','blue','/config/content','fontLocation','push','Error\x20getting\x20cpu\x20usage','Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','stringify','parse','Error\x20deleting\x20folder.','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','child_process','cpu','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Failed\x20to\x20flush\x20cache','42576HiSzux','username','toLocaleLowerCase','extname','/logs/content','split','constants','catch','cadviewer/settings/users.html','yellow','admin','../libs/mysql.js','/config/update','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','express-basic-auth','post','cadviewer/settings/folders.html','mysqlUsername','Error\x20finding\x20log\x20files:','temp_print_folder','/style.css','../libs/config','Error\x20flushing\x20cache:','/cache/files/:id','status','3531056rankNV','user','.log\x22','application/octet-stream','windows','/users','atime','path','/doctor/check','cadviewer/settings/doctor.html','body','ServerPort','3982lKUUbl','/converters/files/pdf/','/converters/files/print/','action','/metrics','Files\x20uploaded\x20successfully','radio|','includes','json','.svg','User\x20directory\x20flushed\x20successfully','mem','utf8','get','entries','folder_name','.gitkeep','rmdir','./tmp','Folder\x20created.','ServerUrl','callbackMethod','osCmd','darwin','mysqlDatabase','query','drive','conversionTimeSpend','Folder\x20not\x20found.','/vanilla-toast.js','autoxchange_executable_windows','/cache/files','dwgmerge_executable_windows','hlall','cadviewer/settings/style.css','callbackMethod_gatewayUrl_flag','JSON','===================error===================','isFolder','platform','cadviewer/settings/icons.js','fileLoad_PasswordAuthentication','readdirSync','splity','fileLoad_Password','has','.dwg.json','express','converterpathWin','Le\x20dossier\x20','copyFileSync','autodetect_location','pop','first_name','/licences','\x20n\x27existe\x20pas.','now','70DeTCck','delete','./uploads/','email','avatar','toUpperCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','4hCLLHh','isDirectory','cadviewer/settings/chart.min.js','write','File\x20renamed.','/cache-stats.js','crypto','dwgFile','files','send','call-Api_Conversion_','number','mysqlPassword','\x20MB','standard','Log\x20file\x20cleaned.','userId','getDate','readFileSync','purple','Error\x20reading\x20monitoring\x20file','cadviewer/settings/vanilla-toast.css','totalGB','DWG\x20to\x20PDF\x20Conversion','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists',')\x20older\x20than\x20','single','totalGb','replace','getFullYear','.rl.json','totalMemMb','Error\x20getting\x20memory\x20info','isArray','Read\x20and\x20write\x20permission\x20for\x20folder\x20','gray','linklist_executable_windows','linux','version','Callback\x20and\x20Authentication\x20Settings','\x20GB','Invalid\x20user','../CADViewer_config.json','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','/cache/flush','51kuLboV','unlink','Error\x20getting\x20process\x20info','xpathLocation','.dwg','used','cadviewer/settings/licences.html','cached_conversion','/tailwind.js','then','setHeader','Deleting\x20old\x20demo_user\x20accounts...','Cache\x20conversion','linklist_executable_linux','PDF','/folders/update','/chart.min.js','Config\x20updated\x20successfully','setup_mysqlHost','reset','bcrypt','Error\x20getting\x20total\x20users','sendMail','123355WrGMsq','/users/:userId','.json','DWG\x20file\x20in\x20multiple\x20files','Demo\x20and\x20Base\x20User\x20Settings','dwgmerge_executable_linux','isFile','.pdf','existsSync','multer','autoxchange_executable','SVGZ','/users/list','cadviewer/settings/tailwind.js','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','W_OK','node-schedule','keys','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','createdAt','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','converterpathLin','Cache\x20flushed\x20successfully','Error\x20deleting\x20old\x20demo_user\x20accounts:','/logs/clean','globalBearerAutenticationToken','dwgmerge_executable','node-os-utils','usedMemMb','reduce','converter-files-analysis.json','mkdir','birthtime','Error\x20saving\x20parameters.','/restapi-test','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','R_OK','params','join','toString','usage','access','*\x20*\x20*\x20*\x20*','../libs/log','error','slice','cadviewer','conversionMemoryUsage','zlib','green','count','/converters/files/','/content/redlines/','toFixed','\x20\x20\x20','Server\x20Settings','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','originalname','formatedSize','info','writeFileSync','`crypted_password`\x20=\x20?,\x20','exports','replaceAll','linklistLocation','DWG','No\x20config\x20object\x20provided','globalBearerAutentication','AutoXchange\x20Settings','/folders/download','/folders/upload','from','/restapi-test/parameters/search','=============================>','totalProcesses','Folder\x20renamed.','Deletion\x20prevention\x20email\x20sent\x20to\x20','CADViewer_config.json','fileLocationUrl','Folder\x20not\x20found','trim','gunzipSync','converterLocation','dwgmergeLocation','{version}','Error\x20getting\x20os\x20info','124360zikDAY','image/svg+xml','/converters/files/merged/','logs','Display\x20of\x20DWG','Error\x20getting\x20disk\x20usage','file','Counter\x20reset\x20successfully','percentage','Permission\x20750\x20for\x20the\x20\x22','autoxchange_executable_linux','folderName','set','/metrics/reset','transporter','smtpFrom','uptime','cadviewer/settings/home.html','SVG','type','execute','/conversion/memorydata','getStats','\x22\x20executable','cadviewer/settings/rest-api.html','.log','Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)','mode','who','dir','hostname','name','Error\x20creating\x20folder.','csvFile','log','boolean','sendFile','Config\x20updated.','CSV',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','endsWith','/vanilla-toast.css','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','fileLoad_UserName','getHotConfig','demoUserRetentionDays','put','0\x201\x20*\x20*\x20*','2151lvraqr','resolve','red','avatar_url','Old\x20demo_user\x20accounts\x20(','svgz','pdf','demo_user','dirname','Folder\x20already\x20exists.','readFile','arch','filter','settingsPasswordBasicAuth','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','test','linklist_executable','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','statSync','scheduleJob','length','rmSync','forEach','getMonth','.png','unlinkSync','976409rFcRxS','mkdirSync','File\x20not\x20found','folderLocation','converters','some','total','6jGSlwM','633125SBSLEO'];a26_0x4f5e=function(){return _0x26c32c;};return a26_0x4f5e();}router[a26_0x3b6580(0x257)](a26_0x3b6580(0x337),upload['array'](a26_0x3b6580(0x2b5)),async(_0x1248d9,_0x59c41b)=>{const _0xba2b14=a26_0x3b6580,_0x54b949=_0x1248d9[_0xba2b14(0x26b)];if(!_0x1248d9['files']||_0x1248d9[_0xba2b14(0x2b5)][_0xba2b14(0x1f5)]===0x0)return _0x59c41b['status'](0x190)[_0xba2b14(0x275)]({'message':'No\x20files\x20uploaded'});const _0x22c075=getHotConfig()[_0xba2b14(0x1fe)],_0x40d09f=path[_0xba2b14(0x317)](_0x22c075,_0x54b949[_0xba2b14(0x268)]);if(!fs['existsSync'](_0x40d09f))return _0x59c41b[_0xba2b14(0x260)](0x194)[_0xba2b14(0x275)]({'message':'Folder\x20not\x20found.'});const _0xb72fdb=_0x1248d9[_0xba2b14(0x2b5)]['map'](_0x2bbaf9=>({'originalname':_0x2bbaf9[_0xba2b14(0x32a)],'filename':_0x2bbaf9[_0xba2b14(0x237)],'mimetype':_0x2bbaf9[_0xba2b14(0x212)],'size':_0x2bbaf9['size']}));_0xb72fdb[_0xba2b14(0x1f7)](_0x58c962=>{const _0x4cad46=_0xba2b14;fs[_0x4cad46(0x29f)](path['join'](_0x4cad46(0x235),_0x58c962['filename']),path['join'](_0x40d09f,_0x58c962[_0x4cad46(0x32a)])),fs['unlinkSync'](path[_0x4cad46(0x317)]('tmp',_0x58c962[_0x4cad46(0x237)]));}),_0x59c41b[_0xba2b14(0x260)](0xc8)['json']({'message':_0xba2b14(0x272),'files':_0xb72fdb});}),router[a26_0x3b6580(0x1df)]('/config/global-update',async(_0x3dfc4c,_0x367100)=>{const _0x10d1e9=a26_0x3b6580,_0x2b87b8=path[_0x10d1e9(0x317)](path['dirname'](require[_0x10d1e9(0x22b)][_0x10d1e9(0x237)]),_0x10d1e9(0x33e)),{config:_0x611e93}=_0x3dfc4c['body'];if(!_0x611e93)return _0x367100[_0x10d1e9(0x260)](0x190)[_0x10d1e9(0x275)]({'message':_0x10d1e9(0x333)});try{fs[_0x10d1e9(0x32d)](_0x2b87b8,JSON[_0x10d1e9(0x240)](_0x611e93,null,0x4)),_0x367100[_0x10d1e9(0x260)](0xc8)['json']({'message':_0x10d1e9(0x2eb)});}catch(_0x40c549){_0x367100[_0x10d1e9(0x260)](0x1f4)[_0x10d1e9(0x275)]({'message':'Error\x20updating\x20config'});}}),router[a26_0x3b6580(0x1df)](a26_0x3b6580(0x254),async(_0x2d25fe,_0x9c06da)=>{const _0x2890f0=a26_0x3b6580,{key:_0x282d83,value:_0x15b4cb}=_0x2d25fe[_0x2890f0(0x26b)],_0x455807=path[_0x2890f0(0x317)](path[_0x2890f0(0x1e9)](require['main']['filename']),_0x2890f0(0x33e));fs['readFile'](_0x455807,_0x2890f0(0x279),function(_0x26d164,_0x2d98fc){const _0x47cf9a=_0x2890f0;_0x26d164&&_0x9c06da['status'](0x1f4)['send'](_0x26d164);const _0x52be8d=JSON[_0x47cf9a(0x241)](_0x2d98fc);_0x52be8d[_0x282d83]=_0x15b4cb;if(_0x282d83===_0x47cf9a(0x2a0)){let _0x13c170='';if(_0x52be8d[_0x47cf9a(0x22a)]){_0x13c170=os[_0x47cf9a(0x294)]();if(_0x13c170===_0x47cf9a(0x21e))_0x13c170=_0x47cf9a(0x265);else{if(_0x13c170===_0x47cf9a(0x284))_0x13c170='linux';}}else _0x13c170=_0x52be8d[_0x47cf9a(0x294)];if(_0x13c170===_0x47cf9a(0x265)){_0x52be8d[_0x47cf9a(0x20b)]=path['resolve'](__dirname,'..')+'/';const _0xddd0d2=/\\/g;_0x52be8d[_0x47cf9a(0x20b)]=_0x52be8d[_0x47cf9a(0x20b)]['replace'](_0xddd0d2,'/');}else _0x52be8d[_0x47cf9a(0x20b)]=path[_0x47cf9a(0x1e2)](__dirname,'..')+'/';}if(_0x282d83==='autodetect_platform'){let _0x449eaf=os[_0x47cf9a(0x294)]();if(_0x449eaf==='win32')_0x449eaf=_0x47cf9a(0x265);else _0x449eaf='linux';_0x449eaf==='windows'?_0x15b4cb===!![]&&(_0x52be8d[_0x47cf9a(0x2fb)]=_0x52be8d['autoxchange_executable_windows'],_0x52be8d['dwgmerge_executable']=_0x52be8d[_0x47cf9a(0x28d)],_0x52be8d[_0x47cf9a(0x1f1)]=_0x52be8d['linklist_executable_windows']):_0x15b4cb===!![]&&(_0x52be8d[_0x47cf9a(0x2fb)]=_0x52be8d[_0x47cf9a(0x1bb)],_0x52be8d[_0x47cf9a(0x30b)]=_0x52be8d[_0x47cf9a(0x2f6)],_0x52be8d['linklist_executable']=_0x52be8d[_0x47cf9a(0x2e7)]),_0x52be8d[_0x47cf9a(0x294)]=_0x449eaf;}if(_0x52be8d[_0x47cf9a(0x22a)]){let _0x5968fa=os[_0x47cf9a(0x294)]();if(_0x5968fa===_0x47cf9a(0x21e))_0x5968fa='windows';else _0x5968fa=_0x47cf9a(0x2d2);if(_0x5968fa==='windows'){if(_0x282d83===_0x47cf9a(0x28b))_0x52be8d[_0x47cf9a(0x2fb)]=_0x15b4cb;else{if(_0x282d83===_0x47cf9a(0x28d))_0x52be8d['dwgmerge_executable']=_0x15b4cb;else _0x282d83===_0x47cf9a(0x2d1)&&(_0x52be8d[_0x47cf9a(0x1f1)]=_0x15b4cb);}}else{if(_0x282d83===_0x47cf9a(0x1bb))_0x52be8d['autoxchange_executable']=_0x15b4cb;else{if(_0x282d83===_0x47cf9a(0x2f6))_0x52be8d[_0x47cf9a(0x30b)]=_0x15b4cb;else _0x282d83==='linklist_executable_linux'&&(_0x52be8d[_0x47cf9a(0x1f1)]=_0x15b4cb);}}}fs['writeFile'](_0x455807,JSON['stringify'](_0x52be8d,null,0x4),function(_0x1cb220){const _0x5d0407=_0x47cf9a;_0x1cb220&&_0x9c06da['status'](0x1f4)[_0x5d0407(0x2b6)](_0x1cb220),_0x9c06da['status'](0xc8)[_0x5d0407(0x275)]({'message':_0x5d0407(0x1d6)});});});}),router[a26_0x3b6580(0x257)](a26_0x3b6580(0x23b),async(_0x4d005a,_0x34af4d)=>{const _0x4d45d1=a26_0x3b6580,_0x273f1b=getHotConfig(),_0x40a786=(_0x273f1b[_0x4d45d1(0x344)][_0x4d45d1(0x274)](_0x273f1b[_0x4d45d1(0x20b)])?'':_0x273f1b[_0x4d45d1(0x20b)])+_0x273f1b[_0x4d45d1(0x344)],_0x41c10e=(_0x273f1b[_0x4d45d1(0x344)][_0x4d45d1(0x274)](_0x273f1b[_0x4d45d1(0x20b)])?'':_0x273f1b[_0x4d45d1(0x20b)])+_0x273f1b[_0x4d45d1(0x331)],_0x41c014=(_0x273f1b['converterLocation'][_0x4d45d1(0x274)](_0x273f1b['ServerLocation'])?'':_0x273f1b[_0x4d45d1(0x20b)])+_0x273f1b[_0x4d45d1(0x343)],_0x29f817=/ax202.*\.exe/,_0x325cbb=/ax202.*/,_0x4ab96b=/dwgmerge202.*\.exe/,_0x465103=/dwgmerge_202.*/,_0x2d7740=/linklist_202.*\.exe/,_0x4f42a0=/linklist_202.*/,_0x2ce38a=[],_0x41d949=[],_0x341384=[],_0xc7341c=[],_0x1d19e6=[],_0x327ea2=[];let _0x31bbf9='';if(_0x273f1b[_0x4d45d1(0x22a)]){_0x31bbf9=os[_0x4d45d1(0x294)]();if(_0x31bbf9===_0x4d45d1(0x21e))_0x31bbf9=_0x4d45d1(0x265);else{if(_0x31bbf9==='darwin')_0x31bbf9=_0x4d45d1(0x2d2);}}else _0x31bbf9=_0x273f1b[_0x4d45d1(0x294)];fs[_0x4d45d1(0x297)](_0x41c014[_0x4d45d1(0x330)]('linux','windows'))['forEach'](_0x145994=>{const _0x102575=_0x4d45d1;if(_0x29f817['test'](_0x145994[_0x102575(0x24a)]()))_0x2ce38a[_0x102575(0x23d)](_0x145994);}),fs['readdirSync'](_0x40a786[_0x4d45d1(0x330)]('linux',_0x4d45d1(0x265)))[_0x4d45d1(0x1f7)](_0x3a6b05=>{const _0x342df6=_0x4d45d1;if(_0x4ab96b[_0x342df6(0x1f0)](_0x3a6b05[_0x342df6(0x24a)]()))_0x41d949[_0x342df6(0x23d)](_0x3a6b05);}),fs[_0x4d45d1(0x297)](_0x41c10e['replaceAll'](_0x4d45d1(0x2d2),_0x4d45d1(0x265)))[_0x4d45d1(0x1f7)](_0x2ac331=>{const _0x44ab3a=_0x4d45d1;if(_0x2d7740[_0x44ab3a(0x1f0)](_0x2ac331['toLocaleLowerCase']()))_0x341384[_0x44ab3a(0x23d)](_0x2ac331);}),fs['readdirSync'](_0x41c014[_0x4d45d1(0x330)]('windows',_0x4d45d1(0x2d2)))[_0x4d45d1(0x1f7)](_0x5d6eeb=>{const _0x1452a3=_0x4d45d1;if(_0x325cbb[_0x1452a3(0x1f0)](_0x5d6eeb[_0x1452a3(0x24a)]()))_0xc7341c['push'](_0x5d6eeb);}),fs[_0x4d45d1(0x297)](_0x40a786[_0x4d45d1(0x330)]('windows',_0x4d45d1(0x2d2)))['forEach'](_0x5778e0=>{if(_0x465103['test'](_0x5778e0['toLocaleLowerCase']()))_0x1d19e6['push'](_0x5778e0);}),fs[_0x4d45d1(0x297)](_0x41c10e['replaceAll'](_0x4d45d1(0x265),_0x4d45d1(0x2d2)))[_0x4d45d1(0x1f7)](_0x32174d=>{const _0x58a6c0=_0x4d45d1;if(_0x4f42a0[_0x58a6c0(0x1f0)](_0x32174d[_0x58a6c0(0x24a)]()))_0x327ea2[_0x58a6c0(0x23d)](_0x32174d);});const _0x21507d=[_0x4d45d1(0x26c),'https',_0x4d45d1(0x29d),_0x4d45d1(0x306),_0x4d45d1(0x23c)],_0xc967cb=[_0x4d45d1(0x208),'fileLocationUrl','converterLocation',_0x4d45d1(0x229),_0x4d45d1(0x2dd),_0x4d45d1(0x25b),_0x4d45d1(0x282),'dwgmergeLocation',_0x4d45d1(0x331),'version'],_0x2dd4fe=[_0x4d45d1(0x281),'mysqlHost',_0x4d45d1(0x259),_0x4d45d1(0x2b9),_0x4d45d1(0x285),_0x4d45d1(0x2e1),'cvjs_svgz_compress'],_0x5e6fa7={'ServerUrl':_0x4d45d1(0x328),'autoxchange_executable':_0x4d45d1(0x335),'linklist_executable':'LinkList\x20Settings','dwgmerge_executable':'DwgMerge\x20Settings','setup_mysqlHost':'Database\x20Settings','callbackMethod_gatewayUrl_flag':_0x4d45d1(0x2d4),'userFolderMaximumFiles':_0x4d45d1(0x2f5),'smtpHost':'Mail\x20Server\x20Settings'},_0x57d3d3={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':'boolean','autodetect_platform':_0x4d45d1(0x1d4),'cvjs_svgz_compress':_0x4d45d1(0x1d4),'cached_conversion':_0x4d45d1(0x1d4),'remainOnServer':_0x4d45d1(0x1d4),'cvjs_debug':_0x4d45d1(0x1d4),'autodetect_location':'boolean','platform':'radio|windows,linux','autoxchange_executable':'radio|'+(_0x31bbf9===_0x4d45d1(0x265)?_0x2ce38a[_0x4d45d1(0x317)](','):_0xc7341c['join'](',')),'autoxchange_executable_windows':_0x4d45d1(0x273)+_0x2ce38a['join'](','),'autoxchange_executable_linux':_0x4d45d1(0x273)+_0xc7341c[_0x4d45d1(0x317)](','),'dwgmerge_executable':_0x4d45d1(0x273)+(_0x31bbf9===_0x4d45d1(0x265)?_0x41d949['join'](','):_0x1d19e6[_0x4d45d1(0x317)](',')),'dwgmerge_executable_windows':_0x4d45d1(0x273)+_0x41d949[_0x4d45d1(0x317)](','),'dwgmerge_executable_linux':_0x4d45d1(0x273)+_0x1d19e6[_0x4d45d1(0x317)](','),'linklist_executable':_0x4d45d1(0x273)+(_0x31bbf9===_0x4d45d1(0x265)?_0x341384[_0x4d45d1(0x317)](','):_0x327ea2[_0x4d45d1(0x317)](',')),'linklist_executable_windows':'radio|'+_0x341384['join'](','),'linklist_executable_linux':'radio|'+_0x327ea2[_0x4d45d1(0x317)](','),'callbackMethod_gatewayUrl_flag':_0x4d45d1(0x1d4),'setup_mysqlHost':_0x4d45d1(0x1d4),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x4d45d1(0x1d4),'contentLocationCheck':'boolean','globalBearerAutentication':_0x4d45d1(0x1d4),'bcryptSaltRounds':_0x4d45d1(0x2b8),'userFolderMaximumFiles':'number','userFolderMaximumSizeInMB':'number'},_0x3e31c1={},_0xd53c09=Object[_0x4d45d1(0x302)](_0x273f1b);_0x273f1b[_0x4d45d1(0x22a)]&&_0x21507d[_0x4d45d1(0x23d)](_0x4d45d1(0x294)),_0x273f1b[_0x4d45d1(0x2a0)]&&(_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x20b)),_0xc967cb[_0x4d45d1(0x23d)]('autoxchange_executable'),_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x30b)),_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x1f1))),!_0x273f1b[_0x4d45d1(0x290)]&&_0xc967cb['push']('callbackMethod_gatewayUrl'),!_0x273f1b[_0x4d45d1(0x2ec)]&&(_0xc967cb['push']('mysqlHost'),_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x259)),_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x2b9)),_0xc967cb['push']('mysqlDatabase')),!_0x273f1b['ContentSecurityPolicyReportOnly']&&_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x20f)),!_0x273f1b[_0x4d45d1(0x296)]&&(_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x1dc)),_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x299))),!_0x273f1b[_0x4d45d1(0x334)]&&_0xc967cb[_0x4d45d1(0x23d)](_0x4d45d1(0x30a)),_0xd53c09[_0x4d45d1(0x1f7)](_0x43f3df=>{const _0x2cdb09=_0x4d45d1;!_0x21507d[_0x2cdb09(0x274)](_0x43f3df)&&(_0x3e31c1[_0x43f3df]=_0x273f1b[_0x43f3df]);}),_0x3e31c1[_0x4d45d1(0x33f)]=''+_0x273f1b[_0x4d45d1(0x281)]+_0x273f1b[_0x4d45d1(0x208)],_0x34af4d[_0x4d45d1(0x260)](0xc8)['json']({'notEditableFields':_0xc967cb,'customFieldTypes':_0x57d3d3,'notHotEditableFields':_0x2dd4fe,'config':_0x3e31c1,'fieldsTitle':_0x5e6fa7,'configData':_0x273f1b});}),router[a26_0x3b6580(0x27a)]('/logs',protectedRoute,async(_0x245348,_0xdf7e2d)=>{const _0x6694bb=a26_0x3b6580,_0x18b78d=fs[_0x6694bb(0x2bf)](path[_0x6694bb(0x317)](path['dirname'](require[_0x6694bb(0x22b)]['filename']),'cadviewer/settings/logs.html'),'utf8'),_0x54988e=_0x18b78d['replaceAll'](_0x6694bb(0x345),_0x245348[_0x6694bb(0x2d3)]);_0xdf7e2d[_0x6694bb(0x2b6)](_0x54988e);});function findMatchingLogFiles(_0x102994,_0x3808e7=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x2a1ba9=a26_0x3b6580;try{const _0x3484e8=fs[_0x2a1ba9(0x297)](_0x102994);return _0x3484e8['filter'](_0x379235=>_0x3808e7['test'](_0x379235))[_0x2a1ba9(0x234)](_0x2499ba=>_0x2499ba[_0x2a1ba9(0x330)](_0x2a1ba9(0x2b7),'')[_0x2a1ba9(0x330)](_0x2a1ba9(0x1ca),''));}catch(_0x80f6cd){return console['error'](_0x2a1ba9(0x25a),_0x80f6cd),[];}}router[a26_0x3b6580(0x257)](a26_0x3b6580(0x24c),async(_0x4716d3,_0x5c64b4)=>{const _0xf5df4b=a26_0x3b6580,_0x4c283d=new Date(),_0xaa1718=_0x4c283d['getDate']()[_0xf5df4b(0x318)]()['padStart'](0x2,'0')+'_'+(_0x4c283d[_0xf5df4b(0x1f8)]()+0x1)[_0xf5df4b(0x318)]()['padStart'](0x2,'0')+'_'+_0x4c283d['getFullYear'](),{displayDay:_0x3b5324}=_0x4716d3[_0xf5df4b(0x26b)],_0xcd3da=path['join'](path[_0xf5df4b(0x1e9)](require[_0xf5df4b(0x22b)][_0xf5df4b(0x237)]),'logs','call-Api_Conversion_'+(_0x3b5324??_0xaa1718)+'.log');fs[_0xf5df4b(0x2f9)](_0xcd3da)?fs[_0xf5df4b(0x1eb)](_0xcd3da,_0xf5df4b(0x279),function(_0x3a46b0,_0x19051c){const _0x1d04bb=_0xf5df4b;_0x3a46b0&&_0x5c64b4[_0x1d04bb(0x260)](0x1f4)[_0x1d04bb(0x2b6)](_0x3a46b0),_0x5c64b4[_0x1d04bb(0x260)](0xc8)['json']({'content':_0x19051c,'days':findMatchingLogFiles(path[_0x1d04bb(0x317)](path[_0x1d04bb(0x1e9)](require[_0x1d04bb(0x22b)][_0x1d04bb(0x237)]),_0x1d04bb(0x34a)))});}):_0x5c64b4['status'](0xc8)[_0xf5df4b(0x275)]({'content':'','days':findMatchingLogFiles(path[_0xf5df4b(0x317)](path[_0xf5df4b(0x1e9)](require[_0xf5df4b(0x22b)][_0xf5df4b(0x237)]),'logs'))});}),router['delete'](a26_0x3b6580(0x309),async(_0x3c5b5f,_0x4c3b3b)=>{const _0x487400=a26_0x3b6580,_0x25af96=new Date(),_0x31664f=_0x25af96[_0x487400(0x2be)]()[_0x487400(0x318)]()[_0x487400(0x223)](0x2,'0')+'_'+(_0x25af96[_0x487400(0x1f8)]()+0x1)[_0x487400(0x318)]()[_0x487400(0x223)](0x2,'0')+'_'+_0x25af96[_0x487400(0x2ca)](),_0x477ee6=findMatchingLogFiles(path['join'](path[_0x487400(0x1e9)](require[_0x487400(0x22b)][_0x487400(0x237)]),_0x487400(0x34a)));_0x477ee6[_0x487400(0x1f7)](_0xbfa741=>{const _0x3335dc=_0x487400;if(_0xbfa741!==_0x31664f)fs[_0x3335dc(0x1fa)](path[_0x3335dc(0x317)](path[_0x3335dc(0x1e9)](require[_0x3335dc(0x22b)][_0x3335dc(0x237)]),_0x3335dc(0x34a),_0x3335dc(0x2b7)+_0xbfa741+_0x3335dc(0x1ca)));}),logStream[_0x487400(0x218)](),_0x4c3b3b[_0x487400(0x260)](0xc8)[_0x487400(0x275)]({'message':_0x487400(0x2bc)});}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x313),protectedRoute,async(_0x53865c,_0x39ebe3)=>{const _0x27584a=a26_0x3b6580,_0x2f3c71=path[_0x27584a(0x317)](path['dirname'](require['main'][_0x27584a(0x237)]),'cadviewer/settings/rest-api-parameters.json');if(!fs[_0x27584a(0x2f9)](_0x2f3c71)){const _0x52ab22={'jsonDataExtraction':{'standard':[{'paramName':'json','paramValue':''},{'paramName':'blocks','paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x27584a(0x225),'paramValue':''},{'paramName':_0x27584a(0x28e),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x27584a(0x1e7)},{'paramName':_0x27584a(0x225),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x27584a(0x22d)},{'paramName':'model','paramValue':''},{'paramName':_0x27584a(0x28e),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x27584a(0x298),'paramValue':''}]}};fs[_0x27584a(0x32d)](_0x2f3c71,JSON[_0x27584a(0x240)](_0x52ab22,null,0x4));}const _0x2092c3=fs[_0x27584a(0x2bf)](path['join'](path[_0x27584a(0x1e9)](require[_0x27584a(0x22b)][_0x27584a(0x237)]),_0x27584a(0x1c9)),_0x27584a(0x279)),_0x1b98d5=_0x2092c3[_0x27584a(0x330)](_0x27584a(0x345),_0x53865c[_0x27584a(0x2d3)]);_0x39ebe3['send'](_0x1b98d5);}),router[a26_0x3b6580(0x257)](a26_0x3b6580(0x339),async(_0x4857db,_0x3389dc)=>{const _0x307602=a26_0x3b6580,{actionName:_0x1ed2aa,contentLocation:_0x542d38}=_0x4857db[_0x307602(0x26b)],_0x2204cc=path[_0x307602(0x317)](path[_0x307602(0x1e9)](require[_0x307602(0x22b)][_0x307602(0x237)]),'cadviewer/settings/rest-api-parameters.json');fs[_0x307602(0x1eb)](_0x2204cc,_0x307602(0x279),function(_0xe5a769,_0x2ec349){const _0x46fc83=_0x307602;if(_0xe5a769)_0x3389dc[_0x46fc83(0x260)](0xc8)[_0x46fc83(0x275)]({'parameters':[]});else{const _0x9c1cfc=JSON[_0x46fc83(0x241)](_0x2ec349);if(_0x9c1cfc[_0x1ed2aa]&&_0x9c1cfc[_0x1ed2aa][_0x542d38])_0x3389dc[_0x46fc83(0x260)](0xc8)[_0x46fc83(0x275)]({'parameters':_0x9c1cfc[_0x1ed2aa][_0x542d38]});else _0x9c1cfc[_0x1ed2aa]&&_0x9c1cfc[_0x1ed2aa][_0x46fc83(0x2bb)]?_0x3389dc[_0x46fc83(0x260)](0xc8)[_0x46fc83(0x275)]({'parameters':_0x9c1cfc[_0x1ed2aa][_0x46fc83(0x2bb)]}):_0x3389dc[_0x46fc83(0x260)](0xc8)[_0x46fc83(0x275)]({'parameters':[]});}});}),router[a26_0x3b6580(0x257)]('/restapi-test/parameters/save',async(_0xb659d1,_0x180808)=>{const _0xa8faec=a26_0x3b6580,{actionName:_0x305e1f,contentLocation:_0xd781c5,parameters:_0x143d88}=_0xb659d1[_0xa8faec(0x26b)],_0x4a3729=path[_0xa8faec(0x317)](path[_0xa8faec(0x1e9)](require[_0xa8faec(0x22b)][_0xa8faec(0x237)]),'cadviewer/settings/rest-api-parameters.json');fs[_0xa8faec(0x1eb)](_0x4a3729,_0xa8faec(0x279),function(_0x2407cf,_0x15ec60){const _0x6514ed=_0xa8faec;if(_0x2407cf)_0x180808[_0x6514ed(0x260)](0x199)[_0x6514ed(0x275)]({'message':_0x6514ed(0x312)});else{const _0x5dda5e=JSON[_0x6514ed(0x241)](_0x15ec60);!_0x5dda5e[_0x305e1f]&&(_0x5dda5e[_0x305e1f]={}),_0x5dda5e[_0x305e1f][_0xd781c5]=_0x143d88,fs['writeFile'](_0x4a3729,JSON['stringify'](_0x5dda5e,null,0x4),function(_0x254e8e){const _0x55bbbf=_0x6514ed;_0x254e8e&&_0x180808[_0x55bbbf(0x260)](0x199)[_0x55bbbf(0x275)]({'message':_0x55bbbf(0x312)}),_0x180808['status'](0xc8)[_0x55bbbf(0x275)]({'message':'Parameters\x20saved.'});});}});}),router[a26_0x3b6580(0x27a)]('/doctor',protectedRoute,async(_0x3c2442,_0x57f7b2)=>{const _0x1ab29c=a26_0x3b6580,_0x18c280=fs[_0x1ab29c(0x2bf)](path[_0x1ab29c(0x317)](path[_0x1ab29c(0x1e9)](require[_0x1ab29c(0x22b)]['filename']),_0x1ab29c(0x26a)),'utf8'),_0x130f82=_0x18c280['replaceAll'](_0x1ab29c(0x345),_0x3c2442[_0x1ab29c(0x2d3)]);_0x57f7b2[_0x1ab29c(0x2b6)](_0x130f82);}),router['post'](a26_0x3b6580(0x269),async(_0xb30c6b,_0x2da2d6)=>{const _0x55e878=a26_0x3b6580,_0x151442=getHotConfig(),_0xd70e71=_0x151442['converterLocation'][_0x55e878(0x330)]('//','/'),_0x1fe5af=_0x151442[_0x55e878(0x344)][_0x55e878(0x330)]('//','/'),_0x5e7559=_0x151442[_0x55e878(0x331)][_0x55e878(0x330)]('//','/'),_0x2e9774=''+_0xd70e71+_0x151442['autoxchange_executable'],_0x21fe3c=''+_0x1fe5af+_0x151442[_0x55e878(0x30b)],_0x23f8dd=''+_0x5e7559+_0x151442[_0x55e878(0x1f1)],_0x284d00=[],_0x102267=new Promise(_0x420180=>{const _0x222131=_0x55e878;exec(os[_0x222131(0x294)]()===_0x222131(0x21e)?_0x222131(0x1ce):'ls',_0x4a1183=>{const _0x4655ce=_0x222131;_0x4a1183?_0x284d00[_0x4655ce(0x23d)]({'title':_0x4655ce(0x1f2),'status':![],'priority':0x1}):_0x284d00[_0x4655ce(0x23d)]({'title':_0x4655ce(0x1f2),'status':!![],'priority':0x1}),_0x420180();});}),_0x14c4de=new Promise(_0x38681d=>{const _0x63680=_0x55e878;fs['access'](_0x2e9774,fs[_0x63680(0x24e)]['X_OK'],_0x47eaf8=>{const _0x5e5d55=_0x63680;_0x47eaf8?_0x284d00['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x151442[_0x5e5d55(0x2fb)]+'\x22\x20executable','status':![],'priority':0x2}):_0x284d00[_0x5e5d55(0x23d)]({'title':_0x5e5d55(0x1ba)+_0x151442[_0x5e5d55(0x2fb)]+_0x5e5d55(0x1c8),'status':!![],'priority':0x2}),_0x38681d();});}),_0x3dc39c=new Promise(_0x26cbe7=>{const _0x599325=_0x55e878;fs[_0x599325(0x31a)](_0x21fe3c,fs['constants'][_0x599325(0x22f)],_0x399311=>{const _0x218e0d=_0x599325;_0x399311?_0x284d00[_0x218e0d(0x23d)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x151442['dwgmerge_executable']+_0x218e0d(0x1c8),'status':![],'priority':0x3}):_0x284d00['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x151442[_0x218e0d(0x30b)]+_0x218e0d(0x1c8),'status':!![],'priority':0x3}),_0x26cbe7();});}),_0x353274=new Promise(_0x23f2c8=>{const _0x334802=_0x55e878;fs['access'](_0x23f8dd,fs[_0x334802(0x24e)]['X_OK'],_0x208b6c=>{const _0x19a1ce=_0x334802;_0x208b6c?_0x284d00['push']({'title':_0x19a1ce(0x1ba)+_0x151442['linklist_executable']+_0x19a1ce(0x1c8),'status':![],'priority':0x4}):_0x284d00[_0x19a1ce(0x23d)]({'title':_0x19a1ce(0x1ba)+_0x151442[_0x19a1ce(0x1f1)]+_0x19a1ce(0x1c8),'status':!![],'priority':0x4}),_0x23f2c8();});}),_0x440202=new Promise(_0x3ed455=>{const _0x313ec7=_0x55e878,_0x3b9b4f=new Date(),_0x129832=_0x3b9b4f[_0x313ec7(0x2be)]()[_0x313ec7(0x318)]()[_0x313ec7(0x223)](0x2,'0')+'_'+(_0x3b9b4f[_0x313ec7(0x1f8)]()+0x1)[_0x313ec7(0x318)]()['padStart'](0x2,'0')+'_'+_0x3b9b4f[_0x313ec7(0x2ca)](),{displayDay:_0x2a4767}=_0xb30c6b[_0x313ec7(0x26b)];fs[_0x313ec7(0x31a)](path[_0x313ec7(0x317)](path[_0x313ec7(0x1e9)](require['main'][_0x313ec7(0x237)]),'logs',_0x313ec7(0x2b7)+(_0x2a4767??_0x129832)+_0x313ec7(0x1ca)),fs[_0x313ec7(0x24e)][_0x313ec7(0x300)],_0x3b53b8=>{const _0x302afa=_0x313ec7;_0x3b53b8?_0x284d00['push']({'title':_0x302afa(0x329)+(_0x2a4767??_0x129832)+_0x302afa(0x263),'status':![],'priority':0x5}):_0x284d00['push']({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x2a4767??_0x129832)+_0x302afa(0x263),'status':!![],'priority':0x5}),_0x3ed455();});}),_0x41cfa7=(_0x1e68c5,_0x38e0a0)=>{const _0x2a60ec=_0x55e878,_0xff0b09=path[_0x2a60ec(0x317)](path[_0x2a60ec(0x1e9)](require['main'][_0x2a60ec(0x237)]),_0x1e68c5);return new Promise(_0x5cc177=>{const _0x5bad8c=_0x2a60ec;fs[_0x5bad8c(0x31a)](path[_0x5bad8c(0x317)](path[_0x5bad8c(0x1e9)](_0xff0b09)),fs[_0x5bad8c(0x24e)][_0x5bad8c(0x315)]|fs[_0x5bad8c(0x24e)]['W_OK'],_0x487275=>{const _0x345f66=_0x5bad8c;_0x487275?_0x284d00[_0x345f66(0x23d)]({'title':_0x345f66(0x2cf)+_0x1e68c5,'status':![],'priority':_0x38e0a0+0x6}):_0x284d00[_0x345f66(0x23d)]({'title':_0x345f66(0x2cf)+_0x1e68c5,'status':!![],'priority':_0x38e0a0+0x6}),_0x5cc177();});});},_0x38dd80=[_0x55e878(0x324),'/converters/autoxchange/linux/',_0x55e878(0x349),_0x55e878(0x26f),_0x55e878(0x26e),_0x55e878(0x325),'/content/redlines/v7/'],_0x4f34ed=_0x38dd80[_0x55e878(0x234)](_0x41cfa7);Promise[_0x55e878(0x220)]([_0x102267,_0x14c4de,_0x3dc39c,_0x353274,_0x440202,..._0x4f34ed])['then'](()=>{const _0x1c71bd=_0x55e878;_0x2da2d6[_0x1c71bd(0x260)](0xc8)[_0x1c71bd(0x275)]({'checking_list':_0x284d00});})[_0x55e878(0x24f)](()=>{const _0x29e8ed=_0x55e878;_0x2da2d6[_0x29e8ed(0x260)](0x1f4)['json']({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x266),protectedRoute,async(_0x5c29a5,_0x14291c)=>{const _0x1c2387=a26_0x3b6580,_0x51dec2=fs[_0x1c2387(0x2bf)](path[_0x1c2387(0x317)](path[_0x1c2387(0x1e9)](require[_0x1c2387(0x22b)]['filename']),_0x1c2387(0x250)),_0x1c2387(0x279)),_0x1629a6=_0x51dec2[_0x1c2387(0x330)](_0x1c2387(0x345),_0x5c29a5[_0x1c2387(0x2d3)]);_0x14291c[_0x1c2387(0x2b6)](_0x1629a6);}),router[a26_0x3b6580(0x257)](a26_0x3b6580(0x2fd),async(_0x533ab6,_0x59473d)=>{const _0x537297=a26_0x3b6580;let _0x55a7c1;try{const [_0x350957]=await conn[_0x537297(0x239)]()[_0x537297(0x1c5)]('SELECT\x20*\x20FROM\x20users',[]);_0x55a7c1=_0x350957;}catch(_0x59087b){console[_0x537297(0x1d3)](_0x59087b),_0x59473d[_0x537297(0x260)](0x1f4)[_0x537297(0x275)]({'error':_0x537297(0x21c)});return;}_0x59473d[_0x537297(0x260)](0xc8)[_0x537297(0x275)]({'success':!![],'data':_0x55a7c1});}),router[a26_0x3b6580(0x257)](a26_0x3b6580(0x266),upload[a26_0x3b6580(0x2c7)](a26_0x3b6580(0x2aa)),async(_0x3092ba,_0x42f8c5)=>{const _0x5cb8fe=a26_0x3b6580,{id:_0x570536,first_name:_0x442d2f,last_name:_0xe6a062,username:_0x2bcd97,email:_0x246ebf,password:_0x4fafc0,is_enabled:_0x28f920}=_0x3092ba[_0x5cb8fe(0x26b)],_0x5e1076=_0x3092ba[_0x5cb8fe(0x26b)]['role']===_0x5cb8fe(0x252)?_0x5cb8fe(0x252):_0x3092ba[_0x5cb8fe(0x26b)]['role']===_0x5cb8fe(0x1e8)?_0x5cb8fe(0x1e8):_0x5cb8fe(0x262);let _0x507599;console[_0x5cb8fe(0x1d3)](_0x5cb8fe(0x33a));_0x4fafc0&&(_0x507599=await bcrypt['hash'](_0x4fafc0,0xa));let _0x5b3d45=null;if(_0x3092ba[_0x5cb8fe(0x34d)]){const _0x4143ef=_0x5cb8fe(0x226)+randomUUID()+_0x5cb8fe(0x1f9);fs['copyFileSync'](_0x3092ba[_0x5cb8fe(0x34d)][_0x5cb8fe(0x268)],'./'+_0x4143ef),fs['unlinkSync'](_0x3092ba[_0x5cb8fe(0x34d)][_0x5cb8fe(0x268)]),_0x5b3d45=config[_0x5cb8fe(0x281)]+'/'+_0x4143ef;}if(_0x570536){try{let [_0x32ada2]=await conn[_0x5cb8fe(0x239)]()[_0x5cb8fe(0x1c5)](_0x5cb8fe(0x1ef),[_0x246ebf,_0x2bcd97,_0x570536]);if(_0x32ada2[_0x5cb8fe(0x1f5)]>0x0)_0x42f8c5['status'](0x199)[_0x5cb8fe(0x275)]({'error':_0x5cb8fe(0x2c5)});else{!_0x3092ba[_0x5cb8fe(0x34d)]&&([_0x32ada2]=await conn[_0x5cb8fe(0x239)]()[_0x5cb8fe(0x1c5)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x570536]),_0x5b3d45=_0x32ada2[0x0][_0x5cb8fe(0x1e4)]);const _0x5b8a47='UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,'+(_0x4fafc0?_0x5cb8fe(0x32e):'')+_0x5cb8fe(0x303);await conn[_0x5cb8fe(0x239)]()[_0x5cb8fe(0x1c5)](_0x5b8a47,_0x4fafc0?[_0x5b3d45,_0x442d2f,_0xe6a062,_0x2bcd97,_0x246ebf,_0x507599,_0x28f920,_0x5e1076,_0x570536]:[_0x5b3d45,_0x442d2f,_0xe6a062,_0x2bcd97,_0x246ebf,_0x28f920,_0x5e1076,_0x570536]);}}catch(_0xe0c669){console[_0x5cb8fe(0x1d3)](_0xe0c669),_0x42f8c5[_0x5cb8fe(0x260)](0x1f4)['json']({'error':_0x5cb8fe(0x21c)});return;}_0x42f8c5[_0x5cb8fe(0x260)](0xc8)[_0x5cb8fe(0x275)]({'success':!![],'message':_0x5cb8fe(0x20a)});}else{try{const [_0x588aaa]=await conn[_0x5cb8fe(0x239)]()[_0x5cb8fe(0x1c5)](_0x5cb8fe(0x243),[_0x246ebf,_0x2bcd97]);if(_0x588aaa[_0x5cb8fe(0x1f5)]>0x0)_0x42f8c5[_0x5cb8fe(0x260)](0x199)['json']({'error':_0x5cb8fe(0x2c5)});else{const _0x42d630=randomUUID();await conn['promise']()[_0x5cb8fe(0x1c5)](_0x5cb8fe(0x2ff),[_0x5b3d45,_0x442d2f,_0xe6a062,_0x2bcd97,_0x246ebf,_0x507599,_0x5e1076,_0x28f920,_0x42d630]);const _0x47ea1c='./uploads/'+_0x42d630;fs['mkdirSync'](_0x47ea1c);}}catch(_0x2b7f1c){console['log'](_0x2b7f1c),_0x42f8c5[_0x5cb8fe(0x260)](0x1f4)[_0x5cb8fe(0x275)]({'error':_0x5cb8fe(0x21c)});return;}_0x42f8c5['status'](0xc8)[_0x5cb8fe(0x275)]({'success':!![],'message':'User\x20created\x20successfully'});}}),router[a26_0x3b6580(0x2a7)](a26_0x3b6580(0x207),async(_0x4e7e7b,_0x5eefc4)=>{const _0x5c17a7=a26_0x3b6580,{userId:_0x1d4795}=_0x4e7e7b[_0x5c17a7(0x26b)];let _0x34977f;try{const [_0x512887]=await conn[_0x5c17a7(0x239)]()[_0x5c17a7(0x1c5)](_0x5c17a7(0x1db),[_0x1d4795]);_0x512887[_0x5c17a7(0x1f5)]>0x0&&(_0x34977f=_0x512887[0x0]);}catch(_0x156b44){console[_0x5c17a7(0x1d3)]({'err':_0x156b44}),_0x5eefc4[_0x5c17a7(0x260)](0x1f4)[_0x5c17a7(0x275)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0x34977f){_0x5eefc4[_0x5c17a7(0x260)](0x191)[_0x5c17a7(0x275)]({'error':'Invalid\x20user'});return;}let _0x9d4335=_0x34977f[_0x5c17a7(0x27c)];if(!_0x9d4335){_0x9d4335=randomUUID();try{await conn[_0x5c17a7(0x239)]()[_0x5c17a7(0x1c5)](_0x5c17a7(0x314),[_0x9d4335,_0x1d4795]);}catch(_0x3b436e){console['log']({'err':_0x3b436e}),_0x5eefc4[_0x5c17a7(0x260)](0x1f4)[_0x5c17a7(0x275)]({'error':_0x5c17a7(0x21c)});return;}}const _0x4ae7d2=_0x5c17a7(0x2a8)+_0x9d4335;console[_0x5c17a7(0x1d3)]('===================='),console[_0x5c17a7(0x1d3)](_0x4ae7d2),!fs[_0x5c17a7(0x2f9)](_0x4ae7d2)&&fs[_0x5c17a7(0x1fc)](_0x4ae7d2),fs[_0x5c17a7(0x1f6)](_0x4ae7d2,{'recursive':!![],'force':!![]}),fs[_0x5c17a7(0x1fc)](_0x4ae7d2),_0x5eefc4[_0x5c17a7(0x260)](0xc8)[_0x5c17a7(0x275)]({'success':!![],'message':_0x5c17a7(0x277)});}),router[a26_0x3b6580(0x2a7)](a26_0x3b6580(0x2f2),async(_0x19ac6e,_0x36a0f9)=>{const _0x561401=a26_0x3b6580,_0x5e3ea9=_0x19ac6e[_0x561401(0x316)][_0x561401(0x2bd)];try{let _0x2b98ed;try{const [_0x447ecf]=await conn[_0x561401(0x239)]()[_0x561401(0x1c5)](_0x561401(0x1db),[_0x5e3ea9]);_0x447ecf[_0x561401(0x1f5)]>0x0&&(_0x2b98ed=_0x447ecf[0x0]);}catch(_0x1e3356){console[_0x561401(0x1d3)]({'err':_0x1e3356}),_0x36a0f9[_0x561401(0x260)](0x1f4)[_0x561401(0x275)]({'error':_0x561401(0x21c)});return;}if(!_0x2b98ed){_0x36a0f9[_0x561401(0x260)](0x191)[_0x561401(0x275)]({'error':_0x561401(0x2d6)});return;}let _0x41ec18=_0x2b98ed['folder_name'];if(_0x41ec18){const _0x2853f5=_0x561401(0x2a8)+_0x41ec18;fs['existsSync'](_0x2853f5)&&fs[_0x561401(0x1f6)](_0x2853f5,{'recursive':!![],'force':!![]});}await conn[_0x561401(0x239)]()[_0x561401(0x1c5)](_0x561401(0x209),[_0x5e3ea9]);}catch(_0x2cdbf5){console['log'](_0x2cdbf5),_0x36a0f9[_0x561401(0x260)](0x1f4)[_0x561401(0x275)]({'error':_0x561401(0x21c)});return;}_0x36a0f9['status'](0xc8)[_0x561401(0x275)]({'success':!![],'message':_0x561401(0x228)});}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x271),async(_0x17c643,_0x55b300)=>{const _0x4f942b=a26_0x3b6580,_0x1538ef=osu[_0x4f942b(0x245)],_0x42ba69=osu[_0x4f942b(0x278)],_0x53c6a8=osu[_0x4f942b(0x287)],_0x47517d=osu['os'],_0x5e4541={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x56dec6=os[_0x4f942b(0x294)]()==='win32'?'c:':'/';const _0x397861=await _0x53c6a8['info'](_0x56dec6);_0x5e4541[_0x4f942b(0x1b9)]=_0x397861['usedPercentage'],_0x5e4541['usedGB']=_0x397861['usedGb'],_0x5e4541[_0x4f942b(0x233)]=_0x397861['freeGb'],_0x5e4541[_0x4f942b(0x2c3)]=_0x397861[_0x4f942b(0x2c8)];}catch(_0x512f70){console[_0x4f942b(0x1d3)](_0x4f942b(0x34c),_0x512f70);}const _0x2a56bf={'usage':0x0,'count':0x0};try{_0x2a56bf[_0x4f942b(0x319)]=await _0x1538ef[_0x4f942b(0x319)](),_0x2a56bf[_0x4f942b(0x323)]=_0x1538ef[_0x4f942b(0x323)]();}catch(_0x2daab6){console[_0x4f942b(0x1d3)](_0x4f942b(0x23e),_0x2daab6);}const _0x594705={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x594705['os']=await _0x47517d['oos'](),_0x594705[_0x4f942b(0x294)]=_0x47517d[_0x4f942b(0x294)](),_0x594705['ip']=_0x47517d['ip'](),_0x594705[_0x4f942b(0x1c1)]=_0x47517d[_0x4f942b(0x1c1)](),_0x594705['hostname']=_0x47517d[_0x4f942b(0x1cf)](),_0x594705['type']=_0x47517d[_0x4f942b(0x1c4)](),_0x594705[_0x4f942b(0x1ec)]=_0x47517d[_0x4f942b(0x1ec)](),_0x594705[_0x4f942b(0x1cd)]=await osu[_0x4f942b(0x283)][_0x4f942b(0x1cd)](),_0x594705[_0x4f942b(0x20d)]=await osu[_0x4f942b(0x283)][_0x4f942b(0x20d)](),_0x594705['vmstats']=await osu[_0x4f942b(0x283)][_0x4f942b(0x227)]();}catch(_0x5e92ed){console[_0x4f942b(0x1d3)](_0x4f942b(0x346),_0x5e92ed);}const _0x39e1e3={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x39e1e3[_0x4f942b(0x33b)]=await osu['proc'][_0x4f942b(0x33b)](),_0x39e1e3['zombieProcesses']=await osu['proc']['zombieProcesses']();}catch(_0x34da56){console['log'](_0x4f942b(0x2dc),_0x34da56);}let _0x2a5251={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x59ca83=await _0x42ba69[_0x4f942b(0x32c)]();_0x2a5251[_0x4f942b(0x215)]=_0x59ca83[_0x4f942b(0x215)],_0x2a5251[_0x4f942b(0x30d)]=_0x59ca83[_0x4f942b(0x2df)]/0x400/0x400,_0x2a5251[_0x4f942b(0x2cc)]=_0x59ca83[_0x4f942b(0x201)]/0x400/0x400;}catch(_0x6e37c0){console[_0x4f942b(0x1d3)](_0x4f942b(0x2cd),_0x6e37c0);}let _0x4e157e=0x0;try{_0x4e157e=await conn[_0x4f942b(0x239)]()[_0x4f942b(0x286)](_0x4f942b(0x255))[_0x4f942b(0x2e3)](([_0x52fee0])=>_0x52fee0[0x0]['total']);}catch(_0x1e6167){console[_0x4f942b(0x1d3)](_0x4f942b(0x2ef),_0x1e6167);}const _0x391eed=getMonitoringData(),_0x575692=_0x391eed[_0x4f942b(0x1ed)](_0x10fb4f=>_0x10fb4f[_0x4f942b(0x288)]!==null&&_0x10fb4f[_0x4f942b(0x288)]!==undefined),_0x407ac4=_0x391eed[_0x4f942b(0x1ed)](_0x4255b3=>_0x4255b3[_0x4f942b(0x320)]!==null&&_0x4255b3[_0x4f942b(0x320)]!==undefined)[_0x4f942b(0x234)](_0x2c301d=>parseFloat(_0x2c301d[_0x4f942b(0x320)][_0x4f942b(0x330)]('Kb')[_0x4f942b(0x341)]())),_0x5cb9ec=_0x575692['reduce']((_0x378a10,_0xd85ff0)=>_0x378a10+parseFloat(_0xd85ff0[_0x4f942b(0x288)]),0x0)/_0x575692[_0x4f942b(0x1f5)],_0x11d0c4=_0x407ac4[_0x4f942b(0x30e)]((_0x50b789,_0x4c5fb1)=>_0x50b789+_0x4c5fb1,0x0)/_0x407ac4[_0x4f942b(0x1f5)];_0x55b300[_0x4f942b(0x275)]({'requestsPerSecond':counter[_0x4f942b(0x1c7)](),'diskUsage':_0x5e4541,'cpus':_0x2a56bf,'system':_0x594705,'process':_0x39e1e3,'totalMonitoringData':_0x391eed[_0x4f942b(0x1f5)],'memory':_0x2a5251,'totalUsers':_0x4e157e,'avgConvertionTime':_0x5cb9ec,'avgMemoryUsage':_0x11d0c4});}),router[a26_0x3b6580(0x257)](a26_0x3b6580(0x1be),(_0x4547c8,_0x43bc74)=>{const _0x2959f5=a26_0x3b6580;counter[_0x2959f5(0x2ed)](),_0x43bc74[_0x2959f5(0x275)]({'message':_0x2959f5(0x34e)});});const getMonitoringData=()=>{const _0x8a4cbd=a26_0x3b6580,_0x4df740='cadviewer/settings/requests-callapiconversion-monitoring.json';let _0x319eee=[];try{_0x319eee=JSON[_0x8a4cbd(0x241)](fs[_0x8a4cbd(0x2bf)](_0x4df740));}catch(_0x14c8e9){console[_0x8a4cbd(0x1d3)](_0x8a4cbd(0x2c1));}return _0x319eee;};router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x210),async(_0x1de67d,_0x461410)=>{const _0x30de90=a26_0x3b6580,{page:page=0x1,limit:limit=0xa}=_0x1de67d[_0x30de90(0x286)],_0x420eff=(page-0x1)*limit;try{const _0x72f8be=getMonitoringData(),_0x3ea9ea=_0x72f8be['length'],_0x42dbe6=Math['ceil'](_0x3ea9ea/limit),_0x12c5fb=_0x72f8be['slice'](_0x420eff,_0x420eff+limit);_0x461410[_0x30de90(0x260)](0xc8)[_0x30de90(0x275)]({'data':_0x12c5fb,'page':parseInt(''+page),'totalPages':_0x42dbe6,'total':_0x3ea9ea});}catch(_0x41b488){console[_0x30de90(0x1d3)](_0x41b488),_0x461410[_0x30de90(0x260)](0x1f4)['json']({'error':_0x30de90(0x21c)});}}),router[a26_0x3b6580(0x2a7)]('/conversion/clean',async(_0x606bc3,_0x24b427)=>{const _0x233132=a26_0x3b6580,_0x4a38b8=_0x233132(0x20c);try{fs[_0x233132(0x32d)](_0x4a38b8,JSON[_0x233132(0x240)]([],null,0x4)),_0x24b427[_0x233132(0x260)](0xc8)['json']({'message':'Monitoring\x20file\x20cleaned.'});}catch(_0x8db5a1){console[_0x233132(0x1d3)](_0x8db5a1),_0x24b427[_0x233132(0x260)](0x1f4)[_0x233132(0x275)]({'error':_0x233132(0x21c)});}}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x1c6),async(_0x5e36ff,_0x5e01e3)=>{const _0x42d338=a26_0x3b6580,_0x357a8b=getHotConfig()[_0x42d338(0x343)]['replaceAll']('//','/'),{page:page=0x1,limit:limit=0xa}=_0x5e36ff[_0x42d338(0x286)],_0x57afb5=(page-0x1)*limit;try{const _0x2a6230=_0x357a8b+'memorydata.csv';console[_0x42d338(0x1d3)](_0x2a6230);const _0x10f8c7=fs[_0x42d338(0x2bf)](_0x2a6230,_0x42d338(0x279)),_0x33d922=_0x10f8c7[_0x42d338(0x24d)]('\x0a'),_0x11a27b=[];_0x33d922[_0x42d338(0x1f7)](_0xe00d82=>{const _0x58baf7=_0x42d338,_0x561ff1=_0xe00d82[_0x58baf7(0x24d)](',');if(_0x561ff1[_0x58baf7(0x1f5)]<0x4)return;const _0x559aa8=_0x561ff1[0x0],_0x5cc8f4=_0x561ff1[0x1],_0x4e44b0=parseFloat(_0x561ff1[0x2]);_0x11a27b[_0x58baf7(0x23d)]({'file':_0x559aa8[_0x58baf7(0x330)]('\x22',''),'action':_0x5cc8f4,'timeSpend':_0x4e44b0,'memoryUsage':_0x561ff1[0x3]});});const _0x4c2afb=_0x11a27b[_0x42d338(0x1f5)],_0x19bb71=Math[_0x42d338(0x211)](_0x4c2afb/limit),_0xee93fc=_0x11a27b['slice'](_0x57afb5,_0x57afb5+limit);_0x5e01e3[_0x42d338(0x260)](0xc8)[_0x42d338(0x275)]({'data':_0xee93fc,'page':parseInt(''+page),'totalPages':_0x19bb71,'total':_0x4c2afb});}catch(_0x12e679){console[_0x42d338(0x1d3)](_0x12e679),_0x5e01e3['status'](0x1f4)[_0x42d338(0x275)]({'error':_0x42d338(0x21c)});}}),router['get']('/cache/stats',async(_0x476381,_0x32dcdc)=>{const _0x2331fb=a26_0x3b6580,_0xe0d218=path[_0x2331fb(0x317)](path[_0x2331fb(0x1e9)](require[_0x2331fb(0x22b)][_0x2331fb(0x237)]),'converters',_0x2331fb(0x2b5));try{let _0x14d6aa=0x0,_0x2369bc=0x0;function _0x3bdc0c(_0xa1431f){const _0x4260ba=_0x2331fb;let _0x285ce6=0x0,_0x216f35=0x0;if(fs['existsSync'](_0xa1431f)){const _0x4af05f=fs[_0x4260ba(0x297)](_0xa1431f);_0x216f35=0x0;for(const _0x806ab3 of _0x4af05f){const _0x53b560=path[_0x4260ba(0x317)](_0xa1431f,_0x806ab3),_0x33b676=fs[_0x4260ba(0x1f3)](_0x53b560);if(_0x33b676[_0x4260ba(0x2f7)]()&&_0x806ab3!=='.gitkeep')_0x216f35++,_0x285ce6+=_0x33b676['size'];else{if(_0x33b676[_0x4260ba(0x2ae)]()){}}}}return{'size':_0x285ce6,'count':_0x216f35};}const _0x7144a6=_0x3bdc0c(_0xe0d218);_0x14d6aa=_0x7144a6[_0x2331fb(0x236)],_0x2369bc=_0x7144a6['count'],_0x32dcdc[_0x2331fb(0x275)]({'fileCount':_0x2369bc,'totalSize':_0x14d6aa});}catch(_0xe86e45){console[_0x2331fb(0x31d)]('Error\x20getting\x20cache\x20stats:',_0xe86e45),_0x32dcdc[_0x2331fb(0x260)](0x1f4)[_0x2331fb(0x275)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x3b6580(0x2a7)](a26_0x3b6580(0x2d9),async(_0x2a014c,_0x20d5ea)=>{const _0x5fd1c6=a26_0x3b6580,_0x547c0e=path[_0x5fd1c6(0x317)](path[_0x5fd1c6(0x1e9)](require[_0x5fd1c6(0x22b)][_0x5fd1c6(0x237)]),_0x5fd1c6(0x1ff),'files');try{function _0x2e1504(_0x48bb3a){const _0x5c4ebb=_0x5fd1c6;if(fs[_0x5c4ebb(0x2f9)](_0x48bb3a)){const _0x306091=fs[_0x5c4ebb(0x297)](_0x48bb3a);for(const _0x9eefa1 of _0x306091){const _0xab60c8=path[_0x5c4ebb(0x317)](_0x48bb3a,_0x9eefa1),_0x41e6b6=fs[_0x5c4ebb(0x1f3)](_0xab60c8);if(_0x41e6b6[_0x5c4ebb(0x2ae)]()){}else _0x9eefa1!==_0x5c4ebb(0x27d)&&fs[_0x5c4ebb(0x1fa)](_0xab60c8);}}}_0x2e1504(_0x547c0e),_0x20d5ea[_0x5fd1c6(0x275)]({'message':_0x5fd1c6(0x307)});}catch(_0x2c184d){console[_0x5fd1c6(0x31d)](_0x5fd1c6(0x25e),_0x2c184d),_0x20d5ea[_0x5fd1c6(0x260)](0x1f4)[_0x5fd1c6(0x275)]({'error':_0x5fd1c6(0x247)});}}),router['get'](a26_0x3b6580(0x2b2),async(_0x3830c5,_0x2cdad7)=>{const _0x57372a=a26_0x3b6580;_0x2cdad7[_0x57372a(0x1d5)](path[_0x57372a(0x317)](path['dirname'](require['main'][_0x57372a(0x237)]),_0x57372a(0x222)));}),router['get']('/cache',protectedRoute,async(_0x408c88,_0x1bd1de)=>{const _0x438227=a26_0x3b6580,_0x445a21=fs[_0x438227(0x2bf)](path[_0x438227(0x317)](path[_0x438227(0x1e9)](require[_0x438227(0x22b)]['filename']),_0x438227(0x214)),_0x438227(0x279)),_0x59715a=_0x445a21[_0x438227(0x330)](_0x438227(0x345),_0x408c88[_0x438227(0x2d3)]);_0x1bd1de['send'](_0x59715a);}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x28c),async(_0x552446,_0x43958c)=>{const _0x351ab0=a26_0x3b6580,{page:page=0x1,limit:limit=0x10}=_0x552446[_0x351ab0(0x286)],_0x2860dd=JSON['parse'](fs['readFileSync'](path[_0x351ab0(0x317)](path[_0x351ab0(0x1e9)](require[_0x351ab0(0x22b)][_0x351ab0(0x237)]),_0x351ab0(0x21f)))),_0x5324eb=(page-0x1)*limit,_0x1d6fb9=page*limit,_0x5df4f1=_0x2860dd[_0x351ab0(0x2b5)][_0x351ab0(0x1f5)],_0x504ae3=Math['ceil'](_0x5df4f1/limit),_0x2ed4e4=_0x2860dd['files'][_0x351ab0(0x31e)](_0x5324eb,_0x1d6fb9);_0x43958c['json']({'files':_0x2ed4e4,'pagination':{'total':_0x5df4f1,'totalPages':_0x504ae3,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x3b6580(0x27a)]('/cache/csv/:file',async(_0x4dc8af,_0x4ba2ed)=>{const _0x1f40a6=a26_0x3b6580,{file:_0x4e5ba8}=_0x4dc8af[_0x1f40a6(0x316)],_0x496ab4=path[_0x1f40a6(0x317)](path[_0x1f40a6(0x1e9)](require[_0x1f40a6(0x22b)][_0x1f40a6(0x237)]),_0x1f40a6(0x1ff),_0x1f40a6(0x2b5)),_0x53ce3f=path[_0x1f40a6(0x317)](_0x496ab4,_0x4e5ba8),_0x18ee29=fs[_0x1f40a6(0x2bf)](_0x53ce3f,'utf8'),_0x372c4f=_0x18ee29[_0x1f40a6(0x24d)]('\x0a'),_0x132d8f=_0x372c4f[_0x1f40a6(0x234)](_0x1f0bd3=>{const _0x89a5df=_0x1f40a6,_0x474163=_0x1f0bd3[_0x89a5df(0x24d)](',');return _0x474163[_0x89a5df(0x234)](_0x33b4b3=>_0x33b4b3[_0x89a5df(0x330)]('\x22',''));});_0x4ba2ed['json'](_0x132d8f);}),router[a26_0x3b6580(0x27a)](a26_0x3b6580(0x25f),async(_0x5cb618,_0x4aaa74)=>{const _0x2b1b51=a26_0x3b6580,{id:_0x14f68b}=_0x5cb618[_0x2b1b51(0x316)],_0x297b91=path[_0x2b1b51(0x317)](path[_0x2b1b51(0x1e9)](require['main'][_0x2b1b51(0x237)]),_0x2b1b51(0x1ff),_0x2b1b51(0x2b5)),_0x2f0979=path[_0x2b1b51(0x317)](_0x297b91,_0x14f68b);if(_0x2f0979[_0x2b1b51(0x1d9)](_0x2b1b51(0x205))){var _0x3fa5fa=require(_0x2b1b51(0x321));const _0xecea10=fs[_0x2b1b51(0x2bf)](_0x2f0979),_0x4336a4=_0x3fa5fa[_0x2b1b51(0x342)](_0xecea10);_0x4aaa74[_0x2b1b51(0x2e4)]('Content-Type',_0x2b1b51(0x348)),_0x4aaa74[_0x2b1b51(0x2b6)](_0x4336a4);}else _0x4aaa74[_0x2b1b51(0x1d5)](_0x2f0979);}),router[a26_0x3b6580(0x2a7)]('/cache/files/:id',async(_0x242cf6,_0x291836)=>{const _0x2fabc2=a26_0x3b6580,{id:_0xc5711d}=_0x242cf6['params'],_0x27a10d=path[_0x2fabc2(0x317)](path[_0x2fabc2(0x1e9)](require[_0x2fabc2(0x22b)][_0x2fabc2(0x237)]),_0x2fabc2(0x1ff),_0x2fabc2(0x2b5)),_0x53d60c=JSON['parse'](fs[_0x2fabc2(0x2bf)](path[_0x2fabc2(0x317)](path[_0x2fabc2(0x1e9)](require[_0x2fabc2(0x22b)][_0x2fabc2(0x237)]),'cadviewer/settings/converter-files-analysis.json'))),_0x5ce768=_0x53d60c[_0x2fabc2(0x2b5)][_0x2fabc2(0x21b)](_0x17e297=>_0x17e297[_0x2fabc2(0x1d0)]===_0xc5711d);if(_0x5ce768){try{fs[_0x2fabc2(0x2f9)](path[_0x2fabc2(0x317)](_0x27a10d,_0x5ce768[_0x2fabc2(0x1d0)]))&&fs['unlinkSync'](path[_0x2fabc2(0x317)](_0x27a10d,_0x5ce768[_0x2fabc2(0x1d0)]));}catch(_0x5030c4){console[_0x2fabc2(0x1d3)]({'e':_0x5030c4});}(_0x5ce768['availableFormats']??[])[_0x2fabc2(0x1f7)](_0x4b6ab2=>{const _0x2b3fcb=_0x2fabc2;try{fs[_0x2b3fcb(0x2f9)](path[_0x2b3fcb(0x317)](_0x27a10d,_0x4b6ab2['id']))&&fs[_0x2b3fcb(0x1fa)](path[_0x2b3fcb(0x317)](_0x27a10d,_0x4b6ab2['id']));}catch(_0x4fce4b){console[_0x2b3fcb(0x1d3)]({'e':_0x4fce4b});}});}analyzeConverterFiles(),_0x291836[_0x2fabc2(0x275)]({'message':_0x2fabc2(0x221)});});const deleteOldDemoUsers=async()=>{const _0x1d6048=a26_0x3b6580;console['log'](_0x1d6048(0x2e5));const _0x268e9d=config[_0x1d6048(0x1de)],_0x455561=_0x1d6048(0x246);try{const [_0x592ee6]=await conn[_0x1d6048(0x239)]()[_0x1d6048(0x1c5)](_0x455561,[_0x268e9d]),_0x54a621=_0x592ee6['map'](_0x596e65=>_0x596e65['folder_name']),_0x1b9203=_0x592ee6['map'](_0x57dcad=>_0x57dcad['email']);console['log'](_0x1b9203),await conn[_0x1d6048(0x239)]()[_0x1d6048(0x1c5)](_0x1d6048(0x305),[_0x268e9d]),_0x54a621[_0x1d6048(0x1f7)](_0x11ce7a=>{const _0x503a0b=_0x1d6048;try{const _0x3e6de2=_0x503a0b(0x2a8)+_0x11ce7a;fs['rmdirSync'](_0x3e6de2);}catch(_0x4674fd){console['error']('Error\x20deleting\x20user\x20folder:',_0x4674fd);}}),console[_0x1d6048(0x1d3)](_0x1d6048(0x1e5)+_0x592ee6['length']+_0x1d6048(0x2c6)+_0x268e9d+'\x20days\x20have\x20been\x20deleted.');}catch(_0x28ac69){console[_0x1d6048(0x31d)](_0x1d6048(0x308),_0x28ac69);}},sendEmailForAccountDeletionPrevention=async()=>{const _0xc2db1e=a26_0x3b6580,_0x527106=require('../libs/mail')[_0xc2db1e(0x1bf)];try{const [_0xf07f00]=await conn[_0xc2db1e(0x239)]()[_0xc2db1e(0x1c5)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[config[_0xc2db1e(0x1de)]-config[_0xc2db1e(0x22e)]]);if(_0xf07f00[_0xc2db1e(0x1f5)]===0x0){console[_0xc2db1e(0x1d3)](_0xc2db1e(0x2d8));return;}for(const _0x305b5d of _0xf07f00){let _0x4293af=_0xc2db1e(0x2ac)+(_0x305b5d[_0xc2db1e(0x2a2)]||_0x305b5d[_0xc2db1e(0x249)])+_0xc2db1e(0x1d8);const _0x1e23d5={'from':config[_0xc2db1e(0x1c0)],'to':_0x305b5d[_0xc2db1e(0x2a9)],'subject':'Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','text':_0xc2db1e(0x23f),'html':_0x4293af};try{await _0x527106[_0xc2db1e(0x2f0)](_0x1e23d5),console[_0xc2db1e(0x1d3)](_0xc2db1e(0x33d)+_0x305b5d[_0xc2db1e(0x2a9)]);}catch(_0x44ae8c){console[_0xc2db1e(0x1d3)](_0xc2db1e(0x292)),console['log']('Failed\x20to\x20send\x20email\x20to\x20'+_0x305b5d['email']),console[_0xc2db1e(0x1d3)](_0x44ae8c);}}}catch(_0x17ed19){console[_0xc2db1e(0x1d3)](_0xc2db1e(0x292)),console[_0xc2db1e(0x1d3)]('Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails'),console[_0xc2db1e(0x1d3)](_0x17ed19);}};schedule[a26_0x3b6580(0x1f4)](a26_0x3b6580(0x1e0),deleteOldDemoUsers),schedule['scheduleJob']('0\x200\x20*\x20*\x20*',sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x226832=a26_0x3b6580;try{const _0x574d96=path['join'](path['dirname'](require[_0x226832(0x22b)][_0x226832(0x237)]),_0x226832(0x1ff),_0x226832(0x2b5)),_0x33d61c=path[_0x226832(0x317)](path[_0x226832(0x1e9)](require[_0x226832(0x22b)][_0x226832(0x237)]),_0x226832(0x31f),_0x226832(0x231));if(!fs[_0x226832(0x2f9)](_0x574d96)){logStream['write']('Le\x20dossier\x20'+_0x574d96+_0x226832(0x2a4));return;}if(!fs[_0x226832(0x2f9)](_0x33d61c)){logStream[_0x226832(0x2b0)](_0x226832(0x29e)+_0x33d61c+'\x20n\x27existe\x20pas.');return;}const _0x5e0a70=fs['readdirSync'](_0x574d96),_0x163620=new Map();_0x5e0a70[_0x226832(0x1f7)](_0x85b738=>{const _0x3bc95d=_0x226832,_0x5b2a7b=path['join'](_0x574d96,_0x85b738),_0xe2ada1=fs[_0x3bc95d(0x1f3)](_0x5b2a7b);_0x163620[_0x3bc95d(0x1bd)](_0x85b738,_0xe2ada1);});const _0x3ec1e6=[],_0x3c7356=Array[_0x226832(0x338)](_0x163620[_0x226832(0x27b)]())['map'](([_0x177440,_0x13cf90])=>{const _0x14ffbe=_0x226832;if(_0x13cf90['isDirectory']())return undefined;let _0x453e7f=undefined,_0x28028e=undefined;(_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x276))||_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x205)))&&_0x163620[_0x14ffbe(0x29a)](_0x177440[_0x14ffbe(0x2c9)](_0x14ffbe(0x205),_0x14ffbe(0x217))[_0x14ffbe(0x2c9)]('.svg',_0x14ffbe(0x217)))&&(_0x453e7f=_0x177440['replace'](_0x14ffbe(0x205),_0x14ffbe(0x217))[_0x14ffbe(0x2c9)](_0x14ffbe(0x276),'.csv'));_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x2f3))&&_0x163620[_0x14ffbe(0x29a)](_0x177440[_0x14ffbe(0x2c9)]('.json',_0x14ffbe(0x2de)))&&(_0x28028e=_0x177440['replace']('.json',_0x14ffbe(0x2de)));const _0x286e26=_0x508785=>{const _0x171a28=_0x14ffbe;if(_0x508785[_0x171a28(0x1d9)](_0x171a28(0x2cb)))return _0x508785[_0x171a28(0x31e)](0x0,-0x8);else{if(_0x508785[_0x171a28(0x1d9)](_0x171a28(0x29b))){const _0x2ef2e2=fs[_0x171a28(0x2bf)](path[_0x171a28(0x317)](_0x574d96,_0x508785),_0x171a28(0x279));return JSON[_0x171a28(0x241)](_0x2ef2e2)['cachedfiles'][_0x171a28(0x234)](_0x15c858=>_0x15c858['fileName']);}}return _0x508785[_0x171a28(0x31e)](0x0,_0x508785['lastIndexOf']('.'));},_0x2d0fb7=_0x286e26(_0x177440),_0x26a497=Array[_0x14ffbe(0x338)](_0x163620[_0x14ffbe(0x302)]())[_0x14ffbe(0x1ed)](_0x7949bb=>{const _0x438854=_0x14ffbe;return Array[_0x438854(0x2ce)](_0x2d0fb7)?_0x2d0fb7[_0x438854(0x200)](_0x20d82a=>_0x286e26(_0x7949bb)===_0x20d82a&&_0x7949bb!==_0x177440):_0x286e26(_0x7949bb)===_0x2d0fb7&&_0x7949bb!==_0x177440;});if(Array[_0x14ffbe(0x2ce)](_0x2d0fb7)){if(_0x2d0fb7[_0x14ffbe(0x200)](_0x609677=>_0x3ec1e6[_0x14ffbe(0x274)](_0x609677)))return;}else{if(_0x3ec1e6[_0x14ffbe(0x274)](_0x2d0fb7))return;}Array['isArray'](_0x2d0fb7)?_0x2d0fb7[_0x14ffbe(0x1f7)](_0x1bdb35=>{_0x3ec1e6['push'](_0x1bdb35);}):_0x3ec1e6[_0x14ffbe(0x23d)](_0x2d0fb7);const _0x1c4c9e=[{'id':_0x177440,'name':_0x177440[_0x14ffbe(0x1d9)]('.svg')?'SVG':_0x177440['endsWith'](_0x14ffbe(0x205))?_0x14ffbe(0x2fc):_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x2f8))?_0x14ffbe(0x2e8):_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x2f3))?_0x14ffbe(0x291):_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x217))?_0x14ffbe(0x1d7):_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x2de))?'DWG':_0x177440[_0x14ffbe(0x24d)]('.')[_0x14ffbe(0x2a1)]()[_0x14ffbe(0x2ab)](),'color':_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x276))||_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x205))?'yellow':_0x177440['endsWith'](_0x14ffbe(0x2f8))?_0x14ffbe(0x1e3):_0x177440['endsWith'](_0x14ffbe(0x2f3))?_0x14ffbe(0x2d0):_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x217))?_0x14ffbe(0x322):_0x177440[_0x14ffbe(0x1d9)](_0x14ffbe(0x2de))?_0x14ffbe(0x23a):_0x14ffbe(0x2c0)},..._0x26a497[_0x14ffbe(0x234)](_0x7bc6e7=>({'id':_0x7bc6e7,'name':_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x276))?_0x14ffbe(0x1c3):_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x205))?_0x14ffbe(0x2fc):_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x2f8))?_0x14ffbe(0x2e8):_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x2f3))?_0x14ffbe(0x291):_0x7bc6e7[_0x14ffbe(0x1d9)]('.csv')?_0x14ffbe(0x1d7):_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x2de))?_0x14ffbe(0x332):_0x7bc6e7['split']('.')[_0x14ffbe(0x2a1)]()[_0x14ffbe(0x2ab)](),'color':_0x7bc6e7[_0x14ffbe(0x1d9)]('.svg')||_0x7bc6e7['endsWith'](_0x14ffbe(0x205))?_0x14ffbe(0x251):_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x2f8))?_0x14ffbe(0x1e3):_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x2f3))?_0x14ffbe(0x2d0):_0x7bc6e7['endsWith'](_0x14ffbe(0x217))?_0x14ffbe(0x322):_0x7bc6e7[_0x14ffbe(0x1d9)](_0x14ffbe(0x2de))?'blue':_0x14ffbe(0x2c0)}))];let _0x1331ac='';if(_0x1c4c9e[_0x14ffbe(0x200)](_0x29d3e1=>_0x29d3e1['id'][_0x14ffbe(0x274)]('.rl.json')))_0x1331ac='RL/TL\x20Processing';else{if(_0x1c4c9e[_0x14ffbe(0x200)](_0x248b78=>[_0x14ffbe(0x22d),_0x14ffbe(0x1e6)][_0x14ffbe(0x274)](_0x248b78['id'][_0x14ffbe(0x24d)]('.')['pop']()))&&_0x453e7f)_0x1331ac=_0x14ffbe(0x20e);else{if(_0x1c4c9e['some'](_0x37870d=>[_0x14ffbe(0x22d),'svgz']['includes'](_0x37870d['id']['split']('.')[_0x14ffbe(0x2a1)]())))_0x1331ac=_0x14ffbe(0x34b);else{if(_0x1c4c9e[_0x14ffbe(0x200)](_0x58fec0=>[_0x14ffbe(0x275)]['includes'](_0x58fec0['id'][_0x14ffbe(0x24d)]('.')[_0x14ffbe(0x2a1)]()))&&_0x28028e)_0x1331ac=_0x14ffbe(0x22c);else{if(_0x1c4c9e[_0x14ffbe(0x200)](_0x249839=>['pdf'][_0x14ffbe(0x274)](_0x249839['id'][_0x14ffbe(0x24d)]('.')['pop']())))_0x1331ac='DWG\x20to\x20PDF\x20Conversion';else{if(_0x1c4c9e[_0x14ffbe(0x200)](_0x119314=>['json'][_0x14ffbe(0x274)](_0x119314['id'][_0x14ffbe(0x24d)]('.')['pop']()))&&!_0x28028e)_0x1331ac='DWG\x20file\x20in\x20multiple\x20files';else _0x1c4c9e[_0x14ffbe(0x200)](_0x3eb2a0=>[_0x14ffbe(0x275)]['includes'](_0x3eb2a0['id']['split']('.')[_0x14ffbe(0x2a1)]()))&&(_0x1331ac='Cache\x20conversion');}}}}}return{'name':_0x177440,'size':_0x13cf90[_0x14ffbe(0x236)],'createdAt':_0x13cf90[_0x14ffbe(0x311)],'updatedAt':_0x13cf90[_0x14ffbe(0x21d)],'readAt':_0x13cf90[_0x14ffbe(0x267)],'action':_0x1331ac,'csvFile':_0x453e7f,'dwgFile':_0x28028e,'availableFormats':_0x1c4c9e};})[_0x226832(0x1ed)](_0x14a331=>_0x14a331!==undefined);_0x3c7356['sort']((_0x237675,_0x425db8)=>_0x425db8[_0x226832(0x304)]-_0x237675[_0x226832(0x304)]);const _0x44fcba={'timestamp':new Date(),'totalFiles':_0x3c7356['length'],'filesByType':{'svg':_0x3c7356[_0x226832(0x1ed)](_0x5270de=>_0x5270de[_0x226832(0x1d0)][_0x226832(0x1d9)]('.svg'))[_0x226832(0x1f5)],'svgz':_0x3c7356['filter'](_0x839d8a=>_0x839d8a[_0x226832(0x1d0)][_0x226832(0x1d9)](_0x226832(0x205)))[_0x226832(0x1f5)],'pdf':_0x3c7356['filter'](_0x2f827=>_0x2f827[_0x226832(0x1d0)][_0x226832(0x1d9)](_0x226832(0x2f8)))['length'],'json':_0x3c7356[_0x226832(0x1ed)](_0x2d3c6b=>_0x2d3c6b['name']['endsWith'](_0x226832(0x2f3)))['length'],'csv':_0x3c7356[_0x226832(0x1ed)](_0x44dd0c=>_0x44dd0c[_0x226832(0x1d2)])[_0x226832(0x1f5)],'dwg':_0x3c7356[_0x226832(0x1ed)](_0x13f57f=>_0x13f57f[_0x226832(0x2b4)])[_0x226832(0x1f5)]},'filesByAction':{'dwgToSvg':_0x3c7356[_0x226832(0x1ed)](_0xbd2a2=>_0xbd2a2[_0x226832(0x270)]===_0x226832(0x20e))['length'],'displayDwg':_0x3c7356[_0x226832(0x1ed)](_0xeee0ff=>_0xeee0ff['action']===_0x226832(0x34b))[_0x226832(0x1f5)],'jsonExtraction':_0x3c7356[_0x226832(0x1ed)](_0x34d463=>_0x34d463[_0x226832(0x270)]===_0x226832(0x22c))[_0x226832(0x1f5)],'dwgToPdf':_0x3c7356[_0x226832(0x1ed)](_0x5da5d0=>_0x5da5d0['action']===_0x226832(0x2c4))[_0x226832(0x1f5)],'splitFiles':_0x3c7356[_0x226832(0x1ed)](_0x4eb9fb=>_0x4eb9fb[_0x226832(0x270)]===_0x226832(0x2f4))[_0x226832(0x1f5)],'rlProcessing':_0x3c7356[_0x226832(0x1ed)](_0x13704c=>_0x13704c[_0x226832(0x270)]===_0x226832(0x21a))[_0x226832(0x1f5)],'cacheConversion':_0x3c7356[_0x226832(0x1ed)](_0x36d466=>_0x36d466[_0x226832(0x270)]===_0x226832(0x2e6))[_0x226832(0x1f5)]},'files':_0x3c7356},_0x464b89=path[_0x226832(0x317)](_0x33d61c,_0x226832(0x30f));fs[_0x226832(0x32d)](_0x464b89,JSON[_0x226832(0x240)](_0x44fcba,null,0x2)),logStream[_0x226832(0x2b0)]('Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20terminée.\x20Résultats\x20enregistrés\x20dans\x20'+_0x464b89);}catch(_0x419a30){logStream[_0x226832(0x2b0)](_0x226832(0x224)+_0x419a30['message']);}},scheduleFileAnalysis=()=>{const _0x1d9865=a26_0x3b6580;analyzeConverterFiles(),schedule[_0x1d9865(0x1f4)](_0x1d9865(0x31b),analyzeConverterFiles),logStream[_0x1d9865(0x2b0)](_0x1d9865(0x1cb));};function a26_0x711e(_0x116929,_0x4ee54e){const _0x4f5eb0=a26_0x4f5e();return a26_0x711e=function(_0x711e80,_0x23c65a){_0x711e80=_0x711e80-0x1b9;let _0x1a17a3=_0x4f5eb0[_0x711e80];return _0x1a17a3;},a26_0x711e(_0x116929,_0x4ee54e);}scheduleFileAnalysis(),module[a26_0x3b6580(0x32f)]=router;