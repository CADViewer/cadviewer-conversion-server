const a26_0x173a67=a26_0x3449;(function(_0x5f1b68,_0x128494){const _0xf1cf53=a26_0x3449,_0x1b2dde=_0x5f1b68();while(!![]){try{const _0x58acd1=parseInt(_0xf1cf53(0x1b9))/0x1*(parseInt(_0xf1cf53(0x307))/0x2)+-parseInt(_0xf1cf53(0x1ce))/0x3*(-parseInt(_0xf1cf53(0x1c7))/0x4)+-parseInt(_0xf1cf53(0x1d4))/0x5+-parseInt(_0xf1cf53(0x219))/0x6*(-parseInt(_0xf1cf53(0x305))/0x7)+parseInt(_0xf1cf53(0x258))/0x8*(parseInt(_0xf1cf53(0x1eb))/0x9)+-parseInt(_0xf1cf53(0x289))/0xa*(-parseInt(_0xf1cf53(0x1b3))/0xb)+-parseInt(_0xf1cf53(0x2d0))/0xc;if(_0x58acd1===_0x128494)break;else _0x1b2dde['push'](_0x1b2dde['shift']());}catch(_0x52dd19){_0x1b2dde['push'](_0x1b2dde['shift']());}}}(a26_0x5813,0x8476c));const express=require(a26_0x173a67(0x2fb)),router=express[a26_0x173a67(0x2d9)](),multer=require('multer'),fs=require('fs'),path=require(a26_0x173a67(0x26d)),getHotConfig=require(a26_0x173a67(0x204))[a26_0x173a67(0x247)],{exec}=require(a26_0x173a67(0x1b7)),os=require('os'),conn=require('../libs/mysql.js'),bcrypt=require(a26_0x173a67(0x1e4)),osu=require(a26_0x173a67(0x1e9)),counter=require(a26_0x173a67(0x300)),{randomUUID}=require(a26_0x173a67(0x251)),logStream=require(a26_0x173a67(0x2ee)),config=require(a26_0x173a67(0x1d5));router[a26_0x173a67(0x24b)](a26_0x173a67(0x2ef),async(_0x18e467,_0x650e7d)=>{const _0x1168d1=a26_0x173a67;_0x650e7d[_0x1168d1(0x1cf)](path[_0x1168d1(0x1d8)](path[_0x1168d1(0x2f4)](require[_0x1168d1(0x299)][_0x1168d1(0x273)]),_0x1168d1(0x2e9)));}),router['get']('/chart.min.js',async(_0x46387b,_0x225812)=>{const _0x568e00=a26_0x173a67;_0x225812[_0x568e00(0x1cf)](path[_0x568e00(0x1d8)](path[_0x568e00(0x2f4)](require[_0x568e00(0x299)][_0x568e00(0x273)]),_0x568e00(0x2b5)));}),router['get'](a26_0x173a67(0x21a),async(_0x241f5a,_0x2ad368)=>{const _0x42123e=a26_0x173a67;_0x2ad368[_0x42123e(0x1cf)](path[_0x42123e(0x1d8)](path[_0x42123e(0x2f4)](require[_0x42123e(0x299)][_0x42123e(0x273)]),_0x42123e(0x2c2)));}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x20e),async(_0x34f487,_0x3c4022)=>{const _0x356358=a26_0x173a67;_0x3c4022[_0x356358(0x1cf)](path[_0x356358(0x1d8)](path[_0x356358(0x2f4)](require[_0x356358(0x299)]['filename']),_0x356358(0x24d)));}),router['get'](a26_0x173a67(0x2ea),async(_0x279dca,_0x42f9fd)=>{const _0x4f7428=a26_0x173a67;_0x42f9fd[_0x4f7428(0x1cf)](path[_0x4f7428(0x1d8)](path['dirname'](require[_0x4f7428(0x299)][_0x4f7428(0x273)]),_0x4f7428(0x1d6)));}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x2b8),async(_0x257a7a,_0x18942b)=>{const _0x4ceca4=a26_0x173a67;_0x18942b[_0x4ceca4(0x1cf)](path[_0x4ceca4(0x1d8)](path[_0x4ceca4(0x2f4)](require['main']['filename']),_0x4ceca4(0x243)));}),router[a26_0x173a67(0x24b)]('/',async(_0x1a61cb,_0x4e62be)=>{const _0x450a34=a26_0x173a67,_0x26bbe1=fs[_0x450a34(0x1e2)](path[_0x450a34(0x1d8)](path[_0x450a34(0x2f4)](require[_0x450a34(0x299)][_0x450a34(0x273)]),'cadviewer/settings/home.html'),_0x450a34(0x1ac)),_0x58a356=_0x26bbe1[_0x450a34(0x2a8)]('{version}',_0x1a61cb[_0x450a34(0x2f1)]);_0x4e62be['send'](_0x58a356);}),router[a26_0x173a67(0x24b)]('/licences',async(_0x11da2a,_0x590812)=>{const _0xbaf602=a26_0x173a67,_0x42d51f=fs[_0xbaf602(0x1e2)](path[_0xbaf602(0x1d8)](path[_0xbaf602(0x2f4)](require[_0xbaf602(0x299)][_0xbaf602(0x273)]),_0xbaf602(0x2e8)),'utf8'),_0x13c586=_0x42d51f['replaceAll'](_0xbaf602(0x1b5),_0x11da2a[_0xbaf602(0x2f1)]);_0x590812[_0xbaf602(0x2fe)](_0x13c586);}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x1aa),async(_0x59b894,_0x3b5b8b)=>{const _0x52561c=a26_0x173a67,_0x3b8572=fs['readFileSync'](path['join'](path[_0x52561c(0x2f4)](require[_0x52561c(0x299)][_0x52561c(0x273)]),_0x52561c(0x205)),_0x52561c(0x1ac)),_0xeef7e3=_0x3b8572['replaceAll'](_0x52561c(0x1b5),_0x59b894[_0x52561c(0x2f1)]);_0x3b5b8b['send'](_0xeef7e3);}),router['get'](a26_0x173a67(0x1f5),async(_0x21a264,_0x56578e)=>{const _0x3f23ab=a26_0x173a67,_0x4459f0=fs[_0x3f23ab(0x1e2)](path[_0x3f23ab(0x1d8)](path[_0x3f23ab(0x2f4)](require['main']['filename']),_0x3f23ab(0x2c0)),_0x3f23ab(0x1ac)),_0x2ed0fc=_0x4459f0[_0x3f23ab(0x2a8)](_0x3f23ab(0x1b5),_0x21a264[_0x3f23ab(0x2f1)]);_0x56578e['send'](_0x2ed0fc);}),router[a26_0x173a67(0x206)](a26_0x173a67(0x1f5),async(_0x542b5f,_0x5466ce)=>{const _0x37a0f6=a26_0x173a67,_0x30f2cd=path[_0x37a0f6(0x1d8)](path['dirname'](require[_0x37a0f6(0x299)][_0x37a0f6(0x273)]),_0x37a0f6(0x22b)),_0x59ed38=JSON[_0x37a0f6(0x24a)](fs['readFileSync'](_0x30f2cd,'utf8')),_0x5278f4=_0x59ed38[_0x37a0f6(0x263)];if(!fs['existsSync'](_0x5278f4))return _0x5466ce[_0x37a0f6(0x1e1)](0x194)[_0x37a0f6(0x304)]({'message':_0x37a0f6(0x207)});const _0x2b3b76=_0x25a2e9=>{const _0x2a94f4=_0x37a0f6;let _0x954e1a=0x0;return _0x25a2e9[_0x2a94f4(0x2a7)](_0x17e1f9=>{const _0xb1e3b4=_0x2a94f4;_0x17e1f9['isFolder']?_0x954e1a+=_0x2b3b76(_0x17e1f9[_0xb1e3b4(0x214)]):_0x954e1a+=_0x17e1f9[_0xb1e3b4(0x296)];}),_0x954e1a;},_0x77bea7=_0x221145=>{const _0x3312c9=_0x37a0f6;if(_0x221145<0x400)return _0x221145+'\x20B';else{if(_0x221145<0x400*0x400)return(_0x221145/0x400)[_0x3312c9(0x233)](0x2)+_0x3312c9(0x24f);else return _0x221145<0x400*0x400*0x400?(_0x221145/0x400/0x400)['toFixed'](0x2)+_0x3312c9(0x218):(_0x221145/0x400/0x400/0x400)[_0x3312c9(0x233)](0x2)+_0x3312c9(0x267);}},_0x5db2bb=(_0x9675b3,_0x50334d='')=>{const _0x53968f=_0x37a0f6,_0x2c25bb=fs[_0x53968f(0x22f)](_0x9675b3),_0x1e76a2=[];return _0x2c25bb[_0x53968f(0x2a7)](_0x3e6ebe=>{const _0x2a8c8c=_0x53968f,_0x31b2b0=path[_0x2a8c8c(0x1d8)](_0x9675b3,_0x3e6ebe)['replaceAll']('\x5c','/'),_0x2c53ae=fs[_0x2a8c8c(0x27f)](_0x31b2b0);if(_0x2c53ae[_0x2a8c8c(0x1de)]()){const _0x465cbc=_0x5db2bb(_0x31b2b0,_0x50334d+_0x2a8c8c(0x1a2));_0x1e76a2[_0x2a8c8c(0x2d8)]({'name':_0x3e6ebe,'size':_0x2c53ae[_0x2a8c8c(0x296)],'path':_0x31b2b0,'permissions':_0x2c53ae[_0x2a8c8c(0x1c5)],'isFolder':!![],'sub_dirs':_0x465cbc});}else _0x1e76a2['push']({'name':_0x3e6ebe,'size':_0x2c53ae['size'],'path':_0x31b2b0,'permissions':_0x2c53ae[_0x2a8c8c(0x1c5)],'isFolder':![]});}),_0x1e76a2;};let _0x5a81c2=_0x5db2bb(_0x5278f4);const _0xc48a1e=_0x29955c=>{const _0x5dc29e=_0x37a0f6;return _0x29955c[_0x5dc29e(0x2a7)](_0x3d394f=>{const _0x2f0ec2=_0x5dc29e;_0x3d394f[_0x2f0ec2(0x238)]?(_0x3d394f['formatedSize']=_0x77bea7(_0x2b3b76(_0x3d394f[_0x2f0ec2(0x214)])),_0x3d394f[_0x2f0ec2(0x214)]=_0xc48a1e(_0x3d394f[_0x2f0ec2(0x214)])):_0x3d394f['formatedSize']=_0x77bea7(_0x3d394f['size']);}),_0x29955c;};_0x5466ce['status'](0xc8)['json'](_0xc48a1e(_0x5a81c2));}),router[a26_0x173a67(0x206)](a26_0x173a67(0x1a7),async(_0x363262,_0x565930)=>{const _0x10d877=a26_0x173a67,{path:_0x2d09ba}=_0x363262[_0x10d877(0x294)],_0x1530a3=_0x2d09ba[_0x10d877(0x2da)]('/')[_0x10d877(0x1ec)]();if(!fs['existsSync'](_0x2d09ba))return _0x565930[_0x10d877(0x1e1)](0x194)['json']({'message':'File\x20not\x20found'});_0x565930['setHeader'](_0x10d877(0x23c),_0x10d877(0x1ba)),_0x565930[_0x10d877(0x259)](_0x10d877(0x2cb),_0x10d877(0x2ca)+_0x1530a3+'\x22'),_0x565930[_0x10d877(0x2e7)](_0x2d09ba,_0x489147=>{const _0x121c79=_0x10d877;_0x489147&&_0x565930[_0x121c79(0x1e1)](0x1f4)[_0x121c79(0x304)]({'message':_0x121c79(0x212)});});}),router['post'](a26_0x173a67(0x2b0),async(_0x1b7d94,_0xe85d1c)=>{const _0x24a4e6=a26_0x173a67,_0x2d1c50=_0x1b7d94[_0x24a4e6(0x294)],_0x2cfce7=getHotConfig()[_0x24a4e6(0x263)],_0x3547a3=path[_0x24a4e6(0x1d8)](_0x2cfce7,_0x2d1c50[_0x24a4e6(0x26d)]);if(!fs[_0x24a4e6(0x1da)](_0x3547a3))return _0xe85d1c[_0x24a4e6(0x1e1)](0x194)[_0x24a4e6(0x304)]({'message':_0x24a4e6(0x1e7)});if(fs[_0x24a4e6(0x1da)](path[_0x24a4e6(0x1d8)](_0x3547a3,_0x2d1c50[_0x24a4e6(0x1ff)])))return _0xe85d1c[_0x24a4e6(0x1e1)](0x199)['json']({'message':_0x24a4e6(0x276)});fs[_0x24a4e6(0x2c9)](path[_0x24a4e6(0x1d8)](_0x3547a3,_0x2d1c50['folderName']),_0x4aa442=>{const _0x29582c=_0x24a4e6;_0x4aa442&&_0xe85d1c[_0x29582c(0x1e1)](0x1f4)['json']({'message':_0x29582c(0x20c)}),_0xe85d1c['status'](0xc8)[_0x29582c(0x304)]({'message':'Folder\x20created.'});});}),router[a26_0x173a67(0x264)](a26_0x173a67(0x228),async(_0x3565e9,_0x4281c5)=>{const _0x4bbdd3=a26_0x173a67,{newName:_0x4f96a5,isFolder:_0x376789,path:_0x8a3cb2}=_0x3565e9['body'];if(!fs['existsSync'](_0x8a3cb2))return _0x4281c5[_0x4bbdd3(0x1e1)](0x194)[_0x4bbdd3(0x304)]({'message':_0x376789?_0x4bbdd3(0x1ad):_0x4bbdd3(0x2b2)});const _0x27825f=_0x8a3cb2[_0x4bbdd3(0x2b9)](_0x8a3cb2[_0x4bbdd3(0x2da)]('/')[_0x4bbdd3(0x1ec)](),_0x4f96a5);fs[_0x4bbdd3(0x213)](_0x8a3cb2,_0x27825f,_0x5cd799=>{const _0x5a5fdd=_0x4bbdd3;_0x5cd799&&_0x4281c5['status'](0x1f4)[_0x5a5fdd(0x304)]({'message':_0x376789?'Error\x20renaming\x20folder.':_0x5a5fdd(0x2eb)}),_0x4281c5['status'](0xc8)['json']({'message':_0x376789?_0x5a5fdd(0x242):_0x5a5fdd(0x1b8)});});}),router['delete'](a26_0x173a67(0x1ae),async(_0x4d6570,_0x4b0ad1)=>{const _0xae8345=a26_0x173a67,{path:_0x2bd16d}=_0x4d6570[_0xae8345(0x294)];if(!fs[_0xae8345(0x1da)](_0x2bd16d))return _0x4b0ad1[_0xae8345(0x1e1)](0x194)['json']({'message':_0xae8345(0x288)});const _0x271ad3=fs[_0xae8345(0x27f)](_0x2bd16d);if(_0x271ad3[_0xae8345(0x1fa)]())fs[_0xae8345(0x241)](_0x2bd16d,_0x43830a=>{const _0x22222e=_0xae8345;_0x43830a&&_0x4b0ad1[_0x22222e(0x1e1)](0x1f4)['json']({'message':_0x22222e(0x270)}),_0x4b0ad1['status'](0xc8)[_0x22222e(0x304)]({'message':_0x22222e(0x302)});});else _0x271ad3['isDirectory']()&&fs[_0xae8345(0x1db)](_0x2bd16d,{'recursive':!![]},_0x11d3b9=>{const _0x26381e=_0xae8345;_0x11d3b9&&_0x4b0ad1[_0x26381e(0x1e1)](0x1f4)[_0x26381e(0x304)]({'message':_0x26381e(0x29d)}),_0x4b0ad1['status'](0xc8)[_0x26381e(0x304)]({'message':_0x26381e(0x260)});});});!fs[a26_0x173a67(0x1da)](a26_0x173a67(0x2a2))&&fs['mkdirSync']('./tmp');const storage=multer['diskStorage']({'destination':(_0x167a0c,_0x5ec0b0,_0x18fc74)=>{const _0x1fe0e3=a26_0x173a67;_0x18fc74(null,_0x1fe0e3(0x297));},'filename':(_0x205173,_0x4df0ea,_0x4db29e)=>{const _0x38b5c3=a26_0x173a67;_0x4db29e(null,Date[_0x38b5c3(0x1b1)]()+path['extname'](_0x4df0ea[_0x38b5c3(0x227)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x173a67(0x206)](a26_0x173a67(0x2c4),upload['array']('files'),async(_0x1d6f40,_0x49dbb3)=>{const _0x3edc43=a26_0x173a67,_0x3ad0c6=_0x1d6f40[_0x3edc43(0x294)];if(!_0x1d6f40[_0x3edc43(0x20f)]||_0x1d6f40[_0x3edc43(0x20f)][_0x3edc43(0x301)]===0x0)return _0x49dbb3[_0x3edc43(0x1e1)](0x190)['json']({'message':_0x3edc43(0x1e6)});const _0x25738e=getHotConfig()[_0x3edc43(0x263)],_0x424671=path[_0x3edc43(0x1d8)](_0x25738e,_0x3ad0c6[_0x3edc43(0x26d)]);if(!fs[_0x3edc43(0x1da)](_0x424671))return _0x49dbb3[_0x3edc43(0x1e1)](0x194)[_0x3edc43(0x304)]({'message':_0x3edc43(0x1e7)});const _0x7c4371=_0x1d6f40[_0x3edc43(0x20f)][_0x3edc43(0x2fa)](_0x4fa44f=>({'originalname':_0x4fa44f[_0x3edc43(0x227)],'filename':_0x4fa44f[_0x3edc43(0x273)],'mimetype':_0x4fa44f['mimetype'],'size':_0x4fa44f[_0x3edc43(0x296)]}));_0x7c4371[_0x3edc43(0x2a7)](_0x3bfcae=>{const _0x28cd72=_0x3edc43;fs[_0x28cd72(0x26e)](path[_0x28cd72(0x1d8)]('tmp',_0x3bfcae[_0x28cd72(0x273)]),path[_0x28cd72(0x1d8)](_0x424671,_0x3bfcae[_0x28cd72(0x227)]));}),_0x49dbb3[_0x3edc43(0x1e1)](0xc8)[_0x3edc43(0x304)]({'message':_0x3edc43(0x1f0),'files':_0x7c4371});}),router[a26_0x173a67(0x264)](a26_0x173a67(0x2aa),async(_0x12a01b,_0x17e0e2)=>{const _0x4ad051=a26_0x173a67,_0x140911=path[_0x4ad051(0x1d8)](path['dirname'](require[_0x4ad051(0x299)][_0x4ad051(0x273)]),'CADViewer_config.json'),{config:_0x8b3517}=_0x12a01b['body'];if(!_0x8b3517)return _0x17e0e2['status'](0x190)[_0x4ad051(0x304)]({'message':_0x4ad051(0x1e3)});try{fs['writeFileSync'](_0x140911,JSON[_0x4ad051(0x253)](_0x8b3517,null,0x4)),_0x17e0e2['status'](0xc8)['json']({'message':_0x4ad051(0x211)});}catch(_0x3813c2){_0x17e0e2[_0x4ad051(0x1e1)](0x1f4)['json']({'message':_0x4ad051(0x271)});}}),router[a26_0x173a67(0x264)](a26_0x173a67(0x1cd),async(_0x2efad4,_0x5eb83f)=>{const _0xa90d1=a26_0x173a67,{key:_0x4368b7,value:_0x549d81}=_0x2efad4['body'],_0x212fbe=path['join'](path['dirname'](require[_0xa90d1(0x299)][_0xa90d1(0x273)]),_0xa90d1(0x22b));fs[_0xa90d1(0x226)](_0x212fbe,_0xa90d1(0x1ac),function(_0x204f39,_0x188368){const _0x100601=_0xa90d1;_0x204f39&&_0x5eb83f[_0x100601(0x1e1)](0x1f4)[_0x100601(0x2fe)](_0x204f39);const _0x2f1c17=JSON[_0x100601(0x24a)](_0x188368);_0x2f1c17[_0x4368b7]=_0x549d81;if(_0x4368b7===_0x100601(0x281)){let _0x298d2c='';if(_0x2f1c17[_0x100601(0x1ef)]){_0x298d2c=os[_0x100601(0x210)]();if(_0x298d2c===_0x100601(0x1ee))_0x298d2c=_0x100601(0x2e0);else{if(_0x298d2c===_0x100601(0x1b6))_0x298d2c=_0x100601(0x208);}}else _0x298d2c=_0x2f1c17['platform'];if(_0x298d2c===_0x100601(0x2e0)){_0x2f1c17['ServerLocation']=path[_0x100601(0x286)](__dirname,'..')+'/';const _0xb49cc5=/\\/g;_0x2f1c17[_0x100601(0x1f8)]=_0x2f1c17[_0x100601(0x1f8)]['replace'](_0xb49cc5,'/');}else _0x2f1c17['ServerLocation']=path[_0x100601(0x286)](__dirname,'..')+'/';}if(_0x4368b7==='autodetect_platform'){let _0x3b3364=os[_0x100601(0x210)]();if(_0x3b3364===_0x100601(0x1ee))_0x3b3364=_0x100601(0x2e0);else _0x3b3364=_0x100601(0x208);_0x3b3364===_0x100601(0x2e0)?_0x549d81===!![]&&(_0x2f1c17['autoxchange_executable']=_0x2f1c17['autoxchange_executable_windows'],_0x2f1c17['dwgmerge_executable']=_0x2f1c17['dwgmerge_executable_windows'],_0x2f1c17['linklist_executable']=_0x2f1c17[_0x100601(0x268)]):_0x549d81===!![]&&(_0x2f1c17[_0x100601(0x298)]=_0x2f1c17[_0x100601(0x28e)],_0x2f1c17['dwgmerge_executable']=_0x2f1c17[_0x100601(0x200)],_0x2f1c17[_0x100601(0x2a1)]=_0x2f1c17[_0x100601(0x26a)]),_0x2f1c17[_0x100601(0x210)]=_0x3b3364;}if(_0x2f1c17[_0x100601(0x1ef)]){let _0xafc15d=os[_0x100601(0x210)]();if(_0xafc15d==='win32')_0xafc15d=_0x100601(0x2e0);else _0xafc15d=_0x100601(0x208);if(_0xafc15d==='windows'){if(_0x4368b7==='autoxchange_executable_windows')_0x2f1c17['autoxchange_executable']=_0x549d81;else{if(_0x4368b7===_0x100601(0x2d6))_0x2f1c17['dwgmerge_executable']=_0x549d81;else _0x4368b7==='linklist_executable_windows'&&(_0x2f1c17['linklist_executable']=_0x549d81);}}else{if(_0x4368b7===_0x100601(0x28e))_0x2f1c17['autoxchange_executable']=_0x549d81;else{if(_0x4368b7===_0x100601(0x200))_0x2f1c17[_0x100601(0x2d4)]=_0x549d81;else _0x4368b7===_0x100601(0x26a)&&(_0x2f1c17[_0x100601(0x2a1)]=_0x549d81);}}}fs['writeFile'](_0x212fbe,JSON[_0x100601(0x253)](_0x2f1c17,null,0x4),function(_0xaf9b99){const _0x3e8f5d=_0x100601;_0xaf9b99&&_0x5eb83f[_0x3e8f5d(0x1e1)](0x1f4)[_0x3e8f5d(0x2fe)](_0xaf9b99),_0x5eb83f[_0x3e8f5d(0x1e1)](0xc8)['json']({'message':_0x3e8f5d(0x28a)});});});}),router['post'](a26_0x173a67(0x2e2),async(_0x1247f8,_0x1e09e5)=>{const _0x3146fd=a26_0x173a67,_0x4f175d=getHotConfig(),_0x5779c0=(_0x4f175d[_0x3146fd(0x2f3)]['includes'](_0x4f175d['ServerLocation'])?'':_0x4f175d[_0x3146fd(0x1f8)])+_0x4f175d[_0x3146fd(0x2f3)],_0x31be19=(_0x4f175d[_0x3146fd(0x2f3)][_0x3146fd(0x221)](_0x4f175d[_0x3146fd(0x1f8)])?'':_0x4f175d[_0x3146fd(0x1f8)])+_0x4f175d[_0x3146fd(0x277)],_0x43c30f=(_0x4f175d[_0x3146fd(0x240)][_0x3146fd(0x221)](_0x4f175d[_0x3146fd(0x1f8)])?'':_0x4f175d[_0x3146fd(0x1f8)])+_0x4f175d[_0x3146fd(0x240)],_0x432471=/ax202.*\.exe/,_0x395683=/ax202.*/,_0x5975fc=/dwgmerge202.*\.exe/,_0x5e53ae=/dwgmerge_202.*/,_0x40eb0d=/linklist_202.*\.exe/,_0x11ed02=/linklist_202.*/,_0x14e1bd=[],_0x4b3fcc=[],_0x1ef36c=[],_0x2300d4=[],_0x20d482=[],_0x60772c=[];let _0x847cd6='';if(_0x4f175d[_0x3146fd(0x1ef)]){_0x847cd6=os[_0x3146fd(0x210)]();if(_0x847cd6===_0x3146fd(0x1ee))_0x847cd6=_0x3146fd(0x2e0);else{if(_0x847cd6===_0x3146fd(0x1b6))_0x847cd6=_0x3146fd(0x208);}}else _0x847cd6=_0x4f175d['platform'];fs[_0x3146fd(0x22f)](_0x43c30f[_0x3146fd(0x2a8)](_0x3146fd(0x208),'windows'))[_0x3146fd(0x2a7)](_0x5e12d3=>{const _0x364617=_0x3146fd;if(_0x432471[_0x364617(0x2c8)](_0x5e12d3[_0x364617(0x266)]()))_0x14e1bd[_0x364617(0x2d8)](_0x5e12d3);}),fs[_0x3146fd(0x22f)](_0x5779c0[_0x3146fd(0x2a8)]('linux',_0x3146fd(0x2e0)))[_0x3146fd(0x2a7)](_0x1937e3=>{const _0x26238c=_0x3146fd;if(_0x5975fc[_0x26238c(0x2c8)](_0x1937e3[_0x26238c(0x266)]()))_0x4b3fcc[_0x26238c(0x2d8)](_0x1937e3);}),fs[_0x3146fd(0x22f)](_0x31be19[_0x3146fd(0x2a8)](_0x3146fd(0x208),_0x3146fd(0x2e0)))['forEach'](_0x6653b3=>{const _0x5cc21a=_0x3146fd;if(_0x40eb0d['test'](_0x6653b3[_0x5cc21a(0x266)]()))_0x1ef36c[_0x5cc21a(0x2d8)](_0x6653b3);}),fs[_0x3146fd(0x22f)](_0x43c30f[_0x3146fd(0x2a8)](_0x3146fd(0x2e0),_0x3146fd(0x208)))[_0x3146fd(0x2a7)](_0x519dfd=>{const _0x1910d3=_0x3146fd;if(_0x395683[_0x1910d3(0x2c8)](_0x519dfd[_0x1910d3(0x266)]()))_0x2300d4[_0x1910d3(0x2d8)](_0x519dfd);}),fs[_0x3146fd(0x22f)](_0x5779c0[_0x3146fd(0x2a8)]('windows',_0x3146fd(0x208)))[_0x3146fd(0x2a7)](_0x25833a=>{const _0x4c9b6a=_0x3146fd;if(_0x5e53ae[_0x4c9b6a(0x2c8)](_0x25833a[_0x4c9b6a(0x266)]()))_0x20d482[_0x4c9b6a(0x2d8)](_0x25833a);}),fs[_0x3146fd(0x22f)](_0x31be19[_0x3146fd(0x2a8)]('windows',_0x3146fd(0x208)))[_0x3146fd(0x2a7)](_0x5232fd=>{const _0xba810f=_0x3146fd;if(_0x11ed02[_0xba810f(0x2c8)](_0x5232fd['toLocaleLowerCase']()))_0x60772c['push'](_0x5232fd);});const _0x3fa9a5=['ServerPort',_0x3146fd(0x291),'converterpathWin',_0x3146fd(0x1e5),'fontLocation'],_0x417411=['fileLocation',_0x3146fd(0x24e),_0x3146fd(0x240),'licenseLocation',_0x3146fd(0x2ac),'temp_print_folder','callbackMethod','dwgmergeLocation',_0x3146fd(0x277),'version'],_0x180104=['ServerUrl','mysqlHost',_0x3146fd(0x1df),'mysqlPassword',_0x3146fd(0x21d),_0x3146fd(0x1a1),_0x3146fd(0x1f9)],_0x4407a7={'ServerUrl':_0x3146fd(0x1b4),'autoxchange_executable':'AutoXchange\x20Settings','linklist_executable':_0x3146fd(0x2dc),'dwgmerge_executable':_0x3146fd(0x279),'setup_mysqlHost':'Database\x20Settings','callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':'Demo\x20and\x20Base\x20User\x20Settings'},_0x53c131={'https':_0x3146fd(0x1dd),'ServerFrontEndUrlAsAllowedOriginOnly':_0x3146fd(0x1dd),'autodetect_platform':_0x3146fd(0x1dd),'cvjs_svgz_compress':_0x3146fd(0x1dd),'cached_conversion':_0x3146fd(0x1dd),'remainOnServer':_0x3146fd(0x1dd),'cvjs_debug':_0x3146fd(0x1dd),'autodetect_location':_0x3146fd(0x1dd),'platform':_0x3146fd(0x223),'autoxchange_executable':'radio|'+(_0x847cd6===_0x3146fd(0x2e0)?_0x14e1bd['join'](','):_0x2300d4[_0x3146fd(0x1d8)](',')),'autoxchange_executable_windows':_0x3146fd(0x201)+_0x14e1bd[_0x3146fd(0x1d8)](','),'autoxchange_executable_linux':_0x3146fd(0x201)+_0x2300d4[_0x3146fd(0x1d8)](','),'dwgmerge_executable':'radio|'+(_0x847cd6===_0x3146fd(0x2e0)?_0x4b3fcc[_0x3146fd(0x1d8)](','):_0x20d482['join'](',')),'dwgmerge_executable_windows':_0x3146fd(0x201)+_0x4b3fcc[_0x3146fd(0x1d8)](','),'dwgmerge_executable_linux':_0x3146fd(0x201)+_0x20d482[_0x3146fd(0x1d8)](','),'linklist_executable':_0x3146fd(0x201)+(_0x847cd6===_0x3146fd(0x2e0)?_0x1ef36c[_0x3146fd(0x1d8)](','):_0x60772c[_0x3146fd(0x1d8)](',')),'linklist_executable_windows':_0x3146fd(0x201)+_0x1ef36c[_0x3146fd(0x1d8)](','),'linklist_executable_linux':_0x3146fd(0x201)+_0x60772c['join'](','),'callbackMethod_gatewayUrl_flag':_0x3146fd(0x1dd),'setup_mysqlHost':'boolean','ContentSecurityPolicyReportOnly':_0x3146fd(0x1dd),'fileLoad_PasswordAuthentication':_0x3146fd(0x1dd),'contentLocationCheck':_0x3146fd(0x1dd),'globalBearerAutentication':_0x3146fd(0x1dd),'bcryptSaltRounds':_0x3146fd(0x1c3),'userFolderMaximumFiles':_0x3146fd(0x1c3),'userFolderMaximumSizeInMB':_0x3146fd(0x1c3)},_0x303c23={},_0x20e5fb=Object[_0x3146fd(0x2d1)](_0x4f175d);_0x4f175d[_0x3146fd(0x1ef)]&&_0x3fa9a5[_0x3146fd(0x2d8)]('platform'),_0x4f175d['autodetect_location']&&(_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x1f8)),_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x298)),_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x2d4)),_0x417411[_0x3146fd(0x2d8)]('linklist_executable')),!_0x4f175d[_0x3146fd(0x244)]&&_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x21c)),!_0x4f175d['setup_mysqlHost']&&(_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x274)),_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x1df)),_0x417411[_0x3146fd(0x2d8)]('mysqlPassword'),_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x21d))),!_0x4f175d['ContentSecurityPolicyReportOnly']&&_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x2b6)),!_0x4f175d[_0x3146fd(0x2dd)]&&(_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x1d3)),_0x417411[_0x3146fd(0x2d8)]('fileLoad_Password')),!_0x4f175d[_0x3146fd(0x256)]&&_0x417411[_0x3146fd(0x2d8)](_0x3146fd(0x2c1)),_0x20e5fb['forEach'](_0xc0ba7a=>{const _0x559c37=_0x3146fd;!_0x3fa9a5[_0x559c37(0x221)](_0xc0ba7a)&&(_0x303c23[_0xc0ba7a]=_0x4f175d[_0xc0ba7a]);}),_0x303c23[_0x3146fd(0x24e)]=''+_0x4f175d[_0x3146fd(0x1e0)]+_0x4f175d['fileLocation'],_0x1e09e5['status'](0xc8)[_0x3146fd(0x304)]({'notEditableFields':_0x417411,'customFieldTypes':_0x53c131,'notHotEditableFields':_0x180104,'config':_0x303c23,'fieldsTitle':_0x4407a7,'configData':_0x4f175d});}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x246),async(_0x1b500d,_0x4ac273)=>{const _0x175956=a26_0x173a67,_0x1e6e43=fs[_0x175956(0x1e2)](path[_0x175956(0x1d8)](path[_0x175956(0x2f4)](require[_0x175956(0x299)][_0x175956(0x273)]),_0x175956(0x2d7)),'utf8'),_0x49e3e7=_0x1e6e43['replaceAll'](_0x175956(0x1b5),_0x1b500d['version']);_0x4ac273['send'](_0x49e3e7);});function findMatchingLogFiles(_0x18a16f,_0x5427ff=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x314517=a26_0x173a67;try{const _0x22121c=fs[_0x314517(0x22f)](_0x18a16f);return _0x22121c[_0x314517(0x1c9)](_0x502017=>_0x5427ff[_0x314517(0x2c8)](_0x502017))[_0x314517(0x2fa)](_0x42b36c=>_0x42b36c[_0x314517(0x2a8)](_0x314517(0x22e),'')[_0x314517(0x2a8)]('.log',''));}catch(_0x8ee90f){return console[_0x314517(0x1bf)]('Error\x20finding\x20log\x20files:',_0x8ee90f),[];}}router[a26_0x173a67(0x206)](a26_0x173a67(0x2b3),async(_0x29bba5,_0x47044a)=>{const _0x100996=a26_0x173a67,_0x984b45=new Date(),_0x25985a=_0x984b45[_0x100996(0x27a)]()[_0x100996(0x2e1)]()['padStart'](0x2,'0')+'_'+(_0x984b45[_0x100996(0x2e5)]()+0x1)[_0x100996(0x2e1)]()[_0x100996(0x1be)](0x2,'0')+'_'+_0x984b45[_0x100996(0x2c7)](),{displayDay:_0x46ea30}=_0x29bba5[_0x100996(0x294)],_0xed536a=path[_0x100996(0x1d8)](path[_0x100996(0x2f4)](require[_0x100996(0x299)]['filename']),_0x100996(0x22c),_0x100996(0x22e)+(_0x46ea30??_0x25985a)+_0x100996(0x220));fs[_0x100996(0x1da)](_0xed536a)?fs[_0x100996(0x226)](_0xed536a,_0x100996(0x1ac),function(_0x42c843,_0x4ca719){const _0x409a8c=_0x100996;_0x42c843&&_0x47044a[_0x409a8c(0x1e1)](0x1f4)[_0x409a8c(0x2fe)](_0x42c843),_0x47044a[_0x409a8c(0x1e1)](0xc8)[_0x409a8c(0x304)]({'content':_0x4ca719,'days':findMatchingLogFiles(path[_0x409a8c(0x1d8)](path[_0x409a8c(0x2f4)](require['main']['filename']),_0x409a8c(0x22c)))});}):_0x47044a[_0x100996(0x1e1)](0xc8)[_0x100996(0x304)]({'content':'','days':findMatchingLogFiles(path[_0x100996(0x1d8)](path[_0x100996(0x2f4)](require[_0x100996(0x299)][_0x100996(0x273)]),_0x100996(0x22c)))});}),router[a26_0x173a67(0x26f)](a26_0x173a67(0x27e),async(_0x18a019,_0x24ec9b)=>{const _0x22be62=a26_0x173a67,_0x3660fe=new Date(),_0x4a3b85=_0x3660fe[_0x22be62(0x27a)]()[_0x22be62(0x2e1)]()[_0x22be62(0x1be)](0x2,'0')+'_'+(_0x3660fe['getMonth']()+0x1)[_0x22be62(0x2e1)]()['padStart'](0x2,'0')+'_'+_0x3660fe[_0x22be62(0x2c7)](),_0x29d0cc=findMatchingLogFiles(path[_0x22be62(0x1d8)](path['dirname'](require[_0x22be62(0x299)][_0x22be62(0x273)]),_0x22be62(0x22c)));_0x29d0cc[_0x22be62(0x2a7)](_0x402824=>{const _0x5a82d8=_0x22be62;if(_0x402824!==_0x4a3b85)fs[_0x5a82d8(0x280)](path[_0x5a82d8(0x1d8)](path[_0x5a82d8(0x2f4)](require[_0x5a82d8(0x299)][_0x5a82d8(0x273)]),_0x5a82d8(0x22c),_0x5a82d8(0x22e)+_0x402824+'.log'));}),logStream[_0x22be62(0x1fd)](),_0x24ec9b[_0x22be62(0x1e1)](0xc8)['json']({'message':_0x22be62(0x1f3)});}),router['get'](a26_0x173a67(0x27d),async(_0x3d22d2,_0x5cecc7)=>{const _0x38e0db=a26_0x173a67,_0x5e4db5=path[_0x38e0db(0x1d8)](path[_0x38e0db(0x2f4)](require[_0x38e0db(0x299)][_0x38e0db(0x273)]),_0x38e0db(0x2a5));if(!fs['existsSync'](_0x5e4db5)){const _0x41460d={'jsonDataExtraction':{'standard':[{'paramName':_0x38e0db(0x304),'paramValue':''},{'paramName':_0x38e0db(0x262),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x38e0db(0x1c4)},{'paramName':_0x38e0db(0x22a),'paramValue':''},{'paramName':_0x38e0db(0x283),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x38e0db(0x2e6)},{'paramName':_0x38e0db(0x22a),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x38e0db(0x1c4)},{'paramName':'model','paramValue':''},{'paramName':_0x38e0db(0x283),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x38e0db(0x1e8),'paramValue':''}]}};fs[_0x38e0db(0x28d)](_0x5e4db5,JSON[_0x38e0db(0x253)](_0x41460d,null,0x4));}const _0x23ca2f=fs[_0x38e0db(0x1e2)](path[_0x38e0db(0x1d8)](path['dirname'](require['main'][_0x38e0db(0x273)]),_0x38e0db(0x1a9)),_0x38e0db(0x1ac)),_0xd435c9=_0x23ca2f['replaceAll'](_0x38e0db(0x1b5),_0x3d22d2[_0x38e0db(0x2f1)]);_0x5cecc7[_0x38e0db(0x2fe)](_0xd435c9);}),router['post']('/restapi-test/parameters/search',async(_0x2944dc,_0x67ae29)=>{const _0x4040b8=a26_0x173a67,{actionName:_0x23c4d4,contentLocation:_0x2d857b}=_0x2944dc['body'],_0x22bcdf=path[_0x4040b8(0x1d8)](path[_0x4040b8(0x2f4)](require['main'][_0x4040b8(0x273)]),_0x4040b8(0x2a5));fs[_0x4040b8(0x226)](_0x22bcdf,_0x4040b8(0x1ac),function(_0x567497,_0x2096c5){const _0x49225a=_0x4040b8;if(_0x567497)_0x67ae29['status'](0xc8)[_0x49225a(0x304)]({'parameters':[]});else{const _0x45025f=JSON['parse'](_0x2096c5);if(_0x45025f[_0x23c4d4]&&_0x45025f[_0x23c4d4][_0x2d857b])_0x67ae29['status'](0xc8)[_0x49225a(0x304)]({'parameters':_0x45025f[_0x23c4d4][_0x2d857b]});else _0x45025f[_0x23c4d4]&&_0x45025f[_0x23c4d4][_0x49225a(0x28f)]?_0x67ae29['status'](0xc8)[_0x49225a(0x304)]({'parameters':_0x45025f[_0x23c4d4][_0x49225a(0x28f)]}):_0x67ae29[_0x49225a(0x1e1)](0xc8)[_0x49225a(0x304)]({'parameters':[]});}});}),router[a26_0x173a67(0x206)](a26_0x173a67(0x252),async(_0x391f02,_0x463b58)=>{const _0x3b93a8=a26_0x173a67,{actionName:_0x3e67ff,contentLocation:_0xe64719,parameters:_0x3521e8}=_0x391f02['body'],_0x15c65d=path[_0x3b93a8(0x1d8)](path[_0x3b93a8(0x2f4)](require[_0x3b93a8(0x299)]['filename']),_0x3b93a8(0x2a5));fs[_0x3b93a8(0x226)](_0x15c65d,'utf8',function(_0x2605e4,_0x1b5736){const _0x2553b6=_0x3b93a8;if(_0x2605e4)_0x463b58[_0x2553b6(0x1e1)](0x199)[_0x2553b6(0x304)]({'message':_0x2553b6(0x20a)});else{const _0x4c9fc5=JSON[_0x2553b6(0x24a)](_0x1b5736);!_0x4c9fc5[_0x3e67ff]&&(_0x4c9fc5[_0x3e67ff]={}),_0x4c9fc5[_0x3e67ff][_0xe64719]=_0x3521e8,fs[_0x2553b6(0x2ff)](_0x15c65d,JSON[_0x2553b6(0x253)](_0x4c9fc5,null,0x4),function(_0x14e4b4){const _0x550454=_0x2553b6;_0x14e4b4&&_0x463b58[_0x550454(0x1e1)](0x199)['json']({'message':_0x550454(0x20a)}),_0x463b58[_0x550454(0x1e1)](0xc8)[_0x550454(0x304)]({'message':'Parameters\x20saved.'});});}});}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x23b),async(_0x2f9f4e,_0x301d83)=>{const _0xce7156=a26_0x173a67,_0xb0a810=fs[_0xce7156(0x1e2)](path['join'](path[_0xce7156(0x2f4)](require[_0xce7156(0x299)][_0xce7156(0x273)]),_0xce7156(0x1fe)),'utf8'),_0x4d3710=_0xb0a810[_0xce7156(0x2a8)]('{version}',_0x2f9f4e[_0xce7156(0x2f1)]);_0x301d83[_0xce7156(0x2fe)](_0x4d3710);}),router[a26_0x173a67(0x206)](a26_0x173a67(0x2f6),async(_0x2ff031,_0x137dad)=>{const _0x51550a=a26_0x173a67,_0x9a1824=getHotConfig(),_0x57d902=_0x9a1824[_0x51550a(0x240)]['replaceAll']('//','/'),_0xce7b41=_0x9a1824[_0x51550a(0x2f3)][_0x51550a(0x2a8)]('//','/'),_0x10c73b=_0x9a1824['linklistLocation'][_0x51550a(0x2a8)]('//','/'),_0x2ac6e2=''+_0x57d902+_0x9a1824[_0x51550a(0x298)],_0x1c356e=''+_0xce7b41+_0x9a1824[_0x51550a(0x2d4)],_0x11f3c0=''+_0x10c73b+_0x9a1824['linklist_executable'],_0x4b2259=[],_0x29fcf9=new Promise(_0x35e151=>{const _0x16fe95=_0x51550a;exec(os['platform']()==='win32'?_0x16fe95(0x1ed):'ls',_0x3d4a38=>{_0x3d4a38?_0x4b2259['push']({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':![],'priority':0x1}):_0x4b2259['push']({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':!![],'priority':0x1}),_0x35e151();});}),_0x29d281=new Promise(_0x51ec8e=>{const _0x242327=_0x51550a;fs[_0x242327(0x295)](_0x2ac6e2,fs[_0x242327(0x2ed)][_0x242327(0x1a6)],_0x40c676=>{const _0x1259cd=_0x242327;_0x40c676?_0x4b2259['push']({'title':_0x1259cd(0x257)+_0x9a1824[_0x1259cd(0x298)]+_0x1259cd(0x1fc),'status':![],'priority':0x2}):_0x4b2259[_0x1259cd(0x2d8)]({'title':_0x1259cd(0x257)+_0x9a1824[_0x1259cd(0x298)]+_0x1259cd(0x1fc),'status':!![],'priority':0x2}),_0x51ec8e();});}),_0x456d93=new Promise(_0xc0d40c=>{const _0x29db75=_0x51550a;fs['access'](_0x1c356e,fs[_0x29db75(0x2ed)]['X_OK'],_0x56ea00=>{const _0x3139d8=_0x29db75;_0x56ea00?_0x4b2259[_0x3139d8(0x2d8)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x9a1824['dwgmerge_executable']+'\x22\x20executable','status':![],'priority':0x3}):_0x4b2259['push']({'title':_0x3139d8(0x257)+_0x9a1824['dwgmerge_executable']+_0x3139d8(0x1fc),'status':!![],'priority':0x3}),_0xc0d40c();});}),_0x263467=new Promise(_0x28571a=>{const _0x122035=_0x51550a;fs[_0x122035(0x295)](_0x11f3c0,fs[_0x122035(0x2ed)][_0x122035(0x1a6)],_0x226e61=>{const _0x3a1468=_0x122035;_0x226e61?_0x4b2259[_0x3a1468(0x2d8)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x9a1824[_0x3a1468(0x2a1)]+_0x3a1468(0x1fc),'status':![],'priority':0x4}):_0x4b2259[_0x3a1468(0x2d8)]({'title':_0x3a1468(0x257)+_0x9a1824[_0x3a1468(0x2a1)]+_0x3a1468(0x1fc),'status':!![],'priority':0x4}),_0x28571a();});}),_0x579960=new Promise(_0x207f58=>{const _0x237c9e=_0x51550a,_0x387fef=new Date(),_0x4603d4=_0x387fef[_0x237c9e(0x27a)]()[_0x237c9e(0x2e1)]()[_0x237c9e(0x1be)](0x2,'0')+'_'+(_0x387fef[_0x237c9e(0x2e5)]()+0x1)[_0x237c9e(0x2e1)]()['padStart'](0x2,'0')+'_'+_0x387fef[_0x237c9e(0x2c7)](),{displayDay:_0x38c0ed}=_0x2ff031[_0x237c9e(0x294)];fs['access'](path[_0x237c9e(0x1d8)](path['dirname'](require[_0x237c9e(0x299)]['filename']),_0x237c9e(0x22c),_0x237c9e(0x22e)+(_0x38c0ed??_0x4603d4)+_0x237c9e(0x220)),fs[_0x237c9e(0x2ed)][_0x237c9e(0x2b7)],_0x27751c=>{const _0x4c9be7=_0x237c9e;_0x27751c?_0x4b2259[_0x4c9be7(0x2d8)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x38c0ed??_0x4603d4)+_0x4c9be7(0x1ca),'status':![],'priority':0x5}):_0x4b2259[_0x4c9be7(0x2d8)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x38c0ed??_0x4603d4)+_0x4c9be7(0x1ca),'status':!![],'priority':0x5}),_0x207f58();});}),_0x497595=(_0x3ec548,_0x12df7c)=>{const _0x15d801=_0x51550a,_0x3ffe79=path['join'](path['dirname'](require[_0x15d801(0x299)][_0x15d801(0x273)]),_0x3ec548);return new Promise(_0x41888d=>{const _0x31e5da=_0x15d801;fs[_0x31e5da(0x295)](path['join'](path['dirname'](_0x3ffe79)),fs[_0x31e5da(0x2ed)]['R_OK']|fs[_0x31e5da(0x2ed)][_0x31e5da(0x2b7)],_0x323dd6=>{const _0x266599=_0x31e5da;_0x323dd6?_0x4b2259[_0x266599(0x2d8)]({'title':_0x266599(0x2b4)+_0x3ec548,'status':![],'priority':_0x12df7c+0x6}):_0x4b2259[_0x266599(0x2d8)]({'title':_0x266599(0x2b4)+_0x3ec548,'status':!![],'priority':_0x12df7c+0x6}),_0x41888d();});});},_0x460620=[_0x51550a(0x203),_0x51550a(0x2d5),_0x51550a(0x1f4),_0x51550a(0x1f1),'/converters/files/pdf/','/content/redlines/',_0x51550a(0x245)],_0xb112fc=_0x460620[_0x51550a(0x2fa)](_0x497595);Promise[_0x51550a(0x1cc)]([_0x29fcf9,_0x29d281,_0x456d93,_0x263467,_0x579960,..._0xb112fc])[_0x51550a(0x292)](()=>{const _0x4a3d64=_0x51550a;_0x137dad[_0x4a3d64(0x1e1)](0xc8)[_0x4a3d64(0x304)]({'checking_list':_0x4b2259});})[_0x51550a(0x2d3)](()=>{const _0x29e4f5=_0x51550a;_0x137dad['status'](0x1f4)['json']({'error':_0x29e4f5(0x222)});});}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x272),async(_0x15221a,_0x59ccf0)=>{const _0x27950f=a26_0x173a67,_0x4b5465=fs['readFileSync'](path['join'](path[_0x27950f(0x2f4)](require[_0x27950f(0x299)][_0x27950f(0x273)]),_0x27950f(0x1bb)),'utf8'),_0x1f0395=_0x4b5465[_0x27950f(0x2a8)](_0x27950f(0x1b5),_0x15221a[_0x27950f(0x2f1)]);_0x59ccf0[_0x27950f(0x2fe)](_0x1f0395);}),router['post'](a26_0x173a67(0x2cc),async(_0x3d58f6,_0x4f2e4f)=>{const _0x45fb0e=a26_0x173a67;let _0x50ea8e;try{const [_0x2cc157]=await conn[_0x45fb0e(0x2cd)]()[_0x45fb0e(0x21e)](_0x45fb0e(0x2f8),[]);_0x50ea8e=_0x2cc157;}catch(_0x10d32b){console[_0x45fb0e(0x2ec)]({'err':_0x10d32b}),_0x4f2e4f[_0x45fb0e(0x1e1)](0x1f4)[_0x45fb0e(0x304)]({'error':_0x45fb0e(0x1ab)});return;}_0x4f2e4f[_0x45fb0e(0x1e1)](0xc8)[_0x45fb0e(0x304)]({'success':!![],'data':_0x50ea8e});}),router['post'](a26_0x173a67(0x272),upload[a26_0x173a67(0x2bc)](a26_0x173a67(0x2de)),async(_0x2d9891,_0xab4865)=>{const _0x1f7f2f=a26_0x173a67,{id:_0x3e7d12,first_name:_0x551bca,last_name:_0x2776e9,username:_0xacaf46,email:_0x5cdb58,password:_0x547fd6,is_enabled:_0x59ae60}=_0x2d9891[_0x1f7f2f(0x294)],_0x2fa4a3=_0x2d9891[_0x1f7f2f(0x294)][_0x1f7f2f(0x275)]===_0x1f7f2f(0x29a)?_0x1f7f2f(0x29a):_0x1f7f2f(0x29f);let _0x4d9ea1;console[_0x1f7f2f(0x2ec)](_0x1f7f2f(0x2e3));_0x547fd6&&(_0x4d9ea1=await bcrypt[_0x1f7f2f(0x22d)](_0x547fd6,0xa));let _0x5bbb43=null;if(_0x2d9891[_0x1f7f2f(0x25a)]){const _0x3664d7=_0x1f7f2f(0x2ae)+randomUUID()+_0x1f7f2f(0x1b2);fs['renameSync'](_0x2d9891[_0x1f7f2f(0x25a)][_0x1f7f2f(0x26d)],'./'+_0x3664d7),_0x5bbb43=config['ServerUrl']+'/'+_0x3664d7;}if(_0x3e7d12){try{let [_0x237f69]=await conn[_0x1f7f2f(0x2cd)]()[_0x1f7f2f(0x21e)](_0x1f7f2f(0x1a3),[_0x5cdb58,_0xacaf46,_0x3e7d12]);if(_0x237f69[_0x1f7f2f(0x301)]>0x0)_0xab4865[_0x1f7f2f(0x1e1)](0x199)['json']({'error':_0x1f7f2f(0x1fb)});else{!_0x2d9891['file']&&([_0x237f69]=await conn[_0x1f7f2f(0x2cd)]()['execute'](_0x1f7f2f(0x28b),[_0x3e7d12]),_0x5bbb43=_0x237f69[0x0]['avatar_url']);const _0x37fe62=_0x1f7f2f(0x284)+(_0x547fd6?'`crypted_password`\x20=\x20?,\x20':'')+_0x1f7f2f(0x1f7);await conn[_0x1f7f2f(0x2cd)]()['execute'](_0x37fe62,_0x547fd6?[_0x5bbb43,_0x551bca,_0x2776e9,_0xacaf46,_0x5cdb58,_0x4d9ea1,_0x59ae60,_0x2fa4a3,_0x3e7d12]:[_0x5bbb43,_0x551bca,_0x2776e9,_0xacaf46,_0x5cdb58,_0x59ae60,_0x2fa4a3,_0x3e7d12]);}}catch(_0x541da1){console[_0x1f7f2f(0x2ec)](_0x541da1),_0xab4865[_0x1f7f2f(0x1e1)](0x1f4)['json']({'error':_0x1f7f2f(0x1ab)});return;}_0xab4865[_0x1f7f2f(0x1e1)](0xc8)[_0x1f7f2f(0x304)]({'success':!![],'message':_0x1f7f2f(0x1a5)});}else{try{const [_0x34f87f]=await conn[_0x1f7f2f(0x2cd)]()[_0x1f7f2f(0x21e)](_0x1f7f2f(0x29c),[_0x5cdb58,_0xacaf46]);if(_0x34f87f[_0x1f7f2f(0x301)]>0x0)_0xab4865[_0x1f7f2f(0x1e1)](0x199)[_0x1f7f2f(0x304)]({'error':_0x1f7f2f(0x1fb)});else{const _0xdc57de=randomUUID();await conn[_0x1f7f2f(0x2cd)]()[_0x1f7f2f(0x21e)]('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x5bbb43,_0x551bca,_0x2776e9,_0xacaf46,_0x5cdb58,_0x4d9ea1,_0x2fa4a3,_0x59ae60,_0xdc57de]);const _0x87243e=_0x1f7f2f(0x1b0)+_0xdc57de;fs[_0x1f7f2f(0x2df)](_0x87243e);}}catch(_0x14b492){console[_0x1f7f2f(0x2ec)](_0x14b492),_0xab4865['status'](0x1f4)['json']({'error':_0x1f7f2f(0x1ab)});return;}_0xab4865['status'](0xc8)[_0x1f7f2f(0x304)]({'success':!![],'message':_0x1f7f2f(0x1af)});}}),router[a26_0x173a67(0x26f)](a26_0x173a67(0x216),async(_0xe2a835,_0x4df706)=>{const _0x46704e=a26_0x173a67,{userId:_0x386c02}=_0xe2a835[_0x46704e(0x294)];let _0xa8c53f;try{const [_0x26035c]=await conn[_0x46704e(0x2cd)]()[_0x46704e(0x21e)](_0x46704e(0x28b),[_0x386c02]);_0x26035c[_0x46704e(0x301)]>0x0&&(_0xa8c53f=_0x26035c[0x0]);}catch(_0x1dc4fc){console['log']({'err':_0x1dc4fc}),_0x4df706['status'](0x1f4)[_0x46704e(0x304)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0xa8c53f){_0x4df706[_0x46704e(0x1e1)](0x191)[_0x46704e(0x304)]({'error':_0x46704e(0x2a4)});return;}let _0x46e4c9=_0xa8c53f[_0x46704e(0x2c5)];if(!_0x46e4c9){_0x46e4c9=randomUUID();try{await conn[_0x46704e(0x2cd)]()[_0x46704e(0x21e)]('UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x46e4c9,_0x386c02]);}catch(_0x78c98a){console[_0x46704e(0x2ec)]({'err':_0x78c98a}),_0x4df706[_0x46704e(0x1e1)](0x1f4)[_0x46704e(0x304)]({'error':_0x46704e(0x1ab)});return;}}const _0x4ec33f=_0x46704e(0x1b0)+_0x46e4c9;console[_0x46704e(0x2ec)](_0x46704e(0x1d2)),console['log'](_0x4ec33f),!fs[_0x46704e(0x1da)](_0x4ec33f)&&fs[_0x46704e(0x2df)](_0x4ec33f),fs[_0x46704e(0x2ab)](_0x4ec33f,{'recursive':!![],'force':!![]}),fs[_0x46704e(0x2df)](_0x4ec33f),_0x4df706['status'](0xc8)['json']({'success':!![],'message':_0x46704e(0x23e)});}),router[a26_0x173a67(0x26f)](a26_0x173a67(0x2f2),async(_0x283787,_0x210b58)=>{const _0x4413a6=a26_0x173a67,_0x699b71=_0x283787[_0x4413a6(0x21b)][_0x4413a6(0x2fd)];try{let _0x318df1;try{const [_0x135550]=await conn['promise']()[_0x4413a6(0x21e)](_0x4413a6(0x28b),[_0x699b71]);_0x135550[_0x4413a6(0x301)]>0x0&&(_0x318df1=_0x135550[0x0]);}catch(_0x2b9d81){console[_0x4413a6(0x2ec)]({'err':_0x2b9d81}),_0x210b58[_0x4413a6(0x1e1)](0x1f4)[_0x4413a6(0x304)]({'error':_0x4413a6(0x1ab)});return;}if(!_0x318df1){_0x210b58[_0x4413a6(0x1e1)](0x191)[_0x4413a6(0x304)]({'error':_0x4413a6(0x2a4)});return;}let _0x4112ae=_0x318df1[_0x4413a6(0x2c5)];if(_0x4112ae){const _0xde9cc='./uploads/'+_0x4112ae;fs['existsSync'](_0xde9cc)&&fs[_0x4413a6(0x2ab)](_0xde9cc,{'recursive':!![],'force':!![]});}await conn['promise']()[_0x4413a6(0x21e)](_0x4413a6(0x239),[_0x699b71]);}catch(_0x5be275){console[_0x4413a6(0x2ec)](_0x5be275),_0x210b58[_0x4413a6(0x1e1)](0x1f4)[_0x4413a6(0x304)]({'error':_0x4413a6(0x1ab)});return;}_0x210b58['status'](0xc8)[_0x4413a6(0x304)]({'success':!![],'message':_0x4413a6(0x27b)});}),router['get'](a26_0x173a67(0x2be),async(_0x4c655d,_0x3fcf05)=>{const _0x40ca55=a26_0x173a67,_0x11f34d=osu[_0x40ca55(0x2a0)],_0x2c6888=osu['mem'],_0x23fd31=osu['drive'],_0x39b3bf=osu['os'],_0x228237={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x5d96be=os[_0x40ca55(0x210)]()==='win32'?'c:':'/';const _0x4769dc=await _0x23fd31[_0x40ca55(0x21f)](_0x5d96be);_0x228237[_0x40ca55(0x2f5)]=_0x4769dc[_0x40ca55(0x1d1)],_0x228237[_0x40ca55(0x1a4)]=_0x4769dc[_0x40ca55(0x249)],_0x228237[_0x40ca55(0x1c6)]=_0x4769dc['freeGb'],_0x228237['totalGB']=_0x4769dc['totalGb'];}catch(_0x496102){console[_0x40ca55(0x2ec)](_0x40ca55(0x234),_0x496102);}const _0x12c6ad={'usage':0x0,'count':0x0};try{_0x12c6ad[_0x40ca55(0x1c8)]=await _0x11f34d[_0x40ca55(0x1c8)](),_0x12c6ad[_0x40ca55(0x2f0)]=_0x11f34d[_0x40ca55(0x2f0)]();}catch(_0x3225f5){console[_0x40ca55(0x2ec)]('Error\x20getting\x20cpu\x20usage',_0x3225f5);}const _0x4f8704={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x4f8704['os']=await _0x39b3bf[_0x40ca55(0x2c3)](),_0x4f8704['platform']=_0x39b3bf[_0x40ca55(0x210)](),_0x4f8704['ip']=_0x39b3bf['ip'](),_0x4f8704[_0x40ca55(0x308)]=_0x39b3bf[_0x40ca55(0x308)](),_0x4f8704[_0x40ca55(0x250)]=_0x39b3bf[_0x40ca55(0x250)](),_0x4f8704[_0x40ca55(0x278)]=_0x39b3bf[_0x40ca55(0x278)](),_0x4f8704[_0x40ca55(0x2af)]=_0x39b3bf[_0x40ca55(0x2af)](),_0x4f8704['who']=await osu[_0x40ca55(0x248)][_0x40ca55(0x229)](),_0x4f8704['whoami']=await osu[_0x40ca55(0x248)][_0x40ca55(0x1bd)](),_0x4f8704[_0x40ca55(0x25f)]=await osu[_0x40ca55(0x248)][_0x40ca55(0x25f)]();}catch(_0x1e1cac){console['log'](_0x40ca55(0x2ba),_0x1e1cac);}const _0x5dee34={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x5dee34[_0x40ca55(0x25c)]=await osu[_0x40ca55(0x2f9)]['totalProcesses'](),_0x5dee34[_0x40ca55(0x2db)]=await osu[_0x40ca55(0x2f9)][_0x40ca55(0x2db)]();}catch(_0x13518c){console['log'](_0x40ca55(0x290),_0x13518c);}let _0x4031c8={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x14037=await _0x2c6888[_0x40ca55(0x21f)]();_0x4031c8[_0x40ca55(0x2bb)]=_0x14037[_0x40ca55(0x2bb)],_0x4031c8[_0x40ca55(0x29b)]=_0x14037[_0x40ca55(0x217)]/0x400/0x400,_0x4031c8[_0x40ca55(0x1ea)]=_0x14037[_0x40ca55(0x1bc)]/0x400/0x400;}catch(_0x103c07){console['log']('Error\x20getting\x20memory\x20info',_0x103c07);}let _0x2203e4=0x0;try{_0x2203e4=await conn[_0x40ca55(0x2cd)]()[_0x40ca55(0x236)](_0x40ca55(0x24c))[_0x40ca55(0x292)](([_0x4ba3ed])=>_0x4ba3ed[0x0][_0x40ca55(0x1bc)]);}catch(_0x4b905b){console[_0x40ca55(0x2ec)](_0x40ca55(0x2fc),_0x4b905b);}const _0x526908=getMonitoringData(),_0x34375f=_0x526908[_0x40ca55(0x1c9)](_0x51775b=>_0x51775b[_0x40ca55(0x2b1)]!==null&&_0x51775b[_0x40ca55(0x2b1)]!==undefined),_0x4fd4a5=_0x526908['filter'](_0x45f992=>_0x45f992[_0x40ca55(0x265)]!==null&&_0x45f992[_0x40ca55(0x265)]!==undefined)[_0x40ca55(0x2fa)](_0x8fed73=>parseFloat(_0x8fed73['conversionMemoryUsage'][_0x40ca55(0x2a8)]('Kb')[_0x40ca55(0x26c)]())),_0x1b7a78=_0x34375f[_0x40ca55(0x27c)]((_0x196dc5,_0x2d3fa0)=>_0x196dc5+parseFloat(_0x2d3fa0[_0x40ca55(0x2b1)]),0x0)/_0x34375f[_0x40ca55(0x301)],_0x207186=_0x4fd4a5[_0x40ca55(0x27c)]((_0x3ad7be,_0x38c5ac)=>_0x3ad7be+_0x38c5ac,0x0)/_0x4fd4a5[_0x40ca55(0x301)];_0x3fcf05[_0x40ca55(0x304)]({'requestsPerSecond':counter['getStats'](),'diskUsage':_0x228237,'cpus':_0x12c6ad,'system':_0x4f8704,'process':_0x5dee34,'totalMonitoringData':_0x526908[_0x40ca55(0x301)],'memory':_0x4031c8,'totalUsers':_0x2203e4,'avgConvertionTime':_0x1b7a78,'avgMemoryUsage':_0x207186});}),router['post'](a26_0x173a67(0x2bd),(_0x2209b8,_0xedbf06)=>{const _0x46bec9=a26_0x173a67;counter[_0x46bec9(0x282)](),_0xedbf06[_0x46bec9(0x304)]({'message':_0x46bec9(0x285)});});const getMonitoringData=()=>{const _0x5920a5=a26_0x173a67,_0x41640e=_0x5920a5(0x254);let _0x148a24=[];try{_0x148a24=JSON[_0x5920a5(0x24a)](fs[_0x5920a5(0x1e2)](_0x41640e));}catch(_0x301c40){console['log'](_0x5920a5(0x230));}return _0x148a24;};function a26_0x3449(_0x12cd1f,_0x408051){const _0x58136e=a26_0x5813();return a26_0x3449=function(_0x3449de,_0x4fcc73){_0x3449de=_0x3449de-0x1a0;let _0x2011a3=_0x58136e[_0x3449de];return _0x2011a3;},a26_0x3449(_0x12cd1f,_0x408051);}router['get'](a26_0x173a67(0x293),async(_0x2d42c2,_0x26016d)=>{const _0x219a41=a26_0x173a67,{page:page=0x1,limit:limit=0xa}=_0x2d42c2['query'],_0x5ad24f=(page-0x1)*limit;try{const _0x5c606b=getMonitoringData(),_0x3381fa=_0x5c606b[_0x219a41(0x301)],_0x1fd307=Math['ceil'](_0x3381fa/limit),_0x432da5=_0x5c606b[_0x219a41(0x237)](_0x5ad24f,_0x5ad24f+limit);_0x26016d['status'](0xc8)[_0x219a41(0x304)]({'data':_0x432da5,'page':parseInt(''+page),'totalPages':_0x1fd307,'total':_0x3381fa});}catch(_0x4a2a8a){console[_0x219a41(0x2ec)](_0x4a2a8a),_0x26016d[_0x219a41(0x1e1)](0x1f4)[_0x219a41(0x304)]({'error':_0x219a41(0x1ab)});}}),router[a26_0x173a67(0x26f)](a26_0x173a67(0x2c6),async(_0x3382aa,_0x378982)=>{const _0x334117=a26_0x173a67,_0x157ab8='cadviewer/settings/requests-callapiconversion-monitoring.json';try{fs[_0x334117(0x28d)](_0x157ab8,JSON[_0x334117(0x253)]([],null,0x4)),_0x378982[_0x334117(0x1e1)](0xc8)[_0x334117(0x304)]({'message':_0x334117(0x287)});}catch(_0x54f7a1){console[_0x334117(0x2ec)](_0x54f7a1),_0x378982[_0x334117(0x1e1)](0x1f4)[_0x334117(0x304)]({'error':_0x334117(0x1ab)});}}),router['get']('/conversion/memorydata',async(_0x2d4045,_0x399215)=>{const _0x56cc31=a26_0x173a67,_0x3b0406=getHotConfig()['converterLocation'][_0x56cc31(0x2a8)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x2d4045[_0x56cc31(0x236)],_0x20e1a6=(page-0x1)*limit;try{const _0x5eaf62=_0x3b0406+_0x56cc31(0x2e4);console['log'](_0x5eaf62);const _0x356c58=fs['readFileSync'](_0x5eaf62,_0x56cc31(0x1ac)),_0x4d364f=_0x356c58[_0x56cc31(0x2da)]('\x0a'),_0x3e947e=[];_0x4d364f[_0x56cc31(0x2a7)](_0x2f4b0b=>{const _0xab0014=_0x56cc31,_0xea7fee=_0x2f4b0b['split'](',');if(_0xea7fee[_0xab0014(0x301)]<0x4)return;const _0x4cd961=_0xea7fee[0x0],_0x8477e6=_0xea7fee[0x1],_0x2fb2be=parseFloat(_0xea7fee[0x2]);_0x3e947e[_0xab0014(0x2d8)]({'file':_0x4cd961[_0xab0014(0x2a8)]('\x22',''),'action':_0x8477e6,'timeSpend':_0x2fb2be,'memoryUsage':_0xea7fee[0x3]});});const _0x5973e9=_0x3e947e[_0x56cc31(0x301)],_0x3fec58=Math[_0x56cc31(0x1a0)](_0x5973e9/limit),_0x4f6a2d=_0x3e947e[_0x56cc31(0x237)](_0x20e1a6,_0x20e1a6+limit);_0x399215[_0x56cc31(0x1e1)](0xc8)[_0x56cc31(0x304)]({'data':_0x4f6a2d,'page':parseInt(''+page),'totalPages':_0x3fec58,'total':_0x5973e9});}catch(_0x4ddd04){console[_0x56cc31(0x2ec)](_0x4ddd04),_0x399215['status'](0x1f4)[_0x56cc31(0x304)]({'error':_0x56cc31(0x1ab)});}}),router['get'](a26_0x173a67(0x306),async(_0x185a9e,_0x20f788)=>{const _0x9ec727=a26_0x173a67,_0x226c29=path['join'](path[_0x9ec727(0x2f4)](require[_0x9ec727(0x299)]['filename']),'converters',_0x9ec727(0x20f));try{let _0x2dcae2=0x0,_0x2d8c7b=0x0;function _0x2603d6(_0xb321a9){const _0x359480=_0x9ec727;let _0x3c1d98=0x0,_0x29c722=0x0;if(fs[_0x359480(0x1da)](_0xb321a9)){const _0x553641=fs['readdirSync'](_0xb321a9);_0x29c722=0x0;for(const _0xcde88e of _0x553641){const _0x4c785c=path[_0x359480(0x1d8)](_0xb321a9,_0xcde88e),_0x10dfb7=fs[_0x359480(0x27f)](_0x4c785c);if(_0x10dfb7[_0x359480(0x1fa)]()&&_0xcde88e!==_0x359480(0x2a3))_0x29c722++,_0x3c1d98+=_0x10dfb7[_0x359480(0x296)];else{if(_0x10dfb7[_0x359480(0x1de)]()){}}}}return{'size':_0x3c1d98,'count':_0x29c722};}const _0x4e75e9=_0x2603d6(_0x226c29);_0x2dcae2=_0x4e75e9[_0x9ec727(0x296)],_0x2d8c7b=_0x4e75e9[_0x9ec727(0x2f0)],_0x20f788[_0x9ec727(0x304)]({'fileCount':_0x2d8c7b,'totalSize':_0x2dcae2});}catch(_0x3bdefd){console[_0x9ec727(0x1bf)]('Error\x20getting\x20cache\x20stats:',_0x3bdefd),_0x20f788[_0x9ec727(0x1e1)](0x1f4)[_0x9ec727(0x304)]({'error':_0x9ec727(0x1c2)});}}),router[a26_0x173a67(0x26f)](a26_0x173a67(0x25e),async(_0x1e62cc,_0x2e267d)=>{const _0x6da92c=a26_0x173a67,_0x2f52ce=path[_0x6da92c(0x1d8)](path[_0x6da92c(0x2f4)](require[_0x6da92c(0x299)][_0x6da92c(0x273)]),_0x6da92c(0x235),_0x6da92c(0x20f));try{function _0x544638(_0x5500b1){const _0x5542a6=_0x6da92c;if(fs['existsSync'](_0x5500b1)){const _0x3f42b0=fs[_0x5542a6(0x22f)](_0x5500b1);for(const _0x971a2e of _0x3f42b0){const _0x4fc4bd=path[_0x5542a6(0x1d8)](_0x5500b1,_0x971a2e),_0x20ca98=fs[_0x5542a6(0x27f)](_0x4fc4bd);if(_0x20ca98[_0x5542a6(0x1de)]()){}else _0x971a2e!=='.gitkeep'&&fs[_0x5542a6(0x280)](_0x4fc4bd);}}}_0x544638(_0x2f52ce),_0x2e267d[_0x6da92c(0x304)]({'message':_0x6da92c(0x2cf)});}catch(_0x1891ca){console[_0x6da92c(0x1bf)]('Error\x20flushing\x20cache:',_0x1891ca),_0x2e267d[_0x6da92c(0x1e1)](0x1f4)[_0x6da92c(0x304)]({'error':_0x6da92c(0x1a8)});}}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x1c1),async(_0x3369d1,_0x3a115b)=>{const _0x16bca8=a26_0x173a67;_0x3a115b[_0x16bca8(0x1cf)](path[_0x16bca8(0x1d8)](path[_0x16bca8(0x2f4)](require[_0x16bca8(0x299)][_0x16bca8(0x273)]),'cadviewer/settings/cache-stats.js'));}),router['get'](a26_0x173a67(0x26b),async(_0x26f17b,_0x46e38c)=>{const _0x5637e7=a26_0x173a67,_0x41bf59=fs[_0x5637e7(0x1e2)](path[_0x5637e7(0x1d8)](path['dirname'](require[_0x5637e7(0x299)]['filename']),_0x5637e7(0x303)),_0x5637e7(0x1ac)),_0x3aff95=_0x41bf59[_0x5637e7(0x2a8)](_0x5637e7(0x1b5),_0x26f17b['version']);_0x46e38c[_0x5637e7(0x2fe)](_0x3aff95);}),router[a26_0x173a67(0x24b)]('/cache/files',async(_0x48da68,_0x2bac24)=>{const _0x528a4b=a26_0x173a67,{page:page=0x1,limit:limit=0x10}=_0x48da68[_0x528a4b(0x236)],_0x80e9dd=path[_0x528a4b(0x1d8)](path[_0x528a4b(0x2f4)](require[_0x528a4b(0x299)][_0x528a4b(0x273)]),_0x528a4b(0x235),_0x528a4b(0x20f)),_0x395321=fs['readdirSync'](_0x80e9dd),_0x1d31f5=new Map();_0x395321['forEach'](_0x3fc597=>{const _0x10a09c=_0x528a4b,_0x501ac4=path[_0x10a09c(0x1d8)](_0x80e9dd,_0x3fc597),_0x56c66c=fs['statSync'](_0x501ac4);_0x1d31f5['set'](_0x3fc597,_0x56c66c);});const _0x30462e=Array[_0x528a4b(0x1d7)](_0x1d31f5[_0x528a4b(0x2a6)]())['map'](([_0x55464d,_0x85e951])=>{const _0x1a40e7=_0x528a4b;if(_0x85e951[_0x1a40e7(0x1de)]())return undefined;if(_0x55464d[_0x1a40e7(0x261)](_0x1a40e7(0x20d)))return undefined;if(_0x55464d[_0x1a40e7(0x261)](_0x1a40e7(0x202)))return undefined;let _0x1d467a=undefined,_0x58ba7d=undefined;(_0x55464d[_0x1a40e7(0x261)]('.svg')||_0x55464d[_0x1a40e7(0x261)](_0x1a40e7(0x25d)))&&_0x1d31f5[_0x1a40e7(0x1d0)](_0x55464d[_0x1a40e7(0x2b9)](_0x1a40e7(0x25d),_0x1a40e7(0x20d))['replace'](_0x1a40e7(0x225),'.csv'))&&(_0x1d467a=_0x1d31f5[_0x1a40e7(0x24b)](_0x55464d['replace'](_0x1a40e7(0x25d),_0x1a40e7(0x20d))['replace'](_0x1a40e7(0x225),_0x1a40e7(0x20d))));_0x55464d[_0x1a40e7(0x261)]('.json')&&_0x1d31f5['has'](_0x55464d['replace'](_0x1a40e7(0x232),_0x1a40e7(0x202)))&&(_0x58ba7d=_0x1d31f5['get'](_0x55464d[_0x1a40e7(0x2b9)]('.json','.dwg')));let _0x127c57='';if((_0x55464d[_0x1a40e7(0x261)]('.svg')||_0x55464d['endsWith']('.svgz'))&&_0x1d467a)_0x127c57=_0x1a40e7(0x23d);else{if(_0x55464d[_0x1a40e7(0x261)]('.svg')||_0x55464d[_0x1a40e7(0x261)](_0x1a40e7(0x25d)))_0x127c57=_0x1a40e7(0x1c0);else{if(_0x55464d[_0x1a40e7(0x261)]('.json')&&_0x58ba7d)_0x127c57=_0x1a40e7(0x2ad);else{if(_0x55464d[_0x1a40e7(0x261)](_0x1a40e7(0x224)))_0x127c57=_0x1a40e7(0x29e);else{if(_0x55464d[_0x1a40e7(0x261)](_0x1a40e7(0x1cb)))_0x127c57='DWG\x20file\x20in\x20multiple\x20files';else{if(_0x55464d[_0x1a40e7(0x261)]('.rl.json'))_0x127c57=_0x1a40e7(0x1f2);else _0x55464d[_0x1a40e7(0x261)]('.json')&&(_0x127c57=_0x1a40e7(0x1dc));}}}}}return{'name':_0x55464d,'size':_0x85e951[_0x1a40e7(0x296)],'createdAt':_0x85e951['birthtime'],'updatedAt':_0x85e951[_0x1a40e7(0x2ce)],'readAt':_0x85e951[_0x1a40e7(0x1d9)],'action':_0x127c57,'csvFile':_0x1d467a,'availableFormats':[_0x55464d['endsWith'](_0x1a40e7(0x225))?{'id':_0x55464d,'name':'SVG','color':'yellow'}:undefined,_0x55464d[_0x1a40e7(0x261)]('.svgz')?{'id':_0x55464d,'name':_0x1a40e7(0x23a),'color':_0x1a40e7(0x209)}:undefined,_0x55464d['endsWith']('.pdf')?{'id':_0x55464d,'name':_0x1a40e7(0x215),'color':'red'}:undefined,_0x55464d['endsWith'](_0x1a40e7(0x232))?{'id':_0x55464d,'name':_0x1a40e7(0x20b),'color':_0x1a40e7(0x25b)}:undefined,_0x1d467a?{'id':_0x55464d['replace'](_0x1a40e7(0x25d),_0x1a40e7(0x20d))[_0x1a40e7(0x2b9)](_0x1a40e7(0x225),_0x1a40e7(0x20d)),'name':_0x1a40e7(0x2d2),'color':_0x1a40e7(0x2bf)}:undefined][_0x1a40e7(0x1c9)](_0x5d26fd=>_0x5d26fd!==undefined)};})[_0x528a4b(0x1c9)](_0xc3f0a8=>_0xc3f0a8!==undefined),_0x512066=(page-0x1)*limit,_0x3e8936=page*limit,_0x4031f4=_0x30462e[_0x528a4b(0x301)],_0x44f40c=Math[_0x528a4b(0x1a0)](_0x4031f4/limit);_0x30462e[_0x528a4b(0x2f7)]((_0xc0d096,_0x536136)=>_0x536136[_0x528a4b(0x231)]-_0xc0d096['createdAt']);const _0x5c1391=_0x30462e['slice'](_0x512066,_0x3e8936);_0x2bac24[_0x528a4b(0x304)]({'files':_0x5c1391,'pagination':{'total':_0x4031f4,'totalPages':_0x44f40c,'currentPage':parseInt(page),'limit':parseInt(limit)}});}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x2a9),async(_0x3cb869,_0x5fcc6f)=>{const _0x3b8590=a26_0x173a67,{file:_0x2ba226}=_0x3cb869[_0x3b8590(0x21b)],_0x2ac387=path['join'](path[_0x3b8590(0x2f4)](require[_0x3b8590(0x299)][_0x3b8590(0x273)]),_0x3b8590(0x235),'files'),_0x2810e1=path['join'](_0x2ac387,_0x2ba226),_0x325aba=fs['readFileSync'](_0x2810e1,_0x3b8590(0x1ac)),_0x2966f4=_0x325aba[_0x3b8590(0x2da)]('\x0a'),_0x3bbbfc=_0x2966f4[_0x3b8590(0x2fa)](_0x1b528f=>{const _0x14d177=_0x3b8590,_0x41bf4b=_0x1b528f['split'](',');return _0x41bf4b[_0x14d177(0x2fa)](_0x3ed7de=>_0x3ed7de[_0x14d177(0x2a8)]('\x22',''));});_0x5fcc6f['json'](_0x3bbbfc);}),router[a26_0x173a67(0x24b)](a26_0x173a67(0x1f6),async(_0x456ca9,_0x6a7d44)=>{const _0x4a4a94=a26_0x173a67,{id:_0x264724}=_0x456ca9[_0x4a4a94(0x21b)],_0x59dfd0=path[_0x4a4a94(0x1d8)](path['dirname'](require[_0x4a4a94(0x299)][_0x4a4a94(0x273)]),_0x4a4a94(0x235),'files'),_0x561fec=path[_0x4a4a94(0x1d8)](_0x59dfd0,_0x264724);if(_0x561fec['endsWith']('.svgz')){var _0x2947dd=require(_0x4a4a94(0x23f));const _0x30a682=fs[_0x4a4a94(0x1e2)](_0x561fec),_0x2cc7fd=_0x2947dd[_0x4a4a94(0x255)](_0x30a682);_0x6a7d44['setHeader'](_0x4a4a94(0x23c),_0x4a4a94(0x28c)),_0x6a7d44[_0x4a4a94(0x2fe)](_0x2cc7fd);}else _0x6a7d44[_0x4a4a94(0x1cf)](_0x561fec);}),router[a26_0x173a67(0x26f)](a26_0x173a67(0x1f6),async(_0x3a559d,_0x1bf94d)=>{const _0x44ca0e=a26_0x173a67,{id:_0x2c2d2e}=_0x3a559d[_0x44ca0e(0x21b)],_0x361769=path[_0x44ca0e(0x1d8)](path['dirname'](require[_0x44ca0e(0x299)][_0x44ca0e(0x273)]),_0x44ca0e(0x235),_0x44ca0e(0x20f)),_0x1f07ed=path[_0x44ca0e(0x1d8)](_0x361769,_0x2c2d2e);fs[_0x44ca0e(0x280)](_0x1f07ed);if(_0x2c2d2e['endsWith'](_0x44ca0e(0x225))){const _0x4e378c=path['join'](_0x361769,_0x2c2d2e[_0x44ca0e(0x2b9)](_0x44ca0e(0x25d),'.csv')['replace'](_0x44ca0e(0x225),_0x44ca0e(0x20d)));fs[_0x44ca0e(0x1da)](_0x4e378c)&&fs[_0x44ca0e(0x280)](_0x4e378c);}_0x1bf94d[_0x44ca0e(0x304)]({'message':'File\x20deleted\x20successfully'});}),module[a26_0x173a67(0x269)]=router;function a26_0x5813(){const _0x2fdcb2=['/converters/files/print/','RL/TL\x20Processing','Log\x20file\x20cleaned.','/converters/files/merged/','/folders','/cache/files/:id','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','ServerLocation','cvjs_svgz_compress','isFile','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','\x22\x20executable','clean','cadviewer/settings/doctor.html','folderName','dwgmerge_executable_linux','radio|','.dwg','/converters/files/','../libs/config','cadviewer/settings/config.html','post','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','linux','yellow','Error\x20saving\x20parameters.','JSON','Error\x20creating\x20folder.','.csv','/vanilla-toast.css','files','platform','Config\x20updated\x20successfully','Error\x20downloading\x20file.','rename','sub_dirs','PDF','/users/flush-dir','used','\x20MB','408Fogtzo','/style.css','params','callbackMethod_gatewayUrl','mysqlDatabase','execute','info','.log','includes','An\x20error\x20occurred\x20while\x20checking.','radio|windows,linux','.pdf','.svg','readFile','originalname','/folders/update','who','model','CADViewer_config.json','logs','hash','call-Api_Conversion_','readdirSync','Error\x20reading\x20monitoring\x20file','createdAt','.json','toFixed','Error\x20getting\x20disk\x20usage','converters','query','slice','isFolder','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','SVGZ','/doctor','Content-Type','DWG\x20to\x20SVG\x20Conversion','User\x20directory\x20flushed\x20successfully','zlib','converterLocation','unlink','Folder\x20renamed.','cadviewer/settings/icons.js','callbackMethod_gatewayUrl_flag','/content/redlines/v7/','/logs','getHotConfig','osCmd','usedGb','parse','get','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','cadviewer/settings/vanilla-toast.css','fileLocationUrl','\x20KB','hostname','crypto','/restapi-test/parameters/save','stringify','cadviewer/settings/requests-callapiconversion-monitoring.json','gunzipSync','globalBearerAutentication','Permission\x20750\x20for\x20the\x20\x22','71096wuAWbT','setHeader','file','gray','totalProcesses','.svgz','/cache/flush','vmstats','Folder\x20deleted.','endsWith','blocks','folderLocation','put','conversionMemoryUsage','toLocaleLowerCase','\x20GB','linklist_executable_windows','exports','linklist_executable_linux','/cache','trim','path','renameSync','delete','Error\x20deleting\x20file.','Error\x20updating\x20config','/users','filename','mysqlHost','role','Folder\x20already\x20exists.','linklistLocation','type','DwgMerge\x20Settings','getDate','User\x20deleted\x20successfully','reduce','/restapi-test','/logs/clean','statSync','unlinkSync','autodetect_location','reset','hlall','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','Counter\x20reset\x20successfully','resolve','Monitoring\x20file\x20cleaned.','File\x20or\x20Folder\x20not\x20found','176690IjPmBL','Config\x20updated.','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','image/svg+xml','writeFileSync','autoxchange_executable_linux','standard','Error\x20getting\x20process\x20info','https','then','/conversion/list','body','access','size','tmp','autoxchange_executable','main','admin','usedMemMb','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','Error\x20deleting\x20folder.','DWG\x20to\x20PDF\x20Conversion','user','cpu','linklist_executable','./tmp','.gitkeep','Invalid\x20user','cadviewer/settings/rest-api-parameters.json','entries','forEach','replaceAll','/cache/csv/:file','/config/global-update','rmSync','xpathLocation','JSON\x20Data\x20Extraction','avatars/','arch','/folders/create','conversionTimeSpend','File\x20not\x20found','/logs/content','Read\x20and\x20write\x20permission\x20for\x20folder\x20','cadviewer/settings/chart.min.js','ContentSecurityPolicy','W_OK','/icons.js','replace','Error\x20getting\x20os\x20info','usedMemPercentage','single','/metrics/reset','/metrics','green','cadviewer/settings/folders.html','globalBearerAutenticationToken','cadviewer/settings/style.css','oos','/folders/upload','folder_name','/conversion/clean','getFullYear','test','mkdir','attachment;\x20filename=\x22','Content-Disposition','/users/list','promise','ctime','Cache\x20flushed\x20successfully','23719032dkAtDC','keys','CSV','catch','dwgmerge_executable','/converters/autoxchange/linux/','dwgmerge_executable_windows','cadviewer/settings/logs.html','push','Router','split','zombieProcesses','LinkList\x20Settings','fileLoad_PasswordAuthentication','avatar','mkdirSync','windows','toString','/config/content','=============================>','memorydata.csv','getMonth','pdf','download','cadviewer/settings/licences.html','cadviewer/settings/tailwind.js','/vanilla-toast.js','Error\x20renaming\x20file.','log','constants','../libs/log','/tailwind.js','count','version','/users/:userId','dwgmergeLocation','dirname','percentage','/doctor/check','sort','SELECT\x20*\x20FROM\x20users','proc','map','express','Error\x20getting\x20total\x20users','userId','send','writeFile','../libs/counter.js','length','File\x20deleted.','cadviewer/settings/conversion-cache.html','json','61089GxavjX','/cache/stats','2035604isPjxp','uptime','ceil','cached_conversion','\x20\x20\x20','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','usedGB','User\x20updated\x20successfully','X_OK','/folders/download','Failed\x20to\x20flush\x20cache','cadviewer/settings/rest-api.html','/config','Error!\x20Something\x20went\x20wrong.','utf8','Folder\x20not\x20found','/folders/delete','User\x20created\x20successfully','./uploads/','now','.png','187RJrFCo','Server\x20Settings','{version}','darwin','child_process','File\x20renamed.','1KvZuwp','application/octet-stream','cadviewer/settings/users.html','total','whoami','padStart','error','Display\x20of\x20DWG','/cache-stats.js','Failed\x20to\x20get\x20cache\x20stats','number','svg','mode','freeGb','14172osXyNw','usage','filter','.log\x22','split_details.json','all','/config/update','387yIjiNW','sendFile','has','usedPercentage','====================','fileLoad_UserName','3913175QPEpWo','../CADViewer_config.json','cadviewer/settings/vanilla-toast.js','from','join','atime','existsSync','rmdir','Cache\x20conversion','boolean','isDirectory','mysqlUsername','ServerUrl','status','readFileSync','No\x20config\x20object\x20provided','bcrypt','converterpathLin','No\x20files\x20uploaded','Folder\x20not\x20found.','splity','node-os-utils','totalMemMb','945RhZRRo','pop','dir','win32','autodetect_platform','Files\x20uploaded\x20successfully'];a26_0x5813=function(){return _0x2fdcb2;};return a26_0x5813();}