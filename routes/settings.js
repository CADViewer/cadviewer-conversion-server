const a26_0x2e4d74=a26_0x5596;(function(_0x1bb19e,_0x1bf233){const _0x519714=a26_0x5596,_0x4bcd75=_0x1bb19e();while(!![]){try{const _0x5a981e=-parseInt(_0x519714(0x12c))/0x1+-parseInt(_0x519714(0xc6))/0x2*(-parseInt(_0x519714(0xa7))/0x3)+-parseInt(_0x519714(0x92))/0x4*(parseInt(_0x519714(0xa5))/0x5)+parseInt(_0x519714(0x1c3))/0x6+parseInt(_0x519714(0xfa))/0x7+parseInt(_0x519714(0x144))/0x8*(-parseInt(_0x519714(0x188))/0x9)+parseInt(_0x519714(0x1da))/0xa;if(_0x5a981e===_0x1bf233)break;else _0x4bcd75['push'](_0x4bcd75['shift']());}catch(_0x4e505b){_0x4bcd75['push'](_0x4bcd75['shift']());}}}(a26_0x5457,0xe7a21));const express=require(a26_0x2e4d74(0xe4)),router=express[a26_0x2e4d74(0x8c)](),multer=require(a26_0x2e4d74(0x87)),fs=require('fs'),path=require(a26_0x2e4d74(0x1a8)),getHotConfig=require('../libs/config')[a26_0x2e4d74(0x18a)],{exec}=require('child_process'),os=require('os'),conn=require(a26_0x2e4d74(0x11d)),bcrypt=require(a26_0x2e4d74(0xd5)),osu=require(a26_0x2e4d74(0x149)),schedule=require(a26_0x2e4d74(0x1c2)),counter=require(a26_0x2e4d74(0x180)),{randomUUID}=require(a26_0x2e4d74(0xb1)),logStream=require(a26_0x2e4d74(0x17d)),config=require(a26_0x2e4d74(0xa0));function a26_0x5457(){const _0x23eb47=['win32','userId','/style.css','dwgmerge_executable','Error\x20getting\x20total\x20users','Callback\x20and\x20Authentication\x20Settings','total','fileLocation','push','336105DBbJmJ','ServerUrl','cadviewer/settings/users.html','AutoXchange\x20Settings','X_OK','map','then','/content/redlines/','folderLocation','ServerPort','Error!\x20Something\x20went\x20wrong.','osCmd','standard','cvjs_svgz_compress','whoami','0\x201\x20*\x20*\x20*','cadviewer/settings/rest-api-parameters.json','hlall','platform','sub_dirs','cadviewer/settings/folders.html','avatar_url','globalBearerAutentication','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','1919072vOKKfn','Invalid\x20user','folder_name','Error\x20renaming\x20folder.','getMonth','node-os-utils','Error\x20deleting\x20folder.','rmdir','readFile','existsSync','/conversion/memorydata','usedMemMb','File\x20deleted\x20successfully','.rl.json','cached_conversion','mysqlHost','Error\x20getting\x20cpu\x20usage','createdAt','utf8','log','dir','/cache/stats','fontLocation','autoxchange_executable_linux','reduce','.log','Parameters\x20saved.','oos','who','\x20\x20\x20','boolean','logs','/users/list','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','promise','fileLoad_UserName','Failed\x20to\x20get\x20cache\x20stats','vmstats','readdirSync','resolve','percentage','No\x20config\x20object\x20provided','/users/:userId','Error\x20saving\x20parameters.','/converters/files/merged/','Error\x20flushing\x20cache:','trim','status','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','gunzipSync','globalBearerAutenticationToken','Error\x20getting\x20os\x20info','sendFile','setHeader','delete','rename','./uploads/','../libs/log','used','/restapi-test/parameters/search','../libs/counter.js','unlinkSync','entries','folderName','ctime','put','Error\x20deleting\x20user\x20folder:','xpathLocation','54yxToqg','\x22\x20executable','getHotConfig','main','json','getDate','writeFileSync','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','attachment;\x20filename=\x22','hash','totalGb','User\x20deleted\x20successfully','cpu','/cache/flush','all','DwgMerge\x20Settings','send','SVG','Error\x20updating\x20config','CADViewer_config.json','rmSync','exports','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','/restapi-test','File\x20not\x20found','Error\x20downloading\x20file.','callbackMethod_gatewayUrl','set','ServerLocation','temp_print_folder','isFolder','/folders/delete','path','Error\x20creating\x20folder.','====================','cadviewer/settings/icons.js','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','/converters/files/print/','Content-Disposition','download','formatedSize','pop','mimetype','setup_mysqlHost','ContentSecurityPolicy','replaceAll','model','/config','autoxchange_executable','uptime','version','dirname','readFileSync','/metrics','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','info','error','proc','node-schedule','3306324wyPtRk','User\x20updated\x20successfully','totalProcesses','get','Permission\x20750\x20for\x20the\x20\x22','Config\x20updated\x20successfully','/folders','/chart.min.js','Folder\x20not\x20found','fileLoad_Password','linklist_executable','conversionTimeSpend','constants','count','forEach','Folder\x20not\x20found.','writeFile','Error\x20getting\x20process\x20info','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','User\x20created\x20successfully','.csv','.gitkeep','/logs','10771820uZbmLY','/folders/create','Files\x20uploaded\x20successfully','role','fileLoad_PasswordAuthentication','files','cadviewer/settings/vanilla-toast.css','.dwg','type','includes','has','cadviewer/settings/style.css','file','endsWith','linux','toString','Folder\x20already\x20exists.','filename','post','linklist_executable_windows','sort','SVGZ','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','length','test','callbackMethod_gatewayUrl_flag','\x20days\x20have\x20been\x20deleted.','/vanilla-toast.js','PDF','/logs/clean','conversionMemoryUsage','multer','reset','zombieProcesses','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','LinkList\x20Settings','Router','zlib','\x20KB','Error\x20getting\x20disk\x20usage','admin','Folder\x20created.','5332rNXhWo','https','Server\x20Settings','autodetect_platform','.log\x22','params','Error\x20getting\x20memory\x20info','/folders/update','/folders/upload','originalname','yellow','cadviewer/settings/licences.html','Read\x20and\x20write\x20permission\x20for\x20folder\x20','linklistLocation','../CADViewer_config.json','dwgmerge_executable_windows','padStart','application/octet-stream','Deleting\x20old\x20demo_user\x20accounts...','2290tawxIy','now','63JAahQq','getStats','scheduleJob','Old\x20demo_user\x20accounts\x20(','mysqlDatabase','\x20GB','/folders/download','cadviewer/settings/conversion-cache.html','statSync','\x20MB','crypto','mkdirSync','isDirectory','=============================>','windows','Monitoring\x20file\x20cleaned.','{version}','R_OK','join','radio|windows,linux','/vanilla-toast.css','/conversion/list','size','getFullYear','dwgmerge_executable_linux','linklist_executable_linux','toFixed','memorydata.csv','usedMemPercentage',')\x20older\x20than\x20','tmp','113834JHjZbf','DWG\x20to\x20SVG\x20Conversion','licenseLocation','Cache\x20conversion','/cache/files','replace','isFile','mysqlUsername','totalGB','unlink','diskStorage','fileLocationUrl','Error\x20getting\x20cache\x20stats:','.svgz','split','bcrypt','catch','svg','cadviewer/settings/config.html','JSON','/logs/content','mkdir','dwgmergeLocation','mode','blocks','Error\x20reading\x20monitoring\x20file','RL/TL\x20Processing','green','usedGB','autodetect_location','express','.pdf','execute','pdf','No\x20files\x20uploaded','Content-Type','cadviewer/settings/tailwind.js','parse','converterLocation','email','rmdirSync','`crypted_password`\x20=\x20?,\x20','number','Error\x20deleting\x20file.','radio|','user','extname','SELECT\x20*\x20FROM\x20users','.json','image/svg+xml','Demo\x20and\x20Base\x20User\x20Settings','cadviewer/settings/requests-callapiconversion-monitoring.json','3578393GFAfws','toLocaleLowerCase','converters','freeGb','slice','demoUserRetentionDays','.svg','File\x20renamed.','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','CSV','converterpathLin','cadviewer/settings/rest-api.html','/cache/files/:id','Display\x20of\x20DWG','filter','/tailwind.js','cadviewer/settings/home.html','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','call-Api_Conversion_','/converters/files/pdf/','stringify','access','/converters/autoxchange/linux/','avatar','/config/global-update','ceil','darwin','arch','/cache','body','/users','User\x20directory\x20flushed\x20successfully','query','/conversion/clean','birthtime','../libs/mysql.js','./tmp','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Log\x20file\x20cleaned.','ContentSecurityPolicyReportOnly','autoxchange_executable_windows'];a26_0x5457=function(){return _0x23eb47;};return a26_0x5457();}router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x109),async(_0xdf74bd,_0x4e13cc)=>{const _0x238497=a26_0x2e4d74;_0x4e13cc['sendFile'](path[_0x238497(0xb9)](path[_0x238497(0x1bb)](require[_0x238497(0x18b)][_0x238497(0x79)]),_0x238497(0xea)));}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x1ca),async(_0x434913,_0xfe98ca)=>{const _0x163c1b=a26_0x2e4d74;_0xfe98ca[_0x163c1b(0x178)](path['join'](path[_0x163c1b(0x1bb)](require[_0x163c1b(0x18b)]['filename']),'cadviewer/settings/chart.min.js'));}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x125),async(_0x4fbcda,_0x1fa809)=>{const _0x39e1f8=a26_0x2e4d74;_0x1fa809['sendFile'](path[_0x39e1f8(0xb9)](path['dirname'](require[_0x39e1f8(0x18b)]['filename']),_0x39e1f8(0x1e5)));}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0xbb),async(_0x2cc924,_0x18e2f7)=>{const _0x5f1604=a26_0x2e4d74;_0x18e2f7[_0x5f1604(0x178)](path[_0x5f1604(0xb9)](path[_0x5f1604(0x1bb)](require['main'][_0x5f1604(0x79)]),_0x5f1604(0x1e0)));}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x83),async(_0x5d233c,_0x2e05b1)=>{const _0x5f58e1=a26_0x2e4d74;_0x2e05b1[_0x5f58e1(0x178)](path['join'](path[_0x5f58e1(0x1bb)](require['main'][_0x5f58e1(0x79)]),'cadviewer/settings/vanilla-toast.js'));}),router['get']('/icons.js',async(_0x407183,_0x392d73)=>{const _0x1f793c=a26_0x2e4d74;_0x392d73['sendFile'](path[_0x1f793c(0xb9)](path['dirname'](require[_0x1f793c(0x18b)][_0x1f793c(0x79)]),_0x1f793c(0x1ab)));}),router['get']('/',async(_0x31ef75,_0x2fe831)=>{const _0x199806=a26_0x2e4d74,_0xc4a906=fs[_0x199806(0x1bc)](path[_0x199806(0xb9)](path['dirname'](require[_0x199806(0x18b)]['filename']),_0x199806(0x10a)),_0x199806(0x156)),_0x309fe1=_0xc4a906[_0x199806(0x1b5)]('{version}',_0x31ef75[_0x199806(0x1ba)]);_0x2fe831[_0x199806(0x198)](_0x309fe1);}),router['get']('/licences',async(_0x542b4e,_0x212f65)=>{const _0x7d6a49=a26_0x2e4d74,_0x4609ec=fs['readFileSync'](path[_0x7d6a49(0xb9)](path[_0x7d6a49(0x1bb)](require[_0x7d6a49(0x18b)][_0x7d6a49(0x79)]),_0x7d6a49(0x9d)),_0x7d6a49(0x156)),_0x135ba5=_0x4609ec[_0x7d6a49(0x1b5)](_0x7d6a49(0xb7),_0x542b4e['version']);_0x212f65[_0x7d6a49(0x198)](_0x135ba5);}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x1b7),async(_0x5c8a6a,_0x2e08d7)=>{const _0x42312d=a26_0x2e4d74,_0x27e9b9=fs[_0x42312d(0x1bc)](path[_0x42312d(0xb9)](path[_0x42312d(0x1bb)](require['main'][_0x42312d(0x79)]),_0x42312d(0xd8)),_0x42312d(0x156)),_0x111224=_0x27e9b9['replaceAll']('{version}',_0x5c8a6a['version']);_0x2e08d7[_0x42312d(0x198)](_0x111224);}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x1c9),async(_0x3703d5,_0x2d6562)=>{const _0x4d4359=a26_0x2e4d74,_0x594971=fs['readFileSync'](path['join'](path[_0x4d4359(0x1bb)](require[_0x4d4359(0x18b)][_0x4d4359(0x79)]),_0x4d4359(0x140)),_0x4d4359(0x156)),_0x23d9c6=_0x594971['replaceAll'](_0x4d4359(0xb7),_0x3703d5[_0x4d4359(0x1ba)]);_0x2d6562['send'](_0x23d9c6);}),router[a26_0x2e4d74(0x7a)](a26_0x2e4d74(0x1c9),async(_0x14ff3e,_0xf397b8)=>{const _0x53fd1e=a26_0x2e4d74,_0x1e5445=path[_0x53fd1e(0xb9)](path[_0x53fd1e(0x1bb)](require[_0x53fd1e(0x18b)]['filename']),'CADViewer_config.json'),_0x13e948=JSON[_0x53fd1e(0xeb)](fs[_0x53fd1e(0x1bc)](_0x1e5445,_0x53fd1e(0x156))),_0x5ab509=_0x13e948[_0x53fd1e(0x134)];if(!fs['existsSync'](_0x5ab509))return _0xf397b8['status'](0x194)[_0x53fd1e(0x18c)]({'message':_0x53fd1e(0x174)});const _0x2dad74=_0x390945=>{const _0x4aa418=_0x53fd1e;let _0x3f5249=0x0;return _0x390945[_0x4aa418(0x1d1)](_0x16bbd9=>{const _0x41671b=_0x4aa418;_0x16bbd9[_0x41671b(0x1a6)]?_0x3f5249+=_0x2dad74(_0x16bbd9[_0x41671b(0x13f)]):_0x3f5249+=_0x16bbd9[_0x41671b(0xbd)];}),_0x3f5249;},_0x200218=_0x2f0311=>{const _0x41709f=_0x53fd1e;if(_0x2f0311<0x400)return _0x2f0311+'\x20B';else{if(_0x2f0311<0x400*0x400)return(_0x2f0311/0x400)[_0x41709f(0xc1)](0x2)+_0x41709f(0x8e);else return _0x2f0311<0x400*0x400*0x400?(_0x2f0311/0x400/0x400)[_0x41709f(0xc1)](0x2)+_0x41709f(0xb0):(_0x2f0311/0x400/0x400/0x400)[_0x41709f(0xc1)](0x2)+_0x41709f(0xac);}},_0x55b648=(_0x4d8da6,_0x593ea4='')=>{const _0x58fd37=_0x53fd1e,_0x1000aa=fs['readdirSync'](_0x4d8da6),_0x536327=[];return _0x1000aa[_0x58fd37(0x1d1)](_0x39f994=>{const _0x2e82ae=_0x58fd37,_0x16bc28=path['join'](_0x4d8da6,_0x39f994)['replaceAll']('\x5c','/'),_0x4bce9b=fs['statSync'](_0x16bc28);if(_0x4bce9b['isDirectory']()){const _0x11cd70=_0x55b648(_0x16bc28,_0x593ea4+_0x2e82ae(0x161));_0x536327[_0x2e82ae(0x12b)]({'name':_0x39f994,'size':_0x4bce9b[_0x2e82ae(0xbd)],'path':_0x16bc28,'permissions':_0x4bce9b['mode'],'isFolder':!![],'sub_dirs':_0x11cd70});}else _0x536327[_0x2e82ae(0x12b)]({'name':_0x39f994,'size':_0x4bce9b['size'],'path':_0x16bc28,'permissions':_0x4bce9b[_0x2e82ae(0xdd)],'isFolder':![]});}),_0x536327;};let _0xcaa567=_0x55b648(_0x5ab509);const _0x258f01=_0x20d0cb=>{const _0xeacfcb=_0x53fd1e;return _0x20d0cb[_0xeacfcb(0x1d1)](_0x1e4cff=>{const _0x98a101=_0xeacfcb;_0x1e4cff[_0x98a101(0x1a6)]?(_0x1e4cff[_0x98a101(0x1b0)]=_0x200218(_0x2dad74(_0x1e4cff[_0x98a101(0x13f)])),_0x1e4cff['sub_dirs']=_0x258f01(_0x1e4cff[_0x98a101(0x13f)])):_0x1e4cff[_0x98a101(0x1b0)]=_0x200218(_0x1e4cff['size']);}),_0x20d0cb;};_0xf397b8[_0x53fd1e(0x173)](0xc8)[_0x53fd1e(0x18c)](_0x258f01(_0xcaa567));}),router[a26_0x2e4d74(0x7a)](a26_0x2e4d74(0xad),async(_0x252b18,_0x10478e)=>{const _0x1ebf93=a26_0x2e4d74,{path:_0x1a09e8}=_0x252b18['body'],_0x300f10=_0x1a09e8['split']('/')[_0x1ebf93(0x1b1)]();if(!fs[_0x1ebf93(0x14d)](_0x1a09e8))return _0x10478e[_0x1ebf93(0x173)](0x194)[_0x1ebf93(0x18c)]({'message':_0x1ebf93(0x1a0)});_0x10478e['setHeader'](_0x1ebf93(0xe9),_0x1ebf93(0xa3)),_0x10478e[_0x1ebf93(0x179)](_0x1ebf93(0x1ae),_0x1ebf93(0x190)+_0x300f10+'\x22'),_0x10478e[_0x1ebf93(0x1af)](_0x1a09e8,_0x1a79d1=>{const _0x38054f=_0x1ebf93;_0x1a79d1&&_0x10478e[_0x38054f(0x173)](0x1f4)[_0x38054f(0x18c)]({'message':_0x38054f(0x1a1)});});}),router[a26_0x2e4d74(0x7a)](a26_0x2e4d74(0x1db),async(_0x1137d5,_0x317081)=>{const _0x2da940=a26_0x2e4d74,_0x307786=_0x1137d5[_0x2da940(0x117)],_0x469d1=getHotConfig()[_0x2da940(0x134)],_0x27351c=path[_0x2da940(0xb9)](_0x469d1,_0x307786['path']);if(!fs[_0x2da940(0x14d)](_0x27351c))return _0x317081[_0x2da940(0x173)](0x194)[_0x2da940(0x18c)]({'message':'Folder\x20not\x20found.'});if(fs['existsSync'](path['join'](_0x27351c,_0x307786['folderName'])))return _0x317081[_0x2da940(0x173)](0x199)[_0x2da940(0x18c)]({'message':_0x2da940(0x78)});fs[_0x2da940(0xdb)](path['join'](_0x27351c,_0x307786[_0x2da940(0x183)]),_0x3b5976=>{const _0x255df5=_0x2da940;_0x3b5976&&_0x317081[_0x255df5(0x173)](0x1f4)[_0x255df5(0x18c)]({'message':_0x255df5(0x1a9)}),_0x317081['status'](0xc8)['json']({'message':_0x255df5(0x91)});});}),router[a26_0x2e4d74(0x185)](a26_0x2e4d74(0x99),async(_0x3a5e69,_0x121d3c)=>{const _0x810154=a26_0x2e4d74,{newName:_0x29e9ba,isFolder:_0x50632f,path:_0x3f0738}=_0x3a5e69[_0x810154(0x117)];if(!fs[_0x810154(0x14d)](_0x3f0738))return _0x121d3c[_0x810154(0x173)](0x194)[_0x810154(0x18c)]({'message':_0x50632f?_0x810154(0x1cb):_0x810154(0x1a0)});const _0x3603c3=_0x3f0738[_0x810154(0xcb)](_0x3f0738[_0x810154(0xd4)]('/')[_0x810154(0x1b1)](),_0x29e9ba);fs[_0x810154(0x17b)](_0x3f0738,_0x3603c3,_0x25bf3d=>{const _0x27c077=_0x810154;_0x25bf3d&&_0x121d3c[_0x27c077(0x173)](0x1f4)['json']({'message':_0x50632f?_0x27c077(0x147):'Error\x20renaming\x20file.'}),_0x121d3c[_0x27c077(0x173)](0xc8)[_0x27c077(0x18c)]({'message':_0x50632f?'Folder\x20renamed.':_0x27c077(0x101)});});}),router[a26_0x2e4d74(0x17a)](a26_0x2e4d74(0x1a7),async(_0x5759f3,_0x5efd28)=>{const _0x537024=a26_0x2e4d74,{path:_0x247992}=_0x5759f3['body'];if(!fs['existsSync'](_0x247992))return _0x5efd28['status'](0x194)[_0x537024(0x18c)]({'message':'File\x20or\x20Folder\x20not\x20found'});const _0x159b7a=fs[_0x537024(0xaf)](_0x247992);if(_0x159b7a[_0x537024(0xcc)]())fs[_0x537024(0xcf)](_0x247992,_0x5f4dc0=>{const _0x222703=_0x537024;_0x5f4dc0&&_0x5efd28[_0x222703(0x173)](0x1f4)[_0x222703(0x18c)]({'message':_0x222703(0xf1)}),_0x5efd28['status'](0xc8)[_0x222703(0x18c)]({'message':'File\x20deleted.'});});else _0x159b7a[_0x537024(0xb3)]()&&fs[_0x537024(0x14b)](_0x247992,{'recursive':!![]},_0x2d12dc=>{const _0x163563=_0x537024;_0x2d12dc&&_0x5efd28[_0x163563(0x173)](0x1f4)['json']({'message':_0x163563(0x14a)}),_0x5efd28[_0x163563(0x173)](0xc8)['json']({'message':'Folder\x20deleted.'});});});!fs[a26_0x2e4d74(0x14d)](a26_0x2e4d74(0x11e))&&fs[a26_0x2e4d74(0xb2)](a26_0x2e4d74(0x11e));function a26_0x5596(_0x86eb19,_0x5339d1){const _0x5457a5=a26_0x5457();return a26_0x5596=function(_0x559689,_0x5093f3){_0x559689=_0x559689-0x75;let _0x24e480=_0x5457a5[_0x559689];return _0x24e480;},a26_0x5596(_0x86eb19,_0x5339d1);}const storage=multer[a26_0x2e4d74(0xd0)]({'destination':(_0x3a9918,_0x283db6,_0x5cbd15)=>{const _0x351917=a26_0x2e4d74;_0x5cbd15(null,_0x351917(0xc5));},'filename':(_0x542490,_0x31f1b5,_0x4cf519)=>{const _0x2066f9=a26_0x2e4d74;_0x4cf519(null,Date[_0x2066f9(0xa6)]()+path[_0x2066f9(0xf4)](_0x31f1b5[_0x2066f9(0x9b)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x2e4d74(0x7a)](a26_0x2e4d74(0x9a),upload['array'](a26_0x2e4d74(0x1df)),async(_0x943b5f,_0x4206f7)=>{const _0x13d3ec=a26_0x2e4d74,_0xd9f614=_0x943b5f[_0x13d3ec(0x117)];if(!_0x943b5f['files']||_0x943b5f[_0x13d3ec(0x1df)][_0x13d3ec(0x7f)]===0x0)return _0x4206f7[_0x13d3ec(0x173)](0x190)[_0x13d3ec(0x18c)]({'message':_0x13d3ec(0xe8)});const _0x2b7a83=getHotConfig()[_0x13d3ec(0x134)],_0x139907=path[_0x13d3ec(0xb9)](_0x2b7a83,_0xd9f614[_0x13d3ec(0x1a8)]);if(!fs[_0x13d3ec(0x14d)](_0x139907))return _0x4206f7[_0x13d3ec(0x173)](0x194)[_0x13d3ec(0x18c)]({'message':_0x13d3ec(0x1d2)});const _0x455ae3=_0x943b5f[_0x13d3ec(0x1df)][_0x13d3ec(0x131)](_0x2643e1=>({'originalname':_0x2643e1[_0x13d3ec(0x9b)],'filename':_0x2643e1[_0x13d3ec(0x79)],'mimetype':_0x2643e1[_0x13d3ec(0x1b2)],'size':_0x2643e1[_0x13d3ec(0xbd)]}));_0x455ae3[_0x13d3ec(0x1d1)](_0x4da8ad=>{const _0x20d863=_0x13d3ec;fs['renameSync'](path['join'](_0x20d863(0xc5),_0x4da8ad[_0x20d863(0x79)]),path['join'](_0x139907,_0x4da8ad[_0x20d863(0x9b)]));}),_0x4206f7[_0x13d3ec(0x173)](0xc8)[_0x13d3ec(0x18c)]({'message':_0x13d3ec(0x1dc),'files':_0x455ae3});}),router[a26_0x2e4d74(0x185)](a26_0x2e4d74(0x112),async(_0x73ca65,_0x12736b)=>{const _0x337ff1=a26_0x2e4d74,_0x3db89a=path[_0x337ff1(0xb9)](path[_0x337ff1(0x1bb)](require[_0x337ff1(0x18b)][_0x337ff1(0x79)]),_0x337ff1(0x19b)),{config:_0x4be305}=_0x73ca65['body'];if(!_0x4be305)return _0x12736b['status'](0x190)[_0x337ff1(0x18c)]({'message':_0x337ff1(0x16d)});try{fs[_0x337ff1(0x18e)](_0x3db89a,JSON[_0x337ff1(0x10e)](_0x4be305,null,0x4)),_0x12736b[_0x337ff1(0x173)](0xc8)[_0x337ff1(0x18c)]({'message':_0x337ff1(0x1c8)});}catch(_0x363094){_0x12736b[_0x337ff1(0x173)](0x1f4)['json']({'message':_0x337ff1(0x19a)});}}),router['put']('/config/update',async(_0x524bb3,_0x18e76c)=>{const _0x2d52aa=a26_0x2e4d74,{key:_0x2d5692,value:_0x12bdc8}=_0x524bb3[_0x2d52aa(0x117)],_0x5d2ae0=path[_0x2d52aa(0xb9)](path[_0x2d52aa(0x1bb)](require['main'][_0x2d52aa(0x79)]),_0x2d52aa(0x19b));fs[_0x2d52aa(0x14c)](_0x5d2ae0,_0x2d52aa(0x156),function(_0x2f28dd,_0x254102){const _0x34ce65=_0x2d52aa;_0x2f28dd&&_0x18e76c[_0x34ce65(0x173)](0x1f4)[_0x34ce65(0x198)](_0x2f28dd);const _0x3bf465=JSON[_0x34ce65(0xeb)](_0x254102);_0x3bf465[_0x2d5692]=_0x12bdc8;if(_0x2d5692===_0x34ce65(0xe3)){let _0x33d176='';if(_0x3bf465[_0x34ce65(0x95)]){_0x33d176=os[_0x34ce65(0x13e)]();if(_0x33d176==='win32')_0x33d176=_0x34ce65(0xb5);else{if(_0x33d176===_0x34ce65(0x114))_0x33d176=_0x34ce65(0x76);}}else _0x33d176=_0x3bf465[_0x34ce65(0x13e)];if(_0x33d176===_0x34ce65(0xb5)){_0x3bf465[_0x34ce65(0x1a4)]=path[_0x34ce65(0x16b)](__dirname,'..')+'/';const _0x2fd002=/\\/g;_0x3bf465[_0x34ce65(0x1a4)]=_0x3bf465[_0x34ce65(0x1a4)]['replace'](_0x2fd002,'/');}else _0x3bf465[_0x34ce65(0x1a4)]=path['resolve'](__dirname,'..')+'/';}if(_0x2d5692==='autodetect_platform'){let _0x37fd0b=os[_0x34ce65(0x13e)]();if(_0x37fd0b==='win32')_0x37fd0b='windows';else _0x37fd0b=_0x34ce65(0x76);_0x37fd0b===_0x34ce65(0xb5)?_0x12bdc8===!![]&&(_0x3bf465[_0x34ce65(0x1b8)]=_0x3bf465['autoxchange_executable_windows'],_0x3bf465[_0x34ce65(0x126)]=_0x3bf465[_0x34ce65(0xa1)],_0x3bf465[_0x34ce65(0x1cd)]=_0x3bf465[_0x34ce65(0x7b)]):_0x12bdc8===!![]&&(_0x3bf465[_0x34ce65(0x1b8)]=_0x3bf465[_0x34ce65(0x15b)],_0x3bf465[_0x34ce65(0x126)]=_0x3bf465[_0x34ce65(0xbf)],_0x3bf465[_0x34ce65(0x1cd)]=_0x3bf465[_0x34ce65(0xc0)]),_0x3bf465[_0x34ce65(0x13e)]=_0x37fd0b;}if(_0x3bf465[_0x34ce65(0x95)]){let _0x1b8bab=os[_0x34ce65(0x13e)]();if(_0x1b8bab===_0x34ce65(0x123))_0x1b8bab='windows';else _0x1b8bab='linux';if(_0x1b8bab==='windows'){if(_0x2d5692===_0x34ce65(0x122))_0x3bf465[_0x34ce65(0x1b8)]=_0x12bdc8;else{if(_0x2d5692===_0x34ce65(0xa1))_0x3bf465['dwgmerge_executable']=_0x12bdc8;else _0x2d5692===_0x34ce65(0x7b)&&(_0x3bf465[_0x34ce65(0x1cd)]=_0x12bdc8);}}else{if(_0x2d5692===_0x34ce65(0x15b))_0x3bf465['autoxchange_executable']=_0x12bdc8;else{if(_0x2d5692===_0x34ce65(0xbf))_0x3bf465['dwgmerge_executable']=_0x12bdc8;else _0x2d5692===_0x34ce65(0xc0)&&(_0x3bf465[_0x34ce65(0x1cd)]=_0x12bdc8);}}}fs[_0x34ce65(0x1d3)](_0x5d2ae0,JSON[_0x34ce65(0x10e)](_0x3bf465,null,0x4),function(_0x129272){const _0x3a2da2=_0x34ce65;_0x129272&&_0x18e76c[_0x3a2da2(0x173)](0x1f4)[_0x3a2da2(0x198)](_0x129272),_0x18e76c['status'](0xc8)[_0x3a2da2(0x18c)]({'message':'Config\x20updated.'});});});}),router[a26_0x2e4d74(0x7a)]('/config/content',async(_0x225c8a,_0x1df8a4)=>{const _0xec81b7=a26_0x2e4d74,_0x1a410b=getHotConfig(),_0x1d84e9=(_0x1a410b[_0xec81b7(0xdc)][_0xec81b7(0x1e3)](_0x1a410b[_0xec81b7(0x1a4)])?'':_0x1a410b[_0xec81b7(0x1a4)])+_0x1a410b[_0xec81b7(0xdc)],_0x4ff4db=(_0x1a410b['dwgmergeLocation'][_0xec81b7(0x1e3)](_0x1a410b['ServerLocation'])?'':_0x1a410b[_0xec81b7(0x1a4)])+_0x1a410b[_0xec81b7(0x9f)],_0x5996e0=(_0x1a410b[_0xec81b7(0xec)]['includes'](_0x1a410b[_0xec81b7(0x1a4)])?'':_0x1a410b[_0xec81b7(0x1a4)])+_0x1a410b['converterLocation'],_0x7b0d3d=/ax202.*\.exe/,_0x22f838=/ax202.*/,_0x3a0ebb=/dwgmerge202.*\.exe/,_0x4a426f=/dwgmerge_202.*/,_0x34a39a=/linklist_202.*\.exe/,_0x563614=/linklist_202.*/,_0x34d754=[],_0x311038=[],_0x8aca55=[],_0x55e502=[],_0x4c30e2=[],_0x453461=[];let _0x504e95='';if(_0x1a410b[_0xec81b7(0x95)]){_0x504e95=os['platform']();if(_0x504e95===_0xec81b7(0x123))_0x504e95=_0xec81b7(0xb5);else{if(_0x504e95===_0xec81b7(0x114))_0x504e95='linux';}}else _0x504e95=_0x1a410b[_0xec81b7(0x13e)];fs[_0xec81b7(0x16a)](_0x5996e0['replaceAll']('linux',_0xec81b7(0xb5)))[_0xec81b7(0x1d1)](_0x2cc6f2=>{const _0x5cb568=_0xec81b7;if(_0x7b0d3d[_0x5cb568(0x80)](_0x2cc6f2['toLocaleLowerCase']()))_0x34d754['push'](_0x2cc6f2);}),fs['readdirSync'](_0x1d84e9[_0xec81b7(0x1b5)](_0xec81b7(0x76),_0xec81b7(0xb5)))[_0xec81b7(0x1d1)](_0x2f6b86=>{const _0x1a1e4f=_0xec81b7;if(_0x3a0ebb['test'](_0x2f6b86[_0x1a1e4f(0xfb)]()))_0x311038[_0x1a1e4f(0x12b)](_0x2f6b86);}),fs[_0xec81b7(0x16a)](_0x4ff4db['replaceAll']('linux',_0xec81b7(0xb5)))[_0xec81b7(0x1d1)](_0x39a34e=>{const _0x5850c9=_0xec81b7;if(_0x34a39a[_0x5850c9(0x80)](_0x39a34e[_0x5850c9(0xfb)]()))_0x8aca55['push'](_0x39a34e);}),fs[_0xec81b7(0x16a)](_0x5996e0['replaceAll'](_0xec81b7(0xb5),_0xec81b7(0x76)))[_0xec81b7(0x1d1)](_0x59debc=>{const _0x4c0d34=_0xec81b7;if(_0x22f838[_0x4c0d34(0x80)](_0x59debc[_0x4c0d34(0xfb)]()))_0x55e502[_0x4c0d34(0x12b)](_0x59debc);}),fs['readdirSync'](_0x1d84e9['replaceAll']('windows','linux'))['forEach'](_0x48172c=>{const _0x21ecc3=_0xec81b7;if(_0x4a426f[_0x21ecc3(0x80)](_0x48172c[_0x21ecc3(0xfb)]()))_0x4c30e2[_0x21ecc3(0x12b)](_0x48172c);}),fs[_0xec81b7(0x16a)](_0x4ff4db['replaceAll'](_0xec81b7(0xb5),_0xec81b7(0x76)))[_0xec81b7(0x1d1)](_0x1427ff=>{const _0x16024c=_0xec81b7;if(_0x563614[_0x16024c(0x80)](_0x1427ff[_0x16024c(0xfb)]()))_0x453461[_0x16024c(0x12b)](_0x1427ff);});const _0x84bf04=[_0xec81b7(0x135),_0xec81b7(0x93),'converterpathWin',_0xec81b7(0x104),_0xec81b7(0x15a)],_0x274493=[_0xec81b7(0x12a),'fileLocationUrl',_0xec81b7(0xec),_0xec81b7(0xc8),_0xec81b7(0x187),_0xec81b7(0x1a5),'callbackMethod',_0xec81b7(0xdc),'linklistLocation',_0xec81b7(0x1ba)],_0x487a8d=[_0xec81b7(0x12d),_0xec81b7(0x153),'mysqlUsername','mysqlPassword',_0xec81b7(0xab),_0xec81b7(0x152),_0xec81b7(0x139)],_0x4d3c87={'ServerUrl':_0xec81b7(0x94),'autoxchange_executable':_0xec81b7(0x12f),'linklist_executable':_0xec81b7(0x8b),'dwgmerge_executable':_0xec81b7(0x197),'setup_mysqlHost':'Database\x20Settings','callbackMethod_gatewayUrl_flag':_0xec81b7(0x128),'userFolderMaximumFiles':_0xec81b7(0xf8)},_0x23089b={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':_0xec81b7(0x162),'autodetect_platform':'boolean','cvjs_svgz_compress':_0xec81b7(0x162),'cached_conversion':_0xec81b7(0x162),'remainOnServer':_0xec81b7(0x162),'cvjs_debug':_0xec81b7(0x162),'autodetect_location':_0xec81b7(0x162),'platform':_0xec81b7(0xba),'autoxchange_executable':_0xec81b7(0xf2)+(_0x504e95===_0xec81b7(0xb5)?_0x34d754[_0xec81b7(0xb9)](','):_0x55e502[_0xec81b7(0xb9)](',')),'autoxchange_executable_windows':_0xec81b7(0xf2)+_0x34d754[_0xec81b7(0xb9)](','),'autoxchange_executable_linux':_0xec81b7(0xf2)+_0x55e502[_0xec81b7(0xb9)](','),'dwgmerge_executable':'radio|'+(_0x504e95===_0xec81b7(0xb5)?_0x311038['join'](','):_0x4c30e2[_0xec81b7(0xb9)](',')),'dwgmerge_executable_windows':_0xec81b7(0xf2)+_0x311038[_0xec81b7(0xb9)](','),'dwgmerge_executable_linux':'radio|'+_0x4c30e2[_0xec81b7(0xb9)](','),'linklist_executable':'radio|'+(_0x504e95===_0xec81b7(0xb5)?_0x8aca55[_0xec81b7(0xb9)](','):_0x453461[_0xec81b7(0xb9)](',')),'linklist_executable_windows':_0xec81b7(0xf2)+_0x8aca55[_0xec81b7(0xb9)](','),'linklist_executable_linux':_0xec81b7(0xf2)+_0x453461[_0xec81b7(0xb9)](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':'boolean','ContentSecurityPolicyReportOnly':_0xec81b7(0x162),'fileLoad_PasswordAuthentication':_0xec81b7(0x162),'contentLocationCheck':'boolean','globalBearerAutentication':_0xec81b7(0x162),'bcryptSaltRounds':'number','userFolderMaximumFiles':_0xec81b7(0xf0),'userFolderMaximumSizeInMB':_0xec81b7(0xf0)},_0x429047={},_0x281a4b=Object['keys'](_0x1a410b);_0x1a410b[_0xec81b7(0x95)]&&_0x84bf04[_0xec81b7(0x12b)](_0xec81b7(0x13e)),_0x1a410b[_0xec81b7(0xe3)]&&(_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x1a4)),_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x1b8)),_0x274493['push'](_0xec81b7(0x126)),_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x1cd))),!_0x1a410b[_0xec81b7(0x81)]&&_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x1a2)),!_0x1a410b[_0xec81b7(0x1b3)]&&(_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x153)),_0x274493[_0xec81b7(0x12b)](_0xec81b7(0xcd)),_0x274493[_0xec81b7(0x12b)]('mysqlPassword'),_0x274493[_0xec81b7(0x12b)]('mysqlDatabase')),!_0x1a410b[_0xec81b7(0x121)]&&_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x1b4)),!_0x1a410b[_0xec81b7(0x1de)]&&(_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x167)),_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x1cc))),!_0x1a410b[_0xec81b7(0x142)]&&_0x274493[_0xec81b7(0x12b)](_0xec81b7(0x176)),_0x281a4b[_0xec81b7(0x1d1)](_0x13f4e9=>{const _0x284c20=_0xec81b7;!_0x84bf04[_0x284c20(0x1e3)](_0x13f4e9)&&(_0x429047[_0x13f4e9]=_0x1a410b[_0x13f4e9]);}),_0x429047[_0xec81b7(0xd1)]=''+_0x1a410b[_0xec81b7(0x12d)]+_0x1a410b[_0xec81b7(0x12a)],_0x1df8a4[_0xec81b7(0x173)](0xc8)['json']({'notEditableFields':_0x274493,'customFieldTypes':_0x23089b,'notHotEditableFields':_0x487a8d,'config':_0x429047,'fieldsTitle':_0x4d3c87,'configData':_0x1a410b});}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x1d9),async(_0x2a4ce8,_0x4c9417)=>{const _0xc7d0be=a26_0x2e4d74,_0x28c636=fs[_0xc7d0be(0x1bc)](path[_0xc7d0be(0xb9)](path[_0xc7d0be(0x1bb)](require[_0xc7d0be(0x18b)]['filename']),'cadviewer/settings/logs.html'),'utf8'),_0x184a2d=_0x28c636[_0xc7d0be(0x1b5)](_0xc7d0be(0xb7),_0x2a4ce8['version']);_0x4c9417['send'](_0x184a2d);});function findMatchingLogFiles(_0x51cb12,_0x30b415=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x4f6b45=a26_0x2e4d74;try{const _0x548848=fs['readdirSync'](_0x51cb12);return _0x548848[_0x4f6b45(0x108)](_0x16f948=>_0x30b415[_0x4f6b45(0x80)](_0x16f948))['map'](_0x520190=>_0x520190[_0x4f6b45(0x1b5)](_0x4f6b45(0x10c),'')[_0x4f6b45(0x1b5)](_0x4f6b45(0x15d),''));}catch(_0x4e70d8){return console[_0x4f6b45(0x1c0)]('Error\x20finding\x20log\x20files:',_0x4e70d8),[];}}router[a26_0x2e4d74(0x7a)](a26_0x2e4d74(0xda),async(_0x2d8311,_0x20ef95)=>{const _0x57ff3b=a26_0x2e4d74,_0x57a5f9=new Date(),_0xbde947=_0x57a5f9[_0x57ff3b(0x18d)]()[_0x57ff3b(0x77)]()[_0x57ff3b(0xa2)](0x2,'0')+'_'+(_0x57a5f9['getMonth']()+0x1)['toString']()[_0x57ff3b(0xa2)](0x2,'0')+'_'+_0x57a5f9[_0x57ff3b(0xbe)](),{displayDay:_0x49e9b8}=_0x2d8311[_0x57ff3b(0x117)],_0x360c18=path[_0x57ff3b(0xb9)](path['dirname'](require[_0x57ff3b(0x18b)][_0x57ff3b(0x79)]),_0x57ff3b(0x163),_0x57ff3b(0x10c)+(_0x49e9b8??_0xbde947)+'.log');fs[_0x57ff3b(0x14d)](_0x360c18)?fs[_0x57ff3b(0x14c)](_0x360c18,'utf8',function(_0x10a3d9,_0x1fc2c7){const _0x4e2d27=_0x57ff3b;_0x10a3d9&&_0x20ef95['status'](0x1f4)['send'](_0x10a3d9),_0x20ef95['status'](0xc8)['json']({'content':_0x1fc2c7,'days':findMatchingLogFiles(path['join'](path[_0x4e2d27(0x1bb)](require[_0x4e2d27(0x18b)][_0x4e2d27(0x79)]),_0x4e2d27(0x163)))});}):_0x20ef95[_0x57ff3b(0x173)](0xc8)[_0x57ff3b(0x18c)]({'content':'','days':findMatchingLogFiles(path['join'](path[_0x57ff3b(0x1bb)](require[_0x57ff3b(0x18b)][_0x57ff3b(0x79)]),_0x57ff3b(0x163)))});}),router['delete'](a26_0x2e4d74(0x85),async(_0x48abd0,_0x4a8165)=>{const _0x5cacaf=a26_0x2e4d74,_0x1e4227=new Date(),_0x1ba936=_0x1e4227[_0x5cacaf(0x18d)]()[_0x5cacaf(0x77)]()[_0x5cacaf(0xa2)](0x2,'0')+'_'+(_0x1e4227[_0x5cacaf(0x148)]()+0x1)[_0x5cacaf(0x77)]()[_0x5cacaf(0xa2)](0x2,'0')+'_'+_0x1e4227[_0x5cacaf(0xbe)](),_0x1b2f5b=findMatchingLogFiles(path[_0x5cacaf(0xb9)](path['dirname'](require[_0x5cacaf(0x18b)][_0x5cacaf(0x79)]),_0x5cacaf(0x163)));_0x1b2f5b[_0x5cacaf(0x1d1)](_0x3bec34=>{const _0x5e8c78=_0x5cacaf;if(_0x3bec34!==_0x1ba936)fs[_0x5e8c78(0x181)](path[_0x5e8c78(0xb9)](path[_0x5e8c78(0x1bb)](require['main'][_0x5e8c78(0x79)]),'logs',_0x5e8c78(0x10c)+_0x3bec34+_0x5e8c78(0x15d)));}),logStream['clean'](),_0x4a8165[_0x5cacaf(0x173)](0xc8)[_0x5cacaf(0x18c)]({'message':_0x5cacaf(0x120)});}),router['get'](a26_0x2e4d74(0x19f),async(_0x511b0b,_0x153653)=>{const _0x46d078=a26_0x2e4d74,_0x21c256=path[_0x46d078(0xb9)](path[_0x46d078(0x1bb)](require[_0x46d078(0x18b)][_0x46d078(0x79)]),_0x46d078(0x13c));if(!fs['existsSync'](_0x21c256)){const _0x227b6d={'jsonDataExtraction':{'standard':[{'paramName':'json','paramValue':''},{'paramName':_0x46d078(0xde),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x46d078(0xd7)},{'paramName':'model','paramValue':''},{'paramName':_0x46d078(0x13d),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x46d078(0xe7)},{'paramName':_0x46d078(0x1b6),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x46d078(0xd7)},{'paramName':_0x46d078(0x1b6),'paramValue':''},{'paramName':_0x46d078(0x13d),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs[_0x46d078(0x18e)](_0x21c256,JSON['stringify'](_0x227b6d,null,0x4));}const _0x22180b=fs[_0x46d078(0x1bc)](path[_0x46d078(0xb9)](path[_0x46d078(0x1bb)](require[_0x46d078(0x18b)][_0x46d078(0x79)]),_0x46d078(0x105)),_0x46d078(0x156)),_0x53e9c8=_0x22180b['replaceAll'](_0x46d078(0xb7),_0x511b0b[_0x46d078(0x1ba)]);_0x153653[_0x46d078(0x198)](_0x53e9c8);}),router['post'](a26_0x2e4d74(0x17f),async(_0x39c676,_0x4dcdbb)=>{const _0xef2436=a26_0x2e4d74,{actionName:_0x9a45d7,contentLocation:_0x24f368}=_0x39c676[_0xef2436(0x117)],_0x43e785=path[_0xef2436(0xb9)](path[_0xef2436(0x1bb)](require[_0xef2436(0x18b)][_0xef2436(0x79)]),_0xef2436(0x13c));fs[_0xef2436(0x14c)](_0x43e785,_0xef2436(0x156),function(_0x596ed2,_0x4669c9){const _0x592239=_0xef2436;if(_0x596ed2)_0x4dcdbb[_0x592239(0x173)](0xc8)[_0x592239(0x18c)]({'parameters':[]});else{const _0x40f583=JSON[_0x592239(0xeb)](_0x4669c9);if(_0x40f583[_0x9a45d7]&&_0x40f583[_0x9a45d7][_0x24f368])_0x4dcdbb['status'](0xc8)[_0x592239(0x18c)]({'parameters':_0x40f583[_0x9a45d7][_0x24f368]});else _0x40f583[_0x9a45d7]&&_0x40f583[_0x9a45d7][_0x592239(0x138)]?_0x4dcdbb[_0x592239(0x173)](0xc8)[_0x592239(0x18c)]({'parameters':_0x40f583[_0x9a45d7][_0x592239(0x138)]}):_0x4dcdbb['status'](0xc8)['json']({'parameters':[]});}});}),router[a26_0x2e4d74(0x7a)]('/restapi-test/parameters/save',async(_0x5c32a0,_0x2227a2)=>{const _0x4c6996=a26_0x2e4d74,{actionName:_0x2e1dda,contentLocation:_0x2fc8bd,parameters:_0x5073ab}=_0x5c32a0[_0x4c6996(0x117)],_0x5a2e1a=path[_0x4c6996(0xb9)](path[_0x4c6996(0x1bb)](require[_0x4c6996(0x18b)]['filename']),_0x4c6996(0x13c));fs['readFile'](_0x5a2e1a,_0x4c6996(0x156),function(_0x522224,_0x3d956d){const _0x751e97=_0x4c6996;if(_0x522224)_0x2227a2[_0x751e97(0x173)](0x199)['json']({'message':'Error\x20saving\x20parameters.'});else{const _0xd5ada9=JSON[_0x751e97(0xeb)](_0x3d956d);!_0xd5ada9[_0x2e1dda]&&(_0xd5ada9[_0x2e1dda]={}),_0xd5ada9[_0x2e1dda][_0x2fc8bd]=_0x5073ab,fs[_0x751e97(0x1d3)](_0x5a2e1a,JSON[_0x751e97(0x10e)](_0xd5ada9,null,0x4),function(_0x538e81){const _0x43b119=_0x751e97;_0x538e81&&_0x2227a2[_0x43b119(0x173)](0x199)[_0x43b119(0x18c)]({'message':_0x43b119(0x16f)}),_0x2227a2[_0x43b119(0x173)](0xc8)[_0x43b119(0x18c)]({'message':_0x43b119(0x15e)});});}});}),router[a26_0x2e4d74(0x1c6)]('/doctor',async(_0x5be091,_0x627757)=>{const _0xe902cf=a26_0x2e4d74,_0x25569c=fs[_0xe902cf(0x1bc)](path[_0xe902cf(0xb9)](path[_0xe902cf(0x1bb)](require[_0xe902cf(0x18b)][_0xe902cf(0x79)]),'cadviewer/settings/doctor.html'),_0xe902cf(0x156)),_0x416ef6=_0x25569c[_0xe902cf(0x1b5)](_0xe902cf(0xb7),_0x5be091['version']);_0x627757[_0xe902cf(0x198)](_0x416ef6);}),router[a26_0x2e4d74(0x7a)]('/doctor/check',async(_0x282ad7,_0x7dc5ff)=>{const _0x4dad07=a26_0x2e4d74,_0xc5529d=getHotConfig(),_0x18faee=_0xc5529d[_0x4dad07(0xec)]['replaceAll']('//','/'),_0x132f7b=_0xc5529d[_0x4dad07(0xdc)]['replaceAll']('//','/'),_0x58842b=_0xc5529d[_0x4dad07(0x9f)]['replaceAll']('//','/'),_0x3d7f27=''+_0x18faee+_0xc5529d[_0x4dad07(0x1b8)],_0x4f2d96=''+_0x132f7b+_0xc5529d[_0x4dad07(0x126)],_0x8cd8c5=''+_0x58842b+_0xc5529d[_0x4dad07(0x1cd)],_0x4b4e9a=[],_0x1bb704=new Promise(_0x236cab=>{const _0x59370b=_0x4dad07;exec(os[_0x59370b(0x13e)]()===_0x59370b(0x123)?_0x59370b(0x158):'ls',_0x27610d=>{const _0x225078=_0x59370b;_0x27610d?_0x4b4e9a['push']({'title':_0x225078(0x19e),'status':![],'priority':0x1}):_0x4b4e9a[_0x225078(0x12b)]({'title':_0x225078(0x19e),'status':!![],'priority':0x1}),_0x236cab();});}),_0xae7747=new Promise(_0x2dd5a9=>{const _0x1b4ad6=_0x4dad07;fs[_0x1b4ad6(0x10f)](_0x3d7f27,fs[_0x1b4ad6(0x1cf)]['X_OK'],_0x4142c0=>{const _0x4748cd=_0x1b4ad6;_0x4142c0?_0x4b4e9a[_0x4748cd(0x12b)]({'title':_0x4748cd(0x1c7)+_0xc5529d['autoxchange_executable']+_0x4748cd(0x189),'status':![],'priority':0x2}):_0x4b4e9a[_0x4748cd(0x12b)]({'title':_0x4748cd(0x1c7)+_0xc5529d[_0x4748cd(0x1b8)]+_0x4748cd(0x189),'status':!![],'priority':0x2}),_0x2dd5a9();});}),_0x8295d=new Promise(_0x182f81=>{const _0x12184e=_0x4dad07;fs[_0x12184e(0x10f)](_0x4f2d96,fs['constants'][_0x12184e(0x130)],_0x2185b0=>{const _0x4617fd=_0x12184e;_0x2185b0?_0x4b4e9a['push']({'title':_0x4617fd(0x1c7)+_0xc5529d[_0x4617fd(0x126)]+_0x4617fd(0x189),'status':![],'priority':0x3}):_0x4b4e9a[_0x4617fd(0x12b)]({'title':_0x4617fd(0x1c7)+_0xc5529d[_0x4617fd(0x126)]+_0x4617fd(0x189),'status':!![],'priority':0x3}),_0x182f81();});}),_0x7f871c=new Promise(_0x1f7c53=>{const _0x139818=_0x4dad07;fs[_0x139818(0x10f)](_0x8cd8c5,fs[_0x139818(0x1cf)][_0x139818(0x130)],_0x418628=>{const _0x58bb98=_0x139818;_0x418628?_0x4b4e9a[_0x58bb98(0x12b)]({'title':_0x58bb98(0x1c7)+_0xc5529d['linklist_executable']+_0x58bb98(0x189),'status':![],'priority':0x4}):_0x4b4e9a[_0x58bb98(0x12b)]({'title':_0x58bb98(0x1c7)+_0xc5529d['linklist_executable']+_0x58bb98(0x189),'status':!![],'priority':0x4}),_0x1f7c53();});}),_0x1f3d02=new Promise(_0x117afe=>{const _0x14f19d=_0x4dad07,_0x55a4a4=new Date(),_0x1accd1=_0x55a4a4[_0x14f19d(0x18d)]()[_0x14f19d(0x77)]()[_0x14f19d(0xa2)](0x2,'0')+'_'+(_0x55a4a4[_0x14f19d(0x148)]()+0x1)[_0x14f19d(0x77)]()[_0x14f19d(0xa2)](0x2,'0')+'_'+_0x55a4a4[_0x14f19d(0xbe)](),{displayDay:_0x29f1c2}=_0x282ad7[_0x14f19d(0x117)];fs[_0x14f19d(0x10f)](path[_0x14f19d(0xb9)](path[_0x14f19d(0x1bb)](require['main']['filename']),_0x14f19d(0x163),_0x14f19d(0x10c)+(_0x29f1c2??_0x1accd1)+_0x14f19d(0x15d)),fs[_0x14f19d(0x1cf)]['W_OK'],_0x261b75=>{const _0x43f375=_0x14f19d;_0x261b75?_0x4b4e9a[_0x43f375(0x12b)]({'title':_0x43f375(0x102)+(_0x29f1c2??_0x1accd1)+_0x43f375(0x96),'status':![],'priority':0x5}):_0x4b4e9a[_0x43f375(0x12b)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x29f1c2??_0x1accd1)+'.log\x22','status':!![],'priority':0x5}),_0x117afe();});}),_0x1148d1=(_0x468743,_0x7f1cb7)=>{const _0x4281a1=_0x4dad07,_0x3e44df=path['join'](path[_0x4281a1(0x1bb)](require[_0x4281a1(0x18b)][_0x4281a1(0x79)]),_0x468743);return new Promise(_0x34c9b6=>{const _0x3f43b8=_0x4281a1;fs[_0x3f43b8(0x10f)](path[_0x3f43b8(0xb9)](path['dirname'](_0x3e44df)),fs[_0x3f43b8(0x1cf)][_0x3f43b8(0xb8)]|fs['constants']['W_OK'],_0x6df8d0=>{const _0x1d609b=_0x3f43b8;_0x6df8d0?_0x4b4e9a['push']({'title':_0x1d609b(0x9e)+_0x468743,'status':![],'priority':_0x7f1cb7+0x6}):_0x4b4e9a['push']({'title':_0x1d609b(0x9e)+_0x468743,'status':!![],'priority':_0x7f1cb7+0x6}),_0x34c9b6();});});},_0x4f4e39=['/converters/files/',_0x4dad07(0x110),_0x4dad07(0x170),_0x4dad07(0x1ad),_0x4dad07(0x10d),_0x4dad07(0x133),'/content/redlines/v7/'],_0x16806b=_0x4f4e39[_0x4dad07(0x131)](_0x1148d1);Promise[_0x4dad07(0x196)]([_0x1bb704,_0xae7747,_0x8295d,_0x7f871c,_0x1f3d02,..._0x16806b])['then'](()=>{const _0x3e5b8e=_0x4dad07;_0x7dc5ff[_0x3e5b8e(0x173)](0xc8)['json']({'checking_list':_0x4b4e9a});})[_0x4dad07(0xd6)](()=>{const _0x3af0fd=_0x4dad07;_0x7dc5ff[_0x3af0fd(0x173)](0x1f4)['json']({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router[a26_0x2e4d74(0x1c6)]('/users',async(_0x173adc,_0x24546b)=>{const _0xf53e94=a26_0x2e4d74,_0x5502b9=fs[_0xf53e94(0x1bc)](path[_0xf53e94(0xb9)](path[_0xf53e94(0x1bb)](require['main']['filename']),_0xf53e94(0x12e)),_0xf53e94(0x156)),_0xe07579=_0x5502b9[_0xf53e94(0x1b5)](_0xf53e94(0xb7),_0x173adc[_0xf53e94(0x1ba)]);_0x24546b[_0xf53e94(0x198)](_0xe07579);}),router[a26_0x2e4d74(0x7a)](a26_0x2e4d74(0x164),async(_0x4126d0,_0x42f963)=>{const _0x3d460c=a26_0x2e4d74;let _0x428f01;try{const [_0xdb9871]=await conn[_0x3d460c(0x166)]()['execute'](_0x3d460c(0xf5),[]);_0x428f01=_0xdb9871;}catch(_0x38426f){console[_0x3d460c(0x157)]({'err':_0x38426f}),_0x42f963[_0x3d460c(0x173)](0x1f4)[_0x3d460c(0x18c)]({'error':_0x3d460c(0x136)});return;}_0x42f963[_0x3d460c(0x173)](0xc8)[_0x3d460c(0x18c)]({'success':!![],'data':_0x428f01});}),router[a26_0x2e4d74(0x7a)](a26_0x2e4d74(0x118),upload['single'](a26_0x2e4d74(0x111)),async(_0x5655d9,_0x18d3c3)=>{const _0x107027=a26_0x2e4d74,{id:_0x3dc591,first_name:_0x47e393,last_name:_0x52fe94,username:_0x385c76,email:_0x3e48da,password:_0x1c47f8,is_enabled:_0x205f49}=_0x5655d9[_0x107027(0x117)],_0x8785dc=_0x5655d9[_0x107027(0x117)][_0x107027(0x1dd)]===_0x107027(0x90)?_0x107027(0x90):_0x107027(0xf3);let _0x39bb5f;console[_0x107027(0x157)](_0x107027(0xb4));_0x1c47f8&&(_0x39bb5f=await bcrypt[_0x107027(0x191)](_0x1c47f8,0xa));let _0x3f8590=null;if(_0x5655d9[_0x107027(0x1e6)]){const _0x2a2f08='avatars/'+randomUUID()+'.png';fs['renameSync'](_0x5655d9[_0x107027(0x1e6)][_0x107027(0x1a8)],'./'+_0x2a2f08),_0x3f8590=config[_0x107027(0x12d)]+'/'+_0x2a2f08;}if(_0x3dc591){try{let [_0x581b71]=await conn['promise']()[_0x107027(0xe6)](_0x107027(0x18f),[_0x3e48da,_0x385c76,_0x3dc591]);if(_0x581b71['length']>0x0)_0x18d3c3[_0x107027(0x173)](0x199)[_0x107027(0x18c)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{!_0x5655d9[_0x107027(0x1e6)]&&([_0x581b71]=await conn[_0x107027(0x166)]()['execute']('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x3dc591]),_0x3f8590=_0x581b71[0x0][_0x107027(0x141)]);const _0x108ebb='UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,'+(_0x1c47f8?_0x107027(0xef):'')+_0x107027(0x1ac);await conn[_0x107027(0x166)]()[_0x107027(0xe6)](_0x108ebb,_0x1c47f8?[_0x3f8590,_0x47e393,_0x52fe94,_0x385c76,_0x3e48da,_0x39bb5f,_0x205f49,_0x8785dc,_0x3dc591]:[_0x3f8590,_0x47e393,_0x52fe94,_0x385c76,_0x3e48da,_0x205f49,_0x8785dc,_0x3dc591]);}}catch(_0x2443b7){console[_0x107027(0x157)](_0x2443b7),_0x18d3c3['status'](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x18d3c3[_0x107027(0x173)](0xc8)['json']({'success':!![],'message':_0x107027(0x1c4)});}else{try{const [_0x52d68e]=await conn[_0x107027(0x166)]()['execute'](_0x107027(0x143),[_0x3e48da,_0x385c76]);if(_0x52d68e['length']>0x0)_0x18d3c3[_0x107027(0x173)](0x199)[_0x107027(0x18c)]({'error':_0x107027(0x10b)});else{const _0x7536d4=randomUUID();await conn[_0x107027(0x166)]()[_0x107027(0xe6)](_0x107027(0x1be),[_0x3f8590,_0x47e393,_0x52fe94,_0x385c76,_0x3e48da,_0x39bb5f,_0x8785dc,_0x205f49,_0x7536d4]);const _0x6c11c=_0x107027(0x17c)+_0x7536d4;fs[_0x107027(0xb2)](_0x6c11c);}}catch(_0x11a0c1){console['log'](_0x11a0c1),_0x18d3c3[_0x107027(0x173)](0x1f4)[_0x107027(0x18c)]({'error':_0x107027(0x136)});return;}_0x18d3c3[_0x107027(0x173)](0xc8)[_0x107027(0x18c)]({'success':!![],'message':_0x107027(0x1d6)});}}),router[a26_0x2e4d74(0x17a)]('/users/flush-dir',async(_0x47765c,_0x35af53)=>{const _0x1fc870=a26_0x2e4d74,{userId:_0x3d093c}=_0x47765c['body'];let _0x3462c1;try{const [_0x4c2e2e]=await conn[_0x1fc870(0x166)]()[_0x1fc870(0xe6)](_0x1fc870(0x8a),[_0x3d093c]);_0x4c2e2e[_0x1fc870(0x7f)]>0x0&&(_0x3462c1=_0x4c2e2e[0x0]);}catch(_0x31a3cc){console[_0x1fc870(0x157)]({'err':_0x31a3cc}),_0x35af53[_0x1fc870(0x173)](0x1f4)[_0x1fc870(0x18c)]({'error':_0x1fc870(0x136)});return;}if(!_0x3462c1){_0x35af53[_0x1fc870(0x173)](0x191)[_0x1fc870(0x18c)]({'error':_0x1fc870(0x145)});return;}let _0x47b558=_0x3462c1[_0x1fc870(0x146)];if(!_0x47b558){_0x47b558=randomUUID();try{await conn['promise']()[_0x1fc870(0xe6)](_0x1fc870(0x11f),[_0x47b558,_0x3d093c]);}catch(_0x17fc00){console[_0x1fc870(0x157)]({'err':_0x17fc00}),_0x35af53[_0x1fc870(0x173)](0x1f4)[_0x1fc870(0x18c)]({'error':_0x1fc870(0x136)});return;}}const _0x19a236=_0x1fc870(0x17c)+_0x47b558;console[_0x1fc870(0x157)](_0x1fc870(0x1aa)),console[_0x1fc870(0x157)](_0x19a236),!fs[_0x1fc870(0x14d)](_0x19a236)&&fs[_0x1fc870(0xb2)](_0x19a236),fs[_0x1fc870(0x19c)](_0x19a236,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x19a236),_0x35af53[_0x1fc870(0x173)](0xc8)['json']({'success':!![],'message':_0x1fc870(0x119)});}),router[a26_0x2e4d74(0x17a)](a26_0x2e4d74(0x16e),async(_0x2de0bc,_0x12e8f8)=>{const _0x432a3d=a26_0x2e4d74,_0x8ff193=_0x2de0bc[_0x432a3d(0x97)][_0x432a3d(0x124)];try{let _0x2410f5;try{const [_0x266bc1]=await conn['promise']()['execute'](_0x432a3d(0x8a),[_0x8ff193]);_0x266bc1[_0x432a3d(0x7f)]>0x0&&(_0x2410f5=_0x266bc1[0x0]);}catch(_0x2bf1f5){console['log']({'err':_0x2bf1f5}),_0x12e8f8['status'](0x1f4)['json']({'error':_0x432a3d(0x136)});return;}if(!_0x2410f5){_0x12e8f8[_0x432a3d(0x173)](0x191)[_0x432a3d(0x18c)]({'error':'Invalid\x20user'});return;}let _0x4ee52b=_0x2410f5['folder_name'];if(_0x4ee52b){const _0x19e155=_0x432a3d(0x17c)+_0x4ee52b;fs[_0x432a3d(0x14d)](_0x19e155)&&fs['rmSync'](_0x19e155,{'recursive':!![],'force':!![]});}await conn[_0x432a3d(0x166)]()[_0x432a3d(0xe6)](_0x432a3d(0x7e),[_0x8ff193]);}catch(_0x2e00d6){console['log'](_0x2e00d6),_0x12e8f8[_0x432a3d(0x173)](0x1f4)[_0x432a3d(0x18c)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x12e8f8[_0x432a3d(0x173)](0xc8)['json']({'success':!![],'message':_0x432a3d(0x193)});}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x1bd),async(_0x4d1c31,_0x620a35)=>{const _0x42ded4=a26_0x2e4d74,_0x5ddcc5=osu[_0x42ded4(0x194)],_0x465b3d=osu['mem'],_0x3021a2=osu['drive'],_0x3c89e8=osu['os'],_0x389980={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x227172=os['platform']()===_0x42ded4(0x123)?'c:':'/';const _0x5937a2=await _0x3021a2[_0x42ded4(0x1bf)](_0x227172);_0x389980[_0x42ded4(0x16c)]=_0x5937a2['usedPercentage'],_0x389980[_0x42ded4(0xe2)]=_0x5937a2['usedGb'],_0x389980[_0x42ded4(0xfd)]=_0x5937a2[_0x42ded4(0xfd)],_0x389980[_0x42ded4(0xce)]=_0x5937a2[_0x42ded4(0x192)];}catch(_0x4e4c15){console[_0x42ded4(0x157)](_0x42ded4(0x8f),_0x4e4c15);}const _0x16b6b6={'usage':0x0,'count':0x0};try{_0x16b6b6['usage']=await _0x5ddcc5['usage'](),_0x16b6b6[_0x42ded4(0x1d0)]=_0x5ddcc5[_0x42ded4(0x1d0)]();}catch(_0x2c6ad1){console['log'](_0x42ded4(0x154),_0x2c6ad1);}const _0x4b9a02={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x4b9a02['os']=await _0x3c89e8[_0x42ded4(0x15f)](),_0x4b9a02[_0x42ded4(0x13e)]=_0x3c89e8['platform'](),_0x4b9a02['ip']=_0x3c89e8['ip'](),_0x4b9a02[_0x42ded4(0x1b9)]=_0x3c89e8[_0x42ded4(0x1b9)](),_0x4b9a02['hostname']=_0x3c89e8['hostname'](),_0x4b9a02[_0x42ded4(0x1e2)]=_0x3c89e8[_0x42ded4(0x1e2)](),_0x4b9a02[_0x42ded4(0x115)]=_0x3c89e8['arch'](),_0x4b9a02['who']=await osu['osCmd'][_0x42ded4(0x160)](),_0x4b9a02[_0x42ded4(0x13a)]=await osu['osCmd'][_0x42ded4(0x13a)](),_0x4b9a02[_0x42ded4(0x169)]=await osu[_0x42ded4(0x137)][_0x42ded4(0x169)]();}catch(_0x12a45f){console[_0x42ded4(0x157)](_0x42ded4(0x177),_0x12a45f);}const _0xd1ed8a={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0xd1ed8a[_0x42ded4(0x1c5)]=await osu[_0x42ded4(0x1c1)]['totalProcesses'](),_0xd1ed8a[_0x42ded4(0x89)]=await osu['proc'][_0x42ded4(0x89)]();}catch(_0x5c4fbf){console[_0x42ded4(0x157)](_0x42ded4(0x1d4),_0x5c4fbf);}let _0x4d09e0={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x345bb7=await _0x465b3d[_0x42ded4(0x1bf)]();_0x4d09e0['usedMemPercentage']=_0x345bb7[_0x42ded4(0xc3)],_0x4d09e0[_0x42ded4(0x14f)]=_0x345bb7[_0x42ded4(0x17e)]/0x400/0x400,_0x4d09e0['totalMemMb']=_0x345bb7[_0x42ded4(0x129)]/0x400/0x400;}catch(_0x3c2d0d){console[_0x42ded4(0x157)](_0x42ded4(0x98),_0x3c2d0d);}let _0x29a0ae=0x0;try{_0x29a0ae=await conn[_0x42ded4(0x166)]()[_0x42ded4(0x11a)]('SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users')[_0x42ded4(0x132)](([_0xd537f8])=>_0xd537f8[0x0][_0x42ded4(0x129)]);}catch(_0x122be3){console[_0x42ded4(0x157)](_0x42ded4(0x127),_0x122be3);}const _0x235ebf=getMonitoringData(),_0x17903e=_0x235ebf[_0x42ded4(0x108)](_0x4b9099=>_0x4b9099[_0x42ded4(0x1ce)]!==null&&_0x4b9099[_0x42ded4(0x1ce)]!==undefined),_0x4d26a2=_0x235ebf[_0x42ded4(0x108)](_0x281bf6=>_0x281bf6[_0x42ded4(0x86)]!==null&&_0x281bf6[_0x42ded4(0x86)]!==undefined)[_0x42ded4(0x131)](_0xc96bbb=>parseFloat(_0xc96bbb[_0x42ded4(0x86)]['replaceAll']('Kb')[_0x42ded4(0x172)]())),_0x10f619=_0x17903e[_0x42ded4(0x15c)]((_0x43c66a,_0x38dd3d)=>_0x43c66a+parseFloat(_0x38dd3d[_0x42ded4(0x1ce)]),0x0)/_0x17903e['length'],_0x4a3674=_0x4d26a2['reduce']((_0x495a7e,_0x6ba458)=>_0x495a7e+_0x6ba458,0x0)/_0x4d26a2['length'];_0x620a35[_0x42ded4(0x18c)]({'requestsPerSecond':counter[_0x42ded4(0xa8)](),'diskUsage':_0x389980,'cpus':_0x16b6b6,'system':_0x4b9a02,'process':_0xd1ed8a,'totalMonitoringData':_0x235ebf[_0x42ded4(0x7f)],'memory':_0x4d09e0,'totalUsers':_0x29a0ae,'avgConvertionTime':_0x10f619,'avgMemoryUsage':_0x4a3674});}),router['post']('/metrics/reset',(_0x275ea6,_0x113d81)=>{const _0x4daa16=a26_0x2e4d74;counter[_0x4daa16(0x88)](),_0x113d81[_0x4daa16(0x18c)]({'message':'Counter\x20reset\x20successfully'});});const getMonitoringData=()=>{const _0x56bb71=a26_0x2e4d74,_0x157fcf=_0x56bb71(0xf9);let _0x398892=[];try{_0x398892=JSON['parse'](fs[_0x56bb71(0x1bc)](_0x157fcf));}catch(_0x40e431){console[_0x56bb71(0x157)](_0x56bb71(0xdf));}return _0x398892;};router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0xbc),async(_0x254161,_0x5aca22)=>{const _0x36abad=a26_0x2e4d74,{page:page=0x1,limit:limit=0xa}=_0x254161['query'],_0x30504b=(page-0x1)*limit;try{const _0x3c96c5=getMonitoringData(),_0x233612=_0x3c96c5[_0x36abad(0x7f)],_0x3a0ab3=Math[_0x36abad(0x113)](_0x233612/limit),_0x2069cc=_0x3c96c5[_0x36abad(0xfe)](_0x30504b,_0x30504b+limit);_0x5aca22['status'](0xc8)[_0x36abad(0x18c)]({'data':_0x2069cc,'page':parseInt(''+page),'totalPages':_0x3a0ab3,'total':_0x233612});}catch(_0x1ca100){console[_0x36abad(0x157)](_0x1ca100),_0x5aca22[_0x36abad(0x173)](0x1f4)[_0x36abad(0x18c)]({'error':_0x36abad(0x136)});}}),router[a26_0x2e4d74(0x17a)](a26_0x2e4d74(0x11b),async(_0x48e003,_0x434b78)=>{const _0x5e028b=a26_0x2e4d74,_0xda61ec='cadviewer/settings/requests-callapiconversion-monitoring.json';try{fs[_0x5e028b(0x18e)](_0xda61ec,JSON[_0x5e028b(0x10e)]([],null,0x4)),_0x434b78[_0x5e028b(0x173)](0xc8)['json']({'message':_0x5e028b(0xb6)});}catch(_0x47f353){console['log'](_0x47f353),_0x434b78[_0x5e028b(0x173)](0x1f4)[_0x5e028b(0x18c)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x14e),async(_0x58026c,_0x1e4ccf)=>{const _0x56cac3=a26_0x2e4d74,_0x278544=getHotConfig()[_0x56cac3(0xec)][_0x56cac3(0x1b5)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x58026c[_0x56cac3(0x11a)],_0x1c854e=(page-0x1)*limit;try{const _0x3f3ff5=_0x278544+_0x56cac3(0xc2);console['log'](_0x3f3ff5);const _0x26115d=fs[_0x56cac3(0x1bc)](_0x3f3ff5,'utf8'),_0x2458fc=_0x26115d[_0x56cac3(0xd4)]('\x0a'),_0x3952cd=[];_0x2458fc[_0x56cac3(0x1d1)](_0xc45c7b=>{const _0x4d085e=_0x56cac3,_0x30b13a=_0xc45c7b[_0x4d085e(0xd4)](',');if(_0x30b13a[_0x4d085e(0x7f)]<0x4)return;const _0x259d79=_0x30b13a[0x0],_0x190912=_0x30b13a[0x1],_0x4a2ca4=parseFloat(_0x30b13a[0x2]);_0x3952cd['push']({'file':_0x259d79['replaceAll']('\x22',''),'action':_0x190912,'timeSpend':_0x4a2ca4,'memoryUsage':_0x30b13a[0x3]});});const _0x35186e=_0x3952cd[_0x56cac3(0x7f)],_0x3ba557=Math[_0x56cac3(0x113)](_0x35186e/limit),_0x347875=_0x3952cd[_0x56cac3(0xfe)](_0x1c854e,_0x1c854e+limit);_0x1e4ccf[_0x56cac3(0x173)](0xc8)[_0x56cac3(0x18c)]({'data':_0x347875,'page':parseInt(''+page),'totalPages':_0x3ba557,'total':_0x35186e});}catch(_0x48cb6c){console[_0x56cac3(0x157)](_0x48cb6c),_0x1e4ccf[_0x56cac3(0x173)](0x1f4)[_0x56cac3(0x18c)]({'error':_0x56cac3(0x136)});}}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x159),async(_0x8c4965,_0x24db4d)=>{const _0x168c7e=a26_0x2e4d74,_0x4b9f16=path['join'](path[_0x168c7e(0x1bb)](require[_0x168c7e(0x18b)]['filename']),_0x168c7e(0xfc),_0x168c7e(0x1df));try{let _0x305a8d=0x0,_0x3a483a=0x0;function _0x51f66a(_0x440156){const _0x1cf521=_0x168c7e;let _0x47eb39=0x0,_0x19ad2b=0x0;if(fs['existsSync'](_0x440156)){const _0x487ae6=fs[_0x1cf521(0x16a)](_0x440156);_0x19ad2b=0x0;for(const _0x1f8d3c of _0x487ae6){const _0x58f5ac=path[_0x1cf521(0xb9)](_0x440156,_0x1f8d3c),_0x34c859=fs['statSync'](_0x58f5ac);if(_0x34c859[_0x1cf521(0xcc)]()&&_0x1f8d3c!=='.gitkeep')_0x19ad2b++,_0x47eb39+=_0x34c859[_0x1cf521(0xbd)];else{if(_0x34c859[_0x1cf521(0xb3)]()){}}}}return{'size':_0x47eb39,'count':_0x19ad2b};}const _0x4e770c=_0x51f66a(_0x4b9f16);_0x305a8d=_0x4e770c['size'],_0x3a483a=_0x4e770c['count'],_0x24db4d[_0x168c7e(0x18c)]({'fileCount':_0x3a483a,'totalSize':_0x305a8d});}catch(_0x5670dc){console[_0x168c7e(0x1c0)](_0x168c7e(0xd2),_0x5670dc),_0x24db4d[_0x168c7e(0x173)](0x1f4)[_0x168c7e(0x18c)]({'error':_0x168c7e(0x168)});}}),router[a26_0x2e4d74(0x17a)](a26_0x2e4d74(0x195),async(_0x36dfb8,_0x5ac508)=>{const _0x275dc9=a26_0x2e4d74,_0xfc88db=path['join'](path[_0x275dc9(0x1bb)](require['main'][_0x275dc9(0x79)]),_0x275dc9(0xfc),_0x275dc9(0x1df));try{function _0x1a416c(_0x5be9ee){const _0x22e9fc=_0x275dc9;if(fs[_0x22e9fc(0x14d)](_0x5be9ee)){const _0x106a39=fs[_0x22e9fc(0x16a)](_0x5be9ee);for(const _0x1c3091 of _0x106a39){const _0x3d708c=path['join'](_0x5be9ee,_0x1c3091),_0xc43b6=fs[_0x22e9fc(0xaf)](_0x3d708c);if(_0xc43b6[_0x22e9fc(0xb3)]()){}else _0x1c3091!==_0x22e9fc(0x1d8)&&fs[_0x22e9fc(0x181)](_0x3d708c);}}}_0x1a416c(_0xfc88db),_0x5ac508[_0x275dc9(0x18c)]({'message':'Cache\x20flushed\x20successfully'});}catch(_0x216e51){console[_0x275dc9(0x1c0)](_0x275dc9(0x171),_0x216e51),_0x5ac508[_0x275dc9(0x173)](0x1f4)[_0x275dc9(0x18c)]({'error':'Failed\x20to\x20flush\x20cache'});}}),router[a26_0x2e4d74(0x1c6)]('/cache-stats.js',async(_0x4faeed,_0x2169f2)=>{const _0xb96c60=a26_0x2e4d74;_0x2169f2[_0xb96c60(0x178)](path['join'](path[_0xb96c60(0x1bb)](require[_0xb96c60(0x18b)]['filename']),'cadviewer/settings/cache-stats.js'));}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0x116),async(_0x5a2bb9,_0x307cc9)=>{const _0x20e697=a26_0x2e4d74,_0x583f8a=fs[_0x20e697(0x1bc)](path[_0x20e697(0xb9)](path['dirname'](require['main']['filename']),_0x20e697(0xae)),_0x20e697(0x156)),_0x19826b=_0x583f8a[_0x20e697(0x1b5)](_0x20e697(0xb7),_0x5a2bb9[_0x20e697(0x1ba)]);_0x307cc9[_0x20e697(0x198)](_0x19826b);}),router[a26_0x2e4d74(0x1c6)](a26_0x2e4d74(0xca),async(_0x4028bc,_0x2cd651)=>{const _0x4882a5=a26_0x2e4d74,{page:page=0x1,limit:limit=0x10}=_0x4028bc['query'],_0xa7e310=path[_0x4882a5(0xb9)](path[_0x4882a5(0x1bb)](require[_0x4882a5(0x18b)][_0x4882a5(0x79)]),_0x4882a5(0xfc),_0x4882a5(0x1df)),_0x2b70f5=fs['readdirSync'](_0xa7e310),_0x165794=new Map();_0x2b70f5[_0x4882a5(0x1d1)](_0x2cbfc3=>{const _0x4c602e=_0x4882a5,_0x2efb75=path['join'](_0xa7e310,_0x2cbfc3),_0x56a0dc=fs['statSync'](_0x2efb75);_0x165794[_0x4c602e(0x1a3)](_0x2cbfc3,_0x56a0dc);});const _0x1a63ba=Array['from'](_0x165794[_0x4882a5(0x182)]())['map'](([_0x481b80,_0xca8c38])=>{const _0x38b4db=_0x4882a5;if(_0xca8c38[_0x38b4db(0xb3)]())return undefined;if(_0x481b80['endsWith'](_0x38b4db(0x1d7)))return undefined;if(_0x481b80[_0x38b4db(0x75)](_0x38b4db(0x1e1)))return undefined;let _0x1d0e68=undefined,_0x4ab533=undefined;(_0x481b80['endsWith'](_0x38b4db(0x100))||_0x481b80['endsWith'](_0x38b4db(0xd3)))&&_0x165794['has'](_0x481b80[_0x38b4db(0xcb)]('.svgz',_0x38b4db(0x1d7))['replace']('.svg','.csv'))&&(_0x1d0e68=_0x165794[_0x38b4db(0x1c6)](_0x481b80[_0x38b4db(0xcb)]('.svgz',_0x38b4db(0x1d7))[_0x38b4db(0xcb)](_0x38b4db(0x100),_0x38b4db(0x1d7))));_0x481b80[_0x38b4db(0x75)](_0x38b4db(0xf6))&&_0x165794[_0x38b4db(0x1e4)](_0x481b80['replace'](_0x38b4db(0xf6),_0x38b4db(0x1e1)))&&(_0x4ab533=_0x165794['get'](_0x481b80[_0x38b4db(0xcb)](_0x38b4db(0xf6),_0x38b4db(0x1e1))));let _0x118ad4='';if((_0x481b80['endsWith'](_0x38b4db(0x100))||_0x481b80[_0x38b4db(0x75)](_0x38b4db(0xd3)))&&_0x1d0e68)_0x118ad4=_0x38b4db(0xc7);else{if(_0x481b80[_0x38b4db(0x75)]('.svg')||_0x481b80[_0x38b4db(0x75)](_0x38b4db(0xd3)))_0x118ad4=_0x38b4db(0x107);else{if(_0x481b80[_0x38b4db(0x75)](_0x38b4db(0xf6))&&_0x4ab533)_0x118ad4='JSON\x20Data\x20Extraction';else{if(_0x481b80['endsWith'](_0x38b4db(0xe5)))_0x118ad4='DWG\x20to\x20PDF\x20Conversion';else{if(_0x481b80['endsWith']('split_details.json'))_0x118ad4='DWG\x20file\x20in\x20multiple\x20files';else{if(_0x481b80['endsWith'](_0x38b4db(0x151)))_0x118ad4=_0x38b4db(0xe0);else _0x481b80['endsWith'](_0x38b4db(0xf6))&&(_0x118ad4=_0x38b4db(0xc9));}}}}}return{'name':_0x481b80,'size':_0xca8c38[_0x38b4db(0xbd)],'createdAt':_0xca8c38[_0x38b4db(0x11c)],'updatedAt':_0xca8c38[_0x38b4db(0x184)],'readAt':_0xca8c38['atime'],'action':_0x118ad4,'csvFile':_0x1d0e68,'availableFormats':[_0x481b80[_0x38b4db(0x75)](_0x38b4db(0x100))?{'id':_0x481b80,'name':_0x38b4db(0x199),'color':_0x38b4db(0x9c)}:undefined,_0x481b80[_0x38b4db(0x75)](_0x38b4db(0xd3))?{'id':_0x481b80,'name':_0x38b4db(0x7d),'color':_0x38b4db(0x9c)}:undefined,_0x481b80[_0x38b4db(0x75)](_0x38b4db(0xe5))?{'id':_0x481b80,'name':_0x38b4db(0x84),'color':'red'}:undefined,_0x481b80[_0x38b4db(0x75)](_0x38b4db(0xf6))?{'id':_0x481b80,'name':_0x38b4db(0xd9),'color':'gray'}:undefined,_0x1d0e68?{'id':_0x481b80['replace'](_0x38b4db(0xd3),_0x38b4db(0x1d7))['replace']('.svg',_0x38b4db(0x1d7)),'name':_0x38b4db(0x103),'color':_0x38b4db(0xe1)}:undefined][_0x38b4db(0x108)](_0x3aaef4=>_0x3aaef4!==undefined)};})[_0x4882a5(0x108)](_0x1a5199=>_0x1a5199!==undefined),_0x3c8bf0=(page-0x1)*limit,_0x12f64a=page*limit,_0x4cfb30=_0x1a63ba[_0x4882a5(0x7f)],_0x115fd7=Math[_0x4882a5(0x113)](_0x4cfb30/limit);_0x1a63ba[_0x4882a5(0x7c)]((_0x2181e,_0x1ac031)=>_0x1ac031[_0x4882a5(0x155)]-_0x2181e[_0x4882a5(0x155)]);const _0x4d319d=_0x1a63ba[_0x4882a5(0xfe)](_0x3c8bf0,_0x12f64a);_0x2cd651[_0x4882a5(0x18c)]({'files':_0x4d319d,'pagination':{'total':_0x4cfb30,'totalPages':_0x115fd7,'currentPage':parseInt(page),'limit':parseInt(limit)}});}),router[a26_0x2e4d74(0x1c6)]('/cache/csv/:file',async(_0x82bb73,_0x5ea749)=>{const _0x164287=a26_0x2e4d74,{file:_0x3dd7f7}=_0x82bb73[_0x164287(0x97)],_0xb0fd6c=path[_0x164287(0xb9)](path['dirname'](require[_0x164287(0x18b)][_0x164287(0x79)]),'converters',_0x164287(0x1df)),_0x29eab6=path[_0x164287(0xb9)](_0xb0fd6c,_0x3dd7f7),_0x2b46c4=fs['readFileSync'](_0x29eab6,_0x164287(0x156)),_0x561a52=_0x2b46c4[_0x164287(0xd4)]('\x0a'),_0x1cd7db=_0x561a52[_0x164287(0x131)](_0xa492d0=>{const _0x297be7=_0x164287,_0x4f6d75=_0xa492d0['split'](',');return _0x4f6d75[_0x297be7(0x131)](_0x20cbb3=>_0x20cbb3[_0x297be7(0x1b5)]('\x22',''));});_0x5ea749['json'](_0x1cd7db);}),router[a26_0x2e4d74(0x1c6)]('/cache/files/:id',async(_0x18abde,_0x3cb46c)=>{const _0x2b9ac3=a26_0x2e4d74,{id:_0x2d0de3}=_0x18abde[_0x2b9ac3(0x97)],_0x39a975=path[_0x2b9ac3(0xb9)](path[_0x2b9ac3(0x1bb)](require['main'][_0x2b9ac3(0x79)]),_0x2b9ac3(0xfc),_0x2b9ac3(0x1df)),_0x47a01d=path[_0x2b9ac3(0xb9)](_0x39a975,_0x2d0de3);if(_0x47a01d[_0x2b9ac3(0x75)](_0x2b9ac3(0xd3))){var _0x1cd559=require(_0x2b9ac3(0x8d));const _0x2462dc=fs['readFileSync'](_0x47a01d),_0x1d1791=_0x1cd559[_0x2b9ac3(0x175)](_0x2462dc);_0x3cb46c[_0x2b9ac3(0x179)]('Content-Type',_0x2b9ac3(0xf7)),_0x3cb46c[_0x2b9ac3(0x198)](_0x1d1791);}else _0x3cb46c[_0x2b9ac3(0x178)](_0x47a01d);}),router[a26_0x2e4d74(0x17a)](a26_0x2e4d74(0x106),async(_0x588dae,_0x1cde68)=>{const _0x58f7d8=a26_0x2e4d74,{id:_0x5a5da1}=_0x588dae[_0x58f7d8(0x97)],_0x42b776=path[_0x58f7d8(0xb9)](path[_0x58f7d8(0x1bb)](require['main'][_0x58f7d8(0x79)]),_0x58f7d8(0xfc),'files'),_0x529584=path[_0x58f7d8(0xb9)](_0x42b776,_0x5a5da1);fs['unlinkSync'](_0x529584);if(_0x5a5da1[_0x58f7d8(0x75)]('.svg')){const _0x3c0519=path[_0x58f7d8(0xb9)](_0x42b776,_0x5a5da1[_0x58f7d8(0xcb)](_0x58f7d8(0xd3),'.csv')[_0x58f7d8(0xcb)]('.svg',_0x58f7d8(0x1d7)));fs[_0x58f7d8(0x14d)](_0x3c0519)&&fs['unlinkSync'](_0x3c0519);}_0x1cde68[_0x58f7d8(0x18c)]({'message':_0x58f7d8(0x150)});});const deleteOldDemoUsers=async()=>{const _0x103f9b=a26_0x2e4d74;console[_0x103f9b(0x157)](_0x103f9b(0xa4));const _0x33fb34=config[_0x103f9b(0xff)],_0x2fcb8e=_0x103f9b(0x1d5);try{const [_0xe7c117]=await conn[_0x103f9b(0x166)]()[_0x103f9b(0xe6)](_0x2fcb8e,[_0x33fb34]),_0x25cbe5=_0xe7c117[_0x103f9b(0x131)](_0x1966f6=>_0x1966f6[_0x103f9b(0x146)]),_0x14576e=_0xe7c117['map'](_0x369710=>_0x369710[_0x103f9b(0xed)]);console[_0x103f9b(0x157)](_0x14576e),await conn[_0x103f9b(0x166)]()[_0x103f9b(0xe6)](_0x103f9b(0x165),[_0x33fb34]),_0x25cbe5[_0x103f9b(0x1d1)](_0xca8e78=>{const _0x2974a1=_0x103f9b;try{const _0xec37bf='./uploads/'+_0xca8e78;fs[_0x2974a1(0xee)](_0xec37bf);}catch(_0x395e5b){console[_0x2974a1(0x1c0)](_0x2974a1(0x186),_0x395e5b);}}),console['log'](_0x103f9b(0xaa)+_0xe7c117[_0x103f9b(0x7f)]+_0x103f9b(0xc4)+_0x33fb34+_0x103f9b(0x82));}catch(_0x22035b){console[_0x103f9b(0x1c0)]('Error\x20deleting\x20old\x20demo_user\x20accounts:',_0x22035b);}};schedule[a26_0x2e4d74(0xa9)](a26_0x2e4d74(0x13b),deleteOldDemoUsers),module[a26_0x2e4d74(0x19d)]=router;