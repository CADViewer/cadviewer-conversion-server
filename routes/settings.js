const a26_0x2f092a=a26_0xb17d;(function(_0x19ed64,_0x2e6284){const _0x5e68ae=a26_0xb17d,_0x1f8be2=_0x19ed64();while(!![]){try{const _0x530336=parseInt(_0x5e68ae(0x22d))/0x1*(parseInt(_0x5e68ae(0x1f1))/0x2)+parseInt(_0x5e68ae(0x102))/0x3+-parseInt(_0x5e68ae(0x20b))/0x4*(parseInt(_0x5e68ae(0xd2))/0x5)+parseInt(_0x5e68ae(0xec))/0x6*(parseInt(_0x5e68ae(0x139))/0x7)+-parseInt(_0x5e68ae(0x197))/0x8+parseInt(_0x5e68ae(0x125))/0x9+-parseInt(_0x5e68ae(0xea))/0xa;if(_0x530336===_0x2e6284)break;else _0x1f8be2['push'](_0x1f8be2['shift']());}catch(_0x35e06b){_0x1f8be2['push'](_0x1f8be2['shift']());}}}(a26_0x5134,0x7b9bf));const express=require(a26_0x2f092a(0x1ce)),router=express[a26_0x2f092a(0x115)](),multer=require('multer'),fs=require('fs'),path=require(a26_0x2f092a(0x164)),getHotConfig=require(a26_0x2f092a(0x160))[a26_0x2f092a(0x25e)],{exec}=require(a26_0x2f092a(0x144)),os=require('os'),conn=require(a26_0x2f092a(0x26b)),bcrypt=require(a26_0x2f092a(0x1a9)),osu=require('node-os-utils'),schedule=require(a26_0x2f092a(0x228)),counter=require('../libs/counter.js'),{randomUUID}=require(a26_0x2f092a(0x104)),logStream=require(a26_0x2f092a(0x16b)),config=require(a26_0x2f092a(0x259)),basicAuth=require(a26_0x2f092a(0x18e)),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a26_0x2f092a(0x107)),protectedRoute=basicAuth({'users':{[config['settingsUserBasicAuth']]:config['settingsPasswordBasicAuth']},'challenge':!![],'realm':a26_0x2f092a(0x25d)});router['get']('/tailwind.js',async(_0x181884,_0x368795)=>{const _0x446810=a26_0x2f092a;_0x368795[_0x446810(0x232)](path[_0x446810(0x188)](path['dirname'](require[_0x446810(0xdb)][_0x446810(0x11d)]),_0x446810(0x132)));}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x22c),async(_0x58822f,_0x554f4d)=>{const _0x39c5ce=a26_0x2f092a;_0x554f4d[_0x39c5ce(0x232)](path[_0x39c5ce(0x188)](path['dirname'](require[_0x39c5ce(0xdb)][_0x39c5ce(0x11d)]),_0x39c5ce(0xef)));}),router['get'](a26_0x2f092a(0x148),async(_0x4df3b3,_0x350847)=>{const _0x5636a1=a26_0x2f092a;_0x350847[_0x5636a1(0x232)](path[_0x5636a1(0x188)](path[_0x5636a1(0x120)](require[_0x5636a1(0xdb)][_0x5636a1(0x11d)]),_0x5636a1(0x1dd)));}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x133),async(_0x110dc0,_0x334c8c)=>{const _0x51754a=a26_0x2f092a;_0x334c8c[_0x51754a(0x232)](path[_0x51754a(0x188)](path[_0x51754a(0x120)](require[_0x51754a(0xdb)][_0x51754a(0x11d)]),_0x51754a(0x215)));}),router[a26_0x2f092a(0x217)]('/vanilla-toast.js',async(_0x54959d,_0xb1232c)=>{const _0x2f3a89=a26_0x2f092a;_0xb1232c[_0x2f3a89(0x232)](path[_0x2f3a89(0x188)](path[_0x2f3a89(0x120)](require['main'][_0x2f3a89(0x11d)]),_0x2f3a89(0x134)));}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x261),async(_0x225045,_0x322300)=>{const _0x3b6bd7=a26_0x2f092a;_0x322300[_0x3b6bd7(0x232)](path['join'](path['dirname'](require['main']['filename']),'cadviewer/settings/icons.js'));}),router['get']('/',protectedRoute,async(_0x212037,_0x32e0cc)=>{const _0x2d3fc7=a26_0x2f092a,_0x48e673=fs[_0x2d3fc7(0x1d3)](path[_0x2d3fc7(0x188)](path[_0x2d3fc7(0x120)](require[_0x2d3fc7(0xdb)][_0x2d3fc7(0x11d)]),_0x2d3fc7(0x1da)),'utf8'),_0x31cb47=_0x48e673[_0x2d3fc7(0xf0)](_0x2d3fc7(0x1d6),_0x212037[_0x2d3fc7(0x1d9)]);_0x32e0cc[_0x2d3fc7(0x24c)](_0x31cb47);}),router['get'](a26_0x2f092a(0x1ac),protectedRoute,async(_0x2d6d2e,_0x46a9a9)=>{const _0x22f250=a26_0x2f092a,_0xde638e=fs[_0x22f250(0x1d3)](path['join'](path['dirname'](require[_0x22f250(0xdb)][_0x22f250(0x11d)]),_0x22f250(0xdd)),_0x22f250(0x26e)),_0x21dcb3=_0xde638e[_0x22f250(0xf0)](_0x22f250(0x1d6),_0x2d6d2e[_0x22f250(0x1d9)]);_0x46a9a9[_0x22f250(0x24c)](_0x21dcb3);}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x1b5),protectedRoute,async(_0x21f8e0,_0x443df5)=>{const _0x268d9c=a26_0x2f092a,_0x2a8eea=fs[_0x268d9c(0x1d3)](path[_0x268d9c(0x188)](path[_0x268d9c(0x120)](require['main'][_0x268d9c(0x11d)]),_0x268d9c(0x1ba)),_0x268d9c(0x26e)),_0x53e212=_0x2a8eea[_0x268d9c(0xf0)](_0x268d9c(0x1d6),_0x21f8e0[_0x268d9c(0x1d9)]);_0x443df5[_0x268d9c(0x24c)](_0x53e212);}),router['get'](a26_0x2f092a(0x20c),protectedRoute,async(_0x1ade16,_0x4b8792)=>{const _0x1a587e=a26_0x2f092a,_0x21340f=fs[_0x1a587e(0x1d3)](path[_0x1a587e(0x188)](path['dirname'](require[_0x1a587e(0xdb)][_0x1a587e(0x11d)]),_0x1a587e(0x222)),_0x1a587e(0x26e)),_0x5f58e1=_0x21340f[_0x1a587e(0xf0)](_0x1a587e(0x1d6),_0x1ade16[_0x1a587e(0x1d9)]);_0x4b8792['send'](_0x5f58e1);}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x20c),async(_0x1370c5,_0x7ede25)=>{const _0x45ea2b=a26_0x2f092a,_0x29b2a7=path[_0x45ea2b(0x188)](path[_0x45ea2b(0x120)](require[_0x45ea2b(0xdb)][_0x45ea2b(0x11d)]),_0x45ea2b(0x22f)),_0x31ea8d=JSON[_0x45ea2b(0x1df)](fs[_0x45ea2b(0x1d3)](_0x29b2a7,'utf8')),_0x1c44f7=_0x31ea8d[_0x45ea2b(0x23d)];if(!fs[_0x45ea2b(0x12c)](_0x1c44f7))return _0x7ede25[_0x45ea2b(0x1ab)](0x194)['json']({'message':_0x45ea2b(0x1ed)});const _0x53cc65=_0x2ff49c=>{const _0x1ec9e4=_0x45ea2b;let _0x2b5fd4=0x0;return _0x2ff49c[_0x1ec9e4(0xdf)](_0x17786d=>{const _0x6c1944=_0x1ec9e4;_0x17786d[_0x6c1944(0x1af)]?_0x2b5fd4+=_0x53cc65(_0x17786d[_0x6c1944(0x208)]):_0x2b5fd4+=_0x17786d[_0x6c1944(0x20a)];}),_0x2b5fd4;},_0x1e7c2a=_0x4b0e5e=>{const _0x38aa93=_0x45ea2b;if(_0x4b0e5e<0x400)return _0x4b0e5e+'\x20B';else{if(_0x4b0e5e<0x400*0x400)return(_0x4b0e5e/0x400)[_0x38aa93(0x1fd)](0x2)+_0x38aa93(0x1c3);else return _0x4b0e5e<0x400*0x400*0x400?(_0x4b0e5e/0x400/0x400)['toFixed'](0x2)+_0x38aa93(0x25b):(_0x4b0e5e/0x400/0x400/0x400)[_0x38aa93(0x1fd)](0x2)+_0x38aa93(0x1b2);}},_0x196098=(_0xb2bca0,_0x3acc4c='')=>{const _0x778078=_0x45ea2b,_0x2a7fd8=fs[_0x778078(0x26c)](_0xb2bca0),_0x5c4a17=[];return _0x2a7fd8[_0x778078(0xdf)](_0x2b0495=>{const _0x5a1dfb=_0x778078,_0x582bf5=path[_0x5a1dfb(0x188)](_0xb2bca0,_0x2b0495)[_0x5a1dfb(0xf0)]('\x5c','/'),_0x36b8ad=fs[_0x5a1dfb(0x127)](_0x582bf5);if(_0x36b8ad[_0x5a1dfb(0x1e6)]()){const _0x21c5a9=_0x196098(_0x582bf5,_0x3acc4c+_0x5a1dfb(0x12b));_0x5c4a17[_0x5a1dfb(0x24f)]({'name':_0x2b0495,'size':_0x36b8ad[_0x5a1dfb(0x20a)],'path':_0x582bf5,'permissions':_0x36b8ad[_0x5a1dfb(0x175)],'isFolder':!![],'sub_dirs':_0x21c5a9});}else _0x5c4a17[_0x5a1dfb(0x24f)]({'name':_0x2b0495,'size':_0x36b8ad[_0x5a1dfb(0x20a)],'path':_0x582bf5,'permissions':_0x36b8ad[_0x5a1dfb(0x175)],'isFolder':![]});}),_0x5c4a17;};let _0x377dc7=_0x196098(_0x1c44f7);const _0x2c0778=_0x2c2a56=>{const _0x57160a=_0x45ea2b;return _0x2c2a56[_0x57160a(0xdf)](_0x2f9618=>{const _0x3d1ebc=_0x57160a;_0x2f9618['isFolder']?(_0x2f9618[_0x3d1ebc(0x204)]=_0x1e7c2a(_0x53cc65(_0x2f9618[_0x3d1ebc(0x208)])),_0x2f9618[_0x3d1ebc(0x208)]=_0x2c0778(_0x2f9618[_0x3d1ebc(0x208)])):_0x2f9618[_0x3d1ebc(0x204)]=_0x1e7c2a(_0x2f9618['size']);}),_0x2c2a56;};_0x7ede25['status'](0xc8)[_0x45ea2b(0x235)](_0x2c0778(_0x377dc7));}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x151),async(_0x3d75df,_0x309633)=>{const _0x2f38f1=a26_0x2f092a,{path:_0x1ebc47}=_0x3d75df[_0x2f38f1(0x1e3)],_0x1cfeaa=_0x1ebc47['split']('/')[_0x2f38f1(0x1c9)]();if(!fs[_0x2f38f1(0x12c)](_0x1ebc47))return _0x309633['status'](0x194)[_0x2f38f1(0x235)]({'message':_0x2f38f1(0x149)});_0x309633[_0x2f38f1(0x24d)](_0x2f38f1(0x1fb),_0x2f38f1(0x1dc)),_0x309633['setHeader'](_0x2f38f1(0x110),_0x2f38f1(0x239)+_0x1cfeaa+'\x22'),_0x309633[_0x2f38f1(0x1fe)](_0x1ebc47,_0x4535a7=>{const _0x279f72=_0x2f38f1;_0x4535a7&&_0x309633[_0x279f72(0x1ab)](0x1f4)[_0x279f72(0x235)]({'message':_0x279f72(0x171)});});}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x13c),async(_0x8b32e2,_0xd86f90)=>{const _0x3c95fc=a26_0x2f092a,_0x120b70=_0x8b32e2[_0x3c95fc(0x1e3)],_0x5267e5=getHotConfig()[_0x3c95fc(0x23d)],_0x92c2c5=path['join'](_0x5267e5,_0x120b70[_0x3c95fc(0x164)]);if(!fs[_0x3c95fc(0x12c)](_0x92c2c5))return _0xd86f90['status'](0x194)[_0x3c95fc(0x235)]({'message':_0x3c95fc(0xce)});if(fs['existsSync'](path[_0x3c95fc(0x188)](_0x92c2c5,_0x120b70[_0x3c95fc(0x10b)])))return _0xd86f90[_0x3c95fc(0x1ab)](0x199)['json']({'message':'Folder\x20already\x20exists.'});fs[_0x3c95fc(0x126)](path[_0x3c95fc(0x188)](_0x92c2c5,_0x120b70[_0x3c95fc(0x10b)]),_0x2cc121=>{const _0x57512a=_0x3c95fc;_0x2cc121&&_0xd86f90[_0x57512a(0x1ab)](0x1f4)[_0x57512a(0x235)]({'message':'Error\x20creating\x20folder.'}),_0xd86f90['status'](0xc8)[_0x57512a(0x235)]({'message':'Folder\x20created.'});});}),router[a26_0x2f092a(0x1c8)]('/folders/update',async(_0x7286b4,_0xd4d530)=>{const _0x52db8d=a26_0x2f092a,{newName:_0x26d100,isFolder:_0x4f7b04,path:_0x198182}=_0x7286b4[_0x52db8d(0x1e3)];if(!fs[_0x52db8d(0x12c)](_0x198182))return _0xd4d530[_0x52db8d(0x1ab)](0x194)[_0x52db8d(0x235)]({'message':_0x4f7b04?_0x52db8d(0x1c7):_0x52db8d(0x149)});const _0x41d437=_0x198182[_0x52db8d(0x14a)](_0x198182[_0x52db8d(0x173)]('/')[_0x52db8d(0x1c9)](),_0x26d100),_0x2b8526=fs[_0x52db8d(0x127)](_0x198182);_0x2b8526[_0x52db8d(0x1e6)]()?fs['renameSync'](_0x198182,_0x41d437):(fs[_0x52db8d(0x103)](_0x198182,_0x41d437),fs[_0x52db8d(0x17b)](_0x198182)),_0xd4d530[_0x52db8d(0x1ab)](0xc8)['json']({'message':_0x4f7b04?'Folder\x20renamed.':_0x52db8d(0x137)});}),router[a26_0x2f092a(0x14b)]('/folders/delete',async(_0x32d942,_0x4063f5)=>{const _0x46d28b=a26_0x2f092a,{path:_0x36bdb2}=_0x32d942[_0x46d28b(0x1e3)];if(!fs['existsSync'](_0x36bdb2))return _0x4063f5[_0x46d28b(0x1ab)](0x194)[_0x46d28b(0x235)]({'message':_0x46d28b(0x18b)});const _0x2302d9=fs[_0x46d28b(0x127)](_0x36bdb2);if(_0x2302d9['isFile']())fs[_0x46d28b(0x1f7)](_0x36bdb2,_0x38d993=>{const _0x35eb63=_0x46d28b;_0x38d993&&_0x4063f5[_0x35eb63(0x1ab)](0x1f4)[_0x35eb63(0x235)]({'message':'Error\x20deleting\x20file.'}),_0x4063f5['status'](0xc8)[_0x35eb63(0x235)]({'message':_0x35eb63(0x26a)});});else _0x2302d9[_0x46d28b(0x1e6)]()&&fs[_0x46d28b(0x192)](_0x36bdb2,{'recursive':!![]},_0x5e062f=>{const _0x51ed1b=_0x46d28b;_0x5e062f&&_0x4063f5[_0x51ed1b(0x1ab)](0x1f4)[_0x51ed1b(0x235)]({'message':_0x51ed1b(0x118)}),_0x4063f5[_0x51ed1b(0x1ab)](0xc8)[_0x51ed1b(0x235)]({'message':_0x51ed1b(0x184)});});});!fs[a26_0x2f092a(0x12c)](a26_0x2f092a(0x1d0))&&fs[a26_0x2f092a(0x1cc)](a26_0x2f092a(0x1d0));const storage=multer['diskStorage']({'destination':(_0x76680a,_0x1704b4,_0x391c94)=>{const _0x40271d=a26_0x2f092a;_0x391c94(null,_0x40271d(0x20e));},'filename':(_0x41a973,_0x4a47e6,_0x3dc915)=>{const _0x24df61=a26_0x2f092a;_0x3dc915(null,Date['now']()+path['extname'](_0x4a47e6[_0x24df61(0x200)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router['post'](a26_0x2f092a(0x242),upload['array'](a26_0x2f092a(0x199)),async(_0x40b5c7,_0x19442d)=>{const _0x792e60=a26_0x2f092a,_0x46a05f=_0x40b5c7[_0x792e60(0x1e3)];if(!_0x40b5c7[_0x792e60(0x199)]||_0x40b5c7['files'][_0x792e60(0x150)]===0x0)return _0x19442d[_0x792e60(0x1ab)](0x190)[_0x792e60(0x235)]({'message':_0x792e60(0x21f)});const _0x396640=getHotConfig()[_0x792e60(0x23d)],_0x29efd3=path[_0x792e60(0x188)](_0x396640,_0x46a05f[_0x792e60(0x164)]);if(!fs[_0x792e60(0x12c)](_0x29efd3))return _0x19442d['status'](0x194)[_0x792e60(0x235)]({'message':_0x792e60(0xce)});const _0x517c30=_0x40b5c7[_0x792e60(0x199)][_0x792e60(0x15e)](_0x442613=>({'originalname':_0x442613[_0x792e60(0x200)],'filename':_0x442613['filename'],'mimetype':_0x442613[_0x792e60(0x13f)],'size':_0x442613[_0x792e60(0x20a)]}));_0x517c30[_0x792e60(0xdf)](_0x6c80f6=>{const _0x574534=_0x792e60;fs['copyFileSync'](path[_0x574534(0x188)](_0x574534(0x20e),_0x6c80f6[_0x574534(0x11d)]),path[_0x574534(0x188)](_0x29efd3,_0x6c80f6[_0x574534(0x200)])),fs[_0x574534(0x17b)](path[_0x574534(0x188)](_0x574534(0x20e),_0x6c80f6[_0x574534(0x11d)]));}),_0x19442d[_0x792e60(0x1ab)](0xc8)[_0x792e60(0x235)]({'message':_0x792e60(0x124),'files':_0x517c30});}),router[a26_0x2f092a(0x1c8)](a26_0x2f092a(0x269),async(_0x9b08bf,_0x125325)=>{const _0x296637=a26_0x2f092a,_0x2302d8=path[_0x296637(0x188)](path[_0x296637(0x120)](require[_0x296637(0xdb)][_0x296637(0x11d)]),_0x296637(0x22f)),{config:_0x542cda}=_0x9b08bf[_0x296637(0x1e3)];if(!_0x542cda)return _0x125325[_0x296637(0x1ab)](0x190)[_0x296637(0x235)]({'message':_0x296637(0x268)});try{fs[_0x296637(0x1a7)](_0x2302d8,JSON[_0x296637(0x187)](_0x542cda,null,0x4)),_0x125325[_0x296637(0x1ab)](0xc8)[_0x296637(0x235)]({'message':_0x296637(0x1d5)});}catch(_0x52bdaa){_0x125325['status'](0x1f4)[_0x296637(0x235)]({'message':_0x296637(0x1cf)});}}),router[a26_0x2f092a(0x1c8)]('/config/update',async(_0x3561c3,_0x1b48ad)=>{const _0x2901b3=a26_0x2f092a,{key:_0x231aca,value:_0x45de78}=_0x3561c3[_0x2901b3(0x1e3)],_0x400c03=path['join'](path[_0x2901b3(0x120)](require[_0x2901b3(0xdb)][_0x2901b3(0x11d)]),_0x2901b3(0x22f));fs['readFile'](_0x400c03,_0x2901b3(0x26e),function(_0x5ad2c8,_0x29418f){const _0x184312=_0x2901b3;_0x5ad2c8&&_0x1b48ad[_0x184312(0x1ab)](0x1f4)[_0x184312(0x24c)](_0x5ad2c8);const _0x228be2=JSON['parse'](_0x29418f);_0x228be2[_0x231aca]=_0x45de78;if(_0x231aca===_0x184312(0x13d)){let _0x596cd7='';if(_0x228be2[_0x184312(0xf2)]){_0x596cd7=os[_0x184312(0x207)]();if(_0x596cd7===_0x184312(0x1eb))_0x596cd7=_0x184312(0x16d);else{if(_0x596cd7===_0x184312(0x176))_0x596cd7=_0x184312(0x25c);}}else _0x596cd7=_0x228be2[_0x184312(0x207)];if(_0x596cd7===_0x184312(0x16d)){_0x228be2[_0x184312(0x211)]=path[_0x184312(0x18d)](__dirname,'..')+'/';const _0x19d87a=/\\/g;_0x228be2[_0x184312(0x211)]=_0x228be2['ServerLocation'][_0x184312(0x14a)](_0x19d87a,'/');}else _0x228be2['ServerLocation']=path[_0x184312(0x18d)](__dirname,'..')+'/';}if(_0x231aca===_0x184312(0xf2)){let _0x4db796=os[_0x184312(0x207)]();if(_0x4db796===_0x184312(0x1eb))_0x4db796=_0x184312(0x16d);else _0x4db796=_0x184312(0x25c);_0x4db796===_0x184312(0x16d)?_0x45de78===!![]&&(_0x228be2[_0x184312(0x22a)]=_0x228be2[_0x184312(0xd1)],_0x228be2['dwgmerge_executable']=_0x228be2['dwgmerge_executable_windows'],_0x228be2[_0x184312(0x17e)]=_0x228be2[_0x184312(0x106)]):_0x45de78===!![]&&(_0x228be2[_0x184312(0x22a)]=_0x228be2['autoxchange_executable_linux'],_0x228be2['dwgmerge_executable']=_0x228be2[_0x184312(0x14d)],_0x228be2[_0x184312(0x17e)]=_0x228be2[_0x184312(0x23e)]),_0x228be2[_0x184312(0x207)]=_0x4db796;}if(_0x228be2['autodetect_platform']){let _0x46ae65=os['platform']();if(_0x46ae65===_0x184312(0x1eb))_0x46ae65=_0x184312(0x16d);else _0x46ae65=_0x184312(0x25c);if(_0x46ae65===_0x184312(0x16d)){if(_0x231aca==='autoxchange_executable_windows')_0x228be2[_0x184312(0x22a)]=_0x45de78;else{if(_0x231aca==='dwgmerge_executable_windows')_0x228be2['dwgmerge_executable']=_0x45de78;else _0x231aca==='linklist_executable_windows'&&(_0x228be2[_0x184312(0x17e)]=_0x45de78);}}else{if(_0x231aca===_0x184312(0x12a))_0x228be2[_0x184312(0x22a)]=_0x45de78;else{if(_0x231aca===_0x184312(0x14d))_0x228be2[_0x184312(0xe6)]=_0x45de78;else _0x231aca===_0x184312(0x23e)&&(_0x228be2['linklist_executable']=_0x45de78);}}}fs['writeFile'](_0x400c03,JSON[_0x184312(0x187)](_0x228be2,null,0x4),function(_0x196333){const _0x440d42=_0x184312;_0x196333&&_0x1b48ad[_0x440d42(0x1ab)](0x1f4)[_0x440d42(0x24c)](_0x196333),_0x1b48ad['status'](0xc8)[_0x440d42(0x235)]({'message':'Config\x20updated.'});});});}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x16e),async(_0x47eac9,_0x36267a)=>{const _0x2afe38=a26_0x2f092a,_0x3ca67d=getHotConfig(),_0x207b63=(_0x3ca67d['dwgmergeLocation'][_0x2afe38(0x25f)](_0x3ca67d['ServerLocation'])?'':_0x3ca67d['ServerLocation'])+_0x3ca67d[_0x2afe38(0x111)],_0x2dfb44=(_0x3ca67d[_0x2afe38(0x111)][_0x2afe38(0x25f)](_0x3ca67d[_0x2afe38(0x211)])?'':_0x3ca67d[_0x2afe38(0x211)])+_0x3ca67d[_0x2afe38(0xf9)],_0x4e4042=(_0x3ca67d[_0x2afe38(0xd9)][_0x2afe38(0x25f)](_0x3ca67d[_0x2afe38(0x211)])?'':_0x3ca67d['ServerLocation'])+_0x3ca67d[_0x2afe38(0xd9)],_0x1a7c4f=/ax202.*\.exe/,_0xf02488=/ax202.*/,_0x18749f=/dwgmerge202.*\.exe/,_0x95cdb6=/dwgmerge_202.*/,_0x417cdf=/linklist_202.*\.exe/,_0x3ee25f=/linklist_202.*/,_0x33e98c=[],_0x17af03=[],_0x40a47b=[],_0x2d6706=[],_0x343fd7=[],_0x12e511=[];let _0x400708='';if(_0x3ca67d[_0x2afe38(0xf2)]){_0x400708=os[_0x2afe38(0x207)]();if(_0x400708==='win32')_0x400708='windows';else{if(_0x400708===_0x2afe38(0x176))_0x400708=_0x2afe38(0x25c);}}else _0x400708=_0x3ca67d[_0x2afe38(0x207)];fs[_0x2afe38(0x26c)](_0x4e4042[_0x2afe38(0xf0)]('linux',_0x2afe38(0x16d)))[_0x2afe38(0xdf)](_0x461631=>{const _0x401868=_0x2afe38;if(_0x1a7c4f[_0x401868(0x122)](_0x461631[_0x401868(0x180)]()))_0x33e98c[_0x401868(0x24f)](_0x461631);}),fs[_0x2afe38(0x26c)](_0x207b63[_0x2afe38(0xf0)](_0x2afe38(0x25c),_0x2afe38(0x16d)))[_0x2afe38(0xdf)](_0x1bb7ae=>{const _0x2a7495=_0x2afe38;if(_0x18749f[_0x2a7495(0x122)](_0x1bb7ae[_0x2a7495(0x180)]()))_0x17af03['push'](_0x1bb7ae);}),fs[_0x2afe38(0x26c)](_0x2dfb44[_0x2afe38(0xf0)]('linux','windows'))[_0x2afe38(0xdf)](_0x37a244=>{const _0x129850=_0x2afe38;if(_0x417cdf[_0x129850(0x122)](_0x37a244[_0x129850(0x180)]()))_0x40a47b[_0x129850(0x24f)](_0x37a244);}),fs['readdirSync'](_0x4e4042['replaceAll'](_0x2afe38(0x16d),'linux'))[_0x2afe38(0xdf)](_0x18e601=>{const _0x3dfd62=_0x2afe38;if(_0xf02488[_0x3dfd62(0x122)](_0x18e601[_0x3dfd62(0x180)]()))_0x2d6706['push'](_0x18e601);}),fs[_0x2afe38(0x26c)](_0x207b63[_0x2afe38(0xf0)]('windows',_0x2afe38(0x25c)))[_0x2afe38(0xdf)](_0x49d9fe=>{const _0x5288ab=_0x2afe38;if(_0x95cdb6[_0x5288ab(0x122)](_0x49d9fe['toLocaleLowerCase']()))_0x343fd7[_0x5288ab(0x24f)](_0x49d9fe);}),fs[_0x2afe38(0x26c)](_0x2dfb44['replaceAll'](_0x2afe38(0x16d),_0x2afe38(0x25c)))[_0x2afe38(0xdf)](_0x965249=>{const _0x3000ac=_0x2afe38;if(_0x3ee25f[_0x3000ac(0x122)](_0x965249[_0x3000ac(0x180)]()))_0x12e511[_0x3000ac(0x24f)](_0x965249);});const _0x59dd7f=[_0x2afe38(0x1f4),'https','converterpathWin',_0x2afe38(0x212),_0x2afe38(0x178)],_0x596112=[_0x2afe38(0x143),'fileLocationUrl',_0x2afe38(0xd9),_0x2afe38(0x237),'xpathLocation','temp_print_folder',_0x2afe38(0x234),'dwgmergeLocation',_0x2afe38(0xf9),_0x2afe38(0x1d9)],_0x762461=[_0x2afe38(0x224),_0x2afe38(0x113),_0x2afe38(0x17c),_0x2afe38(0xe4),'mysqlDatabase',_0x2afe38(0xf3),'cvjs_svgz_compress'],_0x25dedb={'ServerUrl':_0x2afe38(0x1ff),'autoxchange_executable':_0x2afe38(0xf5),'linklist_executable':_0x2afe38(0x1d7),'dwgmerge_executable':_0x2afe38(0x155),'setup_mysqlHost':_0x2afe38(0x16a),'callbackMethod_gatewayUrl_flag':_0x2afe38(0x1a6),'userFolderMaximumFiles':_0x2afe38(0xcf),'smtpHost':_0x2afe38(0x165)},_0x3a694d={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':_0x2afe38(0x1ea),'autodetect_platform':_0x2afe38(0x1ea),'cvjs_svgz_compress':'boolean','cached_conversion':_0x2afe38(0x1ea),'remainOnServer':'boolean','cvjs_debug':'boolean','autodetect_location':_0x2afe38(0x1ea),'platform':_0x2afe38(0x1a2),'autoxchange_executable':_0x2afe38(0x266)+(_0x400708===_0x2afe38(0x16d)?_0x33e98c['join'](','):_0x2d6706[_0x2afe38(0x188)](',')),'autoxchange_executable_windows':_0x2afe38(0x266)+_0x33e98c[_0x2afe38(0x188)](','),'autoxchange_executable_linux':'radio|'+_0x2d6706[_0x2afe38(0x188)](','),'dwgmerge_executable':_0x2afe38(0x266)+(_0x400708==='windows'?_0x17af03[_0x2afe38(0x188)](','):_0x343fd7[_0x2afe38(0x188)](',')),'dwgmerge_executable_windows':_0x2afe38(0x266)+_0x17af03[_0x2afe38(0x188)](','),'dwgmerge_executable_linux':_0x2afe38(0x266)+_0x343fd7[_0x2afe38(0x188)](','),'linklist_executable':_0x2afe38(0x266)+(_0x400708===_0x2afe38(0x16d)?_0x40a47b[_0x2afe38(0x188)](','):_0x12e511[_0x2afe38(0x188)](',')),'linklist_executable_windows':_0x2afe38(0x266)+_0x40a47b[_0x2afe38(0x188)](','),'linklist_executable_linux':_0x2afe38(0x266)+_0x12e511[_0x2afe38(0x188)](','),'callbackMethod_gatewayUrl_flag':_0x2afe38(0x1ea),'setup_mysqlHost':_0x2afe38(0x1ea),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x2afe38(0x1ea),'contentLocationCheck':_0x2afe38(0x1ea),'globalBearerAutentication':'boolean','bcryptSaltRounds':'number','userFolderMaximumFiles':_0x2afe38(0x112),'userFolderMaximumSizeInMB':'number','recaptchaEnabled':_0x2afe38(0x1ea),'usersExportFrequency':_0x2afe38(0xe9),'enableEmailVerification':_0x2afe38(0x1ea),'demoUserRetentionDaysAlertBeforeDeletion':_0x2afe38(0x112),'demoUserRetentionDays':'number'},_0x450e9c={},_0x342bb9=Object[_0x2afe38(0x209)](_0x3ca67d);_0x3ca67d[_0x2afe38(0xf2)]&&_0x59dd7f[_0x2afe38(0x24f)](_0x2afe38(0x207)),_0x3ca67d['autodetect_location']&&(_0x596112[_0x2afe38(0x24f)]('ServerLocation'),_0x596112['push'](_0x2afe38(0x22a)),_0x596112[_0x2afe38(0x24f)]('dwgmerge_executable'),_0x596112[_0x2afe38(0x24f)](_0x2afe38(0x17e))),!_0x3ca67d[_0x2afe38(0x220)]&&_0x596112[_0x2afe38(0x24f)](_0x2afe38(0x121)),!_0x3ca67d[_0x2afe38(0x1b0)]&&(_0x596112[_0x2afe38(0x24f)](_0x2afe38(0x113)),_0x596112['push'](_0x2afe38(0x17c)),_0x596112[_0x2afe38(0x24f)](_0x2afe38(0xe4)),_0x596112['push'](_0x2afe38(0x1f8))),!_0x3ca67d[_0x2afe38(0x1fc)]&&_0x596112['push'](_0x2afe38(0x218)),!_0x3ca67d[_0x2afe38(0x1a1)]&&(_0x596112[_0x2afe38(0x24f)](_0x2afe38(0x141)),_0x596112[_0x2afe38(0x24f)](_0x2afe38(0x11b))),!_0x3ca67d[_0x2afe38(0x1ae)]&&_0x596112[_0x2afe38(0x24f)](_0x2afe38(0x11a)),_0x342bb9[_0x2afe38(0xdf)](_0x242b28=>{const _0x5b2519=_0x2afe38;!_0x59dd7f[_0x5b2519(0x25f)](_0x242b28)&&(_0x450e9c[_0x242b28]=_0x3ca67d[_0x242b28]);}),_0x450e9c['fileLocationUrl']=''+_0x3ca67d['ServerUrl']+_0x3ca67d['fileLocation'],_0x36267a['status'](0xc8)['json']({'notEditableFields':_0x596112,'customFieldTypes':_0x3a694d,'notHotEditableFields':_0x762461,'config':_0x450e9c,'fieldsTitle':_0x25dedb,'configData':_0x3ca67d});}),router[a26_0x2f092a(0x217)]('/logs',protectedRoute,async(_0x186e71,_0x49be85)=>{const _0x4e6bae=a26_0x2f092a,_0x9c61e2=fs[_0x4e6bae(0x1d3)](path[_0x4e6bae(0x188)](path[_0x4e6bae(0x120)](require[_0x4e6bae(0xdb)][_0x4e6bae(0x11d)]),_0x4e6bae(0x1c4)),_0x4e6bae(0x26e)),_0x1ab7e5=_0x9c61e2[_0x4e6bae(0xf0)]('{version}',_0x186e71[_0x4e6bae(0x1d9)]);_0x49be85[_0x4e6bae(0x24c)](_0x1ab7e5);});function findMatchingLogFiles(_0xc2b94f,_0x473a65=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x3695e7=a26_0x2f092a;try{const _0x4af4cc=fs[_0x3695e7(0x26c)](_0xc2b94f);return _0x4af4cc[_0x3695e7(0x177)](_0x3c5759=>_0x473a65[_0x3695e7(0x122)](_0x3c5759))[_0x3695e7(0x15e)](_0x486b82=>_0x486b82[_0x3695e7(0xf0)](_0x3695e7(0x244),'')[_0x3695e7(0xf0)]('.log',''));}catch(_0x39e2c9){return console[_0x3695e7(0x1f3)](_0x3695e7(0xcd),_0x39e2c9),[];}}function a26_0xb17d(_0x502a0f,_0x6eaea0){const _0x513409=a26_0x5134();return a26_0xb17d=function(_0xb17d06,_0x378f9d){_0xb17d06=_0xb17d06-0xcc;let _0x35c11a=_0x513409[_0xb17d06];return _0x35c11a;},a26_0xb17d(_0x502a0f,_0x6eaea0);}router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x233),async(_0x28884e,_0x5e51a9)=>{const _0x93ba25=a26_0x2f092a,_0x417703=new Date(),_0xc050c8=_0x417703[_0x93ba25(0x117)]()[_0x93ba25(0x253)]()[_0x93ba25(0x1bb)](0x2,'0')+'_'+(_0x417703[_0x93ba25(0x163)]()+0x1)[_0x93ba25(0x253)]()[_0x93ba25(0x1bb)](0x2,'0')+'_'+_0x417703['getFullYear'](),{displayDay:_0x4c5d14}=_0x28884e[_0x93ba25(0x1e3)],_0x4d1453=path['join'](path['dirname'](require['main'][_0x93ba25(0x11d)]),_0x93ba25(0x1bd),_0x93ba25(0x244)+(_0x4c5d14??_0xc050c8)+_0x93ba25(0x21b));fs[_0x93ba25(0x12c)](_0x4d1453)?fs[_0x93ba25(0x230)](_0x4d1453,_0x93ba25(0x26e),function(_0x23c795,_0x4af732){const _0x5ce896=_0x93ba25;_0x23c795&&_0x5e51a9[_0x5ce896(0x1ab)](0x1f4)[_0x5ce896(0x24c)](_0x23c795),_0x5e51a9['status'](0xc8)[_0x5ce896(0x235)]({'content':_0x4af732,'days':findMatchingLogFiles(path[_0x5ce896(0x188)](path[_0x5ce896(0x120)](require[_0x5ce896(0xdb)][_0x5ce896(0x11d)]),'logs'))});}):_0x5e51a9[_0x93ba25(0x1ab)](0xc8)[_0x93ba25(0x235)]({'content':'','days':findMatchingLogFiles(path[_0x93ba25(0x188)](path[_0x93ba25(0x120)](require[_0x93ba25(0xdb)][_0x93ba25(0x11d)]),_0x93ba25(0x1bd)))});}),router['delete'](a26_0x2f092a(0x168),async(_0x2febcd,_0x17240e)=>{const _0x2f333d=a26_0x2f092a,_0x31f01f=new Date(),_0x53d734=_0x31f01f['getDate']()[_0x2f333d(0x253)]()[_0x2f333d(0x1bb)](0x2,'0')+'_'+(_0x31f01f[_0x2f333d(0x163)]()+0x1)['toString']()[_0x2f333d(0x1bb)](0x2,'0')+'_'+_0x31f01f[_0x2f333d(0x221)](),_0x51523d=findMatchingLogFiles(path[_0x2f333d(0x188)](path['dirname'](require[_0x2f333d(0xdb)][_0x2f333d(0x11d)]),_0x2f333d(0x1bd)));_0x51523d[_0x2f333d(0xdf)](_0x44b918=>{const _0x560876=_0x2f333d;if(_0x44b918!==_0x53d734)fs[_0x560876(0x17b)](path[_0x560876(0x188)](path[_0x560876(0x120)](require[_0x560876(0xdb)][_0x560876(0x11d)]),_0x560876(0x1bd),_0x560876(0x244)+_0x44b918+_0x560876(0x21b)));}),logStream['clean'](),_0x17240e[_0x2f333d(0x1ab)](0xc8)[_0x2f333d(0x235)]({'message':_0x2f333d(0x243)});}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x245),protectedRoute,async(_0x4c9a06,_0x37d0cf)=>{const _0x153285=a26_0x2f092a,_0x2b47ce=path[_0x153285(0x188)](path[_0x153285(0x120)](require[_0x153285(0xdb)][_0x153285(0x11d)]),'cadviewer/settings/rest-api-parameters.json');if(!fs[_0x153285(0x12c)](_0x2b47ce)){const _0x2520ae={'jsonDataExtraction':{'standard':[{'paramName':'json','paramValue':''},{'paramName':_0x153285(0x23b),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x153285(0x241)},{'paramName':_0x153285(0x260),'paramValue':''},{'paramName':_0x153285(0x142),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':'pdf'},{'paramName':_0x153285(0x260),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x153285(0x241)},{'paramName':_0x153285(0x260),'paramValue':''},{'paramName':_0x153285(0x142),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x153285(0x1ec),'paramValue':''}]}};fs[_0x153285(0x1a7)](_0x2b47ce,JSON['stringify'](_0x2520ae,null,0x4));}const _0x1f29fe=fs[_0x153285(0x1d3)](path[_0x153285(0x188)](path['dirname'](require['main'][_0x153285(0x11d)]),_0x153285(0x21e)),_0x153285(0x26e)),_0x56df7b=_0x1f29fe[_0x153285(0xf0)](_0x153285(0x1d6),_0x4c9a06[_0x153285(0x1d9)]);_0x37d0cf[_0x153285(0x24c)](_0x56df7b);}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x25a),async(_0x4c32c4,_0x5ef579)=>{const _0x12a367=a26_0x2f092a,{actionName:_0x19ac75,contentLocation:_0x1d97fb}=_0x4c32c4['body'],_0x4ab7ee=path[_0x12a367(0x188)](path[_0x12a367(0x120)](require[_0x12a367(0xdb)][_0x12a367(0x11d)]),_0x12a367(0x236));fs[_0x12a367(0x230)](_0x4ab7ee,_0x12a367(0x26e),function(_0x4a1d9f,_0x119a7e){const _0x550b46=_0x12a367;if(_0x4a1d9f)_0x5ef579['status'](0xc8)[_0x550b46(0x235)]({'parameters':[]});else{const _0x48a25a=JSON[_0x550b46(0x1df)](_0x119a7e);if(_0x48a25a[_0x19ac75]&&_0x48a25a[_0x19ac75][_0x1d97fb])_0x5ef579[_0x550b46(0x1ab)](0xc8)[_0x550b46(0x235)]({'parameters':_0x48a25a[_0x19ac75][_0x1d97fb]});else _0x48a25a[_0x19ac75]&&_0x48a25a[_0x19ac75][_0x550b46(0xf4)]?_0x5ef579[_0x550b46(0x1ab)](0xc8)[_0x550b46(0x235)]({'parameters':_0x48a25a[_0x19ac75][_0x550b46(0xf4)]}):_0x5ef579[_0x550b46(0x1ab)](0xc8)[_0x550b46(0x235)]({'parameters':[]});}});}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x1b9),async(_0x54cae1,_0x424245)=>{const _0x5dae6a=a26_0x2f092a,{actionName:_0x127936,contentLocation:_0x8765ec,parameters:_0x4b500c}=_0x54cae1[_0x5dae6a(0x1e3)],_0x49b36e=path[_0x5dae6a(0x188)](path[_0x5dae6a(0x120)](require[_0x5dae6a(0xdb)]['filename']),'cadviewer/settings/rest-api-parameters.json');fs['readFile'](_0x49b36e,_0x5dae6a(0x26e),function(_0x18d11b,_0x2cf519){const _0x348a47=_0x5dae6a;if(_0x18d11b)_0x424245[_0x348a47(0x1ab)](0x199)[_0x348a47(0x235)]({'message':_0x348a47(0xe8)});else{const _0x3c0bd0=JSON[_0x348a47(0x1df)](_0x2cf519);!_0x3c0bd0[_0x127936]&&(_0x3c0bd0[_0x127936]={}),_0x3c0bd0[_0x127936][_0x8765ec]=_0x4b500c,fs['writeFile'](_0x49b36e,JSON[_0x348a47(0x187)](_0x3c0bd0,null,0x4),function(_0xf30d7b){const _0x20e4e3=_0x348a47;_0xf30d7b&&_0x424245[_0x20e4e3(0x1ab)](0x199)[_0x20e4e3(0x235)]({'message':_0x20e4e3(0xe8)}),_0x424245[_0x20e4e3(0x1ab)](0xc8)[_0x20e4e3(0x235)]({'message':'Parameters\x20saved.'});});}});}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0xd7),protectedRoute,async(_0x279724,_0x12c93e)=>{const _0x2dfe1c=a26_0x2f092a,_0x4cdf8=fs[_0x2dfe1c(0x1d3)](path['join'](path[_0x2dfe1c(0x120)](require[_0x2dfe1c(0xdb)][_0x2dfe1c(0x11d)]),_0x2dfe1c(0x1d2)),_0x2dfe1c(0x26e)),_0x530e40=_0x4cdf8[_0x2dfe1c(0xf0)]('{version}',_0x279724['version']);_0x12c93e[_0x2dfe1c(0x24c)](_0x530e40);}),router['post'](a26_0x2f092a(0x172),async(_0x205240,_0x51c46c)=>{const _0x121fad=a26_0x2f092a,_0x27737b=getHotConfig(),_0x132758=_0x27737b[_0x121fad(0xd9)][_0x121fad(0xf0)]('//','/'),_0x237d07=_0x27737b['dwgmergeLocation']['replaceAll']('//','/'),_0x568905=_0x27737b[_0x121fad(0xf9)][_0x121fad(0xf0)]('//','/'),_0x1e4028=''+_0x132758+_0x27737b[_0x121fad(0x22a)],_0x1a3018=''+_0x237d07+_0x27737b[_0x121fad(0xe6)],_0x15c9ab=''+_0x568905+_0x27737b[_0x121fad(0x17e)],_0x1c3714=[],_0x1bc7bf=new Promise(_0x3b0f1e=>{const _0x5efd50=_0x121fad;exec(os[_0x5efd50(0x207)]()===_0x5efd50(0x1eb)?'dir':'ls',_0x2d8502=>{const _0x976779=_0x5efd50;_0x2d8502?_0x1c3714['push']({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':![],'priority':0x1}):_0x1c3714[_0x976779(0x24f)]({'title':_0x976779(0x24a),'status':!![],'priority':0x1}),_0x3b0f1e();});}),_0x3acf24=new Promise(_0x274d92=>{const _0x26c3e5=_0x121fad;fs[_0x26c3e5(0x1e5)](_0x1e4028,fs[_0x26c3e5(0x193)][_0x26c3e5(0x17d)],_0x43dc75=>{const _0xc98fcd=_0x26c3e5;_0x43dc75?_0x1c3714[_0xc98fcd(0x24f)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x27737b[_0xc98fcd(0x22a)]+_0xc98fcd(0x1e0),'status':![],'priority':0x2}):_0x1c3714['push']({'title':_0xc98fcd(0xd0)+_0x27737b['autoxchange_executable']+_0xc98fcd(0x1e0),'status':!![],'priority':0x2}),_0x274d92();});}),_0x39e6cd=new Promise(_0x5b1b33=>{const _0x293bae=_0x121fad;fs['access'](_0x1a3018,fs[_0x293bae(0x193)]['X_OK'],_0x2a0868=>{const _0x316385=_0x293bae;_0x2a0868?_0x1c3714[_0x316385(0x24f)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x27737b[_0x316385(0xe6)]+'\x22\x20executable','status':![],'priority':0x3}):_0x1c3714[_0x316385(0x24f)]({'title':_0x316385(0xd0)+_0x27737b[_0x316385(0xe6)]+_0x316385(0x1e0),'status':!![],'priority':0x3}),_0x5b1b33();});}),_0x44455d=new Promise(_0x548d7b=>{const _0x504527=_0x121fad;fs['access'](_0x15c9ab,fs[_0x504527(0x193)][_0x504527(0x17d)],_0x47cbe4=>{const _0x29de38=_0x504527;_0x47cbe4?_0x1c3714[_0x29de38(0x24f)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x27737b[_0x29de38(0x17e)]+_0x29de38(0x1e0),'status':![],'priority':0x4}):_0x1c3714[_0x29de38(0x24f)]({'title':_0x29de38(0xd0)+_0x27737b[_0x29de38(0x17e)]+_0x29de38(0x1e0),'status':!![],'priority':0x4}),_0x548d7b();});}),_0x3bd106=new Promise(_0x153eed=>{const _0x384251=_0x121fad,_0x3283c6=new Date(),_0x285674=_0x3283c6[_0x384251(0x117)]()[_0x384251(0x253)]()[_0x384251(0x1bb)](0x2,'0')+'_'+(_0x3283c6[_0x384251(0x163)]()+0x1)[_0x384251(0x253)]()[_0x384251(0x1bb)](0x2,'0')+'_'+_0x3283c6[_0x384251(0x221)](),{displayDay:_0x43c71f}=_0x205240[_0x384251(0x1e3)];fs[_0x384251(0x1e5)](path[_0x384251(0x188)](path[_0x384251(0x120)](require['main']['filename']),_0x384251(0x1bd),'call-Api_Conversion_'+(_0x43c71f??_0x285674)+_0x384251(0x21b)),fs[_0x384251(0x193)][_0x384251(0x26f)],_0x227b26=>{const _0x322edb=_0x384251;_0x227b26?_0x1c3714[_0x322edb(0x24f)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x43c71f??_0x285674)+'.log\x22','status':![],'priority':0x5}):_0x1c3714[_0x322edb(0x24f)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x43c71f??_0x285674)+_0x322edb(0x1e4),'status':!![],'priority':0x5}),_0x153eed();});}),_0x17171c=(_0xc31a4,_0x541408)=>{const _0xb3f6f1=_0x121fad,_0x18a045=path[_0xb3f6f1(0x188)](path[_0xb3f6f1(0x120)](require[_0xb3f6f1(0xdb)][_0xb3f6f1(0x11d)]),_0xc31a4);return new Promise(_0x373aca=>{const _0x12e029=_0xb3f6f1;fs[_0x12e029(0x1e5)](path[_0x12e029(0x188)](path[_0x12e029(0x120)](_0x18a045)),fs[_0x12e029(0x193)][_0x12e029(0x258)]|fs['constants'][_0x12e029(0x26f)],_0x16dbfb=>{const _0x502da8=_0x12e029;_0x16dbfb?_0x1c3714[_0x502da8(0x24f)]({'title':_0x502da8(0x1cb)+_0xc31a4,'status':![],'priority':_0x541408+0x6}):_0x1c3714['push']({'title':_0x502da8(0x1cb)+_0xc31a4,'status':!![],'priority':_0x541408+0x6}),_0x373aca();});});},_0x90cd89=[_0x121fad(0x12e),_0x121fad(0x1b8),'/converters/files/merged/',_0x121fad(0x203),'/converters/files/pdf/',_0x121fad(0x167),_0x121fad(0x179)],_0x51ac06=_0x90cd89[_0x121fad(0x15e)](_0x17171c);Promise['all']([_0x1bc7bf,_0x3acf24,_0x39e6cd,_0x44455d,_0x3bd106,..._0x51ac06])['then'](()=>{const _0x4a72e3=_0x121fad;_0x51c46c[_0x4a72e3(0x1ab)](0xc8)['json']({'checking_list':_0x1c3714});})[_0x121fad(0x185)](()=>{const _0x3a7dce=_0x121fad;_0x51c46c['status'](0x1f4)['json']({'error':_0x3a7dce(0x21a)});});}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x135),protectedRoute,async(_0x166fcb,_0x574047)=>{const _0x4356f3=a26_0x2f092a,_0x11e6c1=fs[_0x4356f3(0x1d3)](path['join'](path[_0x4356f3(0x120)](require[_0x4356f3(0xdb)][_0x4356f3(0x11d)]),_0x4356f3(0x1f9)),_0x4356f3(0x26e)),_0x2dbf7a=_0x11e6c1[_0x4356f3(0xf0)](_0x4356f3(0x1d6),_0x166fcb[_0x4356f3(0x1d9)]);_0x574047[_0x4356f3(0x24c)](_0x2dbf7a);}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x140),async(_0x3187b6,_0x5d1b40)=>{const _0x7a41ca=a26_0x2f092a;let _0x3eebe5;try{const [_0x20f4c1]=await conn[_0x7a41ca(0x1bf)]()['execute'](_0x7a41ca(0x1d4),[]);_0x3eebe5=_0x20f4c1;}catch(_0x450502){console[_0x7a41ca(0x19b)](_0x450502),_0x5d1b40[_0x7a41ca(0x1ab)](0x1f4)[_0x7a41ca(0x235)]({'error':_0x7a41ca(0x182)});return;}_0x5d1b40[_0x7a41ca(0x1ab)](0xc8)['json']({'success':!![],'data':_0x3eebe5});}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x135),upload[a26_0x2f092a(0x216)]('avatar'),async(_0x3c2e1a,_0x19e9dd)=>{const _0x530af0=a26_0x2f092a,{id:_0x9f1af1,first_name:_0x3efd2b,last_name:_0x49d2d0,username:_0x1fea0c,email:_0x100803,password:_0x24aa41,is_enabled:_0x3a4211}=_0x3c2e1a['body'],_0x554a1d=_0x3c2e1a['body'][_0x530af0(0x114)]===_0x530af0(0x181)?_0x530af0(0x181):_0x3c2e1a['body'][_0x530af0(0x114)]===_0x530af0(0xcc)?_0x530af0(0xcc):_0x530af0(0x21c);let _0x5d6a60;console['log'](_0x530af0(0x19c));_0x24aa41&&(_0x5d6a60=await bcrypt[_0x530af0(0x12f)](_0x24aa41,0xa));let _0x248244=null;if(_0x3c2e1a[_0x530af0(0x205)]){const _0x4b5afa=_0x530af0(0x11e)+randomUUID()+_0x530af0(0xe0);fs[_0x530af0(0x103)](_0x3c2e1a[_0x530af0(0x205)][_0x530af0(0x164)],'./'+_0x4b5afa),fs[_0x530af0(0x17b)](_0x3c2e1a[_0x530af0(0x205)]['path']),config['callbackMethod_gatewayUrl_flag']?_0x248244=config[_0x530af0(0x121)]+'/'+_0x4b5afa:_0x248244=config[_0x530af0(0x224)]+'/'+_0x4b5afa;}if(_0x9f1af1){try{let [_0x3fa26e]=await conn[_0x530af0(0x1bf)]()['execute'](_0x530af0(0x1f0),[_0x100803,_0x1fea0c,_0x9f1af1]);if(_0x3fa26e['length']>0x0)_0x19e9dd[_0x530af0(0x1ab)](0x199)[_0x530af0(0x235)]({'error':_0x530af0(0x250)});else{!_0x3c2e1a[_0x530af0(0x205)]&&([_0x3fa26e]=await conn[_0x530af0(0x1bf)]()[_0x530af0(0xf7)](_0x530af0(0x157),[_0x9f1af1]),_0x248244=_0x3fa26e[0x0][_0x530af0(0x19d)]);const _0x5925b6=_0x530af0(0x16f)+(_0x24aa41?_0x530af0(0x10c):'')+_0x530af0(0x22e);await conn[_0x530af0(0x1bf)]()[_0x530af0(0xf7)](_0x5925b6,_0x24aa41?[_0x248244,_0x3efd2b,_0x49d2d0,_0x1fea0c,_0x100803,_0x5d6a60,_0x3a4211,_0x554a1d,_0x9f1af1]:[_0x248244,_0x3efd2b,_0x49d2d0,_0x1fea0c,_0x100803,_0x3a4211,_0x554a1d,_0x9f1af1]);}}catch(_0x69b117){console['log'](_0x69b117),_0x19e9dd[_0x530af0(0x1ab)](0x1f4)[_0x530af0(0x235)]({'error':_0x530af0(0x182)});return;}_0x19e9dd[_0x530af0(0x1ab)](0xc8)[_0x530af0(0x235)]({'success':!![],'message':'User\x20updated\x20successfully'});}else{try{const [_0x1c96f3]=await conn['promise']()['execute']('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?',[_0x100803,_0x1fea0c]);if(_0x1c96f3[_0x530af0(0x150)]>0x0)_0x19e9dd['status'](0x199)[_0x530af0(0x235)]({'error':_0x530af0(0x250)});else{const _0x3eb44c=randomUUID();await conn['promise']()[_0x530af0(0xf7)](_0x530af0(0x186),[_0x248244,_0x3efd2b,_0x49d2d0,_0x1fea0c,_0x100803,_0x5d6a60,_0x554a1d,_0x3a4211,_0x3eb44c]);const _0x257433=_0x530af0(0x1e7)+_0x3eb44c;fs[_0x530af0(0x1cc)](_0x257433);}}catch(_0x35e93d){console['log'](_0x35e93d),_0x19e9dd['status'](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x19e9dd['status'](0xc8)[_0x530af0(0x235)]({'success':!![],'message':_0x530af0(0x226)});}}),router[a26_0x2f092a(0x14b)](a26_0x2f092a(0x1b7),async(_0xcbedd0,_0x85bafe)=>{const _0x1d5da7=a26_0x2f092a,{userId:_0x4dad63}=_0xcbedd0[_0x1d5da7(0x1e3)];let _0x455245;try{const [_0x3fcf57]=await conn[_0x1d5da7(0x1bf)]()['execute']('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x4dad63]);_0x3fcf57['length']>0x0&&(_0x455245=_0x3fcf57[0x0]);}catch(_0x3d5aed){console['log']({'err':_0x3d5aed}),_0x85bafe[_0x1d5da7(0x1ab)](0x1f4)[_0x1d5da7(0x235)]({'error':_0x1d5da7(0x182)});return;}if(!_0x455245){_0x85bafe[_0x1d5da7(0x1ab)](0x191)['json']({'error':_0x1d5da7(0x249)});return;}let _0x4c9f70=_0x455245[_0x1d5da7(0x11f)];if(!_0x4c9f70){_0x4c9f70=randomUUID();try{await conn[_0x1d5da7(0x1bf)]()[_0x1d5da7(0xf7)](_0x1d5da7(0x1a5),[_0x4c9f70,_0x4dad63]);}catch(_0x405d72){console[_0x1d5da7(0x19b)]({'err':_0x405d72}),_0x85bafe[_0x1d5da7(0x1ab)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x19dee0='./uploads/'+_0x4c9f70;console[_0x1d5da7(0x19b)](_0x1d5da7(0x257)),console[_0x1d5da7(0x19b)](_0x19dee0),!fs[_0x1d5da7(0x12c)](_0x19dee0)&&fs[_0x1d5da7(0x1cc)](_0x19dee0),fs['rmSync'](_0x19dee0,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x19dee0),_0x85bafe['status'](0xc8)[_0x1d5da7(0x235)]({'success':!![],'message':'User\x20directory\x20flushed\x20successfully'});}),router[a26_0x2f092a(0x14b)]('/users/:userId',async(_0x2c528e,_0xf075e7)=>{const _0x55d9c4=a26_0x2f092a,_0x52ace4=_0x2c528e[_0x55d9c4(0x23f)][_0x55d9c4(0x119)];try{let _0x4209fe;try{const [_0x2a6322]=await conn[_0x55d9c4(0x1bf)]()[_0x55d9c4(0xf7)](_0x55d9c4(0x157),[_0x52ace4]);_0x2a6322[_0x55d9c4(0x150)]>0x0&&(_0x4209fe=_0x2a6322[0x0]);}catch(_0x5f1463){console[_0x55d9c4(0x19b)]({'err':_0x5f1463}),_0xf075e7['status'](0x1f4)[_0x55d9c4(0x235)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0x4209fe){_0xf075e7[_0x55d9c4(0x1ab)](0x191)[_0x55d9c4(0x235)]({'error':'Invalid\x20user'});return;}let _0x3e8abf=_0x4209fe[_0x55d9c4(0x11f)];if(_0x3e8abf){const _0x92c135='./uploads/'+_0x3e8abf;fs['existsSync'](_0x92c135)&&fs[_0x55d9c4(0xeb)](_0x92c135,{'recursive':!![],'force':!![]});}await conn[_0x55d9c4(0x1bf)]()[_0x55d9c4(0xf7)](_0x55d9c4(0x1cd),[_0x52ace4]);}catch(_0x5f4fd2){console['log'](_0x5f4fd2),_0xf075e7['status'](0x1f4)[_0x55d9c4(0x235)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0xf075e7[_0x55d9c4(0x1ab)](0xc8)[_0x55d9c4(0x235)]({'success':!![],'message':_0x55d9c4(0x26d)});}),router['get'](a26_0x2f092a(0x13e),async(_0x2ead87,_0x1cbcb9)=>{const _0x4e222a=a26_0x2f092a,_0xe189ea=osu[_0x4e222a(0x18c)],_0x213d9a=osu['mem'],_0x3309b1=osu[_0x4e222a(0x1f6)],_0x7c6528=osu['os'],_0x32675c={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x2f2751=os[_0x4e222a(0x207)]()===_0x4e222a(0x1eb)?'c:':'/';const _0xb3f39d=await _0x3309b1['info'](_0x2f2751);_0x32675c['percentage']=_0xb3f39d[_0x4e222a(0x201)],_0x32675c[_0x4e222a(0x156)]=_0xb3f39d[_0x4e222a(0x255)],_0x32675c[_0x4e222a(0x174)]=_0xb3f39d[_0x4e222a(0x174)],_0x32675c['totalGB']=_0xb3f39d[_0x4e222a(0x147)];}catch(_0x36192f){console[_0x4e222a(0x19b)](_0x4e222a(0xe1),_0x36192f);}const _0x447d6b={'usage':0x0,'count':0x0};try{_0x447d6b[_0x4e222a(0x166)]=await _0xe189ea[_0x4e222a(0x166)](),_0x447d6b[_0x4e222a(0x229)]=_0xe189ea[_0x4e222a(0x229)]();}catch(_0x46af61){console[_0x4e222a(0x19b)](_0x4e222a(0x14e),_0x46af61);}const _0x1858bc={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x1858bc['os']=await _0x7c6528[_0x4e222a(0x101)](),_0x1858bc[_0x4e222a(0x207)]=_0x7c6528[_0x4e222a(0x207)](),_0x1858bc['ip']=_0x7c6528['ip'](),_0x1858bc[_0x4e222a(0xe7)]=_0x7c6528[_0x4e222a(0xe7)](),_0x1858bc[_0x4e222a(0xd4)]=_0x7c6528[_0x4e222a(0xd4)](),_0x1858bc['type']=_0x7c6528[_0x4e222a(0x123)](),_0x1858bc[_0x4e222a(0x23c)]=_0x7c6528[_0x4e222a(0x23c)](),_0x1858bc[_0x4e222a(0x262)]=await osu[_0x4e222a(0x248)]['who'](),_0x1858bc['whoami']=await osu[_0x4e222a(0x248)][_0x4e222a(0x1e1)](),_0x1858bc[_0x4e222a(0xee)]=await osu[_0x4e222a(0x248)]['vmstats']();}catch(_0x188ed3){console[_0x4e222a(0x19b)](_0x4e222a(0x20f),_0x188ed3);}const _0x183cbb={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x183cbb[_0x4e222a(0x1ee)]=await osu[_0x4e222a(0x1a0)][_0x4e222a(0x1ee)](),_0x183cbb[_0x4e222a(0xd3)]=await osu[_0x4e222a(0x1a0)][_0x4e222a(0xd3)]();}catch(_0x4ff31d){console[_0x4e222a(0x19b)](_0x4e222a(0xe3),_0x4ff31d);}let _0x5edd37={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0xdaf400=await _0x213d9a[_0x4e222a(0x1a3)]();_0x5edd37['usedMemPercentage']=_0xdaf400[_0x4e222a(0x153)],_0x5edd37[_0x4e222a(0x15f)]=_0xdaf400[_0x4e222a(0x238)]/0x400/0x400,_0x5edd37[_0x4e222a(0xf8)]=_0xdaf400['total']/0x400/0x400;}catch(_0x5da61e){console[_0x4e222a(0x19b)](_0x4e222a(0x19a),_0x5da61e);}let _0x5dc2fc=0x0;try{_0x5dc2fc=await conn[_0x4e222a(0x1bf)]()[_0x4e222a(0xe2)](_0x4e222a(0x17f))[_0x4e222a(0x131)](([_0x9c0925])=>_0x9c0925[0x0][_0x4e222a(0x22b)]);}catch(_0x51b249){console[_0x4e222a(0x19b)]('Error\x20getting\x20total\x20users',_0x51b249);}const _0x5b62c5=getMonitoringData(),_0x5044e1=_0x5b62c5[_0x4e222a(0x177)](_0x384887=>_0x384887[_0x4e222a(0x145)]!==null&&_0x384887[_0x4e222a(0x145)]!==undefined),_0x5d23f7=_0x5b62c5[_0x4e222a(0x177)](_0x5848d8=>_0x5848d8[_0x4e222a(0xf6)]!==null&&_0x5848d8[_0x4e222a(0xf6)]!==undefined)[_0x4e222a(0x15e)](_0x2d5c05=>parseFloat(_0x2d5c05[_0x4e222a(0xf6)][_0x4e222a(0xf0)]('Kb')[_0x4e222a(0x24e)]())),_0x448264=_0x5044e1[_0x4e222a(0x223)]((_0x2806ef,_0x207a2d)=>_0x2806ef+parseFloat(_0x207a2d['conversionTimeSpend']),0x0)/_0x5044e1[_0x4e222a(0x150)],_0x47bc22=_0x5d23f7[_0x4e222a(0x223)]((_0x4de3d4,_0x2ad969)=>_0x4de3d4+_0x2ad969,0x0)/_0x5d23f7[_0x4e222a(0x150)];_0x1cbcb9['json']({'requestsPerSecond':counter['getStats'](),'diskUsage':_0x32675c,'cpus':_0x447d6b,'system':_0x1858bc,'process':_0x183cbb,'totalMonitoringData':_0x5b62c5[_0x4e222a(0x150)],'memory':_0x5edd37,'totalUsers':_0x5dc2fc,'avgConvertionTime':_0x448264,'avgMemoryUsage':_0x47bc22});}),router['post'](a26_0x2f092a(0x14f),(_0x3939db,_0x669013)=>{const _0x255999=a26_0x2f092a;counter[_0x255999(0xed)](),_0x669013[_0x255999(0x235)]({'message':_0x255999(0x159)});});const getMonitoringData=()=>{const _0x4f1542=a26_0x2f092a,_0x297382=_0x4f1542(0xfc);let _0x51d0dd=[];try{_0x51d0dd=JSON[_0x4f1542(0x1df)](fs[_0x4f1542(0x1d3)](_0x297382));}catch(_0x27699f){console['log'](_0x4f1542(0x247));}return _0x51d0dd;};router[a26_0x2f092a(0x217)](a26_0x2f092a(0xff),async(_0x26621e,_0x169468)=>{const _0x5bf9a5=a26_0x2f092a,{page:page=0x1,limit:limit=0xa}=_0x26621e['query'],_0x56d64d=(page-0x1)*limit;try{const _0x381291=getMonitoringData(),_0x2ffdc4=_0x381291[_0x5bf9a5(0x150)],_0x9d1ca8=Math['ceil'](_0x2ffdc4/limit),_0x1cb847=_0x381291[_0x5bf9a5(0x116)](_0x56d64d,_0x56d64d+limit);_0x169468[_0x5bf9a5(0x1ab)](0xc8)[_0x5bf9a5(0x235)]({'data':_0x1cb847,'page':parseInt(''+page),'totalPages':_0x9d1ca8,'total':_0x2ffdc4});}catch(_0x2a6eb1){console[_0x5bf9a5(0x19b)](_0x2a6eb1),_0x169468['status'](0x1f4)[_0x5bf9a5(0x235)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x2f092a(0x14b)]('/conversion/clean',async(_0x1f7623,_0x2900fb)=>{const _0x295766=a26_0x2f092a,_0x1249ae='cadviewer/settings/requests-callapiconversion-monitoring.json';try{fs[_0x295766(0x1a7)](_0x1249ae,JSON[_0x295766(0x187)]([],null,0x4)),analyzeConverterFiles(),_0x2900fb['status'](0xc8)['json']({'message':_0x295766(0x1fa)});}catch(_0x4ac068){console[_0x295766(0x19b)](_0x4ac068),_0x2900fb[_0x295766(0x1ab)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x194),async(_0x58046b,_0x1925c1)=>{const _0x30c710=a26_0x2f092a,_0x1af63f=getHotConfig()['converterLocation'][_0x30c710(0xf0)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x58046b[_0x30c710(0xe2)],_0xe64a74=(page-0x1)*limit;try{const _0x406095=_0x1af63f+_0x30c710(0x1c2);console[_0x30c710(0x19b)](_0x406095);const _0x5390fe=fs[_0x30c710(0x1d3)](_0x406095,_0x30c710(0x26e)),_0x2bce5f=_0x5390fe[_0x30c710(0x173)]('\x0a'),_0x2878a2=[];_0x2bce5f[_0x30c710(0xdf)](_0x5d6103=>{const _0x372ac8=_0x30c710,_0x3c85f8=_0x5d6103[_0x372ac8(0x173)](',');if(_0x3c85f8[_0x372ac8(0x150)]<0x4)return;const _0x5d653d=_0x3c85f8[0x0],_0x4d2036=_0x3c85f8[0x1],_0x908e8c=parseFloat(_0x3c85f8[0x2]);_0x2878a2[_0x372ac8(0x24f)]({'file':_0x5d653d['replaceAll']('\x22',''),'action':_0x4d2036,'timeSpend':_0x908e8c,'memoryUsage':_0x3c85f8[0x3]});});const _0x3c79ad=_0x2878a2[_0x30c710(0x150)],_0xc66bef=Math[_0x30c710(0xfd)](_0x3c79ad/limit),_0x4ef566=_0x2878a2[_0x30c710(0x116)](_0xe64a74,_0xe64a74+limit);_0x1925c1[_0x30c710(0x1ab)](0xc8)[_0x30c710(0x235)]({'data':_0x4ef566,'page':parseInt(''+page),'totalPages':_0xc66bef,'total':_0x3c79ad});}catch(_0xd85147){console[_0x30c710(0x19b)](_0xd85147),_0x1925c1['status'](0x1f4)[_0x30c710(0x235)]({'error':_0x30c710(0x182)});}}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x183),async(_0x18dec9,_0x12719a)=>{const _0x1b3b7e=a26_0x2f092a,_0x406b4d=path[_0x1b3b7e(0x188)](path[_0x1b3b7e(0x120)](require['main'][_0x1b3b7e(0x11d)]),'converters','files');try{let _0xac0fec=0x0,_0x392edb=0x0;function _0xd132d7(_0x32d9a8){const _0x1dbd9e=_0x1b3b7e;let _0x7e76fd=0x0,_0x3fde37=0x0;if(fs[_0x1dbd9e(0x12c)](_0x32d9a8)){const _0x22b50e=fs[_0x1dbd9e(0x26c)](_0x32d9a8);_0x3fde37=0x0;for(const _0x1a03ee of _0x22b50e){const _0x1f9b30=path[_0x1dbd9e(0x188)](_0x32d9a8,_0x1a03ee),_0x1644ff=fs[_0x1dbd9e(0x127)](_0x1f9b30);if(_0x1644ff[_0x1dbd9e(0x1be)]()&&_0x1a03ee!==_0x1dbd9e(0x1d1))_0x3fde37++,_0x7e76fd+=_0x1644ff[_0x1dbd9e(0x20a)];else{if(_0x1644ff[_0x1dbd9e(0x1e6)]()){}}}}return{'size':_0x7e76fd,'count':_0x3fde37};}const _0x5ae2d4=_0xd132d7(_0x406b4d);_0xac0fec=_0x5ae2d4[_0x1b3b7e(0x20a)],_0x392edb=_0x5ae2d4[_0x1b3b7e(0x229)],_0x12719a['json']({'fileCount':_0x392edb,'totalSize':_0xac0fec});}catch(_0x8a5b14){console[_0x1b3b7e(0x1f3)](_0x1b3b7e(0x1e2),_0x8a5b14),_0x12719a['status'](0x1f4)[_0x1b3b7e(0x235)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x2f092a(0x14b)](a26_0x2f092a(0x231),async(_0x8f8918,_0x1e0119)=>{const _0x46ad7a=a26_0x2f092a,_0x2234f0=path['join'](path[_0x46ad7a(0x120)](require[_0x46ad7a(0xdb)][_0x46ad7a(0x11d)]),'converters',_0x46ad7a(0x199));try{function _0x130ffb(_0x112ea3){const _0x52eae2=_0x46ad7a;if(fs[_0x52eae2(0x12c)](_0x112ea3)){const _0x1dbe50=fs[_0x52eae2(0x26c)](_0x112ea3);for(const _0x5e5a20 of _0x1dbe50){const _0x457ae7=path[_0x52eae2(0x188)](_0x112ea3,_0x5e5a20),_0x5b5664=fs[_0x52eae2(0x127)](_0x457ae7);if(_0x5b5664[_0x52eae2(0x1e6)]()){}else _0x5e5a20!==_0x52eae2(0x1d1)&&fs['unlinkSync'](_0x457ae7);}}}_0x130ffb(_0x2234f0),analyzeConverterFiles(),_0x1e0119['json']({'message':_0x46ad7a(0x100)});}catch(_0x4349c5){console[_0x46ad7a(0x1f3)](_0x46ad7a(0x1b6),_0x4349c5),_0x1e0119[_0x46ad7a(0x1ab)](0x1f4)[_0x46ad7a(0x235)]({'error':_0x46ad7a(0x196)});}}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x109),async(_0x1a3fde,_0x33ac6e)=>{const _0x2de4c2=a26_0x2f092a;_0x33ac6e['sendFile'](path[_0x2de4c2(0x188)](path[_0x2de4c2(0x120)](require[_0x2de4c2(0xdb)][_0x2de4c2(0x11d)]),_0x2de4c2(0x1a8)));}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x162),protectedRoute,async(_0x19146d,_0xdba1be)=>{const _0x53f3f0=a26_0x2f092a,_0xcfc899=fs['readFileSync'](path[_0x53f3f0(0x188)](path[_0x53f3f0(0x120)](require[_0x53f3f0(0xdb)][_0x53f3f0(0x11d)]),'cadviewer/settings/conversion-cache.html'),_0x53f3f0(0x26e)),_0x13d718=_0xcfc899[_0x53f3f0(0xf0)](_0x53f3f0(0x1d6),_0x19146d[_0x53f3f0(0x1d9)]);_0xdba1be[_0x53f3f0(0x24c)](_0x13d718);}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x15d),async(_0x24e045,_0x1fd473)=>{const _0x3815ae=a26_0x2f092a,{page:page=0x1,limit:limit=0x10}=_0x24e045[_0x3815ae(0xe2)],_0x1b5cc5=JSON[_0x3815ae(0x1df)](fs[_0x3815ae(0x1d3)](path[_0x3815ae(0x188)](path['dirname'](require[_0x3815ae(0xdb)][_0x3815ae(0x11d)]),_0x3815ae(0x15b)))),_0x5203d9=(page-0x1)*limit,_0x31eaff=page*limit,_0x5a7772=_0x1b5cc5[_0x3815ae(0x199)][_0x3815ae(0x150)],_0x5beee8=Math[_0x3815ae(0xfd)](_0x5a7772/limit),_0x4e5c0b=_0x1b5cc5[_0x3815ae(0x199)][_0x3815ae(0x116)](_0x5203d9,_0x31eaff);_0x1fd473[_0x3815ae(0x235)]({'files':_0x4e5c0b,'pagination':{'total':_0x5a7772,'totalPages':_0x5beee8,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x254),async(_0x4571ee,_0x1adb33)=>{const _0x5da203=a26_0x2f092a,{file:_0x54b3c9}=_0x4571ee[_0x5da203(0x23f)],_0x480504=path[_0x5da203(0x188)](path[_0x5da203(0x120)](require['main'][_0x5da203(0x11d)]),_0x5da203(0x252),_0x5da203(0x199)),_0x58d824=path['join'](_0x480504,_0x54b3c9),_0x32257d=fs['readFileSync'](_0x58d824,_0x5da203(0x26e)),_0x151711=_0x32257d[_0x5da203(0x173)]('\x0a'),_0x2b06a3=_0x151711[_0x5da203(0x15e)](_0x40d1cb=>{const _0x2f4416=_0x5da203,_0x3c8c6d=_0x40d1cb[_0x2f4416(0x173)](',');return _0x3c8c6d[_0x2f4416(0x15e)](_0x37afc6=>_0x37afc6[_0x2f4416(0xf0)]('\x22',''));});_0x1adb33[_0x5da203(0x235)](_0x2b06a3);}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x1ef),async(_0x4df3e8,_0x2be2cb)=>{const _0x300eac=a26_0x2f092a,{id:_0x118d40}=_0x4df3e8[_0x300eac(0x23f)],_0x3b626a=path[_0x300eac(0x188)](path[_0x300eac(0x120)](require['main']['filename']),_0x300eac(0x252),_0x300eac(0x199)),_0x113dad=path[_0x300eac(0x188)](_0x3b626a,_0x118d40);if(_0x113dad[_0x300eac(0x19f)](_0x300eac(0x219))){var _0x9c535a=require(_0x300eac(0x198));const _0xe8a3c=fs[_0x300eac(0x1d3)](_0x113dad),_0x50deba=_0x9c535a[_0x300eac(0x1e8)](_0xe8a3c);_0x2be2cb[_0x300eac(0x24d)](_0x300eac(0x1fb),_0x300eac(0x146)),_0x2be2cb[_0x300eac(0x24c)](_0x50deba);}else _0x2be2cb[_0x300eac(0x232)](_0x113dad);}),router[a26_0x2f092a(0x14b)](a26_0x2f092a(0x1ef),async(_0x39b36e,_0x3c788d)=>{const _0x1abe59=a26_0x2f092a,{id:_0x231583}=_0x39b36e[_0x1abe59(0x23f)],_0x23fec2=path[_0x1abe59(0x188)](path[_0x1abe59(0x120)](require[_0x1abe59(0xdb)]['filename']),_0x1abe59(0x252),'files'),_0x56c5cd=JSON[_0x1abe59(0x1df)](fs[_0x1abe59(0x1d3)](path[_0x1abe59(0x188)](path[_0x1abe59(0x120)](require[_0x1abe59(0xdb)][_0x1abe59(0x11d)]),'cadviewer/settings/converter-files-analysis.json'))),_0x25fd10=_0x56c5cd['files'][_0x1abe59(0x1bc)](_0x3fe46c=>_0x3fe46c[_0x1abe59(0xfe)]===_0x231583);if(_0x25fd10){try{fs['existsSync'](path[_0x1abe59(0x188)](_0x23fec2,_0x25fd10[_0x1abe59(0xfe)]))&&fs['unlinkSync'](path[_0x1abe59(0x188)](_0x23fec2,_0x25fd10[_0x1abe59(0xfe)]));}catch(_0x6556b7){console['log'](_0x1abe59(0x12d),{'e':_0x6556b7});}(_0x25fd10[_0x1abe59(0x16c)]??[])[_0x1abe59(0xdf)](_0x397466=>{const _0xcda34c=_0x1abe59;try{fs[_0xcda34c(0x12c)](path[_0xcda34c(0x188)](_0x23fec2,_0x397466['id']))&&fs[_0xcda34c(0x17b)](path[_0xcda34c(0x188)](_0x23fec2,_0x397466['id']));}catch(_0x54b42f){console[_0xcda34c(0x19b)](_0xcda34c(0x12d),{'e':_0x54b42f});}});}analyzeConverterFiles(),_0x3c788d[_0x1abe59(0x235)]({'message':_0x1abe59(0x158)});});const deleteOldDemoUsers=async()=>{const _0x42a1de=a26_0x2f092a;console[_0x42a1de(0x19b)](_0x42a1de(0x136));const _0x47a2aa=config[_0x42a1de(0x1c6)],_0x34a206=_0x42a1de(0x24b);try{const [_0x33a709]=await conn[_0x42a1de(0x1bf)]()[_0x42a1de(0xf7)](_0x34a206,[_0x47a2aa]),_0x4b1a1e=_0x33a709[_0x42a1de(0x15e)](_0x53fec5=>_0x53fec5[_0x42a1de(0x11f)]),_0x14dbd6=_0x33a709[_0x42a1de(0x15e)](_0x19e446=>_0x19e446[_0x42a1de(0xfa)]);console[_0x42a1de(0x19b)](_0x14dbd6),await conn[_0x42a1de(0x1bf)]()[_0x42a1de(0xf7)](_0x42a1de(0x154),[_0x47a2aa]),_0x4b1a1e[_0x42a1de(0xdf)](_0x2b728e=>{const _0x49a988=_0x42a1de;try{const _0x27e512=_0x49a988(0x1e7)+_0x2b728e;fs[_0x49a988(0x1aa)](_0x27e512);}catch(_0x2c328d){console[_0x49a988(0x1f3)]('Error\x20deleting\x20user\x20folder:',_0x2c328d);}}),console[_0x42a1de(0x19b)](_0x42a1de(0x1ca)+_0x33a709['length']+_0x42a1de(0x15a)+_0x47a2aa+_0x42a1de(0x10f));}catch(_0x5b3794){console[_0x42a1de(0x1f3)]('Error\x20deleting\x20old\x20demo_user\x20accounts:',_0x5b3794);}};schedule['scheduleJob'](a26_0x2f092a(0x13a),deleteOldDemoUsers),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x1b4),protectedRoute,async(_0x145a35,_0x311f4d)=>{const _0x16d248=a26_0x2f092a,_0x568df0=fs[_0x16d248(0x1d3)](path[_0x16d248(0x188)](path['dirname'](require[_0x16d248(0xdb)][_0x16d248(0x11d)]),_0x16d248(0x130)),_0x16d248(0x26e)),_0x36a3a0=_0x568df0['replaceAll']('{version}',_0x145a35[_0x16d248(0x1d9)]);_0x311f4d['send'](_0x36a3a0);});const exportUsersList=async()=>{const _0x582267=a26_0x2f092a;console[_0x582267(0x19b)](_0x582267(0x267));const _0x2f2f4d=path[_0x582267(0x188)](path[_0x582267(0x120)](require[_0x582267(0xdb)][_0x582267(0x11d)]),_0x582267(0x21d));!fs[_0x582267(0x12c)](_0x2f2f4d)&&fs['mkdirSync'](_0x2f2f4d);const _0x120635=config[_0x582267(0x13b)]||_0x582267(0x128);let _0x10811f;const _0x1696cb=path['join'](_0x2f2f4d,'last-users-export.json');if(fs[_0x582267(0x12c)](_0x1696cb))try{const _0x1fefea=JSON[_0x582267(0x1df)](fs[_0x582267(0x1d3)](_0x1696cb,_0x582267(0x26e)));_0x10811f=new Date(_0x1fefea[_0x582267(0x138)]);}catch(_0x3864ad){console[_0x582267(0x1f3)](_0x582267(0x108),_0x3864ad),_0x10811f=calculateDefaultLastExportDate(_0x120635);}else _0x10811f=calculateDefaultLastExportDate(_0x120635);const _0x3ffc37=new Date(),_0x2f5e4f=_0x3ffc37[_0x582267(0x221)]()+'-'+String(_0x3ffc37[_0x582267(0x163)]()+0x1)[_0x582267(0x1bb)](0x2,'0')+'-'+String(_0x3ffc37[_0x582267(0x117)]())[_0x582267(0x1bb)](0x2,'0'),_0x43e749='users-export-'+_0x2f5e4f+'.csv',_0x201d4d=path[_0x582267(0x188)](_0x2f2f4d,_0x43e749);try{const _0x263318=_0x582267(0xf1),[_0x5982f8]=await conn[_0x582267(0x1bf)]()[_0x582267(0xf7)](_0x263318,[_0x10811f]);if(_0x5982f8[_0x582267(0x150)]===0x0){console[_0x582267(0x19b)](_0x582267(0x251));return;}let _0x3efc3e=_0x582267(0x1b1);_0x5982f8[_0x582267(0xdf)](_0x2c32ce=>{const _0x49faa7=_0x582267,_0x1e8a70=_0x2c32ce['email']?'\x22'+_0x2c32ce[_0x49faa7(0xfa)]['replace'](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0xe48b5b=_0x2c32ce[_0x49faa7(0x1b3)]?'\x22'+_0x2c32ce[_0x49faa7(0x1b3)][_0x49faa7(0x14a)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x3cf711=_0x2c32ce['last_name']?'\x22'+_0x2c32ce[_0x49faa7(0x1e9)][_0x49faa7(0x14a)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x3efc3e+=_0x1e8a70+','+_0xe48b5b+','+_0x3cf711+'\x0a';}),fs[_0x582267(0x1a7)](_0x201d4d,_0x3efc3e),console[_0x582267(0x19b)](_0x582267(0x1a4)+_0x5982f8[_0x582267(0x150)]+_0x582267(0xda)+_0x201d4d);const _0x107195={'lastExportDate':_0x3ffc37[_0x582267(0x1f5)](),'fileName':_0x43e749,'userCount':_0x5982f8['length']};fs['writeFileSync'](_0x1696cb,JSON[_0x582267(0x187)](_0x107195,null,0x2));}catch(_0xa1aabb){console[_0x582267(0x1f3)]('Error\x20exporting\x20users\x20for\x20Google\x20Ads:',_0xa1aabb);}},calculateDefaultLastExportDate=_0x362cf5=>{const _0x157dda=a26_0x2f092a,_0x39c008=new Date();return _0x362cf5===_0x157dda(0x17a)?_0x39c008[_0x157dda(0x10a)](_0x39c008['getDate']()-0xe):_0x39c008['setMonth'](_0x39c008[_0x157dda(0x163)]()-0x1),_0x39c008;};router[a26_0x2f092a(0x217)]('/users-export/history',async(_0x41f099,_0x507113)=>{const _0x371dbf=a26_0x2f092a,_0x1b91de=path['join'](path[_0x371dbf(0x120)](require['main']['filename']),_0x371dbf(0x21d));if(!fs['existsSync'](_0x1b91de))return _0x507113[_0x371dbf(0x1ab)](0xc8)[_0x371dbf(0x235)]({'exports':[]});try{const _0x4ed0f6=fs[_0x371dbf(0x26c)](_0x1b91de)[_0x371dbf(0x177)](_0x397102=>_0x397102['startsWith']('users-export-')&&_0x397102[_0x371dbf(0x19f)](_0x371dbf(0x240)))[_0x371dbf(0x15e)](_0x286893=>{const _0x52cfbb=_0x371dbf,_0x57513f=path[_0x52cfbb(0x188)](_0x1b91de,_0x286893),_0x59490f=fs[_0x52cfbb(0x127)](_0x57513f),_0x437f38=fs[_0x52cfbb(0x1d3)](_0x57513f,'utf8'),_0x3e406f=_0x437f38['split']('\x0a')[_0x52cfbb(0x150)]-0x1;return{'fileName':_0x286893,'createdAt':_0x59490f[_0x52cfbb(0x1c1)],'userCount':_0x3e406f};})[_0x371dbf(0x195)]((_0x292b4f,_0x260feb)=>_0x260feb[_0x371dbf(0x1db)]-_0x292b4f['createdAt']);_0x507113[_0x371dbf(0x1ab)](0xc8)[_0x371dbf(0x235)]({'exports':_0x4ed0f6});}catch(_0x46600f){console[_0x371dbf(0x1f3)](_0x371dbf(0xd8),_0x46600f),_0x507113[_0x371dbf(0x1ab)](0x1f4)['json']({'error':_0x371dbf(0x20d)});}}),router[a26_0x2f092a(0x15c)](a26_0x2f092a(0x256),async(_0x32a871,_0x4553fe)=>{const _0x4c2d9f=a26_0x2f092a;try{await exportUsersList(),_0x4553fe[_0x4c2d9f(0x1ab)](0xc8)[_0x4c2d9f(0x235)]({'message':_0x4c2d9f(0x227)});}catch(_0x50f3d3){console[_0x4c2d9f(0x1f3)](_0x4c2d9f(0x1d8),_0x50f3d3),_0x4553fe[_0x4c2d9f(0x1ab)](0x1f4)['json']({'error':_0x4c2d9f(0x1c0)});}}),router[a26_0x2f092a(0x217)](a26_0x2f092a(0x129),async(_0x5344a1,_0xed58ad)=>{const _0x217fe5=a26_0x2f092a,{fileName:_0xbb3bb1}=_0x5344a1[_0x217fe5(0x23f)],_0x4f85eb=path['join'](path[_0x217fe5(0x120)](require[_0x217fe5(0xdb)][_0x217fe5(0x11d)]),_0x217fe5(0x21d),_0xbb3bb1);if(!fs[_0x217fe5(0x12c)](_0x4f85eb))return _0xed58ad['status'](0x194)[_0x217fe5(0x235)]({'error':'Export\x20file\x20not\x20found'});_0xed58ad[_0x217fe5(0x1fe)](_0x4f85eb);}),exportUsersList(),schedule['scheduleJob'](a26_0x2f092a(0x18f),exportUsersList),schedule['scheduleJob']('0\x20*\x20*\x20*\x20*',sendFollowUpEmails),schedule['scheduleJob']('0\x200\x20*\x20*\x20*',sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x2a01b3=a26_0x2f092a;try{const _0x347157=path[_0x2a01b3(0x188)](path['dirname'](require['main'][_0x2a01b3(0x11d)]),_0x2a01b3(0x252),_0x2a01b3(0x199)),_0x33c5fe=path[_0x2a01b3(0x188)](path['dirname'](require['main'][_0x2a01b3(0x11d)]),'cadviewer','settings');if(!fs['existsSync'](_0x347157)){logStream['write'](_0x2a01b3(0x1c5)+_0x347157+_0x2a01b3(0x169));return;}if(!fs['existsSync'](_0x33c5fe)){logStream[_0x2a01b3(0x11c)]('Le\x20dossier\x20'+_0x33c5fe+_0x2a01b3(0x169));return;}const _0x44fe3c=fs['readdirSync'](_0x347157),_0x3d2dbb={};_0x44fe3c[_0x2a01b3(0xdf)](_0x3f2bfe=>{const _0x35f45c=_0x2a01b3,_0x39d6a9=path[_0x35f45c(0x188)](_0x347157,_0x3f2bfe),_0x13d47c=fs['statSync'](_0x39d6a9);!Object[_0x35f45c(0x209)](_0x3d2dbb)[_0x35f45c(0x25f)](_0x3f2bfe['split']('.')[0x0])?_0x3d2dbb[_0x3f2bfe[_0x35f45c(0x173)]('.')[0x0]]=[{'file':_0x3f2bfe,'stats':_0x13d47c}]:_0x3d2dbb[_0x3f2bfe[_0x35f45c(0x173)]('.')[0x0]][_0x35f45c(0x24f)]({'file':_0x3f2bfe,'stats':_0x13d47c});});const _0x1fb281=[];_0x44fe3c[_0x2a01b3(0xdf)](_0x4237db=>{const _0x40ccf8=_0x2a01b3;if(!_0x4237db[_0x40ccf8(0x19f)](_0x40ccf8(0xde)))return;let _0x12a850=_0x4237db;const _0x3f42bb=path['join'](_0x347157,_0x4237db),_0x2c7127=fs[_0x40ccf8(0x127)](_0x3f42bb);let _0xe692e0=_0x2c7127['size'],_0x3e8d4b='';const _0x5bbc31=fs[_0x40ccf8(0x1d3)](_0x3f42bb,_0x40ccf8(0x26e)),_0x4bc3ff=JSON['parse'](_0x5bbc31),_0x204d3e=_0x4bc3ff[_0x40ccf8(0xdc)]?.[_0x40ccf8(0x15e)](_0x126edc=>_0x126edc[_0x40ccf8(0x202)])??[];if(_0x4bc3ff[_0x40ccf8(0x11d)])_0x12a850=_0x4bc3ff[_0x40ccf8(0x11d)];const _0x2718af=Object[_0x40ccf8(0x209)](_0x3d2dbb)[_0x40ccf8(0x25f)](_0x4237db[_0x40ccf8(0x173)]('.')[0x0])?_0x3d2dbb[_0x4237db[_0x40ccf8(0x173)]('.')[0x0]]:[];for(const _0x13c527 of _0x204d3e){Object[_0x40ccf8(0x209)](_0x3d2dbb)[_0x40ccf8(0x25f)](_0x13c527)&&_0x2718af[_0x40ccf8(0x24f)](..._0x3d2dbb[_0x13c527]);}const _0x398dbb=_0x2718af['map'](({file:_0x41b1e9,stats:_0x3a3416})=>{const _0x37f8e4=_0x40ccf8;return!_0x41b1e9['endsWith'](_0x37f8e4(0xde))&&(_0xe692e0+=_0x3a3416['size']),{'id':_0x41b1e9,'name':_0x41b1e9[_0x37f8e4(0x19f)]('.svg')?_0x37f8e4(0x14c):_0x41b1e9['endsWith']('.svgz')?_0x37f8e4(0xfb):_0x41b1e9[_0x37f8e4(0x19f)](_0x37f8e4(0x105))?_0x37f8e4(0x23a):_0x41b1e9[_0x37f8e4(0x19f)](_0x37f8e4(0x161))?'JSON':_0x41b1e9['endsWith'](_0x37f8e4(0x240))?'CSV':_0x41b1e9['endsWith']('.dwg')?_0x37f8e4(0x170):_0x41b1e9[_0x37f8e4(0x173)]('.')['pop']()[_0x37f8e4(0x264)](),'color':_0x41b1e9[_0x37f8e4(0x19f)](_0x37f8e4(0x152))||_0x41b1e9['endsWith'](_0x37f8e4(0x219))?_0x37f8e4(0x210):_0x41b1e9[_0x37f8e4(0x19f)]('.pdf')?'red':_0x41b1e9[_0x37f8e4(0x19f)]('.json')?'gray':_0x41b1e9[_0x37f8e4(0x19f)](_0x37f8e4(0x240))?_0x37f8e4(0x1f2):_0x41b1e9['endsWith'](_0x37f8e4(0x263))?'blue':_0x37f8e4(0x18a)};});if(_0x398dbb[_0x40ccf8(0xd6)](_0x327884=>_0x327884['id'][_0x40ccf8(0x25f)]('.rl.json')))_0x3e8d4b=_0x40ccf8(0x225);else{if(_0x398dbb[_0x40ccf8(0xd6)](_0x471cc0=>[_0x40ccf8(0x241),'svgz'][_0x40ccf8(0x25f)](_0x471cc0['id'][_0x40ccf8(0x173)]('.')['pop']()))&&_0x398dbb['some'](_0x38ca25=>['csv']['includes'](_0x38ca25['id']['split']('.')[_0x40ccf8(0x1c9)]())))_0x3e8d4b='DWG\x20to\x20SVG\x20Conversion';else{if(_0x398dbb[_0x40ccf8(0xd6)](_0x34e568=>[_0x40ccf8(0x241),'svgz'][_0x40ccf8(0x25f)](_0x34e568['id'][_0x40ccf8(0x173)]('.')['pop']())))_0x3e8d4b=_0x40ccf8(0x213);else{if(_0x398dbb['some'](_0x5704ff=>[_0x40ccf8(0x235)][_0x40ccf8(0x25f)](_0x5704ff['id'][_0x40ccf8(0x173)]('.')[_0x40ccf8(0x1c9)]()))&&_0x398dbb[_0x40ccf8(0xd6)](_0x4cec2d=>[_0x40ccf8(0x265)]['includes'](_0x4cec2d['id'][_0x40ccf8(0x173)]('.')[_0x40ccf8(0x1c9)]())))_0x3e8d4b=_0x40ccf8(0x191);else{if(_0x398dbb[_0x40ccf8(0xd6)](_0xc79dcc=>[_0x40ccf8(0x190)]['includes'](_0xc79dcc['id']['split']('.')[_0x40ccf8(0x1c9)]())))_0x3e8d4b=_0x40ccf8(0x189);else{if(_0x398dbb[_0x40ccf8(0xd6)](_0x46a76a=>[_0x40ccf8(0x235)][_0x40ccf8(0x25f)](_0x46a76a['id']['split']('.')[_0x40ccf8(0x1c9)]()))&&!_0x398dbb[_0x40ccf8(0xd6)](_0x48f276=>[_0x40ccf8(0x265)][_0x40ccf8(0x25f)](_0x48f276['id'][_0x40ccf8(0x173)]('.')[_0x40ccf8(0x1c9)]())))_0x3e8d4b=_0x40ccf8(0x19e);else _0x398dbb['some'](_0x5456ff=>[_0x40ccf8(0x235)]['includes'](_0x5456ff['id'][_0x40ccf8(0x173)]('.')[_0x40ccf8(0x1c9)]()))&&(_0x3e8d4b=_0x40ccf8(0x214));}}}}}_0x1fb281['push']({'name':_0x4237db,'goodFileName':_0x12a850,'size':_0xe692e0,'createdAt':_0x2c7127[_0x40ccf8(0x1c1)],'updatedAt':_0x2c7127[_0x40ccf8(0x246)],'readAt':_0x2c7127['atime'],'action':_0x3e8d4b,'availableFormats':_0x398dbb});}),_0x1fb281[_0x2a01b3(0x195)]((_0x4a7b7c,_0x1d4d65)=>_0x1d4d65[_0x2a01b3(0x206)]-_0x4a7b7c[_0x2a01b3(0x206)]);const _0x126efa={'timestamp':new Date(),'totalFiles':_0x1fb281[_0x2a01b3(0x150)],'files':_0x1fb281},_0x5694cb=path[_0x2a01b3(0x188)](_0x33c5fe,_0x2a01b3(0x1ad));fs['writeFileSync'](_0x5694cb,JSON[_0x2a01b3(0x187)](_0x126efa,null,0x2));}catch(_0x586164){console[_0x2a01b3(0x19b)](_0x2a01b3(0x1de)),console[_0x2a01b3(0x19b)](_0x2a01b3(0xe5)+_0x586164['message']);}},scheduleFileAnalysis=()=>{const _0xd93f2c=a26_0x2f092a;analyzeConverterFiles(),schedule[_0xd93f2c(0x10e)](_0xd93f2c(0x10d),analyzeConverterFiles),logStream[_0xd93f2c(0x11c)](_0xd93f2c(0xd5));};function a26_0x5134(){const _0x485ce8=['Le\x20dossier\x20','demoUserRetentionDays','Folder\x20not\x20found','put','pop','Old\x20demo_user\x20accounts\x20(','Read\x20and\x20write\x20permission\x20for\x20folder\x20','mkdirSync','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','express','Error\x20updating\x20config','./tmp','.gitkeep','cadviewer/settings/doctor.html','readFileSync','SELECT\x20*\x20FROM\x20users','Config\x20updated\x20successfully','{version}','LinkList\x20Settings','Error\x20triggering\x20Users\x20export:','version','cadviewer/settings/home.html','createdAt','application/octet-stream','cadviewer/settings/style.css','===================error===================','parse','\x22\x20executable','whoami','Error\x20getting\x20cache\x20stats:','body','.log\x22','access','isDirectory','./uploads/','gunzipSync','last_name','boolean','win32','splity','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','totalProcesses','/cache/files/:id','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','488108ITOJnm','green','error','ServerPort','toISOString','drive','unlink','mysqlDatabase','cadviewer/settings/users.html','Monitoring\x20file\x20cleaned.','Content-Type','ContentSecurityPolicyReportOnly','toFixed','download','Server\x20Settings','originalname','usedPercentage','fileName','/converters/files/print/','formatedSize','file','updatedAt','platform','sub_dirs','keys','size','536bsbWyj','/folders','Failed\x20to\x20retrieve\x20export\x20history','tmp','Error\x20getting\x20os\x20info','yellow','ServerLocation','converterpathLin','Display\x20of\x20DWG','Cache\x20conversion','cadviewer/settings/vanilla-toast.css','single','get','ContentSecurityPolicy','.svgz','An\x20error\x20occurred\x20while\x20checking.','.log','user','exports','cadviewer/settings/rest-api.html','No\x20files\x20uploaded','callbackMethod_gatewayUrl_flag','getFullYear','cadviewer/settings/folders.html','reduce','ServerUrl','RL/TL\x20Processing','User\x20created\x20successfully','Users\x20export\x20triggered\x20successfully','node-schedule','count','autoxchange_executable','total','/chart.min.js','1hhxdNT','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','CADViewer_config.json','readFile','/cache/flush','sendFile','/logs/content','callbackMethod','json','cadviewer/settings/rest-api-parameters.json','licenseLocation','used','attachment;\x20filename=\x22','PDF','blocks','arch','folderLocation','linklist_executable_linux','params','.csv','svg','/folders/upload','Log\x20file\x20cleaned.','call-Api_Conversion_','/restapi-test','ctime','Error\x20reading\x20monitoring\x20file','osCmd','Invalid\x20user','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','send','setHeader','trim','push','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','converters','toString','/cache/csv/:file','usedGb','/users-export/trigger','====================','R_OK','../CADViewer_config.json','/restapi-test/parameters/search','\x20MB','linux','CADViewer\x20Settings','getHotConfig','includes','model','/icons.js','who','.dwg','toUpperCase','dwg','radio|','Exporting\x20new\x20users\x20for\x20Google\x20Ads...','No\x20config\x20object\x20provided','/config/global-update','File\x20deleted.','../libs/mysql.js','readdirSync','User\x20deleted\x20successfully','utf8','W_OK','demo_user','Error\x20finding\x20log\x20files:','Folder\x20not\x20found.','Demo\x20and\x20Base\x20User\x20Settings','Permission\x20750\x20for\x20the\x20\x22','autoxchange_executable_windows','4275cBzkvl','zombieProcesses','hostname','Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)','some','/doctor','Error\x20getting\x20Users\x20export\x20export\x20history:','converterLocation','\x20users\x20to\x20','main','cachedfiles','cadviewer/settings/licences.html','.dwg.json','forEach','.png','Error\x20getting\x20disk\x20usage','query','Error\x20getting\x20process\x20info','mysqlPassword','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','dwgmerge_executable','uptime','Error\x20saving\x20parameters.','radio|monthly,biweekly','8242510isTqYK','rmSync','6035562NMmpjn','reset','vmstats','cadviewer/settings/chart.min.js','replaceAll','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20','autodetect_platform','cached_conversion','standard','AutoXchange\x20Settings','conversionMemoryUsage','execute','totalMemMb','linklistLocation','email','SVGZ','cadviewer/settings/requests-callapiconversion-monitoring.json','ceil','name','/conversion/list','Cache\x20flushed\x20successfully','oos','2541324mFFQGP','copyFileSync','crypto','.pdf','linklist_executable_windows','../libs/email-utils','Error\x20reading\x20last\x20export\x20info:','/cache-stats.js','setDate','folderName','`crypted_password`\x20=\x20?,\x20','*\x20*\x20*\x20*\x20*','scheduleJob','\x20days\x20have\x20been\x20deleted.','Content-Disposition','dwgmergeLocation','number','mysqlHost','role','Router','slice','getDate','Error\x20deleting\x20folder.','userId','globalBearerAutenticationToken','fileLoad_Password','write','filename','avatars/','folder_name','dirname','callbackMethod_gatewayUrl','test','type','Files\x20uploaded\x20successfully','1842930MEhJYr','mkdir','statSync','monthly','/users-export/download/:fileName','autoxchange_executable_linux','\x20\x20\x20','existsSync','Error\x20deleting\x20file','/converters/files/','hash','cadviewer/settings/users-export.html','then','cadviewer/settings/tailwind.js','/vanilla-toast.css','cadviewer/settings/vanilla-toast.js','/users','Deleting\x20old\x20demo_user\x20accounts...','File\x20renamed.','lastExportDate','7gJZJQE','0\x201\x20*\x20*\x20*','usersExportFrequency','/folders/create','autodetect_location','/metrics','mimetype','/users/list','fileLoad_UserName','hlall','fileLocation','child_process','conversionTimeSpend','image/svg+xml','totalGb','/style.css','File\x20not\x20found','replace','delete','SVG','dwgmerge_executable_linux','Error\x20getting\x20cpu\x20usage','/metrics/reset','length','/folders/download','.svg','usedMemPercentage','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','DwgMerge\x20Settings','usedGB','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','File\x20deleted\x20successfully','Counter\x20reset\x20successfully',')\x20older\x20than\x20','cadviewer/settings/converter-files-analysis.json','post','/cache/files','map','usedMemMb','../libs/config','.json','/cache','getMonth','path','Mail\x20Server\x20Settings','usage','/content/redlines/','/logs/clean','\x20n\x27existe\x20pas.','Database\x20Settings','../libs/log','availableFormats','windows','/config/content','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','DWG','Error\x20downloading\x20file.','/doctor/check','split','freeGb','mode','darwin','filter','fontLocation','/content/redlines/v7/','biweekly','unlinkSync','mysqlUsername','X_OK','linklist_executable','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','toLocaleLowerCase','admin','Error!\x20Something\x20went\x20wrong.','/cache/stats','Folder\x20deleted.','catch','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','stringify','join','DWG\x20to\x20PDF\x20Conversion','purple','File\x20or\x20Folder\x20not\x20found','cpu','resolve','express-basic-auth','0\x2023\x20*\x20*\x20*','pdf','JSON\x20Data\x20Extraction','rmdir','constants','/conversion/memorydata','sort','Failed\x20to\x20flush\x20cache','6853880FHOiuZ','zlib','files','Error\x20getting\x20memory\x20info','log','=============================>','avatar_url','DWG\x20file\x20in\x20multiple\x20files','endsWith','proc','fileLoad_PasswordAuthentication','radio|windows,linux','info','Exported\x20','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Callback\x20and\x20Authentication\x20Settings','writeFileSync','cadviewer/settings/cache-stats.js','bcrypt','rmdirSync','status','/licences','converter-files-analysis.json','globalBearerAutentication','isFolder','setup_mysqlHost','email,firstname,lastname\x0a','\x20GB','first_name','/export-users','/config','Error\x20flushing\x20cache:','/users/flush-dir','/converters/autoxchange/linux/','/restapi-test/parameters/save','cadviewer/settings/config.html','padStart','find','logs','isFile','promise','Failed\x20to\x20trigger\x20export','birthtime','memorydata.csv','\x20KB','cadviewer/settings/logs.html'];a26_0x5134=function(){return _0x485ce8;};return a26_0x5134();}scheduleFileAnalysis(),module[a26_0x2f092a(0x21d)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};