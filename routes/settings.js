const a26_0x49fcab=a26_0x2038;(function(_0x283f3a,_0x4ec8b1){const _0x19b058=a26_0x2038,_0x2f0d87=_0x283f3a();while(!![]){try{const _0x14b84a=parseInt(_0x19b058(0x1c8))/0x1+-parseInt(_0x19b058(0x1da))/0x2+parseInt(_0x19b058(0xfa))/0x3*(parseInt(_0x19b058(0x193))/0x4)+parseInt(_0x19b058(0xd8))/0x5+parseInt(_0x19b058(0x120))/0x6+parseInt(_0x19b058(0x1a7))/0x7*(-parseInt(_0x19b058(0x219))/0x8)+parseInt(_0x19b058(0x199))/0x9;if(_0x14b84a===_0x4ec8b1)break;else _0x2f0d87['push'](_0x2f0d87['shift']());}catch(_0x474d84){_0x2f0d87['push'](_0x2f0d87['shift']());}}}(a26_0x314c,0x434a0));function a26_0x2038(_0xd5a091,_0x1376a0){const _0x314c53=a26_0x314c();return a26_0x2038=function(_0x203828,_0x4ad33d){_0x203828=_0x203828-0xd2;let _0x4801e8=_0x314c53[_0x203828];return _0x4801e8;},a26_0x2038(_0xd5a091,_0x1376a0);}const express=require('express'),router=express['Router'](),multer=require(a26_0x49fcab(0x1cd)),fs=require('fs'),path=require('path'),getHotConfig=require(a26_0x49fcab(0x192))['getHotConfig'],{exec}=require(a26_0x49fcab(0x160)),os=require('os'),conn=require('../libs/mysql.js'),bcrypt=require(a26_0x49fcab(0x256)),osu=require(a26_0x49fcab(0xf1)),schedule=require('node-schedule'),counter=require('../libs/counter.js'),{randomUUID}=require(a26_0x49fcab(0x205)),logStream=require(a26_0x49fcab(0x252)),config=require(a26_0x49fcab(0x12d)),basicAuth=require(a26_0x49fcab(0x1a3)),protectedRoute=basicAuth({'users':{[config[a26_0x49fcab(0x184)]]:config[a26_0x49fcab(0x21c)]},'challenge':!![],'realm':'CADViewer\x20Settings'});router[a26_0x49fcab(0x1b8)]('/tailwind.js',async(_0x2f30c4,_0x3e350b)=>{const _0x5cc353=a26_0x49fcab;_0x3e350b['sendFile'](path[_0x5cc353(0x17c)](path[_0x5cc353(0x13c)](require[_0x5cc353(0x154)][_0x5cc353(0xf3)]),_0x5cc353(0x19b)));}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x1b3),async(_0x4867ff,_0x16e66e)=>{const _0x3e634d=a26_0x49fcab;_0x16e66e['sendFile'](path['join'](path['dirname'](require[_0x3e634d(0x154)]['filename']),'cadviewer/settings/chart.min.js'));}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x245),async(_0x32704b,_0x57961d)=>{const _0x46b1e4=a26_0x49fcab;_0x57961d[_0x46b1e4(0x16c)](path['join'](path[_0x46b1e4(0x13c)](require[_0x46b1e4(0x154)][_0x46b1e4(0xf3)]),_0x46b1e4(0x1c0)));}),router[a26_0x49fcab(0x1b8)]('/vanilla-toast.css',async(_0x369c3f,_0x21353e)=>{const _0x2e7b8d=a26_0x49fcab;_0x21353e[_0x2e7b8d(0x16c)](path[_0x2e7b8d(0x17c)](path[_0x2e7b8d(0x13c)](require[_0x2e7b8d(0x154)]['filename']),_0x2e7b8d(0x186)));}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x174),async(_0x21a6af,_0x2e0578)=>{const _0x18838f=a26_0x49fcab;_0x2e0578['sendFile'](path[_0x18838f(0x17c)](path[_0x18838f(0x13c)](require[_0x18838f(0x154)][_0x18838f(0xf3)]),_0x18838f(0x198)));}),router['get'](a26_0x49fcab(0x249),async(_0x26e374,_0x141359)=>{const _0x4841a8=a26_0x49fcab;_0x141359[_0x4841a8(0x16c)](path[_0x4841a8(0x17c)](path[_0x4841a8(0x13c)](require['main'][_0x4841a8(0xf3)]),_0x4841a8(0xf5)));}),router[a26_0x49fcab(0x1b8)]('/',protectedRoute,async(_0xc44376,_0x5d8e17)=>{const _0x543170=a26_0x49fcab,_0x4c2495=fs['readFileSync'](path[_0x543170(0x17c)](path['dirname'](require[_0x543170(0x154)]['filename']),_0x543170(0x145)),'utf8'),_0xd7335f=_0x4c2495[_0x543170(0x25d)](_0x543170(0x17e),_0xc44376[_0x543170(0x229)]);_0x5d8e17[_0x543170(0xff)](_0xd7335f);}),router[a26_0x49fcab(0x1b8)]('/licences',protectedRoute,async(_0x45b233,_0x36c4df)=>{const _0x1aab0f=a26_0x49fcab,_0x44a8f0=fs[_0x1aab0f(0x113)](path['join'](path[_0x1aab0f(0x13c)](require[_0x1aab0f(0x154)][_0x1aab0f(0xf3)]),_0x1aab0f(0x11e)),_0x1aab0f(0x1e0)),_0x411320=_0x44a8f0[_0x1aab0f(0x25d)]('{version}',_0x45b233[_0x1aab0f(0x229)]);_0x36c4df[_0x1aab0f(0xff)](_0x411320);}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0xf8),protectedRoute,async(_0x2fec51,_0xc36886)=>{const _0x1e41e6=a26_0x49fcab,_0x3b033e=fs[_0x1e41e6(0x113)](path[_0x1e41e6(0x17c)](path[_0x1e41e6(0x13c)](require[_0x1e41e6(0x154)][_0x1e41e6(0xf3)]),_0x1e41e6(0x206)),_0x1e41e6(0x1e0)),_0x398293=_0x3b033e[_0x1e41e6(0x25d)]('{version}',_0x2fec51[_0x1e41e6(0x229)]);_0xc36886['send'](_0x398293);}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x194),protectedRoute,async(_0x2acdd7,_0x43c21a)=>{const _0x2e7690=a26_0x49fcab,_0x595a48=fs[_0x2e7690(0x113)](path[_0x2e7690(0x17c)](path[_0x2e7690(0x13c)](require[_0x2e7690(0x154)]['filename']),_0x2e7690(0x162)),_0x2e7690(0x1e0)),_0x3733c8=_0x595a48['replaceAll'](_0x2e7690(0x17e),_0x2acdd7['version']);_0x43c21a[_0x2e7690(0xff)](_0x3733c8);}),router[a26_0x49fcab(0x19e)](a26_0x49fcab(0x194),async(_0x598597,_0x3527ad)=>{const _0x1c9bc3=a26_0x49fcab,_0x1d14a7=path[_0x1c9bc3(0x17c)](path[_0x1c9bc3(0x13c)](require[_0x1c9bc3(0x154)]['filename']),'CADViewer_config.json'),_0x4aced5=JSON['parse'](fs[_0x1c9bc3(0x113)](_0x1d14a7,_0x1c9bc3(0x1e0))),_0x345349=_0x4aced5['folderLocation'];if(!fs[_0x1c9bc3(0xe4)](_0x345349))return _0x3527ad[_0x1c9bc3(0x22d)](0x194)[_0x1c9bc3(0x101)]({'message':_0x1c9bc3(0xde)});const _0x3c211f=_0x64bbc5=>{let _0x396feb=0x0;return _0x64bbc5['forEach'](_0x2a23fa=>{const _0x1b9e52=a26_0x2038;_0x2a23fa['isFolder']?_0x396feb+=_0x3c211f(_0x2a23fa[_0x1b9e52(0x1e5)]):_0x396feb+=_0x2a23fa[_0x1b9e52(0x17b)];}),_0x396feb;},_0x4eb3fa=_0xae4e8d=>{const _0x3c113c=_0x1c9bc3;if(_0xae4e8d<0x400)return _0xae4e8d+'\x20B';else{if(_0xae4e8d<0x400*0x400)return(_0xae4e8d/0x400)[_0x3c113c(0xed)](0x2)+_0x3c113c(0x1bf);else return _0xae4e8d<0x400*0x400*0x400?(_0xae4e8d/0x400/0x400)[_0x3c113c(0xed)](0x2)+'\x20MB':(_0xae4e8d/0x400/0x400/0x400)[_0x3c113c(0xed)](0x2)+_0x3c113c(0xe6);}},_0x32d81d=(_0x29c6f1,_0x591546='')=>{const _0x167a5b=_0x1c9bc3,_0x253b52=fs['readdirSync'](_0x29c6f1),_0x4eea66=[];return _0x253b52[_0x167a5b(0x14e)](_0x55b85d=>{const _0x43a05c=_0x167a5b,_0x38cb36=path[_0x43a05c(0x17c)](_0x29c6f1,_0x55b85d)[_0x43a05c(0x25d)]('\x5c','/'),_0x54985b=fs[_0x43a05c(0xea)](_0x38cb36);if(_0x54985b[_0x43a05c(0x231)]()){const _0x198da5=_0x32d81d(_0x38cb36,_0x591546+_0x43a05c(0x104));_0x4eea66[_0x43a05c(0x177)]({'name':_0x55b85d,'size':_0x54985b['size'],'path':_0x38cb36,'permissions':_0x54985b['mode'],'isFolder':!![],'sub_dirs':_0x198da5});}else _0x4eea66[_0x43a05c(0x177)]({'name':_0x55b85d,'size':_0x54985b['size'],'path':_0x38cb36,'permissions':_0x54985b['mode'],'isFolder':![]});}),_0x4eea66;};let _0xc8298c=_0x32d81d(_0x345349);const _0x4f9b19=_0x2bae12=>{const _0x2684fc=_0x1c9bc3;return _0x2bae12[_0x2684fc(0x14e)](_0x30d17b=>{const _0x345d82=_0x2684fc;_0x30d17b[_0x345d82(0x110)]?(_0x30d17b[_0x345d82(0x153)]=_0x4eb3fa(_0x3c211f(_0x30d17b['sub_dirs'])),_0x30d17b[_0x345d82(0x1e5)]=_0x4f9b19(_0x30d17b[_0x345d82(0x1e5)])):_0x30d17b[_0x345d82(0x153)]=_0x4eb3fa(_0x30d17b['size']);}),_0x2bae12;};_0x3527ad['status'](0xc8)[_0x1c9bc3(0x101)](_0x4f9b19(_0xc8298c));}),router[a26_0x49fcab(0x19e)](a26_0x49fcab(0xd3),async(_0x381835,_0x5dd322)=>{const _0x438cbc=a26_0x49fcab,{path:_0x344474}=_0x381835['body'],_0x13af54=_0x344474['split']('/')[_0x438cbc(0x10d)]();if(!fs[_0x438cbc(0xe4)](_0x344474))return _0x5dd322[_0x438cbc(0x22d)](0x194)[_0x438cbc(0x101)]({'message':_0x438cbc(0x127)});_0x5dd322['setHeader'](_0x438cbc(0x1eb),_0x438cbc(0x23b)),_0x5dd322[_0x438cbc(0x157)](_0x438cbc(0x1c5),_0x438cbc(0x124)+_0x13af54+'\x22'),_0x5dd322[_0x438cbc(0x1c9)](_0x344474,_0x5c9177=>{const _0x5919ce=_0x438cbc;_0x5c9177&&_0x5dd322[_0x5919ce(0x22d)](0x1f4)[_0x5919ce(0x101)]({'message':_0x5919ce(0x15e)});});}),router[a26_0x49fcab(0x19e)]('/folders/create',async(_0x3fda94,_0x1fb0d9)=>{const _0x15da9c=a26_0x49fcab,_0x1cfa38=_0x3fda94[_0x15da9c(0x1a0)],_0x21d007=getHotConfig()[_0x15da9c(0x259)],_0x2f3edf=path[_0x15da9c(0x17c)](_0x21d007,_0x1cfa38[_0x15da9c(0x1d0)]);if(!fs[_0x15da9c(0xe4)](_0x2f3edf))return _0x1fb0d9['status'](0x194)['json']({'message':_0x15da9c(0x131)});if(fs[_0x15da9c(0xe4)](path[_0x15da9c(0x17c)](_0x2f3edf,_0x1cfa38[_0x15da9c(0x165)])))return _0x1fb0d9['status'](0x199)[_0x15da9c(0x101)]({'message':_0x15da9c(0x222)});fs[_0x15da9c(0x1dc)](path[_0x15da9c(0x17c)](_0x2f3edf,_0x1cfa38[_0x15da9c(0x165)]),_0x4b05e0=>{const _0x5190a9=_0x15da9c;_0x4b05e0&&_0x1fb0d9['status'](0x1f4)[_0x5190a9(0x101)]({'message':_0x5190a9(0x14c)}),_0x1fb0d9[_0x5190a9(0x22d)](0xc8)['json']({'message':_0x5190a9(0x170)});});}),router[a26_0x49fcab(0x234)]('/folders/update',async(_0x174e3b,_0x4111ea)=>{const _0x3e3d38=a26_0x49fcab,{newName:_0x59d0b5,isFolder:_0x2dba5c,path:_0x5977d3}=_0x174e3b[_0x3e3d38(0x1a0)];if(!fs[_0x3e3d38(0xe4)](_0x5977d3))return _0x4111ea[_0x3e3d38(0x22d)](0x194)['json']({'message':_0x2dba5c?_0x3e3d38(0xe2):_0x3e3d38(0x127)});const _0x5ef75e=_0x5977d3[_0x3e3d38(0x1c2)](_0x5977d3[_0x3e3d38(0x213)]('/')[_0x3e3d38(0x10d)](),_0x59d0b5);fs[_0x3e3d38(0x1ab)](_0x5977d3,_0x5ef75e),fs[_0x3e3d38(0x250)](_0x5977d3),_0x4111ea[_0x3e3d38(0x22d)](0xc8)[_0x3e3d38(0x101)]({'message':_0x2dba5c?_0x3e3d38(0x169):_0x3e3d38(0x273)});}),router[a26_0x49fcab(0x274)](a26_0x49fcab(0x207),async(_0x556990,_0x2f922c)=>{const _0x4b5ce6=a26_0x49fcab,{path:_0x16c31a}=_0x556990[_0x4b5ce6(0x1a0)];if(!fs[_0x4b5ce6(0xe4)](_0x16c31a))return _0x2f922c[_0x4b5ce6(0x22d)](0x194)[_0x4b5ce6(0x101)]({'message':_0x4b5ce6(0xdf)});const _0x2c1eff=fs['statSync'](_0x16c31a);if(_0x2c1eff[_0x4b5ce6(0x242)]())fs[_0x4b5ce6(0x210)](_0x16c31a,_0x4bffd9=>{const _0x3e3e65=_0x4b5ce6;_0x4bffd9&&_0x2f922c[_0x3e3e65(0x22d)](0x1f4)[_0x3e3e65(0x101)]({'message':_0x3e3e65(0x271)}),_0x2f922c[_0x3e3e65(0x22d)](0xc8)[_0x3e3e65(0x101)]({'message':_0x3e3e65(0x11f)});});else _0x2c1eff[_0x4b5ce6(0x231)]()&&fs['rmdir'](_0x16c31a,{'recursive':!![]},_0x289f5b=>{const _0x1ee108=_0x4b5ce6;_0x289f5b&&_0x2f922c[_0x1ee108(0x22d)](0x1f4)['json']({'message':_0x1ee108(0x159)}),_0x2f922c[_0x1ee108(0x22d)](0xc8)[_0x1ee108(0x101)]({'message':_0x1ee108(0x204)});});});!fs['existsSync'](a26_0x49fcab(0x18a))&&fs[a26_0x49fcab(0x1ec)](a26_0x49fcab(0x18a));const storage=multer[a26_0x49fcab(0x1b4)]({'destination':(_0x246868,_0x4be801,_0x243216)=>{_0x243216(null,'tmp');},'filename':(_0x2a3476,_0x323347,_0x1a3cc6)=>{const _0xadec80=a26_0x49fcab;_0x1a3cc6(null,Date['now']()+path[_0xadec80(0x118)](_0x323347[_0xadec80(0x12f)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router['post'](a26_0x49fcab(0x26e),upload[a26_0x49fcab(0xec)](a26_0x49fcab(0x16d)),async(_0x2be89d,_0x2ef447)=>{const _0x15068b=a26_0x49fcab,_0x5c59d6=_0x2be89d[_0x15068b(0x1a0)];if(!_0x2be89d[_0x15068b(0x16d)]||_0x2be89d[_0x15068b(0x16d)][_0x15068b(0x1b9)]===0x0)return _0x2ef447[_0x15068b(0x22d)](0x190)[_0x15068b(0x101)]({'message':_0x15068b(0x115)});const _0x316089=getHotConfig()['folderLocation'],_0x471c51=path['join'](_0x316089,_0x5c59d6['path']);if(!fs[_0x15068b(0xe4)](_0x471c51))return _0x2ef447[_0x15068b(0x22d)](0x194)['json']({'message':_0x15068b(0x131)});const _0x444e24=_0x2be89d[_0x15068b(0x16d)][_0x15068b(0x1b7)](_0xf1d7ce=>({'originalname':_0xf1d7ce['originalname'],'filename':_0xf1d7ce[_0x15068b(0xf3)],'mimetype':_0xf1d7ce['mimetype'],'size':_0xf1d7ce[_0x15068b(0x17b)]}));_0x444e24['forEach'](_0x4f1b0c=>{const _0x22f684=_0x15068b;fs[_0x22f684(0x1ab)](path[_0x22f684(0x17c)](_0x22f684(0x1f1),_0x4f1b0c[_0x22f684(0xf3)]),path['join'](_0x471c51,_0x4f1b0c['originalname'])),fs['unlinkSync'](path[_0x22f684(0x17c)]('tmp',_0x4f1b0c['filename']));}),_0x2ef447['status'](0xc8)[_0x15068b(0x101)]({'message':_0x15068b(0xd9),'files':_0x444e24});}),router[a26_0x49fcab(0x234)](a26_0x49fcab(0x23e),async(_0x250158,_0x172537)=>{const _0x48a833=a26_0x49fcab,_0xd0a8b0=path[_0x48a833(0x17c)](path['dirname'](require['main'][_0x48a833(0xf3)]),_0x48a833(0x1db)),{config:_0x263d4f}=_0x250158[_0x48a833(0x1a0)];if(!_0x263d4f)return _0x172537[_0x48a833(0x22d)](0x190)[_0x48a833(0x101)]({'message':_0x48a833(0x1f4)});try{fs['writeFileSync'](_0xd0a8b0,JSON[_0x48a833(0x1f8)](_0x263d4f,null,0x4)),_0x172537[_0x48a833(0x22d)](0xc8)[_0x48a833(0x101)]({'message':'Config\x20updated\x20successfully'});}catch(_0x13d10f){_0x172537[_0x48a833(0x22d)](0x1f4)[_0x48a833(0x101)]({'message':'Error\x20updating\x20config'});}}),router[a26_0x49fcab(0x234)](a26_0x49fcab(0xdb),async(_0x4eea1d,_0x6a00d3)=>{const _0x57a8cd=a26_0x49fcab,{key:_0x12b355,value:_0x62025a}=_0x4eea1d['body'],_0x118057=path['join'](path[_0x57a8cd(0x13c)](require[_0x57a8cd(0x154)][_0x57a8cd(0xf3)]),'CADViewer_config.json');fs[_0x57a8cd(0x189)](_0x118057,'utf8',function(_0x31d7c7,_0xb64350){const _0x136136=_0x57a8cd;_0x31d7c7&&_0x6a00d3[_0x136136(0x22d)](0x1f4)[_0x136136(0xff)](_0x31d7c7);const _0x4d28f4=JSON[_0x136136(0x1a2)](_0xb64350);_0x4d28f4[_0x12b355]=_0x62025a;if(_0x12b355===_0x136136(0x1b6)){let _0x22ed75='';if(_0x4d28f4['autodetect_platform']){_0x22ed75=os[_0x136136(0x168)]();if(_0x22ed75===_0x136136(0x18c))_0x22ed75=_0x136136(0x253);else{if(_0x22ed75===_0x136136(0x211))_0x22ed75='linux';}}else _0x22ed75=_0x4d28f4[_0x136136(0x168)];if(_0x22ed75===_0x136136(0x253)){_0x4d28f4[_0x136136(0x217)]=path[_0x136136(0xdc)](__dirname,'..')+'/';const _0x23217a=/\\/g;_0x4d28f4[_0x136136(0x217)]=_0x4d28f4['ServerLocation'][_0x136136(0x1c2)](_0x23217a,'/');}else _0x4d28f4[_0x136136(0x217)]=path[_0x136136(0xdc)](__dirname,'..')+'/';}if(_0x12b355===_0x136136(0x1d7)){let _0x5e6bb7=os['platform']();if(_0x5e6bb7==='win32')_0x5e6bb7=_0x136136(0x253);else _0x5e6bb7='linux';_0x5e6bb7===_0x136136(0x253)?_0x62025a===!![]&&(_0x4d28f4['autoxchange_executable']=_0x4d28f4[_0x136136(0x21b)],_0x4d28f4[_0x136136(0xd5)]=_0x4d28f4['dwgmerge_executable_windows'],_0x4d28f4[_0x136136(0x22b)]=_0x4d28f4[_0x136136(0x1e3)]):_0x62025a===!![]&&(_0x4d28f4['autoxchange_executable']=_0x4d28f4['autoxchange_executable_linux'],_0x4d28f4[_0x136136(0xd5)]=_0x4d28f4[_0x136136(0x138)],_0x4d28f4['linklist_executable']=_0x4d28f4['linklist_executable_linux']),_0x4d28f4[_0x136136(0x168)]=_0x5e6bb7;}if(_0x4d28f4['autodetect_platform']){let _0x1f2335=os[_0x136136(0x168)]();if(_0x1f2335===_0x136136(0x18c))_0x1f2335=_0x136136(0x253);else _0x1f2335='linux';if(_0x1f2335===_0x136136(0x253)){if(_0x12b355===_0x136136(0x21b))_0x4d28f4[_0x136136(0x225)]=_0x62025a;else{if(_0x12b355===_0x136136(0x1c7))_0x4d28f4[_0x136136(0xd5)]=_0x62025a;else _0x12b355===_0x136136(0x1e3)&&(_0x4d28f4['linklist_executable']=_0x62025a);}}else{if(_0x12b355==='autoxchange_executable_linux')_0x4d28f4[_0x136136(0x225)]=_0x62025a;else{if(_0x12b355==='dwgmerge_executable_linux')_0x4d28f4['dwgmerge_executable']=_0x62025a;else _0x12b355===_0x136136(0x173)&&(_0x4d28f4['linklist_executable']=_0x62025a);}}}fs['writeFile'](_0x118057,JSON[_0x136136(0x1f8)](_0x4d28f4,null,0x4),function(_0x56223d){const _0x39c26a=_0x136136;_0x56223d&&_0x6a00d3[_0x39c26a(0x22d)](0x1f4)[_0x39c26a(0xff)](_0x56223d),_0x6a00d3[_0x39c26a(0x22d)](0xc8)[_0x39c26a(0x101)]({'message':_0x39c26a(0x136)});});});}),router[a26_0x49fcab(0x19e)](a26_0x49fcab(0x1b5),async(_0x57e451,_0x2286a1)=>{const _0x1f03aa=a26_0x49fcab,_0x4acb15=getHotConfig(),_0x782331=(_0x4acb15[_0x1f03aa(0x144)][_0x1f03aa(0x178)](_0x4acb15[_0x1f03aa(0x217)])?'':_0x4acb15[_0x1f03aa(0x217)])+_0x4acb15[_0x1f03aa(0x144)],_0x376047=(_0x4acb15['dwgmergeLocation'][_0x1f03aa(0x178)](_0x4acb15['ServerLocation'])?'':_0x4acb15['ServerLocation'])+_0x4acb15[_0x1f03aa(0x123)],_0x5149ad=(_0x4acb15[_0x1f03aa(0x1dd)][_0x1f03aa(0x178)](_0x4acb15[_0x1f03aa(0x217)])?'':_0x4acb15[_0x1f03aa(0x217)])+_0x4acb15[_0x1f03aa(0x1dd)],_0x1d09fc=/ax202.*\.exe/,_0x1b1d10=/ax202.*/,_0x250218=/dwgmerge202.*\.exe/,_0x151f0d=/dwgmerge_202.*/,_0x589511=/linklist_202.*\.exe/,_0x174f68=/linklist_202.*/,_0x4ae958=[],_0x20dd03=[],_0x3c62d0=[],_0x127a38=[],_0x34be8a=[],_0x4f4c31=[];let _0x456e54='';if(_0x4acb15[_0x1f03aa(0x1d7)]){_0x456e54=os['platform']();if(_0x456e54===_0x1f03aa(0x18c))_0x456e54='windows';else{if(_0x456e54===_0x1f03aa(0x211))_0x456e54='linux';}}else _0x456e54=_0x4acb15[_0x1f03aa(0x168)];fs['readdirSync'](_0x5149ad[_0x1f03aa(0x25d)](_0x1f03aa(0x114),_0x1f03aa(0x253)))[_0x1f03aa(0x14e)](_0x4b5536=>{const _0x31afe4=_0x1f03aa;if(_0x1d09fc['test'](_0x4b5536[_0x31afe4(0x11b)]()))_0x4ae958[_0x31afe4(0x177)](_0x4b5536);}),fs[_0x1f03aa(0x179)](_0x782331[_0x1f03aa(0x25d)](_0x1f03aa(0x114),_0x1f03aa(0x253)))[_0x1f03aa(0x14e)](_0x2d97c9=>{const _0x2bf14d=_0x1f03aa;if(_0x250218[_0x2bf14d(0x19c)](_0x2d97c9['toLocaleLowerCase']()))_0x20dd03[_0x2bf14d(0x177)](_0x2d97c9);}),fs[_0x1f03aa(0x179)](_0x376047[_0x1f03aa(0x25d)](_0x1f03aa(0x114),_0x1f03aa(0x253)))[_0x1f03aa(0x14e)](_0x5f511e=>{const _0x2b21c1=_0x1f03aa;if(_0x589511[_0x2b21c1(0x19c)](_0x5f511e[_0x2b21c1(0x11b)]()))_0x3c62d0[_0x2b21c1(0x177)](_0x5f511e);}),fs[_0x1f03aa(0x179)](_0x5149ad['replaceAll'](_0x1f03aa(0x253),_0x1f03aa(0x114)))[_0x1f03aa(0x14e)](_0x38cabf=>{const _0xd4baaa=_0x1f03aa;if(_0x1b1d10['test'](_0x38cabf[_0xd4baaa(0x11b)]()))_0x127a38[_0xd4baaa(0x177)](_0x38cabf);}),fs[_0x1f03aa(0x179)](_0x782331[_0x1f03aa(0x25d)](_0x1f03aa(0x253),_0x1f03aa(0x114)))[_0x1f03aa(0x14e)](_0x30db2a=>{const _0x225b26=_0x1f03aa;if(_0x151f0d[_0x225b26(0x19c)](_0x30db2a[_0x225b26(0x11b)]()))_0x34be8a['push'](_0x30db2a);}),fs[_0x1f03aa(0x179)](_0x376047['replaceAll']('windows','linux'))['forEach'](_0x20ef64=>{const _0x522e0e=_0x1f03aa;if(_0x174f68[_0x522e0e(0x19c)](_0x20ef64[_0x522e0e(0x11b)]()))_0x4f4c31['push'](_0x20ef64);});const _0xb11b78=[_0x1f03aa(0x24e),_0x1f03aa(0xe1),'converterpathWin',_0x1f03aa(0x19f),'fontLocation'],_0x229dfe=[_0x1f03aa(0x19a),'fileLocationUrl',_0x1f03aa(0x1dd),_0x1f03aa(0x20b),'xpathLocation',_0x1f03aa(0x122),_0x1f03aa(0xd7),_0x1f03aa(0x144),_0x1f03aa(0x123),_0x1f03aa(0x229)],_0x1db966=[_0x1f03aa(0x25a),_0x1f03aa(0x12c),_0x1f03aa(0x20d),'mysqlPassword',_0x1f03aa(0x1f0),'cached_conversion',_0x1f03aa(0x130)],_0x361eee={'ServerUrl':_0x1f03aa(0x12e),'autoxchange_executable':_0x1f03aa(0xef),'linklist_executable':_0x1f03aa(0x23a),'dwgmerge_executable':'DwgMerge\x20Settings','setup_mysqlHost':'Database\x20Settings','callbackMethod_gatewayUrl_flag':_0x1f03aa(0x151),'userFolderMaximumFiles':_0x1f03aa(0x15d),'smtpHost':_0x1f03aa(0x13a)},_0xffc4d0={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':_0x1f03aa(0x183),'autodetect_platform':_0x1f03aa(0x183),'cvjs_svgz_compress':_0x1f03aa(0x183),'cached_conversion':_0x1f03aa(0x183),'remainOnServer':_0x1f03aa(0x183),'cvjs_debug':_0x1f03aa(0x183),'autodetect_location':_0x1f03aa(0x183),'platform':_0x1f03aa(0x18e),'autoxchange_executable':_0x1f03aa(0x135)+(_0x456e54===_0x1f03aa(0x253)?_0x4ae958[_0x1f03aa(0x17c)](','):_0x127a38['join'](',')),'autoxchange_executable_windows':_0x1f03aa(0x135)+_0x4ae958[_0x1f03aa(0x17c)](','),'autoxchange_executable_linux':_0x1f03aa(0x135)+_0x127a38['join'](','),'dwgmerge_executable':'radio|'+(_0x456e54===_0x1f03aa(0x253)?_0x20dd03[_0x1f03aa(0x17c)](','):_0x34be8a[_0x1f03aa(0x17c)](',')),'dwgmerge_executable_windows':_0x1f03aa(0x135)+_0x20dd03[_0x1f03aa(0x17c)](','),'dwgmerge_executable_linux':_0x1f03aa(0x135)+_0x34be8a['join'](','),'linklist_executable':_0x1f03aa(0x135)+(_0x456e54===_0x1f03aa(0x253)?_0x3c62d0[_0x1f03aa(0x17c)](','):_0x4f4c31[_0x1f03aa(0x17c)](',')),'linklist_executable_windows':_0x1f03aa(0x135)+_0x3c62d0[_0x1f03aa(0x17c)](','),'linklist_executable_linux':'radio|'+_0x4f4c31['join'](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':_0x1f03aa(0x183),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x1f03aa(0x183),'contentLocationCheck':_0x1f03aa(0x183),'globalBearerAutentication':_0x1f03aa(0x183),'bcryptSaltRounds':_0x1f03aa(0x1ad),'userFolderMaximumFiles':_0x1f03aa(0x1ad),'userFolderMaximumSizeInMB':_0x1f03aa(0x1ad)},_0xc2607c={},_0x3c79a3=Object['keys'](_0x4acb15);_0x4acb15['autodetect_platform']&&_0xb11b78['push']('platform'),_0x4acb15[_0x1f03aa(0x1b6)]&&(_0x229dfe[_0x1f03aa(0x177)]('ServerLocation'),_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x225)),_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0xd5)),_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x22b))),!_0x4acb15[_0x1f03aa(0xf9)]&&_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x17f)),!_0x4acb15[_0x1f03aa(0x223)]&&(_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x12c)),_0x229dfe['push']('mysqlUsername'),_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x1c4)),_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x1f0))),!_0x4acb15[_0x1f03aa(0x247)]&&_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x106)),!_0x4acb15['fileLoad_PasswordAuthentication']&&(_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x246)),_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x1bb))),!_0x4acb15[_0x1f03aa(0x1a6)]&&_0x229dfe[_0x1f03aa(0x177)](_0x1f03aa(0x215)),_0x3c79a3['forEach'](_0x146dad=>{const _0x217a9e=_0x1f03aa;!_0xb11b78[_0x217a9e(0x178)](_0x146dad)&&(_0xc2607c[_0x146dad]=_0x4acb15[_0x146dad]);}),_0xc2607c[_0x1f03aa(0x24c)]=''+_0x4acb15[_0x1f03aa(0x25a)]+_0x4acb15[_0x1f03aa(0x19a)],_0x2286a1[_0x1f03aa(0x22d)](0xc8)['json']({'notEditableFields':_0x229dfe,'customFieldTypes':_0xffc4d0,'notHotEditableFields':_0x1db966,'config':_0xc2607c,'fieldsTitle':_0x361eee,'configData':_0x4acb15});}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x25e),protectedRoute,async(_0x2a18a0,_0xb9949b)=>{const _0x363315=a26_0x49fcab,_0x34a3fa=fs[_0x363315(0x113)](path[_0x363315(0x17c)](path['dirname'](require[_0x363315(0x154)][_0x363315(0xf3)]),_0x363315(0x228)),'utf8'),_0x37cdf2=_0x34a3fa[_0x363315(0x25d)](_0x363315(0x17e),_0x2a18a0[_0x363315(0x229)]);_0xb9949b[_0x363315(0xff)](_0x37cdf2);});function findMatchingLogFiles(_0x5f2953,_0x40a428=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x28fa16=a26_0x49fcab;try{const _0x2aba73=fs[_0x28fa16(0x179)](_0x5f2953);return _0x2aba73[_0x28fa16(0x1a9)](_0x33cfcb=>_0x40a428[_0x28fa16(0x19c)](_0x33cfcb))[_0x28fa16(0x1b7)](_0x539cfd=>_0x539cfd[_0x28fa16(0x25d)](_0x28fa16(0xf4),'')[_0x28fa16(0x25d)]('.log',''));}catch(_0x24f6f0){return console[_0x28fa16(0x22a)](_0x28fa16(0x26a),_0x24f6f0),[];}}router[a26_0x49fcab(0x19e)](a26_0x49fcab(0x191),async(_0x2e772e,_0x3a219f)=>{const _0x5999dc=a26_0x49fcab,_0x33d0de=new Date(),_0x2ed284=_0x33d0de[_0x5999dc(0x1d9)]()[_0x5999dc(0x155)]()[_0x5999dc(0x1af)](0x2,'0')+'_'+(_0x33d0de[_0x5999dc(0x10b)]()+0x1)[_0x5999dc(0x155)]()[_0x5999dc(0x1af)](0x2,'0')+'_'+_0x33d0de[_0x5999dc(0x1e7)](),{displayDay:_0x38907c}=_0x2e772e[_0x5999dc(0x1a0)],_0x386287=path[_0x5999dc(0x17c)](path[_0x5999dc(0x13c)](require[_0x5999dc(0x154)][_0x5999dc(0xf3)]),_0x5999dc(0x227),_0x5999dc(0xf4)+(_0x38907c??_0x2ed284)+_0x5999dc(0x26c));fs[_0x5999dc(0xe4)](_0x386287)?fs['readFile'](_0x386287,_0x5999dc(0x1e0),function(_0x2d329f,_0x236cc1){const _0x4d94c1=_0x5999dc;_0x2d329f&&_0x3a219f[_0x4d94c1(0x22d)](0x1f4)[_0x4d94c1(0xff)](_0x2d329f),_0x3a219f['status'](0xc8)[_0x4d94c1(0x101)]({'content':_0x236cc1,'days':findMatchingLogFiles(path[_0x4d94c1(0x17c)](path[_0x4d94c1(0x13c)](require[_0x4d94c1(0x154)]['filename']),'logs'))});}):_0x3a219f[_0x5999dc(0x22d)](0xc8)[_0x5999dc(0x101)]({'content':'','days':findMatchingLogFiles(path[_0x5999dc(0x17c)](path[_0x5999dc(0x13c)](require['main'][_0x5999dc(0xf3)]),'logs'))});}),router[a26_0x49fcab(0x274)](a26_0x49fcab(0x214),async(_0x495352,_0x2a59c2)=>{const _0xe1112a=a26_0x49fcab,_0xda58f7=new Date(),_0x2038cc=_0xda58f7[_0xe1112a(0x1d9)]()[_0xe1112a(0x155)]()['padStart'](0x2,'0')+'_'+(_0xda58f7[_0xe1112a(0x10b)]()+0x1)['toString']()[_0xe1112a(0x1af)](0x2,'0')+'_'+_0xda58f7[_0xe1112a(0x1e7)](),_0x3e6ba0=findMatchingLogFiles(path[_0xe1112a(0x17c)](path[_0xe1112a(0x13c)](require['main'][_0xe1112a(0xf3)]),_0xe1112a(0x227)));_0x3e6ba0[_0xe1112a(0x14e)](_0x19f9d1=>{const _0x27d179=_0xe1112a;if(_0x19f9d1!==_0x2038cc)fs['unlinkSync'](path[_0x27d179(0x17c)](path['dirname'](require[_0x27d179(0x154)]['filename']),_0x27d179(0x227),_0x27d179(0xf4)+_0x19f9d1+_0x27d179(0x26c)));}),logStream[_0xe1112a(0x15a)](),_0x2a59c2[_0xe1112a(0x22d)](0xc8)['json']({'message':'Log\x20file\x20cleaned.'});}),router['get'](a26_0x49fcab(0x26f),protectedRoute,async(_0x1c1719,_0x31b260)=>{const _0x466e94=a26_0x49fcab,_0x555d9a=path[_0x466e94(0x17c)](path[_0x466e94(0x13c)](require['main'][_0x466e94(0xf3)]),_0x466e94(0x23c));if(!fs['existsSync'](_0x555d9a)){const _0x11421f={'jsonDataExtraction':{'standard':[{'paramName':_0x466e94(0x101),'paramValue':''},{'paramName':_0x466e94(0x1a1),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x466e94(0x25b),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x466e94(0x18b)},{'paramName':'model','paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x466e94(0x25b),'paramValue':''},{'paramName':_0x466e94(0x161),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x466e94(0x1ca),'paramValue':''}]}};fs['writeFileSync'](_0x555d9a,JSON[_0x466e94(0x1f8)](_0x11421f,null,0x4));}const _0x32ed2a=fs['readFileSync'](path[_0x466e94(0x17c)](path[_0x466e94(0x13c)](require[_0x466e94(0x154)][_0x466e94(0xf3)]),_0x466e94(0xe0)),_0x466e94(0x1e0)),_0x3b7814=_0x32ed2a[_0x466e94(0x25d)](_0x466e94(0x17e),_0x1c1719[_0x466e94(0x229)]);_0x31b260[_0x466e94(0xff)](_0x3b7814);}),router[a26_0x49fcab(0x19e)](a26_0x49fcab(0x1a8),async(_0x4d2f0a,_0x1fa5f4)=>{const _0x28da08=a26_0x49fcab,{actionName:_0x1d2169,contentLocation:_0x58fa7d}=_0x4d2f0a[_0x28da08(0x1a0)],_0x356683=path[_0x28da08(0x17c)](path[_0x28da08(0x13c)](require[_0x28da08(0x154)][_0x28da08(0xf3)]),_0x28da08(0x23c));fs[_0x28da08(0x189)](_0x356683,'utf8',function(_0xb382c7,_0x5ec223){const _0x587fa9=_0x28da08;if(_0xb382c7)_0x1fa5f4['status'](0xc8)[_0x587fa9(0x101)]({'parameters':[]});else{const _0x3f75d3=JSON['parse'](_0x5ec223);if(_0x3f75d3[_0x1d2169]&&_0x3f75d3[_0x1d2169][_0x58fa7d])_0x1fa5f4[_0x587fa9(0x22d)](0xc8)['json']({'parameters':_0x3f75d3[_0x1d2169][_0x58fa7d]});else _0x3f75d3[_0x1d2169]&&_0x3f75d3[_0x1d2169][_0x587fa9(0x1d3)]?_0x1fa5f4['status'](0xc8)[_0x587fa9(0x101)]({'parameters':_0x3f75d3[_0x1d2169][_0x587fa9(0x1d3)]}):_0x1fa5f4[_0x587fa9(0x22d)](0xc8)[_0x587fa9(0x101)]({'parameters':[]});}});}),router[a26_0x49fcab(0x19e)](a26_0x49fcab(0xf0),async(_0x2f3aa7,_0x3d5b70)=>{const _0x49f9c6=a26_0x49fcab,{actionName:_0xe0d44a,contentLocation:_0x439827,parameters:_0x122175}=_0x2f3aa7[_0x49f9c6(0x1a0)],_0x25b965=path['join'](path[_0x49f9c6(0x13c)](require[_0x49f9c6(0x154)]['filename']),_0x49f9c6(0x23c));fs[_0x49f9c6(0x189)](_0x25b965,_0x49f9c6(0x1e0),function(_0x4b425e,_0x3c57be){const _0x5a6e96=_0x49f9c6;if(_0x4b425e)_0x3d5b70[_0x5a6e96(0x22d)](0x199)[_0x5a6e96(0x101)]({'message':'Error\x20saving\x20parameters.'});else{const _0x3c9791=JSON['parse'](_0x3c57be);!_0x3c9791[_0xe0d44a]&&(_0x3c9791[_0xe0d44a]={}),_0x3c9791[_0xe0d44a][_0x439827]=_0x122175,fs['writeFile'](_0x25b965,JSON[_0x5a6e96(0x1f8)](_0x3c9791,null,0x4),function(_0x7e0056){const _0x1916e8=_0x5a6e96;_0x7e0056&&_0x3d5b70['status'](0x199)[_0x1916e8(0x101)]({'message':_0x1916e8(0x141)}),_0x3d5b70[_0x1916e8(0x22d)](0xc8)['json']({'message':_0x1916e8(0x238)});});}});}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x1a5),protectedRoute,async(_0x57b09a,_0x3337d9)=>{const _0xee9059=a26_0x49fcab,_0x1e779e=fs[_0xee9059(0x113)](path[_0xee9059(0x17c)](path[_0xee9059(0x13c)](require[_0xee9059(0x154)][_0xee9059(0xf3)]),_0xee9059(0x1df)),_0xee9059(0x1e0)),_0x51b2ec=_0x1e779e[_0xee9059(0x25d)]('{version}',_0x57b09a[_0xee9059(0x229)]);_0x3337d9[_0xee9059(0xff)](_0x51b2ec);}),router[a26_0x49fcab(0x19e)](a26_0x49fcab(0x16b),async(_0x233a91,_0x8ab6)=>{const _0x5e61a9=a26_0x49fcab,_0x6b870d=getHotConfig(),_0x5966ab=_0x6b870d[_0x5e61a9(0x1dd)][_0x5e61a9(0x25d)]('//','/'),_0x38e962=_0x6b870d[_0x5e61a9(0x144)][_0x5e61a9(0x25d)]('//','/'),_0x479771=_0x6b870d[_0x5e61a9(0x123)][_0x5e61a9(0x25d)]('//','/'),_0x4aab12=''+_0x5966ab+_0x6b870d['autoxchange_executable'],_0x5e1afa=''+_0x38e962+_0x6b870d['dwgmerge_executable'],_0x18aff7=''+_0x479771+_0x6b870d[_0x5e61a9(0x22b)],_0x47ff5d=[],_0x27fb1a=new Promise(_0x5c33d1=>{const _0x2edd7b=_0x5e61a9;exec(os['platform']()===_0x2edd7b(0x18c)?_0x2edd7b(0x1f3):'ls',_0x5959b1=>{const _0x4dd26e=_0x2edd7b;_0x5959b1?_0x47ff5d['push']({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':![],'priority':0x1}):_0x47ff5d['push']({'title':_0x4dd26e(0x13d),'status':!![],'priority':0x1}),_0x5c33d1();});}),_0x184910=new Promise(_0x4678c6=>{const _0xc08203=_0x5e61a9;fs[_0xc08203(0xd6)](_0x4aab12,fs[_0xc08203(0x1ea)][_0xc08203(0x14b)],_0x123fc8=>{const _0x50cf4a=_0xc08203;_0x123fc8?_0x47ff5d[_0x50cf4a(0x177)]({'title':_0x50cf4a(0x142)+_0x6b870d[_0x50cf4a(0x225)]+'\x22\x20executable','status':![],'priority':0x2}):_0x47ff5d[_0x50cf4a(0x177)]({'title':_0x50cf4a(0x142)+_0x6b870d[_0x50cf4a(0x225)]+'\x22\x20executable','status':!![],'priority':0x2}),_0x4678c6();});}),_0x4e4eb2=new Promise(_0x28b3f9=>{const _0x489174=_0x5e61a9;fs[_0x489174(0xd6)](_0x5e1afa,fs[_0x489174(0x1ea)][_0x489174(0x14b)],_0x21da5b=>{const _0x3d0694=_0x489174;_0x21da5b?_0x47ff5d[_0x3d0694(0x177)]({'title':_0x3d0694(0x142)+_0x6b870d[_0x3d0694(0xd5)]+_0x3d0694(0xfb),'status':![],'priority':0x3}):_0x47ff5d[_0x3d0694(0x177)]({'title':_0x3d0694(0x142)+_0x6b870d['dwgmerge_executable']+_0x3d0694(0xfb),'status':!![],'priority':0x3}),_0x28b3f9();});}),_0x5837c1=new Promise(_0x22f835=>{const _0x54a3fa=_0x5e61a9;fs[_0x54a3fa(0xd6)](_0x18aff7,fs[_0x54a3fa(0x1ea)][_0x54a3fa(0x14b)],_0xa431e3=>{const _0x2cd2b2=_0x54a3fa;_0xa431e3?_0x47ff5d[_0x2cd2b2(0x177)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x6b870d['linklist_executable']+_0x2cd2b2(0xfb),'status':![],'priority':0x4}):_0x47ff5d[_0x2cd2b2(0x177)]({'title':_0x2cd2b2(0x142)+_0x6b870d[_0x2cd2b2(0x22b)]+'\x22\x20executable','status':!![],'priority':0x4}),_0x22f835();});}),_0x524c53=new Promise(_0x3fd201=>{const _0x4bbf34=_0x5e61a9,_0x47f786=new Date(),_0x3b11bf=_0x47f786[_0x4bbf34(0x1d9)]()['toString']()['padStart'](0x2,'0')+'_'+(_0x47f786[_0x4bbf34(0x10b)]()+0x1)[_0x4bbf34(0x155)]()[_0x4bbf34(0x1af)](0x2,'0')+'_'+_0x47f786[_0x4bbf34(0x1e7)](),{displayDay:_0xf57d23}=_0x233a91[_0x4bbf34(0x1a0)];fs['access'](path[_0x4bbf34(0x17c)](path[_0x4bbf34(0x13c)](require[_0x4bbf34(0x154)]['filename']),'logs',_0x4bbf34(0xf4)+(_0xf57d23??_0x3b11bf)+_0x4bbf34(0x26c)),fs['constants'][_0x4bbf34(0x241)],_0x51fb99=>{const _0x5c3c6d=_0x4bbf34;_0x51fb99?_0x47ff5d[_0x5c3c6d(0x177)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0xf57d23??_0x3b11bf)+'.log\x22','status':![],'priority':0x5}):_0x47ff5d[_0x5c3c6d(0x177)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0xf57d23??_0x3b11bf)+_0x5c3c6d(0x107),'status':!![],'priority':0x5}),_0x3fd201();});}),_0x30c2c8=(_0x44a5a6,_0x1798a0)=>{const _0x5cd6b1=_0x5e61a9,_0x26c476=path[_0x5cd6b1(0x17c)](path['dirname'](require[_0x5cd6b1(0x154)]['filename']),_0x44a5a6);return new Promise(_0x258c16=>{const _0x2c3c9e=_0x5cd6b1;fs[_0x2c3c9e(0xd6)](path['join'](path[_0x2c3c9e(0x13c)](_0x26c476)),fs[_0x2c3c9e(0x1ea)][_0x2c3c9e(0x129)]|fs['constants'][_0x2c3c9e(0x241)],_0x201721=>{const _0x37a4a8=_0x2c3c9e;_0x201721?_0x47ff5d[_0x37a4a8(0x177)]({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0x44a5a6,'status':![],'priority':_0x1798a0+0x6}):_0x47ff5d[_0x37a4a8(0x177)]({'title':_0x37a4a8(0xf7)+_0x44a5a6,'status':!![],'priority':_0x1798a0+0x6}),_0x258c16();});});},_0x4c889b=[_0x5e61a9(0x103),_0x5e61a9(0x147),_0x5e61a9(0x150),_0x5e61a9(0x269),_0x5e61a9(0x255),_0x5e61a9(0x221),_0x5e61a9(0x1e9)],_0x310296=_0x4c889b[_0x5e61a9(0x1b7)](_0x30c2c8);Promise[_0x5e61a9(0x220)]([_0x27fb1a,_0x184910,_0x4e4eb2,_0x5837c1,_0x524c53,..._0x310296])[_0x5e61a9(0x18f)](()=>{const _0x2c7b72=_0x5e61a9;_0x8ab6[_0x2c7b72(0x22d)](0xc8)['json']({'checking_list':_0x47ff5d});})[_0x5e61a9(0x1ed)](()=>{const _0x2dfed4=_0x5e61a9;_0x8ab6['status'](0x1f4)['json']({'error':_0x2dfed4(0x143)});});}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x1f5),protectedRoute,async(_0x497be0,_0x4434f1)=>{const _0x55f811=a26_0x49fcab,_0x1288ec=fs[_0x55f811(0x113)](path[_0x55f811(0x17c)](path[_0x55f811(0x13c)](require[_0x55f811(0x154)]['filename']),_0x55f811(0x254)),'utf8'),_0x1f8ba1=_0x1288ec[_0x55f811(0x25d)](_0x55f811(0x17e),_0x497be0['version']);_0x4434f1[_0x55f811(0xff)](_0x1f8ba1);}),router['post']('/users/list',async(_0x3a3afc,_0x184bbb)=>{const _0x5ccbe9=a26_0x49fcab;let _0x501801;try{const [_0x23ceb3]=await conn[_0x5ccbe9(0x111)]()['execute'](_0x5ccbe9(0x25f),[]);_0x501801=_0x23ceb3;}catch(_0x1d7cd3){console[_0x5ccbe9(0x13e)](_0x1d7cd3),_0x184bbb[_0x5ccbe9(0x22d)](0x1f4)['json']({'error':_0x5ccbe9(0x132)});return;}_0x184bbb[_0x5ccbe9(0x22d)](0xc8)['json']({'success':!![],'data':_0x501801});}),router['post'](a26_0x49fcab(0x1f5),upload['single']('avatar'),async(_0x35c557,_0x44864a)=>{const _0x1aed26=a26_0x49fcab,{id:_0x15a532,first_name:_0x22f886,last_name:_0xc7b999,username:_0x4e8e65,email:_0x30c1b,password:_0x32139f,is_enabled:_0x2cc5e5}=_0x35c557['body'],_0xe4200a=_0x35c557[_0x1aed26(0x1a0)][_0x1aed26(0x10c)]===_0x1aed26(0x248)?_0x1aed26(0x248):_0x35c557[_0x1aed26(0x1a0)][_0x1aed26(0x10c)]===_0x1aed26(0x166)?'demo_user':'user';let _0x13384c;console[_0x1aed26(0x13e)](_0x1aed26(0x235));_0x32139f&&(_0x13384c=await bcrypt[_0x1aed26(0x1d8)](_0x32139f,0xa));let _0x76ac06=null;if(_0x35c557[_0x1aed26(0x188)]){const _0xbec14e=_0x1aed26(0xe8)+randomUUID()+_0x1aed26(0x265);fs[_0x1aed26(0x1ab)](_0x35c557[_0x1aed26(0x188)][_0x1aed26(0x1d0)],'./'+_0xbec14e),fs[_0x1aed26(0x250)](_0x35c557[_0x1aed26(0x188)]['path']),_0x76ac06=config[_0x1aed26(0x25a)]+'/'+_0xbec14e;}if(_0x15a532){try{let [_0x1d2a63]=await conn['promise']()[_0x1aed26(0x15f)](_0x1aed26(0x26b),[_0x30c1b,_0x4e8e65,_0x15a532]);if(_0x1d2a63[_0x1aed26(0x1b9)]>0x0)_0x44864a[_0x1aed26(0x22d)](0x199)[_0x1aed26(0x101)]({'error':_0x1aed26(0xf2)});else{!_0x35c557[_0x1aed26(0x188)]&&([_0x1d2a63]=await conn[_0x1aed26(0x111)]()['execute'](_0x1aed26(0x11d),[_0x15a532]),_0x76ac06=_0x1d2a63[0x0][_0x1aed26(0x264)]);const _0x10fe9e=_0x1aed26(0x1b2)+(_0x32139f?_0x1aed26(0x1ae):'')+_0x1aed26(0x139);await conn['promise']()[_0x1aed26(0x15f)](_0x10fe9e,_0x32139f?[_0x76ac06,_0x22f886,_0xc7b999,_0x4e8e65,_0x30c1b,_0x13384c,_0x2cc5e5,_0xe4200a,_0x15a532]:[_0x76ac06,_0x22f886,_0xc7b999,_0x4e8e65,_0x30c1b,_0x2cc5e5,_0xe4200a,_0x15a532]);}}catch(_0x4b71b5){console[_0x1aed26(0x13e)](_0x4b71b5),_0x44864a['status'](0x1f4)[_0x1aed26(0x101)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x44864a[_0x1aed26(0x22d)](0xc8)['json']({'success':!![],'message':'User\x20updated\x20successfully'});}else{try{const [_0x144dea]=await conn[_0x1aed26(0x111)]()[_0x1aed26(0x15f)](_0x1aed26(0x171),[_0x30c1b,_0x4e8e65]);if(_0x144dea[_0x1aed26(0x1b9)]>0x0)_0x44864a['status'](0x199)[_0x1aed26(0x101)]({'error':_0x1aed26(0xf2)});else{const _0xd35da0=randomUUID();await conn[_0x1aed26(0x111)]()[_0x1aed26(0x15f)]('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x76ac06,_0x22f886,_0xc7b999,_0x4e8e65,_0x30c1b,_0x13384c,_0xe4200a,_0x2cc5e5,_0xd35da0]);const _0x7040a3=_0x1aed26(0x212)+_0xd35da0;fs[_0x1aed26(0x1ec)](_0x7040a3);}}catch(_0x2ef94f){console['log'](_0x2ef94f),_0x44864a[_0x1aed26(0x22d)](0x1f4)[_0x1aed26(0x101)]({'error':_0x1aed26(0x132)});return;}_0x44864a[_0x1aed26(0x22d)](0xc8)[_0x1aed26(0x101)]({'success':!![],'message':_0x1aed26(0x119)});}}),router[a26_0x49fcab(0x274)](a26_0x49fcab(0x261),async(_0x24d527,_0x23a558)=>{const _0x38ca0e=a26_0x49fcab,{userId:_0x2e12dd}=_0x24d527[_0x38ca0e(0x1a0)];let _0x584771;try{const [_0x41c927]=await conn[_0x38ca0e(0x111)]()[_0x38ca0e(0x15f)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x2e12dd]);_0x41c927['length']>0x0&&(_0x584771=_0x41c927[0x0]);}catch(_0x59969c){console[_0x38ca0e(0x13e)]({'err':_0x59969c}),_0x23a558[_0x38ca0e(0x22d)](0x1f4)['json']({'error':_0x38ca0e(0x132)});return;}if(!_0x584771){_0x23a558[_0x38ca0e(0x22d)](0x191)['json']({'error':_0x38ca0e(0xeb)});return;}let _0x4c5453=_0x584771[_0x38ca0e(0x21f)];if(!_0x4c5453){_0x4c5453=randomUUID();try{await conn[_0x38ca0e(0x111)]()['execute'](_0x38ca0e(0x180),[_0x4c5453,_0x2e12dd]);}catch(_0x4b6ef3){console[_0x38ca0e(0x13e)]({'err':_0x4b6ef3}),_0x23a558[_0x38ca0e(0x22d)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x2f57ce=_0x38ca0e(0x212)+_0x4c5453;console[_0x38ca0e(0x13e)](_0x38ca0e(0x18d)),console[_0x38ca0e(0x13e)](_0x2f57ce),!fs['existsSync'](_0x2f57ce)&&fs['mkdirSync'](_0x2f57ce),fs[_0x38ca0e(0x1cc)](_0x2f57ce,{'recursive':!![],'force':!![]}),fs[_0x38ca0e(0x1ec)](_0x2f57ce),_0x23a558[_0x38ca0e(0x22d)](0xc8)[_0x38ca0e(0x101)]({'success':!![],'message':'User\x20directory\x20flushed\x20successfully'});}),router[a26_0x49fcab(0x274)](a26_0x49fcab(0x1d5),async(_0x115dbd,_0x4616a7)=>{const _0x58abc3=a26_0x49fcab,_0x2fdd22=_0x115dbd[_0x58abc3(0x1c3)][_0x58abc3(0x125)];try{let _0xacddfc;try{const [_0x37b3cf]=await conn[_0x58abc3(0x111)]()[_0x58abc3(0x15f)](_0x58abc3(0x11d),[_0x2fdd22]);_0x37b3cf['length']>0x0&&(_0xacddfc=_0x37b3cf[0x0]);}catch(_0x479e50){console['log']({'err':_0x479e50}),_0x4616a7['status'](0x1f4)[_0x58abc3(0x101)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0xacddfc){_0x4616a7[_0x58abc3(0x22d)](0x191)[_0x58abc3(0x101)]({'error':_0x58abc3(0xeb)});return;}let _0x37d25d=_0xacddfc['folder_name'];if(_0x37d25d){const _0x143b1a=_0x58abc3(0x212)+_0x37d25d;fs[_0x58abc3(0xe4)](_0x143b1a)&&fs[_0x58abc3(0x1cc)](_0x143b1a,{'recursive':!![],'force':!![]});}await conn['promise']()[_0x58abc3(0x15f)]('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x2fdd22]);}catch(_0x289cc4){console['log'](_0x289cc4),_0x4616a7[_0x58abc3(0x22d)](0x1f4)[_0x58abc3(0x101)]({'error':_0x58abc3(0x132)});return;}_0x4616a7[_0x58abc3(0x22d)](0xc8)['json']({'success':!![],'message':_0x58abc3(0x1be)});}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x22f),async(_0x636274,_0x655c99)=>{const _0x1e21d9=a26_0x49fcab,_0x5b0875=osu[_0x1e21d9(0x216)],_0x4a14f6=osu[_0x1e21d9(0x1ce)],_0x302af0=osu[_0x1e21d9(0x196)],_0x18b1d=osu['os'],_0x5ee09c={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x2b1a93=os[_0x1e21d9(0x168)]()==='win32'?'c:':'/';const _0x7c66bf=await _0x302af0['info'](_0x2b1a93);_0x5ee09c[_0x1e21d9(0x1bc)]=_0x7c66bf[_0x1e21d9(0x23f)],_0x5ee09c['usedGB']=_0x7c66bf[_0x1e21d9(0x1f6)],_0x5ee09c[_0x1e21d9(0x1d4)]=_0x7c66bf['freeGb'],_0x5ee09c[_0x1e21d9(0x149)]=_0x7c66bf['totalGb'];}catch(_0x5230e6){console['log'](_0x1e21d9(0x134),_0x5230e6);}const _0x411266={'usage':0x0,'count':0x0};try{_0x411266[_0x1e21d9(0x203)]=await _0x5b0875[_0x1e21d9(0x203)](),_0x411266[_0x1e21d9(0x16a)]=_0x5b0875[_0x1e21d9(0x16a)]();}catch(_0x42f326){console[_0x1e21d9(0x13e)](_0x1e21d9(0x1ef),_0x42f326);}const _0x153ef3={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x153ef3['os']=await _0x18b1d['oos'](),_0x153ef3[_0x1e21d9(0x168)]=_0x18b1d[_0x1e21d9(0x168)](),_0x153ef3['ip']=_0x18b1d['ip'](),_0x153ef3[_0x1e21d9(0x20f)]=_0x18b1d['uptime'](),_0x153ef3[_0x1e21d9(0x14d)]=_0x18b1d[_0x1e21d9(0x14d)](),_0x153ef3['type']=_0x18b1d[_0x1e21d9(0x21d)](),_0x153ef3['arch']=_0x18b1d[_0x1e21d9(0x275)](),_0x153ef3[_0x1e21d9(0x112)]=await osu[_0x1e21d9(0x1ba)][_0x1e21d9(0x112)](),_0x153ef3[_0x1e21d9(0x15c)]=await osu[_0x1e21d9(0x1ba)][_0x1e21d9(0x15c)](),_0x153ef3[_0x1e21d9(0x1bd)]=await osu[_0x1e21d9(0x1ba)][_0x1e21d9(0x1bd)]();}catch(_0x149343){console[_0x1e21d9(0x13e)](_0x1e21d9(0x14a),_0x149343);}const _0x14654e={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x14654e['totalProcesses']=await osu[_0x1e21d9(0x230)][_0x1e21d9(0x181)](),_0x14654e[_0x1e21d9(0xfc)]=await osu[_0x1e21d9(0x230)][_0x1e21d9(0xfc)]();}catch(_0xe87518){console[_0x1e21d9(0x13e)](_0x1e21d9(0x14f),_0xe87518);}let _0x4f760e={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x28f5c3=await _0x4a14f6[_0x1e21d9(0x243)]();_0x4f760e[_0x1e21d9(0x11c)]=_0x28f5c3[_0x1e21d9(0x11c)],_0x4f760e['usedMemMb']=_0x28f5c3['used']/0x400/0x400,_0x4f760e[_0x1e21d9(0x1a4)]=_0x28f5c3['total']/0x400/0x400;}catch(_0x3a3cda){console[_0x1e21d9(0x13e)](_0x1e21d9(0x1e8),_0x3a3cda);}let _0x8edfe8=0x0;try{_0x8edfe8=await conn['promise']()['query'](_0x1e21d9(0x1f2))[_0x1e21d9(0x18f)](([_0x43d85a])=>_0x43d85a[0x0]['total']);}catch(_0x50fdbb){console[_0x1e21d9(0x13e)](_0x1e21d9(0x16e),_0x50fdbb);}const _0x5286e5=getMonitoringData(),_0x5b24f8=_0x5286e5[_0x1e21d9(0x1a9)](_0x1caac0=>_0x1caac0['conversionTimeSpend']!==null&&_0x1caac0['conversionTimeSpend']!==undefined),_0x5aa047=_0x5286e5[_0x1e21d9(0x1a9)](_0x49bcdf=>_0x49bcdf[_0x1e21d9(0x12a)]!==null&&_0x49bcdf[_0x1e21d9(0x12a)]!==undefined)[_0x1e21d9(0x1b7)](_0x3df8c4=>parseFloat(_0x3df8c4[_0x1e21d9(0x12a)][_0x1e21d9(0x25d)]('Kb')[_0x1e21d9(0x10e)]())),_0x5b6524=_0x5b24f8[_0x1e21d9(0xfe)]((_0xff0a11,_0x571454)=>_0xff0a11+parseFloat(_0x571454[_0x1e21d9(0x1ee)]),0x0)/_0x5b24f8['length'],_0x2b632e=_0x5aa047[_0x1e21d9(0xfe)]((_0x1edbd3,_0x559e43)=>_0x1edbd3+_0x559e43,0x0)/_0x5aa047['length'];_0x655c99[_0x1e21d9(0x101)]({'requestsPerSecond':counter[_0x1e21d9(0xd2)](),'diskUsage':_0x5ee09c,'cpus':_0x411266,'system':_0x153ef3,'process':_0x14654e,'totalMonitoringData':_0x5286e5[_0x1e21d9(0x1b9)],'memory':_0x4f760e,'totalUsers':_0x8edfe8,'avgConvertionTime':_0x5b6524,'avgMemoryUsage':_0x2b632e});}),router['post'](a26_0x49fcab(0x195),(_0x485e8f,_0x4132c4)=>{const _0x403689=a26_0x49fcab;counter['reset'](),_0x4132c4['json']({'message':_0x403689(0x16f)});});function a26_0x314c(){const _0x37c27f=['linklistLocation','attachment;\x20filename=\x22','userId','cadviewer/settings/requests-callapiconversion-monitoring.json','File\x20not\x20found','RL/TL\x20Processing','R_OK','conversionMemoryUsage','exports','mysqlHost','../CADViewer_config.json','Server\x20Settings','originalname','cvjs_svgz_compress','Folder\x20not\x20found.','Error!\x20Something\x20went\x20wrong.','Error\x20deleting\x20old\x20demo_user\x20accounts:','Error\x20getting\x20disk\x20usage','radio|','Config\x20updated.','write','dwgmerge_executable_linux','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Mail\x20Server\x20Settings','.svg','dirname','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','log',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','entries','Error\x20saving\x20parameters.','Permission\x20750\x20for\x20the\x20\x22','An\x20error\x20occurred\x20while\x20checking.','dwgmergeLocation','cadviewer/settings/home.html','name','/converters/autoxchange/linux/','Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','totalGB','Error\x20getting\x20os\x20info','X_OK','Error\x20creating\x20folder.','hostname','forEach','Error\x20getting\x20process\x20info','/converters/files/merged/','Callback\x20and\x20Authentication\x20Settings','query','formatedSize','main','toString','yellow','setHeader','email','Error\x20deleting\x20folder.','clean','first_name','whoami','Demo\x20and\x20Base\x20User\x20Settings','Error\x20downloading\x20file.','execute','child_process','hlall','cadviewer/settings/folders.html','PDF','has','folderName','demo_user','green','platform','Folder\x20renamed.','count','/doctor/check','sendFile','files','Error\x20getting\x20total\x20users','Counter\x20reset\x20successfully','Folder\x20created.','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','demoUserRetentionDaysAlertBeforeDeletion','linklist_executable_linux','/vanilla-toast.js','svgz','settings','push','includes','readdirSync','.pdf','size','join','sort','{version}','callbackMethod_gatewayUrl','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','totalProcesses','Deleting\x20old\x20demo_user\x20accounts...','boolean','settingsUserBasicAuth','DWG\x20to\x20SVG\x20Conversion','cadviewer/settings/vanilla-toast.css','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','file','readFile','./tmp','pdf','win32','====================','radio|windows,linux','then','.csv','/logs/content','../libs/config','394412KSdWlS','/folders','/metrics/reset','drive','isArray','cadviewer/settings/vanilla-toast.js','170334RZASBB','fileLocation','cadviewer/settings/tailwind.js','test','Cache\x20flushed\x20successfully','post','converterpathLin','body','blocks','parse','express-basic-auth','totalMemMb','/doctor','globalBearerAutentication','973uEjvHt','/restapi-test/parameters/search','filter','keys','copyFileSync','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20terminée.\x20Résultats\x20enregistrés\x20dans\x20','number','`crypted_password`\x20=\x20?,\x20','padStart','Old\x20demo_user\x20accounts\x20(','/cache/flush','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','/chart.min.js','diskStorage','/config/content','autodetect_location','map','get','length','osCmd','fileLoad_Password','percentage','vmstats','User\x20deleted\x20successfully','\x20KB','cadviewer/settings/style.css','SVG','replace','params','mysqlPassword','Content-Disposition','converter-files-analysis.json','dwgmerge_executable_windows','449889AQKiAB','download','splity','Error\x20getting\x20cache\x20stats:','rmSync','multer','mem','.dwg.json','path','lastIndexOf','action','standard','freeGb','/users/:userId','CSV','autodetect_platform','hash','getDate','1033512nFNkLr','CADViewer_config.json','mkdir','converterLocation','DWG\x20file\x20in\x20multiple\x20files','cadviewer/settings/doctor.html','utf8','/conversion/memorydata','gunzipSync','linklist_executable_windows','blue','sub_dirs','.rl.json','getFullYear','Error\x20getting\x20memory\x20info','/content/redlines/v7/','constants','Content-Type','mkdirSync','catch','conversionTimeSpend','Error\x20getting\x20cpu\x20usage','mysqlDatabase','tmp','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','dir','No\x20config\x20object\x20provided','/users','usedGb','\x20days\x20have\x20been\x20deleted.','stringify','/conversion/clean','scheduleJob','svg','toUpperCase','transporter','gray','set','createdAt','JSON','Failed\x20to\x20flush\x20cache','usage','Folder\x20deleted.','crypto','cadviewer/settings/config.html','/folders/delete','csvFile','DWG\x20to\x20PDF\x20Conversion','Le\x20dossier\x20','licenseLocation','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','mysqlUsername','writeFileSync','uptime','unlink','darwin','./uploads/','split','/logs/clean','globalBearerAutenticationToken','cpu','ServerLocation','Failed\x20to\x20send\x20email\x20to\x20','24520mfmnvO','red','autoxchange_executable_windows','settingsPasswordBasicAuth','type','slice','folder_name','all','/content/redlines/','Folder\x20already\x20exists.','setup_mysqlHost','cachedfiles','autoxchange_executable','demoUserRetentionDays','logs','cadviewer/settings/logs.html','version','error','linklist_executable','ctime','status','fileName','/metrics','proc','isDirectory','/cache/stats','0\x200\x20*\x20*\x20*','put','=============================>','atime','SVGZ','Parameters\x20saved.','.dwg','LinkList\x20Settings','application/octet-stream','cadviewer/settings/rest-api-parameters.json','smtpFrom','/config/global-update','usedPercentage','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','W_OK','isFile','info','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','/style.css','fileLoad_UserName','ContentSecurityPolicyReportOnly','admin','/icons.js','cadviewer/settings/cache-stats.js','sendMail','fileLocationUrl','birthtime','ServerPort','endsWith','unlinkSync','\x20n\x27existe\x20pas.','../libs/log','windows','cadviewer/settings/users.html','/converters/files/pdf/','bcrypt','from','DWG','folderLocation','ServerUrl','model','.json','replaceAll','/logs','SELECT\x20*\x20FROM\x20users','/cache/files','/users/flush-dir','ceil','find','avatar_url','.png','File\x20deleted\x20successfully','===================error===================','Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)','/converters/files/print/','Error\x20finding\x20log\x20files:','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','.log','cadviewer','/folders/upload','/restapi-test','zlib','Error\x20deleting\x20file.','username','File\x20renamed.','delete','arch','Error\x20deleting\x20user\x20folder:','getStats','/folders/download','/conversion/list','dwgmerge_executable','access','callbackMethod','1347110hjEWvU','Files\x20uploaded\x20successfully','purple','/config/update','resolve','dwgFile','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','File\x20or\x20Folder\x20not\x20found','cadviewer/settings/rest-api.html','https','Folder\x20not\x20found','/cache-stats.js','existsSync','0\x201\x20*\x20*\x20*','\x20GB','*\x20*\x20*\x20*\x20*','avatars/','cadviewer/settings/converter-files-analysis.json','statSync','Invalid\x20user','array','toFixed','JSON\x20Data\x20Extraction','AutoXchange\x20Settings','/restapi-test/parameters/save','node-os-utils','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','filename','call-Api_Conversion_','cadviewer/settings/icons.js','.gitkeep','Read\x20and\x20write\x20permission\x20for\x20folder\x20','/config','callbackMethod_gatewayUrl_flag','6OOnSOZ','\x22\x20executable','zombieProcesses','memorydata.csv','reduce','send','/cache/files/:id','json','Monitoring\x20file\x20cleaned.','/converters/files/','\x20\x20\x20','Error\x20reading\x20monitoring\x20file','ContentSecurityPolicy','.log\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','.svgz','some','getMonth','role','pop','trim','Deletion\x20prevention\x20email\x20sent\x20to\x20','isFolder','promise','who','readFileSync','linux','No\x20files\x20uploaded','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','Cache\x20conversion','extname','User\x20created\x20successfully','converters','toLocaleLowerCase','usedMemPercentage','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','cadviewer/settings/licences.html','File\x20deleted.','1697784taktYU','Display\x20of\x20DWG','temp_print_folder'];a26_0x314c=function(){return _0x37c27f;};return a26_0x314c();}const getMonitoringData=()=>{const _0x1f3672=a26_0x49fcab,_0x471f20=_0x1f3672(0x126);let _0x4fdd8a=[];try{_0x4fdd8a=JSON['parse'](fs[_0x1f3672(0x113)](_0x471f20));}catch(_0x40c731){console[_0x1f3672(0x13e)](_0x1f3672(0x105));}return _0x4fdd8a;};router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0xd4),async(_0x52ed8b,_0x47f0ba)=>{const _0xa3bd4d=a26_0x49fcab,{page:page=0x1,limit:limit=0xa}=_0x52ed8b['query'],_0x71be88=(page-0x1)*limit;try{const _0xa7f66a=getMonitoringData(),_0x5000ca=_0xa7f66a[_0xa3bd4d(0x1b9)],_0x4c66de=Math[_0xa3bd4d(0x262)](_0x5000ca/limit),_0x9cd8b2=_0xa7f66a['slice'](_0x71be88,_0x71be88+limit);_0x47f0ba[_0xa3bd4d(0x22d)](0xc8)[_0xa3bd4d(0x101)]({'data':_0x9cd8b2,'page':parseInt(''+page),'totalPages':_0x4c66de,'total':_0x5000ca});}catch(_0x2c089c){console[_0xa3bd4d(0x13e)](_0x2c089c),_0x47f0ba[_0xa3bd4d(0x22d)](0x1f4)[_0xa3bd4d(0x101)]({'error':_0xa3bd4d(0x132)});}}),router[a26_0x49fcab(0x274)](a26_0x49fcab(0x1f9),async(_0x230c8b,_0x5a82ab)=>{const _0x5d251a=a26_0x49fcab,_0x256bea=_0x5d251a(0x126);try{fs[_0x5d251a(0x20e)](_0x256bea,JSON[_0x5d251a(0x1f8)]([],null,0x4)),_0x5a82ab['status'](0xc8)[_0x5d251a(0x101)]({'message':_0x5d251a(0x102)});}catch(_0x1b406e){console['log'](_0x1b406e),_0x5a82ab[_0x5d251a(0x22d)](0x1f4)[_0x5d251a(0x101)]({'error':_0x5d251a(0x132)});}}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x1e1),async(_0x920c28,_0x5d75b8)=>{const _0x5ee75b=a26_0x49fcab,_0x116661=getHotConfig()[_0x5ee75b(0x1dd)]['replaceAll']('//','/'),{page:page=0x1,limit:limit=0xa}=_0x920c28[_0x5ee75b(0x152)],_0x50b642=(page-0x1)*limit;try{const _0x3616c7=_0x116661+_0x5ee75b(0xfd);console[_0x5ee75b(0x13e)](_0x3616c7);const _0x9ed570=fs[_0x5ee75b(0x113)](_0x3616c7,_0x5ee75b(0x1e0)),_0x2c77dd=_0x9ed570['split']('\x0a'),_0x3dc7ba=[];_0x2c77dd['forEach'](_0x2b89f3=>{const _0x2a701e=_0x5ee75b,_0x4011dd=_0x2b89f3[_0x2a701e(0x213)](',');if(_0x4011dd['length']<0x4)return;const _0x3b51e6=_0x4011dd[0x0],_0xd367db=_0x4011dd[0x1],_0x5bc9e9=parseFloat(_0x4011dd[0x2]);_0x3dc7ba[_0x2a701e(0x177)]({'file':_0x3b51e6['replaceAll']('\x22',''),'action':_0xd367db,'timeSpend':_0x5bc9e9,'memoryUsage':_0x4011dd[0x3]});});const _0x279aba=_0x3dc7ba[_0x5ee75b(0x1b9)],_0x1d1165=Math[_0x5ee75b(0x262)](_0x279aba/limit),_0x389d72=_0x3dc7ba[_0x5ee75b(0x21e)](_0x50b642,_0x50b642+limit);_0x5d75b8[_0x5ee75b(0x22d)](0xc8)[_0x5ee75b(0x101)]({'data':_0x389d72,'page':parseInt(''+page),'totalPages':_0x1d1165,'total':_0x279aba});}catch(_0x3c2b1c){console['log'](_0x3c2b1c),_0x5d75b8[_0x5ee75b(0x22d)](0x1f4)[_0x5ee75b(0x101)]({'error':_0x5ee75b(0x132)});}}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x232),async(_0x56e038,_0x4c8a88)=>{const _0x13de7c=a26_0x49fcab,_0x1d17e7=path[_0x13de7c(0x17c)](path[_0x13de7c(0x13c)](require[_0x13de7c(0x154)][_0x13de7c(0xf3)]),_0x13de7c(0x11a),_0x13de7c(0x16d));try{let _0x36987e=0x0,_0x37646e=0x0;function _0x2bc129(_0x38169f){const _0x1c1e58=_0x13de7c;let _0xf63369=0x0,_0x1457c7=0x0;if(fs[_0x1c1e58(0xe4)](_0x38169f)){const _0x1d9344=fs['readdirSync'](_0x38169f);_0x1457c7=0x0;for(const _0x36edea of _0x1d9344){const _0x1a3868=path[_0x1c1e58(0x17c)](_0x38169f,_0x36edea),_0x5c949f=fs[_0x1c1e58(0xea)](_0x1a3868);if(_0x5c949f['isFile']()&&_0x36edea!==_0x1c1e58(0xf6))_0x1457c7++,_0xf63369+=_0x5c949f['size'];else{if(_0x5c949f['isDirectory']()){}}}}return{'size':_0xf63369,'count':_0x1457c7};}const _0x5c7193=_0x2bc129(_0x1d17e7);_0x36987e=_0x5c7193['size'],_0x37646e=_0x5c7193[_0x13de7c(0x16a)],_0x4c8a88[_0x13de7c(0x101)]({'fileCount':_0x37646e,'totalSize':_0x36987e});}catch(_0x5292b5){console['error'](_0x13de7c(0x1cb),_0x5292b5),_0x4c8a88[_0x13de7c(0x22d)](0x1f4)['json']({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x49fcab(0x274)](a26_0x49fcab(0x1b1),async(_0x182599,_0x149f9a)=>{const _0x35d236=a26_0x49fcab,_0x187632=path[_0x35d236(0x17c)](path[_0x35d236(0x13c)](require[_0x35d236(0x154)][_0x35d236(0xf3)]),_0x35d236(0x11a),_0x35d236(0x16d));try{function _0x52cf3e(_0x13c2d4){const _0x4be9b3=_0x35d236;if(fs['existsSync'](_0x13c2d4)){const _0x34cd01=fs['readdirSync'](_0x13c2d4);for(const _0x5cad24 of _0x34cd01){const _0x63082b=path[_0x4be9b3(0x17c)](_0x13c2d4,_0x5cad24),_0xd79bb7=fs['statSync'](_0x63082b);if(_0xd79bb7[_0x4be9b3(0x231)]()){}else _0x5cad24!==_0x4be9b3(0xf6)&&fs['unlinkSync'](_0x63082b);}}}_0x52cf3e(_0x187632),_0x149f9a[_0x35d236(0x101)]({'message':_0x35d236(0x19d)});}catch(_0x2581ad){console[_0x35d236(0x22a)]('Error\x20flushing\x20cache:',_0x2581ad),_0x149f9a[_0x35d236(0x22d)](0x1f4)[_0x35d236(0x101)]({'error':_0x35d236(0x202)});}}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0xe3),async(_0x58397a,_0x431f6c)=>{const _0x31aa2a=a26_0x49fcab;_0x431f6c['sendFile'](path[_0x31aa2a(0x17c)](path[_0x31aa2a(0x13c)](require[_0x31aa2a(0x154)]['filename']),_0x31aa2a(0x24a)));}),router['get']('/cache',protectedRoute,async(_0x534fa3,_0x50b620)=>{const _0x11a18f=a26_0x49fcab,_0x53a1ce=fs[_0x11a18f(0x113)](path[_0x11a18f(0x17c)](path[_0x11a18f(0x13c)](require[_0x11a18f(0x154)]['filename']),'cadviewer/settings/conversion-cache.html'),_0x11a18f(0x1e0)),_0xe72809=_0x53a1ce[_0x11a18f(0x25d)](_0x11a18f(0x17e),_0x534fa3['version']);_0x50b620[_0x11a18f(0xff)](_0xe72809);}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x260),async(_0x23854e,_0x576b1b)=>{const _0x17958f=a26_0x49fcab,{page:page=0x1,limit:limit=0x10}=_0x23854e[_0x17958f(0x152)],_0x5306eb=JSON[_0x17958f(0x1a2)](fs[_0x17958f(0x113)](path[_0x17958f(0x17c)](path[_0x17958f(0x13c)](require['main']['filename']),_0x17958f(0xe9)))),_0x37eabe=(page-0x1)*limit,_0x142170=page*limit,_0x2eccf9=_0x5306eb[_0x17958f(0x16d)][_0x17958f(0x1b9)],_0xffb0e6=Math[_0x17958f(0x262)](_0x2eccf9/limit),_0x3654ec=_0x5306eb[_0x17958f(0x16d)][_0x17958f(0x21e)](_0x37eabe,_0x142170);_0x576b1b[_0x17958f(0x101)]({'files':_0x3654ec,'pagination':{'total':_0x2eccf9,'totalPages':_0xffb0e6,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router['get']('/cache/csv/:file',async(_0x88b9c0,_0x22b94c)=>{const _0x11e8e0=a26_0x49fcab,{file:_0x51a051}=_0x88b9c0[_0x11e8e0(0x1c3)],_0x2e2327=path[_0x11e8e0(0x17c)](path[_0x11e8e0(0x13c)](require[_0x11e8e0(0x154)][_0x11e8e0(0xf3)]),_0x11e8e0(0x11a),_0x11e8e0(0x16d)),_0x1f7241=path[_0x11e8e0(0x17c)](_0x2e2327,_0x51a051),_0x1dcf3e=fs['readFileSync'](_0x1f7241,_0x11e8e0(0x1e0)),_0xf4a4ac=_0x1dcf3e[_0x11e8e0(0x213)]('\x0a'),_0x595721=_0xf4a4ac[_0x11e8e0(0x1b7)](_0xe83869=>{const _0x3b7a1c=_0x11e8e0,_0x29e861=_0xe83869[_0x3b7a1c(0x213)](',');return _0x29e861[_0x3b7a1c(0x1b7)](_0x4d6203=>_0x4d6203[_0x3b7a1c(0x25d)]('\x22',''));});_0x22b94c[_0x11e8e0(0x101)](_0x595721);}),router[a26_0x49fcab(0x1b8)](a26_0x49fcab(0x100),async(_0x458119,_0x1edac2)=>{const _0x9ce678=a26_0x49fcab,{id:_0x52e1a7}=_0x458119['params'],_0x4aa0e5=path['join'](path[_0x9ce678(0x13c)](require[_0x9ce678(0x154)][_0x9ce678(0xf3)]),_0x9ce678(0x11a),_0x9ce678(0x16d)),_0x36bc3b=path[_0x9ce678(0x17c)](_0x4aa0e5,_0x52e1a7);if(_0x36bc3b['endsWith'](_0x9ce678(0x109))){var _0x3f2638=require(_0x9ce678(0x270));const _0x567362=fs[_0x9ce678(0x113)](_0x36bc3b),_0xa575bc=_0x3f2638[_0x9ce678(0x1e2)](_0x567362);_0x1edac2[_0x9ce678(0x157)]('Content-Type','image/svg+xml'),_0x1edac2[_0x9ce678(0xff)](_0xa575bc);}else _0x1edac2['sendFile'](_0x36bc3b);}),router['delete'](a26_0x49fcab(0x100),async(_0x4a328d,_0x1ead8b)=>{const _0x39d698=a26_0x49fcab,{id:_0x31d772}=_0x4a328d[_0x39d698(0x1c3)],_0x2260cd=path[_0x39d698(0x17c)](path[_0x39d698(0x13c)](require[_0x39d698(0x154)][_0x39d698(0xf3)]),_0x39d698(0x11a),_0x39d698(0x16d)),_0x30ac86=JSON[_0x39d698(0x1a2)](fs[_0x39d698(0x113)](path[_0x39d698(0x17c)](path[_0x39d698(0x13c)](require[_0x39d698(0x154)][_0x39d698(0xf3)]),_0x39d698(0xe9)))),_0x4c53c5=_0x30ac86['files'][_0x39d698(0x263)](_0x4609e1=>_0x4609e1[_0x39d698(0x146)]===_0x31d772);if(_0x4c53c5){try{fs[_0x39d698(0xe4)](path[_0x39d698(0x17c)](_0x2260cd,_0x4c53c5['name']))&&fs['unlinkSync'](path[_0x39d698(0x17c)](_0x2260cd,_0x4c53c5[_0x39d698(0x146)]));}catch(_0xf43dcc){console['log']({'e':_0xf43dcc});}(_0x4c53c5['availableFormats']??[])[_0x39d698(0x14e)](_0x3b62ed=>{const _0x83caa2=_0x39d698;try{fs[_0x83caa2(0xe4)](path['join'](_0x2260cd,_0x3b62ed['id']))&&fs['unlinkSync'](path['join'](_0x2260cd,_0x3b62ed['id']));}catch(_0x440951){console['log']({'e':_0x440951});}});}analyzeConverterFiles(),_0x1ead8b[_0x39d698(0x101)]({'message':_0x39d698(0x266)});});const deleteOldDemoUsers=async()=>{const _0x43938f=a26_0x49fcab;console[_0x43938f(0x13e)](_0x43938f(0x182));const _0x589fb4=config[_0x43938f(0x226)],_0x1499c8=_0x43938f(0x244);try{const [_0x151014]=await conn[_0x43938f(0x111)]()[_0x43938f(0x15f)](_0x1499c8,[_0x589fb4]),_0x3a3aa3=_0x151014['map'](_0x2c35dd=>_0x2c35dd[_0x43938f(0x21f)]),_0x4f2b7b=_0x151014[_0x43938f(0x1b7)](_0x5dd6a8=>_0x5dd6a8[_0x43938f(0x158)]);console[_0x43938f(0x13e)](_0x4f2b7b),await conn[_0x43938f(0x111)]()[_0x43938f(0x15f)](_0x43938f(0x240),[_0x589fb4]),_0x3a3aa3['forEach'](_0x47c780=>{const _0x106079=_0x43938f;try{const _0x1a8340=_0x106079(0x212)+_0x47c780;fs['rmdirSync'](_0x1a8340);}catch(_0x1aac34){console['error'](_0x106079(0x276),_0x1aac34);}}),console[_0x43938f(0x13e)](_0x43938f(0x1b0)+_0x151014['length']+')\x20older\x20than\x20'+_0x589fb4+_0x43938f(0x1f7));}catch(_0x510994){console['error'](_0x43938f(0x133),_0x510994);}},sendEmailForAccountDeletionPrevention=async()=>{const _0xf16151=a26_0x49fcab,_0x4ce37c=require('../libs/mail')[_0xf16151(0x1fd)];try{const [_0x25b202]=await conn[_0xf16151(0x111)]()[_0xf16151(0x15f)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[config[_0xf16151(0x226)]-config[_0xf16151(0x172)]]);if(_0x25b202[_0xf16151(0x1b9)]===0x0){console[_0xf16151(0x13e)](_0xf16151(0x20c));return;}for(const _0xb1c35 of _0x25b202){let _0x535150=_0xf16151(0x108)+(_0xb1c35[_0xf16151(0x15b)]||_0xb1c35[_0xf16151(0x272)])+_0xf16151(0x13f);const _0x27fd1e={'from':config[_0xf16151(0x23d)],'to':_0xb1c35[_0xf16151(0x158)],'subject':'Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','text':_0xf16151(0x148),'html':_0x535150};try{await _0x4ce37c[_0xf16151(0x24b)](_0x27fd1e),console[_0xf16151(0x13e)](_0xf16151(0x10f)+_0xb1c35[_0xf16151(0x158)]);}catch(_0x572e85){console[_0xf16151(0x13e)]('===================error==================='),console[_0xf16151(0x13e)](_0xf16151(0x218)+_0xb1c35[_0xf16151(0x158)]),console[_0xf16151(0x13e)](_0x572e85);}}}catch(_0xa73df7){console[_0xf16151(0x13e)](_0xf16151(0x267)),console[_0xf16151(0x13e)](_0xf16151(0x116)),console['log'](_0xa73df7);}};schedule[a26_0x49fcab(0x1fa)](a26_0x49fcab(0xe5),deleteOldDemoUsers),schedule[a26_0x49fcab(0x1fa)](a26_0x49fcab(0x233),sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x285fa8=a26_0x49fcab;try{const _0x4b2e09=path['join'](path[_0x285fa8(0x13c)](require[_0x285fa8(0x154)][_0x285fa8(0xf3)]),'converters',_0x285fa8(0x16d)),_0x8bf450=path['join'](path[_0x285fa8(0x13c)](require[_0x285fa8(0x154)][_0x285fa8(0xf3)]),_0x285fa8(0x26d),_0x285fa8(0x176));if(!fs[_0x285fa8(0xe4)](_0x4b2e09)){logStream['write'](_0x285fa8(0x20a)+_0x4b2e09+_0x285fa8(0x251));return;}if(!fs[_0x285fa8(0xe4)](_0x8bf450)){logStream[_0x285fa8(0x137)](_0x285fa8(0x20a)+_0x8bf450+_0x285fa8(0x251));return;}const _0x520595=fs[_0x285fa8(0x179)](_0x4b2e09),_0x4f5c95=new Map();_0x520595['forEach'](_0x46c307=>{const _0x1e26db=_0x285fa8,_0x37b363=path[_0x1e26db(0x17c)](_0x4b2e09,_0x46c307),_0xbe31e2=fs['statSync'](_0x37b363);_0x4f5c95[_0x1e26db(0x1ff)](_0x46c307,_0xbe31e2);});const _0x5933fe=[],_0x485f6a=Array[_0x285fa8(0x257)](_0x4f5c95[_0x285fa8(0x140)]())[_0x285fa8(0x1b7)](([_0x59b476,_0x15a6bf])=>{const _0x1e0de1=_0x285fa8;if(_0x15a6bf[_0x1e0de1(0x231)]())return undefined;let _0x1b1f56=undefined,_0x461fc2=undefined;(_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x13b))||_0x59b476[_0x1e0de1(0x24f)]('.svgz'))&&_0x4f5c95[_0x1e0de1(0x164)](_0x59b476[_0x1e0de1(0x1c2)](_0x1e0de1(0x109),'.csv')[_0x1e0de1(0x1c2)](_0x1e0de1(0x13b),'.csv'))&&(_0x1b1f56=_0x59b476[_0x1e0de1(0x1c2)](_0x1e0de1(0x109),_0x1e0de1(0x190))[_0x1e0de1(0x1c2)](_0x1e0de1(0x13b),'.csv'));_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x25c))&&_0x4f5c95[_0x1e0de1(0x164)](_0x59b476[_0x1e0de1(0x1c2)](_0x1e0de1(0x25c),'.dwg'))&&(_0x461fc2=_0x59b476[_0x1e0de1(0x1c2)]('.json','.dwg'));const _0x5930a5=_0x25cb71=>{const _0x2279d7=_0x1e0de1;if(_0x25cb71[_0x2279d7(0x24f)](_0x2279d7(0x1e6)))return _0x25cb71[_0x2279d7(0x21e)](0x0,-0x8);else{if(_0x25cb71[_0x2279d7(0x24f)](_0x2279d7(0x1cf))){const _0x107bd0=fs[_0x2279d7(0x113)](path[_0x2279d7(0x17c)](_0x4b2e09,_0x25cb71),_0x2279d7(0x1e0));return JSON[_0x2279d7(0x1a2)](_0x107bd0)[_0x2279d7(0x224)][_0x2279d7(0x1b7)](_0x5358d0=>_0x5358d0[_0x2279d7(0x22e)]);}}return _0x25cb71[_0x2279d7(0x21e)](0x0,_0x25cb71[_0x2279d7(0x1d1)]('.'));},_0x2bea46=_0x5930a5(_0x59b476),_0x510e8e=Array[_0x1e0de1(0x257)](_0x4f5c95[_0x1e0de1(0x1aa)]())[_0x1e0de1(0x1a9)](_0x29701d=>{const _0x2d3063=_0x1e0de1;return Array[_0x2d3063(0x197)](_0x2bea46)?_0x2bea46[_0x2d3063(0x10a)](_0x38ef62=>_0x5930a5(_0x29701d)===_0x38ef62&&_0x29701d!==_0x59b476):_0x5930a5(_0x29701d)===_0x2bea46&&_0x29701d!==_0x59b476;});if(Array[_0x1e0de1(0x197)](_0x2bea46)){if(_0x2bea46[_0x1e0de1(0x10a)](_0x47978b=>_0x5933fe['includes'](_0x47978b)))return;}else{if(_0x5933fe[_0x1e0de1(0x178)](_0x2bea46))return;}Array[_0x1e0de1(0x197)](_0x2bea46)?_0x2bea46[_0x1e0de1(0x14e)](_0x2126b3=>{const _0x3e89c1=_0x1e0de1;_0x5933fe[_0x3e89c1(0x177)](_0x2126b3);}):_0x5933fe['push'](_0x2bea46);const _0xcbcdb8=[{'id':_0x59b476,'name':_0x59b476[_0x1e0de1(0x24f)]('.svg')?_0x1e0de1(0x1c1):_0x59b476['endsWith'](_0x1e0de1(0x109))?_0x1e0de1(0x237):_0x59b476['endsWith'](_0x1e0de1(0x17a))?'PDF':_0x59b476['endsWith']('.json')?_0x1e0de1(0x201):_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x190))?_0x1e0de1(0x1d6):_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x239))?_0x1e0de1(0x258):_0x59b476['split']('.')[_0x1e0de1(0x10d)]()[_0x1e0de1(0x1fc)](),'color':_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x13b))||_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x109))?_0x1e0de1(0x156):_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x17a))?_0x1e0de1(0x21a):_0x59b476['endsWith'](_0x1e0de1(0x25c))?_0x1e0de1(0x1fe):_0x59b476[_0x1e0de1(0x24f)](_0x1e0de1(0x190))?_0x1e0de1(0x167):_0x59b476[_0x1e0de1(0x24f)]('.dwg')?_0x1e0de1(0x1e4):_0x1e0de1(0xda)},..._0x510e8e['map'](_0x536f97=>({'id':_0x536f97,'name':_0x536f97[_0x1e0de1(0x24f)](_0x1e0de1(0x13b))?_0x1e0de1(0x1c1):_0x536f97['endsWith'](_0x1e0de1(0x109))?_0x1e0de1(0x237):_0x536f97[_0x1e0de1(0x24f)](_0x1e0de1(0x17a))?_0x1e0de1(0x163):_0x536f97['endsWith'](_0x1e0de1(0x25c))?_0x1e0de1(0x201):_0x536f97[_0x1e0de1(0x24f)](_0x1e0de1(0x190))?_0x1e0de1(0x1d6):_0x536f97[_0x1e0de1(0x24f)](_0x1e0de1(0x239))?_0x1e0de1(0x258):_0x536f97['split']('.')[_0x1e0de1(0x10d)]()[_0x1e0de1(0x1fc)](),'color':_0x536f97[_0x1e0de1(0x24f)]('.svg')||_0x536f97[_0x1e0de1(0x24f)](_0x1e0de1(0x109))?_0x1e0de1(0x156):_0x536f97['endsWith'](_0x1e0de1(0x17a))?_0x1e0de1(0x21a):_0x536f97['endsWith'](_0x1e0de1(0x25c))?'gray':_0x536f97['endsWith'](_0x1e0de1(0x190))?_0x1e0de1(0x167):_0x536f97['endsWith'](_0x1e0de1(0x239))?'blue':'purple'}))];let _0x4ea6ae='';if(_0xcbcdb8['some'](_0x57c3d1=>_0x57c3d1['id'][_0x1e0de1(0x178)](_0x1e0de1(0x1e6))))_0x4ea6ae=_0x1e0de1(0x128);else{if(_0xcbcdb8[_0x1e0de1(0x10a)](_0x1a78c6=>[_0x1e0de1(0x1fb),_0x1e0de1(0x175)][_0x1e0de1(0x178)](_0x1a78c6['id'][_0x1e0de1(0x213)]('.')[_0x1e0de1(0x10d)]()))&&_0x1b1f56)_0x4ea6ae=_0x1e0de1(0x185);else{if(_0xcbcdb8[_0x1e0de1(0x10a)](_0x68ed60=>[_0x1e0de1(0x1fb),_0x1e0de1(0x175)][_0x1e0de1(0x178)](_0x68ed60['id'][_0x1e0de1(0x213)]('.')[_0x1e0de1(0x10d)]())))_0x4ea6ae=_0x1e0de1(0x121);else{if(_0xcbcdb8[_0x1e0de1(0x10a)](_0x612026=>[_0x1e0de1(0x101)][_0x1e0de1(0x178)](_0x612026['id'][_0x1e0de1(0x213)]('.')[_0x1e0de1(0x10d)]()))&&_0x461fc2)_0x4ea6ae=_0x1e0de1(0xee);else{if(_0xcbcdb8['some'](_0x2cab9a=>[_0x1e0de1(0x18b)]['includes'](_0x2cab9a['id'][_0x1e0de1(0x213)]('.')[_0x1e0de1(0x10d)]())))_0x4ea6ae=_0x1e0de1(0x209);else{if(_0xcbcdb8[_0x1e0de1(0x10a)](_0x41d9e6=>[_0x1e0de1(0x101)]['includes'](_0x41d9e6['id'][_0x1e0de1(0x213)]('.')[_0x1e0de1(0x10d)]()))&&!_0x461fc2)_0x4ea6ae=_0x1e0de1(0x1de);else _0xcbcdb8[_0x1e0de1(0x10a)](_0x3ea9b9=>[_0x1e0de1(0x101)]['includes'](_0x3ea9b9['id']['split']('.')['pop']()))&&(_0x4ea6ae=_0x1e0de1(0x117));}}}}}return{'name':_0x59b476,'size':_0x15a6bf[_0x1e0de1(0x17b)],'createdAt':_0x15a6bf[_0x1e0de1(0x24d)],'updatedAt':_0x15a6bf[_0x1e0de1(0x22c)],'readAt':_0x15a6bf[_0x1e0de1(0x236)],'action':_0x4ea6ae,'csvFile':_0x1b1f56,'dwgFile':_0x461fc2,'availableFormats':_0xcbcdb8};})[_0x285fa8(0x1a9)](_0xf58e72=>_0xf58e72!==undefined);_0x485f6a[_0x285fa8(0x17d)]((_0x496ab1,_0x257b48)=>_0x257b48[_0x285fa8(0x200)]-_0x496ab1[_0x285fa8(0x200)]);const _0x41fbbb={'timestamp':new Date(),'totalFiles':_0x485f6a[_0x285fa8(0x1b9)],'filesByType':{'svg':_0x485f6a[_0x285fa8(0x1a9)](_0x1c81ed=>_0x1c81ed[_0x285fa8(0x146)][_0x285fa8(0x24f)](_0x285fa8(0x13b)))[_0x285fa8(0x1b9)],'svgz':_0x485f6a[_0x285fa8(0x1a9)](_0x39d2c5=>_0x39d2c5[_0x285fa8(0x146)][_0x285fa8(0x24f)](_0x285fa8(0x109)))['length'],'pdf':_0x485f6a[_0x285fa8(0x1a9)](_0x56c246=>_0x56c246[_0x285fa8(0x146)][_0x285fa8(0x24f)](_0x285fa8(0x17a)))[_0x285fa8(0x1b9)],'json':_0x485f6a['filter'](_0x59da6a=>_0x59da6a['name'][_0x285fa8(0x24f)](_0x285fa8(0x25c)))['length'],'csv':_0x485f6a[_0x285fa8(0x1a9)](_0x112f78=>_0x112f78[_0x285fa8(0x208)])[_0x285fa8(0x1b9)],'dwg':_0x485f6a[_0x285fa8(0x1a9)](_0x3a10f2=>_0x3a10f2[_0x285fa8(0xdd)])[_0x285fa8(0x1b9)]},'filesByAction':{'dwgToSvg':_0x485f6a[_0x285fa8(0x1a9)](_0x5db044=>_0x5db044[_0x285fa8(0x1d2)]===_0x285fa8(0x185))[_0x285fa8(0x1b9)],'displayDwg':_0x485f6a[_0x285fa8(0x1a9)](_0xf0ee8d=>_0xf0ee8d[_0x285fa8(0x1d2)]===_0x285fa8(0x121))[_0x285fa8(0x1b9)],'jsonExtraction':_0x485f6a['filter'](_0x8125fd=>_0x8125fd[_0x285fa8(0x1d2)]===_0x285fa8(0xee))[_0x285fa8(0x1b9)],'dwgToPdf':_0x485f6a[_0x285fa8(0x1a9)](_0x1a40f9=>_0x1a40f9[_0x285fa8(0x1d2)]==='DWG\x20to\x20PDF\x20Conversion')[_0x285fa8(0x1b9)],'splitFiles':_0x485f6a[_0x285fa8(0x1a9)](_0x2f6918=>_0x2f6918[_0x285fa8(0x1d2)]===_0x285fa8(0x1de))['length'],'rlProcessing':_0x485f6a['filter'](_0x306432=>_0x306432[_0x285fa8(0x1d2)]===_0x285fa8(0x128))[_0x285fa8(0x1b9)],'cacheConversion':_0x485f6a[_0x285fa8(0x1a9)](_0x2b70eb=>_0x2b70eb[_0x285fa8(0x1d2)]===_0x285fa8(0x117))['length']},'files':_0x485f6a},_0x25f832=path[_0x285fa8(0x17c)](_0x8bf450,_0x285fa8(0x1c6));fs['writeFileSync'](_0x25f832,JSON[_0x285fa8(0x1f8)](_0x41fbbb,null,0x2)),logStream[_0x285fa8(0x137)](_0x285fa8(0x1ac)+_0x25f832);}catch(_0x8b1282){logStream[_0x285fa8(0x137)](_0x285fa8(0x187)+_0x8b1282['message']);}},scheduleFileAnalysis=()=>{const _0x335b45=a26_0x49fcab;analyzeConverterFiles(),schedule[_0x335b45(0x1fa)](_0x335b45(0xe7),analyzeConverterFiles),logStream[_0x335b45(0x137)](_0x335b45(0x268));};scheduleFileAnalysis(),module[a26_0x49fcab(0x12b)]=router;