const a26_0x2edf80=a26_0x323f;(function(_0x406903,_0x1a361e){const _0x202a7a=a26_0x323f,_0x1a73c3=_0x406903();while(!![]){try{const _0x95ac76=parseInt(_0x202a7a(0x21f))/0x1+-parseInt(_0x202a7a(0x20c))/0x2+-parseInt(_0x202a7a(0x26b))/0x3*(-parseInt(_0x202a7a(0x1ba))/0x4)+parseInt(_0x202a7a(0x1c6))/0x5+-parseInt(_0x202a7a(0x1b4))/0x6*(parseInt(_0x202a7a(0x211))/0x7)+-parseInt(_0x202a7a(0x162))/0x8*(parseInt(_0x202a7a(0x265))/0x9)+parseInt(_0x202a7a(0x276))/0xa;if(_0x95ac76===_0x1a361e)break;else _0x1a73c3['push'](_0x1a73c3['shift']());}catch(_0x166ccd){_0x1a73c3['push'](_0x1a73c3['shift']());}}}(a26_0x80b3,0xd9a8e));const express=require('express'),router=express['Router'](),multer=require(a26_0x2edf80(0x243)),fs=require('fs'),path=require(a26_0x2edf80(0x282)),getHotConfig=require(a26_0x2edf80(0x2b1))[a26_0x2edf80(0x136)],{exec}=require(a26_0x2edf80(0x174)),os=require('os'),conn=require(a26_0x2edf80(0x290)),bcrypt=require(a26_0x2edf80(0x1a3)),osu=require(a26_0x2edf80(0x23e)),schedule=require(a26_0x2edf80(0x2be)),counter=require('../libs/counter.js'),{randomUUID}=require(a26_0x2edf80(0x2b9)),logStream=require(a26_0x2edf80(0x296)),config=require(a26_0x2edf80(0x2ba)),basicAuth=require('express-basic-auth'),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a26_0x2edf80(0x18a)),protectedRoute=basicAuth({'users':{[config[a26_0x2edf80(0x13f)]]:config[a26_0x2edf80(0x1d4)]},'challenge':!![],'realm':a26_0x2edf80(0x19c)});router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x130),async(_0x428f97,_0x5daef5)=>{const _0x2f39b4=a26_0x2edf80;_0x5daef5['sendFile'](path[_0x2f39b4(0x165)](path[_0x2f39b4(0x227)](require[_0x2f39b4(0x15a)][_0x2f39b4(0x190)]),_0x2f39b4(0x224)));}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x1d7),async(_0x4ef26a,_0xd48573)=>{const _0x3f0e76=a26_0x2edf80;_0xd48573[_0x3f0e76(0x166)](path[_0x3f0e76(0x165)](path[_0x3f0e76(0x227)](require[_0x3f0e76(0x15a)][_0x3f0e76(0x190)]),_0x3f0e76(0x1fe)));}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x1f0),async(_0x1e1a87,_0x3fe5a5)=>{const _0x55179e=a26_0x2edf80;_0x3fe5a5['sendFile'](path[_0x55179e(0x165)](path[_0x55179e(0x227)](require[_0x55179e(0x15a)]['filename']),'cadviewer/settings/style.css'));}),router[a26_0x2edf80(0x2cc)]('/vanilla-toast.css',async(_0x5bd9e4,_0x5c635a)=>{const _0x4d7624=a26_0x2edf80;_0x5c635a[_0x4d7624(0x166)](path[_0x4d7624(0x165)](path[_0x4d7624(0x227)](require[_0x4d7624(0x15a)]['filename']),_0x4d7624(0x27d)));}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x1ff),async(_0x45f59f,_0x21a1fa)=>{const _0x2c0707=a26_0x2edf80;_0x21a1fa[_0x2c0707(0x166)](path[_0x2c0707(0x165)](path[_0x2c0707(0x227)](require[_0x2c0707(0x15a)][_0x2c0707(0x190)]),_0x2c0707(0x1b0)));}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x147),async(_0xc39f7e,_0x27a31d)=>{const _0x1e73f8=a26_0x2edf80;_0x27a31d[_0x1e73f8(0x166)](path[_0x1e73f8(0x165)](path['dirname'](require[_0x1e73f8(0x15a)]['filename']),_0x1e73f8(0x154)));}),router[a26_0x2edf80(0x2cc)]('/',protectedRoute,async(_0x1a67cc,_0x4d52f2)=>{const _0x2e5a24=a26_0x2edf80,_0x1611a8=fs['readFileSync'](path['join'](path['dirname'](require[_0x2e5a24(0x15a)][_0x2e5a24(0x190)]),_0x2e5a24(0x2ca)),_0x2e5a24(0x161)),_0x8dc476=_0x1611a8[_0x2e5a24(0x197)](_0x2e5a24(0x1d5),_0x1a67cc[_0x2e5a24(0x1e9)]);_0x4d52f2[_0x2e5a24(0x1f6)](_0x8dc476);}),router[a26_0x2edf80(0x2cc)]('/licences',protectedRoute,async(_0x499ecc,_0x2f5976)=>{const _0x2e2771=a26_0x2edf80,_0x2f6c1c=fs[_0x2e2771(0x1b2)](path[_0x2e2771(0x165)](path[_0x2e2771(0x227)](require[_0x2e2771(0x15a)]['filename']),_0x2e2771(0x17c)),_0x2e2771(0x161)),_0x877b2e=_0x2f6c1c[_0x2e2771(0x197)](_0x2e2771(0x1d5),_0x499ecc['version']);_0x2f5976[_0x2e2771(0x1f6)](_0x877b2e);}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x18b),protectedRoute,async(_0x561a85,_0x3871e3)=>{const _0x5b1f70=a26_0x2edf80,_0x454e96=fs[_0x5b1f70(0x1b2)](path[_0x5b1f70(0x165)](path[_0x5b1f70(0x227)](require[_0x5b1f70(0x15a)][_0x5b1f70(0x190)]),'cadviewer/settings/config.html'),_0x5b1f70(0x161)),_0x4f5767=_0x454e96['replaceAll']('{version}',_0x561a85[_0x5b1f70(0x1e9)]);_0x3871e3[_0x5b1f70(0x1f6)](_0x4f5767);}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x171),protectedRoute,async(_0x1db03a,_0x215df7)=>{const _0x53b1b7=a26_0x2edf80,_0xe176fd=fs[_0x53b1b7(0x1b2)](path[_0x53b1b7(0x165)](path[_0x53b1b7(0x227)](require[_0x53b1b7(0x15a)]['filename']),_0x53b1b7(0x22e)),_0x53b1b7(0x161)),_0x5448f2=_0xe176fd[_0x53b1b7(0x197)](_0x53b1b7(0x1d5),_0x1db03a[_0x53b1b7(0x1e9)]);_0x215df7[_0x53b1b7(0x1f6)](_0x5448f2);}),router['post'](a26_0x2edf80(0x171),async(_0x215fd6,_0x5c04d5)=>{const _0x493e1f=a26_0x2edf80,_0x136f2e=path[_0x493e1f(0x165)](path[_0x493e1f(0x227)](require['main'][_0x493e1f(0x190)]),'CADViewer_config.json'),_0x2e0919=JSON[_0x493e1f(0x2c9)](fs[_0x493e1f(0x1b2)](_0x136f2e,_0x493e1f(0x161))),_0x47f94b=_0x2e0919[_0x493e1f(0x220)];if(!fs[_0x493e1f(0x139)](_0x47f94b))return _0x5c04d5[_0x493e1f(0x238)](0x194)[_0x493e1f(0x1d9)]({'message':_0x493e1f(0x169)});const _0x3569eb=_0x421d2d=>{const _0xf3d266=_0x493e1f;let _0x132c84=0x0;return _0x421d2d[_0xf3d266(0x279)](_0x4464a7=>{const _0x28c63d=_0xf3d266;_0x4464a7[_0x28c63d(0x2bc)]?_0x132c84+=_0x3569eb(_0x4464a7[_0x28c63d(0x2ac)]):_0x132c84+=_0x4464a7[_0x28c63d(0x28f)];}),_0x132c84;},_0x20bb8f=_0xb09f81=>{const _0x355382=_0x493e1f;if(_0xb09f81<0x400)return _0xb09f81+'\x20B';else{if(_0xb09f81<0x400*0x400)return(_0xb09f81/0x400)['toFixed'](0x2)+_0x355382(0x2c6);else return _0xb09f81<0x400*0x400*0x400?(_0xb09f81/0x400/0x400)['toFixed'](0x2)+_0x355382(0x1e0):(_0xb09f81/0x400/0x400/0x400)[_0x355382(0x232)](0x2)+_0x355382(0x203);}},_0x1c52f6=(_0x5dc291,_0x26da9c='')=>{const _0x555436=_0x493e1f,_0x49cf6e=fs[_0x555436(0x277)](_0x5dc291),_0x52b7ea=[];return _0x49cf6e[_0x555436(0x279)](_0x19ee1e=>{const _0x1768d7=_0x555436,_0x546f6f=path[_0x1768d7(0x165)](_0x5dc291,_0x19ee1e)[_0x1768d7(0x197)]('\x5c','/'),_0x47c1e8=fs['statSync'](_0x546f6f);if(_0x47c1e8[_0x1768d7(0x24e)]()){const _0x18a634=_0x1c52f6(_0x546f6f,_0x26da9c+_0x1768d7(0x2c3));_0x52b7ea[_0x1768d7(0x1ea)]({'name':_0x19ee1e,'size':_0x47c1e8[_0x1768d7(0x28f)],'path':_0x546f6f,'permissions':_0x47c1e8['mode'],'isFolder':!![],'sub_dirs':_0x18a634});}else _0x52b7ea[_0x1768d7(0x1ea)]({'name':_0x19ee1e,'size':_0x47c1e8[_0x1768d7(0x28f)],'path':_0x546f6f,'permissions':_0x47c1e8[_0x1768d7(0x288)],'isFolder':![]});}),_0x52b7ea;};let _0xd35fe0=_0x1c52f6(_0x47f94b);const _0x80544d=_0x555002=>{return _0x555002['forEach'](_0x2e7999=>{const _0x15930a=a26_0x323f;_0x2e7999[_0x15930a(0x2bc)]?(_0x2e7999[_0x15930a(0x23d)]=_0x20bb8f(_0x3569eb(_0x2e7999[_0x15930a(0x2ac)])),_0x2e7999[_0x15930a(0x2ac)]=_0x80544d(_0x2e7999[_0x15930a(0x2ac)])):_0x2e7999[_0x15930a(0x23d)]=_0x20bb8f(_0x2e7999['size']);}),_0x555002;};_0x5c04d5[_0x493e1f(0x238)](0xc8)[_0x493e1f(0x1d9)](_0x80544d(_0xd35fe0));}),router[a26_0x2edf80(0x186)](a26_0x2edf80(0x242),async(_0x2ffb47,_0x4c7c6c)=>{const _0x2ebc8c=a26_0x2edf80,{path:_0x52152e}=_0x2ffb47[_0x2ebc8c(0x291)],_0x58e72a=_0x52152e['split']('/')['pop']();if(!fs['existsSync'](_0x52152e))return _0x4c7c6c[_0x2ebc8c(0x238)](0x194)[_0x2ebc8c(0x1d9)]({'message':'File\x20not\x20found'});_0x4c7c6c['setHeader'](_0x2ebc8c(0x2ae),'application/octet-stream'),_0x4c7c6c[_0x2ebc8c(0x1c5)](_0x2ebc8c(0x252),_0x2ebc8c(0x23c)+_0x58e72a+'\x22'),_0x4c7c6c[_0x2ebc8c(0x2a7)](_0x52152e,_0x1f64f6=>{const _0x18de92=_0x2ebc8c;_0x1f64f6&&_0x4c7c6c['status'](0x1f4)[_0x18de92(0x1d9)]({'message':'Error\x20downloading\x20file.'});});}),router[a26_0x2edf80(0x186)](a26_0x2edf80(0x226),async(_0x57230c,_0x1b9495)=>{const _0x7d63ec=a26_0x2edf80,_0x2c6263=_0x57230c[_0x7d63ec(0x291)],_0x276c54=getHotConfig()[_0x7d63ec(0x220)],_0x3bea90=path[_0x7d63ec(0x165)](_0x276c54,_0x2c6263[_0x7d63ec(0x282)]);if(!fs['existsSync'](_0x3bea90))return _0x1b9495[_0x7d63ec(0x238)](0x194)[_0x7d63ec(0x1d9)]({'message':_0x7d63ec(0x1ae)});if(fs[_0x7d63ec(0x139)](path['join'](_0x3bea90,_0x2c6263['folderName'])))return _0x1b9495[_0x7d63ec(0x238)](0x199)[_0x7d63ec(0x1d9)]({'message':'Folder\x20already\x20exists.'});fs['mkdir'](path[_0x7d63ec(0x165)](_0x3bea90,_0x2c6263[_0x7d63ec(0x295)]),_0xff07e2=>{const _0x29b7ef=_0x7d63ec;_0xff07e2&&_0x1b9495[_0x29b7ef(0x238)](0x1f4)['json']({'message':_0x29b7ef(0x27e)}),_0x1b9495[_0x29b7ef(0x238)](0xc8)[_0x29b7ef(0x1d9)]({'message':_0x29b7ef(0x1a1)});});}),router['put']('/folders/update',async(_0x2bc6ff,_0x5d7531)=>{const _0x2936d1=a26_0x2edf80,{newName:_0x2fd87a,isFolder:_0x2b5018,path:_0x4b0d87}=_0x2bc6ff['body'];if(!fs[_0x2936d1(0x139)](_0x4b0d87))return _0x5d7531[_0x2936d1(0x238)](0x194)[_0x2936d1(0x1d9)]({'message':_0x2b5018?_0x2936d1(0x17e):_0x2936d1(0x14c)});const _0x120eed=_0x4b0d87[_0x2936d1(0x1af)](_0x4b0d87[_0x2936d1(0x1f1)]('/')[_0x2936d1(0x284)](),_0x2fd87a),_0x5f2c6b=fs[_0x2936d1(0x17d)](_0x4b0d87);_0x5f2c6b[_0x2936d1(0x24e)]()?fs[_0x2936d1(0x1e6)](_0x4b0d87,_0x120eed):(fs[_0x2936d1(0x2cd)](_0x4b0d87,_0x120eed),fs[_0x2936d1(0x1b1)](_0x4b0d87)),_0x5d7531[_0x2936d1(0x238)](0xc8)[_0x2936d1(0x1d9)]({'message':_0x2b5018?_0x2936d1(0x239):_0x2936d1(0x1cd)});}),router['delete'](a26_0x2edf80(0x2ab),async(_0x47f1f8,_0x49c200)=>{const _0x29750d=a26_0x2edf80,{path:_0x46d9f7}=_0x47f1f8[_0x29750d(0x291)];if(!fs[_0x29750d(0x139)](_0x46d9f7))return _0x49c200[_0x29750d(0x238)](0x194)[_0x29750d(0x1d9)]({'message':_0x29750d(0x2bb)});const _0x1d2936=fs['statSync'](_0x46d9f7);if(_0x1d2936[_0x29750d(0x146)]())fs['unlink'](_0x46d9f7,_0x31cdb9=>{const _0x1d652c=_0x29750d;_0x31cdb9&&_0x49c200[_0x1d652c(0x238)](0x1f4)['json']({'message':'Error\x20deleting\x20file.'}),_0x49c200[_0x1d652c(0x238)](0xc8)[_0x1d652c(0x1d9)]({'message':'File\x20deleted.'});});else _0x1d2936[_0x29750d(0x24e)]()&&fs['rmdir'](_0x46d9f7,{'recursive':!![]},_0x4a96ab=>{const _0x1a743a=_0x29750d;_0x4a96ab&&_0x49c200[_0x1a743a(0x238)](0x1f4)[_0x1a743a(0x1d9)]({'message':_0x1a743a(0x251)}),_0x49c200[_0x1a743a(0x238)](0xc8)['json']({'message':_0x1a743a(0x19b)});});});!fs[a26_0x2edf80(0x139)](a26_0x2edf80(0x23b))&&fs[a26_0x2edf80(0x15d)](a26_0x2edf80(0x23b));const storage=multer['diskStorage']({'destination':(_0x1a0d2d,_0x304c3d,_0x15dc53)=>{const _0x4e7309=a26_0x2edf80;_0x15dc53(null,_0x4e7309(0x1c7));},'filename':(_0x495bac,_0x2c8e2d,_0xc4620b)=>{const _0x50ebce=a26_0x2edf80;_0xc4620b(null,Date[_0x50ebce(0x2ad)]()+path[_0x50ebce(0x247)](_0x2c8e2d[_0x50ebce(0x1f7)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});function a26_0x323f(_0x1daa86,_0x40316b){const _0x80b3f=a26_0x80b3();return a26_0x323f=function(_0x323f26,_0xe73c00){_0x323f26=_0x323f26-0x130;let _0x4cb9f1=_0x80b3f[_0x323f26];return _0x4cb9f1;},a26_0x323f(_0x1daa86,_0x40316b);}function a26_0x80b3(){const _0x200b9c=['User\x20deleted\x20successfully','callbackMethod_gatewayUrl_flag','mkdirSync','sort','getMonth','\x22\x20executable','utf8','1744544lNnbfb','put','Error\x20deleting\x20old\x20demo_user\x20accounts:','join','sendFile','find','monthly','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','scheduleJob','Error\x20reading\x20monitoring\x20file','/users/:userId','gunzipSync','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','toISOString','mysqlUsername','/folders','linklistLocation','Error\x20getting\x20memory\x20info','child_process','filter','SVGZ','slice','Error\x20reading\x20last\x20export\x20info:','/doctor/check','settings','constants','cadviewer/settings/licences.html','statSync','Folder\x20not\x20found','/config/update','converters','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','callbackMethod_gatewayUrl','cached_conversion','/folders/upload','/conversion/clean','post','/config/content','promise','/cache-stats.js','../libs/email-utils','/config','https','cadviewer/settings/converter-files-analysis.json','getFullYear','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','filename','/users','Failed\x20to\x20flush\x20cache','toString','fileLocation','ceil','/users-export/history','replaceAll','hlall','autoxchange_executable_windows','Users\x20export\x20triggered\x20successfully','Folder\x20deleted.','CADViewer\x20Settings','ServerLocation','*\x20*\x20*\x20*\x20*','who','model','Folder\x20created.','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','bcrypt','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','writeFile','last_name','oos','Error\x20getting\x20os\x20info','readFile','mysqlPassword','Permission\x20750\x20for\x20the\x20\x22','linklist_executable_linux','Folder\x20not\x20found.','replace','cadviewer/settings/vanilla-toast.js','unlinkSync','readFileSync','blue','24HEZHMe','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','mem','JSON','map','Le\x20dossier\x20','15076VGtiFj','setDate','params','yellow','win32','dwgmerge_executable_windows','linux','autoxchange_executable_linux','conversionMemoryUsage','length','exports','setHeader','5137795CLsjqv','tmp','Invalid\x20user','hostname','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','Config\x20updated\x20successfully','fileName','File\x20renamed.','access','Database\x20Settings','\x20days\x20have\x20been\x20deleted.','pdf','usersExportFrequency','/logs/content','settingsPasswordBasicAuth','{version}','.csv','/chart.min.js','Demo\x20and\x20Base\x20User\x20Settings','json','DWG\x20file\x20in\x20multiple\x20files','/logs/clean','setup_mysqlHost','ContentSecurityPolicyReportOnly','biweekly','drive','\x20MB','fileLoad_PasswordAuthentication','/users-export/trigger','files','name','fileLoad_UserName','renameSync','licenseLocation','xpathLocation','version','push','radio|','email','standard','cachedfiles','getStats','/style.css','split','stringify','X_OK','PDF','cadviewer/settings/conversion-cache.html','send','originalname','Error\x20getting\x20disk\x20usage','\x20users\x20to\x20','green','platform','single','/export-users','cadviewer/settings/chart.min.js','/vanilla-toast.js','svgz','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','Cache\x20flushed\x20successfully','\x20GB','converterpathWin','proc','reset','type','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Exporting\x20new\x20users\x20for\x20Google\x20Ads...','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','.svgz','3065850qvoiuc','R_OK','/cache/stats','fontLocation','.log','1413769GWiUfT','reduce','`crypted_password`\x20=\x20?,\x20','Error\x20saving\x20parameters.','folder_name','autodetect_location','Error\x20deleting\x20file','Error!\x20Something\x20went\x20wrong.','writeFileSync','CADViewer_config.json','then','callbackMethod','.json','Read\x20and\x20write\x20permission\x20for\x20folder\x20','1114496kKlgMX','folderLocation','resolve','admin','logs','cadviewer/settings/tailwind.js','DWG','/folders/create','dirname','.dwg','An\x20error\x20occurred\x20while\x20checking.','DWG\x20to\x20PDF\x20Conversion','totalProcesses','darwin','cadviewer/settings/users.html','cadviewer/settings/folders.html','csv','uptime','.dwg.json','toFixed','autoxchange_executable','dir','windows','zombieProcesses','DwgMerge\x20Settings','status','Folder\x20renamed.','Display\x20of\x20DWG','./tmp','attachment;\x20filename=\x22','formatedSize','node-os-utils','toLocaleLowerCase','cadviewer/settings/rest-api-parameters.json','/restapi-test','/folders/download','multer','totalMemMb','mysqlHost','startsWith','extname','dwgmergeLocation','Config\x20updated.','RL/TL\x20Processing','====================','count','delete','isDirectory','autodetect_platform','purple','Error\x20deleting\x20folder.','Content-Disposition','Deleting\x20old\x20demo_user\x20accounts...','.pdf','conversionTimeSpend','lastExportDate','call-Api_Conversion_','cadviewer/settings/cache-stats.js','Error\x20deleting\x20user\x20folder:','.rl.json','Error\x20getting\x20cpu\x20usage','svg','totalGB','dwg','/content/redlines/','/doctor','updatedAt','splity','=============================>','Callback\x20and\x20Authentication\x20Settings','18QzrPyB','Error\x20getting\x20Users\x20export\x20export\x20history:','red','DWG\x20to\x20SVG\x20Conversion','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','CSV','822CcXRGN','Error\x20getting\x20process\x20info','hash','endsWith','catch','Failed\x20to\x20trigger\x20export','linklist_executable_windows','error','last-users-export.json','query','globalBearerAutenticationToken','4937020ZrzwGB','readdirSync','0\x20*\x20*\x20*\x20*','forEach','/metrics','User\x20updated\x20successfully','AutoXchange\x20Settings','cadviewer/settings/vanilla-toast.css','Error\x20creating\x20folder.','array','usedMemPercentage','0\x201\x20*\x20*\x20*','path','/converters/autoxchange/linux/','pop','Failed\x20to\x20retrieve\x20export\x20history','/logs','number','mode','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','write','zlib','/conversion/list','.log\x22','execute','size','../libs/mysql.js','body','Parameters\x20saved.','/cache','\x20n\x27existe\x20pas.','folderName','../libs/log','usage','info','ContentSecurityPolicy','globalBearerAutentication','/restapi-test/parameters/search','all','avatar','keys','osCmd','converterpathLin','memorydata.csv','log','mysqlDatabase','cvjs_svgz_compress','/conversion/memorydata','Error\x20finding\x20log\x20files:','download','Export\x20file\x20not\x20found','file','Error\x20triggering\x20Users\x20export:','/folders/delete','sub_dirs','now','Content-Type','converterLocation','getDate','../libs/config','fileLoad_Password','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','SVG','usedPercentage','test','some','/cache/csv/:file','crypto','../CADViewer_config.json','File\x20or\x20Folder\x20not\x20found','isFolder','rmSync','node-schedule','arch','demoUserRetentionDays','LinkList\x20Settings','ctime','\x20\x20\x20','cadviewer/settings/doctor.html','dwgmerge_executable_linux','\x20KB','Error\x20getting\x20cache\x20stats:','===================error===================','parse','cadviewer/settings/home.html','cpu','get','copyFileSync','/tailwind.js','cadviewer/settings/requests-callapiconversion-monitoring.json','SELECT\x20*\x20FROM\x20users','mimetype','Server\x20Settings','/converters/files/pdf/','getHotConfig','/users/flush-dir','createdAt','existsSync','/cache/files/:id','0\x200\x20*\x20*\x20*','padStart','includes','linklist_executable','settingsUserBasicAuth','No\x20config\x20object\x20provided','./uploads/','blocks','fileLocationUrl','.svg','temp_print_folder','isFile','/icons.js','ServerUrl','first_name','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','/converters/files/merged/','File\x20not\x20found','atime','boolean','freeGb','users-export-','dwgmerge_executable','trim','No\x20files\x20uploaded','cadviewer/settings/icons.js','demo_user','/content/redlines/v7/','.gitkeep','vmstats','avatars/','main'];a26_0x80b3=function(){return _0x200b9c;};return a26_0x80b3();}router['post'](a26_0x2edf80(0x184),upload[a26_0x2edf80(0x27f)](a26_0x2edf80(0x1e3)),async(_0x135308,_0x5e2478)=>{const _0x533123=a26_0x2edf80,_0x126299=_0x135308[_0x533123(0x291)];if(!_0x135308[_0x533123(0x1e3)]||_0x135308[_0x533123(0x1e3)][_0x533123(0x1c3)]===0x0)return _0x5e2478[_0x533123(0x238)](0x190)['json']({'message':_0x533123(0x153)});const _0x4d9c62=getHotConfig()[_0x533123(0x220)],_0x22b9f7=path[_0x533123(0x165)](_0x4d9c62,_0x126299[_0x533123(0x282)]);if(!fs[_0x533123(0x139)](_0x22b9f7))return _0x5e2478[_0x533123(0x238)](0x194)[_0x533123(0x1d9)]({'message':'Folder\x20not\x20found.'});const _0x5bc293=_0x135308[_0x533123(0x1e3)][_0x533123(0x1b8)](_0x418f08=>({'originalname':_0x418f08[_0x533123(0x1f7)],'filename':_0x418f08[_0x533123(0x190)],'mimetype':_0x418f08[_0x533123(0x133)],'size':_0x418f08[_0x533123(0x28f)]}));_0x5bc293['forEach'](_0x50e4f4=>{const _0x173b29=_0x533123;fs[_0x173b29(0x2cd)](path[_0x173b29(0x165)](_0x173b29(0x1c7),_0x50e4f4[_0x173b29(0x190)]),path['join'](_0x22b9f7,_0x50e4f4['originalname'])),fs[_0x173b29(0x1b1)](path[_0x173b29(0x165)](_0x173b29(0x1c7),_0x50e4f4[_0x173b29(0x190)]));}),_0x5e2478['status'](0xc8)[_0x533123(0x1d9)]({'message':'Files\x20uploaded\x20successfully','files':_0x5bc293});}),router[a26_0x2edf80(0x163)]('/config/global-update',async(_0x3da602,_0x1512e1)=>{const _0x3e65ee=a26_0x2edf80,_0x444d4c=path['join'](path[_0x3e65ee(0x227)](require[_0x3e65ee(0x15a)][_0x3e65ee(0x190)]),_0x3e65ee(0x21a)),{config:_0x31f43a}=_0x3da602['body'];if(!_0x31f43a)return _0x1512e1[_0x3e65ee(0x238)](0x190)['json']({'message':_0x3e65ee(0x140)});try{fs[_0x3e65ee(0x219)](_0x444d4c,JSON[_0x3e65ee(0x1f2)](_0x31f43a,null,0x4)),_0x1512e1[_0x3e65ee(0x238)](0xc8)[_0x3e65ee(0x1d9)]({'message':_0x3e65ee(0x1cb)});}catch(_0x4f3419){_0x1512e1[_0x3e65ee(0x238)](0x1f4)['json']({'message':'Error\x20updating\x20config'});}}),router[a26_0x2edf80(0x163)](a26_0x2edf80(0x17f),async(_0x119f39,_0xbb74af)=>{const _0x278733=a26_0x2edf80,{key:_0xf4a83a,value:_0x36e0cc}=_0x119f39[_0x278733(0x291)],_0x1074ae=path['join'](path['dirname'](require[_0x278733(0x15a)]['filename']),_0x278733(0x21a));fs[_0x278733(0x1aa)](_0x1074ae,_0x278733(0x161),function(_0x2a74a6,_0xcd972a){const _0x4db988=_0x278733;_0x2a74a6&&_0xbb74af[_0x4db988(0x238)](0x1f4)[_0x4db988(0x1f6)](_0x2a74a6);const _0x11f73c=JSON[_0x4db988(0x2c9)](_0xcd972a);_0x11f73c[_0xf4a83a]=_0x36e0cc;if(_0xf4a83a===_0x4db988(0x216)){let _0x4cbf00='';if(_0x11f73c['autodetect_platform']){_0x4cbf00=os[_0x4db988(0x1fb)]();if(_0x4cbf00===_0x4db988(0x1be))_0x4cbf00='windows';else{if(_0x4cbf00===_0x4db988(0x22c))_0x4cbf00='linux';}}else _0x4cbf00=_0x11f73c[_0x4db988(0x1fb)];if(_0x4cbf00===_0x4db988(0x235)){_0x11f73c[_0x4db988(0x19d)]=path[_0x4db988(0x221)](__dirname,'..')+'/';const _0x520f8d=/\\/g;_0x11f73c[_0x4db988(0x19d)]=_0x11f73c[_0x4db988(0x19d)][_0x4db988(0x1af)](_0x520f8d,'/');}else _0x11f73c[_0x4db988(0x19d)]=path[_0x4db988(0x221)](__dirname,'..')+'/';}if(_0xf4a83a==='autodetect_platform'){let _0x7e172d=os[_0x4db988(0x1fb)]();if(_0x7e172d===_0x4db988(0x1be))_0x7e172d=_0x4db988(0x235);else _0x7e172d='linux';_0x7e172d===_0x4db988(0x235)?_0x36e0cc===!![]&&(_0x11f73c[_0x4db988(0x233)]=_0x11f73c[_0x4db988(0x199)],_0x11f73c[_0x4db988(0x151)]=_0x11f73c[_0x4db988(0x1bf)],_0x11f73c[_0x4db988(0x13e)]=_0x11f73c[_0x4db988(0x271)]):_0x36e0cc===!![]&&(_0x11f73c[_0x4db988(0x233)]=_0x11f73c[_0x4db988(0x1c1)],_0x11f73c[_0x4db988(0x151)]=_0x11f73c['dwgmerge_executable_linux'],_0x11f73c[_0x4db988(0x13e)]=_0x11f73c['linklist_executable_linux']),_0x11f73c['platform']=_0x7e172d;}if(_0x11f73c[_0x4db988(0x24f)]){let _0x59b6eb=os[_0x4db988(0x1fb)]();if(_0x59b6eb===_0x4db988(0x1be))_0x59b6eb=_0x4db988(0x235);else _0x59b6eb=_0x4db988(0x1c0);if(_0x59b6eb===_0x4db988(0x235)){if(_0xf4a83a===_0x4db988(0x199))_0x11f73c[_0x4db988(0x233)]=_0x36e0cc;else{if(_0xf4a83a===_0x4db988(0x1bf))_0x11f73c['dwgmerge_executable']=_0x36e0cc;else _0xf4a83a==='linklist_executable_windows'&&(_0x11f73c[_0x4db988(0x13e)]=_0x36e0cc);}}else{if(_0xf4a83a===_0x4db988(0x1c1))_0x11f73c[_0x4db988(0x233)]=_0x36e0cc;else{if(_0xf4a83a===_0x4db988(0x2c5))_0x11f73c['dwgmerge_executable']=_0x36e0cc;else _0xf4a83a===_0x4db988(0x1ad)&&(_0x11f73c[_0x4db988(0x13e)]=_0x36e0cc);}}}fs[_0x4db988(0x1a6)](_0x1074ae,JSON[_0x4db988(0x1f2)](_0x11f73c,null,0x4),function(_0x32c5e8){const _0x5e9459=_0x4db988;_0x32c5e8&&_0xbb74af[_0x5e9459(0x238)](0x1f4)['send'](_0x32c5e8),_0xbb74af[_0x5e9459(0x238)](0xc8)[_0x5e9459(0x1d9)]({'message':_0x5e9459(0x249)});});});}),router['post'](a26_0x2edf80(0x187),async(_0x37a19e,_0x42f4a3)=>{const _0x5033b5=a26_0x2edf80,_0x56904a=getHotConfig(),_0x2378f8=(_0x56904a[_0x5033b5(0x248)]['includes'](_0x56904a[_0x5033b5(0x19d)])?'':_0x56904a[_0x5033b5(0x19d)])+_0x56904a['dwgmergeLocation'],_0x115e02=(_0x56904a[_0x5033b5(0x248)][_0x5033b5(0x13d)](_0x56904a[_0x5033b5(0x19d)])?'':_0x56904a['ServerLocation'])+_0x56904a['linklistLocation'],_0x343616=(_0x56904a[_0x5033b5(0x2af)][_0x5033b5(0x13d)](_0x56904a[_0x5033b5(0x19d)])?'':_0x56904a[_0x5033b5(0x19d)])+_0x56904a[_0x5033b5(0x2af)],_0x552aef=/ax202.*\.exe/,_0x59d343=/ax202.*/,_0x1e9b8c=/dwgmerge202.*\.exe/,_0xc368dc=/dwgmerge_202.*/,_0x289d22=/linklist_202.*\.exe/,_0x275eb0=/linklist_202.*/,_0x363188=[],_0x43da9d=[],_0x3c8d85=[],_0x543f04=[],_0xa58199=[],_0xa455bc=[];let _0x160399='';if(_0x56904a['autodetect_platform']){_0x160399=os[_0x5033b5(0x1fb)]();if(_0x160399===_0x5033b5(0x1be))_0x160399=_0x5033b5(0x235);else{if(_0x160399===_0x5033b5(0x22c))_0x160399='linux';}}else _0x160399=_0x56904a[_0x5033b5(0x1fb)];fs[_0x5033b5(0x277)](_0x343616[_0x5033b5(0x197)](_0x5033b5(0x1c0),_0x5033b5(0x235)))[_0x5033b5(0x279)](_0x5dff48=>{const _0x14a696=_0x5033b5;if(_0x552aef['test'](_0x5dff48[_0x14a696(0x23f)]()))_0x363188[_0x14a696(0x1ea)](_0x5dff48);}),fs[_0x5033b5(0x277)](_0x2378f8[_0x5033b5(0x197)](_0x5033b5(0x1c0),_0x5033b5(0x235)))[_0x5033b5(0x279)](_0x542ed7=>{const _0x510508=_0x5033b5;if(_0x1e9b8c[_0x510508(0x2b6)](_0x542ed7['toLocaleLowerCase']()))_0x43da9d[_0x510508(0x1ea)](_0x542ed7);}),fs[_0x5033b5(0x277)](_0x115e02[_0x5033b5(0x197)](_0x5033b5(0x1c0),_0x5033b5(0x235)))[_0x5033b5(0x279)](_0x49c4e7=>{const _0x380bf4=_0x5033b5;if(_0x289d22[_0x380bf4(0x2b6)](_0x49c4e7['toLocaleLowerCase']()))_0x3c8d85[_0x380bf4(0x1ea)](_0x49c4e7);}),fs[_0x5033b5(0x277)](_0x343616[_0x5033b5(0x197)]('windows','linux'))[_0x5033b5(0x279)](_0x37cef8=>{const _0x12be2e=_0x5033b5;if(_0x59d343['test'](_0x37cef8[_0x12be2e(0x23f)]()))_0x543f04[_0x12be2e(0x1ea)](_0x37cef8);}),fs[_0x5033b5(0x277)](_0x2378f8[_0x5033b5(0x197)](_0x5033b5(0x235),_0x5033b5(0x1c0)))[_0x5033b5(0x279)](_0x2f7a43=>{const _0x497396=_0x5033b5;if(_0xc368dc[_0x497396(0x2b6)](_0x2f7a43['toLocaleLowerCase']()))_0xa58199[_0x497396(0x1ea)](_0x2f7a43);}),fs['readdirSync'](_0x115e02[_0x5033b5(0x197)](_0x5033b5(0x235),_0x5033b5(0x1c0)))['forEach'](_0x3273bd=>{const _0x41429e=_0x5033b5;if(_0x275eb0[_0x41429e(0x2b6)](_0x3273bd[_0x41429e(0x23f)]()))_0xa455bc[_0x41429e(0x1ea)](_0x3273bd);});const _0x16e167=['ServerPort',_0x5033b5(0x18c),_0x5033b5(0x204),_0x5033b5(0x2a0),_0x5033b5(0x20f)],_0x37d70f=[_0x5033b5(0x194),_0x5033b5(0x143),_0x5033b5(0x2af),_0x5033b5(0x1e7),_0x5033b5(0x1e8),_0x5033b5(0x145),_0x5033b5(0x21c),'dwgmergeLocation','linklistLocation','version'],_0x3c0662=[_0x5033b5(0x148),_0x5033b5(0x245),_0x5033b5(0x170),_0x5033b5(0x1ab),'mysqlDatabase',_0x5033b5(0x183),_0x5033b5(0x2a4)],_0x2ce42c={'ServerUrl':_0x5033b5(0x134),'autoxchange_executable':_0x5033b5(0x27c),'linklist_executable':_0x5033b5(0x2c1),'dwgmerge_executable':_0x5033b5(0x237),'setup_mysqlHost':_0x5033b5(0x1cf),'callbackMethod_gatewayUrl_flag':_0x5033b5(0x264),'userFolderMaximumFiles':_0x5033b5(0x1d8),'smtpHost':'Mail\x20Server\x20Settings'},_0x1f5559={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':_0x5033b5(0x14e),'autodetect_platform':_0x5033b5(0x14e),'cvjs_svgz_compress':_0x5033b5(0x14e),'cached_conversion':_0x5033b5(0x14e),'remainOnServer':_0x5033b5(0x14e),'cvjs_debug':_0x5033b5(0x14e),'autodetect_location':_0x5033b5(0x14e),'platform':'radio|windows,linux','autoxchange_executable':_0x5033b5(0x1eb)+(_0x160399==='windows'?_0x363188[_0x5033b5(0x165)](','):_0x543f04[_0x5033b5(0x165)](',')),'autoxchange_executable_windows':_0x5033b5(0x1eb)+_0x363188[_0x5033b5(0x165)](','),'autoxchange_executable_linux':_0x5033b5(0x1eb)+_0x543f04[_0x5033b5(0x165)](','),'dwgmerge_executable':_0x5033b5(0x1eb)+(_0x160399===_0x5033b5(0x235)?_0x43da9d[_0x5033b5(0x165)](','):_0xa58199['join'](',')),'dwgmerge_executable_windows':_0x5033b5(0x1eb)+_0x43da9d[_0x5033b5(0x165)](','),'dwgmerge_executable_linux':_0x5033b5(0x1eb)+_0xa58199[_0x5033b5(0x165)](','),'linklist_executable':_0x5033b5(0x1eb)+(_0x160399===_0x5033b5(0x235)?_0x3c8d85[_0x5033b5(0x165)](','):_0xa455bc[_0x5033b5(0x165)](',')),'linklist_executable_windows':_0x5033b5(0x1eb)+_0x3c8d85['join'](','),'linklist_executable_linux':_0x5033b5(0x1eb)+_0xa455bc['join'](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':_0x5033b5(0x14e),'ContentSecurityPolicyReportOnly':_0x5033b5(0x14e),'fileLoad_PasswordAuthentication':_0x5033b5(0x14e),'contentLocationCheck':_0x5033b5(0x14e),'globalBearerAutentication':_0x5033b5(0x14e),'bcryptSaltRounds':_0x5033b5(0x287),'userFolderMaximumFiles':_0x5033b5(0x287),'userFolderMaximumSizeInMB':_0x5033b5(0x287)},_0x44ac47={},_0x159f55=Object[_0x5033b5(0x29e)](_0x56904a);_0x56904a[_0x5033b5(0x24f)]&&_0x16e167[_0x5033b5(0x1ea)](_0x5033b5(0x1fb)),_0x56904a[_0x5033b5(0x216)]&&(_0x37d70f[_0x5033b5(0x1ea)](_0x5033b5(0x19d)),_0x37d70f[_0x5033b5(0x1ea)]('autoxchange_executable'),_0x37d70f['push'](_0x5033b5(0x151)),_0x37d70f['push'](_0x5033b5(0x13e))),!_0x56904a[_0x5033b5(0x15c)]&&_0x37d70f[_0x5033b5(0x1ea)](_0x5033b5(0x182)),!_0x56904a[_0x5033b5(0x1dc)]&&(_0x37d70f[_0x5033b5(0x1ea)]('mysqlHost'),_0x37d70f[_0x5033b5(0x1ea)](_0x5033b5(0x170)),_0x37d70f[_0x5033b5(0x1ea)]('mysqlPassword'),_0x37d70f[_0x5033b5(0x1ea)](_0x5033b5(0x2a3))),!_0x56904a[_0x5033b5(0x1dd)]&&_0x37d70f[_0x5033b5(0x1ea)](_0x5033b5(0x299)),!_0x56904a[_0x5033b5(0x1e1)]&&(_0x37d70f[_0x5033b5(0x1ea)](_0x5033b5(0x1e5)),_0x37d70f[_0x5033b5(0x1ea)](_0x5033b5(0x2b2))),!_0x56904a[_0x5033b5(0x29a)]&&_0x37d70f['push'](_0x5033b5(0x275)),_0x159f55[_0x5033b5(0x279)](_0x4a330c=>{const _0x59ae0f=_0x5033b5;!_0x16e167[_0x59ae0f(0x13d)](_0x4a330c)&&(_0x44ac47[_0x4a330c]=_0x56904a[_0x4a330c]);}),_0x44ac47[_0x5033b5(0x143)]=''+_0x56904a[_0x5033b5(0x148)]+_0x56904a[_0x5033b5(0x194)],_0x42f4a3['status'](0xc8)[_0x5033b5(0x1d9)]({'notEditableFields':_0x37d70f,'customFieldTypes':_0x1f5559,'notHotEditableFields':_0x3c0662,'config':_0x44ac47,'fieldsTitle':_0x2ce42c,'configData':_0x56904a});}),router['get'](a26_0x2edf80(0x286),protectedRoute,async(_0x589561,_0x416020)=>{const _0x4b9d73=a26_0x2edf80,_0x1e2cfd=fs[_0x4b9d73(0x1b2)](path[_0x4b9d73(0x165)](path[_0x4b9d73(0x227)](require[_0x4b9d73(0x15a)][_0x4b9d73(0x190)]),'cadviewer/settings/logs.html'),'utf8'),_0x2e4204=_0x1e2cfd['replaceAll'](_0x4b9d73(0x1d5),_0x589561[_0x4b9d73(0x1e9)]);_0x416020[_0x4b9d73(0x1f6)](_0x2e4204);});function findMatchingLogFiles(_0x3b71ec,_0xf8a14e=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x39cd94=a26_0x2edf80;try{const _0x1221f3=fs[_0x39cd94(0x277)](_0x3b71ec);return _0x1221f3[_0x39cd94(0x175)](_0x11a6a4=>_0xf8a14e['test'](_0x11a6a4))[_0x39cd94(0x1b8)](_0x5464a1=>_0x5464a1['replaceAll'](_0x39cd94(0x257),'')[_0x39cd94(0x197)](_0x39cd94(0x210),''));}catch(_0x57777a){return console['error'](_0x39cd94(0x2a6),_0x57777a),[];}}router[a26_0x2edf80(0x186)](a26_0x2edf80(0x1d3),async(_0x483dcf,_0x5afd1c)=>{const _0x5519b0=a26_0x2edf80,_0x35ae9a=new Date(),_0x11e975=_0x35ae9a['getDate']()[_0x5519b0(0x193)]()[_0x5519b0(0x13c)](0x2,'0')+'_'+(_0x35ae9a[_0x5519b0(0x15f)]()+0x1)[_0x5519b0(0x193)]()['padStart'](0x2,'0')+'_'+_0x35ae9a[_0x5519b0(0x18e)](),{displayDay:_0x21b1ab}=_0x483dcf[_0x5519b0(0x291)],_0x3f0a3d=path['join'](path['dirname'](require[_0x5519b0(0x15a)]['filename']),_0x5519b0(0x223),_0x5519b0(0x257)+(_0x21b1ab??_0x11e975)+_0x5519b0(0x210));fs[_0x5519b0(0x139)](_0x3f0a3d)?fs[_0x5519b0(0x1aa)](_0x3f0a3d,_0x5519b0(0x161),function(_0x382d79,_0x389964){const _0x52f32e=_0x5519b0;_0x382d79&&_0x5afd1c['status'](0x1f4)[_0x52f32e(0x1f6)](_0x382d79),_0x5afd1c[_0x52f32e(0x238)](0xc8)['json']({'content':_0x389964,'days':findMatchingLogFiles(path['join'](path['dirname'](require[_0x52f32e(0x15a)][_0x52f32e(0x190)]),_0x52f32e(0x223)))});}):_0x5afd1c[_0x5519b0(0x238)](0xc8)[_0x5519b0(0x1d9)]({'content':'','days':findMatchingLogFiles(path[_0x5519b0(0x165)](path[_0x5519b0(0x227)](require[_0x5519b0(0x15a)][_0x5519b0(0x190)]),_0x5519b0(0x223)))});}),router[a26_0x2edf80(0x24d)](a26_0x2edf80(0x1db),async(_0x475bd5,_0xb1c50e)=>{const _0xf45b1e=a26_0x2edf80,_0xc9af53=new Date(),_0x4da645=_0xc9af53[_0xf45b1e(0x2b0)]()[_0xf45b1e(0x193)]()[_0xf45b1e(0x13c)](0x2,'0')+'_'+(_0xc9af53[_0xf45b1e(0x15f)]()+0x1)['toString']()[_0xf45b1e(0x13c)](0x2,'0')+'_'+_0xc9af53[_0xf45b1e(0x18e)](),_0x37b54b=findMatchingLogFiles(path[_0xf45b1e(0x165)](path[_0xf45b1e(0x227)](require[_0xf45b1e(0x15a)][_0xf45b1e(0x190)]),_0xf45b1e(0x223)));_0x37b54b[_0xf45b1e(0x279)](_0x585d45=>{const _0x46fcac=_0xf45b1e;if(_0x585d45!==_0x4da645)fs[_0x46fcac(0x1b1)](path[_0x46fcac(0x165)](path[_0x46fcac(0x227)](require[_0x46fcac(0x15a)][_0x46fcac(0x190)]),_0x46fcac(0x223),_0x46fcac(0x257)+_0x585d45+_0x46fcac(0x210)));}),logStream['clean'](),_0xb1c50e[_0xf45b1e(0x238)](0xc8)[_0xf45b1e(0x1d9)]({'message':'Log\x20file\x20cleaned.'});}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x241),protectedRoute,async(_0x208798,_0x2f0650)=>{const _0x5233b4=a26_0x2edf80,_0xcf5955=path['join'](path[_0x5233b4(0x227)](require['main'][_0x5233b4(0x190)]),'cadviewer/settings/rest-api-parameters.json');if(!fs['existsSync'](_0xcf5955)){const _0x5ee98d={'jsonDataExtraction':{'standard':[{'paramName':'json','paramValue':''},{'paramName':_0x5233b4(0x142),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x5233b4(0x25c)},{'paramName':_0x5233b4(0x1a0),'paramValue':''},{'paramName':_0x5233b4(0x198),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':'pdf'},{'paramName':'model','paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x5233b4(0x25c)},{'paramName':_0x5233b4(0x1a0),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x5233b4(0x262),'paramValue':''}]}};fs['writeFileSync'](_0xcf5955,JSON[_0x5233b4(0x1f2)](_0x5ee98d,null,0x4));}const _0x5a5cbb=fs[_0x5233b4(0x1b2)](path[_0x5233b4(0x165)](path[_0x5233b4(0x227)](require[_0x5233b4(0x15a)][_0x5233b4(0x190)]),'cadviewer/settings/rest-api.html'),_0x5233b4(0x161)),_0x245787=_0x5a5cbb[_0x5233b4(0x197)](_0x5233b4(0x1d5),_0x208798[_0x5233b4(0x1e9)]);_0x2f0650[_0x5233b4(0x1f6)](_0x245787);}),router['post'](a26_0x2edf80(0x29b),async(_0x3a97c4,_0x202951)=>{const _0x3ecd53=a26_0x2edf80,{actionName:_0x1bcae1,contentLocation:_0x3905a8}=_0x3a97c4[_0x3ecd53(0x291)],_0x1cc9b7=path['join'](path['dirname'](require[_0x3ecd53(0x15a)]['filename']),_0x3ecd53(0x240));fs[_0x3ecd53(0x1aa)](_0x1cc9b7,_0x3ecd53(0x161),function(_0x88f1ce,_0x49fa02){const _0x506a29=_0x3ecd53;if(_0x88f1ce)_0x202951['status'](0xc8)['json']({'parameters':[]});else{const _0x456736=JSON[_0x506a29(0x2c9)](_0x49fa02);if(_0x456736[_0x1bcae1]&&_0x456736[_0x1bcae1][_0x3905a8])_0x202951[_0x506a29(0x238)](0xc8)['json']({'parameters':_0x456736[_0x1bcae1][_0x3905a8]});else _0x456736[_0x1bcae1]&&_0x456736[_0x1bcae1][_0x506a29(0x1ed)]?_0x202951[_0x506a29(0x238)](0xc8)['json']({'parameters':_0x456736[_0x1bcae1][_0x506a29(0x1ed)]}):_0x202951[_0x506a29(0x238)](0xc8)[_0x506a29(0x1d9)]({'parameters':[]});}});}),router[a26_0x2edf80(0x186)]('/restapi-test/parameters/save',async(_0x3cc430,_0x3ce977)=>{const _0xc333d0=a26_0x2edf80,{actionName:_0x423160,contentLocation:_0x3fe2a2,parameters:_0x23f6f9}=_0x3cc430[_0xc333d0(0x291)],_0x8e0117=path[_0xc333d0(0x165)](path[_0xc333d0(0x227)](require[_0xc333d0(0x15a)][_0xc333d0(0x190)]),_0xc333d0(0x240));fs[_0xc333d0(0x1aa)](_0x8e0117,_0xc333d0(0x161),function(_0x52898b,_0x5e44d7){const _0x4516cc=_0xc333d0;if(_0x52898b)_0x3ce977[_0x4516cc(0x238)](0x199)[_0x4516cc(0x1d9)]({'message':_0x4516cc(0x214)});else{const _0x514482=JSON[_0x4516cc(0x2c9)](_0x5e44d7);!_0x514482[_0x423160]&&(_0x514482[_0x423160]={}),_0x514482[_0x423160][_0x3fe2a2]=_0x23f6f9,fs['writeFile'](_0x8e0117,JSON[_0x4516cc(0x1f2)](_0x514482,null,0x4),function(_0x7672d2){const _0x5945ba=_0x4516cc;_0x7672d2&&_0x3ce977[_0x5945ba(0x238)](0x199)[_0x5945ba(0x1d9)]({'message':_0x5945ba(0x214)}),_0x3ce977['status'](0xc8)[_0x5945ba(0x1d9)]({'message':_0x5945ba(0x292)});});}});}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x260),protectedRoute,async(_0x2d4426,_0x590310)=>{const _0x54eede=a26_0x2edf80,_0x508f70=fs[_0x54eede(0x1b2)](path[_0x54eede(0x165)](path[_0x54eede(0x227)](require['main'][_0x54eede(0x190)]),_0x54eede(0x2c4)),_0x54eede(0x161)),_0x531d5b=_0x508f70[_0x54eede(0x197)](_0x54eede(0x1d5),_0x2d4426['version']);_0x590310[_0x54eede(0x1f6)](_0x531d5b);}),router[a26_0x2edf80(0x186)](a26_0x2edf80(0x179),async(_0x5fbd2a,_0xec8817)=>{const _0x2b6845=a26_0x2edf80,_0x169667=getHotConfig(),_0x4eb38f=_0x169667[_0x2b6845(0x2af)][_0x2b6845(0x197)]('//','/'),_0x46a214=_0x169667[_0x2b6845(0x248)][_0x2b6845(0x197)]('//','/'),_0x51838a=_0x169667[_0x2b6845(0x172)][_0x2b6845(0x197)]('//','/'),_0x504d21=''+_0x4eb38f+_0x169667[_0x2b6845(0x233)],_0x472dee=''+_0x46a214+_0x169667[_0x2b6845(0x151)],_0x4d3ac6=''+_0x51838a+_0x169667[_0x2b6845(0x13e)],_0x49530c=[],_0x245ae5=new Promise(_0x10941f=>{const _0xd9f7e9=_0x2b6845;exec(os[_0xd9f7e9(0x1fb)]()===_0xd9f7e9(0x1be)?_0xd9f7e9(0x234):'ls',_0x3f69cf=>{const _0x17561b=_0xd9f7e9;_0x3f69cf?_0x49530c[_0x17561b(0x1ea)]({'title':_0x17561b(0x1ca),'status':![],'priority':0x1}):_0x49530c[_0x17561b(0x1ea)]({'title':_0x17561b(0x1ca),'status':!![],'priority':0x1}),_0x10941f();});}),_0x13f685=new Promise(_0x38e1ba=>{const _0x37fa33=_0x2b6845;fs['access'](_0x504d21,fs[_0x37fa33(0x17b)][_0x37fa33(0x1f3)],_0x456bef=>{const _0x1cbb83=_0x37fa33;_0x456bef?_0x49530c[_0x1cbb83(0x1ea)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x169667[_0x1cbb83(0x233)]+'\x22\x20executable','status':![],'priority':0x2}):_0x49530c[_0x1cbb83(0x1ea)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x169667[_0x1cbb83(0x233)]+_0x1cbb83(0x160),'status':!![],'priority':0x2}),_0x38e1ba();});}),_0x2e037a=new Promise(_0x12fab2=>{const _0x4d35cd=_0x2b6845;fs['access'](_0x472dee,fs[_0x4d35cd(0x17b)][_0x4d35cd(0x1f3)],_0x3d063d=>{const _0x36bc47=_0x4d35cd;_0x3d063d?_0x49530c[_0x36bc47(0x1ea)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x169667[_0x36bc47(0x151)]+_0x36bc47(0x160),'status':![],'priority':0x3}):_0x49530c[_0x36bc47(0x1ea)]({'title':_0x36bc47(0x1ac)+_0x169667[_0x36bc47(0x151)]+_0x36bc47(0x160),'status':!![],'priority':0x3}),_0x12fab2();});}),_0x19b119=new Promise(_0x394d92=>{const _0x1e6351=_0x2b6845;fs[_0x1e6351(0x1ce)](_0x4d3ac6,fs[_0x1e6351(0x17b)][_0x1e6351(0x1f3)],_0x2f91c1=>{const _0xba0ffa=_0x1e6351;_0x2f91c1?_0x49530c['push']({'title':_0xba0ffa(0x1ac)+_0x169667[_0xba0ffa(0x13e)]+'\x22\x20executable','status':![],'priority':0x4}):_0x49530c[_0xba0ffa(0x1ea)]({'title':_0xba0ffa(0x1ac)+_0x169667[_0xba0ffa(0x13e)]+'\x22\x20executable','status':!![],'priority':0x4}),_0x394d92();});}),_0x4daa5d=new Promise(_0x566bc5=>{const _0xb94c4e=_0x2b6845,_0x3a1b7a=new Date(),_0x5e6ebe=_0x3a1b7a[_0xb94c4e(0x2b0)]()[_0xb94c4e(0x193)]()[_0xb94c4e(0x13c)](0x2,'0')+'_'+(_0x3a1b7a['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'_'+_0x3a1b7a[_0xb94c4e(0x18e)](),{displayDay:_0x13a8d1}=_0x5fbd2a['body'];fs[_0xb94c4e(0x1ce)](path[_0xb94c4e(0x165)](path['dirname'](require[_0xb94c4e(0x15a)]['filename']),_0xb94c4e(0x223),_0xb94c4e(0x257)+(_0x13a8d1??_0x5e6ebe)+'.log'),fs[_0xb94c4e(0x17b)]['W_OK'],_0xa0b02f=>{const _0x5a0cb3=_0xb94c4e;_0xa0b02f?_0x49530c[_0x5a0cb3(0x1ea)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x13a8d1??_0x5e6ebe)+'.log\x22','status':![],'priority':0x5}):_0x49530c['push']({'title':_0x5a0cb3(0x269)+(_0x13a8d1??_0x5e6ebe)+_0x5a0cb3(0x28d),'status':!![],'priority':0x5}),_0x566bc5();});}),_0x1fad68=(_0xf550e7,_0x1c0605)=>{const _0x172d0c=_0x2b6845,_0x37b727=path['join'](path[_0x172d0c(0x227)](require[_0x172d0c(0x15a)][_0x172d0c(0x190)]),_0xf550e7);return new Promise(_0x2db93f=>{const _0x495260=_0x172d0c;fs[_0x495260(0x1ce)](path[_0x495260(0x165)](path['dirname'](_0x37b727)),fs['constants'][_0x495260(0x20d)]|fs[_0x495260(0x17b)]['W_OK'],_0x380291=>{const _0x589a9d=_0x495260;_0x380291?_0x49530c[_0x589a9d(0x1ea)]({'title':'Read\x20and\x20write\x20permission\x20for\x20folder\x20'+_0xf550e7,'status':![],'priority':_0x1c0605+0x6}):_0x49530c[_0x589a9d(0x1ea)]({'title':_0x589a9d(0x21e)+_0xf550e7,'status':!![],'priority':_0x1c0605+0x6}),_0x2db93f();});});},_0x511c15=['/converters/files/',_0x2b6845(0x283),_0x2b6845(0x14b),'/converters/files/print/',_0x2b6845(0x135),_0x2b6845(0x25f),_0x2b6845(0x156)],_0x5010d6=_0x511c15[_0x2b6845(0x1b8)](_0x1fad68);Promise[_0x2b6845(0x29c)]([_0x245ae5,_0x13f685,_0x2e037a,_0x19b119,_0x4daa5d,..._0x5010d6])[_0x2b6845(0x21b)](()=>{const _0x85e0bb=_0x2b6845;_0xec8817[_0x85e0bb(0x238)](0xc8)[_0x85e0bb(0x1d9)]({'checking_list':_0x49530c});})[_0x2b6845(0x26f)](()=>{const _0x44d3c0=_0x2b6845;_0xec8817[_0x44d3c0(0x238)](0x1f4)[_0x44d3c0(0x1d9)]({'error':_0x44d3c0(0x229)});});}),router[a26_0x2edf80(0x2cc)]('/users',protectedRoute,async(_0x2e7e18,_0x4c9cdc)=>{const _0x56e819=a26_0x2edf80,_0x4f8807=fs[_0x56e819(0x1b2)](path[_0x56e819(0x165)](path[_0x56e819(0x227)](require[_0x56e819(0x15a)][_0x56e819(0x190)]),_0x56e819(0x22d)),_0x56e819(0x161)),_0x30e530=_0x4f8807[_0x56e819(0x197)](_0x56e819(0x1d5),_0x2e7e18[_0x56e819(0x1e9)]);_0x4c9cdc[_0x56e819(0x1f6)](_0x30e530);}),router[a26_0x2edf80(0x186)]('/users/list',async(_0x163d66,_0x1c0faf)=>{const _0x15d742=a26_0x2edf80;let _0x267863;try{const [_0x237076]=await conn[_0x15d742(0x188)]()[_0x15d742(0x28e)](_0x15d742(0x132),[]);_0x267863=_0x237076;}catch(_0x3931bf){console[_0x15d742(0x2a2)](_0x3931bf),_0x1c0faf[_0x15d742(0x238)](0x1f4)[_0x15d742(0x1d9)]({'error':_0x15d742(0x218)});return;}_0x1c0faf[_0x15d742(0x238)](0xc8)[_0x15d742(0x1d9)]({'success':!![],'data':_0x267863});}),router[a26_0x2edf80(0x186)](a26_0x2edf80(0x191),upload[a26_0x2edf80(0x1fc)](a26_0x2edf80(0x29d)),async(_0x3a7d79,_0x299a3f)=>{const _0x2e6df8=a26_0x2edf80,{id:_0x45ffee,first_name:_0x44e48a,last_name:_0x118631,username:_0x130c8f,email:_0x5483bc,password:_0xbe87dd,is_enabled:_0x15d189}=_0x3a7d79[_0x2e6df8(0x291)],_0x350374=_0x3a7d79[_0x2e6df8(0x291)]['role']===_0x2e6df8(0x222)?_0x2e6df8(0x222):_0x3a7d79['body']['role']==='demo_user'?_0x2e6df8(0x155):'user';let _0x1f1b2b;console[_0x2e6df8(0x2a2)](_0x2e6df8(0x263));_0xbe87dd&&(_0x1f1b2b=await bcrypt[_0x2e6df8(0x26d)](_0xbe87dd,0xa));let _0x70e218=null;if(_0x3a7d79['file']){const _0x13b32c=_0x2e6df8(0x159)+randomUUID()+'.png';fs[_0x2e6df8(0x2cd)](_0x3a7d79[_0x2e6df8(0x2a9)][_0x2e6df8(0x282)],'./'+_0x13b32c),fs[_0x2e6df8(0x1b1)](_0x3a7d79[_0x2e6df8(0x2a9)][_0x2e6df8(0x282)]),config[_0x2e6df8(0x15c)]?_0x70e218=config[_0x2e6df8(0x182)]+'/'+_0x13b32c:_0x70e218=config[_0x2e6df8(0x148)]+'/'+_0x13b32c;}if(_0x45ffee){try{let [_0xbea5a2]=await conn[_0x2e6df8(0x188)]()[_0x2e6df8(0x28e)](_0x2e6df8(0x1a4),[_0x5483bc,_0x130c8f,_0x45ffee]);if(_0xbea5a2[_0x2e6df8(0x1c3)]>0x0)_0x299a3f[_0x2e6df8(0x238)](0x199)['json']({'error':_0x2e6df8(0x18f)});else{!_0x3a7d79[_0x2e6df8(0x2a9)]&&([_0xbea5a2]=await conn[_0x2e6df8(0x188)]()['execute'](_0x2e6df8(0x14a),[_0x45ffee]),_0x70e218=_0xbea5a2[0x0]['avatar_url']);const _0x37661b=_0x2e6df8(0x2b3)+(_0xbe87dd?_0x2e6df8(0x213):'')+_0x2e6df8(0x181);await conn[_0x2e6df8(0x188)]()[_0x2e6df8(0x28e)](_0x37661b,_0xbe87dd?[_0x70e218,_0x44e48a,_0x118631,_0x130c8f,_0x5483bc,_0x1f1b2b,_0x15d189,_0x350374,_0x45ffee]:[_0x70e218,_0x44e48a,_0x118631,_0x130c8f,_0x5483bc,_0x15d189,_0x350374,_0x45ffee]);}}catch(_0x336c2a){console[_0x2e6df8(0x2a2)](_0x336c2a),_0x299a3f[_0x2e6df8(0x238)](0x1f4)[_0x2e6df8(0x1d9)]({'error':_0x2e6df8(0x218)});return;}_0x299a3f[_0x2e6df8(0x238)](0xc8)[_0x2e6df8(0x1d9)]({'success':!![],'message':_0x2e6df8(0x27b)});}else{try{const [_0xccb49b]=await conn[_0x2e6df8(0x188)]()[_0x2e6df8(0x28e)](_0x2e6df8(0x16e),[_0x5483bc,_0x130c8f]);if(_0xccb49b[_0x2e6df8(0x1c3)]>0x0)_0x299a3f[_0x2e6df8(0x238)](0x199)[_0x2e6df8(0x1d9)]({'error':_0x2e6df8(0x18f)});else{const _0x185f73=randomUUID();await conn[_0x2e6df8(0x188)]()[_0x2e6df8(0x28e)](_0x2e6df8(0x1a2),[_0x70e218,_0x44e48a,_0x118631,_0x130c8f,_0x5483bc,_0x1f1b2b,_0x350374,_0x15d189,_0x185f73]);const _0x3a8ec0=_0x2e6df8(0x141)+_0x185f73;fs[_0x2e6df8(0x15d)](_0x3a8ec0);}}catch(_0x4eb294){console[_0x2e6df8(0x2a2)](_0x4eb294),_0x299a3f[_0x2e6df8(0x238)](0x1f4)[_0x2e6df8(0x1d9)]({'error':_0x2e6df8(0x218)});return;}_0x299a3f[_0x2e6df8(0x238)](0xc8)['json']({'success':!![],'message':'User\x20created\x20successfully'});}}),router['delete'](a26_0x2edf80(0x137),async(_0x312a6b,_0xe467d2)=>{const _0x4d81f5=a26_0x2edf80,{userId:_0x49fea}=_0x312a6b[_0x4d81f5(0x291)];let _0x4db3a8;try{const [_0x41beda]=await conn[_0x4d81f5(0x188)]()[_0x4d81f5(0x28e)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x49fea]);_0x41beda[_0x4d81f5(0x1c3)]>0x0&&(_0x4db3a8=_0x41beda[0x0]);}catch(_0x178e60){console[_0x4d81f5(0x2a2)]({'err':_0x178e60}),_0xe467d2[_0x4d81f5(0x238)](0x1f4)[_0x4d81f5(0x1d9)]({'error':_0x4d81f5(0x218)});return;}if(!_0x4db3a8){_0xe467d2[_0x4d81f5(0x238)](0x191)['json']({'error':'Invalid\x20user'});return;}let _0x5e5edf=_0x4db3a8[_0x4d81f5(0x215)];if(!_0x5e5edf){_0x5e5edf=randomUUID();try{await conn[_0x4d81f5(0x188)]()[_0x4d81f5(0x28e)](_0x4d81f5(0x1b5),[_0x5e5edf,_0x49fea]);}catch(_0x39e0ff){console[_0x4d81f5(0x2a2)]({'err':_0x39e0ff}),_0xe467d2[_0x4d81f5(0x238)](0x1f4)[_0x4d81f5(0x1d9)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x89fabb=_0x4d81f5(0x141)+_0x5e5edf;console[_0x4d81f5(0x2a2)](_0x4d81f5(0x24b)),console[_0x4d81f5(0x2a2)](_0x89fabb),!fs[_0x4d81f5(0x139)](_0x89fabb)&&fs['mkdirSync'](_0x89fabb),fs[_0x4d81f5(0x2bd)](_0x89fabb,{'recursive':!![],'force':!![]}),fs[_0x4d81f5(0x15d)](_0x89fabb),_0xe467d2[_0x4d81f5(0x238)](0xc8)[_0x4d81f5(0x1d9)]({'success':!![],'message':'User\x20directory\x20flushed\x20successfully'});}),router[a26_0x2edf80(0x24d)](a26_0x2edf80(0x16c),async(_0x57c433,_0x23ac08)=>{const _0x5afaff=a26_0x2edf80,_0x30752a=_0x57c433['params']['userId'];try{let _0x3b9e0b;try{const [_0x3f6c1]=await conn[_0x5afaff(0x188)]()['execute']('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x30752a]);_0x3f6c1['length']>0x0&&(_0x3b9e0b=_0x3f6c1[0x0]);}catch(_0x388faa){console[_0x5afaff(0x2a2)]({'err':_0x388faa}),_0x23ac08[_0x5afaff(0x238)](0x1f4)[_0x5afaff(0x1d9)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0x3b9e0b){_0x23ac08[_0x5afaff(0x238)](0x191)[_0x5afaff(0x1d9)]({'error':_0x5afaff(0x1c8)});return;}let _0x16dbb4=_0x3b9e0b[_0x5afaff(0x215)];if(_0x16dbb4){const _0xbb5cb1='./uploads/'+_0x16dbb4;fs['existsSync'](_0xbb5cb1)&&fs[_0x5afaff(0x2bd)](_0xbb5cb1,{'recursive':!![],'force':!![]});}await conn[_0x5afaff(0x188)]()['execute'](_0x5afaff(0x1a5),[_0x30752a]);}catch(_0x2b471c){console[_0x5afaff(0x2a2)](_0x2b471c),_0x23ac08[_0x5afaff(0x238)](0x1f4)['json']({'error':_0x5afaff(0x218)});return;}_0x23ac08[_0x5afaff(0x238)](0xc8)['json']({'success':!![],'message':_0x5afaff(0x15b)});}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x27a),async(_0x5c393e,_0x4d1860)=>{const _0x309a3b=a26_0x2edf80,_0x3b3d96=osu[_0x309a3b(0x2cb)],_0x14a719=osu[_0x309a3b(0x1b6)],_0x2993df=osu[_0x309a3b(0x1df)],_0x46ee43=osu['os'],_0x2d44b9={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x153847=os[_0x309a3b(0x1fb)]()===_0x309a3b(0x1be)?'c:':'/';const _0x3037e0=await _0x2993df[_0x309a3b(0x298)](_0x153847);_0x2d44b9['percentage']=_0x3037e0[_0x309a3b(0x2b5)],_0x2d44b9['usedGB']=_0x3037e0['usedGb'],_0x2d44b9[_0x309a3b(0x14f)]=_0x3037e0[_0x309a3b(0x14f)],_0x2d44b9[_0x309a3b(0x25d)]=_0x3037e0['totalGb'];}catch(_0x39c8e7){console['log'](_0x309a3b(0x1f8),_0x39c8e7);}const _0x21fabe={'usage':0x0,'count':0x0};try{_0x21fabe[_0x309a3b(0x297)]=await _0x3b3d96['usage'](),_0x21fabe[_0x309a3b(0x24c)]=_0x3b3d96[_0x309a3b(0x24c)]();}catch(_0x58bf2f){console['log'](_0x309a3b(0x25b),_0x58bf2f);}const _0xa0e99a={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0xa0e99a['os']=await _0x46ee43[_0x309a3b(0x1a8)](),_0xa0e99a[_0x309a3b(0x1fb)]=_0x46ee43[_0x309a3b(0x1fb)](),_0xa0e99a['ip']=_0x46ee43['ip'](),_0xa0e99a[_0x309a3b(0x230)]=_0x46ee43['uptime'](),_0xa0e99a[_0x309a3b(0x1c9)]=_0x46ee43[_0x309a3b(0x1c9)](),_0xa0e99a[_0x309a3b(0x207)]=_0x46ee43[_0x309a3b(0x207)](),_0xa0e99a[_0x309a3b(0x2bf)]=_0x46ee43[_0x309a3b(0x2bf)](),_0xa0e99a[_0x309a3b(0x19f)]=await osu['osCmd'][_0x309a3b(0x19f)](),_0xa0e99a['whoami']=await osu[_0x309a3b(0x29f)]['whoami'](),_0xa0e99a[_0x309a3b(0x158)]=await osu[_0x309a3b(0x29f)][_0x309a3b(0x158)]();}catch(_0xd7102b){console[_0x309a3b(0x2a2)](_0x309a3b(0x1a9),_0xd7102b);}const _0x463c6a={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x463c6a['totalProcesses']=await osu[_0x309a3b(0x205)][_0x309a3b(0x22b)](),_0x463c6a[_0x309a3b(0x236)]=await osu['proc']['zombieProcesses']();}catch(_0x5f2ce6){console['log'](_0x309a3b(0x26c),_0x5f2ce6);}let _0x574a9a={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x523c39=await _0x14a719['info']();_0x574a9a[_0x309a3b(0x280)]=_0x523c39[_0x309a3b(0x280)],_0x574a9a['usedMemMb']=_0x523c39['used']/0x400/0x400,_0x574a9a[_0x309a3b(0x244)]=_0x523c39['total']/0x400/0x400;}catch(_0x3ddcc0){console[_0x309a3b(0x2a2)](_0x309a3b(0x173),_0x3ddcc0);}let _0x481d84=0x0;try{_0x481d84=await conn[_0x309a3b(0x188)]()[_0x309a3b(0x274)](_0x309a3b(0x289))[_0x309a3b(0x21b)](([_0x41f51f])=>_0x41f51f[0x0]['total']);}catch(_0x49dd68){console[_0x309a3b(0x2a2)]('Error\x20getting\x20total\x20users',_0x49dd68);}const _0x4e66a7=getMonitoringData(),_0x252a36=_0x4e66a7[_0x309a3b(0x175)](_0x137ce5=>_0x137ce5[_0x309a3b(0x255)]!==null&&_0x137ce5['conversionTimeSpend']!==undefined),_0x125c18=_0x4e66a7[_0x309a3b(0x175)](_0x51a3b3=>_0x51a3b3[_0x309a3b(0x1c2)]!==null&&_0x51a3b3['conversionMemoryUsage']!==undefined)[_0x309a3b(0x1b8)](_0x5b8328=>parseFloat(_0x5b8328[_0x309a3b(0x1c2)][_0x309a3b(0x197)]('Kb')[_0x309a3b(0x152)]())),_0xfcdd49=_0x252a36['reduce']((_0x43b51f,_0x4ca47e)=>_0x43b51f+parseFloat(_0x4ca47e[_0x309a3b(0x255)]),0x0)/_0x252a36['length'],_0x23b24c=_0x125c18[_0x309a3b(0x212)]((_0x519902,_0x24ea7d)=>_0x519902+_0x24ea7d,0x0)/_0x125c18['length'];_0x4d1860['json']({'requestsPerSecond':counter[_0x309a3b(0x1ef)](),'diskUsage':_0x2d44b9,'cpus':_0x21fabe,'system':_0xa0e99a,'process':_0x463c6a,'totalMonitoringData':_0x4e66a7[_0x309a3b(0x1c3)],'memory':_0x574a9a,'totalUsers':_0x481d84,'avgConvertionTime':_0xfcdd49,'avgMemoryUsage':_0x23b24c});}),router[a26_0x2edf80(0x186)]('/metrics/reset',(_0x5700c8,_0x5f957a)=>{const _0x1fb78e=a26_0x2edf80;counter[_0x1fb78e(0x206)](),_0x5f957a[_0x1fb78e(0x1d9)]({'message':'Counter\x20reset\x20successfully'});});const getMonitoringData=()=>{const _0xd61d3f=a26_0x2edf80,_0x3daf19=_0xd61d3f(0x131);let _0x3c8cdb=[];try{_0x3c8cdb=JSON['parse'](fs['readFileSync'](_0x3daf19));}catch(_0x43f396){console[_0xd61d3f(0x2a2)](_0xd61d3f(0x16b));}return _0x3c8cdb;};router['get'](a26_0x2edf80(0x28c),async(_0x583c2f,_0x476075)=>{const _0x1e1f5a=a26_0x2edf80,{page:page=0x1,limit:limit=0xa}=_0x583c2f[_0x1e1f5a(0x274)],_0x71e7c8=(page-0x1)*limit;try{const _0x282ef0=getMonitoringData(),_0x521718=_0x282ef0[_0x1e1f5a(0x1c3)],_0x512d81=Math['ceil'](_0x521718/limit),_0x7486ad=_0x282ef0[_0x1e1f5a(0x177)](_0x71e7c8,_0x71e7c8+limit);_0x476075[_0x1e1f5a(0x238)](0xc8)[_0x1e1f5a(0x1d9)]({'data':_0x7486ad,'page':parseInt(''+page),'totalPages':_0x512d81,'total':_0x521718});}catch(_0x1188c3){console[_0x1e1f5a(0x2a2)](_0x1188c3),_0x476075[_0x1e1f5a(0x238)](0x1f4)[_0x1e1f5a(0x1d9)]({'error':_0x1e1f5a(0x218)});}}),router['delete'](a26_0x2edf80(0x185),async(_0x587c19,_0x56a5b1)=>{const _0x3a459e=a26_0x2edf80,_0x222e37=_0x3a459e(0x131);try{fs[_0x3a459e(0x219)](_0x222e37,JSON[_0x3a459e(0x1f2)]([],null,0x4)),analyzeConverterFiles(),_0x56a5b1['status'](0xc8)[_0x3a459e(0x1d9)]({'message':'Monitoring\x20file\x20cleaned.'});}catch(_0x482c8e){console[_0x3a459e(0x2a2)](_0x482c8e),_0x56a5b1[_0x3a459e(0x238)](0x1f4)[_0x3a459e(0x1d9)]({'error':_0x3a459e(0x218)});}}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x2a5),async(_0x57a92a,_0x11b2b0)=>{const _0x2aed89=a26_0x2edf80,_0x974d5a=getHotConfig()[_0x2aed89(0x2af)][_0x2aed89(0x197)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x57a92a[_0x2aed89(0x274)],_0xcbc809=(page-0x1)*limit;try{const _0x2a48db=_0x974d5a+_0x2aed89(0x2a1);console[_0x2aed89(0x2a2)](_0x2a48db);const _0x4dae41=fs[_0x2aed89(0x1b2)](_0x2a48db,_0x2aed89(0x161)),_0x4d89b3=_0x4dae41[_0x2aed89(0x1f1)]('\x0a'),_0x26f6cc=[];_0x4d89b3[_0x2aed89(0x279)](_0x521d78=>{const _0x1bcc67=_0x2aed89,_0x2c53b2=_0x521d78[_0x1bcc67(0x1f1)](',');if(_0x2c53b2['length']<0x4)return;const _0x58bdd8=_0x2c53b2[0x0],_0x151f66=_0x2c53b2[0x1],_0x37666f=parseFloat(_0x2c53b2[0x2]);_0x26f6cc[_0x1bcc67(0x1ea)]({'file':_0x58bdd8['replaceAll']('\x22',''),'action':_0x151f66,'timeSpend':_0x37666f,'memoryUsage':_0x2c53b2[0x3]});});const _0x2fe0c7=_0x26f6cc['length'],_0x4e6414=Math[_0x2aed89(0x195)](_0x2fe0c7/limit),_0x1c2e45=_0x26f6cc['slice'](_0xcbc809,_0xcbc809+limit);_0x11b2b0['status'](0xc8)[_0x2aed89(0x1d9)]({'data':_0x1c2e45,'page':parseInt(''+page),'totalPages':_0x4e6414,'total':_0x2fe0c7});}catch(_0x30d800){console[_0x2aed89(0x2a2)](_0x30d800),_0x11b2b0[_0x2aed89(0x238)](0x1f4)[_0x2aed89(0x1d9)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x20e),async(_0x14169f,_0x16c870)=>{const _0x123319=a26_0x2edf80,_0x42be2e=path[_0x123319(0x165)](path['dirname'](require[_0x123319(0x15a)]['filename']),_0x123319(0x180),'files');try{let _0x5438c5=0x0,_0x164276=0x0;function _0xbcf323(_0x60b75f){const _0x2ab431=_0x123319;let _0x2f5efc=0x0,_0x25177d=0x0;if(fs['existsSync'](_0x60b75f)){const _0x1bd5da=fs['readdirSync'](_0x60b75f);_0x25177d=0x0;for(const _0x680399 of _0x1bd5da){const _0x417b8a=path[_0x2ab431(0x165)](_0x60b75f,_0x680399),_0x4002eb=fs[_0x2ab431(0x17d)](_0x417b8a);if(_0x4002eb[_0x2ab431(0x146)]()&&_0x680399!=='.gitkeep')_0x25177d++,_0x2f5efc+=_0x4002eb[_0x2ab431(0x28f)];else{if(_0x4002eb[_0x2ab431(0x24e)]()){}}}}return{'size':_0x2f5efc,'count':_0x25177d};}const _0x360859=_0xbcf323(_0x42be2e);_0x5438c5=_0x360859[_0x123319(0x28f)],_0x164276=_0x360859[_0x123319(0x24c)],_0x16c870[_0x123319(0x1d9)]({'fileCount':_0x164276,'totalSize':_0x5438c5});}catch(_0x4d122b){console[_0x123319(0x272)](_0x123319(0x2c7),_0x4d122b),_0x16c870[_0x123319(0x238)](0x1f4)[_0x123319(0x1d9)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router['delete']('/cache/flush',async(_0x3bcde4,_0x30ef07)=>{const _0x5e9a87=a26_0x2edf80,_0x1d2689=path[_0x5e9a87(0x165)](path['dirname'](require[_0x5e9a87(0x15a)][_0x5e9a87(0x190)]),'converters','files');try{function _0x39c00c(_0x13c32d){const _0x482657=_0x5e9a87;if(fs['existsSync'](_0x13c32d)){const _0x3bbe89=fs[_0x482657(0x277)](_0x13c32d);for(const _0x2da295 of _0x3bbe89){const _0xcf0bb6=path[_0x482657(0x165)](_0x13c32d,_0x2da295),_0x33350d=fs[_0x482657(0x17d)](_0xcf0bb6);if(_0x33350d[_0x482657(0x24e)]()){}else _0x2da295!==_0x482657(0x157)&&fs[_0x482657(0x1b1)](_0xcf0bb6);}}}_0x39c00c(_0x1d2689),analyzeConverterFiles(),_0x30ef07[_0x5e9a87(0x1d9)]({'message':_0x5e9a87(0x202)});}catch(_0x28319b){console[_0x5e9a87(0x272)]('Error\x20flushing\x20cache:',_0x28319b),_0x30ef07[_0x5e9a87(0x238)](0x1f4)[_0x5e9a87(0x1d9)]({'error':_0x5e9a87(0x192)});}}),router['get'](a26_0x2edf80(0x189),async(_0x3be664,_0x5bfa9c)=>{const _0x412f63=a26_0x2edf80;_0x5bfa9c[_0x412f63(0x166)](path[_0x412f63(0x165)](path[_0x412f63(0x227)](require[_0x412f63(0x15a)]['filename']),_0x412f63(0x258)));}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x293),protectedRoute,async(_0x325329,_0x2eda2b)=>{const _0x5afdf0=a26_0x2edf80,_0x4e15cd=fs['readFileSync'](path[_0x5afdf0(0x165)](path['dirname'](require[_0x5afdf0(0x15a)][_0x5afdf0(0x190)]),_0x5afdf0(0x1f5)),_0x5afdf0(0x161)),_0x2cb4ed=_0x4e15cd[_0x5afdf0(0x197)](_0x5afdf0(0x1d5),_0x325329[_0x5afdf0(0x1e9)]);_0x2eda2b[_0x5afdf0(0x1f6)](_0x2cb4ed);}),router[a26_0x2edf80(0x2cc)]('/cache/files',async(_0x522349,_0x505722)=>{const _0x18968d=a26_0x2edf80,{page:page=0x1,limit:limit=0x10}=_0x522349[_0x18968d(0x274)],_0xfeddae=JSON['parse'](fs[_0x18968d(0x1b2)](path[_0x18968d(0x165)](path[_0x18968d(0x227)](require['main'][_0x18968d(0x190)]),_0x18968d(0x18d)))),_0x83c006=(page-0x1)*limit,_0x1faa4f=page*limit,_0x2abd2f=_0xfeddae[_0x18968d(0x1e3)][_0x18968d(0x1c3)],_0x4f7a27=Math['ceil'](_0x2abd2f/limit),_0x30a0f2=_0xfeddae[_0x18968d(0x1e3)]['slice'](_0x83c006,_0x1faa4f);_0x505722[_0x18968d(0x1d9)]({'files':_0x30a0f2,'pagination':{'total':_0x2abd2f,'totalPages':_0x4f7a27,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router['get'](a26_0x2edf80(0x2b8),async(_0xcdc123,_0x4ae932)=>{const _0x412645=a26_0x2edf80,{file:_0x28374e}=_0xcdc123[_0x412645(0x1bc)],_0x5c3062=path[_0x412645(0x165)](path[_0x412645(0x227)](require[_0x412645(0x15a)][_0x412645(0x190)]),'converters',_0x412645(0x1e3)),_0x4dba87=path[_0x412645(0x165)](_0x5c3062,_0x28374e),_0x32c08b=fs['readFileSync'](_0x4dba87,_0x412645(0x161)),_0x5cd6b5=_0x32c08b[_0x412645(0x1f1)]('\x0a'),_0x5b4426=_0x5cd6b5[_0x412645(0x1b8)](_0x1759fe=>{const _0x460395=_0x412645,_0x40763c=_0x1759fe[_0x460395(0x1f1)](',');return _0x40763c[_0x460395(0x1b8)](_0x1ea0b4=>_0x1ea0b4[_0x460395(0x197)]('\x22',''));});_0x4ae932['json'](_0x5b4426);}),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x13a),async(_0x36aa8c,_0x5c36c9)=>{const _0x45cb40=a26_0x2edf80,{id:_0x385d8b}=_0x36aa8c['params'],_0x101424=path[_0x45cb40(0x165)](path[_0x45cb40(0x227)](require[_0x45cb40(0x15a)][_0x45cb40(0x190)]),_0x45cb40(0x180),_0x45cb40(0x1e3)),_0x57ba43=path[_0x45cb40(0x165)](_0x101424,_0x385d8b);if(_0x57ba43[_0x45cb40(0x26e)]('.svgz')){var _0x147178=require(_0x45cb40(0x28b));const _0x1843ce=fs[_0x45cb40(0x1b2)](_0x57ba43),_0x91ce2b=_0x147178[_0x45cb40(0x16d)](_0x1843ce);_0x5c36c9[_0x45cb40(0x1c5)]('Content-Type','image/svg+xml'),_0x5c36c9[_0x45cb40(0x1f6)](_0x91ce2b);}else _0x5c36c9[_0x45cb40(0x166)](_0x57ba43);}),router[a26_0x2edf80(0x24d)](a26_0x2edf80(0x13a),async(_0x16e912,_0xce97f0)=>{const _0x4d4408=a26_0x2edf80,{id:_0xa7010e}=_0x16e912[_0x4d4408(0x1bc)],_0x56998a=path[_0x4d4408(0x165)](path['dirname'](require[_0x4d4408(0x15a)][_0x4d4408(0x190)]),'converters',_0x4d4408(0x1e3)),_0xa080d0=JSON[_0x4d4408(0x2c9)](fs['readFileSync'](path[_0x4d4408(0x165)](path[_0x4d4408(0x227)](require['main'][_0x4d4408(0x190)]),_0x4d4408(0x18d)))),_0x3b5071=_0xa080d0['files'][_0x4d4408(0x167)](_0xacea=>_0xacea['name']===_0xa7010e);if(_0x3b5071){try{fs[_0x4d4408(0x139)](path[_0x4d4408(0x165)](_0x56998a,_0x3b5071['name']))&&fs[_0x4d4408(0x1b1)](path[_0x4d4408(0x165)](_0x56998a,_0x3b5071[_0x4d4408(0x1e4)]));}catch(_0x362c2f){console[_0x4d4408(0x2a2)](_0x4d4408(0x217),{'e':_0x362c2f});}(_0x3b5071['availableFormats']??[])[_0x4d4408(0x279)](_0x43a044=>{const _0xbabb0b=_0x4d4408;try{fs[_0xbabb0b(0x139)](path['join'](_0x56998a,_0x43a044['id']))&&fs[_0xbabb0b(0x1b1)](path[_0xbabb0b(0x165)](_0x56998a,_0x43a044['id']));}catch(_0x4dc863){console['log'](_0xbabb0b(0x217),{'e':_0x4dc863});}});}analyzeConverterFiles(),_0xce97f0[_0x4d4408(0x1d9)]({'message':'File\x20deleted\x20successfully'});});const deleteOldDemoUsers=async()=>{const _0x232a90=a26_0x2edf80;console[_0x232a90(0x2a2)](_0x232a90(0x253));const _0xc1f2eb=config[_0x232a90(0x2c0)],_0x266f9a='SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)';try{const [_0x20687b]=await conn['promise']()[_0x232a90(0x28e)](_0x266f9a,[_0xc1f2eb]),_0x4f1f8d=_0x20687b[_0x232a90(0x1b8)](_0x20a271=>_0x20a271[_0x232a90(0x215)]),_0x54e028=_0x20687b[_0x232a90(0x1b8)](_0x48a752=>_0x48a752[_0x232a90(0x1ec)]);console[_0x232a90(0x2a2)](_0x54e028),await conn[_0x232a90(0x188)]()[_0x232a90(0x28e)](_0x232a90(0x208),[_0xc1f2eb]),_0x4f1f8d[_0x232a90(0x279)](_0x48bfb7=>{const _0x46996e=_0x232a90;try{const _0x458654=_0x46996e(0x141)+_0x48bfb7;fs['rmdirSync'](_0x458654);}catch(_0x4c34e9){console[_0x46996e(0x272)](_0x46996e(0x259),_0x4c34e9);}}),console[_0x232a90(0x2a2)]('Old\x20demo_user\x20accounts\x20('+_0x20687b['length']+')\x20older\x20than\x20'+_0xc1f2eb+_0x232a90(0x1d0));}catch(_0x1db20f){console['error'](_0x232a90(0x164),_0x1db20f);}};schedule['scheduleJob'](a26_0x2edf80(0x281),deleteOldDemoUsers),router[a26_0x2edf80(0x2cc)](a26_0x2edf80(0x1fd),protectedRoute,async(_0x2a91ee,_0x1436d0)=>{const _0x190441=a26_0x2edf80,_0x3f88ee=fs[_0x190441(0x1b2)](path['join'](path['dirname'](require[_0x190441(0x15a)]['filename']),'cadviewer/settings/users-export.html'),'utf8'),_0x161db0=_0x3f88ee[_0x190441(0x197)](_0x190441(0x1d5),_0x2a91ee[_0x190441(0x1e9)]);_0x1436d0[_0x190441(0x1f6)](_0x161db0);});const exportUsersList=async()=>{const _0x11f8b9=a26_0x2edf80;console['log'](_0x11f8b9(0x209));const _0x1057c3=path[_0x11f8b9(0x165)](path[_0x11f8b9(0x227)](require[_0x11f8b9(0x15a)][_0x11f8b9(0x190)]),'exports');!fs[_0x11f8b9(0x139)](_0x1057c3)&&fs['mkdirSync'](_0x1057c3);const _0x52061d=config[_0x11f8b9(0x1d2)]||_0x11f8b9(0x168);let _0x36ebe0;const _0x5f1db6=path[_0x11f8b9(0x165)](_0x1057c3,_0x11f8b9(0x273));if(fs[_0x11f8b9(0x139)](_0x5f1db6))try{const _0xce2f1d=JSON[_0x11f8b9(0x2c9)](fs[_0x11f8b9(0x1b2)](_0x5f1db6,_0x11f8b9(0x161)));_0x36ebe0=new Date(_0xce2f1d[_0x11f8b9(0x256)]);}catch(_0x12775d){console[_0x11f8b9(0x272)](_0x11f8b9(0x178),_0x12775d),_0x36ebe0=calculateDefaultLastExportDate(_0x52061d);}else _0x36ebe0=calculateDefaultLastExportDate(_0x52061d);const _0x234861=new Date(),_0x407b84=_0x234861[_0x11f8b9(0x18e)]()+'-'+String(_0x234861[_0x11f8b9(0x15f)]()+0x1)['padStart'](0x2,'0')+'-'+String(_0x234861['getDate']())[_0x11f8b9(0x13c)](0x2,'0'),_0x2b071c='users-export-'+_0x407b84+'.csv',_0x315414=path[_0x11f8b9(0x165)](_0x1057c3,_0x2b071c);try{const _0x495ad1='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20',[_0x2e88ce]=await conn[_0x11f8b9(0x188)]()['execute'](_0x495ad1,[_0x36ebe0]);if(_0x2e88ce[_0x11f8b9(0x1c3)]===0x0){console['log'](_0x11f8b9(0x201));return;}let _0x59a831='email,firstname,lastname\x0a';_0x2e88ce[_0x11f8b9(0x279)](_0x116dde=>{const _0x497b4c=_0x11f8b9,_0x54c8ea=_0x116dde[_0x497b4c(0x1ec)]?'\x22'+_0x116dde[_0x497b4c(0x1ec)]['replace'](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x1fe635=_0x116dde[_0x497b4c(0x149)]?'\x22'+_0x116dde['first_name'][_0x497b4c(0x1af)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x4715fc=_0x116dde[_0x497b4c(0x1a7)]?'\x22'+_0x116dde['last_name'][_0x497b4c(0x1af)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x59a831+=_0x54c8ea+','+_0x1fe635+','+_0x4715fc+'\x0a';}),fs[_0x11f8b9(0x219)](_0x315414,_0x59a831),console[_0x11f8b9(0x2a2)]('Exported\x20'+_0x2e88ce[_0x11f8b9(0x1c3)]+_0x11f8b9(0x1f9)+_0x315414);const _0x25e148={'lastExportDate':_0x234861[_0x11f8b9(0x16f)](),'fileName':_0x2b071c,'userCount':_0x2e88ce[_0x11f8b9(0x1c3)]};fs[_0x11f8b9(0x219)](_0x5f1db6,JSON[_0x11f8b9(0x1f2)](_0x25e148,null,0x2));}catch(_0x17b16b){console['error']('Error\x20exporting\x20users\x20for\x20Google\x20Ads:',_0x17b16b);}},calculateDefaultLastExportDate=_0x2b0fc2=>{const _0x2c2897=a26_0x2edf80,_0x36aa23=new Date();return _0x2b0fc2===_0x2c2897(0x1de)?_0x36aa23[_0x2c2897(0x1bb)](_0x36aa23[_0x2c2897(0x2b0)]()-0xe):_0x36aa23['setMonth'](_0x36aa23['getMonth']()-0x1),_0x36aa23;};router['get'](a26_0x2edf80(0x196),async(_0x16494d,_0x19debf)=>{const _0x401a8b=a26_0x2edf80,_0x492053=path[_0x401a8b(0x165)](path['dirname'](require['main']['filename']),_0x401a8b(0x1c4));if(!fs[_0x401a8b(0x139)](_0x492053))return _0x19debf['status'](0xc8)[_0x401a8b(0x1d9)]({'exports':[]});try{const _0x233898=fs[_0x401a8b(0x277)](_0x492053)[_0x401a8b(0x175)](_0x4908f0=>_0x4908f0[_0x401a8b(0x246)](_0x401a8b(0x150))&&_0x4908f0['endsWith'](_0x401a8b(0x1d6)))[_0x401a8b(0x1b8)](_0x11d852=>{const _0x2f4320=_0x401a8b,_0x339d51=path['join'](_0x492053,_0x11d852),_0x35f088=fs[_0x2f4320(0x17d)](_0x339d51),_0x3e66ad=fs['readFileSync'](_0x339d51,_0x2f4320(0x161)),_0x1b9517=_0x3e66ad[_0x2f4320(0x1f1)]('\x0a')[_0x2f4320(0x1c3)]-0x1;return{'fileName':_0x11d852,'createdAt':_0x35f088['birthtime'],'userCount':_0x1b9517};})[_0x401a8b(0x15e)]((_0xcae649,_0xf15dc9)=>_0xf15dc9[_0x401a8b(0x138)]-_0xcae649[_0x401a8b(0x138)]);_0x19debf[_0x401a8b(0x238)](0xc8)['json']({'exports':_0x233898});}catch(_0x37a5bc){console[_0x401a8b(0x272)](_0x401a8b(0x266),_0x37a5bc),_0x19debf[_0x401a8b(0x238)](0x1f4)['json']({'error':_0x401a8b(0x285)});}}),router[a26_0x2edf80(0x186)](a26_0x2edf80(0x1e2),async(_0x1d7da4,_0x188558)=>{const _0x560c71=a26_0x2edf80;try{await exportUsersList(),_0x188558[_0x560c71(0x238)](0xc8)[_0x560c71(0x1d9)]({'message':_0x560c71(0x19a)});}catch(_0x473573){console[_0x560c71(0x272)](_0x560c71(0x2aa),_0x473573),_0x188558[_0x560c71(0x238)](0x1f4)['json']({'error':_0x560c71(0x270)});}}),router['get']('/users-export/download/:fileName',async(_0x5c0c97,_0x18d6c7)=>{const _0xb8d8b4=a26_0x2edf80,{fileName:_0x477e73}=_0x5c0c97['params'],_0x5c6fa4=path[_0xb8d8b4(0x165)](path[_0xb8d8b4(0x227)](require[_0xb8d8b4(0x15a)][_0xb8d8b4(0x190)]),'exports',_0x477e73);if(!fs[_0xb8d8b4(0x139)](_0x5c6fa4))return _0x18d6c7[_0xb8d8b4(0x238)](0x194)[_0xb8d8b4(0x1d9)]({'error':_0xb8d8b4(0x2a8)});_0x18d6c7[_0xb8d8b4(0x2a7)](_0x5c6fa4);}),exportUsersList(),schedule['scheduleJob']('0\x2023\x20*\x20*\x20*',exportUsersList),schedule[a26_0x2edf80(0x16a)](a26_0x2edf80(0x278),sendFollowUpEmails),schedule[a26_0x2edf80(0x16a)](a26_0x2edf80(0x13b),sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x79d7c9=a26_0x2edf80;try{const _0x26632a=path[_0x79d7c9(0x165)](path[_0x79d7c9(0x227)](require[_0x79d7c9(0x15a)][_0x79d7c9(0x190)]),_0x79d7c9(0x180),'files'),_0x45b799=path[_0x79d7c9(0x165)](path['dirname'](require['main']['filename']),'cadviewer',_0x79d7c9(0x17a));if(!fs[_0x79d7c9(0x139)](_0x26632a)){logStream['write'](_0x79d7c9(0x1b9)+_0x26632a+_0x79d7c9(0x294));return;}if(!fs[_0x79d7c9(0x139)](_0x45b799)){logStream[_0x79d7c9(0x28a)](_0x79d7c9(0x1b9)+_0x45b799+_0x79d7c9(0x294));return;}const _0x172da9=fs[_0x79d7c9(0x277)](_0x26632a),_0x3ae77b={};_0x172da9[_0x79d7c9(0x279)](_0x4f8614=>{const _0x42db16=_0x79d7c9,_0x293283=path[_0x42db16(0x165)](_0x26632a,_0x4f8614),_0x341341=fs[_0x42db16(0x17d)](_0x293283);!Object[_0x42db16(0x29e)](_0x3ae77b)[_0x42db16(0x13d)](_0x4f8614['split']('.')[0x0])?_0x3ae77b[_0x4f8614['split']('.')[0x0]]=[{'file':_0x4f8614,'stats':_0x341341}]:_0x3ae77b[_0x4f8614[_0x42db16(0x1f1)]('.')[0x0]]['push']({'file':_0x4f8614,'stats':_0x341341});});const _0x354f10=[];_0x172da9[_0x79d7c9(0x279)](_0x43c52d=>{const _0x28d65e=_0x79d7c9;if(!_0x43c52d[_0x28d65e(0x26e)](_0x28d65e(0x231)))return;let _0x1ae337=_0x43c52d;const _0x984c84=path[_0x28d65e(0x165)](_0x26632a,_0x43c52d),_0x23ff23=fs[_0x28d65e(0x17d)](_0x984c84);let _0x1d7a55=_0x23ff23['size'],_0x1c2078='';const _0x265bca=fs[_0x28d65e(0x1b2)](_0x984c84,_0x28d65e(0x161)),_0x96814f=JSON[_0x28d65e(0x2c9)](_0x265bca),_0x911d99=_0x96814f[_0x28d65e(0x1ee)]?.[_0x28d65e(0x1b8)](_0x578d7e=>_0x578d7e[_0x28d65e(0x1cc)])??[];if(_0x96814f[_0x28d65e(0x190)])_0x1ae337=_0x96814f['filename'];const _0x53999d=Object[_0x28d65e(0x29e)](_0x3ae77b)[_0x28d65e(0x13d)](_0x43c52d[_0x28d65e(0x1f1)]('.')[0x0])?_0x3ae77b[_0x43c52d[_0x28d65e(0x1f1)]('.')[0x0]]:[];for(const _0x1601f2 of _0x911d99){Object[_0x28d65e(0x29e)](_0x3ae77b)[_0x28d65e(0x13d)](_0x1601f2)&&_0x53999d[_0x28d65e(0x1ea)](..._0x3ae77b[_0x1601f2]);}const _0x40e963=_0x53999d['map'](({file:_0x326528,stats:_0x257087})=>{const _0x5a81ae=_0x28d65e;return!_0x326528[_0x5a81ae(0x26e)]('.dwg.json')&&(_0x1d7a55+=_0x257087['size']),{'id':_0x326528,'name':_0x326528['endsWith'](_0x5a81ae(0x144))?_0x5a81ae(0x2b4):_0x326528[_0x5a81ae(0x26e)]('.svgz')?_0x5a81ae(0x176):_0x326528[_0x5a81ae(0x26e)](_0x5a81ae(0x254))?_0x5a81ae(0x1f4):_0x326528[_0x5a81ae(0x26e)]('.json')?_0x5a81ae(0x1b7):_0x326528[_0x5a81ae(0x26e)](_0x5a81ae(0x1d6))?_0x5a81ae(0x26a):_0x326528[_0x5a81ae(0x26e)](_0x5a81ae(0x228))?_0x5a81ae(0x225):_0x326528[_0x5a81ae(0x1f1)]('.')[_0x5a81ae(0x284)]()['toUpperCase'](),'color':_0x326528[_0x5a81ae(0x26e)]('.svg')||_0x326528[_0x5a81ae(0x26e)](_0x5a81ae(0x20b))?_0x5a81ae(0x1bd):_0x326528['endsWith'](_0x5a81ae(0x254))?_0x5a81ae(0x267):_0x326528['endsWith'](_0x5a81ae(0x21d))?'gray':_0x326528['endsWith'](_0x5a81ae(0x1d6))?_0x5a81ae(0x1fa):_0x326528[_0x5a81ae(0x26e)]('.dwg')?_0x5a81ae(0x1b3):_0x5a81ae(0x250)};});if(_0x40e963[_0x28d65e(0x2b7)](_0x41bbed=>_0x41bbed['id']['includes'](_0x28d65e(0x25a))))_0x1c2078=_0x28d65e(0x24a);else{if(_0x40e963[_0x28d65e(0x2b7)](_0x1d33a5=>[_0x28d65e(0x25c),'svgz']['includes'](_0x1d33a5['id'][_0x28d65e(0x1f1)]('.')['pop']()))&&_0x40e963['some'](_0xf1f016=>[_0x28d65e(0x22f)][_0x28d65e(0x13d)](_0xf1f016['id'][_0x28d65e(0x1f1)]('.')['pop']())))_0x1c2078=_0x28d65e(0x268);else{if(_0x40e963['some'](_0x53c3f2=>[_0x28d65e(0x25c),_0x28d65e(0x200)]['includes'](_0x53c3f2['id'][_0x28d65e(0x1f1)]('.')[_0x28d65e(0x284)]())))_0x1c2078=_0x28d65e(0x23a);else{if(_0x40e963[_0x28d65e(0x2b7)](_0x58098c=>[_0x28d65e(0x1d9)]['includes'](_0x58098c['id'][_0x28d65e(0x1f1)]('.')[_0x28d65e(0x284)]()))&&_0x40e963[_0x28d65e(0x2b7)](_0x4542ef=>[_0x28d65e(0x25e)][_0x28d65e(0x13d)](_0x4542ef['id'][_0x28d65e(0x1f1)]('.')[_0x28d65e(0x284)]())))_0x1c2078='JSON\x20Data\x20Extraction';else{if(_0x40e963['some'](_0x38c481=>[_0x28d65e(0x1d1)][_0x28d65e(0x13d)](_0x38c481['id']['split']('.')[_0x28d65e(0x284)]())))_0x1c2078=_0x28d65e(0x22a);else{if(_0x40e963[_0x28d65e(0x2b7)](_0x490042=>['json']['includes'](_0x490042['id'][_0x28d65e(0x1f1)]('.')['pop']()))&&!_0x40e963[_0x28d65e(0x2b7)](_0x35892d=>[_0x28d65e(0x25e)][_0x28d65e(0x13d)](_0x35892d['id'][_0x28d65e(0x1f1)]('.')['pop']())))_0x1c2078=_0x28d65e(0x1da);else _0x40e963['some'](_0x473b99=>[_0x28d65e(0x1d9)][_0x28d65e(0x13d)](_0x473b99['id'][_0x28d65e(0x1f1)]('.')[_0x28d65e(0x284)]()))&&(_0x1c2078='Cache\x20conversion');}}}}}_0x354f10[_0x28d65e(0x1ea)]({'name':_0x43c52d,'goodFileName':_0x1ae337,'size':_0x1d7a55,'createdAt':_0x23ff23['birthtime'],'updatedAt':_0x23ff23[_0x28d65e(0x2c2)],'readAt':_0x23ff23[_0x28d65e(0x14d)],'action':_0x1c2078,'availableFormats':_0x40e963});}),_0x354f10[_0x79d7c9(0x15e)]((_0x3cb17f,_0x3dcbed)=>_0x3dcbed[_0x79d7c9(0x261)]-_0x3cb17f[_0x79d7c9(0x261)]);const _0x5701ef={'timestamp':new Date(),'totalFiles':_0x354f10['length'],'files':_0x354f10},_0x5df944=path[_0x79d7c9(0x165)](_0x45b799,'converter-files-analysis.json');fs[_0x79d7c9(0x219)](_0x5df944,JSON[_0x79d7c9(0x1f2)](_0x5701ef,null,0x2));}catch(_0x1b5eaa){console['log'](_0x79d7c9(0x2c8)),console[_0x79d7c9(0x2a2)](_0x79d7c9(0x20a)+_0x1b5eaa['message']);}},scheduleFileAnalysis=()=>{const _0x9ee7ce=a26_0x2edf80;analyzeConverterFiles(),schedule[_0x9ee7ce(0x16a)](_0x9ee7ce(0x19e),analyzeConverterFiles),logStream[_0x9ee7ce(0x28a)]('Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)');};scheduleFileAnalysis(),module[a26_0x2edf80(0x1c4)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};