const a26_0x5afab1=a26_0x8431;(function(_0x28b4fd,_0x1273d6){const _0x27f847=a26_0x8431,_0x3c4be9=_0x28b4fd();while(!![]){try{const _0x4d0412=parseInt(_0x27f847(0x189))/0x1+parseInt(_0x27f847(0x16a))/0x2+parseInt(_0x27f847(0x119))/0x3*(parseInt(_0x27f847(0x205))/0x4)+parseInt(_0x27f847(0x13f))/0x5*(-parseInt(_0x27f847(0x1a1))/0x6)+parseInt(_0x27f847(0x1d7))/0x7+-parseInt(_0x27f847(0x1fc))/0x8+parseInt(_0x27f847(0xdd))/0x9*(parseInt(_0x27f847(0x164))/0xa);if(_0x4d0412===_0x1273d6)break;else _0x3c4be9['push'](_0x3c4be9['shift']());}catch(_0x41e0a9){_0x3c4be9['push'](_0x3c4be9['shift']());}}}(a26_0x20c4,0x33fb8));const express=require(a26_0x5afab1(0x1c8)),router=express[a26_0x5afab1(0xe7)](),multer=require(a26_0x5afab1(0x16c)),fs=require('fs'),path=require(a26_0x5afab1(0x160)),getHotConfig=require(a26_0x5afab1(0x15d))[a26_0x5afab1(0x173)],{exec}=require(a26_0x5afab1(0x14a)),os=require('os'),conn=require(a26_0x5afab1(0xe2)),bcrypt=require(a26_0x5afab1(0x1c7)),osu=require('node-os-utils'),schedule=require('node-schedule'),counter=require(a26_0x5afab1(0x194)),{randomUUID}=require('crypto'),logStream=require(a26_0x5afab1(0x179)),config=require('../CADViewer_config.json');router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x1bc),async(_0x3065ca,_0x8bc091)=>{const _0x3e331a=a26_0x5afab1;_0x8bc091['sendFile'](path['join'](path[_0x3e331a(0x127)](require[_0x3e331a(0x199)][_0x3e331a(0x1bd)]),_0x3e331a(0x122)));}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x120),async(_0xeb6f5,_0xa7178c)=>{const _0x2af3dd=a26_0x5afab1;_0xa7178c['sendFile'](path[_0x2af3dd(0xf2)](path[_0x2af3dd(0x127)](require[_0x2af3dd(0x199)][_0x2af3dd(0x1bd)]),_0x2af3dd(0xd8)));}),router['get'](a26_0x5afab1(0x1a7),async(_0x6d81f9,_0x4f4458)=>{const _0x319b0f=a26_0x5afab1;_0x4f4458[_0x319b0f(0x1b4)](path['join'](path[_0x319b0f(0x127)](require[_0x319b0f(0x199)][_0x319b0f(0x1bd)]),_0x319b0f(0xf5)));}),router['get'](a26_0x5afab1(0x17f),async(_0x54b148,_0x17d57b)=>{const _0x39fa55=a26_0x5afab1;_0x17d57b[_0x39fa55(0x1b4)](path[_0x39fa55(0xf2)](path[_0x39fa55(0x127)](require[_0x39fa55(0x199)][_0x39fa55(0x1bd)]),_0x39fa55(0x171)));}),router['get'](a26_0x5afab1(0x1e2),async(_0x1a230e,_0x27b70d)=>{const _0x25e3d8=a26_0x5afab1;_0x27b70d[_0x25e3d8(0x1b4)](path[_0x25e3d8(0xf2)](path[_0x25e3d8(0x127)](require[_0x25e3d8(0x199)][_0x25e3d8(0x1bd)]),_0x25e3d8(0x1a0)));}),router[a26_0x5afab1(0x1c1)]('/icons.js',async(_0x1547ec,_0x3d3e6a)=>{const _0x11f628=a26_0x5afab1;_0x3d3e6a[_0x11f628(0x1b4)](path[_0x11f628(0xf2)](path[_0x11f628(0x127)](require[_0x11f628(0x199)][_0x11f628(0x1bd)]),'cadviewer/settings/icons.js'));}),router[a26_0x5afab1(0x1c1)]('/',async(_0x3716f4,_0x323bcc)=>{const _0x3eab24=a26_0x5afab1,_0x479620=fs[_0x3eab24(0x11b)](path['join'](path[_0x3eab24(0x127)](require[_0x3eab24(0x199)][_0x3eab24(0x1bd)]),_0x3eab24(0xc9)),_0x3eab24(0x1ca)),_0xb90d4b=_0x479620[_0x3eab24(0xdb)]('{version}',_0x3716f4[_0x3eab24(0x183)]);_0x323bcc['send'](_0xb90d4b);}),router[a26_0x5afab1(0x1c1)]('/licences',async(_0x15a08c,_0x2e31ab)=>{const _0x28b29d=a26_0x5afab1,_0x176d1f=fs[_0x28b29d(0x11b)](path[_0x28b29d(0xf2)](path[_0x28b29d(0x127)](require['main'][_0x28b29d(0x1bd)]),_0x28b29d(0x1db)),_0x28b29d(0x1ca)),_0x4e0f0a=_0x176d1f[_0x28b29d(0xdb)](_0x28b29d(0x150),_0x15a08c[_0x28b29d(0x183)]);_0x2e31ab[_0x28b29d(0xbb)](_0x4e0f0a);}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x11a),async(_0x467f44,_0x5d151e)=>{const _0x2c91e2=a26_0x5afab1,_0xfd1357=fs[_0x2c91e2(0x11b)](path['join'](path[_0x2c91e2(0x127)](require['main'][_0x2c91e2(0x1bd)]),_0x2c91e2(0x1a9)),'utf8'),_0x42c32b=_0xfd1357['replaceAll'](_0x2c91e2(0x150),_0x467f44['version']);_0x5d151e[_0x2c91e2(0xbb)](_0x42c32b);}),router['get'](a26_0x5afab1(0x13e),async(_0x3dda5d,_0x1bbbcc)=>{const _0x233fd8=a26_0x5afab1,_0xe789f5=fs[_0x233fd8(0x11b)](path['join'](path[_0x233fd8(0x127)](require['main'][_0x233fd8(0x1bd)]),_0x233fd8(0x1b7)),_0x233fd8(0x1ca)),_0x436c56=_0xe789f5[_0x233fd8(0xdb)](_0x233fd8(0x150),_0x3dda5d['version']);_0x1bbbcc[_0x233fd8(0xbb)](_0x436c56);}),router[a26_0x5afab1(0x104)](a26_0x5afab1(0x13e),async(_0xfa123a,_0x17efaa)=>{const _0x7f0865=a26_0x5afab1,_0xe081d1=path[_0x7f0865(0xf2)](path[_0x7f0865(0x127)](require[_0x7f0865(0x199)][_0x7f0865(0x1bd)]),_0x7f0865(0x1b1)),_0x312bce=JSON['parse'](fs[_0x7f0865(0x11b)](_0xe081d1,_0x7f0865(0x1ca))),_0x5bb600=_0x312bce[_0x7f0865(0x1b6)];if(!fs[_0x7f0865(0x158)](_0x5bb600))return _0x17efaa[_0x7f0865(0x10d)](0x194)[_0x7f0865(0x106)]({'message':_0x7f0865(0x204)});const _0x116e29=_0x4e6358=>{const _0x31524b=_0x7f0865;let _0x141d6f=0x0;return _0x4e6358[_0x31524b(0x159)](_0x563d2e=>{const _0x4dcdc4=_0x31524b;_0x563d2e[_0x4dcdc4(0x100)]?_0x141d6f+=_0x116e29(_0x563d2e[_0x4dcdc4(0x126)]):_0x141d6f+=_0x563d2e['size'];}),_0x141d6f;},_0x2316b4=_0x3eb7c3=>{const _0x402683=_0x7f0865;if(_0x3eb7c3<0x400)return _0x3eb7c3+'\x20B';else{if(_0x3eb7c3<0x400*0x400)return(_0x3eb7c3/0x400)['toFixed'](0x2)+'\x20KB';else return _0x3eb7c3<0x400*0x400*0x400?(_0x3eb7c3/0x400/0x400)[_0x402683(0x1b8)](0x2)+_0x402683(0x10c):(_0x3eb7c3/0x400/0x400/0x400)[_0x402683(0x1b8)](0x2)+_0x402683(0x10b);}},_0x2170de=(_0x852666,_0x3dd7b9='')=>{const _0x22ad90=_0x7f0865,_0x5a4151=fs[_0x22ad90(0x109)](_0x852666),_0x191f37=[];return _0x5a4151[_0x22ad90(0x159)](_0x57ed37=>{const _0x2971a9=_0x22ad90,_0x42f45f=path[_0x2971a9(0xf2)](_0x852666,_0x57ed37)[_0x2971a9(0xdb)]('\x5c','/'),_0x2f356d=fs[_0x2971a9(0x130)](_0x42f45f);if(_0x2f356d[_0x2971a9(0xba)]()){const _0x3a5f8e=_0x2170de(_0x42f45f,_0x3dd7b9+_0x2971a9(0x102));_0x191f37['push']({'name':_0x57ed37,'size':_0x2f356d[_0x2971a9(0x16e)],'path':_0x42f45f,'permissions':_0x2f356d['mode'],'isFolder':!![],'sub_dirs':_0x3a5f8e});}else _0x191f37[_0x2971a9(0x15e)]({'name':_0x57ed37,'size':_0x2f356d[_0x2971a9(0x16e)],'path':_0x42f45f,'permissions':_0x2f356d['mode'],'isFolder':![]});}),_0x191f37;};let _0x14e9c9=_0x2170de(_0x5bb600);const _0x3ab5f9=_0x4adb2c=>{const _0x5aaf15=_0x7f0865;return _0x4adb2c[_0x5aaf15(0x159)](_0x16405e=>{const _0x5446de=_0x5aaf15;_0x16405e[_0x5446de(0x100)]?(_0x16405e[_0x5446de(0xd2)]=_0x2316b4(_0x116e29(_0x16405e['sub_dirs'])),_0x16405e[_0x5446de(0x126)]=_0x3ab5f9(_0x16405e[_0x5446de(0x126)])):_0x16405e[_0x5446de(0xd2)]=_0x2316b4(_0x16405e[_0x5446de(0x16e)]);}),_0x4adb2c;};_0x17efaa[_0x7f0865(0x10d)](0xc8)['json'](_0x3ab5f9(_0x14e9c9));}),router[a26_0x5afab1(0x104)](a26_0x5afab1(0x200),async(_0x564a7d,_0xd3f11d)=>{const _0x3f219f=a26_0x5afab1,{path:_0x216de8}=_0x564a7d[_0x3f219f(0x108)],_0x389c53=_0x216de8[_0x3f219f(0x195)]('/')['pop']();if(!fs[_0x3f219f(0x158)](_0x216de8))return _0xd3f11d[_0x3f219f(0x10d)](0x194)[_0x3f219f(0x106)]({'message':_0x3f219f(0xed)});_0xd3f11d['setHeader'](_0x3f219f(0x152),_0x3f219f(0x1c5)),_0xd3f11d[_0x3f219f(0xef)]('Content-Disposition',_0x3f219f(0x114)+_0x389c53+'\x22'),_0xd3f11d[_0x3f219f(0x170)](_0x216de8,_0x44e579=>{const _0x33d6f7=_0x3f219f;_0x44e579&&_0xd3f11d['status'](0x1f4)[_0x33d6f7(0x106)]({'message':_0x33d6f7(0x14b)});});}),router[a26_0x5afab1(0x104)]('/folders/create',async(_0x110f58,_0x20d210)=>{const _0x1642e3=a26_0x5afab1,_0x2fe2f2=_0x110f58[_0x1642e3(0x108)],_0x109b04=getHotConfig()[_0x1642e3(0x1b6)],_0x3eff13=path[_0x1642e3(0xf2)](_0x109b04,_0x2fe2f2['path']);if(!fs['existsSync'](_0x3eff13))return _0x20d210[_0x1642e3(0x10d)](0x194)[_0x1642e3(0x106)]({'message':_0x1642e3(0xca)});if(fs[_0x1642e3(0x158)](path[_0x1642e3(0xf2)](_0x3eff13,_0x2fe2f2[_0x1642e3(0x175)])))return _0x20d210[_0x1642e3(0x10d)](0x199)[_0x1642e3(0x106)]({'message':_0x1642e3(0x13b)});fs[_0x1642e3(0x174)](path[_0x1642e3(0xf2)](_0x3eff13,_0x2fe2f2[_0x1642e3(0x175)]),_0x238e29=>{const _0x5cc7a1=_0x1642e3;_0x238e29&&_0x20d210[_0x5cc7a1(0x10d)](0x1f4)[_0x5cc7a1(0x106)]({'message':_0x5cc7a1(0x1c4)}),_0x20d210[_0x5cc7a1(0x10d)](0xc8)[_0x5cc7a1(0x106)]({'message':'Folder\x20created.'});});}),router['put'](a26_0x5afab1(0x1e4),async(_0x1c1bf9,_0x2fa98b)=>{const _0x36c1b4=a26_0x5afab1,{newName:_0x111d70,isFolder:_0x4bf2b7,path:_0x2cb188}=_0x1c1bf9[_0x36c1b4(0x108)];if(!fs[_0x36c1b4(0x158)](_0x2cb188))return _0x2fa98b[_0x36c1b4(0x10d)](0x194)[_0x36c1b4(0x106)]({'message':_0x4bf2b7?_0x36c1b4(0xc4):_0x36c1b4(0xed)});const _0x1fa0d5=_0x2cb188['replace'](_0x2cb188[_0x36c1b4(0x195)]('/')[_0x36c1b4(0xbc)](),_0x111d70);fs['rename'](_0x2cb188,_0x1fa0d5,_0x334046=>{const _0x1f7726=_0x36c1b4;_0x334046&&_0x2fa98b['status'](0x1f4)['json']({'message':_0x4bf2b7?_0x1f7726(0x14f):_0x1f7726(0xd7)}),_0x2fa98b[_0x1f7726(0x10d)](0xc8)[_0x1f7726(0x106)]({'message':_0x4bf2b7?'Folder\x20renamed.':_0x1f7726(0x180)});});}),router[a26_0x5afab1(0xc7)](a26_0x5afab1(0x182),async(_0x50a2ba,_0x1214a7)=>{const _0x40c181=a26_0x5afab1,{path:_0xee00b2}=_0x50a2ba[_0x40c181(0x108)];if(!fs['existsSync'](_0xee00b2))return _0x1214a7[_0x40c181(0x10d)](0x194)[_0x40c181(0x106)]({'message':_0x40c181(0xd9)});const _0x4b3ff8=fs[_0x40c181(0x130)](_0xee00b2);if(_0x4b3ff8[_0x40c181(0xd1)]())fs[_0x40c181(0x161)](_0xee00b2,_0x219109=>{const _0x3eb2cd=_0x40c181;_0x219109&&_0x1214a7['status'](0x1f4)[_0x3eb2cd(0x106)]({'message':_0x3eb2cd(0x202)}),_0x1214a7['status'](0xc8)[_0x3eb2cd(0x106)]({'message':_0x3eb2cd(0x1eb)});});else _0x4b3ff8[_0x40c181(0xba)]()&&fs[_0x40c181(0x1ae)](_0xee00b2,{'recursive':!![]},_0x195369=>{const _0x48b084=_0x40c181;_0x195369&&_0x1214a7[_0x48b084(0x10d)](0x1f4)[_0x48b084(0x106)]({'message':_0x48b084(0xfa)}),_0x1214a7['status'](0xc8)['json']({'message':_0x48b084(0xce)});});});!fs[a26_0x5afab1(0x158)](a26_0x5afab1(0x165))&&fs[a26_0x5afab1(0x113)](a26_0x5afab1(0x165));const storage=multer[a26_0x5afab1(0x1ef)]({'destination':(_0x4c2856,_0x1a337e,_0x5f5a79)=>{const _0x509bae=a26_0x5afab1;_0x5f5a79(null,_0x509bae(0x1a8));},'filename':(_0x44fe4f,_0x4caa7f,_0x2ce790)=>{const _0x21464c=a26_0x5afab1;_0x2ce790(null,Date[_0x21464c(0xee)]()+path[_0x21464c(0xdf)](_0x4caa7f[_0x21464c(0xf1)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router['post']('/folders/upload',upload['array']('files'),async(_0x361652,_0x5b819d)=>{const _0x438889=a26_0x5afab1,_0x2c648f=_0x361652['body'];if(!_0x361652[_0x438889(0x1fd)]||_0x361652[_0x438889(0x1fd)][_0x438889(0x1d4)]===0x0)return _0x5b819d[_0x438889(0x10d)](0x190)[_0x438889(0x106)]({'message':_0x438889(0x1a5)});const _0x5d488f=getHotConfig()[_0x438889(0x1b6)],_0x4a5b8b=path['join'](_0x5d488f,_0x2c648f[_0x438889(0x160)]);if(!fs['existsSync'](_0x4a5b8b))return _0x5b819d['status'](0x194)[_0x438889(0x106)]({'message':_0x438889(0xca)});const _0x1de85f=_0x361652[_0x438889(0x1fd)]['map'](_0x3958de=>({'originalname':_0x3958de[_0x438889(0xf1)],'filename':_0x3958de[_0x438889(0x1bd)],'mimetype':_0x3958de[_0x438889(0x1fb)],'size':_0x3958de['size']}));_0x1de85f[_0x438889(0x159)](_0x370191=>{const _0x259501=_0x438889;fs['renameSync'](path[_0x259501(0xf2)](_0x259501(0x1a8),_0x370191[_0x259501(0x1bd)]),path['join'](_0x4a5b8b,_0x370191[_0x259501(0xf1)]));}),_0x5b819d[_0x438889(0x10d)](0xc8)[_0x438889(0x106)]({'message':_0x438889(0x1fe),'files':_0x1de85f});}),router['put'](a26_0x5afab1(0x153),async(_0x7be80,_0x3de498)=>{const _0x46f1be=a26_0x5afab1,_0x53c8f1=path[_0x46f1be(0xf2)](path[_0x46f1be(0x127)](require[_0x46f1be(0x199)][_0x46f1be(0x1bd)]),'CADViewer_config.json'),{config:_0x4fcd83}=_0x7be80[_0x46f1be(0x108)];if(!_0x4fcd83)return _0x3de498['status'](0x190)['json']({'message':_0x46f1be(0xcd)});try{fs['writeFileSync'](_0x53c8f1,JSON[_0x46f1be(0xb1)](_0x4fcd83,null,0x4)),_0x3de498['status'](0xc8)[_0x46f1be(0x106)]({'message':_0x46f1be(0x1f4)});}catch(_0x4ca530){_0x3de498[_0x46f1be(0x10d)](0x1f4)[_0x46f1be(0x106)]({'message':'Error\x20updating\x20config'});}}),router['put'](a26_0x5afab1(0x140),async(_0x11337e,_0x106d08)=>{const _0x189566=a26_0x5afab1,{key:_0x211ec3,value:_0x26d0f4}=_0x11337e[_0x189566(0x108)],_0x19e0ea=path[_0x189566(0xf2)](path['dirname'](require[_0x189566(0x199)]['filename']),_0x189566(0x1b1));fs[_0x189566(0x12f)](_0x19e0ea,_0x189566(0x1ca),function(_0x310bc2,_0x2281e6){const _0x301005=_0x189566;_0x310bc2&&_0x106d08[_0x301005(0x10d)](0x1f4)[_0x301005(0xbb)](_0x310bc2);const _0x1fb7b5=JSON[_0x301005(0x193)](_0x2281e6);_0x1fb7b5[_0x211ec3]=_0x26d0f4;if(_0x211ec3===_0x301005(0x12c)){let _0x41a6a0='';if(_0x1fb7b5[_0x301005(0x1ed)]){_0x41a6a0=os['platform']();if(_0x41a6a0===_0x301005(0x166))_0x41a6a0=_0x301005(0x186);else{if(_0x41a6a0==='darwin')_0x41a6a0=_0x301005(0xb7);}}else _0x41a6a0=_0x1fb7b5[_0x301005(0x181)];if(_0x41a6a0==='windows'){_0x1fb7b5[_0x301005(0x1f0)]=path['resolve'](__dirname,'..')+'/';const _0x2d6107=/\\/g;_0x1fb7b5[_0x301005(0x1f0)]=_0x1fb7b5[_0x301005(0x1f0)][_0x301005(0x11c)](_0x2d6107,'/');}else _0x1fb7b5['ServerLocation']=path[_0x301005(0x1fa)](__dirname,'..')+'/';}if(_0x211ec3==='autodetect_platform'){let _0x2f09ae=os['platform']();if(_0x2f09ae==='win32')_0x2f09ae=_0x301005(0x186);else _0x2f09ae=_0x301005(0xb7);_0x2f09ae===_0x301005(0x186)?_0x26d0f4===!![]&&(_0x1fb7b5[_0x301005(0x1c0)]=_0x1fb7b5[_0x301005(0x19c)],_0x1fb7b5[_0x301005(0x13a)]=_0x1fb7b5['dwgmerge_executable_windows'],_0x1fb7b5[_0x301005(0xd6)]=_0x1fb7b5[_0x301005(0xf4)]):_0x26d0f4===!![]&&(_0x1fb7b5[_0x301005(0x1c0)]=_0x1fb7b5[_0x301005(0x17c)],_0x1fb7b5[_0x301005(0x13a)]=_0x1fb7b5['dwgmerge_executable_linux'],_0x1fb7b5['linklist_executable']=_0x1fb7b5[_0x301005(0x142)]),_0x1fb7b5[_0x301005(0x181)]=_0x2f09ae;}if(_0x1fb7b5[_0x301005(0x1ed)]){let _0x11c7c7=os[_0x301005(0x181)]();if(_0x11c7c7===_0x301005(0x166))_0x11c7c7=_0x301005(0x186);else _0x11c7c7=_0x301005(0xb7);if(_0x11c7c7===_0x301005(0x186)){if(_0x211ec3===_0x301005(0x19c))_0x1fb7b5['autoxchange_executable']=_0x26d0f4;else{if(_0x211ec3===_0x301005(0xf0))_0x1fb7b5[_0x301005(0x13a)]=_0x26d0f4;else _0x211ec3===_0x301005(0xf4)&&(_0x1fb7b5['linklist_executable']=_0x26d0f4);}}else{if(_0x211ec3===_0x301005(0x17c))_0x1fb7b5[_0x301005(0x1c0)]=_0x26d0f4;else{if(_0x211ec3===_0x301005(0xd3))_0x1fb7b5[_0x301005(0x13a)]=_0x26d0f4;else _0x211ec3==='linklist_executable_linux'&&(_0x1fb7b5[_0x301005(0xd6)]=_0x26d0f4);}}}fs['writeFile'](_0x19e0ea,JSON['stringify'](_0x1fb7b5,null,0x4),function(_0x4cbdcd){const _0x397b45=_0x301005;_0x4cbdcd&&_0x106d08[_0x397b45(0x10d)](0x1f4)['send'](_0x4cbdcd),_0x106d08[_0x397b45(0x10d)](0xc8)[_0x397b45(0x106)]({'message':_0x397b45(0x1e1)});});});}),router[a26_0x5afab1(0x104)]('/config/content',async(_0xb2f241,_0x5dbbf2)=>{const _0x3babde=a26_0x5afab1,_0x3e0701=getHotConfig(),_0xab4749=(_0x3e0701[_0x3babde(0x1b2)]['includes'](_0x3e0701[_0x3babde(0x1f0)])?'':_0x3e0701[_0x3babde(0x1f0)])+_0x3e0701['dwgmergeLocation'],_0x24ccde=(_0x3e0701[_0x3babde(0x1b2)][_0x3babde(0xc1)](_0x3e0701[_0x3babde(0x1f0)])?'':_0x3e0701[_0x3babde(0x1f0)])+_0x3e0701[_0x3babde(0xea)],_0x3710ff=(_0x3e0701[_0x3babde(0x19b)][_0x3babde(0xc1)](_0x3e0701[_0x3babde(0x1f0)])?'':_0x3e0701[_0x3babde(0x1f0)])+_0x3e0701[_0x3babde(0x19b)],_0x264678=/ax202.*\.exe/,_0x2abec1=/ax202.*/,_0x474c90=/dwgmerge202.*\.exe/,_0x388fb1=/dwgmerge_202.*/,_0x354e30=/linklist_202.*\.exe/,_0x492d89=/linklist_202.*/,_0xa24de3=[],_0x5cf710=[],_0x47b15d=[],_0x10ec61=[],_0xc6cd40=[],_0x2be736=[];let _0x2dbe66='';if(_0x3e0701[_0x3babde(0x1ed)]){_0x2dbe66=os[_0x3babde(0x181)]();if(_0x2dbe66==='win32')_0x2dbe66=_0x3babde(0x186);else{if(_0x2dbe66===_0x3babde(0x1d5))_0x2dbe66=_0x3babde(0xb7);}}else _0x2dbe66=_0x3e0701['platform'];fs['readdirSync'](_0x3710ff[_0x3babde(0xdb)](_0x3babde(0xb7),_0x3babde(0x186)))[_0x3babde(0x159)](_0x535d6a=>{const _0x41e41e=_0x3babde;if(_0x264678[_0x41e41e(0x1a2)](_0x535d6a[_0x41e41e(0x12b)]()))_0xa24de3['push'](_0x535d6a);}),fs[_0x3babde(0x109)](_0xab4749['replaceAll']('linux',_0x3babde(0x186)))[_0x3babde(0x159)](_0x3a14d9=>{const _0x324d00=_0x3babde;if(_0x474c90[_0x324d00(0x1a2)](_0x3a14d9[_0x324d00(0x12b)]()))_0x5cf710['push'](_0x3a14d9);}),fs['readdirSync'](_0x24ccde[_0x3babde(0xdb)](_0x3babde(0xb7),'windows'))[_0x3babde(0x159)](_0x3eef0f=>{const _0x1bea29=_0x3babde;if(_0x354e30[_0x1bea29(0x1a2)](_0x3eef0f[_0x1bea29(0x12b)]()))_0x47b15d[_0x1bea29(0x15e)](_0x3eef0f);}),fs[_0x3babde(0x109)](_0x3710ff[_0x3babde(0xdb)]('windows',_0x3babde(0xb7)))[_0x3babde(0x159)](_0x50a412=>{const _0x388342=_0x3babde;if(_0x2abec1[_0x388342(0x1a2)](_0x50a412[_0x388342(0x12b)]()))_0x10ec61[_0x388342(0x15e)](_0x50a412);}),fs[_0x3babde(0x109)](_0xab4749[_0x3babde(0xdb)](_0x3babde(0x186),_0x3babde(0xb7)))[_0x3babde(0x159)](_0x392d6c=>{const _0x352ad=_0x3babde;if(_0x388fb1[_0x352ad(0x1a2)](_0x392d6c[_0x352ad(0x12b)]()))_0xc6cd40[_0x352ad(0x15e)](_0x392d6c);}),fs[_0x3babde(0x109)](_0x24ccde['replaceAll']('windows',_0x3babde(0xb7)))[_0x3babde(0x159)](_0x32620e=>{const _0xc69604=_0x3babde;if(_0x492d89[_0xc69604(0x1a2)](_0x32620e[_0xc69604(0x12b)]()))_0x2be736['push'](_0x32620e);});const _0x47e55f=[_0x3babde(0x110),_0x3babde(0x131),_0x3babde(0x1d2),_0x3babde(0x1c3),'fontLocation'],_0x5c5922=['fileLocation','fileLocationUrl','converterLocation','licenseLocation',_0x3babde(0xe9),_0x3babde(0x198),_0x3babde(0xa0),_0x3babde(0x1b2),_0x3babde(0xea),_0x3babde(0x183)],_0x23502c=['ServerUrl',_0x3babde(0x1df),_0x3babde(0x209),_0x3babde(0xa4),_0x3babde(0xf3),_0x3babde(0x103),_0x3babde(0xb2)],_0x337238={'ServerUrl':_0x3babde(0x1f3),'autoxchange_executable':'AutoXchange\x20Settings','linklist_executable':'LinkList\x20Settings','dwgmerge_executable':_0x3babde(0x1e8),'setup_mysqlHost':'Database\x20Settings','callbackMethod_gatewayUrl_flag':_0x3babde(0x136),'userFolderMaximumFiles':_0x3babde(0xec),'smtpHost':_0x3babde(0x121)},_0x4579c1={'https':_0x3babde(0x129),'ServerFrontEndUrlAsAllowedOriginOnly':'boolean','autodetect_platform':_0x3babde(0x129),'cvjs_svgz_compress':'boolean','cached_conversion':'boolean','remainOnServer':'boolean','cvjs_debug':_0x3babde(0x129),'autodetect_location':_0x3babde(0x129),'platform':_0x3babde(0x124),'autoxchange_executable':_0x3babde(0x134)+(_0x2dbe66===_0x3babde(0x186)?_0xa24de3[_0x3babde(0xf2)](','):_0x10ec61['join'](',')),'autoxchange_executable_windows':'radio|'+_0xa24de3[_0x3babde(0xf2)](','),'autoxchange_executable_linux':_0x3babde(0x134)+_0x10ec61[_0x3babde(0xf2)](','),'dwgmerge_executable':_0x3babde(0x134)+(_0x2dbe66===_0x3babde(0x186)?_0x5cf710[_0x3babde(0xf2)](','):_0xc6cd40['join'](',')),'dwgmerge_executable_windows':'radio|'+_0x5cf710['join'](','),'dwgmerge_executable_linux':_0x3babde(0x134)+_0xc6cd40[_0x3babde(0xf2)](','),'linklist_executable':_0x3babde(0x134)+(_0x2dbe66===_0x3babde(0x186)?_0x47b15d[_0x3babde(0xf2)](','):_0x2be736[_0x3babde(0xf2)](',')),'linklist_executable_windows':_0x3babde(0x134)+_0x47b15d['join'](','),'linklist_executable_linux':_0x3babde(0x134)+_0x2be736[_0x3babde(0xf2)](','),'callbackMethod_gatewayUrl_flag':_0x3babde(0x129),'setup_mysqlHost':_0x3babde(0x129),'ContentSecurityPolicyReportOnly':_0x3babde(0x129),'fileLoad_PasswordAuthentication':_0x3babde(0x129),'contentLocationCheck':_0x3babde(0x129),'globalBearerAutentication':_0x3babde(0x129),'bcryptSaltRounds':_0x3babde(0x1da),'userFolderMaximumFiles':'number','userFolderMaximumSizeInMB':'number'},_0x520090={},_0x55d639=Object[_0x3babde(0x1ce)](_0x3e0701);_0x3e0701['autodetect_platform']&&_0x47e55f['push'](_0x3babde(0x181)),_0x3e0701[_0x3babde(0x12c)]&&(_0x5c5922[_0x3babde(0x15e)]('ServerLocation'),_0x5c5922['push'](_0x3babde(0x1c0)),_0x5c5922[_0x3babde(0x15e)]('dwgmerge_executable'),_0x5c5922[_0x3babde(0x15e)](_0x3babde(0xd6))),!_0x3e0701['callbackMethod_gatewayUrl_flag']&&_0x5c5922['push'](_0x3babde(0xfd)),!_0x3e0701[_0x3babde(0x144)]&&(_0x5c5922['push'](_0x3babde(0x1df)),_0x5c5922[_0x3babde(0x15e)](_0x3babde(0x209)),_0x5c5922[_0x3babde(0x15e)]('mysqlPassword'),_0x5c5922['push'](_0x3babde(0xf3))),!_0x3e0701['ContentSecurityPolicyReportOnly']&&_0x5c5922['push'](_0x3babde(0xdc)),!_0x3e0701[_0x3babde(0x177)]&&(_0x5c5922[_0x3babde(0x15e)]('fileLoad_UserName'),_0x5c5922['push']('fileLoad_Password')),!_0x3e0701[_0x3babde(0x107)]&&_0x5c5922[_0x3babde(0x15e)](_0x3babde(0x18a)),_0x55d639[_0x3babde(0x159)](_0x1f4518=>{const _0x47c847=_0x3babde;!_0x47e55f[_0x47c847(0xc1)](_0x1f4518)&&(_0x520090[_0x1f4518]=_0x3e0701[_0x1f4518]);}),_0x520090[_0x3babde(0x123)]=''+_0x3e0701[_0x3babde(0x1c9)]+_0x3e0701[_0x3babde(0x18e)],_0x5dbbf2[_0x3babde(0x10d)](0xc8)['json']({'notEditableFields':_0x5c5922,'customFieldTypes':_0x4579c1,'notHotEditableFields':_0x23502c,'config':_0x520090,'fieldsTitle':_0x337238,'configData':_0x3e0701});}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0xfe),async(_0x5cbddf,_0x224804)=>{const _0x14fc1f=a26_0x5afab1,_0x2b422d=fs[_0x14fc1f(0x11b)](path[_0x14fc1f(0xf2)](path['dirname'](require[_0x14fc1f(0x199)]['filename']),'cadviewer/settings/logs.html'),_0x14fc1f(0x1ca)),_0x1f656e=_0x2b422d[_0x14fc1f(0xdb)]('{version}',_0x5cbddf[_0x14fc1f(0x183)]);_0x224804[_0x14fc1f(0xbb)](_0x1f656e);});function findMatchingLogFiles(_0x4b23c3,_0x3a450b=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x5b2aa5=a26_0x5afab1;try{const _0x1b9449=fs[_0x5b2aa5(0x109)](_0x4b23c3);return _0x1b9449[_0x5b2aa5(0xb5)](_0x3cf5d5=>_0x3a450b['test'](_0x3cf5d5))['map'](_0x5b8561=>_0x5b8561[_0x5b2aa5(0xdb)]('call-Api_Conversion_','')[_0x5b2aa5(0xdb)](_0x5b2aa5(0x190),''));}catch(_0x24261a){return console['error'](_0x5b2aa5(0x1ee),_0x24261a),[];}}router[a26_0x5afab1(0x104)](a26_0x5afab1(0xa8),async(_0x19f610,_0x2a5222)=>{const _0x578511=a26_0x5afab1,_0x43413c=new Date(),_0x2d52a0=_0x43413c['getDate']()[_0x578511(0x125)]()['padStart'](0x2,'0')+'_'+(_0x43413c[_0x578511(0x17e)]()+0x1)['toString']()['padStart'](0x2,'0')+'_'+_0x43413c['getFullYear'](),{displayDay:_0x5349c9}=_0x19f610['body'],_0x5b72cb=path['join'](path['dirname'](require[_0x578511(0x199)][_0x578511(0x1bd)]),_0x578511(0xb8),_0x578511(0x1b5)+(_0x5349c9??_0x2d52a0)+'.log');fs[_0x578511(0x158)](_0x5b72cb)?fs[_0x578511(0x12f)](_0x5b72cb,_0x578511(0x1ca),function(_0x5535d7,_0x226e86){const _0x34c490=_0x578511;_0x5535d7&&_0x2a5222[_0x34c490(0x10d)](0x1f4)[_0x34c490(0xbb)](_0x5535d7),_0x2a5222[_0x34c490(0x10d)](0xc8)[_0x34c490(0x106)]({'content':_0x226e86,'days':findMatchingLogFiles(path['join'](path['dirname'](require[_0x34c490(0x199)][_0x34c490(0x1bd)]),_0x34c490(0xb8)))});}):_0x2a5222[_0x578511(0x10d)](0xc8)[_0x578511(0x106)]({'content':'','days':findMatchingLogFiles(path[_0x578511(0xf2)](path[_0x578511(0x127)](require[_0x578511(0x199)][_0x578511(0x1bd)]),_0x578511(0xb8)))});}),router[a26_0x5afab1(0xc7)](a26_0x5afab1(0x15c),async(_0x28afb9,_0x463691)=>{const _0x1321d3=a26_0x5afab1,_0x1b5d79=new Date(),_0x212fcd=_0x1b5d79[_0x1321d3(0x10a)]()[_0x1321d3(0x125)]()['padStart'](0x2,'0')+'_'+(_0x1b5d79['getMonth']()+0x1)[_0x1321d3(0x125)]()[_0x1321d3(0xbd)](0x2,'0')+'_'+_0x1b5d79[_0x1321d3(0x192)](),_0xb688ce=findMatchingLogFiles(path[_0x1321d3(0xf2)](path['dirname'](require[_0x1321d3(0x199)][_0x1321d3(0x1bd)]),_0x1321d3(0xb8)));_0xb688ce['forEach'](_0x4cea24=>{const _0x2738b0=_0x1321d3;if(_0x4cea24!==_0x212fcd)fs[_0x2738b0(0xa7)](path[_0x2738b0(0xf2)](path['dirname'](require[_0x2738b0(0x199)][_0x2738b0(0x1bd)]),_0x2738b0(0xb8),_0x2738b0(0x1b5)+_0x4cea24+_0x2738b0(0x190)));}),logStream[_0x1321d3(0xaa)](),_0x463691[_0x1321d3(0x10d)](0xc8)[_0x1321d3(0x106)]({'message':_0x1321d3(0x138)});}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x1d8),async(_0x2e47e4,_0x46ccf6)=>{const _0x3809e8=a26_0x5afab1,_0x4cef7f=path['join'](path[_0x3809e8(0x127)](require[_0x3809e8(0x199)][_0x3809e8(0x1bd)]),_0x3809e8(0x1c6));if(!fs[_0x3809e8(0x158)](_0x4cef7f)){const _0x3ae356={'jsonDataExtraction':{'standard':[{'paramName':_0x3809e8(0x106),'paramValue':''},{'paramName':_0x3809e8(0xc8),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x3809e8(0x12a)},{'paramName':_0x3809e8(0xff),'paramValue':''},{'paramName':_0x3809e8(0xde),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x3809e8(0xc5)},{'paramName':_0x3809e8(0xff),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x3809e8(0xff),'paramValue':''},{'paramName':_0x3809e8(0xde),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs['writeFileSync'](_0x4cef7f,JSON[_0x3809e8(0xb1)](_0x3ae356,null,0x4));}const _0x328b8d=fs[_0x3809e8(0x11b)](path['join'](path[_0x3809e8(0x127)](require['main']['filename']),_0x3809e8(0x1ec)),_0x3809e8(0x1ca)),_0x3f7415=_0x328b8d[_0x3809e8(0xdb)](_0x3809e8(0x150),_0x2e47e4[_0x3809e8(0x183)]);_0x46ccf6[_0x3809e8(0xbb)](_0x3f7415);}),router['post'](a26_0x5afab1(0xe0),async(_0x493c1e,_0x3bd9f4)=>{const _0x585bac=a26_0x5afab1,{actionName:_0x1f0499,contentLocation:_0xb4821b}=_0x493c1e['body'],_0x45c7b6=path['join'](path[_0x585bac(0x127)](require[_0x585bac(0x199)]['filename']),'cadviewer/settings/rest-api-parameters.json');fs[_0x585bac(0x12f)](_0x45c7b6,'utf8',function(_0x574272,_0x22719c){const _0x3877d4=_0x585bac;if(_0x574272)_0x3bd9f4[_0x3877d4(0x10d)](0xc8)['json']({'parameters':[]});else{const _0xb8d00c=JSON[_0x3877d4(0x193)](_0x22719c);if(_0xb8d00c[_0x1f0499]&&_0xb8d00c[_0x1f0499][_0xb4821b])_0x3bd9f4[_0x3877d4(0x10d)](0xc8)[_0x3877d4(0x106)]({'parameters':_0xb8d00c[_0x1f0499][_0xb4821b]});else _0xb8d00c[_0x1f0499]&&_0xb8d00c[_0x1f0499][_0x3877d4(0x1de)]?_0x3bd9f4[_0x3877d4(0x10d)](0xc8)[_0x3877d4(0x106)]({'parameters':_0xb8d00c[_0x1f0499][_0x3877d4(0x1de)]}):_0x3bd9f4[_0x3877d4(0x10d)](0xc8)['json']({'parameters':[]});}});}),router['post']('/restapi-test/parameters/save',async(_0xd98707,_0x3dbe78)=>{const _0x3849eb=a26_0x5afab1,{actionName:_0x1e8f3e,contentLocation:_0xd8bba,parameters:_0x2ec3cd}=_0xd98707[_0x3849eb(0x108)],_0x105cdf=path[_0x3849eb(0xf2)](path['dirname'](require[_0x3849eb(0x199)][_0x3849eb(0x1bd)]),_0x3849eb(0x1c6));fs['readFile'](_0x105cdf,_0x3849eb(0x1ca),function(_0xe5bb6e,_0x4951f7){const _0x2c0152=_0x3849eb;if(_0xe5bb6e)_0x3dbe78[_0x2c0152(0x10d)](0x199)['json']({'message':'Error\x20saving\x20parameters.'});else{const _0x2ff3c5=JSON[_0x2c0152(0x193)](_0x4951f7);!_0x2ff3c5[_0x1e8f3e]&&(_0x2ff3c5[_0x1e8f3e]={}),_0x2ff3c5[_0x1e8f3e][_0xd8bba]=_0x2ec3cd,fs[_0x2c0152(0xe3)](_0x105cdf,JSON[_0x2c0152(0xb1)](_0x2ff3c5,null,0x4),function(_0x147ce6){const _0x246ce2=_0x2c0152;_0x147ce6&&_0x3dbe78['status'](0x199)[_0x246ce2(0x106)]({'message':_0x246ce2(0xc2)}),_0x3dbe78[_0x246ce2(0x10d)](0xc8)[_0x246ce2(0x106)]({'message':_0x246ce2(0x116)});});}});}),router['get'](a26_0x5afab1(0x118),async(_0x463d67,_0x3994e0)=>{const _0x503c98=a26_0x5afab1,_0x381286=fs[_0x503c98(0x11b)](path[_0x503c98(0xf2)](path[_0x503c98(0x127)](require['main']['filename']),_0x503c98(0xb0)),_0x503c98(0x1ca)),_0x13e73a=_0x381286['replaceAll'](_0x503c98(0x150),_0x463d67['version']);_0x3994e0[_0x503c98(0xbb)](_0x13e73a);}),router['post'](a26_0x5afab1(0xfc),async(_0x25173b,_0x50923a)=>{const _0xa2d1d5=a26_0x5afab1,_0x103688=getHotConfig(),_0x55596c=_0x103688['converterLocation']['replaceAll']('//','/'),_0x4b0727=_0x103688[_0xa2d1d5(0x1b2)][_0xa2d1d5(0xdb)]('//','/'),_0x455c94=_0x103688[_0xa2d1d5(0xea)]['replaceAll']('//','/'),_0x55c870=''+_0x55596c+_0x103688[_0xa2d1d5(0x1c0)],_0x5219b1=''+_0x4b0727+_0x103688['dwgmerge_executable'],_0x1dbea1=''+_0x455c94+_0x103688[_0xa2d1d5(0xd6)],_0xa644d4=[],_0xf97c86=new Promise(_0x534cd9=>{const _0x445085=_0xa2d1d5;exec(os['platform']()===_0x445085(0x166)?_0x445085(0xb9):'ls',_0x56cf28=>{const _0x1122a3=_0x445085;_0x56cf28?_0xa644d4[_0x1122a3(0x15e)]({'title':_0x1122a3(0x1aa),'status':![],'priority':0x1}):_0xa644d4[_0x1122a3(0x15e)]({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':!![],'priority':0x1}),_0x534cd9();});}),_0x64c924=new Promise(_0x231ce1=>{const _0x2fcef2=_0xa2d1d5;fs[_0x2fcef2(0x16b)](_0x55c870,fs[_0x2fcef2(0xa6)]['X_OK'],_0x1489c7=>{const _0x4f402e=_0x2fcef2;_0x1489c7?_0xa644d4[_0x4f402e(0x15e)]({'title':_0x4f402e(0x188)+_0x103688[_0x4f402e(0x1c0)]+_0x4f402e(0xe6),'status':![],'priority':0x2}):_0xa644d4['push']({'title':_0x4f402e(0x188)+_0x103688[_0x4f402e(0x1c0)]+_0x4f402e(0xe6),'status':!![],'priority':0x2}),_0x231ce1();});}),_0x17bacb=new Promise(_0x24c347=>{const _0x190e0c=_0xa2d1d5;fs['access'](_0x5219b1,fs['constants'][_0x190e0c(0xe4)],_0x4ecd6=>{const _0x281c15=_0x190e0c;_0x4ecd6?_0xa644d4[_0x281c15(0x15e)]({'title':_0x281c15(0x188)+_0x103688[_0x281c15(0x13a)]+_0x281c15(0xe6),'status':![],'priority':0x3}):_0xa644d4[_0x281c15(0x15e)]({'title':_0x281c15(0x188)+_0x103688['dwgmerge_executable']+_0x281c15(0xe6),'status':!![],'priority':0x3}),_0x24c347();});}),_0x50ec25=new Promise(_0x198e55=>{const _0x404194=_0xa2d1d5;fs['access'](_0x1dbea1,fs[_0x404194(0xa6)][_0x404194(0xe4)],_0x293b84=>{const _0x33f225=_0x404194;_0x293b84?_0xa644d4[_0x33f225(0x15e)]({'title':_0x33f225(0x188)+_0x103688[_0x33f225(0xd6)]+_0x33f225(0xe6),'status':![],'priority':0x4}):_0xa644d4['push']({'title':_0x33f225(0x188)+_0x103688['linklist_executable']+_0x33f225(0xe6),'status':!![],'priority':0x4}),_0x198e55();});}),_0x185092=new Promise(_0x2c2b34=>{const _0x321fdc=_0xa2d1d5,_0x18441b=new Date(),_0x1c17b1=_0x18441b['getDate']()['toString']()[_0x321fdc(0xbd)](0x2,'0')+'_'+(_0x18441b[_0x321fdc(0x17e)]()+0x1)[_0x321fdc(0x125)]()[_0x321fdc(0xbd)](0x2,'0')+'_'+_0x18441b[_0x321fdc(0x192)](),{displayDay:_0x398e19}=_0x25173b[_0x321fdc(0x108)];fs['access'](path[_0x321fdc(0xf2)](path[_0x321fdc(0x127)](require[_0x321fdc(0x199)]['filename']),_0x321fdc(0xb8),_0x321fdc(0x1b5)+(_0x398e19??_0x1c17b1)+_0x321fdc(0x190)),fs[_0x321fdc(0xa6)][_0x321fdc(0xa2)],_0xf4df83=>{const _0x47f03b=_0x321fdc;_0xf4df83?_0xa644d4[_0x47f03b(0x15e)]({'title':_0x47f03b(0x1e9)+(_0x398e19??_0x1c17b1)+_0x47f03b(0xfb),'status':![],'priority':0x5}):_0xa644d4[_0x47f03b(0x15e)]({'title':_0x47f03b(0x1e9)+(_0x398e19??_0x1c17b1)+_0x47f03b(0xfb),'status':!![],'priority':0x5}),_0x2c2b34();});}),_0x44f974=(_0x508480,_0x5e07f4)=>{const _0x220fc2=_0xa2d1d5,_0x40f80d=path['join'](path[_0x220fc2(0x127)](require[_0x220fc2(0x199)][_0x220fc2(0x1bd)]),_0x508480);return new Promise(_0x59ca41=>{const _0x42b986=_0x220fc2;fs[_0x42b986(0x16b)](path[_0x42b986(0xf2)](path['dirname'](_0x40f80d)),fs[_0x42b986(0xa6)][_0x42b986(0x128)]|fs['constants'][_0x42b986(0xa2)],_0xa857d4=>{const _0xcffd4a=_0x42b986;_0xa857d4?_0xa644d4['push']({'title':_0xcffd4a(0xd4)+_0x508480,'status':![],'priority':_0x5e07f4+0x6}):_0xa644d4[_0xcffd4a(0x15e)]({'title':_0xcffd4a(0xd4)+_0x508480,'status':!![],'priority':_0x5e07f4+0x6}),_0x59ca41();});});},_0x220c63=[_0xa2d1d5(0x1f9),'/converters/autoxchange/linux/','/converters/files/merged/','/converters/files/print/',_0xa2d1d5(0x133),'/content/redlines/',_0xa2d1d5(0x1b3)],_0x4fb1d4=_0x220c63[_0xa2d1d5(0x12d)](_0x44f974);Promise[_0xa2d1d5(0x1d1)]([_0xf97c86,_0x64c924,_0x17bacb,_0x50ec25,_0x185092,..._0x4fb1d4])[_0xa2d1d5(0x15b)](()=>{const _0x1bfcb=_0xa2d1d5;_0x50923a[_0x1bfcb(0x10d)](0xc8)[_0x1bfcb(0x106)]({'checking_list':_0xa644d4});})[_0xa2d1d5(0x168)](()=>{const _0x4fa449=_0xa2d1d5;_0x50923a[_0x4fa449(0x10d)](0x1f4)[_0x4fa449(0x106)]({'error':_0x4fa449(0xab)});});}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x1ac),async(_0x4d833e,_0x14525e)=>{const _0x80ee6b=a26_0x5afab1,_0x377ca0=fs['readFileSync'](path[_0x80ee6b(0xf2)](path[_0x80ee6b(0x127)](require[_0x80ee6b(0x199)][_0x80ee6b(0x1bd)]),_0x80ee6b(0x18f)),'utf8'),_0x2ca0e0=_0x377ca0[_0x80ee6b(0xdb)]('{version}',_0x4d833e[_0x80ee6b(0x183)]);_0x14525e[_0x80ee6b(0xbb)](_0x2ca0e0);}),router[a26_0x5afab1(0x104)]('/users/list',async(_0xa93f07,_0x2fa369)=>{const _0xaf99f9=a26_0x5afab1;let _0x30573f;try{const [_0x14b2c7]=await conn[_0xaf99f9(0xa3)]()['execute'](_0xaf99f9(0xa5),[]);_0x30573f=_0x14b2c7;}catch(_0x1b74d3){console[_0xaf99f9(0xcb)]({'err':_0x1b74d3}),_0x2fa369[_0xaf99f9(0x10d)](0x1f4)[_0xaf99f9(0x106)]({'error':_0xaf99f9(0x9f)});return;}_0x2fa369[_0xaf99f9(0x10d)](0xc8)['json']({'success':!![],'data':_0x30573f});}),router[a26_0x5afab1(0x104)]('/users',upload[a26_0x5afab1(0x16d)](a26_0x5afab1(0xad)),async(_0x1e32f3,_0x5e1633)=>{const _0x5b993d=a26_0x5afab1,{id:_0xf2bc0d,first_name:_0x1ac9c8,last_name:_0x2ca49d,username:_0x2248c9,email:_0x304835,password:_0x45b0a9,is_enabled:_0x125781}=_0x1e32f3[_0x5b993d(0x108)],_0x11ae49=_0x1e32f3[_0x5b993d(0x108)][_0x5b993d(0x1af)]===_0x5b993d(0x1dd)?_0x5b993d(0x1dd):_0x5b993d(0xb6);let _0x521d96;console['log'](_0x5b993d(0x1d0));_0x45b0a9&&(_0x521d96=await bcrypt[_0x5b993d(0x11e)](_0x45b0a9,0xa));let _0x591e25=null;if(_0x1e32f3['file']){const _0x267b2b=_0x5b993d(0x19e)+randomUUID()+_0x5b993d(0xaf);fs[_0x5b993d(0x1b9)](_0x1e32f3[_0x5b993d(0x1ab)][_0x5b993d(0x160)],'./'+_0x267b2b),_0x591e25=config[_0x5b993d(0x1c9)]+'/'+_0x267b2b;}if(_0xf2bc0d){try{let [_0x4fe980]=await conn[_0x5b993d(0xa3)]()[_0x5b993d(0x1bf)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?',[_0x304835,_0x2248c9,_0xf2bc0d]);if(_0x4fe980[_0x5b993d(0x1d4)]>0x0)_0x5e1633[_0x5b993d(0x10d)](0x199)[_0x5b993d(0x106)]({'error':_0x5b993d(0x17a)});else{!_0x1e32f3[_0x5b993d(0x1ab)]&&([_0x4fe980]=await conn[_0x5b993d(0xa3)]()[_0x5b993d(0x1bf)](_0x5b993d(0x156),[_0xf2bc0d]),_0x591e25=_0x4fe980[0x0][_0x5b993d(0xa1)]);const _0x52948e=_0x5b993d(0x149)+(_0x45b0a9?_0x5b993d(0x13d):'')+_0x5b993d(0x154);await conn[_0x5b993d(0xa3)]()[_0x5b993d(0x1bf)](_0x52948e,_0x45b0a9?[_0x591e25,_0x1ac9c8,_0x2ca49d,_0x2248c9,_0x304835,_0x521d96,_0x125781,_0x11ae49,_0xf2bc0d]:[_0x591e25,_0x1ac9c8,_0x2ca49d,_0x2248c9,_0x304835,_0x125781,_0x11ae49,_0xf2bc0d]);}}catch(_0x5c8c9e){console['log'](_0x5c8c9e),_0x5e1633[_0x5b993d(0x10d)](0x1f4)[_0x5b993d(0x106)]({'error':_0x5b993d(0x9f)});return;}_0x5e1633[_0x5b993d(0x10d)](0xc8)[_0x5b993d(0x106)]({'success':!![],'message':_0x5b993d(0x105)});}else{try{const [_0x3eadc4]=await conn[_0x5b993d(0xa3)]()[_0x5b993d(0x1bf)](_0x5b993d(0xeb),[_0x304835,_0x2248c9]);if(_0x3eadc4[_0x5b993d(0x1d4)]>0x0)_0x5e1633[_0x5b993d(0x10d)](0x199)[_0x5b993d(0x106)]({'error':_0x5b993d(0x17a)});else{const _0x5e4033=randomUUID();await conn[_0x5b993d(0xa3)]()[_0x5b993d(0x1bf)]('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x591e25,_0x1ac9c8,_0x2ca49d,_0x2248c9,_0x304835,_0x521d96,_0x11ae49,_0x125781,_0x5e4033]);const _0x2892b2=_0x5b993d(0x19a)+_0x5e4033;fs['mkdirSync'](_0x2892b2);}}catch(_0x269239){console[_0x5b993d(0xcb)](_0x269239),_0x5e1633['status'](0x1f4)[_0x5b993d(0x106)]({'error':_0x5b993d(0x9f)});return;}_0x5e1633[_0x5b993d(0x10d)](0xc8)[_0x5b993d(0x106)]({'success':!![],'message':_0x5b993d(0x16f)});}}),router[a26_0x5afab1(0xc7)](a26_0x5afab1(0x178),async(_0x1d5d62,_0x51a4fd)=>{const _0x247b1a=a26_0x5afab1,{userId:_0x2b024a}=_0x1d5d62[_0x247b1a(0x108)];let _0x32abb4;try{const [_0x36c424]=await conn['promise']()[_0x247b1a(0x1bf)](_0x247b1a(0x156),[_0x2b024a]);_0x36c424[_0x247b1a(0x1d4)]>0x0&&(_0x32abb4=_0x36c424[0x0]);}catch(_0x50919e){console[_0x247b1a(0xcb)]({'err':_0x50919e}),_0x51a4fd[_0x247b1a(0x10d)](0x1f4)[_0x247b1a(0x106)]({'error':_0x247b1a(0x9f)});return;}if(!_0x32abb4){_0x51a4fd['status'](0x191)['json']({'error':_0x247b1a(0x1b0)});return;}let _0x2fe070=_0x32abb4['folder_name'];if(!_0x2fe070){_0x2fe070=randomUUID();try{await conn[_0x247b1a(0xa3)]()['execute'](_0x247b1a(0x12e),[_0x2fe070,_0x2b024a]);}catch(_0x11e385){console[_0x247b1a(0xcb)]({'err':_0x11e385}),_0x51a4fd[_0x247b1a(0x10d)](0x1f4)['json']({'error':_0x247b1a(0x9f)});return;}}const _0x951de5=_0x247b1a(0x19a)+_0x2fe070;console['log'](_0x247b1a(0xac)),console['log'](_0x951de5),!fs[_0x247b1a(0x158)](_0x951de5)&&fs[_0x247b1a(0x113)](_0x951de5),fs[_0x247b1a(0x19d)](_0x951de5,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x951de5),_0x51a4fd[_0x247b1a(0x10d)](0xc8)[_0x247b1a(0x106)]({'success':!![],'message':_0x247b1a(0xf9)});}),router[a26_0x5afab1(0xc7)](a26_0x5afab1(0x191),async(_0x13223f,_0x40fbe0)=>{const _0x1665c5=a26_0x5afab1,_0x4ccab4=_0x13223f['params'][_0x1665c5(0xe1)];try{let _0x4001de;try{const [_0xf128ed]=await conn[_0x1665c5(0xa3)]()[_0x1665c5(0x1bf)](_0x1665c5(0x156),[_0x4ccab4]);_0xf128ed['length']>0x0&&(_0x4001de=_0xf128ed[0x0]);}catch(_0x2bbb69){console[_0x1665c5(0xcb)]({'err':_0x2bbb69}),_0x40fbe0[_0x1665c5(0x10d)](0x1f4)[_0x1665c5(0x106)]({'error':_0x1665c5(0x9f)});return;}if(!_0x4001de){_0x40fbe0[_0x1665c5(0x10d)](0x191)['json']({'error':_0x1665c5(0x1b0)});return;}let _0x424476=_0x4001de['folder_name'];if(_0x424476){const _0x365a0b=_0x1665c5(0x19a)+_0x424476;fs[_0x1665c5(0x158)](_0x365a0b)&&fs['rmSync'](_0x365a0b,{'recursive':!![],'force':!![]});}await conn[_0x1665c5(0xa3)]()[_0x1665c5(0x1bf)](_0x1665c5(0x206),[_0x4ccab4]);}catch(_0x508e63){console[_0x1665c5(0xcb)](_0x508e63),_0x40fbe0['status'](0x1f4)[_0x1665c5(0x106)]({'error':_0x1665c5(0x9f)});return;}_0x40fbe0[_0x1665c5(0x10d)](0xc8)[_0x1665c5(0x106)]({'success':!![],'message':_0x1665c5(0x17d)});}),router['get'](a26_0x5afab1(0xf7),async(_0x175be3,_0x429b8d)=>{const _0x8a440b=a26_0x5afab1,_0x2f5d77=osu['cpu'],_0x189c66=osu[_0x8a440b(0x1e0)],_0x488ce0=osu[_0x8a440b(0xf8)],_0x20fe62=osu['os'],_0x474e7e={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x4b20cd=os['platform']()===_0x8a440b(0x166)?'c:':'/';const _0x428779=await _0x488ce0['info'](_0x4b20cd);_0x474e7e[_0x8a440b(0x207)]=_0x428779[_0x8a440b(0x18c)],_0x474e7e['usedGB']=_0x428779['usedGb'],_0x474e7e['freeGb']=_0x428779['freeGb'],_0x474e7e[_0x8a440b(0x176)]=_0x428779[_0x8a440b(0x184)];}catch(_0x39ff37){console[_0x8a440b(0xcb)]('Error\x20getting\x20disk\x20usage',_0x39ff37);}const _0x1a7296={'usage':0x0,'count':0x0};try{_0x1a7296[_0x8a440b(0x1dc)]=await _0x2f5d77['usage'](),_0x1a7296['count']=_0x2f5d77[_0x8a440b(0xd0)]();}catch(_0x18ab62){console[_0x8a440b(0xcb)](_0x8a440b(0x197),_0x18ab62);}const _0xf3b09e={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0xf3b09e['os']=await _0x20fe62['oos'](),_0xf3b09e[_0x8a440b(0x181)]=_0x20fe62[_0x8a440b(0x181)](),_0xf3b09e['ip']=_0x20fe62['ip'](),_0xf3b09e[_0x8a440b(0xc6)]=_0x20fe62['uptime'](),_0xf3b09e['hostname']=_0x20fe62[_0x8a440b(0xbf)](),_0xf3b09e['type']=_0x20fe62[_0x8a440b(0x101)](),_0xf3b09e[_0x8a440b(0x14e)]=_0x20fe62[_0x8a440b(0x14e)](),_0xf3b09e[_0x8a440b(0x1f8)]=await osu[_0x8a440b(0x145)][_0x8a440b(0x1f8)](),_0xf3b09e[_0x8a440b(0xd5)]=await osu[_0x8a440b(0x145)][_0x8a440b(0xd5)](),_0xf3b09e[_0x8a440b(0x112)]=await osu[_0x8a440b(0x145)][_0x8a440b(0x112)]();}catch(_0x5dda1d){console[_0x8a440b(0xcb)]('Error\x20getting\x20os\x20info',_0x5dda1d);}const _0x682e6a={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x682e6a[_0x8a440b(0x14c)]=await osu[_0x8a440b(0x185)][_0x8a440b(0x14c)](),_0x682e6a[_0x8a440b(0x1cc)]=await osu[_0x8a440b(0x185)][_0x8a440b(0x1cc)]();}catch(_0x20f795){console[_0x8a440b(0xcb)](_0x8a440b(0x1a4),_0x20f795);}let _0x57790={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0xf57967=await _0x189c66[_0x8a440b(0x1c2)]();_0x57790['usedMemPercentage']=_0xf57967[_0x8a440b(0x1cb)],_0x57790[_0x8a440b(0x14d)]=_0xf57967[_0x8a440b(0x137)]/0x400/0x400,_0x57790[_0x8a440b(0xe5)]=_0xf57967[_0x8a440b(0x1f6)]/0x400/0x400;}catch(_0x1d1903){console[_0x8a440b(0xcb)](_0x8a440b(0x1a6),_0x1d1903);}let _0x486a12=0x0;try{_0x486a12=await conn[_0x8a440b(0xa3)]()[_0x8a440b(0x1d6)]('SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users')['then'](([_0x4c4468])=>_0x4c4468[0x0]['total']);}catch(_0x7f0578){console[_0x8a440b(0xcb)](_0x8a440b(0xc0),_0x7f0578);}const _0x59588b=getMonitoringData(),_0x5086d5=_0x59588b['filter'](_0x130735=>_0x130735[_0x8a440b(0x1f1)]!==null&&_0x130735['conversionTimeSpend']!==undefined),_0x3f0aed=_0x59588b[_0x8a440b(0xb5)](_0x391205=>_0x391205[_0x8a440b(0x169)]!==null&&_0x391205[_0x8a440b(0x169)]!==undefined)[_0x8a440b(0x12d)](_0x306f10=>parseFloat(_0x306f10[_0x8a440b(0x169)]['replaceAll']('Kb')[_0x8a440b(0xa9)]())),_0x4226c9=_0x5086d5[_0x8a440b(0x111)]((_0x173be4,_0x15ed24)=>_0x173be4+parseFloat(_0x15ed24[_0x8a440b(0x1f1)]),0x0)/_0x5086d5[_0x8a440b(0x1d4)],_0x467f71=_0x3f0aed[_0x8a440b(0x111)]((_0x49cd37,_0x4f817c)=>_0x49cd37+_0x4f817c,0x0)/_0x3f0aed[_0x8a440b(0x1d4)];_0x429b8d[_0x8a440b(0x106)]({'requestsPerSecond':counter['getStats'](),'diskUsage':_0x474e7e,'cpus':_0x1a7296,'system':_0xf3b09e,'process':_0x682e6a,'totalMonitoringData':_0x59588b[_0x8a440b(0x1d4)],'memory':_0x57790,'totalUsers':_0x486a12,'avgConvertionTime':_0x4226c9,'avgMemoryUsage':_0x467f71});}),router[a26_0x5afab1(0x104)](a26_0x5afab1(0x187),(_0x96167d,_0x337f0c)=>{const _0x1489e0=a26_0x5afab1;counter['reset'](),_0x337f0c[_0x1489e0(0x106)]({'message':_0x1489e0(0x172)});});function a26_0x8431(_0x9c1c42,_0x70ac97){const _0x20c445=a26_0x20c4();return a26_0x8431=function(_0x8431b7,_0x5b0f6d){_0x8431b7=_0x8431b7-0x9f;let _0xeb3874=_0x20c445[_0x8431b7];return _0xeb3874;},a26_0x8431(_0x9c1c42,_0x70ac97);}const getMonitoringData=()=>{const _0x559be1=a26_0x5afab1,_0x61d5c3='cadviewer/settings/requests-callapiconversion-monitoring.json';let _0x3f4976=[];try{_0x3f4976=JSON[_0x559be1(0x193)](fs[_0x559be1(0x11b)](_0x61d5c3));}catch(_0x3fe546){console['log'](_0x559be1(0x147));}return _0x3f4976;};router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x13c),async(_0xa83750,_0x31e6d2)=>{const _0xc24fdd=a26_0x5afab1,{page:page=0x1,limit:limit=0xa}=_0xa83750['query'],_0x1d0968=(page-0x1)*limit;try{const _0x68fe32=getMonitoringData(),_0x135833=_0x68fe32[_0xc24fdd(0x1d4)],_0x52906d=Math[_0xc24fdd(0x1ff)](_0x135833/limit),_0x27141e=_0x68fe32[_0xc24fdd(0x203)](_0x1d0968,_0x1d0968+limit);_0x31e6d2[_0xc24fdd(0x10d)](0xc8)[_0xc24fdd(0x106)]({'data':_0x27141e,'page':parseInt(''+page),'totalPages':_0x52906d,'total':_0x135833});}catch(_0x4dad80){console['log'](_0x4dad80),_0x31e6d2[_0xc24fdd(0x10d)](0x1f4)[_0xc24fdd(0x106)]({'error':_0xc24fdd(0x9f)});}}),router['delete'](a26_0x5afab1(0x157),async(_0x1b096e,_0x57eaa7)=>{const _0x1a55b8=a26_0x5afab1,_0x238b54='cadviewer/settings/requests-callapiconversion-monitoring.json';try{fs[_0x1a55b8(0x143)](_0x238b54,JSON[_0x1a55b8(0xb1)]([],null,0x4)),_0x57eaa7[_0x1a55b8(0x10d)](0xc8)['json']({'message':_0x1a55b8(0x1e3)});}catch(_0x320d6c){console[_0x1a55b8(0xcb)](_0x320d6c),_0x57eaa7['status'](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x1d3),async(_0x31ba0a,_0x19be58)=>{const _0x3356a2=a26_0x5afab1,_0x2f0319=getHotConfig()[_0x3356a2(0x19b)][_0x3356a2(0xdb)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x31ba0a[_0x3356a2(0x1d6)],_0x24f4ef=(page-0x1)*limit;try{const _0x311289=_0x2f0319+_0x3356a2(0x1ba);console[_0x3356a2(0xcb)](_0x311289);const _0x190628=fs[_0x3356a2(0x11b)](_0x311289,'utf8'),_0x6274ac=_0x190628[_0x3356a2(0x195)]('\x0a'),_0x3f8b50=[];_0x6274ac[_0x3356a2(0x159)](_0x1d4757=>{const _0xf09a3c=_0x3356a2,_0x40c156=_0x1d4757[_0xf09a3c(0x195)](',');if(_0x40c156[_0xf09a3c(0x1d4)]<0x4)return;const _0x9aeff1=_0x40c156[0x0],_0x331187=_0x40c156[0x1],_0xf201b9=parseFloat(_0x40c156[0x2]);_0x3f8b50[_0xf09a3c(0x15e)]({'file':_0x9aeff1[_0xf09a3c(0xdb)]('\x22',''),'action':_0x331187,'timeSpend':_0xf201b9,'memoryUsage':_0x40c156[0x3]});});const _0x5ecc6e=_0x3f8b50['length'],_0x3d3dd5=Math['ceil'](_0x5ecc6e/limit),_0x2c6518=_0x3f8b50[_0x3356a2(0x203)](_0x24f4ef,_0x24f4ef+limit);_0x19be58[_0x3356a2(0x10d)](0xc8)[_0x3356a2(0x106)]({'data':_0x2c6518,'page':parseInt(''+page),'totalPages':_0x3d3dd5,'total':_0x5ecc6e});}catch(_0xab03fd){console[_0x3356a2(0xcb)](_0xab03fd),_0x19be58[_0x3356a2(0x10d)](0x1f4)[_0x3356a2(0x106)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x162),async(_0x356a09,_0xf30e71)=>{const _0x54e58b=a26_0x5afab1,_0x36c846=path[_0x54e58b(0xf2)](path[_0x54e58b(0x127)](require[_0x54e58b(0x199)][_0x54e58b(0x1bd)]),_0x54e58b(0x115),'files');try{let _0x1587b2=0x0,_0x698ddf=0x0;function _0x2cd8ef(_0x15fa54){const _0xba3938=_0x54e58b;let _0x585273=0x0,_0x1d25c3=0x0;if(fs[_0xba3938(0x158)](_0x15fa54)){const _0x2bc338=fs[_0xba3938(0x109)](_0x15fa54);_0x1d25c3=0x0;for(const _0x1ae48e of _0x2bc338){const _0x58f060=path[_0xba3938(0xf2)](_0x15fa54,_0x1ae48e),_0x1bcda3=fs[_0xba3938(0x130)](_0x58f060);if(_0x1bcda3[_0xba3938(0xd1)]()&&_0x1ae48e!==_0xba3938(0x19f))_0x1d25c3++,_0x585273+=_0x1bcda3['size'];else{if(_0x1bcda3['isDirectory']()){}}}}return{'size':_0x585273,'count':_0x1d25c3};}const _0x20e1ac=_0x2cd8ef(_0x36c846);_0x1587b2=_0x20e1ac['size'],_0x698ddf=_0x20e1ac[_0x54e58b(0xd0)],_0xf30e71[_0x54e58b(0x106)]({'fileCount':_0x698ddf,'totalSize':_0x1587b2});}catch(_0x4436a0){console[_0x54e58b(0x151)]('Error\x20getting\x20cache\x20stats:',_0x4436a0),_0xf30e71[_0x54e58b(0x10d)](0x1f4)['json']({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x5afab1(0xc7)](a26_0x5afab1(0x1f2),async(_0x55979d,_0x57f113)=>{const _0x204f2f=a26_0x5afab1,_0x17b3af=path[_0x204f2f(0xf2)](path[_0x204f2f(0x127)](require[_0x204f2f(0x199)][_0x204f2f(0x1bd)]),_0x204f2f(0x115),_0x204f2f(0x1fd));try{function _0x178544(_0x27f29b){const _0x3a89b0=_0x204f2f;if(fs[_0x3a89b0(0x158)](_0x27f29b)){const _0x5a9630=fs[_0x3a89b0(0x109)](_0x27f29b);for(const _0xcadaa2 of _0x5a9630){const _0x12d976=path['join'](_0x27f29b,_0xcadaa2),_0x3cd5e5=fs[_0x3a89b0(0x130)](_0x12d976);if(_0x3cd5e5[_0x3a89b0(0xba)]()){}else _0xcadaa2!==_0x3a89b0(0x19f)&&fs['unlinkSync'](_0x12d976);}}}_0x178544(_0x17b3af),_0x57f113[_0x204f2f(0x106)]({'message':'Cache\x20flushed\x20successfully'});}catch(_0xafc1bd){console[_0x204f2f(0x151)](_0x204f2f(0x148),_0xafc1bd),_0x57f113[_0x204f2f(0x10d)](0x1f4)[_0x204f2f(0x106)]({'error':_0x204f2f(0xf6)});}}),router[a26_0x5afab1(0x1c1)]('/cache-stats.js',async(_0x3c85bd,_0x31472c)=>{const _0x4a2f98=a26_0x5afab1;_0x31472c[_0x4a2f98(0x1b4)](path[_0x4a2f98(0xf2)](path[_0x4a2f98(0x127)](require['main'][_0x4a2f98(0x1bd)]),'cadviewer/settings/cache-stats.js'));}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x1bb),async(_0x461851,_0x413378)=>{const _0x4a67ac=a26_0x5afab1,_0x4c3221=fs['readFileSync'](path[_0x4a67ac(0xf2)](path[_0x4a67ac(0x127)](require['main'][_0x4a67ac(0x1bd)]),_0x4a67ac(0x1f5)),_0x4a67ac(0x1ca)),_0x1b0172=_0x4c3221[_0x4a67ac(0xdb)](_0x4a67ac(0x150),_0x461851[_0x4a67ac(0x183)]);_0x413378[_0x4a67ac(0xbb)](_0x1b0172);}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x155),async(_0x36c2d8,_0x18c1df)=>{const _0x42c646=a26_0x5afab1,{page:page=0x1,limit:limit=0x10}=_0x36c2d8[_0x42c646(0x1d6)],_0x453163=path[_0x42c646(0xf2)](path['dirname'](require[_0x42c646(0x199)]['filename']),'converters',_0x42c646(0x1fd)),_0x11d3d6=fs[_0x42c646(0x109)](_0x453163),_0x5477df=new Map();_0x11d3d6[_0x42c646(0x159)](_0x81fb3d=>{const _0x2aacb=_0x42c646,_0x202386=path[_0x2aacb(0xf2)](_0x453163,_0x81fb3d),_0x3ff05b=fs[_0x2aacb(0x130)](_0x202386);_0x5477df['set'](_0x81fb3d,_0x3ff05b);});const _0x4aea62=Array[_0x42c646(0x1cf)](_0x5477df[_0x42c646(0x11d)]())['map'](([_0x5607f8,_0x4833e2])=>{const _0x3acebd=_0x42c646;if(_0x4833e2[_0x3acebd(0xba)]())return undefined;if(_0x5607f8[_0x3acebd(0x1ad)]('.csv'))return undefined;if(_0x5607f8[_0x3acebd(0x1ad)](_0x3acebd(0x1ea)))return undefined;let _0x3748e6=undefined,_0xe89643=undefined;(_0x5607f8['endsWith'](_0x3acebd(0xe8))||_0x5607f8[_0x3acebd(0x1ad)]('.svgz'))&&_0x5477df[_0x3acebd(0x1e6)](_0x5607f8[_0x3acebd(0x11c)](_0x3acebd(0x146),_0x3acebd(0x18b))[_0x3acebd(0x11c)](_0x3acebd(0xe8),_0x3acebd(0x18b)))&&(_0x3748e6=_0x5477df[_0x3acebd(0x1c1)](_0x5607f8[_0x3acebd(0x11c)](_0x3acebd(0x146),_0x3acebd(0x18b))['replace'](_0x3acebd(0xe8),_0x3acebd(0x18b))));_0x5607f8['endsWith']('.json')&&_0x5477df[_0x3acebd(0x1e6)](_0x5607f8['replace'](_0x3acebd(0x141),_0x3acebd(0x1ea)))&&(_0xe89643=_0x5477df[_0x3acebd(0x1c1)](_0x5607f8[_0x3acebd(0x11c)](_0x3acebd(0x141),'.dwg')));let _0xf5e57d='';if((_0x5607f8['endsWith'](_0x3acebd(0xe8))||_0x5607f8[_0x3acebd(0x1ad)](_0x3acebd(0x146)))&&_0x3748e6)_0xf5e57d='DWG\x20to\x20SVG\x20Conversion';else{if(_0x5607f8[_0x3acebd(0x1ad)]('.svg')||_0x5607f8[_0x3acebd(0x1ad)]('.svgz'))_0xf5e57d=_0x3acebd(0x15a);else{if(_0x5607f8['endsWith'](_0x3acebd(0x141))&&_0xe89643)_0xf5e57d='JSON\x20Data\x20Extraction';else{if(_0x5607f8[_0x3acebd(0x1ad)]('.pdf'))_0xf5e57d='DWG\x20to\x20PDF\x20Conversion';else{if(_0x5607f8[_0x3acebd(0x1ad)](_0x3acebd(0x1e7)))_0xf5e57d=_0x3acebd(0x18d);else{if(_0x5607f8[_0x3acebd(0x1ad)](_0x3acebd(0x201)))_0xf5e57d=_0x3acebd(0x1cd);else _0x5607f8['endsWith'](_0x3acebd(0x141))&&(_0xf5e57d=_0x3acebd(0xda));}}}}}return{'name':_0x5607f8,'size':_0x4833e2[_0x3acebd(0x16e)],'createdAt':_0x4833e2[_0x3acebd(0x1e5)],'updatedAt':_0x4833e2[_0x3acebd(0x196)],'readAt':_0x4833e2[_0x3acebd(0x163)],'action':_0xf5e57d,'csvFile':_0x3748e6,'availableFormats':[_0x5607f8[_0x3acebd(0x1ad)]('.svg')?{'id':_0x5607f8,'name':_0x3acebd(0xb3),'color':_0x3acebd(0x1a3)}:undefined,_0x5607f8['endsWith'](_0x3acebd(0x146))?{'id':_0x5607f8,'name':'SVGZ','color':_0x3acebd(0x1a3)}:undefined,_0x5607f8[_0x3acebd(0x1ad)]('.pdf')?{'id':_0x5607f8,'name':'PDF','color':_0x3acebd(0x1d9)}:undefined,_0x5607f8['endsWith'](_0x3acebd(0x141))?{'id':_0x5607f8,'name':_0x3acebd(0x132),'color':'gray'}:undefined,_0x3748e6?{'id':_0x5607f8['replace'](_0x3acebd(0x146),_0x3acebd(0x18b))['replace'](_0x3acebd(0xe8),_0x3acebd(0x18b)),'name':_0x3acebd(0x15f),'color':'green'}:undefined][_0x3acebd(0xb5)](_0x197d38=>_0x197d38!==undefined)};})[_0x42c646(0xb5)](_0x1d7b9b=>_0x1d7b9b!==undefined),_0x5f43db=(page-0x1)*limit,_0x5fc1de=page*limit,_0x45ba50=_0x4aea62[_0x42c646(0x1d4)],_0x4aaa6c=Math[_0x42c646(0x1ff)](_0x45ba50/limit);_0x4aea62[_0x42c646(0xcf)]((_0x5ede7b,_0x10cebe)=>_0x10cebe[_0x42c646(0x1be)]-_0x5ede7b[_0x42c646(0x1be)]);const _0x111181=_0x4aea62['slice'](_0x5f43db,_0x5fc1de);_0x18c1df[_0x42c646(0x106)]({'files':_0x111181,'pagination':{'total':_0x45ba50,'totalPages':_0x4aaa6c,'currentPage':parseInt(page),'limit':parseInt(limit)}});}),router[a26_0x5afab1(0x1c1)](a26_0x5afab1(0x11f),async(_0x4f5772,_0x18f628)=>{const _0x56233c=a26_0x5afab1,{file:_0x664356}=_0x4f5772[_0x56233c(0x1f7)],_0x1e0539=path[_0x56233c(0xf2)](path['dirname'](require['main'][_0x56233c(0x1bd)]),_0x56233c(0x115),_0x56233c(0x1fd)),_0x216a2b=path[_0x56233c(0xf2)](_0x1e0539,_0x664356),_0x540294=fs[_0x56233c(0x11b)](_0x216a2b,_0x56233c(0x1ca)),_0x49f60c=_0x540294[_0x56233c(0x195)]('\x0a'),_0x272a65=_0x49f60c[_0x56233c(0x12d)](_0x393737=>{const _0x50f5de=_0x56233c,_0xfa986e=_0x393737['split'](',');return _0xfa986e[_0x50f5de(0x12d)](_0x53dc2f=>_0x53dc2f['replaceAll']('\x22',''));});_0x18f628[_0x56233c(0x106)](_0x272a65);}),router['get'](a26_0x5afab1(0xc3),async(_0x177fda,_0xa5deab)=>{const _0x47a276=a26_0x5afab1,{id:_0x239d84}=_0x177fda[_0x47a276(0x1f7)],_0x40800a=path[_0x47a276(0xf2)](path[_0x47a276(0x127)](require[_0x47a276(0x199)][_0x47a276(0x1bd)]),_0x47a276(0x115),_0x47a276(0x1fd)),_0xc3e2fa=path[_0x47a276(0xf2)](_0x40800a,_0x239d84);if(_0xc3e2fa[_0x47a276(0x1ad)](_0x47a276(0x146))){var _0x470a28=require('zlib');const _0x4c1f5a=fs[_0x47a276(0x11b)](_0xc3e2fa),_0x14a4e7=_0x470a28['gunzipSync'](_0x4c1f5a);_0xa5deab[_0x47a276(0xef)]('Content-Type',_0x47a276(0x167)),_0xa5deab[_0x47a276(0xbb)](_0x14a4e7);}else _0xa5deab[_0x47a276(0x1b4)](_0xc3e2fa);}),router[a26_0x5afab1(0xc7)](a26_0x5afab1(0xc3),async(_0x2ea8ea,_0xe3a6a)=>{const _0x2848f6=a26_0x5afab1,{id:_0x23113d}=_0x2ea8ea[_0x2848f6(0x1f7)],_0x1c2646=path[_0x2848f6(0xf2)](path[_0x2848f6(0x127)](require[_0x2848f6(0x199)]['filename']),_0x2848f6(0x115),_0x2848f6(0x1fd)),_0x320707=path[_0x2848f6(0xf2)](_0x1c2646,_0x23113d);fs[_0x2848f6(0xa7)](_0x320707);if(_0x23113d[_0x2848f6(0x1ad)](_0x2848f6(0xe8))){const _0xf1ee77=path[_0x2848f6(0xf2)](_0x1c2646,_0x23113d[_0x2848f6(0x11c)](_0x2848f6(0x146),_0x2848f6(0x18b))[_0x2848f6(0x11c)](_0x2848f6(0xe8),'.csv'));fs[_0x2848f6(0x158)](_0xf1ee77)&&fs['unlinkSync'](_0xf1ee77);}_0xe3a6a[_0x2848f6(0x106)]({'message':_0x2848f6(0x208)});});function a26_0x20c4(){const _0x1d0634=['.png','cadviewer/settings/doctor.html','stringify','cvjs_svgz_compress','SVG','email','filter','user','linux','logs','dir','isDirectory','send','pop','padStart','\x20days\x20have\x20been\x20deleted.','hostname','Error\x20getting\x20total\x20users','includes','Error\x20saving\x20parameters.','/cache/files/:id','Folder\x20not\x20found','pdf','uptime','delete','blocks','cadviewer/settings/home.html','Folder\x20not\x20found.','log','0\x201\x20*\x20*\x20*','No\x20config\x20object\x20provided','Folder\x20deleted.','sort','count','isFile','formatedSize','dwgmerge_executable_linux','Read\x20and\x20write\x20permission\x20for\x20folder\x20','whoami','linklist_executable','Error\x20renaming\x20file.','cadviewer/settings/chart.min.js','File\x20or\x20Folder\x20not\x20found','Cache\x20conversion','replaceAll','ContentSecurityPolicy','119565PlmeYu','hlall','extname','/restapi-test/parameters/search','userId','../libs/mysql.js','writeFile','X_OK','totalMemMb','\x22\x20executable','Router','.svg','xpathLocation','linklistLocation','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','Demo\x20and\x20Base\x20User\x20Settings','File\x20not\x20found','now','setHeader','dwgmerge_executable_windows','originalname','join','mysqlDatabase','linklist_executable_windows','cadviewer/settings/style.css','Failed\x20to\x20flush\x20cache','/metrics','drive','User\x20directory\x20flushed\x20successfully','Error\x20deleting\x20folder.','.log\x22','/doctor/check','callbackMethod_gatewayUrl','/logs','model','isFolder','type','\x20\x20\x20','cached_conversion','post','User\x20updated\x20successfully','json','globalBearerAutentication','body','readdirSync','getDate','\x20GB','\x20MB','status','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Old\x20demo_user\x20accounts\x20(','ServerPort','reduce','vmstats','mkdirSync','attachment;\x20filename=\x22','converters','Parameters\x20saved.','exports','/doctor','143694oofaVY','/config','readFileSync','replace','entries','hash','/cache/csv/:file','/chart.min.js','Mail\x20Server\x20Settings','cadviewer/settings/tailwind.js','fileLocationUrl','radio|windows,linux','toString','sub_dirs','dirname','R_OK','boolean','svg','toLocaleLowerCase','autodetect_location','map','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','readFile','statSync','https','JSON','/converters/files/pdf/','radio|','folder_name','Callback\x20and\x20Authentication\x20Settings','used','Log\x20file\x20cleaned.',')\x20older\x20than\x20','dwgmerge_executable','Folder\x20already\x20exists.','/conversion/list','`crypted_password`\x20=\x20?,\x20','/folders','5ZPvdIF','/config/update','.json','linklist_executable_linux','writeFileSync','setup_mysqlHost','osCmd','.svgz','Error\x20reading\x20monitoring\x20file','Error\x20flushing\x20cache:','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','child_process','Error\x20downloading\x20file.','totalProcesses','usedMemMb','arch','Error\x20renaming\x20folder.','{version}','error','Content-Type','/config/global-update','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','/cache/files','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','/conversion/clean','existsSync','forEach','Display\x20of\x20DWG','then','/logs/clean','../libs/config','push','CSV','path','unlink','/cache/stats','atime','340AprVdV','./tmp','win32','image/svg+xml','catch','conversionMemoryUsage','170528pjSQse','access','multer','single','size','User\x20created\x20successfully','download','cadviewer/settings/vanilla-toast.css','Counter\x20reset\x20successfully','getHotConfig','mkdir','folderName','totalGB','fileLoad_PasswordAuthentication','/users/flush-dir','../libs/log','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','Deleting\x20old\x20demo_user\x20accounts...','autoxchange_executable_linux','User\x20deleted\x20successfully','getMonth','/vanilla-toast.css','File\x20renamed.','platform','/folders/delete','version','totalGb','proc','windows','/metrics/reset','Permission\x20750\x20for\x20the\x20\x22','75391JzRZSQ','globalBearerAutenticationToken','.csv','usedPercentage','DWG\x20file\x20in\x20multiple\x20files','fileLocation','cadviewer/settings/users.html','.log','/users/:userId','getFullYear','parse','../libs/counter.js','split','ctime','Error\x20getting\x20cpu\x20usage','temp_print_folder','main','./uploads/','converterLocation','autoxchange_executable_windows','rmSync','avatars/','.gitkeep','cadviewer/settings/vanilla-toast.js','2041092bQZiko','test','yellow','Error\x20getting\x20process\x20info','No\x20files\x20uploaded','Error\x20getting\x20memory\x20info','/style.css','tmp','cadviewer/settings/config.html','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','file','/users','endsWith','rmdir','role','Invalid\x20user','CADViewer_config.json','dwgmergeLocation','/content/redlines/v7/','sendFile','call-Api_Conversion_','folderLocation','cadviewer/settings/folders.html','toFixed','renameSync','memorydata.csv','/cache','/tailwind.js','filename','createdAt','execute','autoxchange_executable','get','info','converterpathLin','Error\x20creating\x20folder.','application/octet-stream','cadviewer/settings/rest-api-parameters.json','bcrypt','express','ServerUrl','utf8','usedMemPercentage','zombieProcesses','RL/TL\x20Processing','keys','from','=============================>','all','converterpathWin','/conversion/memorydata','length','darwin','query','298655GJTqup','/restapi-test','red','number','cadviewer/settings/licences.html','usage','admin','standard','mysqlHost','mem','Config\x20updated.','/vanilla-toast.js','Monitoring\x20file\x20cleaned.','/folders/update','birthtime','has','split_details.json','DwgMerge\x20Settings','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','.dwg','File\x20deleted.','cadviewer/settings/rest-api.html','autodetect_platform','Error\x20finding\x20log\x20files:','diskStorage','ServerLocation','conversionTimeSpend','/cache/flush','Server\x20Settings','Config\x20updated\x20successfully','cadviewer/settings/conversion-cache.html','total','params','who','/converters/files/','resolve','mimetype','1964816NkbqkM','files','Files\x20uploaded\x20successfully','ceil','/folders/download','.rl.json','Error\x20deleting\x20file.','slice','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','12NjAuNU','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','percentage','File\x20deleted\x20successfully','mysqlUsername','Error!\x20Something\x20went\x20wrong.','callbackMethod','avatar_url','W_OK','promise','mysqlPassword','SELECT\x20*\x20FROM\x20users','constants','unlinkSync','/logs/content','trim','clean','An\x20error\x20occurred\x20while\x20checking.','====================','avatar','rmdirSync'];a26_0x20c4=function(){return _0x1d0634;};return a26_0x20c4();}const deleteOldDemoUsers=async()=>{const _0xcf7028=a26_0x5afab1;console[_0xcf7028(0xcb)](_0xcf7028(0x17b));const _0x1a6437=config['demoUserRetentionDays'],_0xa8b173='SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)';try{const [_0x11b0b2]=await conn['promise']()[_0xcf7028(0x1bf)](_0xa8b173,[_0x1a6437]),_0x235691=_0x11b0b2['map'](_0x6c14aa=>_0x6c14aa[_0xcf7028(0x135)]),_0x15c186=_0x11b0b2['map'](_0x45e086=>_0x45e086[_0xcf7028(0xb4)]);console[_0xcf7028(0xcb)](_0x15c186),await conn[_0xcf7028(0xa3)]()[_0xcf7028(0x1bf)](_0xcf7028(0x10e),[_0x1a6437]),_0x235691[_0xcf7028(0x159)](_0x49c9ee=>{const _0x3c5768=_0xcf7028;try{const _0x12d38c=_0x3c5768(0x19a)+_0x49c9ee;fs[_0x3c5768(0xae)](_0x12d38c);}catch(_0x592e8e){console['error']('Error\x20deleting\x20user\x20folder:',_0x592e8e);}}),console[_0xcf7028(0xcb)](_0xcf7028(0x10f)+_0x11b0b2[_0xcf7028(0x1d4)]+_0xcf7028(0x139)+_0x1a6437+_0xcf7028(0xbe));}catch(_0x130173){console[_0xcf7028(0x151)]('Error\x20deleting\x20old\x20demo_user\x20accounts:',_0x130173);}};schedule['scheduleJob'](a26_0x5afab1(0xcc),deleteOldDemoUsers),module[a26_0x5afab1(0x117)]=router;