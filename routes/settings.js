const a27_0x1cc87c=a27_0x4a01;(function(_0x1b00f3,_0x466b76){const _0x5bf41d=a27_0x4a01,_0x283afa=_0x1b00f3();while(!![]){try{const _0x147c61=-parseInt(_0x5bf41d(0x337))/0x1*(parseInt(_0x5bf41d(0x241))/0x2)+parseInt(_0x5bf41d(0x21d))/0x3*(-parseInt(_0x5bf41d(0x27d))/0x4)+parseInt(_0x5bf41d(0x1ca))/0x5+parseInt(_0x5bf41d(0x2d0))/0x6+-parseInt(_0x5bf41d(0x32a))/0x7*(-parseInt(_0x5bf41d(0x35e))/0x8)+-parseInt(_0x5bf41d(0x23c))/0x9*(-parseInt(_0x5bf41d(0x24a))/0xa)+-parseInt(_0x5bf41d(0x267))/0xb;if(_0x147c61===_0x466b76)break;else _0x283afa['push'](_0x283afa['shift']());}catch(_0x11ea11){_0x283afa['push'](_0x283afa['shift']());}}}(a27_0x5c5c,0xdb67c));const express=require('express'),router=express[a27_0x1cc87c(0x2bf)](),multer=require('multer'),fs=require('fs'),path=require(a27_0x1cc87c(0x2ff)),getHotConfig=require(a27_0x1cc87c(0x2f0))[a27_0x1cc87c(0x21e)],{exec}=require(a27_0x1cc87c(0x2be)),os=require('os'),conn=require(a27_0x1cc87c(0x347)),bcrypt=require('bcrypt'),osu=require('node-os-utils'),schedule=require('node-schedule'),counter=require(a27_0x1cc87c(0x31d)),{randomUUID}=require('crypto'),logStream=require('../libs/log'),config=require(a27_0x1cc87c(0x297)),basicAuth=require(a27_0x1cc87c(0x354)),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require(a27_0x1cc87c(0x29a)),protectedRoute=basicAuth({'users':{[config[a27_0x1cc87c(0x30a)]]:config[a27_0x1cc87c(0x1f4)]},'challenge':!![],'realm':a27_0x1cc87c(0x35c)});router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x2a4),async(_0x7d3ff4,_0x28bf84)=>{const _0x1e73ce=a27_0x1cc87c;_0x28bf84[_0x1e73ce(0x310)](path[_0x1e73ce(0x2ee)](path['dirname'](require[_0x1e73ce(0x23f)][_0x1e73ce(0x36d)]),_0x1e73ce(0x2c7)));}),router['get'](a27_0x1cc87c(0x26c),async(_0x19e442,_0xa789d3)=>{const _0x40c1e5=a27_0x1cc87c;_0xa789d3[_0x40c1e5(0x310)](path['join'](path[_0x40c1e5(0x237)](require[_0x40c1e5(0x23f)]['filename']),_0x40c1e5(0x24f)));}),router[a27_0x1cc87c(0x2f9)]('/style.css',async(_0x4c2e5e,_0x32e82b)=>{const _0x14a702=a27_0x1cc87c;_0x32e82b[_0x14a702(0x310)](path['join'](path[_0x14a702(0x237)](require[_0x14a702(0x23f)][_0x14a702(0x36d)]),'cadviewer/settings/style.css'));}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x27c),async(_0x14976a,_0x46da48)=>{const _0x1c5297=a27_0x1cc87c;_0x46da48['sendFile'](path[_0x1c5297(0x2ee)](path[_0x1c5297(0x237)](require[_0x1c5297(0x23f)][_0x1c5297(0x36d)]),_0x1c5297(0x222)));}),router[a27_0x1cc87c(0x2f9)]('/vanilla-toast.js',async(_0x440a2a,_0x30ef07)=>{const _0x302b85=a27_0x1cc87c;_0x30ef07[_0x302b85(0x310)](path[_0x302b85(0x2ee)](path[_0x302b85(0x237)](require[_0x302b85(0x23f)][_0x302b85(0x36d)]),'cadviewer/settings/vanilla-toast.js'));}),router[a27_0x1cc87c(0x2f9)]('/icons.js',async(_0x18c48d,_0x54cc68)=>{const _0x397b35=a27_0x1cc87c;_0x54cc68[_0x397b35(0x310)](path['join'](path[_0x397b35(0x237)](require[_0x397b35(0x23f)]['filename']),'cadviewer/settings/icons.js'));}),router[a27_0x1cc87c(0x2f9)]('/',protectedRoute,async(_0x100c73,_0x44e844)=>{const _0x19ce9b=a27_0x1cc87c,_0x4bde69=fs[_0x19ce9b(0x275)](path['join'](path[_0x19ce9b(0x237)](require[_0x19ce9b(0x23f)][_0x19ce9b(0x36d)]),_0x19ce9b(0x2f8)),_0x19ce9b(0x327)),_0x32560d=_0x4bde69[_0x19ce9b(0x2c0)](_0x19ce9b(0x281),_0x100c73[_0x19ce9b(0x25a)]);_0x44e844['send'](_0x32560d);}),router['get'](a27_0x1cc87c(0x2dd),protectedRoute,async(_0x580390,_0x516310)=>{const _0x5e278b=a27_0x1cc87c,_0x18872a=fs[_0x5e278b(0x275)](path['join'](path['dirname'](require[_0x5e278b(0x23f)]['filename']),_0x5e278b(0x219)),'utf8'),_0x3dad47=_0x18872a['replaceAll'](_0x5e278b(0x281),_0x580390[_0x5e278b(0x25a)]);_0x516310['send'](_0x3dad47);}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x2d8),protectedRoute,async(_0x4b21a3,_0xc678ba)=>{const _0x21acc4=a27_0x1cc87c,_0x43a7b9=fs[_0x21acc4(0x275)](path[_0x21acc4(0x2ee)](path[_0x21acc4(0x237)](require[_0x21acc4(0x23f)][_0x21acc4(0x36d)]),'cadviewer/settings/config.html'),'utf8'),_0xccd281=_0x43a7b9[_0x21acc4(0x2c0)](_0x21acc4(0x281),_0x4b21a3[_0x21acc4(0x25a)]);_0xc678ba[_0x21acc4(0x1cb)](_0xccd281);}),router['get'](a27_0x1cc87c(0x2e5),protectedRoute,async(_0x234b94,_0x55d5af)=>{const _0x396152=a27_0x1cc87c,_0x46bbc4=fs[_0x396152(0x275)](path[_0x396152(0x2ee)](path[_0x396152(0x237)](require[_0x396152(0x23f)][_0x396152(0x36d)]),'cadviewer/settings/folders.html'),_0x396152(0x327)),_0x29ad53=_0x46bbc4[_0x396152(0x2c0)](_0x396152(0x281),_0x234b94[_0x396152(0x25a)]);_0x55d5af['send'](_0x29ad53);}),router[a27_0x1cc87c(0x1df)]('/folders',async(_0x150ef8,_0x92d25e)=>{const _0x4c7b01=a27_0x1cc87c,_0x45d977=path[_0x4c7b01(0x2ee)](path[_0x4c7b01(0x237)](require['main'][_0x4c7b01(0x36d)]),_0x4c7b01(0x280)),_0x4f8d0b=JSON['parse'](fs['readFileSync'](_0x45d977,'utf8')),_0x276599=_0x4f8d0b[_0x4c7b01(0x33b)];if(!fs['existsSync'](_0x276599))return _0x92d25e[_0x4c7b01(0x320)](0x194)[_0x4c7b01(0x36b)]({'message':_0x4c7b01(0x2d2)});const _0x2110ff=_0x517d47=>{const _0x579079=_0x4c7b01;let _0x48191c=0x0;return _0x517d47[_0x579079(0x339)](_0x186abf=>{const _0x20e010=_0x579079;_0x186abf['isFolder']?_0x48191c+=_0x2110ff(_0x186abf[_0x20e010(0x256)]):_0x48191c+=_0x186abf[_0x20e010(0x2c1)];}),_0x48191c;},_0x26bb69=_0x334218=>{const _0x3597fc=_0x4c7b01;if(_0x334218<0x400)return _0x334218+'\x20B';else{if(_0x334218<0x400*0x400)return(_0x334218/0x400)[_0x3597fc(0x1c9)](0x2)+_0x3597fc(0x371);else return _0x334218<0x400*0x400*0x400?(_0x334218/0x400/0x400)[_0x3597fc(0x1c9)](0x2)+'\x20MB':(_0x334218/0x400/0x400/0x400)[_0x3597fc(0x1c9)](0x2)+_0x3597fc(0x216);}},_0x2e37ae=(_0x275a99,_0x597519='')=>{const _0x5df4b4=_0x4c7b01,_0x5a81e4=fs[_0x5df4b4(0x2e9)](_0x275a99),_0x47c763=[];return _0x5a81e4[_0x5df4b4(0x339)](_0x50c7c3=>{const _0x4fe3e4=_0x5df4b4,_0x1acfd1=path[_0x4fe3e4(0x2ee)](_0x275a99,_0x50c7c3)['replaceAll']('\x5c','/'),_0x24edc7=fs[_0x4fe3e4(0x27b)](_0x1acfd1);if(_0x24edc7[_0x4fe3e4(0x346)]()){const _0x35e54b=_0x2e37ae(_0x1acfd1,_0x597519+_0x4fe3e4(0x26e));_0x47c763[_0x4fe3e4(0x338)]({'name':_0x50c7c3,'size':_0x24edc7['size'],'path':_0x1acfd1,'permissions':_0x24edc7[_0x4fe3e4(0x333)],'isFolder':!![],'sub_dirs':_0x35e54b});}else _0x47c763[_0x4fe3e4(0x338)]({'name':_0x50c7c3,'size':_0x24edc7['size'],'path':_0x1acfd1,'permissions':_0x24edc7['mode'],'isFolder':![]});}),_0x47c763;};let _0x5e314f=_0x2e37ae(_0x276599);const _0x49dfd5=_0xb15226=>{return _0xb15226['forEach'](_0x457174=>{const _0x2dc7e7=a27_0x4a01;_0x457174[_0x2dc7e7(0x324)]?(_0x457174[_0x2dc7e7(0x240)]=_0x26bb69(_0x2110ff(_0x457174[_0x2dc7e7(0x256)])),_0x457174[_0x2dc7e7(0x256)]=_0x49dfd5(_0x457174['sub_dirs'])):_0x457174[_0x2dc7e7(0x240)]=_0x26bb69(_0x457174[_0x2dc7e7(0x2c1)]);}),_0xb15226;};_0x92d25e[_0x4c7b01(0x320)](0xc8)[_0x4c7b01(0x36b)](_0x49dfd5(_0x5e314f));}),router[a27_0x1cc87c(0x1df)](a27_0x1cc87c(0x26d),async(_0x5da1b9,_0x4549f9)=>{const _0x376d81=a27_0x1cc87c,{path:_0x2b98c8}=_0x5da1b9[_0x376d81(0x2fa)],_0x3f9b50=_0x2b98c8[_0x376d81(0x238)]('/')[_0x376d81(0x321)]();if(!fs[_0x376d81(0x234)](_0x2b98c8))return _0x4549f9[_0x376d81(0x320)](0x194)[_0x376d81(0x36b)]({'message':'File\x20not\x20found'});_0x4549f9[_0x376d81(0x210)](_0x376d81(0x311),'application/octet-stream'),_0x4549f9[_0x376d81(0x210)](_0x376d81(0x323),_0x376d81(0x21a)+_0x3f9b50+'\x22'),_0x4549f9[_0x376d81(0x2e3)](_0x2b98c8,_0x1988cc=>{const _0x9f31e0=_0x376d81;_0x1988cc&&_0x4549f9[_0x9f31e0(0x320)](0x1f4)[_0x9f31e0(0x36b)]({'message':_0x9f31e0(0x34b)});});}),router['post']('/folders/create',async(_0x559459,_0x4a9e3b)=>{const _0x45bca4=a27_0x1cc87c,_0x7262ba=_0x559459[_0x45bca4(0x2fa)],_0x2006f1=getHotConfig()[_0x45bca4(0x33b)],_0x102b7b=path[_0x45bca4(0x2ee)](_0x2006f1,_0x7262ba[_0x45bca4(0x2ff)]);if(!fs[_0x45bca4(0x234)](_0x102b7b))return _0x4a9e3b['status'](0x194)['json']({'message':'Folder\x20not\x20found.'});if(fs[_0x45bca4(0x234)](path[_0x45bca4(0x2ee)](_0x102b7b,_0x7262ba[_0x45bca4(0x360)])))return _0x4a9e3b[_0x45bca4(0x320)](0x199)['json']({'message':'Folder\x20already\x20exists.'});fs[_0x45bca4(0x231)](path[_0x45bca4(0x2ee)](_0x102b7b,_0x7262ba[_0x45bca4(0x360)]),_0x5cb9af=>{const _0x359056=_0x45bca4;_0x5cb9af&&_0x4a9e3b[_0x359056(0x320)](0x1f4)['json']({'message':_0x359056(0x277)}),_0x4a9e3b[_0x359056(0x320)](0xc8)[_0x359056(0x36b)]({'message':_0x359056(0x2d9)});});}),router[a27_0x1cc87c(0x1d9)]('/folders/update',async(_0x34abe8,_0x487af8)=>{const _0x1c07e1=a27_0x1cc87c,{newName:_0x160bc3,isFolder:_0x57b89a,path:_0x4798be}=_0x34abe8[_0x1c07e1(0x2fa)];if(!fs[_0x1c07e1(0x234)](_0x4798be))return _0x487af8[_0x1c07e1(0x320)](0x194)[_0x1c07e1(0x36b)]({'message':_0x57b89a?'Folder\x20not\x20found':_0x1c07e1(0x2ae)});const _0x33e19e=_0x4798be['replace'](_0x4798be[_0x1c07e1(0x238)]('/')[_0x1c07e1(0x321)](),_0x160bc3),_0x163abb=fs['statSync'](_0x4798be);_0x163abb[_0x1c07e1(0x346)]()?fs[_0x1c07e1(0x2fe)](_0x4798be,_0x33e19e):(fs['copyFileSync'](_0x4798be,_0x33e19e),fs['unlinkSync'](_0x4798be)),_0x487af8[_0x1c07e1(0x320)](0xc8)[_0x1c07e1(0x36b)]({'message':_0x57b89a?_0x1c07e1(0x334):_0x1c07e1(0x33a)});}),router[a27_0x1cc87c(0x2e2)](a27_0x1cc87c(0x272),async(_0x5788a5,_0x3cbaff)=>{const _0x3731bd=a27_0x1cc87c,{path:_0x4989f2}=_0x5788a5[_0x3731bd(0x2fa)];if(!fs[_0x3731bd(0x234)](_0x4989f2))return _0x3cbaff[_0x3731bd(0x320)](0x194)[_0x3731bd(0x36b)]({'message':'File\x20or\x20Folder\x20not\x20found'});const _0x2b3f91=fs[_0x3731bd(0x27b)](_0x4989f2);if(_0x2b3f91[_0x3731bd(0x236)]())fs[_0x3731bd(0x2c3)](_0x4989f2,_0x289b46=>{const _0x5b3b6f=_0x3731bd;_0x289b46&&_0x3cbaff['status'](0x1f4)[_0x5b3b6f(0x36b)]({'message':_0x5b3b6f(0x315)}),_0x3cbaff[_0x5b3b6f(0x320)](0xc8)[_0x5b3b6f(0x36b)]({'message':_0x5b3b6f(0x33c)});});else _0x2b3f91[_0x3731bd(0x346)]()&&fs[_0x3731bd(0x207)](_0x4989f2,{'recursive':!![]},_0x330918=>{const _0x24b5f3=_0x3731bd;_0x330918&&_0x3cbaff['status'](0x1f4)[_0x24b5f3(0x36b)]({'message':'Error\x20deleting\x20folder.'}),_0x3cbaff['status'](0xc8)[_0x24b5f3(0x36b)]({'message':'Folder\x20deleted.'});});});!fs[a27_0x1cc87c(0x234)](a27_0x1cc87c(0x20d))&&fs[a27_0x1cc87c(0x2fd)]('./tmp');const storage=multer[a27_0x1cc87c(0x30f)]({'destination':(_0x17bd8b,_0x812524,_0x381d49)=>{_0x381d49(null,'tmp');},'filename':(_0x4fc240,_0x108567,_0x4f724a)=>{const _0x110958=a27_0x1cc87c;_0x4f724a(null,Date[_0x110958(0x322)]()+path[_0x110958(0x29e)](_0x108567['originalname']));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a27_0x1cc87c(0x1df)](a27_0x1cc87c(0x2b1),upload[a27_0x1cc87c(0x2db)](a27_0x1cc87c(0x1f7)),async(_0xe1e2ed,_0x576122)=>{const _0x7c3a6a=a27_0x1cc87c,_0x5cb809=_0xe1e2ed[_0x7c3a6a(0x2fa)];if(!_0xe1e2ed[_0x7c3a6a(0x1f7)]||_0xe1e2ed[_0x7c3a6a(0x1f7)][_0x7c3a6a(0x1da)]===0x0)return _0x576122[_0x7c3a6a(0x320)](0x190)['json']({'message':'No\x20files\x20uploaded'});const _0x9f6ab3=getHotConfig()[_0x7c3a6a(0x33b)],_0x2adfce=path[_0x7c3a6a(0x2ee)](_0x9f6ab3,_0x5cb809[_0x7c3a6a(0x2ff)]);if(!fs['existsSync'](_0x2adfce))return _0x576122[_0x7c3a6a(0x320)](0x194)[_0x7c3a6a(0x36b)]({'message':'Folder\x20not\x20found.'});const _0x267a2f=_0xe1e2ed[_0x7c3a6a(0x1f7)]['map'](_0x100362=>({'originalname':_0x100362['originalname'],'filename':_0x100362['filename'],'mimetype':_0x100362['mimetype'],'size':_0x100362[_0x7c3a6a(0x2c1)]}));_0x267a2f[_0x7c3a6a(0x339)](_0xcdfb7e=>{const _0x13b865=_0x7c3a6a;fs['copyFileSync'](path[_0x13b865(0x2ee)](_0x13b865(0x282),_0xcdfb7e[_0x13b865(0x36d)]),path[_0x13b865(0x2ee)](_0x2adfce,_0xcdfb7e[_0x13b865(0x24d)])),fs[_0x13b865(0x318)](path[_0x13b865(0x2ee)](_0x13b865(0x282),_0xcdfb7e['filename']));}),_0x576122[_0x7c3a6a(0x320)](0xc8)[_0x7c3a6a(0x36b)]({'message':'Files\x20uploaded\x20successfully','files':_0x267a2f});}),router[a27_0x1cc87c(0x1d9)](a27_0x1cc87c(0x2d5),async(_0x14d219,_0x3dd98a)=>{const _0x3305f0=a27_0x1cc87c,_0x38402a=path[_0x3305f0(0x2ee)](path['dirname'](require['main']['filename']),_0x3305f0(0x280)),{config:_0x1a9c83}=_0x14d219['body'];if(!_0x1a9c83)return _0x3dd98a['status'](0x190)['json']({'message':_0x3305f0(0x1dd)});try{fs['writeFileSync'](_0x38402a,JSON[_0x3305f0(0x1ee)](_0x1a9c83,null,0x4)),_0x3dd98a['status'](0xc8)[_0x3305f0(0x36b)]({'message':_0x3305f0(0x2ac)});}catch(_0x55b2f5){_0x3dd98a[_0x3305f0(0x320)](0x1f4)['json']({'message':_0x3305f0(0x22b)});}}),router[a27_0x1cc87c(0x1d9)](a27_0x1cc87c(0x2bb),async(_0x256d36,_0xd0e49)=>{const _0x3630a7=a27_0x1cc87c,{key:_0x152a6b,value:_0x44cda8}=_0x256d36[_0x3630a7(0x2fa)],_0xc4bf2=path[_0x3630a7(0x2ee)](path[_0x3630a7(0x237)](require[_0x3630a7(0x23f)][_0x3630a7(0x36d)]),_0x3630a7(0x280));fs[_0x3630a7(0x2ed)](_0xc4bf2,_0x3630a7(0x327),function(_0x4894d2,_0x30cda8){const _0x15b636=_0x3630a7;_0x4894d2&&_0xd0e49[_0x15b636(0x320)](0x1f4)[_0x15b636(0x1cb)](_0x4894d2);const _0x4b18d7=JSON[_0x15b636(0x266)](_0x30cda8);_0x4b18d7[_0x152a6b]=_0x44cda8;if(_0x152a6b===_0x15b636(0x28a)){let _0x1abdc7='';if(_0x4b18d7['autodetect_platform']){_0x1abdc7=os[_0x15b636(0x335)]();if(_0x1abdc7===_0x15b636(0x31a))_0x1abdc7=_0x15b636(0x35a);else{if(_0x1abdc7==='darwin')_0x1abdc7=_0x15b636(0x2f5);}}else _0x1abdc7=_0x4b18d7[_0x15b636(0x335)];if(_0x1abdc7===_0x15b636(0x35a)){_0x4b18d7[_0x15b636(0x308)]=path['resolve'](__dirname,'..')+'/';const _0x5b3dbb=/\\/g;_0x4b18d7[_0x15b636(0x308)]=_0x4b18d7[_0x15b636(0x308)][_0x15b636(0x25c)](_0x5b3dbb,'/');}else _0x4b18d7[_0x15b636(0x308)]=path[_0x15b636(0x217)](__dirname,'..')+'/';}if(_0x152a6b==='autodetect_platform'){let _0x28f916=os[_0x15b636(0x335)]();if(_0x28f916===_0x15b636(0x31a))_0x28f916='windows';else _0x28f916=_0x15b636(0x2f5);_0x28f916===_0x15b636(0x35a)?_0x44cda8===!![]&&(_0x4b18d7[_0x15b636(0x1f5)]=_0x4b18d7[_0x15b636(0x26a)],_0x4b18d7['dwgmerge_executable']=_0x4b18d7[_0x15b636(0x34a)],_0x4b18d7[_0x15b636(0x348)]=_0x4b18d7['linklist_executable_windows']):_0x44cda8===!![]&&(_0x4b18d7[_0x15b636(0x1f5)]=_0x4b18d7[_0x15b636(0x2af)],_0x4b18d7[_0x15b636(0x1d1)]=_0x4b18d7['dwgmerge_executable_linux'],_0x4b18d7['linklist_executable']=_0x4b18d7[_0x15b636(0x28d)]),_0x4b18d7['platform']=_0x28f916;}if(_0x4b18d7[_0x15b636(0x28f)]){let _0x54e0ae=os[_0x15b636(0x335)]();if(_0x54e0ae===_0x15b636(0x31a))_0x54e0ae=_0x15b636(0x35a);else _0x54e0ae=_0x15b636(0x2f5);if(_0x54e0ae==='windows'){if(_0x152a6b==='autoxchange_executable_windows')_0x4b18d7['autoxchange_executable']=_0x44cda8;else{if(_0x152a6b==='dwgmerge_executable_windows')_0x4b18d7[_0x15b636(0x1d1)]=_0x44cda8;else _0x152a6b===_0x15b636(0x2d6)&&(_0x4b18d7[_0x15b636(0x348)]=_0x44cda8);}}else{if(_0x152a6b===_0x15b636(0x2af))_0x4b18d7[_0x15b636(0x1f5)]=_0x44cda8;else{if(_0x152a6b===_0x15b636(0x340))_0x4b18d7[_0x15b636(0x1d1)]=_0x44cda8;else _0x152a6b==='linklist_executable_linux'&&(_0x4b18d7['linklist_executable']=_0x44cda8);}}}fs[_0x15b636(0x23e)](_0xc4bf2,JSON[_0x15b636(0x1ee)](_0x4b18d7,null,0x4),function(_0x36e1e9){const _0x1c33c4=_0x15b636;_0x36e1e9&&_0xd0e49['status'](0x1f4)[_0x1c33c4(0x1cb)](_0x36e1e9),_0xd0e49[_0x1c33c4(0x320)](0xc8)['json']({'message':_0x1c33c4(0x314)});});});}),router['post'](a27_0x1cc87c(0x228),async(_0x34a84f,_0x2b0988)=>{const _0x3e7c3b=a27_0x1cc87c,_0x48597a=getHotConfig(),_0x40d23d=(_0x48597a[_0x3e7c3b(0x20b)][_0x3e7c3b(0x366)](_0x48597a[_0x3e7c3b(0x308)])?'':_0x48597a[_0x3e7c3b(0x308)])+_0x48597a['dwgmergeLocation'],_0x2ddd21=(_0x48597a[_0x3e7c3b(0x20b)][_0x3e7c3b(0x366)](_0x48597a[_0x3e7c3b(0x308)])?'':_0x48597a['ServerLocation'])+_0x48597a[_0x3e7c3b(0x290)],_0x4a51bd=(_0x48597a[_0x3e7c3b(0x326)][_0x3e7c3b(0x366)](_0x48597a[_0x3e7c3b(0x308)])?'':_0x48597a['ServerLocation'])+_0x48597a[_0x3e7c3b(0x326)],_0x2d0d80=/ax202.*\.exe/,_0x5479c8=/ax202.*/,_0x590f00=/dwgmerge202.*\.exe/,_0x502550=/dwgmerge_202.*/,_0x14c2e5=/linklist_202.*\.exe/,_0x583c6f=/linklist_202.*/,_0x23f7c4=[],_0x44ab9a=[],_0x181453=[],_0x4068c3=[],_0x27e888=[],_0x4ef443=[];let _0x1d015d='';if(_0x48597a[_0x3e7c3b(0x28f)]){_0x1d015d=os[_0x3e7c3b(0x335)]();if(_0x1d015d===_0x3e7c3b(0x31a))_0x1d015d='windows';else{if(_0x1d015d===_0x3e7c3b(0x35d))_0x1d015d='linux';}}else _0x1d015d=_0x48597a['platform'];fs[_0x3e7c3b(0x2e9)](_0x4a51bd[_0x3e7c3b(0x2c0)]('linux',_0x3e7c3b(0x35a)))['forEach'](_0x4907e9=>{const _0x552c44=_0x3e7c3b;if(_0x2d0d80[_0x552c44(0x1de)](_0x4907e9[_0x552c44(0x358)]()))_0x23f7c4['push'](_0x4907e9);}),fs[_0x3e7c3b(0x2e9)](_0x40d23d[_0x3e7c3b(0x2c0)](_0x3e7c3b(0x2f5),'windows'))[_0x3e7c3b(0x339)](_0x2a0ee7=>{const _0x83a5d8=_0x3e7c3b;if(_0x590f00['test'](_0x2a0ee7[_0x83a5d8(0x358)]()))_0x44ab9a[_0x83a5d8(0x338)](_0x2a0ee7);}),fs['readdirSync'](_0x2ddd21[_0x3e7c3b(0x2c0)](_0x3e7c3b(0x2f5),_0x3e7c3b(0x35a)))[_0x3e7c3b(0x339)](_0x852f64=>{const _0x219276=_0x3e7c3b;if(_0x14c2e5[_0x219276(0x1de)](_0x852f64[_0x219276(0x358)]()))_0x181453[_0x219276(0x338)](_0x852f64);}),fs['readdirSync'](_0x4a51bd[_0x3e7c3b(0x2c0)](_0x3e7c3b(0x35a),_0x3e7c3b(0x2f5)))['forEach'](_0x1588e2=>{const _0xfae995=_0x3e7c3b;if(_0x5479c8[_0xfae995(0x1de)](_0x1588e2[_0xfae995(0x358)]()))_0x4068c3['push'](_0x1588e2);}),fs['readdirSync'](_0x40d23d[_0x3e7c3b(0x2c0)](_0x3e7c3b(0x35a),_0x3e7c3b(0x2f5)))[_0x3e7c3b(0x339)](_0x1252e5=>{const _0x23d157=_0x3e7c3b;if(_0x502550[_0x23d157(0x1de)](_0x1252e5[_0x23d157(0x358)]()))_0x27e888[_0x23d157(0x338)](_0x1252e5);}),fs[_0x3e7c3b(0x2e9)](_0x2ddd21[_0x3e7c3b(0x2c0)]('windows',_0x3e7c3b(0x2f5)))[_0x3e7c3b(0x339)](_0xf3da3e=>{const _0x2b0124=_0x3e7c3b;if(_0x583c6f[_0x2b0124(0x1de)](_0xf3da3e['toLocaleLowerCase']()))_0x4ef443[_0x2b0124(0x338)](_0xf3da3e);});const _0x542b4b=[_0x3e7c3b(0x36f),_0x3e7c3b(0x25d),_0x3e7c3b(0x27f),_0x3e7c3b(0x2b3),_0x3e7c3b(0x331)],_0x14c3c9=[_0x3e7c3b(0x31c),_0x3e7c3b(0x1e0),_0x3e7c3b(0x326),_0x3e7c3b(0x301),_0x3e7c3b(0x284),'temp_print_folder','callbackMethod',_0x3e7c3b(0x20b),_0x3e7c3b(0x290),_0x3e7c3b(0x25a)],_0x431708=[_0x3e7c3b(0x1ef),'mysqlHost',_0x3e7c3b(0x2d4),_0x3e7c3b(0x244),_0x3e7c3b(0x34e),'cached_conversion','cvjs_svgz_compress'],_0x266584={'ServerUrl':_0x3e7c3b(0x1eb),'autoxchange_executable':_0x3e7c3b(0x29c),'linklist_executable':_0x3e7c3b(0x2d1),'dwgmerge_executable':_0x3e7c3b(0x1d4),'setup_mysqlHost':'Database\x20Settings','callbackMethod_gatewayUrl_flag':_0x3e7c3b(0x2a9),'userFolderMaximumFiles':_0x3e7c3b(0x2f7),'smtpHost':_0x3e7c3b(0x274)},_0x45a445={'https':_0x3e7c3b(0x2d3),'ServerFrontEndUrlAsAllowedOriginOnly':_0x3e7c3b(0x2d3),'autodetect_platform':_0x3e7c3b(0x2d3),'cvjs_svgz_compress':'boolean','cached_conversion':'boolean','remainOnServer':_0x3e7c3b(0x2d3),'cvjs_debug':_0x3e7c3b(0x2d3),'autodetect_location':_0x3e7c3b(0x2d3),'platform':_0x3e7c3b(0x1fd),'autoxchange_executable':_0x3e7c3b(0x291)+(_0x1d015d===_0x3e7c3b(0x35a)?_0x23f7c4[_0x3e7c3b(0x2ee)](','):_0x4068c3['join'](',')),'autoxchange_executable_windows':_0x3e7c3b(0x291)+_0x23f7c4[_0x3e7c3b(0x2ee)](','),'autoxchange_executable_linux':_0x3e7c3b(0x291)+_0x4068c3[_0x3e7c3b(0x2ee)](','),'dwgmerge_executable':'radio|'+(_0x1d015d===_0x3e7c3b(0x35a)?_0x44ab9a['join'](','):_0x27e888[_0x3e7c3b(0x2ee)](',')),'dwgmerge_executable_windows':_0x3e7c3b(0x291)+_0x44ab9a[_0x3e7c3b(0x2ee)](','),'dwgmerge_executable_linux':_0x3e7c3b(0x291)+_0x27e888[_0x3e7c3b(0x2ee)](','),'linklist_executable':_0x3e7c3b(0x291)+(_0x1d015d===_0x3e7c3b(0x35a)?_0x181453['join'](','):_0x4ef443[_0x3e7c3b(0x2ee)](',')),'linklist_executable_windows':_0x3e7c3b(0x291)+_0x181453[_0x3e7c3b(0x2ee)](','),'linklist_executable_linux':_0x3e7c3b(0x291)+_0x4ef443[_0x3e7c3b(0x2ee)](','),'callbackMethod_gatewayUrl_flag':_0x3e7c3b(0x2d3),'setup_mysqlHost':_0x3e7c3b(0x2d3),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x3e7c3b(0x2d3),'contentLocationCheck':'boolean','globalBearerAutentication':_0x3e7c3b(0x2d3),'bcryptSaltRounds':_0x3e7c3b(0x258),'userFolderMaximumFiles':_0x3e7c3b(0x258),'userFolderMaximumSizeInMB':'number','recaptchaEnabled':'boolean','usersExportFrequency':_0x3e7c3b(0x251),'enableEmailVerification':_0x3e7c3b(0x2d3),'demoUserRetentionDaysAlertBeforeDeletion':_0x3e7c3b(0x258),'demoUserRetentionDays':_0x3e7c3b(0x258)},_0x5868ce={},_0x52d589=Object[_0x3e7c3b(0x2da)](_0x48597a);_0x48597a[_0x3e7c3b(0x28f)]&&_0x542b4b[_0x3e7c3b(0x338)](_0x3e7c3b(0x335)),_0x48597a[_0x3e7c3b(0x28a)]&&(_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x308)),_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x1f5)),_0x14c3c9['push']('dwgmerge_executable'),_0x14c3c9['push'](_0x3e7c3b(0x348))),!_0x48597a['callbackMethod_gatewayUrl_flag']&&_0x14c3c9['push']('callbackMethod_gatewayUrl'),!_0x48597a[_0x3e7c3b(0x328)]&&(_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x2f3)),_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x2d4)),_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x244)),_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x34e))),!_0x48597a[_0x3e7c3b(0x268)]&&_0x14c3c9['push'](_0x3e7c3b(0x1dc)),!_0x48597a['fileLoad_PasswordAuthentication']&&(_0x14c3c9['push'](_0x3e7c3b(0x1cd)),_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x365))),!_0x48597a[_0x3e7c3b(0x303)]&&_0x14c3c9[_0x3e7c3b(0x338)](_0x3e7c3b(0x24c)),_0x52d589[_0x3e7c3b(0x339)](_0x1af0d9=>{const _0x371550=_0x3e7c3b;!_0x542b4b[_0x371550(0x366)](_0x1af0d9)&&(_0x5868ce[_0x1af0d9]=_0x48597a[_0x1af0d9]);}),_0x5868ce[_0x3e7c3b(0x1e0)]=''+_0x48597a[_0x3e7c3b(0x1ef)]+_0x48597a[_0x3e7c3b(0x31c)],_0x2b0988['status'](0xc8)[_0x3e7c3b(0x36b)]({'notEditableFields':_0x14c3c9,'customFieldTypes':_0x45a445,'notHotEditableFields':_0x431708,'config':_0x5868ce,'fieldsTitle':_0x266584,'configData':_0x48597a});}),router['get'](a27_0x1cc87c(0x1c8),protectedRoute,async(_0x13f9e7,_0x35993a)=>{const _0x542808=a27_0x1cc87c,_0x159af8=fs[_0x542808(0x275)](path[_0x542808(0x2ee)](path[_0x542808(0x237)](require[_0x542808(0x23f)][_0x542808(0x36d)]),_0x542808(0x296)),_0x542808(0x327)),_0x378058=_0x159af8[_0x542808(0x2c0)](_0x542808(0x281),_0x13f9e7[_0x542808(0x25a)]);_0x35993a[_0x542808(0x1cb)](_0x378058);});function findMatchingLogFiles(_0x816795,_0x26fb49=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x104a2b=a27_0x1cc87c;try{const _0x31cb7a=fs[_0x104a2b(0x2e9)](_0x816795);return _0x31cb7a[_0x104a2b(0x2bc)](_0x238bff=>_0x26fb49[_0x104a2b(0x1de)](_0x238bff))[_0x104a2b(0x373)](_0x2fea9a=>_0x2fea9a[_0x104a2b(0x2c0)](_0x104a2b(0x289),'')[_0x104a2b(0x2c0)](_0x104a2b(0x2ec),''));}catch(_0x58cbd7){return console[_0x104a2b(0x29f)](_0x104a2b(0x1f2),_0x58cbd7),[];}}router[a27_0x1cc87c(0x1df)](a27_0x1cc87c(0x20c),async(_0x3ce645,_0x513474)=>{const _0x1f4dc3=a27_0x1cc87c,_0x1bdbea=new Date(),_0x462dcd=_0x1bdbea[_0x1f4dc3(0x2ce)]()['toString']()[_0x1f4dc3(0x25e)](0x2,'0')+'_'+(_0x1bdbea['getMonth']()+0x1)['toString']()[_0x1f4dc3(0x25e)](0x2,'0')+'_'+_0x1bdbea['getFullYear'](),{displayDay:_0x159e00}=_0x3ce645[_0x1f4dc3(0x2fa)],_0x3106f1=path['join'](path[_0x1f4dc3(0x237)](require[_0x1f4dc3(0x23f)]['filename']),_0x1f4dc3(0x36a),_0x1f4dc3(0x289)+(_0x159e00??_0x462dcd)+_0x1f4dc3(0x2ec));fs[_0x1f4dc3(0x234)](_0x3106f1)?fs[_0x1f4dc3(0x2ed)](_0x3106f1,_0x1f4dc3(0x327),function(_0x3dec4e,_0x280769){const _0x456a98=_0x1f4dc3;_0x3dec4e&&_0x513474['status'](0x1f4)['send'](_0x3dec4e),_0x513474['status'](0xc8)[_0x456a98(0x36b)]({'content':_0x280769,'days':findMatchingLogFiles(path[_0x456a98(0x2ee)](path[_0x456a98(0x237)](require[_0x456a98(0x23f)]['filename']),'logs'))});}):_0x513474['status'](0xc8)[_0x1f4dc3(0x36b)]({'content':'','days':findMatchingLogFiles(path['join'](path[_0x1f4dc3(0x237)](require['main']['filename']),_0x1f4dc3(0x36a)))});}),router[a27_0x1cc87c(0x2e2)](a27_0x1cc87c(0x30e),async(_0x30ee74,_0x15b339)=>{const _0x3e3d97=a27_0x1cc87c,_0x5044b3=new Date(),_0x57d3be=_0x5044b3[_0x3e3d97(0x2ce)]()[_0x3e3d97(0x265)]()[_0x3e3d97(0x25e)](0x2,'0')+'_'+(_0x5044b3[_0x3e3d97(0x1e9)]()+0x1)[_0x3e3d97(0x265)]()[_0x3e3d97(0x25e)](0x2,'0')+'_'+_0x5044b3['getFullYear'](),_0x492f23=findMatchingLogFiles(path[_0x3e3d97(0x2ee)](path[_0x3e3d97(0x237)](require[_0x3e3d97(0x23f)][_0x3e3d97(0x36d)]),_0x3e3d97(0x36a)));_0x492f23[_0x3e3d97(0x339)](_0x51b4e3=>{const _0x2d7021=_0x3e3d97;if(_0x51b4e3!==_0x57d3be)fs['unlinkSync'](path[_0x2d7021(0x2ee)](path['dirname'](require[_0x2d7021(0x23f)][_0x2d7021(0x36d)]),'logs',_0x2d7021(0x289)+_0x51b4e3+_0x2d7021(0x2ec)));}),logStream['clean'](),_0x15b339[_0x3e3d97(0x320)](0xc8)[_0x3e3d97(0x36b)]({'message':_0x3e3d97(0x252)});}),router[a27_0x1cc87c(0x2f9)]('/restapi-test',protectedRoute,async(_0x1455f9,_0x3bd7e9)=>{const _0x4729d7=a27_0x1cc87c,_0x5cfe3c=path['join'](path[_0x4729d7(0x237)](require[_0x4729d7(0x23f)][_0x4729d7(0x36d)]),'cadviewer/settings/rest-api-parameters.json');if(!fs[_0x4729d7(0x234)](_0x5cfe3c)){const _0x3c281a={'jsonDataExtraction':{'standard':[{'paramName':_0x4729d7(0x36b),'paramValue':''},{'paramName':_0x4729d7(0x29d),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x4729d7(0x250),'paramValue':''},{'paramName':_0x4729d7(0x29b),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x4729d7(0x209)},{'paramName':_0x4729d7(0x250),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x4729d7(0x364)},{'paramName':_0x4729d7(0x250),'paramValue':''},{'paramName':_0x4729d7(0x29b),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs[_0x4729d7(0x325)](_0x5cfe3c,JSON[_0x4729d7(0x1ee)](_0x3c281a,null,0x4));}const _0x541229=fs[_0x4729d7(0x275)](path['join'](path[_0x4729d7(0x237)](require[_0x4729d7(0x23f)][_0x4729d7(0x36d)]),_0x4729d7(0x220)),_0x4729d7(0x327)),_0x30ca6c=_0x541229[_0x4729d7(0x2c0)]('{version}',_0x1455f9[_0x4729d7(0x25a)]);_0x3bd7e9[_0x4729d7(0x1cb)](_0x30ca6c);}),router[a27_0x1cc87c(0x1df)]('/restapi-test/parameters/search',async(_0x3fcd43,_0x3c077f)=>{const _0x3dcc21=a27_0x1cc87c,{actionName:_0x21ba99,contentLocation:_0x2052a5}=_0x3fcd43[_0x3dcc21(0x2fa)],_0x4edc3d=path['join'](path['dirname'](require[_0x3dcc21(0x23f)]['filename']),'cadviewer/settings/rest-api-parameters.json');fs[_0x3dcc21(0x2ed)](_0x4edc3d,'utf8',function(_0x364c18,_0x241d24){const _0x33d53b=_0x3dcc21;if(_0x364c18)_0x3c077f[_0x33d53b(0x320)](0xc8)[_0x33d53b(0x36b)]({'parameters':[]});else{const _0x1b5968=JSON['parse'](_0x241d24);if(_0x1b5968[_0x21ba99]&&_0x1b5968[_0x21ba99][_0x2052a5])_0x3c077f[_0x33d53b(0x320)](0xc8)[_0x33d53b(0x36b)]({'parameters':_0x1b5968[_0x21ba99][_0x2052a5]});else _0x1b5968[_0x21ba99]&&_0x1b5968[_0x21ba99][_0x33d53b(0x226)]?_0x3c077f[_0x33d53b(0x320)](0xc8)['json']({'parameters':_0x1b5968[_0x21ba99][_0x33d53b(0x226)]}):_0x3c077f[_0x33d53b(0x320)](0xc8)[_0x33d53b(0x36b)]({'parameters':[]});}});}),router[a27_0x1cc87c(0x1df)](a27_0x1cc87c(0x1e4),async(_0x2db5b2,_0x195976)=>{const _0x2c0a09=a27_0x1cc87c,{actionName:_0x140e04,contentLocation:_0x1d3aa3,parameters:_0x324ecb}=_0x2db5b2[_0x2c0a09(0x2fa)],_0x49421f=path[_0x2c0a09(0x2ee)](path['dirname'](require[_0x2c0a09(0x23f)]['filename']),'cadviewer/settings/rest-api-parameters.json');fs[_0x2c0a09(0x2ed)](_0x49421f,'utf8',function(_0x15eb57,_0x5d9bad){const _0x255144=_0x2c0a09;if(_0x15eb57)_0x195976[_0x255144(0x320)](0x199)[_0x255144(0x36b)]({'message':'Error\x20saving\x20parameters.'});else{const _0x35effe=JSON[_0x255144(0x266)](_0x5d9bad);!_0x35effe[_0x140e04]&&(_0x35effe[_0x140e04]={}),_0x35effe[_0x140e04][_0x1d3aa3]=_0x324ecb,fs[_0x255144(0x23e)](_0x49421f,JSON['stringify'](_0x35effe,null,0x4),function(_0x113edd){const _0x3e5e18=_0x255144;_0x113edd&&_0x195976[_0x3e5e18(0x320)](0x199)[_0x3e5e18(0x36b)]({'message':_0x3e5e18(0x305)}),_0x195976[_0x3e5e18(0x320)](0xc8)['json']({'message':'Parameters\x20saved.'});});}});}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x1d8),protectedRoute,async(_0x214f91,_0x3ab977)=>{const _0x3dec78=a27_0x1cc87c,_0x239900=fs[_0x3dec78(0x275)](path[_0x3dec78(0x2ee)](path[_0x3dec78(0x237)](require['main'][_0x3dec78(0x36d)]),_0x3dec78(0x30b)),_0x3dec78(0x327)),_0x2e9dc1=_0x239900[_0x3dec78(0x2c0)](_0x3dec78(0x281),_0x214f91[_0x3dec78(0x25a)]);_0x3ab977['send'](_0x2e9dc1);}),router['post'](a27_0x1cc87c(0x2b8),async(_0x718ab4,_0x2a8d2c)=>{const _0x3ebed4=a27_0x1cc87c,_0x18a5b0=getHotConfig(),_0x56cc15=_0x18a5b0[_0x3ebed4(0x326)][_0x3ebed4(0x2c0)]('//','/'),_0x8da0ff=_0x18a5b0['dwgmergeLocation']['replaceAll']('//','/'),_0x31a44a=_0x18a5b0['linklistLocation'][_0x3ebed4(0x2c0)]('//','/'),_0x217614=''+_0x56cc15+_0x18a5b0[_0x3ebed4(0x1f5)],_0x5e0f17=''+_0x8da0ff+_0x18a5b0[_0x3ebed4(0x1d1)],_0x1831be=''+_0x31a44a+_0x18a5b0[_0x3ebed4(0x348)],_0x55143d=[],_0x320c49=new Promise(_0x43a765=>{const _0x45e59c=_0x3ebed4;exec(os[_0x45e59c(0x335)]()==='win32'?_0x45e59c(0x2bd):'ls',_0x385549=>{const _0x4333e6=_0x45e59c;_0x385549?_0x55143d['push']({'title':_0x4333e6(0x2b2),'status':![],'priority':0x1}):_0x55143d['push']({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':!![],'priority':0x1}),_0x43a765();});}),_0x566aee=new Promise(_0x5f39f0=>{const _0x544d64=_0x3ebed4;fs[_0x544d64(0x2a7)](_0x217614,fs[_0x544d64(0x367)][_0x544d64(0x28e)],_0x366ee8=>{const _0x272a74=_0x544d64;_0x366ee8?_0x55143d[_0x272a74(0x338)]({'title':_0x272a74(0x1d7)+_0x18a5b0[_0x272a74(0x1f5)]+_0x272a74(0x263),'status':![],'priority':0x2}):_0x55143d[_0x272a74(0x338)]({'title':_0x272a74(0x1d7)+_0x18a5b0[_0x272a74(0x1f5)]+'\x22\x20executable','status':!![],'priority':0x2}),_0x5f39f0();});}),_0x3d9a6c=new Promise(_0x49c30b=>{const _0x27f26b=_0x3ebed4;fs[_0x27f26b(0x2a7)](_0x5e0f17,fs[_0x27f26b(0x367)]['X_OK'],_0x2aa722=>{const _0x1647d7=_0x27f26b;_0x2aa722?_0x55143d[_0x1647d7(0x338)]({'title':_0x1647d7(0x1d7)+_0x18a5b0[_0x1647d7(0x1d1)]+_0x1647d7(0x263),'status':![],'priority':0x3}):_0x55143d[_0x1647d7(0x338)]({'title':_0x1647d7(0x1d7)+_0x18a5b0[_0x1647d7(0x1d1)]+_0x1647d7(0x263),'status':!![],'priority':0x3}),_0x49c30b();});}),_0x23fc0b=new Promise(_0x41968c=>{const _0x33e805=_0x3ebed4;fs['access'](_0x1831be,fs[_0x33e805(0x367)][_0x33e805(0x28e)],_0x2e8cb9=>{const _0x524f40=_0x33e805;_0x2e8cb9?_0x55143d[_0x524f40(0x338)]({'title':_0x524f40(0x1d7)+_0x18a5b0[_0x524f40(0x348)]+_0x524f40(0x263),'status':![],'priority':0x4}):_0x55143d[_0x524f40(0x338)]({'title':_0x524f40(0x1d7)+_0x18a5b0[_0x524f40(0x348)]+_0x524f40(0x263),'status':!![],'priority':0x4}),_0x41968c();});}),_0x338641=new Promise(_0x5f00ee=>{const _0x78f202=_0x3ebed4,_0x57921f=new Date(),_0x3673c7=_0x57921f[_0x78f202(0x2ce)]()[_0x78f202(0x265)]()[_0x78f202(0x25e)](0x2,'0')+'_'+(_0x57921f[_0x78f202(0x1e9)]()+0x1)[_0x78f202(0x265)]()[_0x78f202(0x25e)](0x2,'0')+'_'+_0x57921f['getFullYear'](),{displayDay:_0x5a3005}=_0x718ab4[_0x78f202(0x2fa)];fs[_0x78f202(0x2a7)](path[_0x78f202(0x2ee)](path['dirname'](require[_0x78f202(0x23f)][_0x78f202(0x36d)]),_0x78f202(0x36a),_0x78f202(0x289)+(_0x5a3005??_0x3673c7)+_0x78f202(0x2ec)),fs[_0x78f202(0x367)][_0x78f202(0x23d)],_0xc86e9c=>{const _0x96b7d1=_0x78f202;_0xc86e9c?_0x55143d[_0x96b7d1(0x338)]({'title':_0x96b7d1(0x292)+(_0x5a3005??_0x3673c7)+_0x96b7d1(0x307),'status':![],'priority':0x5}):_0x55143d['push']({'title':_0x96b7d1(0x292)+(_0x5a3005??_0x3673c7)+_0x96b7d1(0x307),'status':!![],'priority':0x5}),_0x5f00ee();});}),_0x40e735=(_0x4fca9c,_0x103f13)=>{const _0x39d288=_0x3ebed4,_0x20a3b3=path['join'](path[_0x39d288(0x237)](require[_0x39d288(0x23f)][_0x39d288(0x36d)]),_0x4fca9c);return new Promise(_0x1ea92c=>{const _0xb1ed5c=_0x39d288;fs['access'](path[_0xb1ed5c(0x2ee)](path[_0xb1ed5c(0x237)](_0x20a3b3)),fs['constants'][_0xb1ed5c(0x1f0)]|fs[_0xb1ed5c(0x367)][_0xb1ed5c(0x23d)],_0x1b3df2=>{const _0x1b41a1=_0xb1ed5c;_0x1b3df2?_0x55143d[_0x1b41a1(0x338)]({'title':_0x1b41a1(0x248)+_0x4fca9c,'status':![],'priority':_0x103f13+0x6}):_0x55143d[_0x1b41a1(0x338)]({'title':_0x1b41a1(0x248)+_0x4fca9c,'status':!![],'priority':_0x103f13+0x6}),_0x1ea92c();});});},_0x1121c9=[_0x3ebed4(0x239),'/converters/autoxchange/linux/',_0x3ebed4(0x245),_0x3ebed4(0x254),_0x3ebed4(0x212),_0x3ebed4(0x25f),_0x3ebed4(0x23a)],_0x5cf8a9=_0x1121c9[_0x3ebed4(0x373)](_0x40e735);Promise[_0x3ebed4(0x349)]([_0x320c49,_0x566aee,_0x3d9a6c,_0x23fc0b,_0x338641,..._0x5cf8a9])[_0x3ebed4(0x316)](()=>{const _0x4f771c=_0x3ebed4;_0x2a8d2c[_0x4f771c(0x320)](0xc8)[_0x4f771c(0x36b)]({'checking_list':_0x55143d});})[_0x3ebed4(0x271)](()=>{const _0x57d646=_0x3ebed4;_0x2a8d2c[_0x57d646(0x320)](0x1f4)['json']({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x344),protectedRoute,async(_0x1a1297,_0x12219a)=>{const _0x466a1b=a27_0x1cc87c,_0x3bc42f=fs[_0x466a1b(0x275)](path['join'](path['dirname'](require['main'][_0x466a1b(0x36d)]),_0x466a1b(0x2a3)),_0x466a1b(0x327)),_0x4c64d3=_0x3bc42f[_0x466a1b(0x2c0)]('{version}',_0x1a1297[_0x466a1b(0x25a)]);_0x12219a[_0x466a1b(0x1cb)](_0x4c64d3);}),router['post'](a27_0x1cc87c(0x287),async(_0x567d24,_0x149d2a)=>{const _0x4c88dd=a27_0x1cc87c;let _0x1841d7;try{const [_0x5e20b2]=await conn[_0x4c88dd(0x27e)]()[_0x4c88dd(0x294)](_0x4c88dd(0x270),[]);_0x1841d7=_0x5e20b2;}catch(_0x34af6c){console[_0x4c88dd(0x1d6)](_0x34af6c),_0x149d2a['status'](0x1f4)['json']({'error':_0x4c88dd(0x202)});return;}_0x149d2a[_0x4c88dd(0x320)](0xc8)['json']({'success':!![],'data':_0x1841d7});}),router[a27_0x1cc87c(0x1df)](a27_0x1cc87c(0x344),upload[a27_0x1cc87c(0x362)](a27_0x1cc87c(0x221)),async(_0x1ca2a0,_0x36453d)=>{const _0x12d1f7=a27_0x1cc87c,{id:_0x25a6bb,first_name:_0x1205a8,last_name:_0x537b36,username:_0x552bfd,email:_0x1cde91,password:_0x5291b3,is_enabled:_0xe33208}=_0x1ca2a0[_0x12d1f7(0x2fa)],_0x3b38a9=_0x1ca2a0['body'][_0x12d1f7(0x357)]===_0x12d1f7(0x34d)?'admin':_0x1ca2a0[_0x12d1f7(0x2fa)][_0x12d1f7(0x357)]===_0x12d1f7(0x208)?'demo_user':_0x12d1f7(0x32d);let _0x630109;console['log'](_0x12d1f7(0x1cf));_0x5291b3&&(_0x630109=await bcrypt[_0x12d1f7(0x2c9)](_0x5291b3,0xa));let _0x3f4d1d=null;if(_0x1ca2a0['file']){const _0x94ef4b='avatars/'+randomUUID()+'.png';fs[_0x12d1f7(0x2ef)](_0x1ca2a0[_0x12d1f7(0x22c)][_0x12d1f7(0x2ff)],'./'+_0x94ef4b),fs['unlinkSync'](_0x1ca2a0[_0x12d1f7(0x22c)][_0x12d1f7(0x2ff)]),config[_0x12d1f7(0x34f)]?_0x3f4d1d=config[_0x12d1f7(0x32c)]+'/'+_0x94ef4b:_0x3f4d1d=config['ServerUrl']+'/'+_0x94ef4b;}if(_0x25a6bb){try{let [_0x3fc743]=await conn[_0x12d1f7(0x27e)]()['execute'](_0x12d1f7(0x31e),[_0x1cde91,_0x552bfd,_0x25a6bb]);if(_0x3fc743[_0x12d1f7(0x1da)]>0x0)_0x36453d[_0x12d1f7(0x320)](0x199)[_0x12d1f7(0x36b)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{!_0x1ca2a0[_0x12d1f7(0x22c)]&&([_0x3fc743]=await conn[_0x12d1f7(0x27e)]()[_0x12d1f7(0x294)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x25a6bb]),_0x3f4d1d=_0x3fc743[0x0][_0x12d1f7(0x1f9)]);const _0x14ce5e=_0x12d1f7(0x1ea)+(_0x5291b3?_0x12d1f7(0x341):'')+_0x12d1f7(0x253);await conn['promise']()[_0x12d1f7(0x294)](_0x14ce5e,_0x5291b3?[_0x3f4d1d,_0x1205a8,_0x537b36,_0x552bfd,_0x1cde91,_0x630109,_0xe33208,_0x3b38a9,_0x25a6bb]:[_0x3f4d1d,_0x1205a8,_0x537b36,_0x552bfd,_0x1cde91,_0xe33208,_0x3b38a9,_0x25a6bb]);}}catch(_0x49a24f){console[_0x12d1f7(0x1d6)](_0x49a24f),_0x36453d['status'](0x1f4)[_0x12d1f7(0x36b)]({'error':_0x12d1f7(0x202)});return;}_0x36453d[_0x12d1f7(0x320)](0xc8)[_0x12d1f7(0x36b)]({'success':!![],'message':_0x12d1f7(0x204)});}else{try{const [_0xf470fc]=await conn[_0x12d1f7(0x27e)]()[_0x12d1f7(0x294)](_0x12d1f7(0x20e),[_0x1cde91,_0x552bfd]);if(_0xf470fc[_0x12d1f7(0x1da)]>0x0)_0x36453d['status'](0x199)[_0x12d1f7(0x36b)]({'error':_0x12d1f7(0x35f)});else{const _0x2f992b=randomUUID();await conn[_0x12d1f7(0x27e)]()[_0x12d1f7(0x294)](_0x12d1f7(0x35b),[_0x3f4d1d,_0x1205a8,_0x537b36,_0x552bfd,_0x1cde91,_0x630109,_0x3b38a9,_0xe33208,_0x2f992b]);const _0x1ffb55=_0x12d1f7(0x262)+_0x2f992b;fs[_0x12d1f7(0x2fd)](_0x1ffb55);}}catch(_0x5ccca0){console[_0x12d1f7(0x1d6)](_0x5ccca0),_0x36453d['status'](0x1f4)[_0x12d1f7(0x36b)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x36453d[_0x12d1f7(0x320)](0xc8)[_0x12d1f7(0x36b)]({'success':!![],'message':_0x12d1f7(0x229)});}}),router[a27_0x1cc87c(0x2e2)](a27_0x1cc87c(0x2ab),async(_0x4c496c,_0x4e4087)=>{const _0x237cdc=a27_0x1cc87c,{userId:_0x1ee20c}=_0x4c496c['body'];let _0x157b04;try{const [_0x3e944b]=await conn[_0x237cdc(0x27e)]()[_0x237cdc(0x294)](_0x237cdc(0x2b0),[_0x1ee20c]);_0x3e944b['length']>0x0&&(_0x157b04=_0x3e944b[0x0]);}catch(_0x2f4650){console[_0x237cdc(0x1d6)]({'err':_0x2f4650}),_0x4e4087[_0x237cdc(0x320)](0x1f4)[_0x237cdc(0x36b)]({'error':_0x237cdc(0x202)});return;}if(!_0x157b04){_0x4e4087[_0x237cdc(0x320)](0x191)[_0x237cdc(0x36b)]({'error':'Invalid\x20user'});return;}let _0x3545e5=_0x157b04[_0x237cdc(0x269)];if(!_0x3545e5){_0x3545e5=randomUUID();try{await conn[_0x237cdc(0x27e)]()['execute']('UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?',[_0x3545e5,_0x1ee20c]);}catch(_0x62e154){console['log']({'err':_0x62e154}),_0x4e4087[_0x237cdc(0x320)](0x1f4)[_0x237cdc(0x36b)]({'error':_0x237cdc(0x202)});return;}}const _0xb924d1=_0x237cdc(0x262)+_0x3545e5;console[_0x237cdc(0x1d6)](_0x237cdc(0x283)),console[_0x237cdc(0x1d6)](_0xb924d1),!fs['existsSync'](_0xb924d1)&&fs[_0x237cdc(0x2fd)](_0xb924d1),cleanCacheForUserFiles(_0xb924d1),fs[_0x237cdc(0x24e)](_0xb924d1,{'recursive':!![],'force':!![]}),fs[_0x237cdc(0x2fd)](_0xb924d1),_0x4e4087[_0x237cdc(0x320)](0xc8)[_0x237cdc(0x36b)]({'success':!![],'message':_0x237cdc(0x368)});}),router[a27_0x1cc87c(0x2e2)](a27_0x1cc87c(0x299),async(_0x114665,_0x244d4d)=>{const _0x37e491=a27_0x1cc87c,_0x313d06=_0x114665[_0x37e491(0x329)][_0x37e491(0x1fa)];try{let _0x18440d;try{const [_0x21c8f3]=await conn[_0x37e491(0x27e)]()['execute'](_0x37e491(0x2b0),[_0x313d06]);_0x21c8f3['length']>0x0&&(_0x18440d=_0x21c8f3[0x0]);}catch(_0x11bbc3){console[_0x37e491(0x1d6)]({'err':_0x11bbc3}),_0x244d4d[_0x37e491(0x320)](0x1f4)['json']({'error':_0x37e491(0x202)});return;}if(!_0x18440d){_0x244d4d['status'](0x191)[_0x37e491(0x36b)]({'error':_0x37e491(0x2d7)});return;}let _0x359a5e=_0x18440d[_0x37e491(0x269)];if(_0x359a5e){const _0x3d9ed2=_0x37e491(0x262)+_0x359a5e;fs[_0x37e491(0x234)](_0x3d9ed2)&&(cleanCacheForUserFiles(_0x3d9ed2),fs[_0x37e491(0x24e)](_0x3d9ed2,{'recursive':!![],'force':!![]}));}await conn[_0x37e491(0x27e)]()[_0x37e491(0x294)](_0x37e491(0x2df),[_0x313d06]);}catch(_0xe48112){console['log'](_0xe48112),_0x244d4d['status'](0x1f4)[_0x37e491(0x36b)]({'error':_0x37e491(0x202)});return;}_0x244d4d[_0x37e491(0x320)](0xc8)[_0x37e491(0x36b)]({'success':!![],'message':_0x37e491(0x2e7)});}),router['get'](a27_0x1cc87c(0x355),async(_0x493073,_0x26dd6c)=>{const _0x1a5d63=a27_0x1cc87c,_0x321397=osu[_0x1a5d63(0x2eb)],_0x5db0af=osu['mem'],_0x330b14=osu['drive'],_0x4340d4=osu['os'],_0x189267={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x5e377b=os[_0x1a5d63(0x335)]()===_0x1a5d63(0x31a)?'c:':'/';const _0x2de8a5=await _0x330b14['info'](_0x5e377b);_0x189267[_0x1a5d63(0x215)]=_0x2de8a5[_0x1a5d63(0x2aa)],_0x189267[_0x1a5d63(0x2cb)]=_0x2de8a5[_0x1a5d63(0x345)],_0x189267[_0x1a5d63(0x2cd)]=_0x2de8a5['freeGb'],_0x189267[_0x1a5d63(0x2ea)]=_0x2de8a5[_0x1a5d63(0x24b)];}catch(_0x27516c){console[_0x1a5d63(0x1d6)](_0x1a5d63(0x1f6),_0x27516c);}const _0x1949bb={'usage':0x0,'count':0x0};try{_0x1949bb['usage']=await _0x321397[_0x1a5d63(0x28c)](),_0x1949bb[_0x1a5d63(0x36e)]=_0x321397[_0x1a5d63(0x36e)]();}catch(_0x5b1497){console[_0x1a5d63(0x1d6)](_0x1a5d63(0x2e4),_0x5b1497);}const _0x3286f5={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x3286f5['os']=await _0x4340d4[_0x1a5d63(0x203)](),_0x3286f5[_0x1a5d63(0x335)]=_0x4340d4[_0x1a5d63(0x335)](),_0x3286f5['ip']=_0x4340d4['ip'](),_0x3286f5['uptime']=_0x4340d4[_0x1a5d63(0x34c)](),_0x3286f5[_0x1a5d63(0x2e0)]=_0x4340d4['hostname'](),_0x3286f5[_0x1a5d63(0x351)]=_0x4340d4[_0x1a5d63(0x351)](),_0x3286f5[_0x1a5d63(0x261)]=_0x4340d4[_0x1a5d63(0x261)](),_0x3286f5['who']=await osu[_0x1a5d63(0x1e7)]['who'](),_0x3286f5[_0x1a5d63(0x259)]=await osu[_0x1a5d63(0x1e7)][_0x1a5d63(0x259)](),_0x3286f5[_0x1a5d63(0x2cc)]=await osu['osCmd']['vmstats']();}catch(_0x1811df){console[_0x1a5d63(0x1d6)]('Error\x20getting\x20os\x20info',_0x1811df);}const _0x32b04e={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x32b04e[_0x1a5d63(0x370)]=await osu[_0x1a5d63(0x2b9)][_0x1a5d63(0x370)](),_0x32b04e[_0x1a5d63(0x1e1)]=await osu['proc']['zombieProcesses']();}catch(_0x594251){console['log']('Error\x20getting\x20process\x20info',_0x594251);}let _0x336e3b={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x35d3de=await _0x5db0af[_0x1a5d63(0x2b7)]();_0x336e3b[_0x1a5d63(0x218)]=_0x35d3de[_0x1a5d63(0x218)],_0x336e3b['usedMemMb']=_0x35d3de['used']/0x400/0x400,_0x336e3b['totalMemMb']=_0x35d3de[_0x1a5d63(0x1e2)]/0x400/0x400;}catch(_0x3de830){console[_0x1a5d63(0x1d6)](_0x1a5d63(0x32e),_0x3de830);}let _0x241215=0x0;try{_0x241215=await conn[_0x1a5d63(0x27e)]()[_0x1a5d63(0x2c4)](_0x1a5d63(0x20f))[_0x1a5d63(0x316)](([_0x5b900d])=>_0x5b900d[0x0][_0x1a5d63(0x1e2)]);}catch(_0x4dfe3f){console[_0x1a5d63(0x1d6)]('Error\x20getting\x20total\x20users',_0x4dfe3f);}const _0x33aafc=getMonitoringData(),_0x1577ce=_0x33aafc['filter'](_0x46d66a=>_0x46d66a[_0x1a5d63(0x2cf)]!==null&&_0x46d66a[_0x1a5d63(0x2cf)]!==undefined),_0x39706d=_0x33aafc[_0x1a5d63(0x2bc)](_0x5050e3=>_0x5050e3[_0x1a5d63(0x33d)]!==null&&_0x5050e3['conversionMemoryUsage']!==undefined)['map'](_0x51ef62=>parseFloat(_0x51ef62['conversionMemoryUsage'][_0x1a5d63(0x2c0)]('Kb')[_0x1a5d63(0x332)]())),_0x42a348=_0x1577ce[_0x1a5d63(0x2a2)]((_0x121250,_0xbb2769)=>_0x121250+parseFloat(_0xbb2769[_0x1a5d63(0x2cf)]),0x0)/_0x1577ce[_0x1a5d63(0x1da)],_0x37c7cb=_0x39706d[_0x1a5d63(0x2a2)]((_0x3277fd,_0x2abc53)=>_0x3277fd+_0x2abc53,0x0)/_0x39706d[_0x1a5d63(0x1da)];_0x26dd6c[_0x1a5d63(0x36b)]({'requestsPerSecond':counter[_0x1a5d63(0x264)](),'diskUsage':_0x189267,'cpus':_0x1949bb,'system':_0x3286f5,'process':_0x32b04e,'totalMonitoringData':_0x33aafc['length'],'memory':_0x336e3b,'totalUsers':_0x241215,'avgConvertionTime':_0x42a348,'avgMemoryUsage':_0x37c7cb});}),router['post']('/metrics/reset',(_0x42bb27,_0x271daa)=>{const _0x979b89=a27_0x1cc87c;counter[_0x979b89(0x298)](),_0x271daa[_0x979b89(0x36b)]({'message':'Counter\x20reset\x20successfully'});});const getMonitoringData=()=>{const _0x328560=a27_0x1cc87c,_0x3978cb=_0x328560(0x27a);let _0xccc214=[];try{_0xccc214=JSON[_0x328560(0x266)](fs[_0x328560(0x275)](_0x3978cb));}catch(_0x444c8c){console[_0x328560(0x1d6)](_0x328560(0x33f));}return _0xccc214;};router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x273),async(_0x512436,_0x1d4ecd)=>{const _0x5d3f29=a27_0x1cc87c,{page:page=0x1,limit:limit=0xa}=_0x512436['query'],_0xbba263=(page-0x1)*limit;try{const _0x473e5d=getMonitoringData(),_0x32b7c1=_0x473e5d['length'],_0x4ac4af=Math[_0x5d3f29(0x2c6)](_0x32b7c1/limit),_0xde2a5a=_0x473e5d['slice'](_0xbba263,_0xbba263+limit);_0x1d4ecd[_0x5d3f29(0x320)](0xc8)['json']({'data':_0xde2a5a,'page':parseInt(''+page),'totalPages':_0x4ac4af,'total':_0x32b7c1});}catch(_0x8fb983){console['log'](_0x8fb983),_0x1d4ecd['status'](0x1f4)[_0x5d3f29(0x36b)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router['delete'](a27_0x1cc87c(0x21b),async(_0xf15228,_0x50fce0)=>{const _0x261ab1=a27_0x1cc87c,_0x152d11=_0x261ab1(0x27a);try{fs['writeFileSync'](_0x152d11,JSON[_0x261ab1(0x1ee)]([],null,0x4)),analyzeConverterFiles(),_0x50fce0[_0x261ab1(0x320)](0xc8)[_0x261ab1(0x36b)]({'message':_0x261ab1(0x304)});}catch(_0x2a9d35){console[_0x261ab1(0x1d6)](_0x2a9d35),_0x50fce0['status'](0x1f4)[_0x261ab1(0x36b)]({'error':_0x261ab1(0x202)});}}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x242),async(_0x5ac65e,_0x15f235)=>{const _0x3c1b60=a27_0x1cc87c,_0x4b4b2a=getHotConfig()[_0x3c1b60(0x326)][_0x3c1b60(0x2c0)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x5ac65e[_0x3c1b60(0x2c4)],_0x1f184b=(page-0x1)*limit;try{const _0x5589f7=_0x4b4b2a+_0x3c1b60(0x1ce);console[_0x3c1b60(0x1d6)](_0x5589f7);const _0x8b66e4=fs[_0x3c1b60(0x275)](_0x5589f7,_0x3c1b60(0x327)),_0x58b789=_0x8b66e4['split']('\x0a'),_0x2ba3c1=[];_0x58b789[_0x3c1b60(0x339)](_0xec38e6=>{const _0x3ee766=_0x3c1b60,_0x1381d3=_0xec38e6[_0x3ee766(0x238)](',');if(_0x1381d3['length']<0x4)return;const _0x565ec5=_0x1381d3[0x0],_0x124877=_0x1381d3[0x1],_0x533391=parseFloat(_0x1381d3[0x2]);_0x2ba3c1['push']({'file':_0x565ec5[_0x3ee766(0x2c0)]('\x22',''),'action':_0x124877,'timeSpend':_0x533391,'memoryUsage':_0x1381d3[0x3]});});const _0x15e6c2=_0x2ba3c1[_0x3c1b60(0x1da)],_0x4a9d6c=Math['ceil'](_0x15e6c2/limit),_0x3c7b80=_0x2ba3c1['slice'](_0x1f184b,_0x1f184b+limit);_0x15f235[_0x3c1b60(0x320)](0xc8)[_0x3c1b60(0x36b)]({'data':_0x3c7b80,'page':parseInt(''+page),'totalPages':_0x4a9d6c,'total':_0x15e6c2});}catch(_0x13691e){console[_0x3c1b60(0x1d6)](_0x13691e),_0x15f235[_0x3c1b60(0x320)](0x1f4)['json']({'error':_0x3c1b60(0x202)});}}),router[a27_0x1cc87c(0x2f9)]('/cache/stats',async(_0x539d7d,_0x258f2e)=>{const _0x59dd07=a27_0x1cc87c,_0x3b42d3=path[_0x59dd07(0x2ee)](path[_0x59dd07(0x237)](require['main'][_0x59dd07(0x36d)]),_0x59dd07(0x279),_0x59dd07(0x1f7));try{let _0x3e9d8e=0x0,_0x355392=0x0;function _0x9a8c7f(_0xafced8){const _0x54501a=_0x59dd07;let _0x6c80e3=0x0,_0x15e6cc=0x0;if(fs[_0x54501a(0x234)](_0xafced8)){const _0x1d6082=fs[_0x54501a(0x2e9)](_0xafced8);_0x15e6cc=0x0;for(const _0x45b9aa of _0x1d6082){const _0x164e52=path[_0x54501a(0x2ee)](_0xafced8,_0x45b9aa),_0x2f50a1=fs[_0x54501a(0x27b)](_0x164e52);if(_0x2f50a1[_0x54501a(0x236)]()&&_0x45b9aa!==_0x54501a(0x336))_0x15e6cc++,_0x6c80e3+=_0x2f50a1[_0x54501a(0x2c1)];else{if(_0x2f50a1[_0x54501a(0x346)]()){}}}}return{'size':_0x6c80e3,'count':_0x15e6cc};}const _0x534d8c=_0x9a8c7f(_0x3b42d3);_0x3e9d8e=_0x534d8c[_0x59dd07(0x2c1)],_0x355392=_0x534d8c['count'],_0x258f2e[_0x59dd07(0x36b)]({'fileCount':_0x355392,'totalSize':_0x3e9d8e});}catch(_0x3b46b0){console['error'](_0x59dd07(0x353),_0x3b46b0),_0x258f2e[_0x59dd07(0x320)](0x1f4)[_0x59dd07(0x36b)]({'error':_0x59dd07(0x21f)});}}),router[a27_0x1cc87c(0x2e2)](a27_0x1cc87c(0x1e6),async(_0x2ea68c,_0x502cfe)=>{const _0x212e8a=a27_0x1cc87c,_0x1e98a5=path[_0x212e8a(0x2ee)](path[_0x212e8a(0x237)](require[_0x212e8a(0x23f)]['filename']),_0x212e8a(0x279),_0x212e8a(0x1f7));try{function _0x26aeae(_0x59d1b1){const _0x1a9f65=_0x212e8a;if(fs[_0x1a9f65(0x234)](_0x59d1b1)){const _0x3e331b=fs[_0x1a9f65(0x2e9)](_0x59d1b1);for(const _0x316144 of _0x3e331b){const _0x72733d=path[_0x1a9f65(0x2ee)](_0x59d1b1,_0x316144),_0xb172c7=fs['statSync'](_0x72733d);if(_0xb172c7[_0x1a9f65(0x346)]()){}else _0x316144!=='.gitkeep'&&fs['unlinkSync'](_0x72733d);}}}_0x26aeae(_0x1e98a5),analyzeConverterFiles(),_0x502cfe[_0x212e8a(0x36b)]({'message':'Cache\x20flushed\x20successfully'});}catch(_0x1a1a89){console[_0x212e8a(0x29f)](_0x212e8a(0x286),_0x1a1a89),_0x502cfe['status'](0x1f4)[_0x212e8a(0x36b)]({'error':_0x212e8a(0x227)});}}),router['get'](a27_0x1cc87c(0x1fc),async(_0x18fefd,_0x6901b7)=>{const _0x5da55a=a27_0x1cc87c;_0x6901b7[_0x5da55a(0x310)](path[_0x5da55a(0x2ee)](path[_0x5da55a(0x237)](require[_0x5da55a(0x23f)][_0x5da55a(0x36d)]),_0x5da55a(0x224)));}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x2fb),protectedRoute,async(_0x660970,_0x378fc3)=>{const _0x1ffe5c=a27_0x1cc87c,_0x1d9bfc=fs[_0x1ffe5c(0x275)](path[_0x1ffe5c(0x2ee)](path['dirname'](require['main']['filename']),_0x1ffe5c(0x2ad)),'utf8'),_0x505786=_0x1d9bfc['replaceAll'](_0x1ffe5c(0x281),_0x660970['version']);_0x378fc3[_0x1ffe5c(0x1cb)](_0x505786);}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x211),async(_0x14a077,_0xdc0e65)=>{const _0x4e1a0c=a27_0x1cc87c,{page:page=0x1,limit:limit=0x10}=_0x14a077[_0x4e1a0c(0x2c4)],_0x5cda67=JSON[_0x4e1a0c(0x266)](fs[_0x4e1a0c(0x275)](path['join'](path[_0x4e1a0c(0x237)](require[_0x4e1a0c(0x23f)]['filename']),'cadviewer/settings/converter-files-analysis.json'))),_0x1988b4=(page-0x1)*limit,_0x47b171=page*limit,_0x34aa45=_0x5cda67['files'][_0x4e1a0c(0x1da)],_0x105a2c=Math['ceil'](_0x34aa45/limit),_0x2a5b21=_0x5cda67[_0x4e1a0c(0x1f7)][_0x4e1a0c(0x2c5)](_0x1988b4,_0x47b171);_0xdc0e65[_0x4e1a0c(0x36b)]({'files':_0x2a5b21,'pagination':{'total':_0x34aa45,'totalPages':_0x105a2c,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x300),async(_0x8bfe25,_0x323b69)=>{const _0x5a1810=a27_0x1cc87c,{file:_0x5f985}=_0x8bfe25[_0x5a1810(0x329)],_0x3bf0fe=path[_0x5a1810(0x2ee)](path[_0x5a1810(0x237)](require[_0x5a1810(0x23f)][_0x5a1810(0x36d)]),_0x5a1810(0x279),_0x5a1810(0x1f7)),_0x1a9325=path[_0x5a1810(0x2ee)](_0x3bf0fe,_0x5f985),_0x38acd7=fs[_0x5a1810(0x275)](_0x1a9325,_0x5a1810(0x327)),_0xc8e000=_0x38acd7['split']('\x0a'),_0x12dd93=_0xc8e000['map'](_0x5375d2=>{const _0x4cb917=_0x5a1810,_0x4f541f=_0x5375d2['split'](',');return _0x4f541f[_0x4cb917(0x373)](_0xc525a8=>_0xc525a8[_0x4cb917(0x2c0)]('\x22',''));});_0x323b69[_0x5a1810(0x36b)](_0x12dd93);}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x2b4),async(_0x15690d,_0x56ea84)=>{const _0x478825=a27_0x1cc87c,{id:_0x4ca478}=_0x15690d['params'],_0x513034=path[_0x478825(0x2ee)](path[_0x478825(0x237)](require[_0x478825(0x23f)][_0x478825(0x36d)]),'converters',_0x478825(0x1f7)),_0xbc57da=path[_0x478825(0x2ee)](_0x513034,_0x4ca478);if(_0xbc57da[_0x478825(0x1f8)](_0x478825(0x1d2))){var _0xd29b83=require(_0x478825(0x2c8));const _0x4da6b2=fs[_0x478825(0x275)](_0xbc57da),_0x4fedd6=_0xd29b83['gunzipSync'](_0x4da6b2);_0x56ea84[_0x478825(0x210)](_0x478825(0x311),_0x478825(0x235)),_0x56ea84[_0x478825(0x1cb)](_0x4fedd6);}else _0x56ea84[_0x478825(0x310)](_0xbc57da);}),router[a27_0x1cc87c(0x2e2)](a27_0x1cc87c(0x2b4),async(_0x2fa9ca,_0x8f5e45)=>{const _0x52fc1e=a27_0x1cc87c,{id:_0x27243a}=_0x2fa9ca[_0x52fc1e(0x329)],_0x29b64d=path[_0x52fc1e(0x2ee)](path['dirname'](require[_0x52fc1e(0x23f)][_0x52fc1e(0x36d)]),_0x52fc1e(0x279),_0x52fc1e(0x1f7)),_0x1ba3f2=JSON[_0x52fc1e(0x266)](fs[_0x52fc1e(0x275)](path['join'](path[_0x52fc1e(0x237)](require[_0x52fc1e(0x23f)][_0x52fc1e(0x36d)]),_0x52fc1e(0x243)))),_0x5e0575=_0x1ba3f2[_0x52fc1e(0x1f7)][_0x52fc1e(0x247)](_0x3d610a=>_0x3d610a['name']===_0x27243a);if(_0x5e0575){try{fs[_0x52fc1e(0x234)](path['join'](_0x29b64d,_0x5e0575[_0x52fc1e(0x205)]))&&fs['unlinkSync'](path[_0x52fc1e(0x2ee)](_0x29b64d,_0x5e0575['name']));}catch(_0xd6a3ec){console[_0x52fc1e(0x1d6)](_0x52fc1e(0x22e),{'e':_0xd6a3ec});}(_0x5e0575['availableFormats']??[])[_0x52fc1e(0x339)](_0x439028=>{const _0x1af35a=_0x52fc1e;try{fs[_0x1af35a(0x234)](path[_0x1af35a(0x2ee)](_0x29b64d,_0x439028['id']))&&fs[_0x1af35a(0x318)](path['join'](_0x29b64d,_0x439028['id']));}catch(_0x3ce345){console[_0x1af35a(0x1d6)](_0x1af35a(0x22e),{'e':_0x3ce345});}});}analyzeConverterFiles(),_0x8f5e45['json']({'message':_0x52fc1e(0x2fc)});});const deleteOldDemoUsers=async()=>{const _0x5f1470=a27_0x1cc87c;console[_0x5f1470(0x1d6)](_0x5f1470(0x1ff));const _0x4d1919=config[_0x5f1470(0x36c)],_0x564170=_0x5f1470(0x32b);try{const [_0x45b106]=await conn[_0x5f1470(0x27e)]()[_0x5f1470(0x294)](_0x564170,[_0x4d1919]),_0x5cf749=_0x45b106[_0x5f1470(0x373)](_0x186918=>_0x186918[_0x5f1470(0x269)]),_0x332989=_0x45b106['map'](_0xbe5d60=>_0xbe5d60[_0x5f1470(0x255)]);console[_0x5f1470(0x1d6)](_0x332989),await conn[_0x5f1470(0x27e)]()[_0x5f1470(0x294)](_0x5f1470(0x2e1),[_0x4d1919]),_0x5cf749[_0x5f1470(0x339)](_0x21464f=>{const _0x4d5126=_0x5f1470;try{const _0x246e64='./uploads/'+_0x21464f;cleanCacheForUserFiles(_0x246e64),fs[_0x4d5126(0x309)](_0x246e64);}catch(_0x3722ca){console[_0x4d5126(0x29f)]('Error\x20deleting\x20user\x20folder:',_0x3722ca);}}),console[_0x5f1470(0x1d6)](_0x5f1470(0x343)+_0x45b106[_0x5f1470(0x1da)]+_0x5f1470(0x2e6)+_0x4d1919+_0x5f1470(0x214));}catch(_0x4d596e){console['error'](_0x5f1470(0x2f2),_0x4d596e);}};schedule[a27_0x1cc87c(0x1d3)](a27_0x1cc87c(0x2ba),deleteOldDemoUsers),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x1fb),protectedRoute,async(_0x33d3c9,_0x372d27)=>{const _0x54b35a=a27_0x1cc87c,_0x231893=fs[_0x54b35a(0x275)](path[_0x54b35a(0x2ee)](path[_0x54b35a(0x237)](require[_0x54b35a(0x23f)][_0x54b35a(0x36d)]),_0x54b35a(0x26b)),_0x54b35a(0x327)),_0x549a24=_0x231893['replaceAll']('{version}',_0x33d3c9[_0x54b35a(0x25a)]);_0x372d27[_0x54b35a(0x1cb)](_0x549a24);});const exportUsersList=async()=>{const _0x6e1c1a=a27_0x1cc87c;console[_0x6e1c1a(0x1d6)](_0x6e1c1a(0x233));const _0x82d122=path[_0x6e1c1a(0x2ee)](path[_0x6e1c1a(0x237)](require[_0x6e1c1a(0x23f)][_0x6e1c1a(0x36d)]),_0x6e1c1a(0x1ec));!fs[_0x6e1c1a(0x234)](_0x82d122)&&fs['mkdirSync'](_0x82d122);const _0x175736=config[_0x6e1c1a(0x28b)]||'monthly';let _0x55f959;const _0x89ca10=path[_0x6e1c1a(0x2ee)](_0x82d122,_0x6e1c1a(0x2a1));if(fs['existsSync'](_0x89ca10))try{const _0xa6c7ee=JSON[_0x6e1c1a(0x266)](fs[_0x6e1c1a(0x275)](_0x89ca10,_0x6e1c1a(0x327)));_0x55f959=new Date(_0xa6c7ee[_0x6e1c1a(0x206)]);}catch(_0x45a6ad){console[_0x6e1c1a(0x29f)]('Error\x20reading\x20last\x20export\x20info:',_0x45a6ad),_0x55f959=calculateDefaultLastExportDate(_0x175736);}else _0x55f959=calculateDefaultLastExportDate(_0x175736);const _0x421f46=new Date(),_0x47538a=_0x421f46[_0x6e1c1a(0x295)]()+'-'+String(_0x421f46[_0x6e1c1a(0x1e9)]()+0x1)[_0x6e1c1a(0x25e)](0x2,'0')+'-'+String(_0x421f46[_0x6e1c1a(0x2ce)]())[_0x6e1c1a(0x25e)](0x2,'0'),_0x9d1d43=_0x6e1c1a(0x2de)+_0x47538a+_0x6e1c1a(0x1d5),_0x43311b=path[_0x6e1c1a(0x2ee)](_0x82d122,_0x9d1d43);try{const _0x569368=_0x6e1c1a(0x2f4),[_0x2aa0b4]=await conn[_0x6e1c1a(0x27e)]()[_0x6e1c1a(0x294)](_0x569368,[_0x55f959]);if(_0x2aa0b4[_0x6e1c1a(0x1da)]===0x0){console[_0x6e1c1a(0x1d6)](_0x6e1c1a(0x232));return;}let _0x5206d2=_0x6e1c1a(0x33e);_0x2aa0b4['forEach'](_0x2a04dd=>{const _0x4b1494=_0x6e1c1a,_0x3a9cf7=_0x2a04dd[_0x4b1494(0x255)]?'\x22'+_0x2a04dd['email']['replace'](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x2fac51=_0x2a04dd[_0x4b1494(0x30c)]?'\x22'+_0x2a04dd[_0x4b1494(0x30c)]['replace'](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x325637=_0x2a04dd[_0x4b1494(0x21c)]?'\x22'+_0x2a04dd[_0x4b1494(0x21c)][_0x4b1494(0x25c)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x5206d2+=_0x3a9cf7+','+_0x2fac51+','+_0x325637+'\x0a';}),fs[_0x6e1c1a(0x325)](_0x43311b,_0x5206d2),console[_0x6e1c1a(0x1d6)](_0x6e1c1a(0x201)+_0x2aa0b4[_0x6e1c1a(0x1da)]+'\x20users\x20to\x20'+_0x43311b);const _0x4ce6e4={'lastExportDate':_0x421f46[_0x6e1c1a(0x2b6)](),'fileName':_0x9d1d43,'userCount':_0x2aa0b4[_0x6e1c1a(0x1da)]};fs['writeFileSync'](_0x89ca10,JSON[_0x6e1c1a(0x1ee)](_0x4ce6e4,null,0x2));}catch(_0x1eb930){console[_0x6e1c1a(0x29f)](_0x6e1c1a(0x2e8),_0x1eb930);}},calculateDefaultLastExportDate=_0x5bc1ca=>{const _0x33d876=a27_0x1cc87c,_0x376580=new Date();return _0x5bc1ca===_0x33d876(0x363)?_0x376580['setDate'](_0x376580[_0x33d876(0x2ce)]()-0xe):_0x376580[_0x33d876(0x2dc)](_0x376580['getMonth']()-0x1),_0x376580;};router['get']('/users-export/history',async(_0x2bf224,_0x4a0315)=>{const _0x3d0f14=a27_0x1cc87c,_0x5281de=path['join'](path[_0x3d0f14(0x237)](require[_0x3d0f14(0x23f)][_0x3d0f14(0x36d)]),_0x3d0f14(0x1ec));if(!fs['existsSync'](_0x5281de))return _0x4a0315['status'](0xc8)[_0x3d0f14(0x36b)]({'exports':[]});try{const _0x27ee50=fs[_0x3d0f14(0x2e9)](_0x5281de)['filter'](_0xd9db05=>_0xd9db05[_0x3d0f14(0x342)](_0x3d0f14(0x2de))&&_0xd9db05[_0x3d0f14(0x1f8)]('.csv'))[_0x3d0f14(0x373)](_0x5d573e=>{const _0x394418=_0x3d0f14,_0x3e2405=path[_0x394418(0x2ee)](_0x5281de,_0x5d573e),_0x19c819=fs[_0x394418(0x27b)](_0x3e2405),_0x273efb=fs[_0x394418(0x275)](_0x3e2405,'utf8'),_0x33c6c7=_0x273efb['split']('\x0a')[_0x394418(0x1da)]-0x1;return{'fileName':_0x5d573e,'createdAt':_0x19c819[_0x394418(0x350)],'userCount':_0x33c6c7};})['sort']((_0x5d5690,_0x378365)=>_0x378365[_0x3d0f14(0x260)]-_0x5d5690[_0x3d0f14(0x260)]);_0x4a0315[_0x3d0f14(0x320)](0xc8)[_0x3d0f14(0x36b)]({'exports':_0x27ee50});}catch(_0x3f3a43){console[_0x3d0f14(0x29f)](_0x3d0f14(0x359),_0x3f3a43),_0x4a0315[_0x3d0f14(0x320)](0x1f4)['json']({'error':_0x3d0f14(0x2b5)});}}),router[a27_0x1cc87c(0x1df)](a27_0x1cc87c(0x2ca),async(_0x5c62de,_0x3f1c28)=>{const _0x158756=a27_0x1cc87c;try{await exportUsersList(),_0x3f1c28[_0x158756(0x320)](0xc8)[_0x158756(0x36b)]({'message':_0x158756(0x22d)});}catch(_0x2a8a70){console[_0x158756(0x29f)]('Error\x20triggering\x20Users\x20export:',_0x2a8a70),_0x3f1c28[_0x158756(0x320)](0x1f4)['json']({'error':_0x158756(0x1db)});}}),router[a27_0x1cc87c(0x2f9)](a27_0x1cc87c(0x1ed),async(_0x5bb0a6,_0x23b8b0)=>{const _0x236f64=a27_0x1cc87c,{fileName:_0x36ee15}=_0x5bb0a6[_0x236f64(0x329)],_0x5d728b=path[_0x236f64(0x2ee)](path[_0x236f64(0x237)](require[_0x236f64(0x23f)][_0x236f64(0x36d)]),_0x236f64(0x1ec),_0x36ee15);if(!fs[_0x236f64(0x234)](_0x5d728b))return _0x23b8b0[_0x236f64(0x320)](0x194)['json']({'error':_0x236f64(0x223)});_0x23b8b0[_0x236f64(0x2e3)](_0x5d728b);});const cleanCacheForUserFiles=_0x4bd4b1=>{const _0x400f09=a27_0x1cc87c;try{if(!fs['existsSync'](_0x4bd4b1)){console[_0x400f09(0x1d6)](_0x400f09(0x312)+_0x4bd4b1+_0x400f09(0x369));return;}const _0x61bcbd=path[_0x400f09(0x2ee)](path['dirname'](require[_0x400f09(0x23f)]['filename']),_0x400f09(0x279),_0x400f09(0x1f7));if(!fs[_0x400f09(0x234)](_0x61bcbd)){console[_0x400f09(0x1d6)]('Cache\x20directory\x20'+_0x61bcbd+_0x400f09(0x369));return;}const _0x314f10=JSON[_0x400f09(0x266)](fs[_0x400f09(0x275)](path[_0x400f09(0x2ee)](path['dirname'](require['main'][_0x400f09(0x36d)]),'cadviewer/settings/converter-files-analysis.json'))),_0x191161=fs[_0x400f09(0x2e9)](_0x4bd4b1);_0x191161[_0x400f09(0x339)](_0x588079=>{const _0x217c3a=_0x400f09;_0x314f10['files'][_0x217c3a(0x339)](_0x2f7cd3=>{const _0x5a17b4=_0x217c3a;_0x2f7cd3[_0x5a17b4(0x278)]===_0x588079&&_0x2f7cd3[_0x5a17b4(0x1e8)][_0x5a17b4(0x339)](_0x2937ef=>{const _0x180fd6=_0x5a17b4;try{fs[_0x180fd6(0x318)](path[_0x180fd6(0x2ee)](_0x61bcbd,_0x2937ef['id']));}catch(_0x4090f2){console[_0x180fd6(0x29f)]('Error\x20deleting\x20cache\x20file\x20'+_0x2937ef['id']+':',_0x4090f2);}});});}),analyzeConverterFiles(),console[_0x400f09(0x1d6)]('Cache\x20cleaned\x20for\x20files\x20in\x20'+_0x4bd4b1);}catch(_0x180b94){console[_0x400f09(0x29f)](_0x400f09(0x356),_0x180b94);}};function a27_0x5c5c(){const _0x3854f9=['dwg','Error\x20deleting\x20old\x20demo_user\x20accounts:','mysqlHost','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20','linux','.pdf','Demo\x20and\x20Base\x20User\x20Settings','cadviewer/settings/home.html','get','body','/cache','File\x20deleted\x20successfully','mkdirSync','renameSync','path','/cache/csv/:file','licenseLocation','message','globalBearerAutentication','Monitoring\x20file\x20cleaned.','Error\x20saving\x20parameters.','csv','.log\x22','ServerLocation','rmdirSync','settingsUserBasicAuth','cadviewer/settings/doctor.html','first_name','DWG\x20file\x20in\x20multiple\x20files','/logs/clean','diskStorage','sendFile','Content-Type','Directory\x20','blue','Config\x20updated.','Error\x20deleting\x20file.','then','.json','unlinkSync','Cache\x20conversion','win32','atime','fileLocation','../libs/counter.js','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','status','pop','now','Content-Disposition','isFolder','writeFileSync','converterLocation','utf8','setup_mysqlHost','params','173614tWjkXL','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','callbackMethod_gatewayUrl','user','Error\x20getting\x20memory\x20info','CSV','gray','fontLocation','trim','mode','Folder\x20renamed.','platform','.gitkeep','5SafETV','push','forEach','File\x20renamed.','folderLocation','File\x20deleted.','conversionMemoryUsage','email,firstname,lastname\x0a','Error\x20reading\x20monitoring\x20file','dwgmerge_executable_linux','`crypted_password`\x20=\x20?,\x20','startsWith','Old\x20demo_user\x20accounts\x20(','/users','usedGb','isDirectory','../libs/mysql.js','linklist_executable','all','dwgmerge_executable_windows','Error\x20downloading\x20file.','uptime','admin','mysqlDatabase','callbackMethod_gatewayUrl_flag','birthtime','type','0\x2023\x20*\x20*\x20*','Error\x20getting\x20cache\x20stats:','express-basic-auth','/metrics','Error\x20cleaning\x20cache\x20for\x20user\x20files:','role','toLocaleLowerCase','Error\x20getting\x20Users\x20export\x20export\x20history:','windows','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','CADViewer\x20Settings','darwin','264oNoPgQ','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','folderName','purple','single','biweekly','svg','fileLoad_Password','includes','constants','User\x20directory\x20flushed\x20successfully','\x20does\x20not\x20exist.','logs','json','demoUserRetentionDays','filename','count','ServerPort','totalProcesses','\x20KB','toUpperCase','map','/logs','toFixed','7547975kNIRGh','send','cachedfiles','fileLoad_UserName','memorydata.csv','=============================>','DWG\x20to\x20SVG\x20Conversion','dwgmerge_executable','.svgz','scheduleJob','DwgMerge\x20Settings','.csv','log','Permission\x20750\x20for\x20the\x20\x22','/doctor','put','length','Failed\x20to\x20trigger\x20export','ContentSecurityPolicy','No\x20config\x20object\x20provided','test','post','fileLocationUrl','zombieProcesses','total','settings','/restapi-test/parameters/save','SVGZ','/cache/flush','osCmd','availableFormats','getMonth','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','Server\x20Settings','exports','/users-export/download/:fileName','stringify','ServerUrl','R_OK','fileName','Error\x20finding\x20log\x20files:','DWG\x20to\x20PDF\x20Conversion','settingsPasswordBasicAuth','autoxchange_executable','Error\x20getting\x20disk\x20usage','files','endsWith','avatar_url','userId','/export-users','/cache-stats.js','radio|windows,linux','write','Deleting\x20old\x20demo_user\x20accounts...','Le\x20dossier\x20','Exported\x20','Error!\x20Something\x20went\x20wrong.','oos','User\x20updated\x20successfully','name','lastExportDate','rmdir','demo_user','pdf','updatedAt','dwgmergeLocation','/logs/content','./tmp','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','setHeader','/cache/files','/converters/files/pdf/','yellow','\x20days\x20have\x20been\x20deleted.','percentage','\x20GB','resolve','usedMemPercentage','cadviewer/settings/licences.html','attachment;\x20filename=\x22','/conversion/clean','last_name','511641KsbVax','getHotConfig','Failed\x20to\x20get\x20cache\x20stats','cadviewer/settings/rest-api.html','avatar','cadviewer/settings/vanilla-toast.css','Export\x20file\x20not\x20found','cadviewer/settings/cache-stats.js','JSON','standard','Failed\x20to\x20flush\x20cache','/config/content','User\x20created\x20successfully','some','Error\x20updating\x20config','file','Users\x20export\x20triggered\x20successfully','Error\x20deleting\x20file','sort','0\x20*\x20*\x20*\x20*','mkdir','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','Exporting\x20new\x20users\x20for\x20Google\x20Ads...','existsSync','image/svg+xml','isFile','dirname','split','/converters/files/','/content/redlines/v7/','\x20n\x27existe\x20pas.','198fEQByN','W_OK','writeFile','main','formatedSize','158582UbPCgG','/conversion/memorydata','cadviewer/settings/converter-files-analysis.json','mysqlPassword','/converters/files/merged/','.rl.json','find','Read\x20and\x20write\x20permission\x20for\x20folder\x20','.dwg.json','108910yhllOB','totalGb','globalBearerAutenticationToken','originalname','rmSync','cadviewer/settings/chart.min.js','model','radio|monthly,biweekly','Log\x20file\x20cleaned.','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','/converters/files/print/','email','sub_dirs','.svg','number','whoami','version','0\x200\x20*\x20*\x20*','replace','https','padStart','/content/redlines/','createdAt','arch','./uploads/','\x22\x20executable','getStats','toString','parse','23512225SSQwWT','ContentSecurityPolicyReportOnly','folder_name','autoxchange_executable_windows','cadviewer/settings/users-export.html','/chart.min.js','/folders/download','\x20\x20\x20','*\x20*\x20*\x20*\x20*','SELECT\x20*\x20FROM\x20users','catch','/folders/delete','/conversion/list','Mail\x20Server\x20Settings','readFileSync','Display\x20of\x20DWG','Error\x20creating\x20folder.','goodFileName','converters','cadviewer/settings/requests-callapiconversion-monitoring.json','statSync','/vanilla-toast.css','12JQVWzl','promise','converterpathWin','CADViewer_config.json','{version}','tmp','====================','xpathLocation','svgz','Error\x20flushing\x20cache:','/users/list','cadviewer','call-Api_Conversion_','autodetect_location','usersExportFrequency','usage','linklist_executable_linux','X_OK','autodetect_platform','linklistLocation','radio|','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','DWG','execute','getFullYear','cadviewer/settings/logs.html','../CADViewer_config.json','reset','/users/:userId','../libs/email-utils','hlall','AutoXchange\x20Settings','blocks','extname','error','ctime','last-users-export.json','reduce','cadviewer/settings/users.html','/tailwind.js','Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)','.dwg','access','converter-files-analysis.json','Callback\x20and\x20Authentication\x20Settings','usedPercentage','/users/flush-dir','Config\x20updated\x20successfully','cadviewer/settings/conversion-cache.html','File\x20not\x20found','autoxchange_executable_linux','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','/folders/upload','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','converterpathLin','/cache/files/:id','Failed\x20to\x20retrieve\x20export\x20history','toISOString','info','/doctor/check','proc','0\x201\x20*\x20*\x20*','/config/update','filter','dir','child_process','Router','replaceAll','size','JSON\x20Data\x20Extraction','unlink','query','slice','ceil','cadviewer/settings/tailwind.js','zlib','hash','/users-export/trigger','usedGB','vmstats','freeGb','getDate','conversionTimeSpend','8259552bSogTP','LinkList\x20Settings','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','boolean','mysqlUsername','/config/global-update','linklist_executable_windows','Invalid\x20user','/config','Folder\x20created.','keys','array','setMonth','/licences','users-export-','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','hostname','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','delete','download','Error\x20getting\x20cpu\x20usage','/folders',')\x20older\x20than\x20','User\x20deleted\x20successfully','Error\x20exporting\x20users\x20for\x20Google\x20Ads:','readdirSync','totalGB','cpu','.log','readFile','join','copyFileSync','../libs/config'];a27_0x5c5c=function(){return _0x3854f9;};return a27_0x5c5c();}schedule[a27_0x1cc87c(0x1d3)](a27_0x1cc87c(0x352),exportUsersList),schedule[a27_0x1cc87c(0x1d3)](a27_0x1cc87c(0x230),sendFollowUpEmails),schedule[a27_0x1cc87c(0x1d3)](a27_0x1cc87c(0x25b),sendAccountDeletionPreventionEmails);function a27_0x4a01(_0x164221,_0x24eda0){const _0x5c5c0a=a27_0x5c5c();return a27_0x4a01=function(_0x4a01f5,_0x29a9a2){_0x4a01f5=_0x4a01f5-0x1c8;let _0x4aab12=_0x5c5c0a[_0x4a01f5];return _0x4aab12;},a27_0x4a01(_0x164221,_0x24eda0);}const analyzeConverterFiles=()=>{const _0x103b74=a27_0x1cc87c;try{const _0x436b11=path['join'](path[_0x103b74(0x237)](require['main'][_0x103b74(0x36d)]),_0x103b74(0x279),_0x103b74(0x1f7)),_0x3ee97f=path['join'](path['dirname'](require[_0x103b74(0x23f)]['filename']),_0x103b74(0x288),_0x103b74(0x1e3));if(!fs[_0x103b74(0x234)](_0x436b11)){logStream['write']('Le\x20dossier\x20'+_0x436b11+'\x20n\x27existe\x20pas.');return;}if(!fs['existsSync'](_0x3ee97f)){logStream['write'](_0x103b74(0x200)+_0x3ee97f+_0x103b74(0x23b));return;}const _0x41a111=fs['readdirSync'](_0x436b11),_0x2a2cf5={};_0x41a111['forEach'](_0x5f0e5e=>{const _0x15b82d=_0x103b74,_0x3c0b0c=path['join'](_0x436b11,_0x5f0e5e),_0x501ac2=fs[_0x15b82d(0x27b)](_0x3c0b0c),_0x4db8ff=_0x5f0e5e[_0x15b82d(0x238)]('.'),_0x18b11e=_0x4db8ff[_0x15b82d(0x2c5)](0x0,-0x1)[_0x15b82d(0x2bc)]((_0x567695,_0x8cb1f)=>!([_0x15b82d(0x2f1),'rl'][_0x15b82d(0x366)](_0x567695[_0x15b82d(0x358)]())&&_0x8cb1f===_0x4db8ff[_0x15b82d(0x1da)]-0x2))[_0x15b82d(0x2ee)]('.');!Object[_0x15b82d(0x2da)](_0x2a2cf5)[_0x15b82d(0x366)](_0x18b11e)?_0x2a2cf5[_0x18b11e]=[{'file':_0x5f0e5e,'stats':_0x501ac2}]:_0x2a2cf5[_0x18b11e][_0x15b82d(0x338)]({'file':_0x5f0e5e,'stats':_0x501ac2});});const _0x85a35e=[];_0x41a111['forEach'](_0x25933c=>{const _0x385702=_0x103b74;if(!_0x25933c[_0x385702(0x1f8)](_0x385702(0x249)))return;let _0x54e0bd=_0x25933c;const _0x43ed9c=path[_0x385702(0x2ee)](_0x436b11,_0x25933c),_0x3494fc=fs[_0x385702(0x27b)](_0x43ed9c);let _0xabe66a=_0x3494fc[_0x385702(0x2c1)],_0x212e19='';const _0x337be2=fs['readFileSync'](_0x43ed9c,_0x385702(0x327)),_0x30efa8=JSON[_0x385702(0x266)](_0x337be2),_0xb407ca=_0x30efa8[_0x385702(0x1cc)]?.[_0x385702(0x373)](_0x5db50f=>_0x5db50f[_0x385702(0x1f1)])??[];if(_0x30efa8['filename'])_0x54e0bd=_0x30efa8[_0x385702(0x36d)];const _0x47a875=_0x25933c[_0x385702(0x238)]('.'),_0x23199e=_0x47a875[_0x385702(0x2c5)](0x0,-0x1)[_0x385702(0x2bc)]((_0x1d2c28,_0x22e0de)=>!(['dwg','rl'][_0x385702(0x366)](_0x1d2c28['toLocaleLowerCase']())&&_0x22e0de===_0x47a875[_0x385702(0x1da)]-0x2))[_0x385702(0x2ee)]('.'),_0x2bfbbc=Object[_0x385702(0x2da)](_0x2a2cf5)['includes'](_0x23199e)?_0x2a2cf5[_0x23199e]:[];for(const _0x5bb2bb of _0xb407ca){Object[_0x385702(0x2da)](_0x2a2cf5)[_0x385702(0x366)](_0x5bb2bb)&&_0x2bfbbc['push'](..._0x2a2cf5[_0x5bb2bb]);}const _0x146c30=_0x2bfbbc[_0x385702(0x373)](({file:_0x23d42d,stats:_0x573004})=>{const _0x1f2999=_0x385702;return!_0x23d42d[_0x1f2999(0x1f8)](_0x1f2999(0x249))&&(_0xabe66a+=_0x573004[_0x1f2999(0x2c1)]),{'id':_0x23d42d,'name':_0x23d42d['endsWith'](_0x1f2999(0x257))?'SVG':_0x23d42d[_0x1f2999(0x1f8)](_0x1f2999(0x1d2))?_0x1f2999(0x1e5):_0x23d42d['endsWith'](_0x1f2999(0x2f6))?'PDF':_0x23d42d[_0x1f2999(0x1f8)](_0x1f2999(0x317))?_0x1f2999(0x225):_0x23d42d[_0x1f2999(0x1f8)](_0x1f2999(0x1d5))?_0x1f2999(0x32f):_0x23d42d['endsWith'](_0x1f2999(0x2a6))?_0x1f2999(0x293):_0x23d42d[_0x1f2999(0x238)]('.')[_0x1f2999(0x321)]()[_0x1f2999(0x372)](),'color':_0x23d42d['endsWith']('.svg')||_0x23d42d[_0x1f2999(0x1f8)]('.svgz')?_0x1f2999(0x213):_0x23d42d[_0x1f2999(0x1f8)](_0x1f2999(0x2f6))?'red':_0x23d42d['endsWith'](_0x1f2999(0x317))?_0x1f2999(0x330):_0x23d42d[_0x1f2999(0x1f8)](_0x1f2999(0x1d5))?'green':_0x23d42d[_0x1f2999(0x1f8)](_0x1f2999(0x2a6))?_0x1f2999(0x313):_0x1f2999(0x361)};});if(_0x146c30[_0x385702(0x22a)](_0x497de3=>_0x497de3['id']['includes'](_0x385702(0x246))))_0x212e19='RL/TL\x20Processing';else{if(_0x146c30[_0x385702(0x22a)](_0xe1f6cf=>[_0x385702(0x364),'svgz'][_0x385702(0x366)](_0xe1f6cf['id'][_0x385702(0x238)]('.')[_0x385702(0x321)]()))&&_0x146c30[_0x385702(0x22a)](_0x1ca00a=>[_0x385702(0x306)][_0x385702(0x366)](_0x1ca00a['id']['split']('.')[_0x385702(0x321)]())))_0x212e19=_0x385702(0x1d0);else{if(_0x146c30['some'](_0x25850e=>['svg',_0x385702(0x285)][_0x385702(0x366)](_0x25850e['id']['split']('.')[_0x385702(0x321)]())))_0x212e19=_0x385702(0x276);else{if(_0x146c30[_0x385702(0x22a)](_0x503ce8=>['json'][_0x385702(0x366)](_0x503ce8['id'][_0x385702(0x238)]('.')[_0x385702(0x321)]()))&&_0x146c30[_0x385702(0x22a)](_0x18a733=>[_0x385702(0x2f1)]['includes'](_0x18a733['id'][_0x385702(0x238)]('.')[_0x385702(0x321)]())))_0x212e19=_0x385702(0x2c2);else{if(_0x146c30['some'](_0x1a0344=>[_0x385702(0x209)]['includes'](_0x1a0344['id'][_0x385702(0x238)]('.')[_0x385702(0x321)]())))_0x212e19=_0x385702(0x1f3);else{if(_0x146c30[_0x385702(0x22a)](_0x23276f=>[_0x385702(0x36b)][_0x385702(0x366)](_0x23276f['id'][_0x385702(0x238)]('.')['pop']()))&&!_0x146c30[_0x385702(0x22a)](_0x58bfa9=>[_0x385702(0x2f1)][_0x385702(0x366)](_0x58bfa9['id']['split']('.')[_0x385702(0x321)]())))_0x212e19=_0x385702(0x30d);else _0x146c30['some'](_0x35b275=>[_0x385702(0x36b)]['includes'](_0x35b275['id'][_0x385702(0x238)]('.')[_0x385702(0x321)]()))&&(_0x212e19=_0x385702(0x319));}}}}}_0x85a35e[_0x385702(0x338)]({'name':_0x25933c,'goodFileName':_0x54e0bd,'size':_0xabe66a,'createdAt':_0x3494fc['birthtime'],'updatedAt':_0x3494fc[_0x385702(0x2a0)],'readAt':_0x3494fc[_0x385702(0x31b)],'action':_0x212e19,'availableFormats':_0x146c30});}),_0x85a35e[_0x103b74(0x22f)]((_0x5e90b7,_0x2caef6)=>_0x2caef6['updatedAt']-_0x5e90b7[_0x103b74(0x20a)]);const _0x2f58f7={'timestamp':new Date(),'totalFiles':_0x85a35e[_0x103b74(0x1da)],'files':_0x85a35e},_0x33ba69=path[_0x103b74(0x2ee)](_0x3ee97f,_0x103b74(0x2a8));fs[_0x103b74(0x325)](_0x33ba69,JSON[_0x103b74(0x1ee)](_0x2f58f7,null,0x2));}catch(_0x4851d6){console[_0x103b74(0x1d6)]('===================error==================='),console['log'](_0x103b74(0x31f)+_0x4851d6[_0x103b74(0x302)]);}},scheduleFileAnalysis=()=>{const _0x29dacb=a27_0x1cc87c;analyzeConverterFiles(),schedule[_0x29dacb(0x1d3)](_0x29dacb(0x26f),analyzeConverterFiles),logStream[_0x29dacb(0x1fe)](_0x29dacb(0x2a5));};scheduleFileAnalysis(),module[a27_0x1cc87c(0x1ec)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};