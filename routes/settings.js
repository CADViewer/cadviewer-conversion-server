const a26_0x22f7b9=a26_0x46ac;(function(_0xd409eb,_0x478155){const _0x438f9d=a26_0x46ac,_0x57eb8e=_0xd409eb();while(!![]){try{const _0x556472=-parseInt(_0x438f9d(0x131))/0x1*(-parseInt(_0x438f9d(0x234))/0x2)+parseInt(_0x438f9d(0x120))/0x3+parseInt(_0x438f9d(0x10c))/0x4*(-parseInt(_0x438f9d(0x10d))/0x5)+parseInt(_0x438f9d(0x125))/0x6+parseInt(_0x438f9d(0xfb))/0x7*(parseInt(_0x438f9d(0x1ee))/0x8)+parseInt(_0x438f9d(0x184))/0x9+parseInt(_0x438f9d(0x214))/0xa*(-parseInt(_0x438f9d(0x27d))/0xb);if(_0x556472===_0x478155)break;else _0x57eb8e['push'](_0x57eb8e['shift']());}catch(_0x59b9dc){_0x57eb8e['push'](_0x57eb8e['shift']());}}}(a26_0x57fc,0x8978a));const express=require(a26_0x22f7b9(0x241)),router=express[a26_0x22f7b9(0x177)](),multer=require('multer'),fs=require('fs'),path=require(a26_0x22f7b9(0xfd)),getHotConfig=require(a26_0x22f7b9(0x1c5))[a26_0x22f7b9(0x23d)],{exec}=require(a26_0x22f7b9(0x182)),os=require('os'),conn=require('../libs/mysql.js'),bcrypt=require(a26_0x22f7b9(0x1c8)),osu=require(a26_0x22f7b9(0x1fe)),schedule=require(a26_0x22f7b9(0x1a1)),counter=require(a26_0x22f7b9(0x27a)),{randomUUID}=require(a26_0x22f7b9(0x1e1)),logStream=require(a26_0x22f7b9(0x153)),config=require('../CADViewer_config.json'),basicAuth=require(a26_0x22f7b9(0x13f)),protectedRoute=basicAuth({'users':{[config['settingsUserBasicAuth']]:config[a26_0x22f7b9(0x265)]},'challenge':!![],'realm':'CADViewer\x20Settings'});router[a26_0x22f7b9(0x1bf)]('/tailwind.js',async(_0x18e623,_0x76bf5c)=>{const _0x35c437=a26_0x22f7b9;_0x76bf5c[_0x35c437(0x264)](path['join'](path[_0x35c437(0x158)](require[_0x35c437(0x14b)][_0x35c437(0x18c)]),_0x35c437(0x199)));}),router['get']('/chart.min.js',async(_0x3ff97e,_0x4ad610)=>{const _0xecc55d=a26_0x22f7b9;_0x4ad610['sendFile'](path[_0xecc55d(0x108)](path[_0xecc55d(0x158)](require[_0xecc55d(0x14b)][_0xecc55d(0x18c)]),_0xecc55d(0x1f2)));}),router[a26_0x22f7b9(0x1bf)]('/style.css',async(_0x4b5dd2,_0x559617)=>{const _0x5a1667=a26_0x22f7b9;_0x559617[_0x5a1667(0x264)](path[_0x5a1667(0x108)](path[_0x5a1667(0x158)](require[_0x5a1667(0x14b)][_0x5a1667(0x18c)]),'cadviewer/settings/style.css'));}),router[a26_0x22f7b9(0x1bf)]('/vanilla-toast.css',async(_0x5b8749,_0x560e89)=>{const _0x282ebe=a26_0x22f7b9;_0x560e89[_0x282ebe(0x264)](path[_0x282ebe(0x108)](path[_0x282ebe(0x158)](require['main'][_0x282ebe(0x18c)]),_0x282ebe(0xfa)));}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x13c),async(_0x4e195a,_0xbea5dc)=>{const _0x56c788=a26_0x22f7b9;_0xbea5dc['sendFile'](path[_0x56c788(0x108)](path[_0x56c788(0x158)](require[_0x56c788(0x14b)][_0x56c788(0x18c)]),_0x56c788(0x14a)));}),router[a26_0x22f7b9(0x1bf)]('/icons.js',async(_0x30235c,_0x59c991)=>{const _0x49d351=a26_0x22f7b9;_0x59c991[_0x49d351(0x264)](path[_0x49d351(0x108)](path[_0x49d351(0x158)](require[_0x49d351(0x14b)][_0x49d351(0x18c)]),_0x49d351(0x203)));}),router[a26_0x22f7b9(0x1bf)]('/',protectedRoute,async(_0x37adf2,_0x1d87f9)=>{const _0x46ebaf=a26_0x22f7b9,_0x3dc0=fs[_0x46ebaf(0x1cc)](path[_0x46ebaf(0x108)](path[_0x46ebaf(0x158)](require[_0x46ebaf(0x14b)][_0x46ebaf(0x18c)]),'cadviewer/settings/home.html'),'utf8'),_0x261685=_0x3dc0[_0x46ebaf(0x256)](_0x46ebaf(0x121),_0x37adf2[_0x46ebaf(0x20f)]);_0x1d87f9[_0x46ebaf(0x270)](_0x261685);}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x27b),protectedRoute,async(_0x22bb3c,_0xb75920)=>{const _0x4df7a1=a26_0x22f7b9,_0x523dca=fs['readFileSync'](path[_0x4df7a1(0x108)](path['dirname'](require[_0x4df7a1(0x14b)][_0x4df7a1(0x18c)]),_0x4df7a1(0x1dd)),_0x4df7a1(0x1f6)),_0x3e7ed0=_0x523dca['replaceAll'](_0x4df7a1(0x121),_0x22bb3c['version']);_0xb75920[_0x4df7a1(0x270)](_0x3e7ed0);}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x12b),protectedRoute,async(_0x513e7b,_0x14d6ee)=>{const _0x432e17=a26_0x22f7b9,_0x42f900=fs[_0x432e17(0x1cc)](path[_0x432e17(0x108)](path[_0x432e17(0x158)](require[_0x432e17(0x14b)][_0x432e17(0x18c)]),_0x432e17(0x1eb)),_0x432e17(0x1f6)),_0x433f60=_0x42f900[_0x432e17(0x256)](_0x432e17(0x121),_0x513e7b[_0x432e17(0x20f)]);_0x14d6ee[_0x432e17(0x270)](_0x433f60);}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x164),protectedRoute,async(_0x1afc8d,_0x2ccd1f)=>{const _0x32b9dc=a26_0x22f7b9,_0x21fed9=fs['readFileSync'](path[_0x32b9dc(0x108)](path['dirname'](require['main']['filename']),_0x32b9dc(0x252)),_0x32b9dc(0x1f6)),_0x4d8137=_0x21fed9[_0x32b9dc(0x256)](_0x32b9dc(0x121),_0x1afc8d['version']);_0x2ccd1f['send'](_0x4d8137);}),router[a26_0x22f7b9(0x1a0)](a26_0x22f7b9(0x164),async(_0x21d8f0,_0x43cf79)=>{const _0x3fafff=a26_0x22f7b9,_0x1e9efa=path[_0x3fafff(0x108)](path['dirname'](require[_0x3fafff(0x14b)][_0x3fafff(0x18c)]),'CADViewer_config.json'),_0x43b18a=JSON[_0x3fafff(0x248)](fs[_0x3fafff(0x1cc)](_0x1e9efa,_0x3fafff(0x1f6))),_0x4b1530=_0x43b18a['folderLocation'];if(!fs['existsSync'](_0x4b1530))return _0x43cf79['status'](0x194)['json']({'message':_0x3fafff(0x149)});const _0x5e3845=_0x3b49f2=>{const _0x3dcfb1=_0x3fafff;let _0x44a1ca=0x0;return _0x3b49f2[_0x3dcfb1(0xe9)](_0x43fdf0=>{const _0x4f7c97=_0x3dcfb1;_0x43fdf0[_0x4f7c97(0x20c)]?_0x44a1ca+=_0x5e3845(_0x43fdf0[_0x4f7c97(0x1f0)]):_0x44a1ca+=_0x43fdf0[_0x4f7c97(0x247)];}),_0x44a1ca;},_0x17d5b1=_0x366a2d=>{const _0x4f8e7d=_0x3fafff;if(_0x366a2d<0x400)return _0x366a2d+'\x20B';else{if(_0x366a2d<0x400*0x400)return(_0x366a2d/0x400)[_0x4f8e7d(0x1b3)](0x2)+'\x20KB';else return _0x366a2d<0x400*0x400*0x400?(_0x366a2d/0x400/0x400)[_0x4f8e7d(0x1b3)](0x2)+'\x20MB':(_0x366a2d/0x400/0x400/0x400)['toFixed'](0x2)+'\x20GB';}},_0x11a015=(_0x48f9a0,_0x5ddc69='')=>{const _0x2cbe7a=_0x3fafff,_0x1ea28b=fs[_0x2cbe7a(0x12f)](_0x48f9a0),_0x2d40d5=[];return _0x1ea28b[_0x2cbe7a(0xe9)](_0x3e48cf=>{const _0x545aef=_0x2cbe7a,_0xb62368=path[_0x545aef(0x108)](_0x48f9a0,_0x3e48cf)['replaceAll']('\x5c','/'),_0x198246=fs[_0x545aef(0x161)](_0xb62368);if(_0x198246['isDirectory']()){const _0x3317aa=_0x11a015(_0xb62368,_0x5ddc69+_0x545aef(0x19f));_0x2d40d5['push']({'name':_0x3e48cf,'size':_0x198246[_0x545aef(0x247)],'path':_0xb62368,'permissions':_0x198246['mode'],'isFolder':!![],'sub_dirs':_0x3317aa});}else _0x2d40d5[_0x545aef(0x142)]({'name':_0x3e48cf,'size':_0x198246[_0x545aef(0x247)],'path':_0xb62368,'permissions':_0x198246[_0x545aef(0x1df)],'isFolder':![]});}),_0x2d40d5;};let _0x1b99b8=_0x11a015(_0x4b1530);const _0x14fb55=_0x444ced=>{const _0x1f5993=_0x3fafff;return _0x444ced[_0x1f5993(0xe9)](_0x592beb=>{const _0x1e3328=_0x1f5993;_0x592beb[_0x1e3328(0x20c)]?(_0x592beb['formatedSize']=_0x17d5b1(_0x5e3845(_0x592beb['sub_dirs'])),_0x592beb['sub_dirs']=_0x14fb55(_0x592beb[_0x1e3328(0x1f0)])):_0x592beb['formatedSize']=_0x17d5b1(_0x592beb['size']);}),_0x444ced;};_0x43cf79['status'](0xc8)['json'](_0x14fb55(_0x1b99b8));}),router[a26_0x22f7b9(0x1a0)](a26_0x22f7b9(0x1a7),async(_0x286401,_0x13b5b2)=>{const _0x57c04f=a26_0x22f7b9,{path:_0x49afdb}=_0x286401['body'],_0x295d0e=_0x49afdb[_0x57c04f(0x257)]('/')['pop']();if(!fs['existsSync'](_0x49afdb))return _0x13b5b2[_0x57c04f(0x119)](0x194)[_0x57c04f(0x23f)]({'message':_0x57c04f(0x20d)});_0x13b5b2[_0x57c04f(0x266)]('Content-Type','application/octet-stream'),_0x13b5b2[_0x57c04f(0x266)]('Content-Disposition',_0x57c04f(0x1e3)+_0x295d0e+'\x22'),_0x13b5b2[_0x57c04f(0x17e)](_0x49afdb,_0x43bfca=>{const _0x2dc18c=_0x57c04f;_0x43bfca&&_0x13b5b2[_0x2dc18c(0x119)](0x1f4)[_0x2dc18c(0x23f)]({'message':_0x2dc18c(0x10f)});});}),router[a26_0x22f7b9(0x1a0)](a26_0x22f7b9(0x22b),async(_0x3e814a,_0x24b226)=>{const _0x2cc64e=a26_0x22f7b9,_0x5d08d3=_0x3e814a[_0x2cc64e(0x1e9)],_0x1e4906=getHotConfig()[_0x2cc64e(0x11b)],_0x5012c4=path[_0x2cc64e(0x108)](_0x1e4906,_0x5d08d3[_0x2cc64e(0xfd)]);if(!fs['existsSync'](_0x5012c4))return _0x24b226[_0x2cc64e(0x119)](0x194)['json']({'message':_0x2cc64e(0xeb)});if(fs[_0x2cc64e(0x1bc)](path[_0x2cc64e(0x108)](_0x5012c4,_0x5d08d3[_0x2cc64e(0x25c)])))return _0x24b226[_0x2cc64e(0x119)](0x199)[_0x2cc64e(0x23f)]({'message':'Folder\x20already\x20exists.'});fs[_0x2cc64e(0x246)](path[_0x2cc64e(0x108)](_0x5012c4,_0x5d08d3[_0x2cc64e(0x25c)]),_0x4da59b=>{const _0x4876ab=_0x2cc64e;_0x4da59b&&_0x24b226['status'](0x1f4)['json']({'message':_0x4876ab(0x186)}),_0x24b226[_0x4876ab(0x119)](0xc8)[_0x4876ab(0x23f)]({'message':_0x4876ab(0x188)});});}),router['put'](a26_0x22f7b9(0x123),async(_0x1d41e5,_0x500556)=>{const _0x4d6a32=a26_0x22f7b9,{newName:_0x2d5830,isFolder:_0x3785c3,path:_0x4527bd}=_0x1d41e5[_0x4d6a32(0x1e9)];if(!fs['existsSync'](_0x4527bd))return _0x500556[_0x4d6a32(0x119)](0x194)[_0x4d6a32(0x23f)]({'message':_0x3785c3?_0x4d6a32(0xf6):'File\x20not\x20found'});const _0xdb597b=_0x4527bd[_0x4d6a32(0x166)](_0x4527bd[_0x4d6a32(0x257)]('/')[_0x4d6a32(0x1b7)](),_0x2d5830);fs[_0x4d6a32(0x221)](_0x4527bd,_0xdb597b),fs[_0x4d6a32(0x15b)](_0x4527bd),_0x500556[_0x4d6a32(0x119)](0xc8)['json']({'message':_0x3785c3?_0x4d6a32(0x25e):'File\x20renamed.'});}),router[a26_0x22f7b9(0x187)](a26_0x22f7b9(0x17c),async(_0x2283c8,_0x3b62ab)=>{const _0x57ccbd=a26_0x22f7b9,{path:_0x1def50}=_0x2283c8['body'];if(!fs['existsSync'](_0x1def50))return _0x3b62ab[_0x57ccbd(0x119)](0x194)[_0x57ccbd(0x23f)]({'message':_0x57ccbd(0x22c)});const _0x1e7477=fs[_0x57ccbd(0x161)](_0x1def50);if(_0x1e7477[_0x57ccbd(0xfc)]())fs[_0x57ccbd(0x275)](_0x1def50,_0x35f4dc=>{const _0x3cebdb=_0x57ccbd;_0x35f4dc&&_0x3b62ab[_0x3cebdb(0x119)](0x1f4)['json']({'message':_0x3cebdb(0x17b)}),_0x3b62ab[_0x3cebdb(0x119)](0xc8)['json']({'message':_0x3cebdb(0x1ef)});});else _0x1e7477['isDirectory']()&&fs[_0x57ccbd(0x122)](_0x1def50,{'recursive':!![]},_0x99ad95=>{const _0x7c396=_0x57ccbd;_0x99ad95&&_0x3b62ab[_0x7c396(0x119)](0x1f4)[_0x7c396(0x23f)]({'message':_0x7c396(0x26d)}),_0x3b62ab[_0x7c396(0x119)](0xc8)['json']({'message':_0x7c396(0xe6)});});});!fs[a26_0x22f7b9(0x1bc)](a26_0x22f7b9(0x1d2))&&fs[a26_0x22f7b9(0x20b)](a26_0x22f7b9(0x1d2));const storage=multer['diskStorage']({'destination':(_0x644047,_0x4867cc,_0x5e86fa)=>{const _0x17a898=a26_0x22f7b9;_0x5e86fa(null,_0x17a898(0xff));},'filename':(_0x46a9a6,_0x17ef7d,_0x2fef82)=>{const _0x4d1ea7=a26_0x22f7b9;_0x2fef82(null,Date[_0x4d1ea7(0x242)]()+path[_0x4d1ea7(0x190)](_0x17ef7d[_0x4d1ea7(0x110)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router['post']('/folders/upload',upload[a26_0x22f7b9(0x1bd)](a26_0x22f7b9(0x19c)),async(_0x2f1f13,_0x4b1335)=>{const _0x57d6fa=a26_0x22f7b9,_0x536a30=_0x2f1f13[_0x57d6fa(0x1e9)];if(!_0x2f1f13[_0x57d6fa(0x19c)]||_0x2f1f13[_0x57d6fa(0x19c)][_0x57d6fa(0x157)]===0x0)return _0x4b1335['status'](0x190)[_0x57d6fa(0x23f)]({'message':_0x57d6fa(0x160)});const _0x2b91ef=getHotConfig()[_0x57d6fa(0x11b)],_0x47b11f=path[_0x57d6fa(0x108)](_0x2b91ef,_0x536a30[_0x57d6fa(0xfd)]);if(!fs['existsSync'](_0x47b11f))return _0x4b1335[_0x57d6fa(0x119)](0x194)[_0x57d6fa(0x23f)]({'message':_0x57d6fa(0xeb)});const _0x2e1b77=_0x2f1f13[_0x57d6fa(0x19c)][_0x57d6fa(0xf2)](_0x38708f=>({'originalname':_0x38708f[_0x57d6fa(0x110)],'filename':_0x38708f['filename'],'mimetype':_0x38708f[_0x57d6fa(0x230)],'size':_0x38708f[_0x57d6fa(0x247)]}));_0x2e1b77['forEach'](_0x201f5d=>{const _0x4f2d31=_0x57d6fa;fs[_0x4f2d31(0x221)](path[_0x4f2d31(0x108)](_0x4f2d31(0xff),_0x201f5d[_0x4f2d31(0x18c)]),path[_0x4f2d31(0x108)](_0x47b11f,_0x201f5d[_0x4f2d31(0x110)])),fs['unlinkSync'](path['join'](_0x4f2d31(0xff),_0x201f5d['filename']));}),_0x4b1335[_0x57d6fa(0x119)](0xc8)['json']({'message':'Files\x20uploaded\x20successfully','files':_0x2e1b77});}),router[a26_0x22f7b9(0x19e)](a26_0x22f7b9(0x1e6),async(_0x19415e,_0x5c4ed6)=>{const _0x4ce784=a26_0x22f7b9,_0x4cd8c8=path[_0x4ce784(0x108)](path['dirname'](require['main'][_0x4ce784(0x18c)]),_0x4ce784(0x102)),{config:_0x4f11a8}=_0x19415e[_0x4ce784(0x1e9)];if(!_0x4f11a8)return _0x5c4ed6[_0x4ce784(0x119)](0x190)[_0x4ce784(0x23f)]({'message':_0x4ce784(0x174)});try{fs['writeFileSync'](_0x4cd8c8,JSON[_0x4ce784(0x1e7)](_0x4f11a8,null,0x4)),_0x5c4ed6[_0x4ce784(0x119)](0xc8)[_0x4ce784(0x23f)]({'message':_0x4ce784(0x1f7)});}catch(_0x3ed46c){_0x5c4ed6[_0x4ce784(0x119)](0x1f4)[_0x4ce784(0x23f)]({'message':_0x4ce784(0x12e)});}}),router[a26_0x22f7b9(0x19e)](a26_0x22f7b9(0x109),async(_0x1317ab,_0x553032)=>{const _0x42e28d=a26_0x22f7b9,{key:_0x5a0439,value:_0x895da3}=_0x1317ab[_0x42e28d(0x1e9)],_0x36b7b1=path[_0x42e28d(0x108)](path[_0x42e28d(0x158)](require['main'][_0x42e28d(0x18c)]),_0x42e28d(0x102));fs[_0x42e28d(0x1e5)](_0x36b7b1,_0x42e28d(0x1f6),function(_0x286960,_0x203101){const _0x2da490=_0x42e28d;_0x286960&&_0x553032['status'](0x1f4)['send'](_0x286960);const _0x2f4bfc=JSON[_0x2da490(0x248)](_0x203101);_0x2f4bfc[_0x5a0439]=_0x895da3;if(_0x5a0439===_0x2da490(0x14e)){let _0x26e19f='';if(_0x2f4bfc[_0x2da490(0x206)]){_0x26e19f=os[_0x2da490(0x209)]();if(_0x26e19f===_0x2da490(0x155))_0x26e19f=_0x2da490(0x1e2);else{if(_0x26e19f==='darwin')_0x26e19f=_0x2da490(0x224);}}else _0x26e19f=_0x2f4bfc[_0x2da490(0x209)];if(_0x26e19f===_0x2da490(0x1e2)){_0x2f4bfc['ServerLocation']=path[_0x2da490(0x129)](__dirname,'..')+'/';const _0x268733=/\\/g;_0x2f4bfc[_0x2da490(0x16c)]=_0x2f4bfc[_0x2da490(0x16c)][_0x2da490(0x166)](_0x268733,'/');}else _0x2f4bfc['ServerLocation']=path[_0x2da490(0x129)](__dirname,'..')+'/';}if(_0x5a0439===_0x2da490(0x206)){let _0x4cb3da=os[_0x2da490(0x209)]();if(_0x4cb3da===_0x2da490(0x155))_0x4cb3da=_0x2da490(0x1e2);else _0x4cb3da='linux';_0x4cb3da===_0x2da490(0x1e2)?_0x895da3===!![]&&(_0x2f4bfc['autoxchange_executable']=_0x2f4bfc['autoxchange_executable_windows'],_0x2f4bfc[_0x2da490(0x27c)]=_0x2f4bfc['dwgmerge_executable_windows'],_0x2f4bfc[_0x2da490(0x227)]=_0x2f4bfc[_0x2da490(0x107)]):_0x895da3===!![]&&(_0x2f4bfc[_0x2da490(0x253)]=_0x2f4bfc[_0x2da490(0x126)],_0x2f4bfc[_0x2da490(0x27c)]=_0x2f4bfc[_0x2da490(0x1c2)],_0x2f4bfc[_0x2da490(0x227)]=_0x2f4bfc[_0x2da490(0xfe)]),_0x2f4bfc[_0x2da490(0x209)]=_0x4cb3da;}if(_0x2f4bfc['autodetect_platform']){let _0x192215=os[_0x2da490(0x209)]();if(_0x192215===_0x2da490(0x155))_0x192215=_0x2da490(0x1e2);else _0x192215=_0x2da490(0x224);if(_0x192215===_0x2da490(0x1e2)){if(_0x5a0439===_0x2da490(0x1ce))_0x2f4bfc[_0x2da490(0x253)]=_0x895da3;else{if(_0x5a0439==='dwgmerge_executable_windows')_0x2f4bfc[_0x2da490(0x27c)]=_0x895da3;else _0x5a0439===_0x2da490(0x107)&&(_0x2f4bfc[_0x2da490(0x227)]=_0x895da3);}}else{if(_0x5a0439===_0x2da490(0x126))_0x2f4bfc['autoxchange_executable']=_0x895da3;else{if(_0x5a0439===_0x2da490(0x1c2))_0x2f4bfc['dwgmerge_executable']=_0x895da3;else _0x5a0439===_0x2da490(0xfe)&&(_0x2f4bfc[_0x2da490(0x227)]=_0x895da3);}}}fs['writeFile'](_0x36b7b1,JSON[_0x2da490(0x1e7)](_0x2f4bfc,null,0x4),function(_0x942abe){const _0xf252e7=_0x2da490;_0x942abe&&_0x553032[_0xf252e7(0x119)](0x1f4)[_0xf252e7(0x270)](_0x942abe),_0x553032[_0xf252e7(0x119)](0xc8)[_0xf252e7(0x23f)]({'message':_0xf252e7(0x1cd)});});});}),router[a26_0x22f7b9(0x1a0)]('/config/content',async(_0x1616b1,_0x220af6)=>{const _0x592c86=a26_0x22f7b9,_0xbec6d4=getHotConfig(),_0x406406=(_0xbec6d4[_0x592c86(0x18e)][_0x592c86(0x16e)](_0xbec6d4[_0x592c86(0x16c)])?'':_0xbec6d4['ServerLocation'])+_0xbec6d4['dwgmergeLocation'],_0x1e9b34=(_0xbec6d4['dwgmergeLocation'][_0x592c86(0x16e)](_0xbec6d4[_0x592c86(0x16c)])?'':_0xbec6d4[_0x592c86(0x16c)])+_0xbec6d4['linklistLocation'],_0x4a447f=(_0xbec6d4[_0x592c86(0x19a)][_0x592c86(0x16e)](_0xbec6d4['ServerLocation'])?'':_0xbec6d4[_0x592c86(0x16c)])+_0xbec6d4['converterLocation'],_0x16f332=/ax202.*\.exe/,_0x25ba0c=/ax202.*/,_0x43ff5d=/dwgmerge202.*\.exe/,_0x22f00b=/dwgmerge_202.*/,_0x3a629c=/linklist_202.*\.exe/,_0x494ab1=/linklist_202.*/,_0x3f6968=[],_0x335957=[],_0x34b83e=[],_0x38f08c=[],_0x2b2998=[],_0x1d2ba6=[];let _0x553b05='';if(_0xbec6d4['autodetect_platform']){_0x553b05=os['platform']();if(_0x553b05===_0x592c86(0x155))_0x553b05=_0x592c86(0x1e2);else{if(_0x553b05===_0x592c86(0x112))_0x553b05=_0x592c86(0x224);}}else _0x553b05=_0xbec6d4['platform'];fs[_0x592c86(0x12f)](_0x4a447f[_0x592c86(0x256)](_0x592c86(0x224),'windows'))['forEach'](_0x11aa2f=>{const _0x387e12=_0x592c86;if(_0x16f332['test'](_0x11aa2f[_0x387e12(0x103)]()))_0x3f6968['push'](_0x11aa2f);}),fs[_0x592c86(0x12f)](_0x406406['replaceAll'](_0x592c86(0x224),_0x592c86(0x1e2)))[_0x592c86(0xe9)](_0xffad20=>{const _0x52424f=_0x592c86;if(_0x43ff5d[_0x52424f(0x100)](_0xffad20[_0x52424f(0x103)]()))_0x335957[_0x52424f(0x142)](_0xffad20);}),fs[_0x592c86(0x12f)](_0x1e9b34['replaceAll'](_0x592c86(0x224),_0x592c86(0x1e2)))[_0x592c86(0xe9)](_0x53029b=>{const _0x121311=_0x592c86;if(_0x3a629c[_0x121311(0x100)](_0x53029b[_0x121311(0x103)]()))_0x34b83e[_0x121311(0x142)](_0x53029b);}),fs[_0x592c86(0x12f)](_0x4a447f[_0x592c86(0x256)]('windows',_0x592c86(0x224)))[_0x592c86(0xe9)](_0x10da72=>{const _0x16055b=_0x592c86;if(_0x25ba0c[_0x16055b(0x100)](_0x10da72['toLocaleLowerCase']()))_0x38f08c[_0x16055b(0x142)](_0x10da72);}),fs['readdirSync'](_0x406406[_0x592c86(0x256)](_0x592c86(0x1e2),_0x592c86(0x224)))['forEach'](_0x29266e=>{const _0x265430=_0x592c86;if(_0x22f00b[_0x265430(0x100)](_0x29266e[_0x265430(0x103)]()))_0x2b2998[_0x265430(0x142)](_0x29266e);}),fs[_0x592c86(0x12f)](_0x1e9b34['replaceAll'](_0x592c86(0x1e2),_0x592c86(0x224)))[_0x592c86(0xe9)](_0x4b77b4=>{const _0x382388=_0x592c86;if(_0x494ab1['test'](_0x4b77b4[_0x382388(0x103)]()))_0x1d2ba6[_0x382388(0x142)](_0x4b77b4);});const _0x576504=[_0x592c86(0x23b),_0x592c86(0x204),_0x592c86(0x11f),_0x592c86(0xf1),'fontLocation'],_0x1ed4f4=['fileLocation',_0x592c86(0x144),'converterLocation',_0x592c86(0x1d7),'xpathLocation',_0x592c86(0x1c1),_0x592c86(0x1d5),_0x592c86(0x18e),_0x592c86(0xe7),_0x592c86(0x20f)],_0x972bf0=[_0x592c86(0x1c4),'mysqlHost',_0x592c86(0x198),_0x592c86(0x1fd),_0x592c86(0x1a3),_0x592c86(0x18f),_0x592c86(0x26e)],_0x277d3c={'ServerUrl':_0x592c86(0x16a),'autoxchange_executable':_0x592c86(0x133),'linklist_executable':_0x592c86(0x132),'dwgmerge_executable':_0x592c86(0x225),'setup_mysqlHost':_0x592c86(0x1f4),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':'Demo\x20and\x20Base\x20User\x20Settings','smtpHost':_0x592c86(0x172)},_0x5ce0d4={'https':_0x592c86(0x22e),'ServerFrontEndUrlAsAllowedOriginOnly':_0x592c86(0x22e),'autodetect_platform':_0x592c86(0x22e),'cvjs_svgz_compress':_0x592c86(0x22e),'cached_conversion':_0x592c86(0x22e),'remainOnServer':_0x592c86(0x22e),'cvjs_debug':_0x592c86(0x22e),'autodetect_location':_0x592c86(0x22e),'platform':_0x592c86(0xf9),'autoxchange_executable':_0x592c86(0x197)+(_0x553b05==='windows'?_0x3f6968['join'](','):_0x38f08c['join'](',')),'autoxchange_executable_windows':_0x592c86(0x197)+_0x3f6968['join'](','),'autoxchange_executable_linux':_0x592c86(0x197)+_0x38f08c[_0x592c86(0x108)](','),'dwgmerge_executable':_0x592c86(0x197)+(_0x553b05==='windows'?_0x335957['join'](','):_0x2b2998['join'](',')),'dwgmerge_executable_windows':'radio|'+_0x335957[_0x592c86(0x108)](','),'dwgmerge_executable_linux':_0x592c86(0x197)+_0x2b2998[_0x592c86(0x108)](','),'linklist_executable':_0x592c86(0x197)+(_0x553b05===_0x592c86(0x1e2)?_0x34b83e['join'](','):_0x1d2ba6[_0x592c86(0x108)](',')),'linklist_executable_windows':_0x592c86(0x197)+_0x34b83e[_0x592c86(0x108)](','),'linklist_executable_linux':'radio|'+_0x1d2ba6[_0x592c86(0x108)](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':_0x592c86(0x22e),'ContentSecurityPolicyReportOnly':_0x592c86(0x22e),'fileLoad_PasswordAuthentication':'boolean','contentLocationCheck':_0x592c86(0x22e),'globalBearerAutentication':_0x592c86(0x22e),'bcryptSaltRounds':'number','userFolderMaximumFiles':_0x592c86(0x15d),'userFolderMaximumSizeInMB':_0x592c86(0x15d)},_0x2049b4={},_0x596a24=Object[_0x592c86(0x24f)](_0xbec6d4);_0xbec6d4[_0x592c86(0x206)]&&_0x576504[_0x592c86(0x142)](_0x592c86(0x209)),_0xbec6d4[_0x592c86(0x14e)]&&(_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x16c)),_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x253)),_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x27c)),_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x227))),!_0xbec6d4[_0x592c86(0x171)]&&_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x1a9)),!_0xbec6d4[_0x592c86(0x179)]&&(_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x196)),_0x1ed4f4['push'](_0x592c86(0x198)),_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x1fd)),_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x1a3))),!_0xbec6d4[_0x592c86(0x1f1)]&&_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x217)),!_0xbec6d4[_0x592c86(0x24e)]&&(_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x185)),_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x101))),!_0xbec6d4[_0x592c86(0x1f8)]&&_0x1ed4f4[_0x592c86(0x142)](_0x592c86(0x1c9)),_0x596a24['forEach'](_0xf77330=>{!_0x576504['includes'](_0xf77330)&&(_0x2049b4[_0xf77330]=_0xbec6d4[_0xf77330]);}),_0x2049b4[_0x592c86(0x144)]=''+_0xbec6d4[_0x592c86(0x1c4)]+_0xbec6d4['fileLocation'],_0x220af6[_0x592c86(0x119)](0xc8)['json']({'notEditableFields':_0x1ed4f4,'customFieldTypes':_0x5ce0d4,'notHotEditableFields':_0x972bf0,'config':_0x2049b4,'fieldsTitle':_0x277d3c,'configData':_0xbec6d4});}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x173),protectedRoute,async(_0x10e3b1,_0x5cba29)=>{const _0x22c896=a26_0x22f7b9,_0x1c9a6a=fs['readFileSync'](path['join'](path[_0x22c896(0x158)](require['main']['filename']),_0x22c896(0x1fc)),_0x22c896(0x1f6)),_0x228417=_0x1c9a6a['replaceAll'](_0x22c896(0x121),_0x10e3b1[_0x22c896(0x20f)]);_0x5cba29[_0x22c896(0x270)](_0x228417);});function findMatchingLogFiles(_0x479cc3,_0x28952f=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x2a5dd5=a26_0x22f7b9;try{const _0x553c26=fs[_0x2a5dd5(0x12f)](_0x479cc3);return _0x553c26[_0x2a5dd5(0x15c)](_0x24cf53=>_0x28952f[_0x2a5dd5(0x100)](_0x24cf53))[_0x2a5dd5(0xf2)](_0xac6ea5=>_0xac6ea5[_0x2a5dd5(0x256)]('call-Api_Conversion_','')[_0x2a5dd5(0x256)](_0x2a5dd5(0x240),''));}catch(_0x42d7ab){return console['error'](_0x2a5dd5(0x251),_0x42d7ab),[];}}router[a26_0x22f7b9(0x1a0)](a26_0x22f7b9(0x1d6),async(_0x54243a,_0x33fec4)=>{const _0xbd8245=a26_0x22f7b9,_0x138c1e=new Date(),_0x4e26db=_0x138c1e[_0xbd8245(0x1d1)]()['toString']()[_0xbd8245(0x238)](0x2,'0')+'_'+(_0x138c1e[_0xbd8245(0x1a4)]()+0x1)[_0xbd8245(0x26a)]()[_0xbd8245(0x238)](0x2,'0')+'_'+_0x138c1e[_0xbd8245(0x195)](),{displayDay:_0x784db5}=_0x54243a[_0xbd8245(0x1e9)],_0x2fc824=path[_0xbd8245(0x108)](path[_0xbd8245(0x158)](require['main'][_0xbd8245(0x18c)]),'logs',_0xbd8245(0x22f)+(_0x784db5??_0x4e26db)+'.log');fs[_0xbd8245(0x1bc)](_0x2fc824)?fs['readFile'](_0x2fc824,_0xbd8245(0x1f6),function(_0x2eb72d,_0x39ae5d){const _0x8a75f3=_0xbd8245;_0x2eb72d&&_0x33fec4['status'](0x1f4)['send'](_0x2eb72d),_0x33fec4['status'](0xc8)[_0x8a75f3(0x23f)]({'content':_0x39ae5d,'days':findMatchingLogFiles(path['join'](path[_0x8a75f3(0x158)](require[_0x8a75f3(0x14b)][_0x8a75f3(0x18c)]),_0x8a75f3(0x23e)))});}):_0x33fec4[_0xbd8245(0x119)](0xc8)['json']({'content':'','days':findMatchingLogFiles(path[_0xbd8245(0x108)](path['dirname'](require[_0xbd8245(0x14b)][_0xbd8245(0x18c)]),_0xbd8245(0x23e)))});}),router[a26_0x22f7b9(0x187)](a26_0x22f7b9(0x25d),async(_0x2a46af,_0x2e5fb5)=>{const _0x17f1c2=a26_0x22f7b9,_0x37f3b6=new Date(),_0x2bf067=_0x37f3b6['getDate']()[_0x17f1c2(0x26a)]()[_0x17f1c2(0x238)](0x2,'0')+'_'+(_0x37f3b6[_0x17f1c2(0x1a4)]()+0x1)['toString']()[_0x17f1c2(0x238)](0x2,'0')+'_'+_0x37f3b6['getFullYear'](),_0x2fe270=findMatchingLogFiles(path['join'](path['dirname'](require[_0x17f1c2(0x14b)][_0x17f1c2(0x18c)]),_0x17f1c2(0x23e)));_0x2fe270[_0x17f1c2(0xe9)](_0x1e1454=>{const _0x3c4499=_0x17f1c2;if(_0x1e1454!==_0x2bf067)fs['unlinkSync'](path['join'](path[_0x3c4499(0x158)](require[_0x3c4499(0x14b)][_0x3c4499(0x18c)]),_0x3c4499(0x23e),_0x3c4499(0x22f)+_0x1e1454+'.log'));}),logStream[_0x17f1c2(0x1ae)](),_0x2e5fb5[_0x17f1c2(0x119)](0xc8)[_0x17f1c2(0x23f)]({'message':_0x17f1c2(0x21b)});}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x151),protectedRoute,async(_0x1abf4d,_0x2da147)=>{const _0x32105f=a26_0x22f7b9,_0x2dd436=path[_0x32105f(0x108)](path[_0x32105f(0x158)](require['main'][_0x32105f(0x18c)]),_0x32105f(0x189));if(!fs[_0x32105f(0x1bc)](_0x2dd436)){const _0x245549={'jsonDataExtraction':{'standard':[{'paramName':_0x32105f(0x23f),'paramValue':''},{'paramName':_0x32105f(0xec),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x32105f(0x21c)},{'paramName':_0x32105f(0x118),'paramValue':''},{'paramName':_0x32105f(0x1ab),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x32105f(0x17a)},{'paramName':'model','paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x32105f(0x21c)},{'paramName':_0x32105f(0x118),'paramValue':''},{'paramName':_0x32105f(0x1ab),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x32105f(0x250),'paramValue':''}]}};fs[_0x32105f(0x21f)](_0x2dd436,JSON['stringify'](_0x245549,null,0x4));}const _0x32582e=fs[_0x32105f(0x1cc)](path['join'](path[_0x32105f(0x158)](require[_0x32105f(0x14b)][_0x32105f(0x18c)]),_0x32105f(0x10e)),_0x32105f(0x1f6)),_0x3f2da0=_0x32582e[_0x32105f(0x256)]('{version}',_0x1abf4d[_0x32105f(0x20f)]);_0x2da147[_0x32105f(0x270)](_0x3f2da0);}),router['post'](a26_0x22f7b9(0x15f),async(_0xe1ad44,_0x518b5c)=>{const _0x29e9a5=a26_0x22f7b9,{actionName:_0x31794e,contentLocation:_0x4d8fa9}=_0xe1ad44[_0x29e9a5(0x1e9)],_0x2d631c=path[_0x29e9a5(0x108)](path['dirname'](require['main'][_0x29e9a5(0x18c)]),_0x29e9a5(0x189));fs['readFile'](_0x2d631c,_0x29e9a5(0x1f6),function(_0x860874,_0x1711e4){const _0x4b39f0=_0x29e9a5;if(_0x860874)_0x518b5c[_0x4b39f0(0x119)](0xc8)[_0x4b39f0(0x23f)]({'parameters':[]});else{const _0x4e69f6=JSON['parse'](_0x1711e4);if(_0x4e69f6[_0x31794e]&&_0x4e69f6[_0x31794e][_0x4d8fa9])_0x518b5c[_0x4b39f0(0x119)](0xc8)[_0x4b39f0(0x23f)]({'parameters':_0x4e69f6[_0x31794e][_0x4d8fa9]});else _0x4e69f6[_0x31794e]&&_0x4e69f6[_0x31794e]['standard']?_0x518b5c['status'](0xc8)['json']({'parameters':_0x4e69f6[_0x31794e][_0x4b39f0(0xe8)]}):_0x518b5c[_0x4b39f0(0x119)](0xc8)[_0x4b39f0(0x23f)]({'parameters':[]});}});}),router['post'](a26_0x22f7b9(0x1c6),async(_0x1cb1b0,_0x1c4050)=>{const _0x1c6fc3=a26_0x22f7b9,{actionName:_0xff93b4,contentLocation:_0x1e29cc,parameters:_0x4f06e8}=_0x1cb1b0[_0x1c6fc3(0x1e9)],_0x6503f1=path[_0x1c6fc3(0x108)](path['dirname'](require[_0x1c6fc3(0x14b)]['filename']),_0x1c6fc3(0x189));fs[_0x1c6fc3(0x1e5)](_0x6503f1,'utf8',function(_0x34cc78,_0x3c8cae){const _0x147b24=_0x1c6fc3;if(_0x34cc78)_0x1c4050[_0x147b24(0x119)](0x199)[_0x147b24(0x23f)]({'message':_0x147b24(0x183)});else{const _0x166c72=JSON[_0x147b24(0x248)](_0x3c8cae);!_0x166c72[_0xff93b4]&&(_0x166c72[_0xff93b4]={}),_0x166c72[_0xff93b4][_0x1e29cc]=_0x4f06e8,fs[_0x147b24(0x233)](_0x6503f1,JSON['stringify'](_0x166c72,null,0x4),function(_0x1ba577){const _0x530c95=_0x147b24;_0x1ba577&&_0x1c4050[_0x530c95(0x119)](0x199)[_0x530c95(0x23f)]({'message':'Error\x20saving\x20parameters.'}),_0x1c4050[_0x530c95(0x119)](0xc8)[_0x530c95(0x23f)]({'message':_0x530c95(0x1d0)});});}});}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0xf5),protectedRoute,async(_0x40ec4c,_0x51523c)=>{const _0x2430d1=a26_0x22f7b9,_0x2d879d=fs[_0x2430d1(0x1cc)](path[_0x2430d1(0x108)](path[_0x2430d1(0x158)](require[_0x2430d1(0x14b)][_0x2430d1(0x18c)]),_0x2430d1(0x1f5)),'utf8'),_0x5da614=_0x2d879d[_0x2430d1(0x256)](_0x2430d1(0x121),_0x40ec4c[_0x2430d1(0x20f)]);_0x51523c[_0x2430d1(0x270)](_0x5da614);}),router[a26_0x22f7b9(0x1a0)](a26_0x22f7b9(0x14f),async(_0x4d2d40,_0x247489)=>{const _0x2cfcfe=a26_0x22f7b9,_0x20a517=getHotConfig(),_0x1ebc28=_0x20a517[_0x2cfcfe(0x19a)][_0x2cfcfe(0x256)]('//','/'),_0x4985f7=_0x20a517['dwgmergeLocation']['replaceAll']('//','/'),_0x3ec355=_0x20a517[_0x2cfcfe(0xe7)][_0x2cfcfe(0x256)]('//','/'),_0x5a492f=''+_0x1ebc28+_0x20a517[_0x2cfcfe(0x253)],_0x5c18f2=''+_0x4985f7+_0x20a517[_0x2cfcfe(0x27c)],_0x57e1fe=''+_0x3ec355+_0x20a517['linklist_executable'],_0x4d73d7=[],_0x2998ba=new Promise(_0x315054=>{const _0x578a2b=_0x2cfcfe;exec(os[_0x578a2b(0x209)]()===_0x578a2b(0x155)?_0x578a2b(0x222):'ls',_0x446045=>{const _0x4ce386=_0x578a2b;_0x446045?_0x4d73d7[_0x4ce386(0x142)]({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':![],'priority':0x1}):_0x4d73d7[_0x4ce386(0x142)]({'title':_0x4ce386(0x212),'status':!![],'priority':0x1}),_0x315054();});}),_0x5bc51d=new Promise(_0x5857d4=>{const _0x1e2cf9=_0x2cfcfe;fs[_0x1e2cf9(0x21a)](_0x5a492f,fs[_0x1e2cf9(0x202)][_0x1e2cf9(0x148)],_0x56e02b=>{const _0x4c2953=_0x1e2cf9;_0x56e02b?_0x4d73d7[_0x4c2953(0x142)]({'title':_0x4c2953(0x1c3)+_0x20a517[_0x4c2953(0x253)]+_0x4c2953(0x15e),'status':![],'priority':0x2}):_0x4d73d7[_0x4c2953(0x142)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x20a517[_0x4c2953(0x253)]+'\x22\x20executable','status':!![],'priority':0x2}),_0x5857d4();});}),_0x280741=new Promise(_0x307dc0=>{const _0x333002=_0x2cfcfe;fs[_0x333002(0x21a)](_0x5c18f2,fs[_0x333002(0x202)][_0x333002(0x148)],_0x8e69bb=>{const _0x3b2cb1=_0x333002;_0x8e69bb?_0x4d73d7['push']({'title':_0x3b2cb1(0x1c3)+_0x20a517[_0x3b2cb1(0x27c)]+'\x22\x20executable','status':![],'priority':0x3}):_0x4d73d7[_0x3b2cb1(0x142)]({'title':_0x3b2cb1(0x1c3)+_0x20a517[_0x3b2cb1(0x27c)]+_0x3b2cb1(0x15e),'status':!![],'priority':0x3}),_0x307dc0();});}),_0x2bc7e4=new Promise(_0x36e767=>{const _0x27e33f=_0x2cfcfe;fs[_0x27e33f(0x21a)](_0x57e1fe,fs[_0x27e33f(0x202)][_0x27e33f(0x148)],_0x4b1415=>{const _0x15eb3c=_0x27e33f;_0x4b1415?_0x4d73d7[_0x15eb3c(0x142)]({'title':_0x15eb3c(0x1c3)+_0x20a517[_0x15eb3c(0x227)]+_0x15eb3c(0x15e),'status':![],'priority':0x4}):_0x4d73d7[_0x15eb3c(0x142)]({'title':_0x15eb3c(0x1c3)+_0x20a517[_0x15eb3c(0x227)]+_0x15eb3c(0x15e),'status':!![],'priority':0x4}),_0x36e767();});}),_0x3ec28a=new Promise(_0x21c06b=>{const _0x5dc8a5=_0x2cfcfe,_0x28f899=new Date(),_0x5e4bad=_0x28f899['getDate']()[_0x5dc8a5(0x26a)]()[_0x5dc8a5(0x238)](0x2,'0')+'_'+(_0x28f899[_0x5dc8a5(0x1a4)]()+0x1)[_0x5dc8a5(0x26a)]()['padStart'](0x2,'0')+'_'+_0x28f899[_0x5dc8a5(0x195)](),{displayDay:_0x53e438}=_0x4d2d40['body'];fs[_0x5dc8a5(0x21a)](path[_0x5dc8a5(0x108)](path['dirname'](require['main']['filename']),_0x5dc8a5(0x23e),_0x5dc8a5(0x22f)+(_0x53e438??_0x5e4bad)+_0x5dc8a5(0x240)),fs[_0x5dc8a5(0x202)][_0x5dc8a5(0x143)],_0x124a4b=>{const _0x2aabe5=_0x5dc8a5;_0x124a4b?_0x4d73d7['push']({'title':_0x2aabe5(0x1ba)+(_0x53e438??_0x5e4bad)+_0x2aabe5(0x236),'status':![],'priority':0x5}):_0x4d73d7['push']({'title':_0x2aabe5(0x1ba)+(_0x53e438??_0x5e4bad)+_0x2aabe5(0x236),'status':!![],'priority':0x5}),_0x21c06b();});}),_0x44785f=(_0x537574,_0x417404)=>{const _0x2cb011=_0x2cfcfe,_0x546fed=path[_0x2cb011(0x108)](path['dirname'](require['main'][_0x2cb011(0x18c)]),_0x537574);return new Promise(_0x1433c2=>{const _0x371e85=_0x2cb011;fs[_0x371e85(0x21a)](path[_0x371e85(0x108)](path[_0x371e85(0x158)](_0x546fed)),fs[_0x371e85(0x202)][_0x371e85(0x22a)]|fs[_0x371e85(0x202)][_0x371e85(0x143)],_0xe32640=>{const _0x336e8f=_0x371e85;_0xe32640?_0x4d73d7[_0x336e8f(0x142)]({'title':_0x336e8f(0x26f)+_0x537574,'status':![],'priority':_0x417404+0x6}):_0x4d73d7[_0x336e8f(0x142)]({'title':_0x336e8f(0x26f)+_0x537574,'status':!![],'priority':_0x417404+0x6}),_0x1433c2();});});},_0x75f3fe=[_0x2cfcfe(0x12d),_0x2cfcfe(0x218),_0x2cfcfe(0x13a),_0x2cfcfe(0x17d),_0x2cfcfe(0x11a),_0x2cfcfe(0xf8),_0x2cfcfe(0x1a6)],_0x320acd=_0x75f3fe[_0x2cfcfe(0xf2)](_0x44785f);Promise[_0x2cfcfe(0x1af)]([_0x2998ba,_0x5bc51d,_0x280741,_0x2bc7e4,_0x3ec28a,..._0x320acd])[_0x2cfcfe(0x178)](()=>{const _0x59f21b=_0x2cfcfe;_0x247489[_0x59f21b(0x119)](0xc8)[_0x59f21b(0x23f)]({'checking_list':_0x4d73d7});})[_0x2cfcfe(0x1db)](()=>{_0x247489['status'](0x1f4)['json']({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router['get']('/users',protectedRoute,async(_0x5b5652,_0x1227cc)=>{const _0x2de766=a26_0x22f7b9,_0x367139=fs['readFileSync'](path[_0x2de766(0x108)](path[_0x2de766(0x158)](require['main'][_0x2de766(0x18c)]),_0x2de766(0x267)),_0x2de766(0x1f6)),_0x289e89=_0x367139['replaceAll'](_0x2de766(0x121),_0x5b5652[_0x2de766(0x20f)]);_0x1227cc['send'](_0x289e89);}),router['post'](a26_0x22f7b9(0x1e8),async(_0x4bc6a9,_0x509937)=>{const _0x37629a=a26_0x22f7b9;let _0x96ed34;try{const [_0xf1d8a0]=await conn[_0x37629a(0x24d)]()[_0x37629a(0x140)](_0x37629a(0x21d),[]);_0x96ed34=_0xf1d8a0;}catch(_0x126604){console['log'](_0x126604),_0x509937[_0x37629a(0x119)](0x1f4)[_0x37629a(0x23f)]({'error':_0x37629a(0x20a)});return;}_0x509937['status'](0xc8)[_0x37629a(0x23f)]({'success':!![],'data':_0x96ed34});}),router[a26_0x22f7b9(0x1a0)]('/users',upload[a26_0x22f7b9(0x170)](a26_0x22f7b9(0x1a2)),async(_0x169318,_0x2b760f)=>{const _0x57b9fc=a26_0x22f7b9,{id:_0x174d04,first_name:_0x5df357,last_name:_0x310d1c,username:_0x5db56c,email:_0x463fad,password:_0x46c4bc,is_enabled:_0x5457ee}=_0x169318[_0x57b9fc(0x1e9)],_0x3b87e1=_0x169318['body'][_0x57b9fc(0x18b)]===_0x57b9fc(0x128)?_0x57b9fc(0x128):_0x169318[_0x57b9fc(0x1e9)][_0x57b9fc(0x18b)]==='demo_user'?_0x57b9fc(0x260):_0x57b9fc(0x1f3);let _0xd87a4c;console[_0x57b9fc(0x124)](_0x57b9fc(0x156));_0x46c4bc&&(_0xd87a4c=await bcrypt[_0x57b9fc(0x1de)](_0x46c4bc,0xa));let _0x282b37=null;if(_0x169318['file']){const _0x1ea6e3=_0x57b9fc(0x245)+randomUUID()+'.png';fs['copyFileSync'](_0x169318[_0x57b9fc(0x23c)][_0x57b9fc(0xfd)],'./'+_0x1ea6e3),fs[_0x57b9fc(0x15b)](_0x169318[_0x57b9fc(0x23c)][_0x57b9fc(0xfd)]),_0x282b37=config['ServerUrl']+'/'+_0x1ea6e3;}if(_0x174d04){try{let [_0x60872b]=await conn[_0x57b9fc(0x24d)]()[_0x57b9fc(0x140)](_0x57b9fc(0x175),[_0x463fad,_0x5db56c,_0x174d04]);if(_0x60872b[_0x57b9fc(0x157)]>0x0)_0x2b760f['status'](0x199)[_0x57b9fc(0x23f)]({'error':_0x57b9fc(0x1be)});else{!_0x169318['file']&&([_0x60872b]=await conn[_0x57b9fc(0x24d)]()[_0x57b9fc(0x140)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x174d04]),_0x282b37=_0x60872b[0x0]['avatar_url']);const _0x5bb315='UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,'+(_0x46c4bc?'`crypted_password`\x20=\x20?,\x20':'')+'`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?';await conn[_0x57b9fc(0x24d)]()[_0x57b9fc(0x140)](_0x5bb315,_0x46c4bc?[_0x282b37,_0x5df357,_0x310d1c,_0x5db56c,_0x463fad,_0xd87a4c,_0x5457ee,_0x3b87e1,_0x174d04]:[_0x282b37,_0x5df357,_0x310d1c,_0x5db56c,_0x463fad,_0x5457ee,_0x3b87e1,_0x174d04]);}}catch(_0x15736c){console[_0x57b9fc(0x124)](_0x15736c),_0x2b760f[_0x57b9fc(0x119)](0x1f4)[_0x57b9fc(0x23f)]({'error':_0x57b9fc(0x20a)});return;}_0x2b760f[_0x57b9fc(0x119)](0xc8)[_0x57b9fc(0x23f)]({'success':!![],'message':_0x57b9fc(0x21e)});}else{try{const [_0x2c30d0]=await conn[_0x57b9fc(0x24d)]()[_0x57b9fc(0x140)](_0x57b9fc(0x145),[_0x463fad,_0x5db56c]);if(_0x2c30d0[_0x57b9fc(0x157)]>0x0)_0x2b760f[_0x57b9fc(0x119)](0x199)[_0x57b9fc(0x23f)]({'error':_0x57b9fc(0x1be)});else{const _0x1efa75=randomUUID();await conn[_0x57b9fc(0x24d)]()['execute'](_0x57b9fc(0x1aa),[_0x282b37,_0x5df357,_0x310d1c,_0x5db56c,_0x463fad,_0xd87a4c,_0x3b87e1,_0x5457ee,_0x1efa75]);const _0x3892d1='./uploads/'+_0x1efa75;fs[_0x57b9fc(0x20b)](_0x3892d1);}}catch(_0x4bdf92){console[_0x57b9fc(0x124)](_0x4bdf92),_0x2b760f[_0x57b9fc(0x119)](0x1f4)[_0x57b9fc(0x23f)]({'error':_0x57b9fc(0x20a)});return;}_0x2b760f[_0x57b9fc(0x119)](0xc8)[_0x57b9fc(0x23f)]({'success':!![],'message':'User\x20created\x20successfully'});}}),router[a26_0x22f7b9(0x187)]('/users/flush-dir',async(_0x1a2c99,_0x25f08e)=>{const _0x560ed2=a26_0x22f7b9,{userId:_0x43968f}=_0x1a2c99[_0x560ed2(0x1e9)];let _0x11170a;try{const [_0x3fbc82]=await conn['promise']()[_0x560ed2(0x140)](_0x560ed2(0x16f),[_0x43968f]);_0x3fbc82['length']>0x0&&(_0x11170a=_0x3fbc82[0x0]);}catch(_0x35bd82){console[_0x560ed2(0x124)]({'err':_0x35bd82}),_0x25f08e[_0x560ed2(0x119)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}if(!_0x11170a){_0x25f08e['status'](0x191)['json']({'error':'Invalid\x20user'});return;}let _0x5115a3=_0x11170a[_0x560ed2(0x271)];if(!_0x5115a3){_0x5115a3=randomUUID();try{await conn[_0x560ed2(0x24d)]()['execute'](_0x560ed2(0x1fa),[_0x5115a3,_0x43968f]);}catch(_0x377224){console[_0x560ed2(0x124)]({'err':_0x377224}),_0x25f08e[_0x560ed2(0x119)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x539f12=_0x560ed2(0x254)+_0x5115a3;console[_0x560ed2(0x124)](_0x560ed2(0x201)),console[_0x560ed2(0x124)](_0x539f12),!fs[_0x560ed2(0x1bc)](_0x539f12)&&fs[_0x560ed2(0x20b)](_0x539f12),fs[_0x560ed2(0x141)](_0x539f12,{'recursive':!![],'force':!![]}),fs[_0x560ed2(0x20b)](_0x539f12),_0x25f08e[_0x560ed2(0x119)](0xc8)[_0x560ed2(0x23f)]({'success':!![],'message':_0x560ed2(0x244)});}),router[a26_0x22f7b9(0x187)](a26_0x22f7b9(0x192),async(_0x23ddf6,_0x28e060)=>{const _0x5eddb0=a26_0x22f7b9,_0x48af41=_0x23ddf6['params']['userId'];try{let _0x44cfd8;try{const [_0x555577]=await conn[_0x5eddb0(0x24d)]()[_0x5eddb0(0x140)](_0x5eddb0(0x16f),[_0x48af41]);_0x555577[_0x5eddb0(0x157)]>0x0&&(_0x44cfd8=_0x555577[0x0]);}catch(_0xfa49c6){console[_0x5eddb0(0x124)]({'err':_0xfa49c6}),_0x28e060[_0x5eddb0(0x119)](0x1f4)['json']({'error':_0x5eddb0(0x20a)});return;}if(!_0x44cfd8){_0x28e060[_0x5eddb0(0x119)](0x191)[_0x5eddb0(0x23f)]({'error':_0x5eddb0(0x262)});return;}let _0x50e3e8=_0x44cfd8[_0x5eddb0(0x271)];if(_0x50e3e8){const _0x30cc38=_0x5eddb0(0x254)+_0x50e3e8;fs[_0x5eddb0(0x1bc)](_0x30cc38)&&fs['rmSync'](_0x30cc38,{'recursive':!![],'force':!![]});}await conn[_0x5eddb0(0x24d)]()[_0x5eddb0(0x140)](_0x5eddb0(0x20e),[_0x48af41]);}catch(_0x5da324){console[_0x5eddb0(0x124)](_0x5da324),_0x28e060[_0x5eddb0(0x119)](0x1f4)[_0x5eddb0(0x23f)]({'error':_0x5eddb0(0x20a)});return;}_0x28e060[_0x5eddb0(0x119)](0xc8)['json']({'success':!![],'message':_0x5eddb0(0x17f)});}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x1ea),async(_0x249d4a,_0x41ca2c)=>{const _0x4e9440=a26_0x22f7b9,_0x584eae=osu[_0x4e9440(0x278)],_0x3b8ff4=osu[_0x4e9440(0x24c)],_0x12d872=osu['drive'],_0x3903f3=osu['os'],_0x3f24da={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x1d48ef=os['platform']()===_0x4e9440(0x155)?'c:':'/';const _0x23880a=await _0x12d872['info'](_0x1d48ef);_0x3f24da[_0x4e9440(0x210)]=_0x23880a[_0x4e9440(0x231)],_0x3f24da[_0x4e9440(0x191)]=_0x23880a['usedGb'],_0x3f24da[_0x4e9440(0x215)]=_0x23880a['freeGb'],_0x3f24da[_0x4e9440(0x249)]=_0x23880a[_0x4e9440(0x1d3)];}catch(_0x2bcb56){console['log']('Error\x20getting\x20disk\x20usage',_0x2bcb56);}const _0x563aff={'usage':0x0,'count':0x0};try{_0x563aff[_0x4e9440(0x219)]=await _0x584eae[_0x4e9440(0x219)](),_0x563aff[_0x4e9440(0x165)]=_0x584eae['count']();}catch(_0x37048b){console[_0x4e9440(0x124)](_0x4e9440(0x11d),_0x37048b);}const _0x5eccb7={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x5eccb7['os']=await _0x3903f3['oos'](),_0x5eccb7[_0x4e9440(0x209)]=_0x3903f3['platform'](),_0x5eccb7['ip']=_0x3903f3['ip'](),_0x5eccb7['uptime']=_0x3903f3[_0x4e9440(0x116)](),_0x5eccb7[_0x4e9440(0x159)]=_0x3903f3[_0x4e9440(0x159)](),_0x5eccb7[_0x4e9440(0x200)]=_0x3903f3[_0x4e9440(0x200)](),_0x5eccb7[_0x4e9440(0x115)]=_0x3903f3[_0x4e9440(0x115)](),_0x5eccb7['who']=await osu[_0x4e9440(0xee)][_0x4e9440(0x269)](),_0x5eccb7[_0x4e9440(0x1c7)]=await osu[_0x4e9440(0xee)][_0x4e9440(0x1c7)](),_0x5eccb7[_0x4e9440(0x181)]=await osu[_0x4e9440(0xee)][_0x4e9440(0x181)]();}catch(_0x5925d3){console[_0x4e9440(0x124)](_0x4e9440(0x243),_0x5925d3);}const _0x28bdef={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x28bdef[_0x4e9440(0xef)]=await osu[_0x4e9440(0x277)][_0x4e9440(0xef)](),_0x28bdef[_0x4e9440(0x130)]=await osu['proc'][_0x4e9440(0x130)]();}catch(_0x4c34ae){console[_0x4e9440(0x124)](_0x4e9440(0x268),_0x4c34ae);}let _0x5c8258={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x145de5=await _0x3b8ff4[_0x4e9440(0x168)]();_0x5c8258['usedMemPercentage']=_0x145de5[_0x4e9440(0x237)],_0x5c8258['usedMemMb']=_0x145de5[_0x4e9440(0x106)]/0x400/0x400,_0x5c8258['totalMemMb']=_0x145de5['total']/0x400/0x400;}catch(_0x2c57f4){console[_0x4e9440(0x124)](_0x4e9440(0x208),_0x2c57f4);}let _0x1eb961=0x0;try{_0x1eb961=await conn['promise']()[_0x4e9440(0x207)](_0x4e9440(0xf4))[_0x4e9440(0x178)](([_0x4438a2])=>_0x4438a2[0x0][_0x4e9440(0x12a)]);}catch(_0x4b4e1e){console['log']('Error\x20getting\x20total\x20users',_0x4b4e1e);}const _0x42590b=getMonitoringData(),_0x17c26d=_0x42590b[_0x4e9440(0x15c)](_0x547ab8=>_0x547ab8[_0x4e9440(0xea)]!==null&&_0x547ab8[_0x4e9440(0xea)]!==undefined),_0x389d1a=_0x42590b['filter'](_0x38ecab=>_0x38ecab['conversionMemoryUsage']!==null&&_0x38ecab[_0x4e9440(0x1e4)]!==undefined)['map'](_0x17e8a8=>parseFloat(_0x17e8a8[_0x4e9440(0x1e4)][_0x4e9440(0x256)]('Kb')[_0x4e9440(0x216)]())),_0x5743fc=_0x17c26d[_0x4e9440(0x1b5)]((_0x5ea475,_0x34ae3b)=>_0x5ea475+parseFloat(_0x34ae3b['conversionTimeSpend']),0x0)/_0x17c26d[_0x4e9440(0x157)],_0x20edaf=_0x389d1a[_0x4e9440(0x1b5)]((_0x329748,_0x391fb5)=>_0x329748+_0x391fb5,0x0)/_0x389d1a['length'];_0x41ca2c[_0x4e9440(0x23f)]({'requestsPerSecond':counter['getStats'](),'diskUsage':_0x3f24da,'cpus':_0x563aff,'system':_0x5eccb7,'process':_0x28bdef,'totalMonitoringData':_0x42590b[_0x4e9440(0x157)],'memory':_0x5c8258,'totalUsers':_0x1eb961,'avgConvertionTime':_0x5743fc,'avgMemoryUsage':_0x20edaf});}),router[a26_0x22f7b9(0x1a0)](a26_0x22f7b9(0x1ac),(_0x22161e,_0x4be425)=>{const _0x11bc90=a26_0x22f7b9;counter['reset'](),_0x4be425[_0x11bc90(0x23f)]({'message':_0x11bc90(0x223)});});const getMonitoringData=()=>{const _0x1e8c63=a26_0x22f7b9,_0x3fd25b=_0x1e8c63(0x205);let _0x19435b=[];try{_0x19435b=JSON[_0x1e8c63(0x248)](fs[_0x1e8c63(0x1cc)](_0x3fd25b));}catch(_0x5ee972){console[_0x1e8c63(0x124)](_0x1e8c63(0x1b1));}return _0x19435b;};router['get'](a26_0x22f7b9(0x12c),async(_0x1d07d3,_0x2ad5d5)=>{const _0x32b8b5=a26_0x22f7b9,{page:page=0x1,limit:limit=0xa}=_0x1d07d3[_0x32b8b5(0x207)],_0x1f6575=(page-0x1)*limit;try{const _0x124ebf=getMonitoringData(),_0x1e06c6=_0x124ebf['length'],_0x24da57=Math[_0x32b8b5(0xe5)](_0x1e06c6/limit),_0x1ed84c=_0x124ebf[_0x32b8b5(0x1f9)](_0x1f6575,_0x1f6575+limit);_0x2ad5d5['status'](0xc8)[_0x32b8b5(0x23f)]({'data':_0x1ed84c,'page':parseInt(''+page),'totalPages':_0x24da57,'total':_0x1e06c6});}catch(_0x3140f6){console[_0x32b8b5(0x124)](_0x3140f6),_0x2ad5d5[_0x32b8b5(0x119)](0x1f4)[_0x32b8b5(0x23f)]({'error':_0x32b8b5(0x20a)});}}),router[a26_0x22f7b9(0x187)](a26_0x22f7b9(0xf7),async(_0x5db62d,_0x43054d)=>{const _0x512399=a26_0x22f7b9,_0x390257=_0x512399(0x205);try{fs[_0x512399(0x21f)](_0x390257,JSON[_0x512399(0x1e7)]([],null,0x4)),_0x43054d[_0x512399(0x119)](0xc8)['json']({'message':_0x512399(0x193)});}catch(_0x5557d9){console[_0x512399(0x124)](_0x5557d9),_0x43054d[_0x512399(0x119)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router['get'](a26_0x22f7b9(0x229),async(_0x7f0e8c,_0x1c2281)=>{const _0x4f39f=a26_0x22f7b9,_0x4d74da=getHotConfig()[_0x4f39f(0x19a)][_0x4f39f(0x256)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x7f0e8c[_0x4f39f(0x207)],_0x180b8b=(page-0x1)*limit;try{const _0x55abc9=_0x4d74da+_0x4f39f(0x10a);console[_0x4f39f(0x124)](_0x55abc9);const _0x1fe933=fs[_0x4f39f(0x1cc)](_0x55abc9,_0x4f39f(0x1f6)),_0x231485=_0x1fe933[_0x4f39f(0x257)]('\x0a'),_0x1a84b9=[];_0x231485[_0x4f39f(0xe9)](_0xb4139c=>{const _0x14f016=_0x4f39f,_0x150ea1=_0xb4139c[_0x14f016(0x257)](',');if(_0x150ea1[_0x14f016(0x157)]<0x4)return;const _0x271d3c=_0x150ea1[0x0],_0x5b2dae=_0x150ea1[0x1],_0x45f4da=parseFloat(_0x150ea1[0x2]);_0x1a84b9[_0x14f016(0x142)]({'file':_0x271d3c[_0x14f016(0x256)]('\x22',''),'action':_0x5b2dae,'timeSpend':_0x45f4da,'memoryUsage':_0x150ea1[0x3]});});const _0x4c1ba5=_0x1a84b9[_0x4f39f(0x157)],_0x1f2cdc=Math[_0x4f39f(0xe5)](_0x4c1ba5/limit),_0x511df1=_0x1a84b9[_0x4f39f(0x1f9)](_0x180b8b,_0x180b8b+limit);_0x1c2281['status'](0xc8)[_0x4f39f(0x23f)]({'data':_0x511df1,'page':parseInt(''+page),'totalPages':_0x1f2cdc,'total':_0x4c1ba5});}catch(_0x3827c7){console[_0x4f39f(0x124)](_0x3827c7),_0x1c2281['status'](0x1f4)[_0x4f39f(0x23f)]({'error':_0x4f39f(0x20a)});}}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x211),async(_0x30d9fc,_0x56b7de)=>{const _0x3879ba=a26_0x22f7b9,_0x3b3e3d=path[_0x3879ba(0x108)](path['dirname'](require[_0x3879ba(0x14b)][_0x3879ba(0x18c)]),_0x3879ba(0x263),_0x3879ba(0x19c));try{let _0x97d5b5=0x0,_0x231d1e=0x0;function _0x433567(_0x39d90b){const _0xec1edd=_0x3879ba;let _0x4cda3c=0x0,_0x498b1d=0x0;if(fs['existsSync'](_0x39d90b)){const _0x271bae=fs[_0xec1edd(0x12f)](_0x39d90b);_0x498b1d=0x0;for(const _0x3b34e5 of _0x271bae){const _0x4a4462=path[_0xec1edd(0x108)](_0x39d90b,_0x3b34e5),_0x56359e=fs[_0xec1edd(0x161)](_0x4a4462);if(_0x56359e[_0xec1edd(0xfc)]()&&_0x3b34e5!=='.gitkeep')_0x498b1d++,_0x4cda3c+=_0x56359e[_0xec1edd(0x247)];else{if(_0x56359e[_0xec1edd(0x10b)]()){}}}}return{'size':_0x4cda3c,'count':_0x498b1d};}const _0x5b6fbe=_0x433567(_0x3b3e3d);_0x97d5b5=_0x5b6fbe['size'],_0x231d1e=_0x5b6fbe[_0x3879ba(0x165)],_0x56b7de[_0x3879ba(0x23f)]({'fileCount':_0x231d1e,'totalSize':_0x97d5b5});}catch(_0x4e8450){console[_0x3879ba(0x194)](_0x3879ba(0x1d8),_0x4e8450),_0x56b7de[_0x3879ba(0x119)](0x1f4)[_0x3879ba(0x23f)]({'error':_0x3879ba(0x1ff)});}}),router['delete']('/cache/flush',async(_0x31b85e,_0x4c525d)=>{const _0x49a456=a26_0x22f7b9,_0x1fb881=path[_0x49a456(0x108)](path[_0x49a456(0x158)](require['main']['filename']),_0x49a456(0x263),_0x49a456(0x19c));try{function _0x4b94b1(_0x5cb7df){const _0x34f0f8=_0x49a456;if(fs[_0x34f0f8(0x1bc)](_0x5cb7df)){const _0x2a4bf6=fs[_0x34f0f8(0x12f)](_0x5cb7df);for(const _0x350507 of _0x2a4bf6){const _0xbfeb07=path['join'](_0x5cb7df,_0x350507),_0x406257=fs['statSync'](_0xbfeb07);if(_0x406257[_0x34f0f8(0x10b)]()){}else _0x350507!==_0x34f0f8(0x25a)&&fs['unlinkSync'](_0xbfeb07);}}}_0x4b94b1(_0x1fb881),_0x4c525d['json']({'message':_0x49a456(0x1ed)});}catch(_0x5960cd){console['error']('Error\x20flushing\x20cache:',_0x5960cd),_0x4c525d[_0x49a456(0x119)](0x1f4)[_0x49a456(0x23f)]({'error':'Failed\x20to\x20flush\x20cache'});}}),router[a26_0x22f7b9(0x1bf)]('/cache-stats.js',async(_0x5b3862,_0x266379)=>{const _0x4cce9e=a26_0x22f7b9;_0x266379[_0x4cce9e(0x264)](path[_0x4cce9e(0x108)](path[_0x4cce9e(0x158)](require[_0x4cce9e(0x14b)]['filename']),_0x4cce9e(0x114)));}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x13d),protectedRoute,async(_0x314050,_0x5ee750)=>{const _0x145ceb=a26_0x22f7b9,_0x21ec5f=fs[_0x145ceb(0x1cc)](path['join'](path['dirname'](require[_0x145ceb(0x14b)]['filename']),_0x145ceb(0x104)),_0x145ceb(0x1f6)),_0x581328=_0x21ec5f[_0x145ceb(0x256)]('{version}',_0x314050[_0x145ceb(0x20f)]);_0x5ee750[_0x145ceb(0x270)](_0x581328);}),router[a26_0x22f7b9(0x1bf)]('/cache/files',async(_0xd62cfe,_0x5d66a7)=>{const _0x2f0e83=a26_0x22f7b9,{page:page=0x1,limit:limit=0x10}=_0xd62cfe[_0x2f0e83(0x207)],_0x406e3b=JSON[_0x2f0e83(0x248)](fs['readFileSync'](path[_0x2f0e83(0x108)](path['dirname'](require[_0x2f0e83(0x14b)][_0x2f0e83(0x18c)]),_0x2f0e83(0x272)))),_0x2cf782=(page-0x1)*limit,_0x1a9901=page*limit,_0x4a87b2=_0x406e3b[_0x2f0e83(0x19c)][_0x2f0e83(0x157)],_0x5da85e=Math[_0x2f0e83(0xe5)](_0x4a87b2/limit),_0x416d05=_0x406e3b[_0x2f0e83(0x19c)]['slice'](_0x2cf782,_0x1a9901);_0x5d66a7[_0x2f0e83(0x23f)]({'files':_0x416d05,'pagination':{'total':_0x4a87b2,'totalPages':_0x5da85e,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x176),async(_0x4b24f7,_0x18ff57)=>{const _0xa7e5aa=a26_0x22f7b9,{file:_0x2feed2}=_0x4b24f7['params'],_0x1fd614=path['join'](path[_0xa7e5aa(0x158)](require[_0xa7e5aa(0x14b)][_0xa7e5aa(0x18c)]),'converters',_0xa7e5aa(0x19c)),_0x152f6e=path[_0xa7e5aa(0x108)](_0x1fd614,_0x2feed2),_0x46af5c=fs[_0xa7e5aa(0x1cc)](_0x152f6e,_0xa7e5aa(0x1f6)),_0x14bf98=_0x46af5c[_0xa7e5aa(0x257)]('\x0a'),_0x730179=_0x14bf98[_0xa7e5aa(0xf2)](_0x4d955b=>{const _0x527ca9=_0xa7e5aa,_0x832cec=_0x4d955b[_0x527ca9(0x257)](',');return _0x832cec[_0x527ca9(0xf2)](_0x2d11df=>_0x2d11df['replaceAll']('\x22',''));});_0x18ff57['json'](_0x730179);}),router[a26_0x22f7b9(0x1bf)](a26_0x22f7b9(0x14d),async(_0x2b23ad,_0x1a0c73)=>{const _0x33576a=a26_0x22f7b9,{id:_0x2a7e4f}=_0x2b23ad[_0x33576a(0x139)],_0x3e2881=path[_0x33576a(0x108)](path[_0x33576a(0x158)](require[_0x33576a(0x14b)][_0x33576a(0x18c)]),_0x33576a(0x263),_0x33576a(0x19c)),_0x4bcd31=path[_0x33576a(0x108)](_0x3e2881,_0x2a7e4f);if(_0x4bcd31[_0x33576a(0x113)](_0x33576a(0x1cb))){var _0x5c6731=require(_0x33576a(0x13e));const _0x20fc90=fs['readFileSync'](_0x4bcd31),_0x430b3b=_0x5c6731[_0x33576a(0x105)](_0x20fc90);_0x1a0c73['setHeader'](_0x33576a(0x13b),'image/svg+xml'),_0x1a0c73[_0x33576a(0x270)](_0x430b3b);}else _0x1a0c73[_0x33576a(0x264)](_0x4bcd31);}),router[a26_0x22f7b9(0x187)](a26_0x22f7b9(0x14d),async(_0x25c372,_0x3b3a44)=>{const _0x3b5d6a=a26_0x22f7b9,{id:_0x1e66b2}=_0x25c372[_0x3b5d6a(0x139)],_0x23ef32=path[_0x3b5d6a(0x108)](path[_0x3b5d6a(0x158)](require[_0x3b5d6a(0x14b)][_0x3b5d6a(0x18c)]),_0x3b5d6a(0x263),'files'),_0x24e791=JSON['parse'](fs['readFileSync'](path[_0x3b5d6a(0x108)](path['dirname'](require[_0x3b5d6a(0x14b)][_0x3b5d6a(0x18c)]),'cadviewer/settings/converter-files-analysis.json'))),_0x37c04f=_0x24e791['files'][_0x3b5d6a(0x1d4)](_0x3387d3=>_0x3387d3[_0x3b5d6a(0x228)]===_0x1e66b2);if(_0x37c04f){try{fs['existsSync'](path['join'](_0x23ef32,_0x37c04f[_0x3b5d6a(0x228)]))&&fs[_0x3b5d6a(0x15b)](path['join'](_0x23ef32,_0x37c04f['name']));}catch(_0x2523c4){console[_0x3b5d6a(0x124)]({'e':_0x2523c4});}(_0x37c04f[_0x3b5d6a(0x258)]??[])['forEach'](_0x1297f7=>{const _0x53f3b7=_0x3b5d6a;try{fs[_0x53f3b7(0x1bc)](path[_0x53f3b7(0x108)](_0x23ef32,_0x1297f7['id']))&&fs[_0x53f3b7(0x15b)](path['join'](_0x23ef32,_0x1297f7['id']));}catch(_0xd07adf){console[_0x53f3b7(0x124)]({'e':_0xd07adf});}});}analyzeConverterFiles(),_0x3b3a44['json']({'message':_0x3b5d6a(0x1b6)});});function a26_0x57fc(){const _0x58f6f7=['error','getFullYear','mysqlHost','radio|','mysqlUsername','cadviewer/settings/tailwind.js','converterLocation','svgz','files','some','put','\x20\x20\x20','post','node-schedule','avatar','mysqlDatabase','getMonth','from','/content/redlines/v7/','/folders/download','.rl.json','callbackMethod_gatewayUrl','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','hlall','/metrics/reset','DWG\x20file\x20in\x20multiple\x20files','clean','all','red','Error\x20reading\x20monitoring\x20file','\x20days\x20have\x20been\x20deleted.','toFixed','ctime','reduce','File\x20deleted\x20successfully','pop','.json','csvFile','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','rmdirSync','existsSync','array','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','get','JSON','temp_print_folder','dwgmerge_executable_linux','Permission\x20750\x20for\x20the\x20\x22','ServerUrl','../libs/config','/restapi-test/parameters/save','whoami','bcrypt','globalBearerAutenticationToken','CSV','.svgz','readFileSync','Config\x20updated.','autoxchange_executable_windows','Display\x20of\x20DWG','Parameters\x20saved.','getDate','./tmp','totalGb','find','callbackMethod','/logs/content','licenseLocation','Error\x20getting\x20cache\x20stats:','===================error===================','purple','catch','SVG','cadviewer/settings/licences.html','hash','mode','entries','crypto','windows','attachment;\x20filename=\x22','conversionMemoryUsage','readFile','/config/global-update','stringify','/users/list','body','/metrics','cadviewer/settings/config.html','gray','Cache\x20flushed\x20successfully','137432bEivCG','File\x20deleted.','sub_dirs','ContentSecurityPolicyReportOnly','cadviewer/settings/chart.min.js','user','Database\x20Settings','cadviewer/settings/doctor.html','utf8','Config\x20updated\x20successfully','globalBearerAutentication','slice','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','.dwg','cadviewer/settings/logs.html','mysqlPassword','node-os-utils','Failed\x20to\x20get\x20cache\x20stats','type','====================','constants','cadviewer/settings/icons.js','https','cadviewer/settings/requests-callapiconversion-monitoring.json','autodetect_platform','query','Error\x20getting\x20memory\x20info','platform','Error!\x20Something\x20went\x20wrong.','mkdirSync','isFolder','File\x20not\x20found','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','version','percentage','/cache/stats','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','isArray','10ScdwdN','freeGb','trim','ContentSecurityPolicy','/converters/autoxchange/linux/','usage','access','Log\x20file\x20cleaned.','svg','SELECT\x20*\x20FROM\x20users','User\x20updated\x20successfully','writeFileSync','RL/TL\x20Processing','copyFileSync','dir','Counter\x20reset\x20successfully','linux','DwgMerge\x20Settings','DWG\x20to\x20PDF\x20Conversion','linklist_executable','name','/conversion/memorydata','R_OK','/folders/create','File\x20or\x20Folder\x20not\x20found','Failed\x20to\x20send\x20email\x20to\x20','boolean','call-Api_Conversion_','mimetype','usedPercentage','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','writeFile','10iPbusG','exports','.log\x22','usedMemPercentage','padStart','converter-files-analysis.json','Error\x20deleting\x20user\x20folder:','ServerPort','file','getHotConfig','logs','json','.log','express','now','Error\x20getting\x20os\x20info','User\x20directory\x20flushed\x20successfully','avatars/','mkdir','size','parse','totalGB','.pdf','write','mem','promise','fileLoad_PasswordAuthentication','keys','splity','Error\x20finding\x20log\x20files:','cadviewer/settings/folders.html','autoxchange_executable','./uploads/','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','replaceAll','split','availableFormats','email','.gitkeep','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','folderName','/logs/clean','Folder\x20renamed.','JSON\x20Data\x20Extraction','demo_user','Le\x20dossier\x20','Invalid\x20user','converters','sendFile','settingsPasswordBasicAuth','setHeader','cadviewer/settings/users.html','Error\x20getting\x20process\x20info','who','toString','demoUserRetentionDays','Cache\x20conversion','Error\x20deleting\x20folder.','cvjs_svgz_compress','Read\x20and\x20write\x20permission\x20for\x20folder\x20','send','folder_name','cadviewer/settings/converter-files-analysis.json','transporter','.svg','unlink','fileName','proc','cpu','sendMail','../libs/counter.js','/licences','dwgmerge_executable','27279494DntKAu','first_name','ceil','Folder\x20deleted.','linklistLocation','standard','forEach','conversionTimeSpend','Folder\x20not\x20found.','blocks','yellow','osCmd','totalProcesses','Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)','converterpathLin','map','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','/doctor','Folder\x20not\x20found','/conversion/clean','/content/redlines/','radio|windows,linux','cadviewer/settings/vanilla-toast.css','399DcNWkO','isFile','path','linklist_executable_linux','tmp','test','fileLoad_Password','CADViewer_config.json','toLocaleLowerCase','cadviewer/settings/conversion-cache.html','gunzipSync','used','linklist_executable_windows','join','/config/update','memorydata.csv','isDirectory','384HdTdsR','9585wyvrKr','cadviewer/settings/rest-api.html','Error\x20downloading\x20file.','originalname','toUpperCase','darwin','endsWith','cadviewer/settings/cache-stats.js','arch','uptime','atime','model','status','/converters/files/pdf/','folderLocation','cachedfiles','Error\x20getting\x20cpu\x20usage','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','converterpathWin','3334470OzRiKK','{version}','rmdir','/folders/update','log','5217216IUJhIJ','autoxchange_executable_linux','Deletion\x20prevention\x20email\x20sent\x20to\x20','admin','resolve','total','/config','/conversion/list','/converters/files/','Error\x20updating\x20config','readdirSync','zombieProcesses','50291salCJN','LinkList\x20Settings','AutoXchange\x20Settings','PDF','scheduleJob','\x20n\x27existe\x20pas.','.dwg.json','DWG\x20to\x20SVG\x20Conversion','params','/converters/files/merged/','Content-Type','/vanilla-toast.js','/cache','zlib','express-basic-auth','execute','rmSync','push','W_OK','fileLocationUrl','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?',')\x20older\x20than\x20','green','X_OK','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','cadviewer/settings/vanilla-toast.js','main','createdAt','/cache/files/:id','autodetect_location','/doctor/check','username','/restapi-test','SVGZ','../libs/log','0\x200\x20*\x20*\x20*','win32','=============================>','length','dirname','hostname','blue','unlinkSync','filter','number','\x22\x20executable','/restapi-test/parameters/search','No\x20files\x20uploaded','statSync','has','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20termine.\x20Rsultats\x20enregistrs\x20dans\x20','/folders','count','replace','../libs/mail','info','action','Server\x20Settings','.csv','ServerLocation','cadviewer','includes','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','single','callbackMethod_gatewayUrl_flag','Mail\x20Server\x20Settings','/logs','No\x20config\x20object\x20provided','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','/cache/csv/:file','Router','then','setup_mysqlHost','pdf','Error\x20deleting\x20file.','/folders/delete','/converters/files/print/','download','User\x20deleted\x20successfully','Deleting\x20old\x20demo_user\x20accounts...','vmstats','child_process','Error\x20saving\x20parameters.','138456ckketh','fileLoad_UserName','Error\x20creating\x20folder.','delete','Folder\x20created.','cadviewer/settings/rest-api-parameters.json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','role','filename','sort','dwgmergeLocation','cached_conversion','extname','usedGB','/users/:userId','Monitoring\x20file\x20cleaned.'];a26_0x57fc=function(){return _0x58f6f7;};return a26_0x57fc();}const deleteOldDemoUsers=async()=>{const _0x26ef7f=a26_0x22f7b9;console[_0x26ef7f(0x124)](_0x26ef7f(0x180));const _0x5d5ff2=config[_0x26ef7f(0x26b)],_0xfa11bf=_0x26ef7f(0x255);try{const [_0x42a869]=await conn[_0x26ef7f(0x24d)]()[_0x26ef7f(0x140)](_0xfa11bf,[_0x5d5ff2]),_0x19b51f=_0x42a869['map'](_0x309ce0=>_0x309ce0[_0x26ef7f(0x271)]),_0x21ebf0=_0x42a869[_0x26ef7f(0xf2)](_0x5d83a2=>_0x5d83a2[_0x26ef7f(0x259)]);console[_0x26ef7f(0x124)](_0x21ebf0),await conn[_0x26ef7f(0x24d)]()[_0x26ef7f(0x140)](_0x26ef7f(0x232),[_0x5d5ff2]),_0x19b51f[_0x26ef7f(0xe9)](_0x4a72a6=>{const _0x53f691=_0x26ef7f;try{const _0x2990ad='./uploads/'+_0x4a72a6;fs[_0x53f691(0x1bb)](_0x2990ad);}catch(_0x174fae){console[_0x53f691(0x194)](_0x53f691(0x23a),_0x174fae);}}),console['log']('Old\x20demo_user\x20accounts\x20('+_0x42a869[_0x26ef7f(0x157)]+_0x26ef7f(0x146)+_0x5d5ff2+_0x26ef7f(0x1b2));}catch(_0x552785){console[_0x26ef7f(0x194)]('Error\x20deleting\x20old\x20demo_user\x20accounts:',_0x552785);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x2236bc=a26_0x22f7b9,_0x5daa84=require(_0x2236bc(0x167))[_0x2236bc(0x273)];try{const [_0x433ee1]=await conn[_0x2236bc(0x24d)]()[_0x2236bc(0x140)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[config[_0x2236bc(0x26b)]-config['demoUserRetentionDaysAlertBeforeDeletion']]);if(_0x433ee1['length']===0x0){console[_0x2236bc(0x124)](_0x2236bc(0xf3));return;}for(const _0x4ff7a2 of _0x433ee1){let _0x5a76e7=_0x2236bc(0x18a)+(_0x4ff7a2[_0x2236bc(0xe4)]||_0x4ff7a2[_0x2236bc(0x150)])+',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x56f9f3={'from':config['smtpFrom'],'to':_0x4ff7a2[_0x2236bc(0x259)],'subject':'Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','text':'Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','html':_0x5a76e7};try{await _0x5daa84[_0x2236bc(0x279)](_0x56f9f3),console[_0x2236bc(0x124)](_0x2236bc(0x127)+_0x4ff7a2[_0x2236bc(0x259)]);}catch(_0x5baab4){console[_0x2236bc(0x124)](_0x2236bc(0x1d9)),console[_0x2236bc(0x124)](_0x2236bc(0x22d)+_0x4ff7a2[_0x2236bc(0x259)]),console[_0x2236bc(0x124)](_0x5baab4);}}}catch(_0xf9a644){console[_0x2236bc(0x124)](_0x2236bc(0x1d9)),console[_0x2236bc(0x124)](_0x2236bc(0x11e)),console[_0x2236bc(0x124)](_0xf9a644);}};function a26_0x46ac(_0x1d4778,_0xa9097c){const _0x57fc3a=a26_0x57fc();return a26_0x46ac=function(_0x46ac2e,_0x577b93){_0x46ac2e=_0x46ac2e-0xe4;let _0x2b59d0=_0x57fc3a[_0x46ac2e];return _0x2b59d0;},a26_0x46ac(_0x1d4778,_0xa9097c);}schedule['scheduleJob']('0\x201\x20*\x20*\x20*',deleteOldDemoUsers),schedule[a26_0x22f7b9(0x135)](a26_0x22f7b9(0x154),sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x19683e=a26_0x22f7b9;try{const _0x19fefd=path['join'](path[_0x19683e(0x158)](require[_0x19683e(0x14b)][_0x19683e(0x18c)]),_0x19683e(0x263),_0x19683e(0x19c)),_0x35e3e0=path[_0x19683e(0x108)](path[_0x19683e(0x158)](require[_0x19683e(0x14b)][_0x19683e(0x18c)]),_0x19683e(0x16d),'settings');if(!fs[_0x19683e(0x1bc)](_0x19fefd)){logStream[_0x19683e(0x24b)](_0x19683e(0x261)+_0x19fefd+'\x20n\x27existe\x20pas.');return;}if(!fs[_0x19683e(0x1bc)](_0x35e3e0)){logStream[_0x19683e(0x24b)]('Le\x20dossier\x20'+_0x35e3e0+_0x19683e(0x136));return;}const _0x14f192=fs[_0x19683e(0x12f)](_0x19fefd),_0x21e19d=new Map();_0x14f192[_0x19683e(0xe9)](_0x54265f=>{const _0x41b5e0=_0x19683e,_0x546b34=path[_0x41b5e0(0x108)](_0x19fefd,_0x54265f),_0x5ce301=fs[_0x41b5e0(0x161)](_0x546b34);_0x21e19d['set'](_0x54265f,_0x5ce301);});const _0x254dc9=[],_0x4b0b34=Array[_0x19683e(0x1a5)](_0x21e19d[_0x19683e(0x1e0)]())[_0x19683e(0xf2)](([_0x4f4f6a,_0x4dc84b])=>{const _0x3a772c=_0x19683e;if(_0x4dc84b[_0x3a772c(0x10b)]())return undefined;let _0x4b0000=undefined,_0x14c22c=undefined;(_0x4f4f6a[_0x3a772c(0x113)]('.svg')||_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x1cb)))&&_0x21e19d[_0x3a772c(0x162)](_0x4f4f6a[_0x3a772c(0x166)]('.svgz',_0x3a772c(0x16b))[_0x3a772c(0x166)](_0x3a772c(0x274),_0x3a772c(0x16b)))&&(_0x4b0000=_0x4f4f6a[_0x3a772c(0x166)](_0x3a772c(0x1cb),_0x3a772c(0x16b))[_0x3a772c(0x166)](_0x3a772c(0x274),'.csv'));_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x1b8))&&_0x21e19d['has'](_0x4f4f6a[_0x3a772c(0x166)](_0x3a772c(0x1b8),_0x3a772c(0x1fb)))&&(_0x14c22c=_0x4f4f6a['replace'](_0x3a772c(0x1b8),_0x3a772c(0x1fb)));const _0x13eb0c=_0x4a8aab=>{const _0x510230=_0x3a772c;if(_0x4a8aab[_0x510230(0x113)](_0x510230(0x1a8)))return _0x4a8aab[_0x510230(0x1f9)](0x0,-0x8);else{if(_0x4a8aab[_0x510230(0x113)](_0x510230(0x137))){const _0x4124bd=fs[_0x510230(0x1cc)](path['join'](_0x19fefd,_0x4a8aab),_0x510230(0x1f6));return JSON[_0x510230(0x248)](_0x4124bd)[_0x510230(0x11c)]['map'](_0x220a84=>_0x220a84[_0x510230(0x276)]);}}return _0x4a8aab[_0x510230(0x1f9)](0x0,_0x4a8aab['lastIndexOf']('.'));},_0x56c8e2=_0x13eb0c(_0x4f4f6a),_0x44577a=Array[_0x3a772c(0x1a5)](_0x21e19d[_0x3a772c(0x24f)]())[_0x3a772c(0x15c)](_0x5a5a6e=>{const _0x13d1d3=_0x3a772c;return Array[_0x13d1d3(0x213)](_0x56c8e2)?_0x56c8e2[_0x13d1d3(0x19d)](_0x3dd1d4=>_0x13eb0c(_0x5a5a6e)===_0x3dd1d4&&_0x5a5a6e!==_0x4f4f6a):_0x13eb0c(_0x5a5a6e)===_0x56c8e2&&_0x5a5a6e!==_0x4f4f6a;});if(Array['isArray'](_0x56c8e2)){if(_0x56c8e2[_0x3a772c(0x19d)](_0x592422=>_0x254dc9[_0x3a772c(0x16e)](_0x592422)))return;}else{if(_0x254dc9[_0x3a772c(0x16e)](_0x56c8e2))return;}Array[_0x3a772c(0x213)](_0x56c8e2)?_0x56c8e2[_0x3a772c(0xe9)](_0x49bf96=>{const _0x2a653c=_0x3a772c;_0x254dc9[_0x2a653c(0x142)](_0x49bf96);}):_0x254dc9[_0x3a772c(0x142)](_0x56c8e2);const _0x16c667=[{'id':_0x4f4f6a,'name':_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x274))?_0x3a772c(0x1dc):_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x1cb))?_0x3a772c(0x152):_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x24a))?_0x3a772c(0x134):_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x1b8))?'JSON':_0x4f4f6a[_0x3a772c(0x113)]('.csv')?_0x3a772c(0x1ca):_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x1fb))?'DWG':_0x4f4f6a['split']('.')[_0x3a772c(0x1b7)]()[_0x3a772c(0x111)](),'color':_0x4f4f6a[_0x3a772c(0x113)]('.svg')||_0x4f4f6a[_0x3a772c(0x113)]('.svgz')?_0x3a772c(0xed):_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x24a))?'red':_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x1b8))?_0x3a772c(0x1ec):_0x4f4f6a[_0x3a772c(0x113)](_0x3a772c(0x16b))?'green':_0x4f4f6a['endsWith'](_0x3a772c(0x1fb))?'blue':_0x3a772c(0x1da)},..._0x44577a[_0x3a772c(0xf2)](_0x767c35=>({'id':_0x767c35,'name':_0x767c35[_0x3a772c(0x113)](_0x3a772c(0x274))?'SVG':_0x767c35['endsWith']('.svgz')?_0x3a772c(0x152):_0x767c35[_0x3a772c(0x113)](_0x3a772c(0x24a))?'PDF':_0x767c35[_0x3a772c(0x113)](_0x3a772c(0x1b8))?_0x3a772c(0x1c0):_0x767c35[_0x3a772c(0x113)]('.csv')?_0x3a772c(0x1ca):_0x767c35[_0x3a772c(0x113)](_0x3a772c(0x1fb))?'DWG':_0x767c35['split']('.')[_0x3a772c(0x1b7)]()[_0x3a772c(0x111)](),'color':_0x767c35[_0x3a772c(0x113)](_0x3a772c(0x274))||_0x767c35['endsWith']('.svgz')?_0x3a772c(0xed):_0x767c35['endsWith'](_0x3a772c(0x24a))?_0x3a772c(0x1b0):_0x767c35[_0x3a772c(0x113)]('.json')?_0x3a772c(0x1ec):_0x767c35['endsWith'](_0x3a772c(0x16b))?_0x3a772c(0x147):_0x767c35[_0x3a772c(0x113)]('.dwg')?_0x3a772c(0x15a):_0x3a772c(0x1da)}))];let _0x25bfbc='';if(_0x16c667[_0x3a772c(0x19d)](_0x5b3025=>_0x5b3025['id'][_0x3a772c(0x16e)](_0x3a772c(0x1a8))))_0x25bfbc=_0x3a772c(0x220);else{if(_0x16c667[_0x3a772c(0x19d)](_0x128616=>['svg',_0x3a772c(0x19b)][_0x3a772c(0x16e)](_0x128616['id']['split']('.')['pop']()))&&_0x4b0000)_0x25bfbc=_0x3a772c(0x138);else{if(_0x16c667[_0x3a772c(0x19d)](_0x4eb47c=>[_0x3a772c(0x21c),_0x3a772c(0x19b)][_0x3a772c(0x16e)](_0x4eb47c['id']['split']('.')[_0x3a772c(0x1b7)]())))_0x25bfbc=_0x3a772c(0x1cf);else{if(_0x16c667[_0x3a772c(0x19d)](_0x462059=>[_0x3a772c(0x23f)][_0x3a772c(0x16e)](_0x462059['id']['split']('.')['pop']()))&&_0x14c22c)_0x25bfbc=_0x3a772c(0x25f);else{if(_0x16c667[_0x3a772c(0x19d)](_0x1344af=>[_0x3a772c(0x17a)][_0x3a772c(0x16e)](_0x1344af['id'][_0x3a772c(0x257)]('.')[_0x3a772c(0x1b7)]())))_0x25bfbc='DWG\x20to\x20PDF\x20Conversion';else{if(_0x16c667[_0x3a772c(0x19d)](_0x2e64bb=>[_0x3a772c(0x23f)][_0x3a772c(0x16e)](_0x2e64bb['id'][_0x3a772c(0x257)]('.')['pop']()))&&!_0x14c22c)_0x25bfbc=_0x3a772c(0x1ad);else _0x16c667[_0x3a772c(0x19d)](_0x4ffd15=>['json'][_0x3a772c(0x16e)](_0x4ffd15['id'][_0x3a772c(0x257)]('.')[_0x3a772c(0x1b7)]()))&&(_0x25bfbc=_0x3a772c(0x26c));}}}}}return{'name':_0x4f4f6a,'size':_0x4dc84b[_0x3a772c(0x247)],'createdAt':_0x4dc84b['birthtime'],'updatedAt':_0x4dc84b[_0x3a772c(0x1b4)],'readAt':_0x4dc84b[_0x3a772c(0x117)],'action':_0x25bfbc,'csvFile':_0x4b0000,'dwgFile':_0x14c22c,'availableFormats':_0x16c667};})[_0x19683e(0x15c)](_0x12123c=>_0x12123c!==undefined);_0x4b0b34[_0x19683e(0x18d)]((_0x39eefb,_0x5d3af3)=>_0x5d3af3[_0x19683e(0x14c)]-_0x39eefb[_0x19683e(0x14c)]);const _0x2d17db={'timestamp':new Date(),'totalFiles':_0x4b0b34[_0x19683e(0x157)],'filesByType':{'svg':_0x4b0b34['filter'](_0x3156e0=>_0x3156e0[_0x19683e(0x228)][_0x19683e(0x113)](_0x19683e(0x274)))[_0x19683e(0x157)],'svgz':_0x4b0b34[_0x19683e(0x15c)](_0x1151e2=>_0x1151e2['name'][_0x19683e(0x113)]('.svgz'))[_0x19683e(0x157)],'pdf':_0x4b0b34['filter'](_0xf5d3f=>_0xf5d3f['name']['endsWith'](_0x19683e(0x24a)))[_0x19683e(0x157)],'json':_0x4b0b34[_0x19683e(0x15c)](_0x26f93f=>_0x26f93f[_0x19683e(0x228)][_0x19683e(0x113)](_0x19683e(0x1b8)))[_0x19683e(0x157)],'csv':_0x4b0b34[_0x19683e(0x15c)](_0x2a3d58=>_0x2a3d58[_0x19683e(0x1b9)])[_0x19683e(0x157)],'dwg':_0x4b0b34['filter'](_0x39130b=>_0x39130b['dwgFile'])['length']},'filesByAction':{'dwgToSvg':_0x4b0b34[_0x19683e(0x15c)](_0x5d0e7d=>_0x5d0e7d[_0x19683e(0x169)]==='DWG\x20to\x20SVG\x20Conversion')[_0x19683e(0x157)],'displayDwg':_0x4b0b34[_0x19683e(0x15c)](_0x4c9b1a=>_0x4c9b1a[_0x19683e(0x169)]===_0x19683e(0x1cf))[_0x19683e(0x157)],'jsonExtraction':_0x4b0b34['filter'](_0x3330ff=>_0x3330ff[_0x19683e(0x169)]===_0x19683e(0x25f))[_0x19683e(0x157)],'dwgToPdf':_0x4b0b34[_0x19683e(0x15c)](_0x16eabd=>_0x16eabd[_0x19683e(0x169)]===_0x19683e(0x226))[_0x19683e(0x157)],'splitFiles':_0x4b0b34[_0x19683e(0x15c)](_0x2ed53e=>_0x2ed53e['action']==='DWG\x20file\x20in\x20multiple\x20files')[_0x19683e(0x157)],'rlProcessing':_0x4b0b34[_0x19683e(0x15c)](_0x5d8a86=>_0x5d8a86[_0x19683e(0x169)]===_0x19683e(0x220))['length'],'cacheConversion':_0x4b0b34['filter'](_0x335a8a=>_0x335a8a['action']===_0x19683e(0x26c))[_0x19683e(0x157)]},'files':_0x4b0b34},_0x2cf146=path['join'](_0x35e3e0,_0x19683e(0x239));fs[_0x19683e(0x21f)](_0x2cf146,JSON[_0x19683e(0x1e7)](_0x2d17db,null,0x2)),logStream[_0x19683e(0x24b)](_0x19683e(0x163)+_0x2cf146);}catch(_0x20cf6){logStream[_0x19683e(0x24b)](_0x19683e(0x25b)+_0x20cf6['message']);}},scheduleFileAnalysis=()=>{const _0x4219de=a26_0x22f7b9;analyzeConverterFiles(),schedule[_0x4219de(0x135)]('*\x20*\x20*\x20*\x20*',analyzeConverterFiles),logStream['write'](_0x4219de(0xf0));};scheduleFileAnalysis(),module[a26_0x22f7b9(0x235)]=router;