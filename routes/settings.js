const a26_0x16b471=a26_0x47d2;function a26_0x59d4(){const _0x4062d1=['\x20n\x27existe\x20pas.','/metrics','cadviewer/settings/converter-files-analysis.json','Deletion\x20prevention\x20email\x20sent\x20to\x20','\x20GB','drive','svgz','utf8','folderName','message','dwg','cadviewer/settings/style.css','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','CADViewer\x20Settings','mysqlHost','LinkList\x20Settings','autoxchange_executable_windows','autoxchange_executable_linux','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Content-Disposition','./uploads/','Read\x20and\x20write\x20permission\x20for\x20folder\x20','/doctor','totalMemMb','.gitkeep','cadviewer/settings/config.html','hostname','main','An\x20error\x20occurred\x20while\x20checking.','globalBearerAutenticationToken','cached_conversion','then','autodetect_location','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','push','write','converterLocation','Failed\x20to\x20get\x20cache\x20stats','JSON\x20Data\x20Extraction','mysqlPassword','totalGb','blocks','totalGB','hash','dirname','RL/TL\x20Processing','version','padStart','Invalid\x20user','usedGB','Folder\x20created.','/folders/delete','R_OK','copyFileSync','.png','/restapi-test','size','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20terminée.\x20Résultats\x20enregistrés\x20dans\x20','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','cadviewer/settings/tailwind.js','====================','Le\x20dossier\x20','model','Error\x20getting\x20cpu\x20usage','now','Cache\x20flushed\x20successfully','cadviewer/settings/requests-callapiconversion-monitoring.json','getFullYear','PDF','post','/content/redlines/v7/','cadviewer/settings/conversion-cache.html','some','call-Api_Conversion_','radio|windows,linux','proc','standard','.log\x22','xpathLocation','/folders/upload','/cache/files','/conversion/list','SVG','filter','Content-Type','getStats','pdf','dwgmergeLocation','Deleting\x20old\x20demo_user\x20accounts...','/folders/update','usedMemMb','node-schedule','isFile','.rl.json','unlink','696451FInUCO','who','endsWith','svg','Failed\x20to\x20flush\x20cache','tmp','catch','User\x20created\x20successfully','delete','length','CADViewer_config.json','Error\x20saving\x20parameters.','mysqlUsername','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','mkdirSync','Error\x20getting\x20os\x20info','isFolder','originalname','cadviewer/settings/vanilla-toast.js','express-basic-auth','role','/style.css','877660knDrbs','cadviewer/settings/rest-api-parameters.json','number','/converters/autoxchange/linux/','cadviewer/settings/rest-api.html','smtpFrom','promise','77OdahEE','params','../libs/log','\x20KB','boolean','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','DwgMerge\x20Settings','extname','Files\x20uploaded\x20successfully','toLocaleLowerCase','sub_dirs','existsSync','dwgmerge_executable_linux','toString','CSV','getDate','/restapi-test/parameters/save','converterpathLin','/converters/files/','/licences','setHeader','readFileSync','2766645vMbnGb','===================error===================','DWG','Callback\x20and\x20Authentication\x20Settings','788291FvyrCa','slice','hlall','https','birthtime','gunzipSync','Failed\x20to\x20send\x20email\x20to\x20','log','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','application/octet-stream','whoami','Display\x20of\x20DWG','csv','count','readdirSync','files','keys','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','name','red','rmdir','join','linklist_executable_windows','Error!\x20Something\x20went\x20wrong.','File\x20not\x20found','folder_name','fileLocationUrl','info','.json','windows','getMonth','mysqlDatabase','settingsUserBasicAuth','usage','blue','/logs/clean','/folders','status','transporter','Error\x20reading\x20monitoring\x20file','Config\x20updated.','put','/chart.min.js','User\x20deleted\x20successfully','converter-files-analysis.json','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','fileLoad_PasswordAuthentication','.log','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','win32','Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)','DWG\x20to\x20SVG\x20Conversion','70QKAKZJ','purple','Error\x20getting\x20total\x20users','/users/:userId','16AwtbWO','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','Parameters\x20saved.','admin','Router','DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','X_OK','download','Folder\x20not\x20found.','/logs','get','Database\x20Settings','`crypted_password`\x20=\x20?,\x20','toFixed','/conversion/memorydata','dwgmerge_executable','.dwg','ContentSecurityPolicyReportOnly','pop','JSON','ServerUrl','writeFileSync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','constants','user','radio|','green','rmdirSync','autodetect_platform','Demo\x20and\x20Base\x20User\x20Settings','fileName','Server\x20Settings','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','940314HmNGQA','cvjs_svgz_compress','child_process','exports','usedMemPercentage','test','first_name','Log\x20file\x20cleaned.','*\x20*\x20*\x20*\x20*','../libs/counter.js','freeGb','conversionTimeSpend','/cache/flush','Config\x20updated\x20successfully','\x20days\x20have\x20been\x20deleted.','Error\x20deleting\x20user\x20folder:','/cache-stats.js','zlib','mimetype','statSync','execute','scheduleJob','/cache/stats','Error\x20deleting\x20file.','Error\x20updating\x20config','converterpathWin','SVGZ','.csv','/cache','/config/global-update','replace','cadviewer/settings/cache-stats.js','../libs/config','array','error','=============================>','sendMail','trim','W_OK','map','split','No\x20files\x20uploaded','osCmd','isDirectory','/converters/files/pdf/','0\x200\x20*\x20*\x20*','/folders/create','Analyzing\x20converter\x20files...','find','Error\x20deleting\x20file','gray','.pdf','arch','conversionMemoryUsage','cadviewer/settings/chart.min.js','resolve','../CADViewer_config.json','Error\x20flushing\x20cache:','licenseLocation','Error\x20getting\x20process\x20info','json','Error\x20deleting\x20folder.',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','Folder\x20deleted.','writeFile','cadviewer','/config/content','/content/redlines/','\x20\x20\x20','converters','path','multer','type','toUpperCase','query','uptime','folderLocation','email','cadviewer/settings/folders.html','dwgmerge_executable_windows','No\x20config\x20object\x20provided','usedGb','access','/config','Permission\x20750\x20for\x20the\x20\x22','.svg','Counter\x20reset\x20successfully','sendFile','ServerLocation','0\x201\x20*\x20*\x20*','express','vmstats','node-os-utils','formatedSize','File\x20or\x20Folder\x20not\x20found','settings','/users','Old\x20demo_user\x20accounts\x20(','/users/flush-dir','linux','renameSync','totalProcesses','send','replaceAll','total','DWG\x20file\x20in\x20multiple\x20files','mode','User\x20updated\x20successfully','\x20MB','platform','memorydata.csv','\x22\x20executable','logs','File\x20deleted\x20successfully','ctime','stringify','body','diskStorage','Error\x20deleting\x20old\x20demo_user\x20accounts:','filename','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','parse','fileLoad_UserName','fileLoad_Password','Folder\x20renamed.','Folder\x20not\x20found','Mail\x20Server\x20Settings','oos','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','cachedfiles','dir','demoUserRetentionDaysAlertBeforeDeletion','linklist_executable','linklistLocation','temp_print_folder','file','forEach','readFile','File\x20renamed.','.svgz','rmSync','File\x20deleted.','clean','/converters/files/print/','/folders/download','.dwg.json','116916UGsGxI','globalBearerAutentication','reduce','fontLocation','autoxchange_executable','percentage','/users/list','4iFmDwE','ceil','updatedAt','Error\x20downloading\x20file.','{version}','demoUserRetentionDays','Cache\x20conversion','Error\x20creating\x20folder.','cpu','DWG\x20to\x20PDF\x20Conversion','unlinkSync','Folder\x20already\x20exists.','includes','AutoXchange\x20Settings','9740XqCuUx','used','crypto'];a26_0x59d4=function(){return _0x4062d1;};return a26_0x59d4();}(function(_0xe55ca9,_0x3677d4){const _0x25dc74=a26_0x47d2,_0x581736=_0xe55ca9();while(!![]){try{const _0x151748=parseInt(_0x25dc74(0x23b))/0x1+parseInt(_0x25dc74(0x194))/0x2*(parseInt(_0x25dc74(0x294))/0x3)+-parseInt(_0x25dc74(0x21a))/0x4+parseInt(_0x25dc74(0x26f))/0x5*(parseInt(_0x25dc74(0x18d))/0x6)+-parseInt(_0x25dc74(0x204))/0x7+-parseInt(_0x25dc74(0x273))/0x8*(parseInt(_0x25dc74(0x237))/0x9)+parseInt(_0x25dc74(0x1a2))/0xa*(-parseInt(_0x25dc74(0x221))/0xb);if(_0x151748===_0x3677d4)break;else _0x581736['push'](_0x581736['shift']());}catch(_0xd6701b){_0x581736['push'](_0x581736['shift']());}}}(a26_0x59d4,0xb67ab));const express=require(a26_0x16b471(0x155)),router=express[a26_0x16b471(0x277)](),multer=require(a26_0x16b471(0x142)),fs=require('fs'),path=require(a26_0x16b471(0x141)),getHotConfig=require(a26_0x16b471(0x2b4))['getHotConfig'],{exec}=require(a26_0x16b471(0x296)),os=require('os'),conn=require('../libs/mysql.js'),bcrypt=require('bcrypt'),osu=require(a26_0x16b471(0x157)),schedule=require(a26_0x16b471(0x200)),counter=require(a26_0x16b471(0x29d)),{randomUUID}=require(a26_0x16b471(0x1a4)),logStream=require(a26_0x16b471(0x223)),config=require(a26_0x16b471(0x2cc)),basicAuth=require(a26_0x16b471(0x217)),protectedRoute=basicAuth({'users':{[config[a26_0x16b471(0x25b)]]:config['settingsPasswordBasicAuth']},'challenge':!![],'realm':a26_0x16b471(0x1b2)});router[a26_0x16b471(0x27d)]('/tailwind.js',async(_0x280c44,_0x2ccd03)=>{const _0x153865=a26_0x16b471;_0x2ccd03[_0x153865(0x152)](path[_0x153865(0x250)](path[_0x153865(0x1d1)](require[_0x153865(0x1c0)][_0x153865(0x172)]),_0x153865(0x1e0)));}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x265),async(_0x50affc,_0x13e16c)=>{const _0xf57ba0=a26_0x16b471;_0x13e16c[_0xf57ba0(0x152)](path['join'](path[_0xf57ba0(0x1d1)](require[_0xf57ba0(0x1c0)][_0xf57ba0(0x172)]),_0xf57ba0(0x2ca)));}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x219),async(_0x2879f1,_0x717939)=>{const _0x29f0f=a26_0x16b471;_0x717939[_0x29f0f(0x152)](path['join'](path[_0x29f0f(0x1d1)](require[_0x29f0f(0x1c0)][_0x29f0f(0x172)]),_0x29f0f(0x1b0)));}),router['get']('/vanilla-toast.css',async(_0xd53fa4,_0xc66af1)=>{const _0x441554=a26_0x16b471;_0xc66af1[_0x441554(0x152)](path['join'](path[_0x441554(0x1d1)](require[_0x441554(0x1c0)][_0x441554(0x172)]),'cadviewer/settings/vanilla-toast.css'));}),router[a26_0x16b471(0x27d)]('/vanilla-toast.js',async(_0x1eb82b,_0x403fb3)=>{const _0x26ebfb=a26_0x16b471;_0x403fb3[_0x26ebfb(0x152)](path[_0x26ebfb(0x250)](path[_0x26ebfb(0x1d1)](require[_0x26ebfb(0x1c0)][_0x26ebfb(0x172)]),_0x26ebfb(0x216)));}),router[a26_0x16b471(0x27d)]('/icons.js',async(_0x36c6ca,_0x30e265)=>{const _0x1e44eb=a26_0x16b471;_0x30e265[_0x1e44eb(0x152)](path[_0x1e44eb(0x250)](path['dirname'](require[_0x1e44eb(0x1c0)][_0x1e44eb(0x172)]),'cadviewer/settings/icons.js'));}),router[a26_0x16b471(0x27d)]('/',protectedRoute,async(_0x1f6625,_0x586a59)=>{const _0xa8118d=a26_0x16b471,_0xc1889a=fs[_0xa8118d(0x236)](path[_0xa8118d(0x250)](path[_0xa8118d(0x1d1)](require[_0xa8118d(0x1c0)]['filename']),'cadviewer/settings/home.html'),_0xa8118d(0x1ac)),_0x343b51=_0xc1889a[_0xa8118d(0x162)]('{version}',_0x1f6625[_0xa8118d(0x1d3)]);_0x586a59['send'](_0x343b51);}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x234),protectedRoute,async(_0x322626,_0x141c68)=>{const _0xeac462=a26_0x16b471,_0x9f1cd3=fs['readFileSync'](path['join'](path['dirname'](require[_0xeac462(0x1c0)][_0xeac462(0x172)]),'cadviewer/settings/licences.html'),_0xeac462(0x1ac)),_0x5219da=_0x9f1cd3[_0xeac462(0x162)](_0xeac462(0x198),_0x322626[_0xeac462(0x1d3)]);_0x141c68[_0xeac462(0x161)](_0x5219da);}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x14e),protectedRoute,async(_0x166e70,_0x250330)=>{const _0x133284=a26_0x16b471,_0xa6c0d9=fs['readFileSync'](path[_0x133284(0x250)](path[_0x133284(0x1d1)](require[_0x133284(0x1c0)][_0x133284(0x172)]),_0x133284(0x1be)),_0x133284(0x1ac)),_0x53e84a=_0xa6c0d9[_0x133284(0x162)](_0x133284(0x198),_0x166e70[_0x133284(0x1d3)]);_0x250330[_0x133284(0x161)](_0x53e84a);}),router['get'](a26_0x16b471(0x25f),protectedRoute,async(_0x466936,_0x48e046)=>{const _0x20f134=a26_0x16b471,_0x2635e8=fs[_0x20f134(0x236)](path[_0x20f134(0x250)](path[_0x20f134(0x1d1)](require['main'][_0x20f134(0x172)]),_0x20f134(0x149)),_0x20f134(0x1ac)),_0x1ab718=_0x2635e8['replaceAll'](_0x20f134(0x198),_0x466936[_0x20f134(0x1d3)]);_0x48e046[_0x20f134(0x161)](_0x1ab718);}),router['post'](a26_0x16b471(0x25f),async(_0x1c39a5,_0x118323)=>{const _0x51bff3=a26_0x16b471,_0x238b17=path['join'](path[_0x51bff3(0x1d1)](require[_0x51bff3(0x1c0)]['filename']),_0x51bff3(0x20e)),_0x385521=JSON[_0x51bff3(0x174)](fs[_0x51bff3(0x236)](_0x238b17,_0x51bff3(0x1ac))),_0x471e59=_0x385521[_0x51bff3(0x147)];if(!fs[_0x51bff3(0x22c)](_0x471e59))return _0x118323[_0x51bff3(0x260)](0x194)[_0x51bff3(0x136)]({'message':_0x51bff3(0x24c)});const _0x3eec4b=_0x43bcff=>{const _0x1adb6a=_0x51bff3;let _0x35850e=0x0;return _0x43bcff[_0x1adb6a(0x183)](_0x2aa5c5=>{const _0x3bb35d=_0x1adb6a;_0x2aa5c5[_0x3bb35d(0x214)]?_0x35850e+=_0x3eec4b(_0x2aa5c5['sub_dirs']):_0x35850e+=_0x2aa5c5['size'];}),_0x35850e;},_0x2e0905=_0x51085b=>{const _0x5614cd=_0x51bff3;if(_0x51085b<0x400)return _0x51085b+'\x20B';else{if(_0x51085b<0x400*0x400)return(_0x51085b/0x400)[_0x5614cd(0x280)](0x2)+_0x5614cd(0x224);else return _0x51085b<0x400*0x400*0x400?(_0x51085b/0x400/0x400)[_0x5614cd(0x280)](0x2)+_0x5614cd(0x167):(_0x51085b/0x400/0x400/0x400)[_0x5614cd(0x280)](0x2)+_0x5614cd(0x1a9);}},_0x49d515=(_0x5308b8,_0x1ac146='')=>{const _0x2f64b0=_0x51bff3,_0x3da3e5=fs[_0x2f64b0(0x249)](_0x5308b8),_0x508c7f=[];return _0x3da3e5[_0x2f64b0(0x183)](_0x3c2879=>{const _0xc70db7=_0x2f64b0,_0x433164=path[_0xc70db7(0x250)](_0x5308b8,_0x3c2879)[_0xc70db7(0x162)]('\x5c','/'),_0x39b0ff=fs['statSync'](_0x433164);if(_0x39b0ff[_0xc70db7(0x2bf)]()){const _0x4f2f12=_0x49d515(_0x433164,_0x1ac146+_0xc70db7(0x13f));_0x508c7f[_0xc70db7(0x1c7)]({'name':_0x3c2879,'size':_0x39b0ff['size'],'path':_0x433164,'permissions':_0x39b0ff[_0xc70db7(0x165)],'isFolder':!![],'sub_dirs':_0x4f2f12});}else _0x508c7f[_0xc70db7(0x1c7)]({'name':_0x3c2879,'size':_0x39b0ff[_0xc70db7(0x1dd)],'path':_0x433164,'permissions':_0x39b0ff[_0xc70db7(0x165)],'isFolder':![]});}),_0x508c7f;};let _0x4b0311=_0x49d515(_0x471e59);const _0x3be42e=_0x315f64=>{const _0x12b46e=_0x51bff3;return _0x315f64[_0x12b46e(0x183)](_0x159a7b=>{const _0x379abb=_0x12b46e;_0x159a7b[_0x379abb(0x214)]?(_0x159a7b[_0x379abb(0x158)]=_0x2e0905(_0x3eec4b(_0x159a7b[_0x379abb(0x22b)])),_0x159a7b[_0x379abb(0x22b)]=_0x3be42e(_0x159a7b[_0x379abb(0x22b)])):_0x159a7b[_0x379abb(0x158)]=_0x2e0905(_0x159a7b[_0x379abb(0x1dd)]);}),_0x315f64;};_0x118323['status'](0xc8)['json'](_0x3be42e(_0x4b0311));}),router[a26_0x16b471(0x1ea)](a26_0x16b471(0x18b),async(_0x46ebc6,_0x13dfe8)=>{const _0x4025bf=a26_0x16b471,{path:_0x2da8ce}=_0x46ebc6['body'],_0xa49a34=_0x2da8ce[_0x4025bf(0x2bc)]('/')['pop']();if(!fs['existsSync'](_0x2da8ce))return _0x13dfe8[_0x4025bf(0x260)](0x194)['json']({'message':_0x4025bf(0x253)});_0x13dfe8[_0x4025bf(0x235)](_0x4025bf(0x1f9),_0x4025bf(0x244)),_0x13dfe8[_0x4025bf(0x235)](_0x4025bf(0x1b8),'attachment;\x20filename=\x22'+_0xa49a34+'\x22'),_0x13dfe8[_0x4025bf(0x27a)](_0x2da8ce,_0x3a3b87=>{const _0xb07876=_0x4025bf;_0x3a3b87&&_0x13dfe8[_0xb07876(0x260)](0x1f4)[_0xb07876(0x136)]({'message':_0xb07876(0x197)});});}),router['post'](a26_0x16b471(0x2c2),async(_0x364f24,_0x4fd313)=>{const _0x2d710d=a26_0x16b471,_0x24e2ed=_0x364f24['body'],_0x865cf8=getHotConfig()['folderLocation'],_0x389a0b=path['join'](_0x865cf8,_0x24e2ed[_0x2d710d(0x141)]);if(!fs[_0x2d710d(0x22c)](_0x389a0b))return _0x4fd313[_0x2d710d(0x260)](0x194)[_0x2d710d(0x136)]({'message':_0x2d710d(0x27b)});if(fs[_0x2d710d(0x22c)](path['join'](_0x389a0b,_0x24e2ed[_0x2d710d(0x1ad)])))return _0x4fd313[_0x2d710d(0x260)](0x199)['json']({'message':_0x2d710d(0x19f)});fs['mkdir'](path[_0x2d710d(0x250)](_0x389a0b,_0x24e2ed[_0x2d710d(0x1ad)]),_0x41d501=>{const _0x581194=_0x2d710d;_0x41d501&&_0x4fd313[_0x581194(0x260)](0x1f4)['json']({'message':_0x581194(0x19b)}),_0x4fd313[_0x581194(0x260)](0xc8)[_0x581194(0x136)]({'message':_0x581194(0x1d7)});});}),router[a26_0x16b471(0x264)](a26_0x16b471(0x1fe),async(_0x2e7939,_0x4a3f2d)=>{const _0x470be5=a26_0x16b471,{newName:_0x350c6a,isFolder:_0x3befb7,path:_0x5379}=_0x2e7939[_0x470be5(0x16f)];if(!fs[_0x470be5(0x22c)](_0x5379))return _0x4a3f2d[_0x470be5(0x260)](0x194)[_0x470be5(0x136)]({'message':_0x3befb7?_0x470be5(0x178):_0x470be5(0x253)});const _0x31a318=_0x5379[_0x470be5(0x2b2)](_0x5379[_0x470be5(0x2bc)]('/')[_0x470be5(0x285)](),_0x350c6a),_0x4d826b=fs[_0x470be5(0x2a7)](_0x5379);_0x4d826b[_0x470be5(0x2bf)]()?fs[_0x470be5(0x15f)](_0x5379,_0x31a318):(fs[_0x470be5(0x1da)](_0x5379,_0x31a318),fs['unlinkSync'](_0x5379)),_0x4a3f2d[_0x470be5(0x260)](0xc8)[_0x470be5(0x136)]({'message':_0x3befb7?_0x470be5(0x177):_0x470be5(0x185)});}),router[a26_0x16b471(0x20c)](a26_0x16b471(0x1d8),async(_0x364fbc,_0x2826ba)=>{const _0x43b771=a26_0x16b471,{path:_0x4b6431}=_0x364fbc['body'];if(!fs['existsSync'](_0x4b6431))return _0x2826ba['status'](0x194)['json']({'message':_0x43b771(0x159)});const _0x42bbce=fs['statSync'](_0x4b6431);if(_0x42bbce[_0x43b771(0x201)]())fs[_0x43b771(0x203)](_0x4b6431,_0x53fafc=>{const _0x13fa73=_0x43b771;_0x53fafc&&_0x2826ba['status'](0x1f4)['json']({'message':_0x13fa73(0x2ab)}),_0x2826ba[_0x13fa73(0x260)](0xc8)['json']({'message':_0x13fa73(0x188)});});else _0x42bbce[_0x43b771(0x2bf)]()&&fs[_0x43b771(0x24f)](_0x4b6431,{'recursive':!![]},_0x2fe954=>{const _0x5b6931=_0x43b771;_0x2fe954&&_0x2826ba['status'](0x1f4)[_0x5b6931(0x136)]({'message':_0x5b6931(0x137)}),_0x2826ba[_0x5b6931(0x260)](0xc8)[_0x5b6931(0x136)]({'message':_0x5b6931(0x13a)});});});!fs[a26_0x16b471(0x22c)]('./tmp')&&fs['mkdirSync']('./tmp');const storage=multer[a26_0x16b471(0x170)]({'destination':(_0x16451e,_0x5ea79a,_0x3d9a31)=>{const _0xa6ddf1=a26_0x16b471;_0x3d9a31(null,_0xa6ddf1(0x209));},'filename':(_0x327a1a,_0x49135b,_0x219ad3)=>{const _0x116875=a26_0x16b471;_0x219ad3(null,Date[_0x116875(0x1e5)]()+path[_0x116875(0x228)](_0x49135b[_0x116875(0x215)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x16b471(0x1ea)](a26_0x16b471(0x1f4),upload[a26_0x16b471(0x2b5)](a26_0x16b471(0x24a)),async(_0x1fdcff,_0x2967da)=>{const _0x1f0fe1=a26_0x16b471,_0x37a1c3=_0x1fdcff[_0x1f0fe1(0x16f)];if(!_0x1fdcff[_0x1f0fe1(0x24a)]||_0x1fdcff[_0x1f0fe1(0x24a)]['length']===0x0)return _0x2967da['status'](0x190)[_0x1f0fe1(0x136)]({'message':_0x1f0fe1(0x2bd)});const _0x299a6b=getHotConfig()['folderLocation'],_0x46a9da=path[_0x1f0fe1(0x250)](_0x299a6b,_0x37a1c3['path']);if(!fs[_0x1f0fe1(0x22c)](_0x46a9da))return _0x2967da['status'](0x194)[_0x1f0fe1(0x136)]({'message':'Folder\x20not\x20found.'});const _0x234ba2=_0x1fdcff[_0x1f0fe1(0x24a)][_0x1f0fe1(0x2bb)](_0x9c85b7=>({'originalname':_0x9c85b7[_0x1f0fe1(0x215)],'filename':_0x9c85b7[_0x1f0fe1(0x172)],'mimetype':_0x9c85b7[_0x1f0fe1(0x2a6)],'size':_0x9c85b7[_0x1f0fe1(0x1dd)]}));_0x234ba2[_0x1f0fe1(0x183)](_0x4f9291=>{const _0x3467ec=_0x1f0fe1;fs[_0x3467ec(0x1da)](path[_0x3467ec(0x250)](_0x3467ec(0x209),_0x4f9291['filename']),path[_0x3467ec(0x250)](_0x46a9da,_0x4f9291[_0x3467ec(0x215)])),fs[_0x3467ec(0x19e)](path[_0x3467ec(0x250)](_0x3467ec(0x209),_0x4f9291[_0x3467ec(0x172)]));}),_0x2967da['status'](0xc8)['json']({'message':_0x1f0fe1(0x229),'files':_0x234ba2});}),router[a26_0x16b471(0x264)](a26_0x16b471(0x2b1),async(_0x412a56,_0x4b5e06)=>{const _0xb02526=a26_0x16b471,_0x332283=path[_0xb02526(0x250)](path[_0xb02526(0x1d1)](require[_0xb02526(0x1c0)]['filename']),'CADViewer_config.json'),{config:_0xace981}=_0x412a56['body'];if(!_0xace981)return _0x4b5e06[_0xb02526(0x260)](0x190)[_0xb02526(0x136)]({'message':_0xb02526(0x14b)});try{fs[_0xb02526(0x288)](_0x332283,JSON['stringify'](_0xace981,null,0x4)),_0x4b5e06[_0xb02526(0x260)](0xc8)[_0xb02526(0x136)]({'message':_0xb02526(0x2a1)});}catch(_0x260eee){_0x4b5e06['status'](0x1f4)['json']({'message':_0xb02526(0x2ac)});}}),router[a26_0x16b471(0x264)]('/config/update',async(_0x573aa9,_0x580a9c)=>{const _0x1d84ab=a26_0x16b471,{key:_0x25f3bf,value:_0x366f3f}=_0x573aa9['body'],_0x127b88=path[_0x1d84ab(0x250)](path[_0x1d84ab(0x1d1)](require['main'][_0x1d84ab(0x172)]),_0x1d84ab(0x20e));fs[_0x1d84ab(0x184)](_0x127b88,_0x1d84ab(0x1ac),function(_0x205c65,_0x4fd1b5){const _0x33aa9f=_0x1d84ab;_0x205c65&&_0x580a9c[_0x33aa9f(0x260)](0x1f4)[_0x33aa9f(0x161)](_0x205c65);const _0xd0b090=JSON[_0x33aa9f(0x174)](_0x4fd1b5);_0xd0b090[_0x25f3bf]=_0x366f3f;if(_0x25f3bf===_0x33aa9f(0x1c5)){let _0x35d615='';if(_0xd0b090[_0x33aa9f(0x28f)]){_0x35d615=os[_0x33aa9f(0x168)]();if(_0x35d615===_0x33aa9f(0x26c))_0x35d615=_0x33aa9f(0x258);else{if(_0x35d615==='darwin')_0x35d615=_0x33aa9f(0x15e);}}else _0x35d615=_0xd0b090[_0x33aa9f(0x168)];if(_0x35d615===_0x33aa9f(0x258)){_0xd0b090[_0x33aa9f(0x153)]=path['resolve'](__dirname,'..')+'/';const _0x1dd4be=/\\/g;_0xd0b090['ServerLocation']=_0xd0b090['ServerLocation'][_0x33aa9f(0x2b2)](_0x1dd4be,'/');}else _0xd0b090[_0x33aa9f(0x153)]=path[_0x33aa9f(0x2cb)](__dirname,'..')+'/';}if(_0x25f3bf==='autodetect_platform'){let _0x24b7a4=os[_0x33aa9f(0x168)]();if(_0x24b7a4==='win32')_0x24b7a4=_0x33aa9f(0x258);else _0x24b7a4='linux';_0x24b7a4===_0x33aa9f(0x258)?_0x366f3f===!![]&&(_0xd0b090[_0x33aa9f(0x191)]=_0xd0b090[_0x33aa9f(0x1b5)],_0xd0b090['dwgmerge_executable']=_0xd0b090[_0x33aa9f(0x14a)],_0xd0b090[_0x33aa9f(0x17f)]=_0xd0b090[_0x33aa9f(0x251)]):_0x366f3f===!![]&&(_0xd0b090[_0x33aa9f(0x191)]=_0xd0b090[_0x33aa9f(0x1b6)],_0xd0b090[_0x33aa9f(0x282)]=_0xd0b090[_0x33aa9f(0x22d)],_0xd0b090[_0x33aa9f(0x17f)]=_0xd0b090['linklist_executable_linux']),_0xd0b090[_0x33aa9f(0x168)]=_0x24b7a4;}if(_0xd0b090[_0x33aa9f(0x28f)]){let _0x359666=os[_0x33aa9f(0x168)]();if(_0x359666==='win32')_0x359666=_0x33aa9f(0x258);else _0x359666='linux';if(_0x359666==='windows'){if(_0x25f3bf===_0x33aa9f(0x1b5))_0xd0b090[_0x33aa9f(0x191)]=_0x366f3f;else{if(_0x25f3bf===_0x33aa9f(0x14a))_0xd0b090[_0x33aa9f(0x282)]=_0x366f3f;else _0x25f3bf===_0x33aa9f(0x251)&&(_0xd0b090[_0x33aa9f(0x17f)]=_0x366f3f);}}else{if(_0x25f3bf===_0x33aa9f(0x1b6))_0xd0b090[_0x33aa9f(0x191)]=_0x366f3f;else{if(_0x25f3bf===_0x33aa9f(0x22d))_0xd0b090[_0x33aa9f(0x282)]=_0x366f3f;else _0x25f3bf==='linklist_executable_linux'&&(_0xd0b090[_0x33aa9f(0x17f)]=_0x366f3f);}}}fs[_0x33aa9f(0x13b)](_0x127b88,JSON[_0x33aa9f(0x16e)](_0xd0b090,null,0x4),function(_0x10675d){const _0x1a491e=_0x33aa9f;_0x10675d&&_0x580a9c[_0x1a491e(0x260)](0x1f4)[_0x1a491e(0x161)](_0x10675d),_0x580a9c[_0x1a491e(0x260)](0xc8)['json']({'message':_0x1a491e(0x263)});});});}),router['post'](a26_0x16b471(0x13d),async(_0x5273fe,_0x8f1a25)=>{const _0x129f47=a26_0x16b471,_0x414926=getHotConfig(),_0x34af0c=(_0x414926['dwgmergeLocation'][_0x129f47(0x1a0)](_0x414926[_0x129f47(0x153)])?'':_0x414926['ServerLocation'])+_0x414926[_0x129f47(0x1fc)],_0xd1808c=(_0x414926[_0x129f47(0x1fc)][_0x129f47(0x1a0)](_0x414926[_0x129f47(0x153)])?'':_0x414926['ServerLocation'])+_0x414926[_0x129f47(0x180)],_0x4e0026=(_0x414926[_0x129f47(0x1c9)][_0x129f47(0x1a0)](_0x414926[_0x129f47(0x153)])?'':_0x414926[_0x129f47(0x153)])+_0x414926[_0x129f47(0x1c9)],_0x2b9516=/ax202.*\.exe/,_0x21661b=/ax202.*/,_0x405644=/dwgmerge202.*\.exe/,_0x24e13c=/dwgmerge_202.*/,_0x861c6c=/linklist_202.*\.exe/,_0x5702ed=/linklist_202.*/,_0xf8eb38=[],_0xa96700=[],_0x1f8b4d=[],_0x1b0691=[],_0x2693f8=[],_0x28dbb0=[];let _0x4cedae='';if(_0x414926[_0x129f47(0x28f)]){_0x4cedae=os[_0x129f47(0x168)]();if(_0x4cedae==='win32')_0x4cedae=_0x129f47(0x258);else{if(_0x4cedae==='darwin')_0x4cedae=_0x129f47(0x15e);}}else _0x4cedae=_0x414926[_0x129f47(0x168)];fs[_0x129f47(0x249)](_0x4e0026[_0x129f47(0x162)]('linux',_0x129f47(0x258)))[_0x129f47(0x183)](_0x44239c=>{const _0x1b80a7=_0x129f47;if(_0x2b9516['test'](_0x44239c[_0x1b80a7(0x22a)]()))_0xf8eb38[_0x1b80a7(0x1c7)](_0x44239c);}),fs[_0x129f47(0x249)](_0x34af0c[_0x129f47(0x162)](_0x129f47(0x15e),_0x129f47(0x258)))[_0x129f47(0x183)](_0xa000b6=>{const _0x17a40f=_0x129f47;if(_0x405644[_0x17a40f(0x299)](_0xa000b6['toLocaleLowerCase']()))_0xa96700['push'](_0xa000b6);}),fs[_0x129f47(0x249)](_0xd1808c[_0x129f47(0x162)]('linux','windows'))['forEach'](_0x160561=>{const _0x24cc80=_0x129f47;if(_0x861c6c['test'](_0x160561[_0x24cc80(0x22a)]()))_0x1f8b4d[_0x24cc80(0x1c7)](_0x160561);}),fs[_0x129f47(0x249)](_0x4e0026[_0x129f47(0x162)](_0x129f47(0x258),_0x129f47(0x15e)))[_0x129f47(0x183)](_0x45b05e=>{const _0x4273d7=_0x129f47;if(_0x21661b[_0x4273d7(0x299)](_0x45b05e[_0x4273d7(0x22a)]()))_0x1b0691[_0x4273d7(0x1c7)](_0x45b05e);}),fs[_0x129f47(0x249)](_0x34af0c[_0x129f47(0x162)](_0x129f47(0x258),_0x129f47(0x15e)))[_0x129f47(0x183)](_0x279929=>{const _0xa4e13=_0x129f47;if(_0x24e13c[_0xa4e13(0x299)](_0x279929[_0xa4e13(0x22a)]()))_0x2693f8['push'](_0x279929);}),fs[_0x129f47(0x249)](_0xd1808c['replaceAll'](_0x129f47(0x258),'linux'))[_0x129f47(0x183)](_0x300ffc=>{const _0x143324=_0x129f47;if(_0x5702ed[_0x143324(0x299)](_0x300ffc['toLocaleLowerCase']()))_0x28dbb0[_0x143324(0x1c7)](_0x300ffc);});const _0x427892=['ServerPort',_0x129f47(0x23e),_0x129f47(0x2ad),_0x129f47(0x232),_0x129f47(0x190)],_0x46d963=['fileLocation',_0x129f47(0x255),_0x129f47(0x1c9),_0x129f47(0x2ce),_0x129f47(0x1f3),_0x129f47(0x181),'callbackMethod','dwgmergeLocation',_0x129f47(0x180),'version'],_0x516474=[_0x129f47(0x287),_0x129f47(0x1b3),_0x129f47(0x210),_0x129f47(0x1cc),_0x129f47(0x25a),_0x129f47(0x1c3),_0x129f47(0x295)],_0xec7762={'ServerUrl':_0x129f47(0x292),'autoxchange_executable':_0x129f47(0x1a1),'linklist_executable':_0x129f47(0x1b4),'dwgmerge_executable':_0x129f47(0x227),'setup_mysqlHost':_0x129f47(0x27e),'callbackMethod_gatewayUrl_flag':_0x129f47(0x23a),'userFolderMaximumFiles':_0x129f47(0x290),'smtpHost':_0x129f47(0x179)},_0x4a00af={'https':'boolean','ServerFrontEndUrlAsAllowedOriginOnly':_0x129f47(0x225),'autodetect_platform':_0x129f47(0x225),'cvjs_svgz_compress':'boolean','cached_conversion':'boolean','remainOnServer':_0x129f47(0x225),'cvjs_debug':_0x129f47(0x225),'autodetect_location':_0x129f47(0x225),'platform':_0x129f47(0x1ef),'autoxchange_executable':_0x129f47(0x28c)+(_0x4cedae===_0x129f47(0x258)?_0xf8eb38[_0x129f47(0x250)](','):_0x1b0691[_0x129f47(0x250)](',')),'autoxchange_executable_windows':_0x129f47(0x28c)+_0xf8eb38[_0x129f47(0x250)](','),'autoxchange_executable_linux':_0x129f47(0x28c)+_0x1b0691['join'](','),'dwgmerge_executable':'radio|'+(_0x4cedae==='windows'?_0xa96700[_0x129f47(0x250)](','):_0x2693f8[_0x129f47(0x250)](',')),'dwgmerge_executable_windows':_0x129f47(0x28c)+_0xa96700[_0x129f47(0x250)](','),'dwgmerge_executable_linux':'radio|'+_0x2693f8[_0x129f47(0x250)](','),'linklist_executable':_0x129f47(0x28c)+(_0x4cedae===_0x129f47(0x258)?_0x1f8b4d[_0x129f47(0x250)](','):_0x28dbb0['join'](',')),'linklist_executable_windows':_0x129f47(0x28c)+_0x1f8b4d[_0x129f47(0x250)](','),'linklist_executable_linux':_0x129f47(0x28c)+_0x28dbb0[_0x129f47(0x250)](','),'callbackMethod_gatewayUrl_flag':_0x129f47(0x225),'setup_mysqlHost':'boolean','ContentSecurityPolicyReportOnly':_0x129f47(0x225),'fileLoad_PasswordAuthentication':'boolean','contentLocationCheck':_0x129f47(0x225),'globalBearerAutentication':_0x129f47(0x225),'bcryptSaltRounds':_0x129f47(0x21c),'userFolderMaximumFiles':'number','userFolderMaximumSizeInMB':_0x129f47(0x21c)},_0x3f5c4b={},_0x1b0551=Object[_0x129f47(0x24b)](_0x414926);_0x414926[_0x129f47(0x28f)]&&_0x427892[_0x129f47(0x1c7)](_0x129f47(0x168)),_0x414926[_0x129f47(0x1c5)]&&(_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x153)),_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x191)),_0x46d963['push']('dwgmerge_executable'),_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x17f))),!_0x414926['callbackMethod_gatewayUrl_flag']&&_0x46d963['push']('callbackMethod_gatewayUrl'),!_0x414926['setup_mysqlHost']&&(_0x46d963['push'](_0x129f47(0x1b3)),_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x210)),_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x1cc)),_0x46d963['push'](_0x129f47(0x25a))),!_0x414926[_0x129f47(0x284)]&&_0x46d963[_0x129f47(0x1c7)]('ContentSecurityPolicy'),!_0x414926[_0x129f47(0x269)]&&(_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x175)),_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x176))),!_0x414926[_0x129f47(0x18e)]&&_0x46d963[_0x129f47(0x1c7)](_0x129f47(0x1c2)),_0x1b0551[_0x129f47(0x183)](_0x21aa20=>{const _0x538065=_0x129f47;!_0x427892[_0x538065(0x1a0)](_0x21aa20)&&(_0x3f5c4b[_0x21aa20]=_0x414926[_0x21aa20]);}),_0x3f5c4b[_0x129f47(0x255)]=''+_0x414926['ServerUrl']+_0x414926['fileLocation'],_0x8f1a25[_0x129f47(0x260)](0xc8)[_0x129f47(0x136)]({'notEditableFields':_0x46d963,'customFieldTypes':_0x4a00af,'notHotEditableFields':_0x516474,'config':_0x3f5c4b,'fieldsTitle':_0xec7762,'configData':_0x414926});}),router['get'](a26_0x16b471(0x27c),protectedRoute,async(_0x258f06,_0x411ab4)=>{const _0xb8c691=a26_0x16b471,_0x54f3c7=fs[_0xb8c691(0x236)](path['join'](path['dirname'](require[_0xb8c691(0x1c0)][_0xb8c691(0x172)]),'cadviewer/settings/logs.html'),_0xb8c691(0x1ac)),_0x2f82d6=_0x54f3c7['replaceAll'](_0xb8c691(0x198),_0x258f06[_0xb8c691(0x1d3)]);_0x411ab4['send'](_0x2f82d6);});function findMatchingLogFiles(_0x9fb899,_0x498482=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x294992=a26_0x16b471;try{const _0xc69099=fs[_0x294992(0x249)](_0x9fb899);return _0xc69099[_0x294992(0x1f8)](_0x4447d7=>_0x498482[_0x294992(0x299)](_0x4447d7))[_0x294992(0x2bb)](_0x2c555c=>_0x2c555c[_0x294992(0x162)]('call-Api_Conversion_','')[_0x294992(0x162)](_0x294992(0x26a),''));}catch(_0x400a79){return console[_0x294992(0x2b6)]('Error\x20finding\x20log\x20files:',_0x400a79),[];}}router[a26_0x16b471(0x1ea)]('/logs/content',async(_0xbc3e86,_0x2636a8)=>{const _0x57b086=a26_0x16b471,_0x3bcb5e=new Date(),_0x110b1=_0x3bcb5e['getDate']()[_0x57b086(0x22e)]()[_0x57b086(0x1d4)](0x2,'0')+'_'+(_0x3bcb5e['getMonth']()+0x1)['toString']()[_0x57b086(0x1d4)](0x2,'0')+'_'+_0x3bcb5e[_0x57b086(0x1e8)](),{displayDay:_0x298eb6}=_0xbc3e86[_0x57b086(0x16f)],_0x17cd88=path['join'](path[_0x57b086(0x1d1)](require['main'][_0x57b086(0x172)]),_0x57b086(0x16b),_0x57b086(0x1ee)+(_0x298eb6??_0x110b1)+'.log');fs[_0x57b086(0x22c)](_0x17cd88)?fs[_0x57b086(0x184)](_0x17cd88,_0x57b086(0x1ac),function(_0x345266,_0x34f000){const _0x5a1985=_0x57b086;_0x345266&&_0x2636a8[_0x5a1985(0x260)](0x1f4)[_0x5a1985(0x161)](_0x345266),_0x2636a8[_0x5a1985(0x260)](0xc8)[_0x5a1985(0x136)]({'content':_0x34f000,'days':findMatchingLogFiles(path['join'](path[_0x5a1985(0x1d1)](require[_0x5a1985(0x1c0)]['filename']),_0x5a1985(0x16b)))});}):_0x2636a8['status'](0xc8)[_0x57b086(0x136)]({'content':'','days':findMatchingLogFiles(path[_0x57b086(0x250)](path[_0x57b086(0x1d1)](require['main'][_0x57b086(0x172)]),_0x57b086(0x16b)))});}),router[a26_0x16b471(0x20c)](a26_0x16b471(0x25e),async(_0x27896d,_0x32d87d)=>{const _0x1baadb=a26_0x16b471,_0x5ce44a=new Date(),_0x469510=_0x5ce44a[_0x1baadb(0x230)]()[_0x1baadb(0x22e)]()['padStart'](0x2,'0')+'_'+(_0x5ce44a[_0x1baadb(0x259)]()+0x1)[_0x1baadb(0x22e)]()[_0x1baadb(0x1d4)](0x2,'0')+'_'+_0x5ce44a[_0x1baadb(0x1e8)](),_0x503cba=findMatchingLogFiles(path[_0x1baadb(0x250)](path[_0x1baadb(0x1d1)](require[_0x1baadb(0x1c0)][_0x1baadb(0x172)]),_0x1baadb(0x16b)));_0x503cba[_0x1baadb(0x183)](_0x3b5a34=>{const _0x41b85a=_0x1baadb;if(_0x3b5a34!==_0x469510)fs[_0x41b85a(0x19e)](path[_0x41b85a(0x250)](path[_0x41b85a(0x1d1)](require['main'][_0x41b85a(0x172)]),'logs',_0x41b85a(0x1ee)+_0x3b5a34+_0x41b85a(0x26a)));}),logStream[_0x1baadb(0x189)](),_0x32d87d[_0x1baadb(0x260)](0xc8)[_0x1baadb(0x136)]({'message':_0x1baadb(0x29b)});}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x1dc),protectedRoute,async(_0x29cce2,_0x281c37)=>{const _0x3d70a8=a26_0x16b471,_0x47989d=path[_0x3d70a8(0x250)](path['dirname'](require[_0x3d70a8(0x1c0)][_0x3d70a8(0x172)]),_0x3d70a8(0x21b));if(!fs[_0x3d70a8(0x22c)](_0x47989d)){const _0xb17e97={'jsonDataExtraction':{'standard':[{'paramName':'json','paramValue':''},{'paramName':_0x3d70a8(0x1ce),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x3d70a8(0x207)},{'paramName':_0x3d70a8(0x1e3),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x3d70a8(0x1fb)},{'paramName':_0x3d70a8(0x1e3),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x3d70a8(0x207)},{'paramName':_0x3d70a8(0x1e3),'paramValue':''},{'paramName':_0x3d70a8(0x23d),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs[_0x3d70a8(0x288)](_0x47989d,JSON['stringify'](_0xb17e97,null,0x4));}const _0x132577=fs[_0x3d70a8(0x236)](path[_0x3d70a8(0x250)](path['dirname'](require[_0x3d70a8(0x1c0)][_0x3d70a8(0x172)]),_0x3d70a8(0x21e)),_0x3d70a8(0x1ac)),_0x85b6ab=_0x132577[_0x3d70a8(0x162)](_0x3d70a8(0x198),_0x29cce2[_0x3d70a8(0x1d3)]);_0x281c37['send'](_0x85b6ab);}),router[a26_0x16b471(0x1ea)]('/restapi-test/parameters/search',async(_0x40bc0c,_0x352dd0)=>{const _0x1a1788=a26_0x16b471,{actionName:_0x54af5e,contentLocation:_0x2318d0}=_0x40bc0c[_0x1a1788(0x16f)],_0x454c0f=path[_0x1a1788(0x250)](path[_0x1a1788(0x1d1)](require[_0x1a1788(0x1c0)]['filename']),_0x1a1788(0x21b));fs[_0x1a1788(0x184)](_0x454c0f,'utf8',function(_0x4b08d6,_0x12d446){const _0x29b76b=_0x1a1788;if(_0x4b08d6)_0x352dd0[_0x29b76b(0x260)](0xc8)['json']({'parameters':[]});else{const _0x27929d=JSON[_0x29b76b(0x174)](_0x12d446);if(_0x27929d[_0x54af5e]&&_0x27929d[_0x54af5e][_0x2318d0])_0x352dd0['status'](0xc8)[_0x29b76b(0x136)]({'parameters':_0x27929d[_0x54af5e][_0x2318d0]});else _0x27929d[_0x54af5e]&&_0x27929d[_0x54af5e][_0x29b76b(0x1f1)]?_0x352dd0[_0x29b76b(0x260)](0xc8)[_0x29b76b(0x136)]({'parameters':_0x27929d[_0x54af5e][_0x29b76b(0x1f1)]}):_0x352dd0[_0x29b76b(0x260)](0xc8)[_0x29b76b(0x136)]({'parameters':[]});}});}),router['post'](a26_0x16b471(0x231),async(_0x213073,_0x4418d8)=>{const _0x56eaac=a26_0x16b471,{actionName:_0xbdd29e,contentLocation:_0x1ce1bd,parameters:_0x209eb1}=_0x213073[_0x56eaac(0x16f)],_0x311288=path[_0x56eaac(0x250)](path[_0x56eaac(0x1d1)](require[_0x56eaac(0x1c0)][_0x56eaac(0x172)]),_0x56eaac(0x21b));fs[_0x56eaac(0x184)](_0x311288,_0x56eaac(0x1ac),function(_0x8f6bc6,_0x4b73b6){const _0x5f130c=_0x56eaac;if(_0x8f6bc6)_0x4418d8['status'](0x199)[_0x5f130c(0x136)]({'message':_0x5f130c(0x20f)});else{const _0x521102=JSON[_0x5f130c(0x174)](_0x4b73b6);!_0x521102[_0xbdd29e]&&(_0x521102[_0xbdd29e]={}),_0x521102[_0xbdd29e][_0x1ce1bd]=_0x209eb1,fs[_0x5f130c(0x13b)](_0x311288,JSON[_0x5f130c(0x16e)](_0x521102,null,0x4),function(_0x2f8b56){const _0x24bc15=_0x5f130c;_0x2f8b56&&_0x4418d8[_0x24bc15(0x260)](0x199)['json']({'message':_0x24bc15(0x20f)}),_0x4418d8['status'](0xc8)[_0x24bc15(0x136)]({'message':_0x24bc15(0x275)});});}});}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x1bb),protectedRoute,async(_0x3f8c56,_0x2abb0b)=>{const _0x3444a5=a26_0x16b471,_0x43d82c=fs[_0x3444a5(0x236)](path[_0x3444a5(0x250)](path[_0x3444a5(0x1d1)](require[_0x3444a5(0x1c0)][_0x3444a5(0x172)]),'cadviewer/settings/doctor.html'),_0x3444a5(0x1ac)),_0x5ae78f=_0x43d82c['replaceAll']('{version}',_0x3f8c56[_0x3444a5(0x1d3)]);_0x2abb0b[_0x3444a5(0x161)](_0x5ae78f);}),router[a26_0x16b471(0x1ea)]('/doctor/check',async(_0x15e43b,_0x488276)=>{const _0x3eac34=a26_0x16b471,_0x4a983c=getHotConfig(),_0x3ee8ba=_0x4a983c['converterLocation']['replaceAll']('//','/'),_0xff5f2e=_0x4a983c['dwgmergeLocation'][_0x3eac34(0x162)]('//','/'),_0x968ef0=_0x4a983c['linklistLocation'][_0x3eac34(0x162)]('//','/'),_0x333a12=''+_0x3ee8ba+_0x4a983c[_0x3eac34(0x191)],_0x57326e=''+_0xff5f2e+_0x4a983c[_0x3eac34(0x282)],_0x5b7f76=''+_0x968ef0+_0x4a983c[_0x3eac34(0x17f)],_0x322e86=[],_0xca3181=new Promise(_0xe9495e=>{const _0x50c1ec=_0x3eac34;exec(os[_0x50c1ec(0x168)]()===_0x50c1ec(0x26c)?_0x50c1ec(0x17d):'ls',_0x2b1066=>{const _0x562477=_0x50c1ec;_0x2b1066?_0x322e86[_0x562477(0x1c7)]({'title':_0x562477(0x243),'status':![],'priority':0x1}):_0x322e86['push']({'title':_0x562477(0x243),'status':!![],'priority':0x1}),_0xe9495e();});}),_0x5b7ae9=new Promise(_0x2b48d3=>{const _0x56d0e0=_0x3eac34;fs['access'](_0x333a12,fs[_0x56d0e0(0x28a)][_0x56d0e0(0x279)],_0x5b2bf9=>{const _0xf9043e=_0x56d0e0;_0x5b2bf9?_0x322e86[_0xf9043e(0x1c7)]({'title':_0xf9043e(0x14f)+_0x4a983c[_0xf9043e(0x191)]+_0xf9043e(0x16a),'status':![],'priority':0x2}):_0x322e86[_0xf9043e(0x1c7)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x4a983c[_0xf9043e(0x191)]+_0xf9043e(0x16a),'status':!![],'priority':0x2}),_0x2b48d3();});}),_0xf124c7=new Promise(_0x361194=>{const _0x2ebf26=_0x3eac34;fs[_0x2ebf26(0x14d)](_0x57326e,fs[_0x2ebf26(0x28a)][_0x2ebf26(0x279)],_0x2389cd=>{const _0x74eee1=_0x2ebf26;_0x2389cd?_0x322e86[_0x74eee1(0x1c7)]({'title':_0x74eee1(0x14f)+_0x4a983c[_0x74eee1(0x282)]+'\x22\x20executable','status':![],'priority':0x3}):_0x322e86[_0x74eee1(0x1c7)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x4a983c[_0x74eee1(0x282)]+_0x74eee1(0x16a),'status':!![],'priority':0x3}),_0x361194();});}),_0x572a73=new Promise(_0x2991e2=>{const _0x495f40=_0x3eac34;fs[_0x495f40(0x14d)](_0x5b7f76,fs[_0x495f40(0x28a)]['X_OK'],_0x1c4d2d=>{const _0xcf4492=_0x495f40;_0x1c4d2d?_0x322e86[_0xcf4492(0x1c7)]({'title':_0xcf4492(0x14f)+_0x4a983c['linklist_executable']+'\x22\x20executable','status':![],'priority':0x4}):_0x322e86['push']({'title':_0xcf4492(0x14f)+_0x4a983c[_0xcf4492(0x17f)]+_0xcf4492(0x16a),'status':!![],'priority':0x4}),_0x2991e2();});}),_0x4ef2bf=new Promise(_0x1942c0=>{const _0x16ba6b=_0x3eac34,_0x260162=new Date(),_0xf6ce4=_0x260162[_0x16ba6b(0x230)]()[_0x16ba6b(0x22e)]()[_0x16ba6b(0x1d4)](0x2,'0')+'_'+(_0x260162[_0x16ba6b(0x259)]()+0x1)[_0x16ba6b(0x22e)]()[_0x16ba6b(0x1d4)](0x2,'0')+'_'+_0x260162[_0x16ba6b(0x1e8)](),{displayDay:_0x428964}=_0x15e43b[_0x16ba6b(0x16f)];fs['access'](path[_0x16ba6b(0x250)](path['dirname'](require[_0x16ba6b(0x1c0)][_0x16ba6b(0x172)]),_0x16ba6b(0x16b),_0x16ba6b(0x1ee)+(_0x428964??_0xf6ce4)+_0x16ba6b(0x26a)),fs[_0x16ba6b(0x28a)][_0x16ba6b(0x2ba)],_0x46a479=>{const _0x38f00b=_0x16ba6b;_0x46a479?_0x322e86[_0x38f00b(0x1c7)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0x428964??_0xf6ce4)+'.log\x22','status':![],'priority':0x5}):_0x322e86[_0x38f00b(0x1c7)]({'title':_0x38f00b(0x139)+(_0x428964??_0xf6ce4)+_0x38f00b(0x1f2),'status':!![],'priority':0x5}),_0x1942c0();});}),_0x25f1c2=(_0x2c4b50,_0x5b9a0e)=>{const _0x3aa4a1=_0x3eac34,_0x5e378a=path[_0x3aa4a1(0x250)](path[_0x3aa4a1(0x1d1)](require[_0x3aa4a1(0x1c0)][_0x3aa4a1(0x172)]),_0x2c4b50);return new Promise(_0x161aae=>{const _0xa3f03a=_0x3aa4a1;fs['access'](path[_0xa3f03a(0x250)](path['dirname'](_0x5e378a)),fs[_0xa3f03a(0x28a)][_0xa3f03a(0x1d9)]|fs['constants'][_0xa3f03a(0x2ba)],_0x32d7b4=>{const _0x3bf266=_0xa3f03a;_0x32d7b4?_0x322e86[_0x3bf266(0x1c7)]({'title':_0x3bf266(0x1ba)+_0x2c4b50,'status':![],'priority':_0x5b9a0e+0x6}):_0x322e86[_0x3bf266(0x1c7)]({'title':_0x3bf266(0x1ba)+_0x2c4b50,'status':!![],'priority':_0x5b9a0e+0x6}),_0x161aae();});});},_0xc9950e=[_0x3eac34(0x233),_0x3eac34(0x21d),'/converters/files/merged/',_0x3eac34(0x18a),_0x3eac34(0x2c0),_0x3eac34(0x13e),_0x3eac34(0x1eb)],_0x1a2573=_0xc9950e[_0x3eac34(0x2bb)](_0x25f1c2);Promise['all']([_0xca3181,_0x5b7ae9,_0xf124c7,_0x572a73,_0x4ef2bf,..._0x1a2573])[_0x3eac34(0x1c4)](()=>{const _0x5b5adc=_0x3eac34;_0x488276[_0x5b5adc(0x260)](0xc8)[_0x5b5adc(0x136)]({'checking_list':_0x322e86});})[_0x3eac34(0x20a)](()=>{const _0x4ec400=_0x3eac34;_0x488276['status'](0x1f4)[_0x4ec400(0x136)]({'error':_0x4ec400(0x1c1)});});}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x15b),protectedRoute,async(_0x209a6e,_0x4e4d7c)=>{const _0xe76c44=a26_0x16b471,_0x76b7cb=fs[_0xe76c44(0x236)](path['join'](path['dirname'](require['main'][_0xe76c44(0x172)]),'cadviewer/settings/users.html'),_0xe76c44(0x1ac)),_0x1a8917=_0x76b7cb['replaceAll'](_0xe76c44(0x198),_0x209a6e['version']);_0x4e4d7c[_0xe76c44(0x161)](_0x1a8917);}),router[a26_0x16b471(0x1ea)](a26_0x16b471(0x193),async(_0x5c0bcc,_0x551fa6)=>{const _0xca64c2=a26_0x16b471;let _0x2b8f73;try{const [_0x33b231]=await conn[_0xca64c2(0x220)]()[_0xca64c2(0x2a8)]('SELECT\x20*\x20FROM\x20users',[]);_0x2b8f73=_0x33b231;}catch(_0x349c2f){console[_0xca64c2(0x242)](_0x349c2f),_0x551fa6[_0xca64c2(0x260)](0x1f4)[_0xca64c2(0x136)]({'error':_0xca64c2(0x252)});return;}_0x551fa6['status'](0xc8)[_0xca64c2(0x136)]({'success':!![],'data':_0x2b8f73});}),router[a26_0x16b471(0x1ea)](a26_0x16b471(0x15b),upload['single']('avatar'),async(_0x424337,_0x36d490)=>{const _0x231143=a26_0x16b471,{id:_0x2ae074,first_name:_0x355fc5,last_name:_0x2846ff,username:_0x47bc3e,email:_0x72a3e4,password:_0x15dba8,is_enabled:_0x5dc479}=_0x424337['body'],_0x730428=_0x424337[_0x231143(0x16f)][_0x231143(0x218)]===_0x231143(0x276)?'admin':_0x424337['body'][_0x231143(0x218)]==='demo_user'?'demo_user':_0x231143(0x28b);let _0x546557;console['log'](_0x231143(0x2b7));_0x15dba8&&(_0x546557=await bcrypt[_0x231143(0x1d0)](_0x15dba8,0xa));let _0x261494=null;if(_0x424337[_0x231143(0x182)]){const _0x3561fe='avatars/'+randomUUID()+_0x231143(0x1db);fs[_0x231143(0x1da)](_0x424337[_0x231143(0x182)]['path'],'./'+_0x3561fe),fs['unlinkSync'](_0x424337['file'][_0x231143(0x141)]),_0x261494=config[_0x231143(0x287)]+'/'+_0x3561fe;}if(_0x2ae074){try{let [_0x44c53b]=await conn['promise']()[_0x231143(0x2a8)](_0x231143(0x1c6),[_0x72a3e4,_0x47bc3e,_0x2ae074]);if(_0x44c53b[_0x231143(0x20d)]>0x0)_0x36d490[_0x231143(0x260)](0x199)[_0x231143(0x136)]({'error':_0x231143(0x1b1)});else{!_0x424337['file']&&([_0x44c53b]=await conn[_0x231143(0x220)]()[_0x231143(0x2a8)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x2ae074]),_0x261494=_0x44c53b[0x0]['avatar_url']);const _0x519000=_0x231143(0x268)+(_0x15dba8?_0x231143(0x27f):'')+_0x231143(0x1b7);await conn[_0x231143(0x220)]()['execute'](_0x519000,_0x15dba8?[_0x261494,_0x355fc5,_0x2846ff,_0x47bc3e,_0x72a3e4,_0x546557,_0x5dc479,_0x730428,_0x2ae074]:[_0x261494,_0x355fc5,_0x2846ff,_0x47bc3e,_0x72a3e4,_0x5dc479,_0x730428,_0x2ae074]);}}catch(_0x2f0dd5){console[_0x231143(0x242)](_0x2f0dd5),_0x36d490[_0x231143(0x260)](0x1f4)[_0x231143(0x136)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x36d490[_0x231143(0x260)](0xc8)['json']({'success':!![],'message':_0x231143(0x166)});}else{try{const [_0x5a3031]=await conn[_0x231143(0x220)]()['execute']('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?',[_0x72a3e4,_0x47bc3e]);if(_0x5a3031[_0x231143(0x20d)]>0x0)_0x36d490['status'](0x199)[_0x231143(0x136)]({'error':_0x231143(0x1b1)});else{const _0x30b5f5=randomUUID();await conn[_0x231143(0x220)]()[_0x231143(0x2a8)]('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x261494,_0x355fc5,_0x2846ff,_0x47bc3e,_0x72a3e4,_0x546557,_0x730428,_0x5dc479,_0x30b5f5]);const _0x2b7bfe=_0x231143(0x1b9)+_0x30b5f5;fs[_0x231143(0x212)](_0x2b7bfe);}}catch(_0x451dda){console[_0x231143(0x242)](_0x451dda),_0x36d490[_0x231143(0x260)](0x1f4)['json']({'error':_0x231143(0x252)});return;}_0x36d490[_0x231143(0x260)](0xc8)[_0x231143(0x136)]({'success':!![],'message':_0x231143(0x20b)});}}),router['delete'](a26_0x16b471(0x15d),async(_0x58ee0d,_0x3ba102)=>{const _0x1616c1=a26_0x16b471,{userId:_0x524d5e}=_0x58ee0d['body'];let _0x901742;try{const [_0x414ca1]=await conn[_0x1616c1(0x220)]()['execute'](_0x1616c1(0x226),[_0x524d5e]);_0x414ca1[_0x1616c1(0x20d)]>0x0&&(_0x901742=_0x414ca1[0x0]);}catch(_0x3f024b){console[_0x1616c1(0x242)]({'err':_0x3f024b}),_0x3ba102[_0x1616c1(0x260)](0x1f4)['json']({'error':_0x1616c1(0x252)});return;}if(!_0x901742){_0x3ba102[_0x1616c1(0x260)](0x191)['json']({'error':_0x1616c1(0x1d5)});return;}let _0x35456c=_0x901742[_0x1616c1(0x254)];if(!_0x35456c){_0x35456c=randomUUID();try{await conn['promise']()[_0x1616c1(0x2a8)](_0x1616c1(0x17b),[_0x35456c,_0x524d5e]);}catch(_0x34150b){console['log']({'err':_0x34150b}),_0x3ba102[_0x1616c1(0x260)](0x1f4)[_0x1616c1(0x136)]({'error':_0x1616c1(0x252)});return;}}const _0x3d08cf=_0x1616c1(0x1b9)+_0x35456c;console['log'](_0x1616c1(0x1e1)),console['log'](_0x3d08cf),!fs['existsSync'](_0x3d08cf)&&fs[_0x1616c1(0x212)](_0x3d08cf),fs[_0x1616c1(0x187)](_0x3d08cf,{'recursive':!![],'force':!![]}),fs[_0x1616c1(0x212)](_0x3d08cf),_0x3ba102[_0x1616c1(0x260)](0xc8)[_0x1616c1(0x136)]({'success':!![],'message':'User\x20directory\x20flushed\x20successfully'});}),router[a26_0x16b471(0x20c)](a26_0x16b471(0x272),async(_0x42590a,_0x343cc7)=>{const _0x2cec37=a26_0x16b471,_0x58b397=_0x42590a[_0x2cec37(0x222)]['userId'];try{let _0x2578ad;try{const [_0x51cff4]=await conn[_0x2cec37(0x220)]()['execute']('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x58b397]);_0x51cff4[_0x2cec37(0x20d)]>0x0&&(_0x2578ad=_0x51cff4[0x0]);}catch(_0x141d48){console[_0x2cec37(0x242)]({'err':_0x141d48}),_0x343cc7['status'](0x1f4)[_0x2cec37(0x136)]({'error':_0x2cec37(0x252)});return;}if(!_0x2578ad){_0x343cc7[_0x2cec37(0x260)](0x191)[_0x2cec37(0x136)]({'error':'Invalid\x20user'});return;}let _0x52e539=_0x2578ad['folder_name'];if(_0x52e539){const _0x588b38=_0x2cec37(0x1b9)+_0x52e539;fs[_0x2cec37(0x22c)](_0x588b38)&&fs[_0x2cec37(0x187)](_0x588b38,{'recursive':!![],'force':!![]});}await conn[_0x2cec37(0x220)]()['execute'](_0x2cec37(0x278),[_0x58b397]);}catch(_0x5314ce){console[_0x2cec37(0x242)](_0x5314ce),_0x343cc7[_0x2cec37(0x260)](0x1f4)[_0x2cec37(0x136)]({'error':_0x2cec37(0x252)});return;}_0x343cc7[_0x2cec37(0x260)](0xc8)['json']({'success':!![],'message':_0x2cec37(0x266)});}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x1a6),async(_0x31a8ea,_0x4aaf8a)=>{const _0xdaa790=a26_0x16b471,_0x38e49c=osu[_0xdaa790(0x19c)],_0x2bf631=osu['mem'],_0x27f98b=osu[_0xdaa790(0x1aa)],_0x4a5fb0=osu['os'],_0x3ac085={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x1282da=os[_0xdaa790(0x168)]()===_0xdaa790(0x26c)?'c:':'/';const _0x3ba499=await _0x27f98b[_0xdaa790(0x256)](_0x1282da);_0x3ac085[_0xdaa790(0x192)]=_0x3ba499['usedPercentage'],_0x3ac085[_0xdaa790(0x1d6)]=_0x3ba499[_0xdaa790(0x14c)],_0x3ac085[_0xdaa790(0x29e)]=_0x3ba499[_0xdaa790(0x29e)],_0x3ac085[_0xdaa790(0x1cf)]=_0x3ba499[_0xdaa790(0x1cd)];}catch(_0x4ca39b){console['log']('Error\x20getting\x20disk\x20usage',_0x4ca39b);}const _0xd77d9c={'usage':0x0,'count':0x0};try{_0xd77d9c[_0xdaa790(0x25c)]=await _0x38e49c[_0xdaa790(0x25c)](),_0xd77d9c['count']=_0x38e49c[_0xdaa790(0x248)]();}catch(_0x5741cf){console[_0xdaa790(0x242)](_0xdaa790(0x1e4),_0x5741cf);}const _0x136bc8={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x136bc8['os']=await _0x4a5fb0[_0xdaa790(0x17a)](),_0x136bc8[_0xdaa790(0x168)]=_0x4a5fb0[_0xdaa790(0x168)](),_0x136bc8['ip']=_0x4a5fb0['ip'](),_0x136bc8['uptime']=_0x4a5fb0[_0xdaa790(0x146)](),_0x136bc8[_0xdaa790(0x1bf)]=_0x4a5fb0[_0xdaa790(0x1bf)](),_0x136bc8[_0xdaa790(0x143)]=_0x4a5fb0[_0xdaa790(0x143)](),_0x136bc8[_0xdaa790(0x2c8)]=_0x4a5fb0[_0xdaa790(0x2c8)](),_0x136bc8['who']=await osu[_0xdaa790(0x2be)][_0xdaa790(0x205)](),_0x136bc8[_0xdaa790(0x245)]=await osu['osCmd'][_0xdaa790(0x245)](),_0x136bc8[_0xdaa790(0x156)]=await osu[_0xdaa790(0x2be)][_0xdaa790(0x156)]();}catch(_0x5bef9a){console[_0xdaa790(0x242)](_0xdaa790(0x213),_0x5bef9a);}const _0xfadfe1={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0xfadfe1['totalProcesses']=await osu[_0xdaa790(0x1f0)][_0xdaa790(0x160)](),_0xfadfe1['zombieProcesses']=await osu[_0xdaa790(0x1f0)]['zombieProcesses']();}catch(_0x43ad10){console[_0xdaa790(0x242)](_0xdaa790(0x2cf),_0x43ad10);}let _0x5050d3={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x1636c7=await _0x2bf631[_0xdaa790(0x256)]();_0x5050d3[_0xdaa790(0x298)]=_0x1636c7[_0xdaa790(0x298)],_0x5050d3[_0xdaa790(0x1ff)]=_0x1636c7[_0xdaa790(0x1a3)]/0x400/0x400,_0x5050d3[_0xdaa790(0x1bc)]=_0x1636c7[_0xdaa790(0x163)]/0x400/0x400;}catch(_0x1845c6){console[_0xdaa790(0x242)]('Error\x20getting\x20memory\x20info',_0x1845c6);}let _0x277b5c=0x0;try{_0x277b5c=await conn['promise']()[_0xdaa790(0x145)](_0xdaa790(0x1df))['then'](([_0xac1932])=>_0xac1932[0x0][_0xdaa790(0x163)]);}catch(_0x58863e){console[_0xdaa790(0x242)](_0xdaa790(0x271),_0x58863e);}const _0x499726=getMonitoringData(),_0xb70a5b=_0x499726[_0xdaa790(0x1f8)](_0x3a4e7d=>_0x3a4e7d['conversionTimeSpend']!==null&&_0x3a4e7d[_0xdaa790(0x29f)]!==undefined),_0x40eb4b=_0x499726[_0xdaa790(0x1f8)](_0x57d309=>_0x57d309[_0xdaa790(0x2c9)]!==null&&_0x57d309[_0xdaa790(0x2c9)]!==undefined)[_0xdaa790(0x2bb)](_0x207310=>parseFloat(_0x207310[_0xdaa790(0x2c9)][_0xdaa790(0x162)]('Kb')[_0xdaa790(0x2b9)]())),_0x571213=_0xb70a5b[_0xdaa790(0x18f)]((_0x36b001,_0x5ac814)=>_0x36b001+parseFloat(_0x5ac814[_0xdaa790(0x29f)]),0x0)/_0xb70a5b['length'],_0x1926b=_0x40eb4b['reduce']((_0x524907,_0x32e1df)=>_0x524907+_0x32e1df,0x0)/_0x40eb4b[_0xdaa790(0x20d)];_0x4aaf8a[_0xdaa790(0x136)]({'requestsPerSecond':counter[_0xdaa790(0x1fa)](),'diskUsage':_0x3ac085,'cpus':_0xd77d9c,'system':_0x136bc8,'process':_0xfadfe1,'totalMonitoringData':_0x499726[_0xdaa790(0x20d)],'memory':_0x5050d3,'totalUsers':_0x277b5c,'avgConvertionTime':_0x571213,'avgMemoryUsage':_0x1926b});}),router[a26_0x16b471(0x1ea)]('/metrics/reset',(_0x3bf72e,_0x1da16a)=>{const _0x4d6def=a26_0x16b471;counter['reset'](),_0x1da16a[_0x4d6def(0x136)]({'message':_0x4d6def(0x151)});});const getMonitoringData=()=>{const _0x41d2bd=a26_0x16b471,_0x1010ca=_0x41d2bd(0x1e7);let _0x1b2aed=[];try{_0x1b2aed=JSON['parse'](fs[_0x41d2bd(0x236)](_0x1010ca));}catch(_0x52a3db){console[_0x41d2bd(0x242)](_0x41d2bd(0x262));}return _0x1b2aed;};router['get'](a26_0x16b471(0x1f6),async(_0x47e150,_0x250af0)=>{const _0x178fda=a26_0x16b471,{page:page=0x1,limit:limit=0xa}=_0x47e150[_0x178fda(0x145)],_0x5efdff=(page-0x1)*limit;try{const _0x5f241d=getMonitoringData(),_0x1f734d=_0x5f241d[_0x178fda(0x20d)],_0x41bdf1=Math['ceil'](_0x1f734d/limit),_0x40ea05=_0x5f241d[_0x178fda(0x23c)](_0x5efdff,_0x5efdff+limit);_0x250af0[_0x178fda(0x260)](0xc8)[_0x178fda(0x136)]({'data':_0x40ea05,'page':parseInt(''+page),'totalPages':_0x41bdf1,'total':_0x1f734d});}catch(_0x5eb272){console['log'](_0x5eb272),_0x250af0['status'](0x1f4)[_0x178fda(0x136)]({'error':_0x178fda(0x252)});}}),router['delete']('/conversion/clean',async(_0x132724,_0x197210)=>{const _0x196c3b=a26_0x16b471,_0x5892e3=_0x196c3b(0x1e7);try{fs[_0x196c3b(0x288)](_0x5892e3,JSON['stringify']([],null,0x4)),analyzeConverterFiles(),_0x197210[_0x196c3b(0x260)](0xc8)[_0x196c3b(0x136)]({'message':'Monitoring\x20file\x20cleaned.'});}catch(_0x23d28f){console['log'](_0x23d28f),_0x197210[_0x196c3b(0x260)](0x1f4)[_0x196c3b(0x136)]({'error':_0x196c3b(0x252)});}}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x281),async(_0x16a847,_0x509408)=>{const _0x275ca2=a26_0x16b471,_0x5c2139=getHotConfig()[_0x275ca2(0x1c9)][_0x275ca2(0x162)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x16a847[_0x275ca2(0x145)],_0x2455bb=(page-0x1)*limit;try{const _0x180e6e=_0x5c2139+_0x275ca2(0x169);console[_0x275ca2(0x242)](_0x180e6e);const _0x16b3d0=fs[_0x275ca2(0x236)](_0x180e6e,'utf8'),_0x3b4098=_0x16b3d0[_0x275ca2(0x2bc)]('\x0a'),_0x5249c6=[];_0x3b4098['forEach'](_0x1aa93b=>{const _0x1302ee=_0x275ca2,_0x51a926=_0x1aa93b[_0x1302ee(0x2bc)](',');if(_0x51a926[_0x1302ee(0x20d)]<0x4)return;const _0x2aff39=_0x51a926[0x0],_0x3472f9=_0x51a926[0x1],_0x46d1f4=parseFloat(_0x51a926[0x2]);_0x5249c6['push']({'file':_0x2aff39['replaceAll']('\x22',''),'action':_0x3472f9,'timeSpend':_0x46d1f4,'memoryUsage':_0x51a926[0x3]});});const _0x2aec34=_0x5249c6[_0x275ca2(0x20d)],_0x4c631f=Math[_0x275ca2(0x195)](_0x2aec34/limit),_0x55c49e=_0x5249c6[_0x275ca2(0x23c)](_0x2455bb,_0x2455bb+limit);_0x509408[_0x275ca2(0x260)](0xc8)[_0x275ca2(0x136)]({'data':_0x55c49e,'page':parseInt(''+page),'totalPages':_0x4c631f,'total':_0x2aec34});}catch(_0x53c9d7){console[_0x275ca2(0x242)](_0x53c9d7),_0x509408[_0x275ca2(0x260)](0x1f4)[_0x275ca2(0x136)]({'error':_0x275ca2(0x252)});}}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x2aa),async(_0x36687f,_0x3ab43f)=>{const _0x555864=a26_0x16b471,_0x4e745e=path[_0x555864(0x250)](path['dirname'](require[_0x555864(0x1c0)][_0x555864(0x172)]),'converters',_0x555864(0x24a));try{let _0x1abfdd=0x0,_0x32f87f=0x0;function _0xbd306f(_0x308bb2){const _0x5f1b9f=_0x555864;let _0x127814=0x0,_0x51234e=0x0;if(fs[_0x5f1b9f(0x22c)](_0x308bb2)){const _0x385fe3=fs['readdirSync'](_0x308bb2);_0x51234e=0x0;for(const _0x3d35b6 of _0x385fe3){const _0x196dec=path[_0x5f1b9f(0x250)](_0x308bb2,_0x3d35b6),_0x5dbe82=fs[_0x5f1b9f(0x2a7)](_0x196dec);if(_0x5dbe82[_0x5f1b9f(0x201)]()&&_0x3d35b6!=='.gitkeep')_0x51234e++,_0x127814+=_0x5dbe82[_0x5f1b9f(0x1dd)];else{if(_0x5dbe82[_0x5f1b9f(0x2bf)]()){}}}}return{'size':_0x127814,'count':_0x51234e};}const _0x1c8d66=_0xbd306f(_0x4e745e);_0x1abfdd=_0x1c8d66[_0x555864(0x1dd)],_0x32f87f=_0x1c8d66[_0x555864(0x248)],_0x3ab43f[_0x555864(0x136)]({'fileCount':_0x32f87f,'totalSize':_0x1abfdd});}catch(_0x5f067a){console[_0x555864(0x2b6)]('Error\x20getting\x20cache\x20stats:',_0x5f067a),_0x3ab43f[_0x555864(0x260)](0x1f4)[_0x555864(0x136)]({'error':_0x555864(0x1ca)});}}),router[a26_0x16b471(0x20c)](a26_0x16b471(0x2a0),async(_0x4d98cf,_0x2fc7a3)=>{const _0x104ef4=a26_0x16b471,_0x5afdb8=path[_0x104ef4(0x250)](path['dirname'](require[_0x104ef4(0x1c0)][_0x104ef4(0x172)]),_0x104ef4(0x140),_0x104ef4(0x24a));try{function _0x5d3d71(_0x358cef){const _0x5c106d=_0x104ef4;if(fs[_0x5c106d(0x22c)](_0x358cef)){const _0x244a44=fs[_0x5c106d(0x249)](_0x358cef);for(const _0x3d45f6 of _0x244a44){const _0x3fa8ee=path['join'](_0x358cef,_0x3d45f6),_0x4e795d=fs[_0x5c106d(0x2a7)](_0x3fa8ee);if(_0x4e795d[_0x5c106d(0x2bf)]()){}else _0x3d45f6!==_0x5c106d(0x1bd)&&fs[_0x5c106d(0x19e)](_0x3fa8ee);}}}_0x5d3d71(_0x5afdb8),analyzeConverterFiles(),_0x2fc7a3[_0x104ef4(0x136)]({'message':_0x104ef4(0x1e6)});}catch(_0x483d22){console['error'](_0x104ef4(0x2cd),_0x483d22),_0x2fc7a3[_0x104ef4(0x260)](0x1f4)[_0x104ef4(0x136)]({'error':_0x104ef4(0x208)});}}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x2a4),async(_0x2d0175,_0x399e7f)=>{const _0x241d18=a26_0x16b471;_0x399e7f[_0x241d18(0x152)](path['join'](path[_0x241d18(0x1d1)](require[_0x241d18(0x1c0)][_0x241d18(0x172)]),_0x241d18(0x2b3)));}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x2b0),protectedRoute,async(_0x1b1264,_0x3bdba6)=>{const _0x12a440=a26_0x16b471,_0x4d7449=fs[_0x12a440(0x236)](path[_0x12a440(0x250)](path[_0x12a440(0x1d1)](require['main'][_0x12a440(0x172)]),_0x12a440(0x1ec)),_0x12a440(0x1ac)),_0x18f8db=_0x4d7449[_0x12a440(0x162)](_0x12a440(0x198),_0x1b1264['version']);_0x3bdba6[_0x12a440(0x161)](_0x18f8db);}),router[a26_0x16b471(0x27d)](a26_0x16b471(0x1f5),async(_0x353e8a,_0x56d067)=>{const _0x179a6c=a26_0x16b471,{page:page=0x1,limit:limit=0x10}=_0x353e8a[_0x179a6c(0x145)],_0x218831=JSON['parse'](fs['readFileSync'](path[_0x179a6c(0x250)](path[_0x179a6c(0x1d1)](require[_0x179a6c(0x1c0)][_0x179a6c(0x172)]),'cadviewer/settings/converter-files-analysis.json'))),_0x3e8e1b=(page-0x1)*limit,_0x28669c=page*limit,_0x6369ed=_0x218831['files'][_0x179a6c(0x20d)],_0x527617=Math['ceil'](_0x6369ed/limit),_0x1b2554=_0x218831['files'][_0x179a6c(0x23c)](_0x3e8e1b,_0x28669c);_0x56d067[_0x179a6c(0x136)]({'files':_0x1b2554,'pagination':{'total':_0x6369ed,'totalPages':_0x527617,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x16b471(0x27d)]('/cache/csv/:file',async(_0x58d0df,_0x3aff66)=>{const _0x336073=a26_0x16b471,{file:_0x6d72b6}=_0x58d0df[_0x336073(0x222)],_0x4c40e1=path['join'](path[_0x336073(0x1d1)](require[_0x336073(0x1c0)]['filename']),'converters',_0x336073(0x24a)),_0x2685e6=path[_0x336073(0x250)](_0x4c40e1,_0x6d72b6),_0x158dcb=fs[_0x336073(0x236)](_0x2685e6,_0x336073(0x1ac)),_0x316b2b=_0x158dcb[_0x336073(0x2bc)]('\x0a'),_0x28828=_0x316b2b[_0x336073(0x2bb)](_0x3088dc=>{const _0x3ebb78=_0x336073,_0x4fe510=_0x3088dc[_0x3ebb78(0x2bc)](',');return _0x4fe510['map'](_0x34e2c5=>_0x34e2c5['replaceAll']('\x22',''));});_0x3aff66[_0x336073(0x136)](_0x28828);}),router[a26_0x16b471(0x27d)]('/cache/files/:id',async(_0x3eadf7,_0x54e87e)=>{const _0x42d161=a26_0x16b471,{id:_0x232d49}=_0x3eadf7[_0x42d161(0x222)],_0x419e72=path['join'](path[_0x42d161(0x1d1)](require[_0x42d161(0x1c0)]['filename']),_0x42d161(0x140),'files'),_0x37ee94=path[_0x42d161(0x250)](_0x419e72,_0x232d49);if(_0x37ee94['endsWith'](_0x42d161(0x186))){var _0x51feb5=require(_0x42d161(0x2a5));const _0x28caf6=fs[_0x42d161(0x236)](_0x37ee94),_0x38baa6=_0x51feb5[_0x42d161(0x240)](_0x28caf6);_0x54e87e['setHeader'](_0x42d161(0x1f9),'image/svg+xml'),_0x54e87e[_0x42d161(0x161)](_0x38baa6);}else _0x54e87e[_0x42d161(0x152)](_0x37ee94);}),router['delete']('/cache/files/:id',async(_0x516dfd,_0x42fd11)=>{const _0x480fbb=a26_0x16b471,{id:_0xf08327}=_0x516dfd['params'],_0x4e5999=path['join'](path['dirname'](require[_0x480fbb(0x1c0)][_0x480fbb(0x172)]),'converters',_0x480fbb(0x24a)),_0x84369f=JSON[_0x480fbb(0x174)](fs[_0x480fbb(0x236)](path['join'](path[_0x480fbb(0x1d1)](require[_0x480fbb(0x1c0)][_0x480fbb(0x172)]),_0x480fbb(0x1a7)))),_0x7ca341=_0x84369f[_0x480fbb(0x24a)][_0x480fbb(0x2c4)](_0x582142=>_0x582142[_0x480fbb(0x24d)]===_0xf08327);if(_0x7ca341){try{fs[_0x480fbb(0x22c)](path[_0x480fbb(0x250)](_0x4e5999,_0x7ca341['name']))&&fs[_0x480fbb(0x19e)](path['join'](_0x4e5999,_0x7ca341['name']));}catch(_0x394276){console['log'](_0x480fbb(0x2c5),{'e':_0x394276});}(_0x7ca341['availableFormats']??[])[_0x480fbb(0x183)](_0x231e0c=>{const _0x5a8259=_0x480fbb;try{fs[_0x5a8259(0x22c)](path['join'](_0x4e5999,_0x231e0c['id']))&&fs[_0x5a8259(0x19e)](path[_0x5a8259(0x250)](_0x4e5999,_0x231e0c['id']));}catch(_0xdcd602){console['log'](_0x5a8259(0x2c5),{'e':_0xdcd602});}});}analyzeConverterFiles(),_0x42fd11['json']({'message':_0x480fbb(0x16c)});});const deleteOldDemoUsers=async()=>{const _0x9c7269=a26_0x16b471;console['log'](_0x9c7269(0x1fd));const _0x343cf0=config[_0x9c7269(0x199)],_0x395554='SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)';try{const [_0x312a99]=await conn[_0x9c7269(0x220)]()[_0x9c7269(0x2a8)](_0x395554,[_0x343cf0]),_0x3edff7=_0x312a99[_0x9c7269(0x2bb)](_0x5aaccb=>_0x5aaccb['folder_name']),_0x2535fb=_0x312a99[_0x9c7269(0x2bb)](_0x59e8a2=>_0x59e8a2[_0x9c7269(0x148)]);console['log'](_0x2535fb),await conn[_0x9c7269(0x220)]()[_0x9c7269(0x2a8)](_0x9c7269(0x173),[_0x343cf0]),_0x3edff7['forEach'](_0x2d5261=>{const _0x2282cd=_0x9c7269;try{const _0xd2430d=_0x2282cd(0x1b9)+_0x2d5261;fs[_0x2282cd(0x28e)](_0xd2430d);}catch(_0x2e18cf){console[_0x2282cd(0x2b6)](_0x2282cd(0x2a3),_0x2e18cf);}}),console['log'](_0x9c7269(0x15c)+_0x312a99[_0x9c7269(0x20d)]+')\x20older\x20than\x20'+_0x343cf0+_0x9c7269(0x2a2));}catch(_0x3cf953){console[_0x9c7269(0x2b6)](_0x9c7269(0x171),_0x3cf953);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x598781=a26_0x16b471,_0x368898=require('../libs/mail')[_0x598781(0x261)];try{const [_0x267039]=await conn[_0x598781(0x220)]()['execute'](_0x598781(0x293),[config['demoUserRetentionDays']-config[_0x598781(0x17e)]]);if(_0x267039[_0x598781(0x20d)]===0x0){console[_0x598781(0x242)](_0x598781(0x274));return;}for(const _0x101307 of _0x267039){let _0xf220ca=_0x598781(0x289)+(_0x101307[_0x598781(0x29a)]||_0x101307['username'])+_0x598781(0x138);const _0x5d92a3={'from':config[_0x598781(0x21f)],'to':_0x101307['email'],'subject':'Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','text':'Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','html':_0xf220ca};try{await _0x368898[_0x598781(0x2b8)](_0x5d92a3),console[_0x598781(0x242)](_0x598781(0x1a8)+_0x101307[_0x598781(0x148)]);}catch(_0x2ba1cf){console[_0x598781(0x242)]('===================error==================='),console[_0x598781(0x242)](_0x598781(0x241)+_0x101307[_0x598781(0x148)]),console[_0x598781(0x242)](_0x2ba1cf);}}}catch(_0x5c231e){console[_0x598781(0x242)]('===================error==================='),console['log'](_0x598781(0x26b)),console[_0x598781(0x242)](_0x5c231e);}};function a26_0x47d2(_0x55508f,_0x56383e){const _0x59d473=a26_0x59d4();return a26_0x47d2=function(_0x47d20d,_0x4d30a2){_0x47d20d=_0x47d20d-0x136;let _0x53b7ed=_0x59d473[_0x47d20d];return _0x53b7ed;},a26_0x47d2(_0x55508f,_0x56383e);}schedule[a26_0x16b471(0x2a9)](a26_0x16b471(0x154),deleteOldDemoUsers),schedule[a26_0x16b471(0x2a9)](a26_0x16b471(0x2c1),sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x3b7283=a26_0x16b471;console[_0x3b7283(0x242)](_0x3b7283(0x2c3));try{const _0x5d616c=path[_0x3b7283(0x250)](path[_0x3b7283(0x1d1)](require[_0x3b7283(0x1c0)]['filename']),_0x3b7283(0x140),'files'),_0x245f93=path['join'](path[_0x3b7283(0x1d1)](require[_0x3b7283(0x1c0)]['filename']),_0x3b7283(0x13c),_0x3b7283(0x15a));if(!fs[_0x3b7283(0x22c)](_0x5d616c)){logStream[_0x3b7283(0x1c8)](_0x3b7283(0x1e2)+_0x5d616c+_0x3b7283(0x1a5));return;}if(!fs[_0x3b7283(0x22c)](_0x245f93)){logStream['write'](_0x3b7283(0x1e2)+_0x245f93+_0x3b7283(0x1a5));return;}const _0x305143=fs[_0x3b7283(0x249)](_0x5d616c),_0x453c7e={};_0x305143[_0x3b7283(0x183)](_0xf4109=>{const _0x3bd0af=_0x3b7283,_0x1e73ee=path[_0x3bd0af(0x250)](_0x5d616c,_0xf4109),_0x1b7cd5=fs[_0x3bd0af(0x2a7)](_0x1e73ee);!Object[_0x3bd0af(0x24b)](_0x453c7e)[_0x3bd0af(0x1a0)](_0xf4109[_0x3bd0af(0x2bc)]('.')[0x0])?_0x453c7e[_0xf4109[_0x3bd0af(0x2bc)]('.')[0x0]]=[{'file':_0xf4109,'stats':_0x1b7cd5}]:_0x453c7e[_0xf4109['split']('.')[0x0]][_0x3bd0af(0x1c7)]({'file':_0xf4109,'stats':_0x1b7cd5});});const _0x1efc35=[];_0x305143[_0x3b7283(0x183)](_0x2ccd0e=>{const _0x54816c=_0x3b7283;if(!_0x2ccd0e[_0x54816c(0x206)]('.dwg.json'))return;let _0x2083d7=_0x2ccd0e;const _0x4fdddc=path[_0x54816c(0x250)](_0x5d616c,_0x2ccd0e),_0x471070=fs['statSync'](_0x4fdddc);let _0x20550e=_0x471070['size'],_0x4b0771='';const _0x52053e=fs['readFileSync'](_0x4fdddc,_0x54816c(0x1ac)),_0x2ace56=JSON['parse'](_0x52053e),_0x5af865=_0x2ace56[_0x54816c(0x17c)]?.['map'](_0x3e9f94=>_0x3e9f94[_0x54816c(0x291)])??[];if(_0x2ace56[_0x54816c(0x172)])_0x2083d7=_0x2ace56[_0x54816c(0x172)];const _0x520c30=Object[_0x54816c(0x24b)](_0x453c7e)['includes'](_0x2ccd0e[_0x54816c(0x2bc)]('.')[0x0])?_0x453c7e[_0x2ccd0e['split']('.')[0x0]]:[];for(const _0xc35ee7 of _0x5af865){Object[_0x54816c(0x24b)](_0x453c7e)[_0x54816c(0x1a0)](_0xc35ee7)&&_0x520c30[_0x54816c(0x1c7)](..._0x453c7e[_0xc35ee7]);}const _0x2a7669=_0x520c30[_0x54816c(0x2bb)](({file:_0x4b8fff,stats:_0xaef76})=>{const _0x50f62f=_0x54816c;return!_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x18c))&&(_0x20550e+=_0xaef76['size']),{'id':_0x4b8fff,'name':_0x4b8fff[_0x50f62f(0x206)]('.svg')?_0x50f62f(0x1f7):_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x186))?_0x50f62f(0x2ae):_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x2c7))?_0x50f62f(0x1e9):_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x257))?_0x50f62f(0x286):_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x2af))?_0x50f62f(0x22f):_0x4b8fff[_0x50f62f(0x206)]('.dwg')?_0x50f62f(0x239):_0x4b8fff[_0x50f62f(0x2bc)]('.')[_0x50f62f(0x285)]()[_0x50f62f(0x144)](),'color':_0x4b8fff['endsWith'](_0x50f62f(0x150))||_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x186))?'yellow':_0x4b8fff['endsWith'](_0x50f62f(0x2c7))?_0x50f62f(0x24e):_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x257))?_0x50f62f(0x2c6):_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x2af))?_0x50f62f(0x28d):_0x4b8fff[_0x50f62f(0x206)](_0x50f62f(0x283))?_0x50f62f(0x25d):_0x50f62f(0x270)};});if(_0x2a7669['some'](_0x407aa9=>_0x407aa9['id'][_0x54816c(0x1a0)](_0x54816c(0x202))))_0x4b0771=_0x54816c(0x1d2);else{if(_0x2a7669[_0x54816c(0x1ed)](_0x41144c=>[_0x54816c(0x207),_0x54816c(0x1ab)]['includes'](_0x41144c['id'][_0x54816c(0x2bc)]('.')[_0x54816c(0x285)]()))&&_0x2a7669[_0x54816c(0x1ed)](_0x2f79d4=>[_0x54816c(0x247)][_0x54816c(0x1a0)](_0x2f79d4['id'][_0x54816c(0x2bc)]('.')['pop']())))_0x4b0771=_0x54816c(0x26e);else{if(_0x2a7669[_0x54816c(0x1ed)](_0x1e7b28=>[_0x54816c(0x207),_0x54816c(0x1ab)][_0x54816c(0x1a0)](_0x1e7b28['id']['split']('.')[_0x54816c(0x285)]())))_0x4b0771=_0x54816c(0x246);else{if(_0x2a7669[_0x54816c(0x1ed)](_0x2d933a=>['json'][_0x54816c(0x1a0)](_0x2d933a['id'][_0x54816c(0x2bc)]('.')[_0x54816c(0x285)]()))&&_0x2a7669[_0x54816c(0x1ed)](_0x26c546=>[_0x54816c(0x1af)]['includes'](_0x26c546['id'][_0x54816c(0x2bc)]('.')[_0x54816c(0x285)]())))_0x4b0771=_0x54816c(0x1cb);else{if(_0x2a7669[_0x54816c(0x1ed)](_0x66ca65=>[_0x54816c(0x1fb)][_0x54816c(0x1a0)](_0x66ca65['id'][_0x54816c(0x2bc)]('.')[_0x54816c(0x285)]())))_0x4b0771=_0x54816c(0x19d);else{if(_0x2a7669[_0x54816c(0x1ed)](_0x351bae=>['json'][_0x54816c(0x1a0)](_0x351bae['id'][_0x54816c(0x2bc)]('.')[_0x54816c(0x285)]()))&&!_0x2a7669[_0x54816c(0x1ed)](_0x39fd6d=>[_0x54816c(0x1af)]['includes'](_0x39fd6d['id'][_0x54816c(0x2bc)]('.')[_0x54816c(0x285)]())))_0x4b0771=_0x54816c(0x164);else _0x2a7669[_0x54816c(0x1ed)](_0xd95485=>['json'][_0x54816c(0x1a0)](_0xd95485['id']['split']('.')[_0x54816c(0x285)]()))&&(_0x4b0771=_0x54816c(0x19a));}}}}}_0x1efc35[_0x54816c(0x1c7)]({'name':_0x2ccd0e,'goodFileName':_0x2083d7,'size':_0x20550e,'createdAt':_0x471070[_0x54816c(0x23f)],'updatedAt':_0x471070[_0x54816c(0x16d)],'readAt':_0x471070['atime'],'action':_0x4b0771,'availableFormats':_0x2a7669});}),_0x1efc35['sort']((_0x2f9fdf,_0x331979)=>_0x331979['updatedAt']-_0x2f9fdf[_0x3b7283(0x196)]);const _0x240efe={'timestamp':new Date(),'totalFiles':_0x1efc35['length'],'files':_0x1efc35},_0x18086e=path[_0x3b7283(0x250)](_0x245f93,_0x3b7283(0x267));fs[_0x3b7283(0x288)](_0x18086e,JSON[_0x3b7283(0x16e)](_0x240efe,null,0x2)),console[_0x3b7283(0x242)](_0x3b7283(0x1de)+_0x18086e);}catch(_0x4d9e5d){console['log'](_0x3b7283(0x238)),console[_0x3b7283(0x242)](_0x3b7283(0x211)+_0x4d9e5d[_0x3b7283(0x1ae)]);}},scheduleFileAnalysis=()=>{const _0x5a0b85=a26_0x16b471;analyzeConverterFiles(),schedule['scheduleJob'](_0x5a0b85(0x29c),analyzeConverterFiles),logStream[_0x5a0b85(0x1c8)](_0x5a0b85(0x26d));};scheduleFileAnalysis(),module[a26_0x16b471(0x297)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};