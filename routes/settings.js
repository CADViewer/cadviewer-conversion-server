const a26_0xf203b8=a26_0xb7e2;(function(_0x4768f1,_0x53163b){const _0x8c20a4=a26_0xb7e2,_0x508bd5=_0x4768f1();while(!![]){try{const _0x54319b=parseInt(_0x8c20a4(0x1ab))/0x1*(-parseInt(_0x8c20a4(0x1dd))/0x2)+parseInt(_0x8c20a4(0x20e))/0x3*(parseInt(_0x8c20a4(0x1cd))/0x4)+-parseInt(_0x8c20a4(0x1ae))/0x5+parseInt(_0x8c20a4(0xa2))/0x6+-parseInt(_0x8c20a4(0x1e1))/0x7*(parseInt(_0x8c20a4(0x19f))/0x8)+parseInt(_0x8c20a4(0x16b))/0x9*(-parseInt(_0x8c20a4(0x116))/0xa)+parseInt(_0x8c20a4(0x1ad))/0xb;if(_0x54319b===_0x53163b)break;else _0x508bd5['push'](_0x508bd5['shift']());}catch(_0x2b76cf){_0x508bd5['push'](_0x508bd5['shift']());}}}(a26_0x3b8a,0xf1ddd));const express=require(a26_0xf203b8(0x9f)),router=express[a26_0xf203b8(0x1ce)](),multer=require('multer'),fs=require('fs'),path=require(a26_0xf203b8(0x92)),getHotConfig=require(a26_0xf203b8(0x121))[a26_0xf203b8(0x1cf)],{exec}=require(a26_0xf203b8(0xde)),os=require('os'),conn=require(a26_0xf203b8(0x184)),bcrypt=require(a26_0xf203b8(0x13a)),osu=require('node-os-utils'),schedule=require(a26_0xf203b8(0x131)),counter=require(a26_0xf203b8(0x1ee)),{randomUUID}=require(a26_0xf203b8(0x194)),logStream=require(a26_0xf203b8(0xd8)),config=require('../CADViewer_config.json'),basicAuth=require(a26_0xf203b8(0xd5)),protectedRoute=basicAuth({'users':{[config['settingsUserBasicAuth']]:config[a26_0xf203b8(0xb2)]},'challenge':!![],'realm':a26_0xf203b8(0x1f9)});router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x181),async(_0x53e4b3,_0x211337)=>{const _0x69197a=a26_0xf203b8;_0x211337[_0x69197a(0x119)](path['join'](path['dirname'](require['main'][_0x69197a(0x10a)]),_0x69197a(0x10d)));}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x214),async(_0x5d7b3a,_0x2e76f6)=>{const _0x2a5225=a26_0xf203b8;_0x2e76f6['sendFile'](path[_0x2a5225(0x1da)](path['dirname'](require[_0x2a5225(0x180)]['filename']),_0x2a5225(0x205)));}),router[a26_0xf203b8(0x1a9)]('/style.css',async(_0x2a9165,_0x58690b)=>{const _0x474645=a26_0xf203b8;_0x58690b[_0x474645(0x119)](path['join'](path[_0x474645(0x1a8)](require[_0x474645(0x180)][_0x474645(0x10a)]),_0x474645(0xd0)));}),router['get']('/vanilla-toast.css',async(_0x3aad86,_0x148870)=>{const _0x59c195=a26_0xf203b8;_0x148870[_0x59c195(0x119)](path[_0x59c195(0x1da)](path[_0x59c195(0x1a8)](require[_0x59c195(0x180)][_0x59c195(0x10a)]),_0x59c195(0x111)));}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x1e5),async(_0x402872,_0x297795)=>{const _0x4aeabe=a26_0xf203b8;_0x297795[_0x4aeabe(0x119)](path[_0x4aeabe(0x1da)](path['dirname'](require[_0x4aeabe(0x180)]['filename']),_0x4aeabe(0x17b)));}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x1f1),async(_0x532c13,_0x27b87e)=>{const _0x2ef1ae=a26_0xf203b8;_0x27b87e['sendFile'](path['join'](path[_0x2ef1ae(0x1a8)](require[_0x2ef1ae(0x180)][_0x2ef1ae(0x10a)]),_0x2ef1ae(0xea)));}),router[a26_0xf203b8(0x1a9)]('/',protectedRoute,async(_0x3134c6,_0x4df137)=>{const _0x2545ea=a26_0xf203b8,_0x13bd72=fs[_0x2545ea(0x13e)](path[_0x2545ea(0x1da)](path[_0x2545ea(0x1a8)](require['main'][_0x2545ea(0x10a)]),'cadviewer/settings/home.html'),_0x2545ea(0x201)),_0x432539=_0x13bd72[_0x2545ea(0x86)](_0x2545ea(0x8a),_0x3134c6[_0x2545ea(0x90)]);_0x4df137[_0x2545ea(0xac)](_0x432539);}),router['get'](a26_0xf203b8(0x210),protectedRoute,async(_0x577671,_0x2648ec)=>{const _0x5c6112=a26_0xf203b8,_0x51fbf7=fs[_0x5c6112(0x13e)](path[_0x5c6112(0x1da)](path[_0x5c6112(0x1a8)](require[_0x5c6112(0x180)][_0x5c6112(0x10a)]),'cadviewer/settings/licences.html'),'utf8'),_0xeca627=_0x51fbf7[_0x5c6112(0x86)](_0x5c6112(0x8a),_0x577671['version']);_0x2648ec['send'](_0xeca627);}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x8e),protectedRoute,async(_0x2bcf70,_0x25bb32)=>{const _0x53da96=a26_0xf203b8,_0x28e41f=fs[_0x53da96(0x13e)](path['join'](path[_0x53da96(0x1a8)](require['main']['filename']),_0x53da96(0x132)),_0x53da96(0x201)),_0x273d9b=_0x28e41f[_0x53da96(0x86)](_0x53da96(0x8a),_0x2bcf70[_0x53da96(0x90)]);_0x25bb32[_0x53da96(0xac)](_0x273d9b);}),router[a26_0xf203b8(0x1a9)]('/folders',protectedRoute,async(_0x85b210,_0x3c395d)=>{const _0x326374=a26_0xf203b8,_0x29ea04=fs[_0x326374(0x13e)](path[_0x326374(0x1da)](path[_0x326374(0x1a8)](require[_0x326374(0x180)]['filename']),_0x326374(0x15f)),_0x326374(0x201)),_0x11727b=_0x29ea04[_0x326374(0x86)](_0x326374(0x8a),_0x85b210[_0x326374(0x90)]);_0x3c395d['send'](_0x11727b);}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0x155),async(_0x780285,_0x25c772)=>{const _0x19c69a=a26_0xf203b8,_0x2c871a=path[_0x19c69a(0x1da)](path[_0x19c69a(0x1a8)](require[_0x19c69a(0x180)]['filename']),_0x19c69a(0x1fc)),_0x2f5663=JSON['parse'](fs[_0x19c69a(0x13e)](_0x2c871a,_0x19c69a(0x201))),_0xba974f=_0x2f5663[_0x19c69a(0x12c)];if(!fs[_0x19c69a(0x156)](_0xba974f))return _0x25c772[_0x19c69a(0x7d)](0x194)[_0x19c69a(0x1d2)]({'message':_0x19c69a(0xad)});const _0x431ee2=_0x50fca8=>{const _0x372975=_0x19c69a;let _0x442ee6=0x0;return _0x50fca8[_0x372975(0x1e0)](_0x4443ab=>{const _0xe099d5=_0x372975;_0x4443ab[_0xe099d5(0x1e4)]?_0x442ee6+=_0x431ee2(_0x4443ab['sub_dirs']):_0x442ee6+=_0x4443ab[_0xe099d5(0x97)];}),_0x442ee6;},_0x145268=_0x40bddc=>{const _0x349e2c=_0x19c69a;if(_0x40bddc<0x400)return _0x40bddc+'\x20B';else{if(_0x40bddc<0x400*0x400)return(_0x40bddc/0x400)[_0x349e2c(0xcd)](0x2)+_0x349e2c(0x213);else return _0x40bddc<0x400*0x400*0x400?(_0x40bddc/0x400/0x400)[_0x349e2c(0xcd)](0x2)+'\x20MB':(_0x40bddc/0x400/0x400/0x400)[_0x349e2c(0xcd)](0x2)+_0x349e2c(0x117);}},_0x3c5a58=(_0x1cd083,_0x440520='')=>{const _0x1ca5d0=_0x19c69a,_0x106a6b=fs[_0x1ca5d0(0xb4)](_0x1cd083),_0x371dd7=[];return _0x106a6b['forEach'](_0x477b7e=>{const _0x3d6e4f=_0x1ca5d0,_0x38c74c=path[_0x3d6e4f(0x1da)](_0x1cd083,_0x477b7e)[_0x3d6e4f(0x86)]('\x5c','/'),_0x307ac9=fs[_0x3d6e4f(0x112)](_0x38c74c);if(_0x307ac9[_0x3d6e4f(0x1c6)]()){const _0x115ba3=_0x3c5a58(_0x38c74c,_0x440520+_0x3d6e4f(0x15d));_0x371dd7[_0x3d6e4f(0x170)]({'name':_0x477b7e,'size':_0x307ac9[_0x3d6e4f(0x97)],'path':_0x38c74c,'permissions':_0x307ac9[_0x3d6e4f(0x14a)],'isFolder':!![],'sub_dirs':_0x115ba3});}else _0x371dd7[_0x3d6e4f(0x170)]({'name':_0x477b7e,'size':_0x307ac9['size'],'path':_0x38c74c,'permissions':_0x307ac9[_0x3d6e4f(0x14a)],'isFolder':![]});}),_0x371dd7;};let _0x30ecaa=_0x3c5a58(_0xba974f);const _0x2132d8=_0x28d2ce=>{const _0x16b108=_0x19c69a;return _0x28d2ce[_0x16b108(0x1e0)](_0x4870f5=>{const _0x588337=_0x16b108;_0x4870f5['isFolder']?(_0x4870f5[_0x588337(0x1ea)]=_0x145268(_0x431ee2(_0x4870f5[_0x588337(0x16e)])),_0x4870f5['sub_dirs']=_0x2132d8(_0x4870f5['sub_dirs'])):_0x4870f5[_0x588337(0x1ea)]=_0x145268(_0x4870f5[_0x588337(0x97)]);}),_0x28d2ce;};_0x25c772[_0x19c69a(0x7d)](0xc8)[_0x19c69a(0x1d2)](_0x2132d8(_0x30ecaa));}),router['post'](a26_0xf203b8(0xfe),async(_0x4dfdca,_0x473590)=>{const _0x315985=a26_0xf203b8,{path:_0x3a6ad1}=_0x4dfdca[_0x315985(0x20d)],_0x4b581a=_0x3a6ad1[_0x315985(0x104)]('/')[_0x315985(0xd9)]();if(!fs[_0x315985(0x156)](_0x3a6ad1))return _0x473590[_0x315985(0x7d)](0x194)[_0x315985(0x1d2)]({'message':_0x315985(0xbc)});_0x473590['setHeader']('Content-Type',_0x315985(0x150)),_0x473590[_0x315985(0x103)](_0x315985(0xb7),_0x315985(0x9d)+_0x4b581a+'\x22'),_0x473590[_0x315985(0xc7)](_0x3a6ad1,_0x2cf3f1=>{const _0x4fc022=_0x315985;_0x2cf3f1&&_0x473590['status'](0x1f4)[_0x4fc022(0x1d2)]({'message':_0x4fc022(0x1f5)});});}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0xa7),async(_0x44784d,_0x264f77)=>{const _0xfaf7cc=a26_0xf203b8,_0x4066b7=_0x44784d['body'],_0x17ad8b=getHotConfig()[_0xfaf7cc(0x12c)],_0x1f59e1=path[_0xfaf7cc(0x1da)](_0x17ad8b,_0x4066b7[_0xfaf7cc(0x92)]);if(!fs['existsSync'](_0x1f59e1))return _0x264f77[_0xfaf7cc(0x7d)](0x194)[_0xfaf7cc(0x1d2)]({'message':_0xfaf7cc(0x110)});if(fs[_0xfaf7cc(0x156)](path['join'](_0x1f59e1,_0x4066b7[_0xfaf7cc(0x1c9)])))return _0x264f77[_0xfaf7cc(0x7d)](0x199)['json']({'message':_0xfaf7cc(0xe3)});fs['mkdir'](path[_0xfaf7cc(0x1da)](_0x1f59e1,_0x4066b7['folderName']),_0x55ee1a=>{const _0x360041=_0xfaf7cc;_0x55ee1a&&_0x264f77[_0x360041(0x7d)](0x1f4)[_0x360041(0x1d2)]({'message':_0x360041(0x197)}),_0x264f77['status'](0xc8)[_0x360041(0x1d2)]({'message':'Folder\x20created.'});});}),router['put'](a26_0xf203b8(0x18b),async(_0x3fc3a0,_0x413412)=>{const _0x27f437=a26_0xf203b8,{newName:_0x8a4a67,isFolder:_0x5d06f1,path:_0x105a70}=_0x3fc3a0[_0x27f437(0x20d)];if(!fs[_0x27f437(0x156)](_0x105a70))return _0x413412[_0x27f437(0x7d)](0x194)['json']({'message':_0x5d06f1?_0x27f437(0x102):_0x27f437(0xbc)});const _0x23f490=_0x105a70[_0x27f437(0x98)](_0x105a70[_0x27f437(0x104)]('/')[_0x27f437(0xd9)](),_0x8a4a67);fs[_0x27f437(0xbe)](_0x105a70,_0x23f490),fs[_0x27f437(0x84)](_0x105a70),_0x413412[_0x27f437(0x7d)](0xc8)[_0x27f437(0x1d2)]({'message':_0x5d06f1?_0x27f437(0xba):_0x27f437(0x1bd)});}),router[a26_0xf203b8(0xa6)](a26_0xf203b8(0x1f8),async(_0x2fb533,_0x33c319)=>{const _0x590cf8=a26_0xf203b8,{path:_0xf48157}=_0x2fb533[_0x590cf8(0x20d)];if(!fs[_0x590cf8(0x156)](_0xf48157))return _0x33c319[_0x590cf8(0x7d)](0x194)[_0x590cf8(0x1d2)]({'message':_0x590cf8(0x107)});const _0x30da75=fs['statSync'](_0xf48157);if(_0x30da75[_0x590cf8(0x83)]())fs['unlink'](_0xf48157,_0x486853=>{const _0x3c1a26=_0x590cf8;_0x486853&&_0x33c319['status'](0x1f4)[_0x3c1a26(0x1d2)]({'message':_0x3c1a26(0x145)}),_0x33c319[_0x3c1a26(0x7d)](0xc8)[_0x3c1a26(0x1d2)]({'message':_0x3c1a26(0x154)});});else _0x30da75[_0x590cf8(0x1c6)]()&&fs[_0x590cf8(0x1c0)](_0xf48157,{'recursive':!![]},_0x4c8a00=>{const _0x29fc0c=_0x590cf8;_0x4c8a00&&_0x33c319['status'](0x1f4)[_0x29fc0c(0x1d2)]({'message':'Error\x20deleting\x20folder.'}),_0x33c319[_0x29fc0c(0x7d)](0xc8)['json']({'message':_0x29fc0c(0xfb)});});});!fs[a26_0xf203b8(0x156)]('./tmp')&&fs[a26_0xf203b8(0x125)](a26_0xf203b8(0x7e));const storage=multer['diskStorage']({'destination':(_0x369de2,_0x29b1fe,_0x3bfb3d)=>{const _0x53152c=a26_0xf203b8;_0x3bfb3d(null,_0x53152c(0x171));},'filename':(_0x365e99,_0x171c01,_0x4a72ad)=>{const _0x18b14e=a26_0xf203b8;_0x4a72ad(null,Date[_0x18b14e(0x13b)]()+path['extname'](_0x171c01['originalname']));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0xf203b8(0x162)](a26_0xf203b8(0x20b),upload[a26_0xf203b8(0x78)](a26_0xf203b8(0xc8)),async(_0x3a2579,_0x5321ec)=>{const _0x3a8164=a26_0xf203b8,_0x106ed7=_0x3a2579['body'];if(!_0x3a2579[_0x3a8164(0xc8)]||_0x3a2579[_0x3a8164(0xc8)]['length']===0x0)return _0x5321ec[_0x3a8164(0x7d)](0x190)[_0x3a8164(0x1d2)]({'message':_0x3a8164(0x207)});const _0x3723cc=getHotConfig()[_0x3a8164(0x12c)],_0x256f5b=path[_0x3a8164(0x1da)](_0x3723cc,_0x106ed7[_0x3a8164(0x92)]);if(!fs[_0x3a8164(0x156)](_0x256f5b))return _0x5321ec['status'](0x194)[_0x3a8164(0x1d2)]({'message':_0x3a8164(0x110)});const _0x4c98a3=_0x3a2579[_0x3a8164(0xc8)][_0x3a8164(0xec)](_0xacdfa9=>({'originalname':_0xacdfa9[_0x3a8164(0x1fa)],'filename':_0xacdfa9[_0x3a8164(0x10a)],'mimetype':_0xacdfa9[_0x3a8164(0x1a6)],'size':_0xacdfa9[_0x3a8164(0x97)]}));_0x4c98a3[_0x3a8164(0x1e0)](_0x17cf7a=>{const _0xea2f58=_0x3a8164;fs[_0xea2f58(0xbe)](path[_0xea2f58(0x1da)](_0xea2f58(0x171),_0x17cf7a[_0xea2f58(0x10a)]),path['join'](_0x256f5b,_0x17cf7a[_0xea2f58(0x1fa)])),fs[_0xea2f58(0x84)](path[_0xea2f58(0x1da)]('tmp',_0x17cf7a[_0xea2f58(0x10a)]));}),_0x5321ec[_0x3a8164(0x7d)](0xc8)[_0x3a8164(0x1d2)]({'message':_0x3a8164(0x1bc),'files':_0x4c98a3});}),router[a26_0xf203b8(0x14b)](a26_0xf203b8(0x15b),async(_0x3ec770,_0x20d473)=>{const _0x142092=a26_0xf203b8,_0x4f685b=path[_0x142092(0x1da)](path[_0x142092(0x1a8)](require['main'][_0x142092(0x10a)]),'CADViewer_config.json'),{config:_0x4f0e6a}=_0x3ec770[_0x142092(0x20d)];if(!_0x4f0e6a)return _0x20d473['status'](0x190)[_0x142092(0x1d2)]({'message':_0x142092(0x10f)});try{fs['writeFileSync'](_0x4f685b,JSON[_0x142092(0xeb)](_0x4f0e6a,null,0x4)),_0x20d473[_0x142092(0x7d)](0xc8)['json']({'message':_0x142092(0x140)});}catch(_0x499bfe){_0x20d473[_0x142092(0x7d)](0x1f4)[_0x142092(0x1d2)]({'message':_0x142092(0x204)});}}),router['put'](a26_0xf203b8(0x173),async(_0x5cd369,_0x19d3c9)=>{const _0x3df39f=a26_0xf203b8,{key:_0x4b9aeb,value:_0x20b2cd}=_0x5cd369[_0x3df39f(0x20d)],_0x5724d4=path[_0x3df39f(0x1da)](path[_0x3df39f(0x1a8)](require['main'][_0x3df39f(0x10a)]),_0x3df39f(0x1fc));fs[_0x3df39f(0x188)](_0x5724d4,'utf8',function(_0x149759,_0x3f7c48){const _0x520335=_0x3df39f;_0x149759&&_0x19d3c9['status'](0x1f4)[_0x520335(0xac)](_0x149759);const _0x4a2c6=JSON['parse'](_0x3f7c48);_0x4a2c6[_0x4b9aeb]=_0x20b2cd;if(_0x4b9aeb==='autodetect_location'){let _0x261fd3='';if(_0x4a2c6[_0x520335(0xb3)]){_0x261fd3=os['platform']();if(_0x261fd3===_0x520335(0x79))_0x261fd3='windows';else{if(_0x261fd3==='darwin')_0x261fd3=_0x520335(0x176);}}else _0x261fd3=_0x4a2c6[_0x520335(0x95)];if(_0x261fd3===_0x520335(0x1df)){_0x4a2c6[_0x520335(0x138)]=path[_0x520335(0x8b)](__dirname,'..')+'/';const _0x6eb126=/\\/g;_0x4a2c6[_0x520335(0x138)]=_0x4a2c6[_0x520335(0x138)][_0x520335(0x98)](_0x6eb126,'/');}else _0x4a2c6[_0x520335(0x138)]=path[_0x520335(0x8b)](__dirname,'..')+'/';}if(_0x4b9aeb===_0x520335(0xb3)){let _0x351a92=os['platform']();if(_0x351a92===_0x520335(0x79))_0x351a92=_0x520335(0x1df);else _0x351a92=_0x520335(0x176);_0x351a92===_0x520335(0x1df)?_0x20b2cd===!![]&&(_0x4a2c6[_0x520335(0xcc)]=_0x4a2c6[_0x520335(0x17e)],_0x4a2c6[_0x520335(0xe2)]=_0x4a2c6[_0x520335(0x7f)],_0x4a2c6[_0x520335(0xa4)]=_0x4a2c6[_0x520335(0x1aa)]):_0x20b2cd===!![]&&(_0x4a2c6['autoxchange_executable']=_0x4a2c6[_0x520335(0x8c)],_0x4a2c6['dwgmerge_executable']=_0x4a2c6[_0x520335(0xfd)],_0x4a2c6['linklist_executable']=_0x4a2c6['linklist_executable_linux']),_0x4a2c6[_0x520335(0x95)]=_0x351a92;}if(_0x4a2c6[_0x520335(0xb3)]){let _0x207dff=os[_0x520335(0x95)]();if(_0x207dff==='win32')_0x207dff='windows';else _0x207dff=_0x520335(0x176);if(_0x207dff===_0x520335(0x1df)){if(_0x4b9aeb===_0x520335(0x17e))_0x4a2c6[_0x520335(0xcc)]=_0x20b2cd;else{if(_0x4b9aeb===_0x520335(0x7f))_0x4a2c6[_0x520335(0xe2)]=_0x20b2cd;else _0x4b9aeb===_0x520335(0x1aa)&&(_0x4a2c6[_0x520335(0xa4)]=_0x20b2cd);}}else{if(_0x4b9aeb===_0x520335(0x8c))_0x4a2c6[_0x520335(0xcc)]=_0x20b2cd;else{if(_0x4b9aeb===_0x520335(0xfd))_0x4a2c6[_0x520335(0xe2)]=_0x20b2cd;else _0x4b9aeb===_0x520335(0xdb)&&(_0x4a2c6['linklist_executable']=_0x20b2cd);}}}fs[_0x520335(0xe7)](_0x5724d4,JSON['stringify'](_0x4a2c6,null,0x4),function(_0x469c8a){const _0x537350=_0x520335;_0x469c8a&&_0x19d3c9[_0x537350(0x7d)](0x1f4)['send'](_0x469c8a),_0x19d3c9[_0x537350(0x7d)](0xc8)[_0x537350(0x1d2)]({'message':_0x537350(0x19a)});});});}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0x144),async(_0x191111,_0x866229)=>{const _0x52d491=a26_0xf203b8,_0x1357a0=getHotConfig(),_0x56ce5e=(_0x1357a0[_0x52d491(0xd4)][_0x52d491(0xe9)](_0x1357a0[_0x52d491(0x138)])?'':_0x1357a0['ServerLocation'])+_0x1357a0[_0x52d491(0xd4)],_0x52fccb=(_0x1357a0['dwgmergeLocation']['includes'](_0x1357a0[_0x52d491(0x138)])?'':_0x1357a0[_0x52d491(0x138)])+_0x1357a0['linklistLocation'],_0x579ff7=(_0x1357a0[_0x52d491(0x105)]['includes'](_0x1357a0[_0x52d491(0x138)])?'':_0x1357a0[_0x52d491(0x138)])+_0x1357a0['converterLocation'],_0x265991=/ax202.*\.exe/,_0x508c19=/ax202.*/,_0x3306dc=/dwgmerge202.*\.exe/,_0x16f221=/dwgmerge_202.*/,_0x12e29a=/linklist_202.*\.exe/,_0x21647e=/linklist_202.*/,_0x5004b0=[],_0x2438e5=[],_0xf22a92=[],_0x441253=[],_0x52d13d=[],_0x550a09=[];let _0x1927dd='';if(_0x1357a0[_0x52d491(0xb3)]){_0x1927dd=os[_0x52d491(0x95)]();if(_0x1927dd==='win32')_0x1927dd='windows';else{if(_0x1927dd==='darwin')_0x1927dd='linux';}}else _0x1927dd=_0x1357a0['platform'];fs[_0x52d491(0xb4)](_0x579ff7[_0x52d491(0x86)](_0x52d491(0x176),'windows'))[_0x52d491(0x1e0)](_0x3a82f9=>{const _0x4037c9=_0x52d491;if(_0x265991[_0x4037c9(0xe8)](_0x3a82f9[_0x4037c9(0x209)]()))_0x5004b0[_0x4037c9(0x170)](_0x3a82f9);}),fs['readdirSync'](_0x56ce5e[_0x52d491(0x86)](_0x52d491(0x176),'windows'))['forEach'](_0x55fed5=>{const _0x1f309e=_0x52d491;if(_0x3306dc[_0x1f309e(0xe8)](_0x55fed5[_0x1f309e(0x209)]()))_0x2438e5[_0x1f309e(0x170)](_0x55fed5);}),fs[_0x52d491(0xb4)](_0x52fccb['replaceAll']('linux',_0x52d491(0x1df)))['forEach'](_0x1dd028=>{const _0x4df803=_0x52d491;if(_0x12e29a[_0x4df803(0xe8)](_0x1dd028[_0x4df803(0x209)]()))_0xf22a92[_0x4df803(0x170)](_0x1dd028);}),fs[_0x52d491(0xb4)](_0x579ff7['replaceAll'](_0x52d491(0x1df),_0x52d491(0x176)))['forEach'](_0x53b8e4=>{const _0x24de0d=_0x52d491;if(_0x508c19[_0x24de0d(0xe8)](_0x53b8e4[_0x24de0d(0x209)]()))_0x441253[_0x24de0d(0x170)](_0x53b8e4);}),fs['readdirSync'](_0x56ce5e[_0x52d491(0x86)](_0x52d491(0x1df),'linux'))[_0x52d491(0x1e0)](_0x208712=>{const _0x112426=_0x52d491;if(_0x16f221[_0x112426(0xe8)](_0x208712[_0x112426(0x209)]()))_0x52d13d['push'](_0x208712);}),fs[_0x52d491(0xb4)](_0x52fccb[_0x52d491(0x86)](_0x52d491(0x1df),_0x52d491(0x176)))[_0x52d491(0x1e0)](_0x296055=>{const _0x5d05eb=_0x52d491;if(_0x21647e[_0x5d05eb(0xe8)](_0x296055[_0x5d05eb(0x209)]()))_0x550a09['push'](_0x296055);});const _0x2e50ad=[_0x52d491(0xc0),_0x52d491(0x14d),'converterpathWin',_0x52d491(0xf2),_0x52d491(0xdd)],_0x4f23a7=['fileLocation','fileLocationUrl','converterLocation','licenseLocation',_0x52d491(0x212),'temp_print_folder',_0x52d491(0x1b2),_0x52d491(0xd4),'linklistLocation',_0x52d491(0x90)],_0x323f45=['ServerUrl',_0x52d491(0x7c),'mysqlUsername',_0x52d491(0x17f),'mysqlDatabase',_0x52d491(0x1c3),_0x52d491(0x1a4)],_0x353b16={'ServerUrl':_0x52d491(0x99),'autoxchange_executable':_0x52d491(0x1d5),'linklist_executable':_0x52d491(0xc1),'dwgmerge_executable':_0x52d491(0x147),'setup_mysqlHost':'Database\x20Settings','callbackMethod_gatewayUrl_flag':_0x52d491(0x1db),'userFolderMaximumFiles':'Demo\x20and\x20Base\x20User\x20Settings','smtpHost':'Mail\x20Server\x20Settings'},_0x10f271={'https':_0x52d491(0x1d9),'ServerFrontEndUrlAsAllowedOriginOnly':_0x52d491(0x1d9),'autodetect_platform':'boolean','cvjs_svgz_compress':_0x52d491(0x1d9),'cached_conversion':'boolean','remainOnServer':_0x52d491(0x1d9),'cvjs_debug':_0x52d491(0x1d9),'autodetect_location':'boolean','platform':_0x52d491(0x129),'autoxchange_executable':'radio|'+(_0x1927dd===_0x52d491(0x1df)?_0x5004b0[_0x52d491(0x1da)](','):_0x441253['join'](',')),'autoxchange_executable_windows':'radio|'+_0x5004b0[_0x52d491(0x1da)](','),'autoxchange_executable_linux':_0x52d491(0x19e)+_0x441253[_0x52d491(0x1da)](','),'dwgmerge_executable':_0x52d491(0x19e)+(_0x1927dd===_0x52d491(0x1df)?_0x2438e5['join'](','):_0x52d13d[_0x52d491(0x1da)](',')),'dwgmerge_executable_windows':_0x52d491(0x19e)+_0x2438e5[_0x52d491(0x1da)](','),'dwgmerge_executable_linux':_0x52d491(0x19e)+_0x52d13d[_0x52d491(0x1da)](','),'linklist_executable':_0x52d491(0x19e)+(_0x1927dd===_0x52d491(0x1df)?_0xf22a92['join'](','):_0x550a09['join'](',')),'linklist_executable_windows':_0x52d491(0x19e)+_0xf22a92['join'](','),'linklist_executable_linux':_0x52d491(0x19e)+_0x550a09['join'](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':'boolean','ContentSecurityPolicyReportOnly':_0x52d491(0x1d9),'fileLoad_PasswordAuthentication':_0x52d491(0x1d9),'contentLocationCheck':_0x52d491(0x1d9),'globalBearerAutentication':_0x52d491(0x1d9),'bcryptSaltRounds':_0x52d491(0x16d),'userFolderMaximumFiles':'number','userFolderMaximumSizeInMB':'number'},_0x2b13f3={},_0x424771=Object[_0x52d491(0x1c4)](_0x1357a0);_0x1357a0[_0x52d491(0xb3)]&&_0x2e50ad[_0x52d491(0x170)]('platform'),_0x1357a0['autodetect_location']&&(_0x4f23a7[_0x52d491(0x170)](_0x52d491(0x138)),_0x4f23a7['push'](_0x52d491(0xcc)),_0x4f23a7[_0x52d491(0x170)](_0x52d491(0xe2)),_0x4f23a7[_0x52d491(0x170)]('linklist_executable')),!_0x1357a0[_0x52d491(0x1cc)]&&_0x4f23a7[_0x52d491(0x170)](_0x52d491(0x137)),!_0x1357a0[_0x52d491(0x18c)]&&(_0x4f23a7[_0x52d491(0x170)](_0x52d491(0x7c)),_0x4f23a7[_0x52d491(0x170)](_0x52d491(0x93)),_0x4f23a7[_0x52d491(0x170)]('mysqlPassword'),_0x4f23a7[_0x52d491(0x170)](_0x52d491(0x1b9))),!_0x1357a0['ContentSecurityPolicyReportOnly']&&_0x4f23a7[_0x52d491(0x170)]('ContentSecurityPolicy'),!_0x1357a0[_0x52d491(0x7b)]&&(_0x4f23a7[_0x52d491(0x170)](_0x52d491(0x200)),_0x4f23a7['push'](_0x52d491(0xf7))),!_0x1357a0[_0x52d491(0x13c)]&&_0x4f23a7[_0x52d491(0x170)](_0x52d491(0x12e)),_0x424771[_0x52d491(0x1e0)](_0x288c42=>{const _0xea64b6=_0x52d491;!_0x2e50ad[_0xea64b6(0xe9)](_0x288c42)&&(_0x2b13f3[_0x288c42]=_0x1357a0[_0x288c42]);}),_0x2b13f3[_0x52d491(0x1be)]=''+_0x1357a0[_0x52d491(0x75)]+_0x1357a0[_0x52d491(0x1fd)],_0x866229[_0x52d491(0x7d)](0xc8)[_0x52d491(0x1d2)]({'notEditableFields':_0x4f23a7,'customFieldTypes':_0x10f271,'notHotEditableFields':_0x323f45,'config':_0x2b13f3,'fieldsTitle':_0x353b16,'configData':_0x1357a0});}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x177),protectedRoute,async(_0x59fc9b,_0x31211a)=>{const _0x2403cd=a26_0xf203b8,_0x176df1=fs['readFileSync'](path[_0x2403cd(0x1da)](path[_0x2403cd(0x1a8)](require[_0x2403cd(0x180)]['filename']),_0x2403cd(0x1b8)),_0x2403cd(0x201)),_0x6eb097=_0x176df1['replaceAll']('{version}',_0x59fc9b[_0x2403cd(0x90)]);_0x31211a[_0x2403cd(0xac)](_0x6eb097);});function findMatchingLogFiles(_0x142b06,_0x210b7a=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x1bf145=a26_0xf203b8;try{const _0x56eed2=fs['readdirSync'](_0x142b06);return _0x56eed2['filter'](_0x4fa273=>_0x210b7a['test'](_0x4fa273))[_0x1bf145(0xec)](_0x96861f=>_0x96861f[_0x1bf145(0x86)](_0x1bf145(0x143),'')[_0x1bf145(0x86)](_0x1bf145(0x1af),''));}catch(_0x1a66c1){return console[_0x1bf145(0x1e7)](_0x1bf145(0x122),_0x1a66c1),[];}}router[a26_0xf203b8(0x162)](a26_0xf203b8(0x14f),async(_0x275c10,_0x4005b4)=>{const _0x5b0f05=a26_0xf203b8,_0x30ac32=new Date(),_0x3bf95b=_0x30ac32[_0x5b0f05(0x190)]()[_0x5b0f05(0x14c)]()[_0x5b0f05(0x89)](0x2,'0')+'_'+(_0x30ac32[_0x5b0f05(0xb9)]()+0x1)[_0x5b0f05(0x14c)]()[_0x5b0f05(0x89)](0x2,'0')+'_'+_0x30ac32[_0x5b0f05(0xc4)](),{displayDay:_0x3cf638}=_0x275c10[_0x5b0f05(0x20d)],_0x12f8db=path[_0x5b0f05(0x1da)](path[_0x5b0f05(0x1a8)](require[_0x5b0f05(0x180)][_0x5b0f05(0x10a)]),_0x5b0f05(0x82),'call-Api_Conversion_'+(_0x3cf638??_0x3bf95b)+_0x5b0f05(0x1af));fs[_0x5b0f05(0x156)](_0x12f8db)?fs[_0x5b0f05(0x188)](_0x12f8db,_0x5b0f05(0x201),function(_0x5ac939,_0x405797){const _0x43a9bd=_0x5b0f05;_0x5ac939&&_0x4005b4[_0x43a9bd(0x7d)](0x1f4)[_0x43a9bd(0xac)](_0x5ac939),_0x4005b4[_0x43a9bd(0x7d)](0xc8)[_0x43a9bd(0x1d2)]({'content':_0x405797,'days':findMatchingLogFiles(path[_0x43a9bd(0x1da)](path[_0x43a9bd(0x1a8)](require['main'][_0x43a9bd(0x10a)]),_0x43a9bd(0x82)))});}):_0x4005b4[_0x5b0f05(0x7d)](0xc8)[_0x5b0f05(0x1d2)]({'content':'','days':findMatchingLogFiles(path[_0x5b0f05(0x1da)](path[_0x5b0f05(0x1a8)](require[_0x5b0f05(0x180)][_0x5b0f05(0x10a)]),_0x5b0f05(0x82)))});}),router[a26_0xf203b8(0xa6)]('/logs/clean',async(_0x4222d6,_0x326444)=>{const _0x95be07=a26_0xf203b8,_0x7aface=new Date(),_0x40e43c=_0x7aface[_0x95be07(0x190)]()['toString']()[_0x95be07(0x89)](0x2,'0')+'_'+(_0x7aface['getMonth']()+0x1)['toString']()[_0x95be07(0x89)](0x2,'0')+'_'+_0x7aface[_0x95be07(0xc4)](),_0x261e94=findMatchingLogFiles(path[_0x95be07(0x1da)](path[_0x95be07(0x1a8)](require[_0x95be07(0x180)][_0x95be07(0x10a)]),'logs'));_0x261e94[_0x95be07(0x1e0)](_0x1e2115=>{const _0x56e9fb=_0x95be07;if(_0x1e2115!==_0x40e43c)fs[_0x56e9fb(0x84)](path[_0x56e9fb(0x1da)](path[_0x56e9fb(0x1a8)](require[_0x56e9fb(0x180)][_0x56e9fb(0x10a)]),'logs','call-Api_Conversion_'+_0x1e2115+'.log'));}),logStream['clean'](),_0x326444[_0x95be07(0x7d)](0xc8)[_0x95be07(0x1d2)]({'message':_0x95be07(0xf4)});}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x1f4),protectedRoute,async(_0x3b6f68,_0x238ae8)=>{const _0x5bfe7e=a26_0xf203b8,_0x32a4e6=path[_0x5bfe7e(0x1da)](path['dirname'](require[_0x5bfe7e(0x180)][_0x5bfe7e(0x10a)]),_0x5bfe7e(0x1a5));if(!fs[_0x5bfe7e(0x156)](_0x32a4e6)){const _0x481c6c={'jsonDataExtraction':{'standard':[{'paramName':_0x5bfe7e(0x1d2),'paramValue':''},{'paramName':_0x5bfe7e(0xe4),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x5bfe7e(0x1b7),'paramValue':''},{'paramName':_0x5bfe7e(0xff),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x5bfe7e(0x1e2)},{'paramName':_0x5bfe7e(0x1b7),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':_0x5bfe7e(0x1a7)},{'paramName':_0x5bfe7e(0x1b7),'paramValue':''},{'paramName':_0x5bfe7e(0xff),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x5bfe7e(0x13d),'paramValue':''}]}};fs[_0x5bfe7e(0x1d1)](_0x32a4e6,JSON[_0x5bfe7e(0xeb)](_0x481c6c,null,0x4));}const _0x3a8c4b=fs[_0x5bfe7e(0x13e)](path['join'](path[_0x5bfe7e(0x1a8)](require[_0x5bfe7e(0x180)][_0x5bfe7e(0x10a)]),_0x5bfe7e(0x136)),_0x5bfe7e(0x201)),_0x311f05=_0x3a8c4b[_0x5bfe7e(0x86)]('{version}',_0x3b6f68[_0x5bfe7e(0x90)]);_0x238ae8['send'](_0x311f05);}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0x1d0),async(_0x2b8189,_0x38f4f9)=>{const _0x4a8e21=a26_0xf203b8,{actionName:_0x5bfdd5,contentLocation:_0x2dbee4}=_0x2b8189[_0x4a8e21(0x20d)],_0x309f94=path[_0x4a8e21(0x1da)](path[_0x4a8e21(0x1a8)](require[_0x4a8e21(0x180)]['filename']),_0x4a8e21(0x1a5));fs[_0x4a8e21(0x188)](_0x309f94,_0x4a8e21(0x201),function(_0x16bb34,_0x59f35f){const _0xd03882=_0x4a8e21;if(_0x16bb34)_0x38f4f9['status'](0xc8)['json']({'parameters':[]});else{const _0x1b32fa=JSON['parse'](_0x59f35f);if(_0x1b32fa[_0x5bfdd5]&&_0x1b32fa[_0x5bfdd5][_0x2dbee4])_0x38f4f9[_0xd03882(0x7d)](0xc8)['json']({'parameters':_0x1b32fa[_0x5bfdd5][_0x2dbee4]});else _0x1b32fa[_0x5bfdd5]&&_0x1b32fa[_0x5bfdd5][_0xd03882(0x191)]?_0x38f4f9['status'](0xc8)['json']({'parameters':_0x1b32fa[_0x5bfdd5]['standard']}):_0x38f4f9[_0xd03882(0x7d)](0xc8)[_0xd03882(0x1d2)]({'parameters':[]});}});}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0x15a),async(_0x550504,_0xd8f211)=>{const _0x4dfd81=a26_0xf203b8,{actionName:_0x1c0611,contentLocation:_0x353dcc,parameters:_0x35b79c}=_0x550504[_0x4dfd81(0x20d)],_0x2f2686=path[_0x4dfd81(0x1da)](path[_0x4dfd81(0x1a8)](require[_0x4dfd81(0x180)][_0x4dfd81(0x10a)]),_0x4dfd81(0x1a5));fs[_0x4dfd81(0x188)](_0x2f2686,'utf8',function(_0x3f50fc,_0x360ded){const _0xc16a00=_0x4dfd81;if(_0x3f50fc)_0xd8f211[_0xc16a00(0x7d)](0x199)[_0xc16a00(0x1d2)]({'message':'Error\x20saving\x20parameters.'});else{const _0x36bd59=JSON[_0xc16a00(0x1f7)](_0x360ded);!_0x36bd59[_0x1c0611]&&(_0x36bd59[_0x1c0611]={}),_0x36bd59[_0x1c0611][_0x353dcc]=_0x35b79c,fs['writeFile'](_0x2f2686,JSON[_0xc16a00(0xeb)](_0x36bd59,null,0x4),function(_0x28e9d8){const _0x7e564a=_0xc16a00;_0x28e9d8&&_0xd8f211['status'](0x199)[_0x7e564a(0x1d2)]({'message':_0x7e564a(0x158)}),_0xd8f211[_0x7e564a(0x7d)](0xc8)[_0x7e564a(0x1d2)]({'message':_0x7e564a(0x1fb)});});}});}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x202),protectedRoute,async(_0x394023,_0x5b5ddf)=>{const _0x139061=a26_0xf203b8,_0x2fd643=fs[_0x139061(0x13e)](path[_0x139061(0x1da)](path['dirname'](require[_0x139061(0x180)][_0x139061(0x10a)]),'cadviewer/settings/doctor.html'),_0x139061(0x201)),_0x3d3571=_0x2fd643[_0x139061(0x86)](_0x139061(0x8a),_0x394023[_0x139061(0x90)]);_0x5b5ddf[_0x139061(0xac)](_0x3d3571);}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0x199),async(_0x1cc8b0,_0x1f4982)=>{const _0x55bbc6=a26_0xf203b8,_0x3826e3=getHotConfig(),_0x214ed2=_0x3826e3['converterLocation'][_0x55bbc6(0x86)]('//','/'),_0x3307ac=_0x3826e3['dwgmergeLocation'][_0x55bbc6(0x86)]('//','/'),_0x24e586=_0x3826e3[_0x55bbc6(0x128)][_0x55bbc6(0x86)]('//','/'),_0x1d8a62=''+_0x214ed2+_0x3826e3['autoxchange_executable'],_0x494ca2=''+_0x3307ac+_0x3826e3['dwgmerge_executable'],_0x1d274c=''+_0x24e586+_0x3826e3['linklist_executable'],_0x25333d=[],_0x509e00=new Promise(_0x2b7871=>{const _0x4a3511=_0x55bbc6;exec(os[_0x4a3511(0x95)]()===_0x4a3511(0x79)?_0x4a3511(0x1cb):'ls',_0x1eb664=>{const _0x2bcc5b=_0x4a3511;_0x1eb664?_0x25333d[_0x2bcc5b(0x170)]({'title':_0x2bcc5b(0x126),'status':![],'priority':0x1}):_0x25333d['push']({'title':_0x2bcc5b(0x126),'status':!![],'priority':0x1}),_0x2b7871();});}),_0x5be4c6=new Promise(_0x12f9e1=>{const _0x4bdd6f=_0x55bbc6;fs[_0x4bdd6f(0x169)](_0x1d8a62,fs[_0x4bdd6f(0x1c1)][_0x4bdd6f(0x166)],_0x4cacfb=>{const _0x3b08d1=_0x4bdd6f;_0x4cacfb?_0x25333d[_0x3b08d1(0x170)]({'title':_0x3b08d1(0x18d)+_0x3826e3['autoxchange_executable']+_0x3b08d1(0xb1),'status':![],'priority':0x2}):_0x25333d[_0x3b08d1(0x170)]({'title':_0x3b08d1(0x18d)+_0x3826e3[_0x3b08d1(0xcc)]+_0x3b08d1(0xb1),'status':!![],'priority':0x2}),_0x12f9e1();});}),_0x8fa12f=new Promise(_0x5c7f6c=>{const _0x4f8884=_0x55bbc6;fs[_0x4f8884(0x169)](_0x494ca2,fs[_0x4f8884(0x1c1)][_0x4f8884(0x166)],_0x28814f=>{const _0x18f41e=_0x4f8884;_0x28814f?_0x25333d[_0x18f41e(0x170)]({'title':_0x18f41e(0x18d)+_0x3826e3['dwgmerge_executable']+_0x18f41e(0xb1),'status':![],'priority':0x3}):_0x25333d[_0x18f41e(0x170)]({'title':_0x18f41e(0x18d)+_0x3826e3[_0x18f41e(0xe2)]+_0x18f41e(0xb1),'status':!![],'priority':0x3}),_0x5c7f6c();});}),_0x430382=new Promise(_0x17764c=>{const _0x3269cb=_0x55bbc6;fs['access'](_0x1d274c,fs[_0x3269cb(0x1c1)]['X_OK'],_0x26db31=>{const _0x5c727d=_0x3269cb;_0x26db31?_0x25333d[_0x5c727d(0x170)]({'title':_0x5c727d(0x18d)+_0x3826e3[_0x5c727d(0xa4)]+_0x5c727d(0xb1),'status':![],'priority':0x4}):_0x25333d[_0x5c727d(0x170)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x3826e3[_0x5c727d(0xa4)]+_0x5c727d(0xb1),'status':!![],'priority':0x4}),_0x17764c();});}),_0x502ea8=new Promise(_0x217637=>{const _0x30a187=_0x55bbc6,_0x4ec63c=new Date(),_0x254bc9=_0x4ec63c[_0x30a187(0x190)]()[_0x30a187(0x14c)]()['padStart'](0x2,'0')+'_'+(_0x4ec63c['getMonth']()+0x1)[_0x30a187(0x14c)]()['padStart'](0x2,'0')+'_'+_0x4ec63c[_0x30a187(0xc4)](),{displayDay:_0x3d860c}=_0x1cc8b0['body'];fs[_0x30a187(0x169)](path[_0x30a187(0x1da)](path[_0x30a187(0x1a8)](require[_0x30a187(0x180)][_0x30a187(0x10a)]),_0x30a187(0x82),_0x30a187(0x143)+(_0x3d860c??_0x254bc9)+_0x30a187(0x1af)),fs[_0x30a187(0x1c1)][_0x30a187(0x17c)],_0x147c78=>{const _0x199905=_0x30a187;_0x147c78?_0x25333d[_0x199905(0x170)]({'title':_0x199905(0xf5)+(_0x3d860c??_0x254bc9)+_0x199905(0x133),'status':![],'priority':0x5}):_0x25333d[_0x199905(0x170)]({'title':_0x199905(0xf5)+(_0x3d860c??_0x254bc9)+_0x199905(0x133),'status':!![],'priority':0x5}),_0x217637();});}),_0x28f70b=(_0x2b18f6,_0x210bd6)=>{const _0xa8b533=_0x55bbc6,_0x52e6aa=path['join'](path[_0xa8b533(0x1a8)](require[_0xa8b533(0x180)][_0xa8b533(0x10a)]),_0x2b18f6);return new Promise(_0x254f01=>{const _0x1ae875=_0xa8b533;fs[_0x1ae875(0x169)](path[_0x1ae875(0x1da)](path[_0x1ae875(0x1a8)](_0x52e6aa)),fs[_0x1ae875(0x1c1)]['R_OK']|fs[_0x1ae875(0x1c1)][_0x1ae875(0x17c)],_0x1788b3=>{const _0x146851=_0x1ae875;_0x1788b3?_0x25333d['push']({'title':_0x146851(0x1bb)+_0x2b18f6,'status':![],'priority':_0x210bd6+0x6}):_0x25333d['push']({'title':_0x146851(0x1bb)+_0x2b18f6,'status':!![],'priority':_0x210bd6+0x6}),_0x254f01();});});},_0x17efd5=[_0x55bbc6(0x19d),_0x55bbc6(0x19b),_0x55bbc6(0x20c),'/converters/files/print/',_0x55bbc6(0x11f),'/content/redlines/','/content/redlines/v7/'],_0x5a945a=_0x17efd5['map'](_0x28f70b);Promise[_0x55bbc6(0x8f)]([_0x509e00,_0x5be4c6,_0x8fa12f,_0x430382,_0x502ea8,..._0x5a945a])[_0x55bbc6(0x1a1)](()=>{const _0x419821=_0x55bbc6;_0x1f4982[_0x419821(0x7d)](0xc8)[_0x419821(0x1d2)]({'checking_list':_0x25333d});})[_0x55bbc6(0xc5)](()=>{const _0x5ee211=_0x55bbc6;_0x1f4982[_0x5ee211(0x7d)](0x1f4)[_0x5ee211(0x1d2)]({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router['get'](a26_0xf203b8(0x12d),protectedRoute,async(_0xdfc60,_0x4d8097)=>{const _0x1078e2=a26_0xf203b8,_0x562f1a=fs[_0x1078e2(0x13e)](path['join'](path['dirname'](require[_0x1078e2(0x180)]['filename']),_0x1078e2(0x1eb)),_0x1078e2(0x201)),_0x15ddc7=_0x562f1a[_0x1078e2(0x86)](_0x1078e2(0x8a),_0xdfc60[_0x1078e2(0x90)]);_0x4d8097[_0x1078e2(0xac)](_0x15ddc7);}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0x18e),async(_0x232f42,_0x4efded)=>{const _0x593963=a26_0xf203b8;let _0x462d12;try{const [_0x11f4f0]=await conn[_0x593963(0x1fe)]()[_0x593963(0xdc)](_0x593963(0x17d),[]);_0x462d12=_0x11f4f0;}catch(_0x174c3d){console['log'](_0x174c3d),_0x4efded[_0x593963(0x7d)](0x1f4)[_0x593963(0x1d2)]({'error':_0x593963(0xab)});return;}_0x4efded['status'](0xc8)[_0x593963(0x1d2)]({'success':!![],'data':_0x462d12});}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0x12d),upload[a26_0xf203b8(0x149)]('avatar'),async(_0x1b605d,_0x5937fd)=>{const _0x58d6cb=a26_0xf203b8,{id:_0x36359a,first_name:_0x3c7ad3,last_name:_0x50abaf,username:_0x4a5424,email:_0x2019c1,password:_0x360066,is_enabled:_0x4e9d15}=_0x1b605d[_0x58d6cb(0x20d)],_0x585ffe=_0x1b605d['body'][_0x58d6cb(0xb0)]===_0x58d6cb(0x91)?'admin':_0x1b605d[_0x58d6cb(0x20d)]['role']==='demo_user'?_0x58d6cb(0x198):_0x58d6cb(0x1ac);let _0x4f402c;console['log'](_0x58d6cb(0xd6));_0x360066&&(_0x4f402c=await bcrypt['hash'](_0x360066,0xa));let _0x54ab39=null;if(_0x1b605d[_0x58d6cb(0x148)]){const _0x338493=_0x58d6cb(0xd3)+randomUUID()+_0x58d6cb(0x151);fs[_0x58d6cb(0xbe)](_0x1b605d[_0x58d6cb(0x148)][_0x58d6cb(0x92)],'./'+_0x338493),fs[_0x58d6cb(0x84)](_0x1b605d[_0x58d6cb(0x148)][_0x58d6cb(0x92)]),_0x54ab39=config['ServerUrl']+'/'+_0x338493;}if(_0x36359a){try{let [_0x25ad89]=await conn[_0x58d6cb(0x1fe)]()[_0x58d6cb(0xdc)](_0x58d6cb(0x15c),[_0x2019c1,_0x4a5424,_0x36359a]);if(_0x25ad89[_0x58d6cb(0x153)]>0x0)_0x5937fd[_0x58d6cb(0x7d)](0x199)['json']({'error':_0x58d6cb(0x96)});else{!_0x1b605d[_0x58d6cb(0x148)]&&([_0x25ad89]=await conn['promise']()[_0x58d6cb(0xdc)](_0x58d6cb(0xf9),[_0x36359a]),_0x54ab39=_0x25ad89[0x0]['avatar_url']);const _0x436e3e='UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,'+(_0x360066?_0x58d6cb(0x1a2):'')+_0x58d6cb(0x20f);await conn[_0x58d6cb(0x1fe)]()[_0x58d6cb(0xdc)](_0x436e3e,_0x360066?[_0x54ab39,_0x3c7ad3,_0x50abaf,_0x4a5424,_0x2019c1,_0x4f402c,_0x4e9d15,_0x585ffe,_0x36359a]:[_0x54ab39,_0x3c7ad3,_0x50abaf,_0x4a5424,_0x2019c1,_0x4e9d15,_0x585ffe,_0x36359a]);}}catch(_0x48950c){console[_0x58d6cb(0xd2)](_0x48950c),_0x5937fd['status'](0x1f4)[_0x58d6cb(0x1d2)]({'error':_0x58d6cb(0xab)});return;}_0x5937fd['status'](0xc8)[_0x58d6cb(0x1d2)]({'success':!![],'message':_0x58d6cb(0xb5)});}else{try{const [_0x444d1c]=await conn['promise']()['execute'](_0x58d6cb(0x1b0),[_0x2019c1,_0x4a5424]);if(_0x444d1c[_0x58d6cb(0x153)]>0x0)_0x5937fd[_0x58d6cb(0x7d)](0x199)[_0x58d6cb(0x1d2)]({'error':_0x58d6cb(0x96)});else{const _0x5de402=randomUUID();await conn['promise']()['execute']('INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x54ab39,_0x3c7ad3,_0x50abaf,_0x4a5424,_0x2019c1,_0x4f402c,_0x585ffe,_0x4e9d15,_0x5de402]);const _0x10405e='./uploads/'+_0x5de402;fs[_0x58d6cb(0x125)](_0x10405e);}}catch(_0x55e87e){console[_0x58d6cb(0xd2)](_0x55e87e),_0x5937fd[_0x58d6cb(0x7d)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x5937fd['status'](0xc8)[_0x58d6cb(0x1d2)]({'success':!![],'message':_0x58d6cb(0xda)});}}),router[a26_0xf203b8(0xa6)](a26_0xf203b8(0x11e),async(_0x145484,_0x43e114)=>{const _0x390bfa=a26_0xf203b8,{userId:_0x47767a}=_0x145484[_0x390bfa(0x20d)];let _0x4a7ec0;try{const [_0x256144]=await conn['promise']()[_0x390bfa(0xdc)](_0x390bfa(0xf9),[_0x47767a]);_0x256144[_0x390bfa(0x153)]>0x0&&(_0x4a7ec0=_0x256144[0x0]);}catch(_0x5c86d4){console[_0x390bfa(0xd2)]({'err':_0x5c86d4}),_0x43e114['status'](0x1f4)['json']({'error':_0x390bfa(0xab)});return;}if(!_0x4a7ec0){_0x43e114['status'](0x191)['json']({'error':_0x390bfa(0x8d)});return;}let _0x2f09ce=_0x4a7ec0[_0x390bfa(0x196)];if(!_0x2f09ce){_0x2f09ce=randomUUID();try{await conn[_0x390bfa(0x1fe)]()['execute'](_0x390bfa(0xa9),[_0x2f09ce,_0x47767a]);}catch(_0x558763){console[_0x390bfa(0xd2)]({'err':_0x558763}),_0x43e114[_0x390bfa(0x7d)](0x1f4)[_0x390bfa(0x1d2)]({'error':_0x390bfa(0xab)});return;}}const _0x7e7891='./uploads/'+_0x2f09ce;console[_0x390bfa(0xd2)]('===================='),console['log'](_0x7e7891),!fs['existsSync'](_0x7e7891)&&fs['mkdirSync'](_0x7e7891),fs[_0x390bfa(0xa3)](_0x7e7891,{'recursive':!![],'force':!![]}),fs[_0x390bfa(0x125)](_0x7e7891),_0x43e114[_0x390bfa(0x7d)](0xc8)[_0x390bfa(0x1d2)]({'success':!![],'message':_0x390bfa(0x1ed)});}),router['delete'](a26_0xf203b8(0x1bf),async(_0x54bda5,_0x518475)=>{const _0x1aa26a=a26_0xf203b8,_0xb8e690=_0x54bda5[_0x1aa26a(0xcf)][_0x1aa26a(0xe1)];try{let _0x4ce825;try{const [_0xb9cee6]=await conn['promise']()[_0x1aa26a(0xdc)](_0x1aa26a(0xf9),[_0xb8e690]);_0xb9cee6[_0x1aa26a(0x153)]>0x0&&(_0x4ce825=_0xb9cee6[0x0]);}catch(_0x23942b){console[_0x1aa26a(0xd2)]({'err':_0x23942b}),_0x518475[_0x1aa26a(0x7d)](0x1f4)[_0x1aa26a(0x1d2)]({'error':_0x1aa26a(0xab)});return;}if(!_0x4ce825){_0x518475[_0x1aa26a(0x7d)](0x191)[_0x1aa26a(0x1d2)]({'error':_0x1aa26a(0x8d)});return;}let _0x591ea7=_0x4ce825[_0x1aa26a(0x196)];if(_0x591ea7){const _0x54f741=_0x1aa26a(0x167)+_0x591ea7;fs[_0x1aa26a(0x156)](_0x54f741)&&fs[_0x1aa26a(0xa3)](_0x54f741,{'recursive':!![],'force':!![]});}await conn['promise']()[_0x1aa26a(0xdc)]('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0xb8e690]);}catch(_0x479cd0){console['log'](_0x479cd0),_0x518475[_0x1aa26a(0x7d)](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});return;}_0x518475[_0x1aa26a(0x7d)](0xc8)[_0x1aa26a(0x1d2)]({'success':!![],'message':_0x1aa26a(0x9e)});}),router['get']('/metrics',async(_0x3ac9e5,_0x2cbb60)=>{const _0x3c2d1a=a26_0xf203b8,_0xf2c55e=osu[_0x3c2d1a(0x11c)],_0x50e12a=osu['mem'],_0x1fd993=osu[_0x3c2d1a(0x1d8)],_0x52185e=osu['os'],_0x39820e={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x29c25c=os[_0x3c2d1a(0x95)]()===_0x3c2d1a(0x79)?'c:':'/';const _0x3b518f=await _0x1fd993[_0x3c2d1a(0x1ec)](_0x29c25c);_0x39820e[_0x3c2d1a(0x1ef)]=_0x3b518f[_0x3c2d1a(0xc9)],_0x39820e[_0x3c2d1a(0x1c8)]=_0x3b518f[_0x3c2d1a(0x17a)],_0x39820e['freeGb']=_0x3b518f['freeGb'],_0x39820e[_0x3c2d1a(0x14e)]=_0x3b518f['totalGb'];}catch(_0x151465){console['log']('Error\x20getting\x20disk\x20usage',_0x151465);}const _0x4fe805={'usage':0x0,'count':0x0};try{_0x4fe805[_0x3c2d1a(0x80)]=await _0xf2c55e[_0x3c2d1a(0x80)](),_0x4fe805[_0x3c2d1a(0x123)]=_0xf2c55e['count']();}catch(_0x497add){console[_0x3c2d1a(0xd2)]('Error\x20getting\x20cpu\x20usage',_0x497add);}const _0x38589b={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x38589b['os']=await _0x52185e[_0x3c2d1a(0x1dc)](),_0x38589b[_0x3c2d1a(0x95)]=_0x52185e['platform'](),_0x38589b['ip']=_0x52185e['ip'](),_0x38589b[_0x3c2d1a(0x12b)]=_0x52185e['uptime'](),_0x38589b[_0x3c2d1a(0x1e8)]=_0x52185e[_0x3c2d1a(0x1e8)](),_0x38589b[_0x3c2d1a(0x16a)]=_0x52185e[_0x3c2d1a(0x16a)](),_0x38589b['arch']=_0x52185e[_0x3c2d1a(0xb6)](),_0x38589b[_0x3c2d1a(0xef)]=await osu[_0x3c2d1a(0x208)][_0x3c2d1a(0xef)](),_0x38589b[_0x3c2d1a(0x1b3)]=await osu[_0x3c2d1a(0x208)][_0x3c2d1a(0x1b3)](),_0x38589b[_0x3c2d1a(0x139)]=await osu[_0x3c2d1a(0x208)][_0x3c2d1a(0x139)]();}catch(_0x2b4b50){console[_0x3c2d1a(0xd2)]('Error\x20getting\x20os\x20info',_0x2b4b50);}const _0x28bb16={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x28bb16[_0x3c2d1a(0x9a)]=await osu[_0x3c2d1a(0x1d6)][_0x3c2d1a(0x9a)](),_0x28bb16['zombieProcesses']=await osu[_0x3c2d1a(0x1d6)]['zombieProcesses']();}catch(_0x1ae7aa){console[_0x3c2d1a(0xd2)](_0x3c2d1a(0x1b4),_0x1ae7aa);}let _0x36fa39={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x270eae=await _0x50e12a[_0x3c2d1a(0x1ec)]();_0x36fa39[_0x3c2d1a(0x192)]=_0x270eae[_0x3c2d1a(0x192)],_0x36fa39[_0x3c2d1a(0xa5)]=_0x270eae[_0x3c2d1a(0xc3)]/0x400/0x400,_0x36fa39[_0x3c2d1a(0xcb)]=_0x270eae[_0x3c2d1a(0x9c)]/0x400/0x400;}catch(_0x5b20a6){console[_0x3c2d1a(0xd2)](_0x3c2d1a(0x87),_0x5b20a6);}let _0x412612=0x0;try{_0x412612=await conn[_0x3c2d1a(0x1fe)]()[_0x3c2d1a(0x1d4)](_0x3c2d1a(0xbd))[_0x3c2d1a(0x1a1)](([_0x32c64e])=>_0x32c64e[0x0][_0x3c2d1a(0x9c)]);}catch(_0x5e336b){console[_0x3c2d1a(0xd2)]('Error\x20getting\x20total\x20users',_0x5e336b);}const _0x4405ae=getMonitoringData(),_0x1f3a55=_0x4405ae[_0x3c2d1a(0x85)](_0x578b47=>_0x578b47[_0x3c2d1a(0x1ff)]!==null&&_0x578b47[_0x3c2d1a(0x1ff)]!==undefined),_0x402f70=_0x4405ae[_0x3c2d1a(0x85)](_0x5ec60c=>_0x5ec60c[_0x3c2d1a(0x16f)]!==null&&_0x5ec60c[_0x3c2d1a(0x16f)]!==undefined)[_0x3c2d1a(0xec)](_0x518fd4=>parseFloat(_0x518fd4[_0x3c2d1a(0x16f)]['replaceAll']('Kb')[_0x3c2d1a(0xbf)]())),_0x443a66=_0x1f3a55[_0x3c2d1a(0xf6)]((_0x51b5c3,_0x5afe31)=>_0x51b5c3+parseFloat(_0x5afe31[_0x3c2d1a(0x1ff)]),0x0)/_0x1f3a55[_0x3c2d1a(0x153)],_0x4784fc=_0x402f70['reduce']((_0x25c074,_0x414854)=>_0x25c074+_0x414854,0x0)/_0x402f70['length'];_0x2cbb60['json']({'requestsPerSecond':counter[_0x3c2d1a(0x159)](),'diskUsage':_0x39820e,'cpus':_0x4fe805,'system':_0x38589b,'process':_0x28bb16,'totalMonitoringData':_0x4405ae[_0x3c2d1a(0x153)],'memory':_0x36fa39,'totalUsers':_0x412612,'avgConvertionTime':_0x443a66,'avgMemoryUsage':_0x4784fc});}),router[a26_0xf203b8(0x162)](a26_0xf203b8(0xdf),(_0x6be084,_0x51a53b)=>{const _0x260b8b=a26_0xf203b8;counter[_0x260b8b(0xd1)](),_0x51a53b[_0x260b8b(0x1d2)]({'message':_0x260b8b(0x160)});});const getMonitoringData=()=>{const _0x4d57d3=a26_0xf203b8,_0x325b0b=_0x4d57d3(0x182);let _0xc47db1=[];try{_0xc47db1=JSON[_0x4d57d3(0x1f7)](fs[_0x4d57d3(0x13e)](_0x325b0b));}catch(_0x10a0e3){console['log']('Error\x20reading\x20monitoring\x20file');}return _0xc47db1;};router['get'](a26_0xf203b8(0x118),async(_0x4e6432,_0x2c4a5f)=>{const _0x1d66c1=a26_0xf203b8,{page:page=0x1,limit:limit=0xa}=_0x4e6432[_0x1d66c1(0x1d4)],_0x1b2a9f=(page-0x1)*limit;try{const _0x595350=getMonitoringData(),_0x72f1c0=_0x595350[_0x1d66c1(0x153)],_0x5c4413=Math[_0x1d66c1(0xc6)](_0x72f1c0/limit),_0x3c1780=_0x595350[_0x1d66c1(0xaf)](_0x1b2a9f,_0x1b2a9f+limit);_0x2c4a5f[_0x1d66c1(0x7d)](0xc8)['json']({'data':_0x3c1780,'page':parseInt(''+page),'totalPages':_0x5c4413,'total':_0x72f1c0});}catch(_0x4db0a4){console[_0x1d66c1(0xd2)](_0x4db0a4),_0x2c4a5f['status'](0x1f4)['json']({'error':_0x1d66c1(0xab)});}}),router[a26_0xf203b8(0xa6)]('/conversion/clean',async(_0x35a9c2,_0x58820d)=>{const _0x14dec0=a26_0xf203b8,_0x6089ab=_0x14dec0(0x182);try{fs[_0x14dec0(0x1d1)](_0x6089ab,JSON['stringify']([],null,0x4)),_0x58820d[_0x14dec0(0x7d)](0xc8)[_0x14dec0(0x1d2)]({'message':_0x14dec0(0x13f)});}catch(_0x18fab3){console[_0x14dec0(0xd2)](_0x18fab3),_0x58820d['status'](0x1f4)['json']({'error':_0x14dec0(0xab)});}}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x1b1),async(_0x5467e8,_0x41faff)=>{const _0x3e49cd=a26_0xf203b8,_0x16052f=getHotConfig()[_0x3e49cd(0x105)]['replaceAll']('//','/'),{page:page=0x1,limit:limit=0xa}=_0x5467e8['query'],_0x53f97a=(page-0x1)*limit;try{const _0xb27d2e=_0x16052f+_0x3e49cd(0x18f);console[_0x3e49cd(0xd2)](_0xb27d2e);const _0x2b0ed7=fs['readFileSync'](_0xb27d2e,'utf8'),_0x49fa74=_0x2b0ed7['split']('\x0a'),_0x40a226=[];_0x49fa74[_0x3e49cd(0x1e0)](_0x3e1c9d=>{const _0x556271=_0x3e49cd,_0x4ca79a=_0x3e1c9d[_0x556271(0x104)](',');if(_0x4ca79a[_0x556271(0x153)]<0x4)return;const _0x36f2a6=_0x4ca79a[0x0],_0x1ef183=_0x4ca79a[0x1],_0x5ce441=parseFloat(_0x4ca79a[0x2]);_0x40a226[_0x556271(0x170)]({'file':_0x36f2a6[_0x556271(0x86)]('\x22',''),'action':_0x1ef183,'timeSpend':_0x5ce441,'memoryUsage':_0x4ca79a[0x3]});});const _0x248067=_0x40a226['length'],_0x521e46=Math['ceil'](_0x248067/limit),_0x2fdb06=_0x40a226[_0x3e49cd(0xaf)](_0x53f97a,_0x53f97a+limit);_0x41faff[_0x3e49cd(0x7d)](0xc8)['json']({'data':_0x2fdb06,'page':parseInt(''+page),'totalPages':_0x521e46,'total':_0x248067});}catch(_0x3c7713){console['log'](_0x3c7713),_0x41faff['status'](0x1f4)[_0x3e49cd(0x1d2)]({'error':_0x3e49cd(0xab)});}}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x81),async(_0x52c46c,_0x3e0db1)=>{const _0x1fc053=a26_0xf203b8,_0x188cd5=path[_0x1fc053(0x1da)](path['dirname'](require[_0x1fc053(0x180)][_0x1fc053(0x10a)]),_0x1fc053(0x178),_0x1fc053(0xc8));try{let _0x421b8d=0x0,_0x27b342=0x0;function _0x2e12d0(_0x56c668){const _0x17ef73=_0x1fc053;let _0xab80d0=0x0,_0x4b84a2=0x0;if(fs[_0x17ef73(0x156)](_0x56c668)){const _0x52b2d0=fs['readdirSync'](_0x56c668);_0x4b84a2=0x0;for(const _0x399f25 of _0x52b2d0){const _0x5848ea=path[_0x17ef73(0x1da)](_0x56c668,_0x399f25),_0xffdfd5=fs[_0x17ef73(0x112)](_0x5848ea);if(_0xffdfd5[_0x17ef73(0x83)]()&&_0x399f25!==_0x17ef73(0x146))_0x4b84a2++,_0xab80d0+=_0xffdfd5[_0x17ef73(0x97)];else{if(_0xffdfd5[_0x17ef73(0x1c6)]()){}}}}return{'size':_0xab80d0,'count':_0x4b84a2};}const _0x461c00=_0x2e12d0(_0x188cd5);_0x421b8d=_0x461c00['size'],_0x27b342=_0x461c00[_0x1fc053(0x123)],_0x3e0db1[_0x1fc053(0x1d2)]({'fileCount':_0x27b342,'totalSize':_0x421b8d});}catch(_0x25f481){console[_0x1fc053(0x1e7)](_0x1fc053(0x1e3),_0x25f481),_0x3e0db1['status'](0x1f4)[_0x1fc053(0x1d2)]({'error':_0x1fc053(0xe0)});}}),router[a26_0xf203b8(0xa6)](a26_0xf203b8(0xf1),async(_0x1f1114,_0x3d3235)=>{const _0x32563c=a26_0xf203b8,_0x417c90=path[_0x32563c(0x1da)](path[_0x32563c(0x1a8)](require[_0x32563c(0x180)]['filename']),_0x32563c(0x178),_0x32563c(0xc8));try{function _0x189ed5(_0x4486f5){const _0x3f8f67=_0x32563c;if(fs[_0x3f8f67(0x156)](_0x4486f5)){const _0x54c0e6=fs['readdirSync'](_0x4486f5);for(const _0x6bca81 of _0x54c0e6){const _0x32e454=path[_0x3f8f67(0x1da)](_0x4486f5,_0x6bca81),_0x47e72e=fs['statSync'](_0x32e454);if(_0x47e72e[_0x3f8f67(0x1c6)]()){}else _0x6bca81!==_0x3f8f67(0x146)&&fs[_0x3f8f67(0x84)](_0x32e454);}}}_0x189ed5(_0x417c90),_0x3d3235[_0x32563c(0x1d2)]({'message':_0x32563c(0x183)});}catch(_0x3f09b4){console[_0x32563c(0x1e7)](_0x32563c(0x1f6),_0x3f09b4),_0x3d3235['status'](0x1f4)[_0x32563c(0x1d2)]({'error':'Failed\x20to\x20flush\x20cache'});}}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x193),async(_0x1153b0,_0x48e020)=>{const _0x14dbeb=a26_0xf203b8;_0x48e020['sendFile'](path[_0x14dbeb(0x1da)](path[_0x14dbeb(0x1a8)](require[_0x14dbeb(0x180)][_0x14dbeb(0x10a)]),_0x14dbeb(0x1e9)));}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x1c2),protectedRoute,async(_0x4679bd,_0x435d41)=>{const _0x159aee=a26_0xf203b8,_0x48309d=fs[_0x159aee(0x13e)](path[_0x159aee(0x1da)](path[_0x159aee(0x1a8)](require[_0x159aee(0x180)]['filename']),_0x159aee(0x11a)),_0x159aee(0x201)),_0x29d01b=_0x48309d[_0x159aee(0x86)](_0x159aee(0x8a),_0x4679bd[_0x159aee(0x90)]);_0x435d41[_0x159aee(0xac)](_0x29d01b);}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x163),async(_0x1d09c9,_0xca8891)=>{const _0x2c3419=a26_0xf203b8,{page:page=0x1,limit:limit=0x10}=_0x1d09c9[_0x2c3419(0x1d4)],_0x2f2555=JSON[_0x2c3419(0x1f7)](fs[_0x2c3419(0x13e)](path[_0x2c3419(0x1da)](path[_0x2c3419(0x1a8)](require[_0x2c3419(0x180)][_0x2c3419(0x10a)]),_0x2c3419(0x20a)))),_0x57df6b=(page-0x1)*limit,_0x3ccdfc=page*limit,_0x609a18=_0x2f2555[_0x2c3419(0xc8)][_0x2c3419(0x153)],_0x26f4d2=Math[_0x2c3419(0xc6)](_0x609a18/limit),_0x31984e=_0x2f2555[_0x2c3419(0xc8)][_0x2c3419(0xaf)](_0x57df6b,_0x3ccdfc);_0xca8891[_0x2c3419(0x1d2)]({'files':_0x31984e,'pagination':{'total':_0x609a18,'totalPages':_0x26f4d2,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0xe5),async(_0x1546b0,_0x3b5bb6)=>{const _0x558df4=a26_0xf203b8,{file:_0x3d44b3}=_0x1546b0['params'],_0x55e427=path[_0x558df4(0x1da)](path[_0x558df4(0x1a8)](require[_0x558df4(0x180)][_0x558df4(0x10a)]),_0x558df4(0x178),_0x558df4(0xc8)),_0x35dd05=path['join'](_0x55e427,_0x3d44b3),_0x2d56ac=fs[_0x558df4(0x13e)](_0x35dd05,_0x558df4(0x201)),_0x18821f=_0x2d56ac[_0x558df4(0x104)]('\x0a'),_0x51514f=_0x18821f[_0x558df4(0xec)](_0x26423c=>{const _0x281655=_0x558df4,_0x34cfe8=_0x26423c['split'](',');return _0x34cfe8['map'](_0x1ef906=>_0x1ef906[_0x281655(0x86)]('\x22',''));});_0x3b5bb6['json'](_0x51514f);}),router[a26_0xf203b8(0x1a9)](a26_0xf203b8(0x203),async(_0x3596f2,_0x3c27b2)=>{const _0x8c8c59=a26_0xf203b8,{id:_0x5a0b93}=_0x3596f2[_0x8c8c59(0xcf)],_0x59cdf7=path[_0x8c8c59(0x1da)](path[_0x8c8c59(0x1a8)](require[_0x8c8c59(0x180)][_0x8c8c59(0x10a)]),_0x8c8c59(0x178),_0x8c8c59(0xc8)),_0x308646=path[_0x8c8c59(0x1da)](_0x59cdf7,_0x5a0b93);if(_0x308646[_0x8c8c59(0x161)](_0x8c8c59(0x113))){var _0x3c61e3=require(_0x8c8c59(0x157));const _0x53915c=fs['readFileSync'](_0x308646),_0x34146e=_0x3c61e3[_0x8c8c59(0x15e)](_0x53915c);_0x3c27b2[_0x8c8c59(0x103)]('Content-Type','image/svg+xml'),_0x3c27b2[_0x8c8c59(0xac)](_0x34146e);}else _0x3c27b2[_0x8c8c59(0x119)](_0x308646);}),router['delete'](a26_0xf203b8(0x203),async(_0x4ab938,_0x529a1b)=>{const _0x3c0dc5=a26_0xf203b8,{id:_0x3d3be8}=_0x4ab938[_0x3c0dc5(0xcf)],_0x4f9e09=path[_0x3c0dc5(0x1da)](path[_0x3c0dc5(0x1a8)](require[_0x3c0dc5(0x180)][_0x3c0dc5(0x10a)]),_0x3c0dc5(0x178),_0x3c0dc5(0xc8)),_0x165d6a=JSON[_0x3c0dc5(0x1f7)](fs['readFileSync'](path['join'](path[_0x3c0dc5(0x1a8)](require[_0x3c0dc5(0x180)][_0x3c0dc5(0x10a)]),'cadviewer/settings/converter-files-analysis.json'))),_0x40e6ac=_0x165d6a[_0x3c0dc5(0xc8)]['find'](_0x2e7507=>_0x2e7507[_0x3c0dc5(0xf0)]===_0x3d3be8);if(_0x40e6ac){try{fs[_0x3c0dc5(0x156)](path[_0x3c0dc5(0x1da)](_0x4f9e09,_0x40e6ac[_0x3c0dc5(0xf0)]))&&fs[_0x3c0dc5(0x84)](path[_0x3c0dc5(0x1da)](_0x4f9e09,_0x40e6ac[_0x3c0dc5(0xf0)]));}catch(_0x40edcd){console[_0x3c0dc5(0xd2)]({'e':_0x40edcd});}(_0x40e6ac[_0x3c0dc5(0x10b)]??[])[_0x3c0dc5(0x1e0)](_0x169c54=>{const _0x4c5b7e=_0x3c0dc5;try{fs[_0x4c5b7e(0x156)](path[_0x4c5b7e(0x1da)](_0x4f9e09,_0x169c54['id']))&&fs[_0x4c5b7e(0x84)](path[_0x4c5b7e(0x1da)](_0x4f9e09,_0x169c54['id']));}catch(_0x18e19b){console[_0x4c5b7e(0xd2)]({'e':_0x18e19b});}});}analyzeConverterFiles(),_0x529a1b[_0x3c0dc5(0x1d2)]({'message':'File\x20deleted\x20successfully'});});const deleteOldDemoUsers=async()=>{const _0x46dc9a=a26_0xf203b8;console[_0x46dc9a(0xd2)](_0x46dc9a(0x1ca));const _0x50c165=config[_0x46dc9a(0x120)],_0x53cc68=_0x46dc9a(0xa1);try{const [_0x48066e]=await conn[_0x46dc9a(0x1fe)]()['execute'](_0x53cc68,[_0x50c165]),_0x3a5f38=_0x48066e[_0x46dc9a(0xec)](_0x20ad06=>_0x20ad06[_0x46dc9a(0x196)]),_0x1d3b48=_0x48066e['map'](_0x4dfdc5=>_0x4dfdc5[_0x46dc9a(0x11b)]);console[_0x46dc9a(0xd2)](_0x1d3b48),await conn[_0x46dc9a(0x1fe)]()[_0x46dc9a(0xdc)](_0x46dc9a(0x106),[_0x50c165]),_0x3a5f38['forEach'](_0x2f1895=>{const _0x256b80=_0x46dc9a;try{const _0x1bf870=_0x256b80(0x167)+_0x2f1895;fs[_0x256b80(0xed)](_0x1bf870);}catch(_0x5a9966){console[_0x256b80(0x1e7)](_0x256b80(0x187),_0x5a9966);}}),console[_0x46dc9a(0xd2)](_0x46dc9a(0x1de)+_0x48066e['length']+_0x46dc9a(0x124)+_0x50c165+_0x46dc9a(0x1f3));}catch(_0x4d38c6){console[_0x46dc9a(0x1e7)]('Error\x20deleting\x20old\x20demo_user\x20accounts:',_0x4d38c6);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x53c6a8=a26_0xf203b8,_0x191ebe=require(_0x53c6a8(0xae))[_0x53c6a8(0xd7)];try{const [_0x2eafb9]=await conn[_0x53c6a8(0x1fe)]()['execute']('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[config['demoUserRetentionDays']-config[_0x53c6a8(0x115)]]);if(_0x2eafb9[_0x53c6a8(0x153)]===0x0){console['log'](_0x53c6a8(0xf3));return;}for(const _0x1b0f4c of _0x2eafb9){let _0x4d0b35='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20'+(_0x1b0f4c[_0x53c6a8(0x1a0)]||_0x1b0f4c[_0x53c6a8(0x174)])+_0x53c6a8(0x1d7);const _0x3a3c61={'from':config['smtpFrom'],'to':_0x1b0f4c['email'],'subject':_0x53c6a8(0x185),'text':'Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','html':_0x4d0b35};try{await _0x191ebe[_0x53c6a8(0x1f0)](_0x3a3c61),console['log'](_0x53c6a8(0x189)+_0x1b0f4c[_0x53c6a8(0x11b)]);}catch(_0x19030e){console[_0x53c6a8(0xd2)]('===================error==================='),console['log'](_0x53c6a8(0x18a)+_0x1b0f4c['email']),console[_0x53c6a8(0xd2)](_0x19030e);}}}catch(_0x593dd5){console[_0x53c6a8(0xd2)]('===================error==================='),console[_0x53c6a8(0xd2)](_0x53c6a8(0x88)),console[_0x53c6a8(0xd2)](_0x593dd5);}};function a26_0x3b8a(){const _0x1a8077=['write','uptime','folderLocation','/users','globalBearerAutenticationToken','.pdf','SVGZ','node-schedule','cadviewer/settings/config.html','.log\x22','green','fileName','cadviewer/settings/rest-api.html','callbackMethod_gatewayUrl','ServerLocation','vmstats','bcrypt','now','globalBearerAutentication','splity','readFileSync','Monitoring\x20file\x20cleaned.','Config\x20updated\x20successfully','dwgFile','has','call-Api_Conversion_','/config/content','Error\x20deleting\x20file.','.gitkeep','DwgMerge\x20Settings','file','single','mode','put','toString','https','totalGB','/logs/content','application/octet-stream','.png','RL/TL\x20Processing','length','File\x20deleted.','/folders','existsSync','zlib','Error\x20saving\x20parameters.','getStats','/restapi-test/parameters/save','/config/global-update','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','\x20\x20\x20','gunzipSync','cadviewer/settings/folders.html','Counter\x20reset\x20successfully','endsWith','post','/cache/files','gray','.dwg','X_OK','./uploads/','message','access','type','9vHBCpz','.svg','number','sub_dirs','conversionMemoryUsage','push','tmp','set','/config/update','username','toUpperCase','linux','/logs','converters','scheduleJob','usedGb','cadviewer/settings/vanilla-toast.js','W_OK','SELECT\x20*\x20FROM\x20users','autoxchange_executable_windows','mysqlPassword','main','/tailwind.js','cadviewer/settings/requests-callapiconversion-monitoring.json','Cache\x20flushed\x20successfully','../libs/mysql.js','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','csvFile','Error\x20deleting\x20user\x20folder:','readFile','Deletion\x20prevention\x20email\x20sent\x20to\x20','Failed\x20to\x20send\x20email\x20to\x20','/folders/update','setup_mysqlHost','Permission\x20750\x20for\x20the\x20\x22','/users/list','memorydata.csv','getDate','standard','usedMemPercentage','/cache-stats.js','crypto','svgz','folder_name','Error\x20creating\x20folder.','demo_user','/doctor/check','Config\x20updated.','/converters/autoxchange/linux/','Le\x20dossier\x20','/converters/files/','radio|','15746464KYxyMX','first_name','then','`crypted_password`\x20=\x20?,\x20','some','cvjs_svgz_compress','cadviewer/settings/rest-api-parameters.json','mimetype','svg','dirname','get','linklist_executable_windows','15fSthcg','user','48070484nbVdwk','75825UepoXg','.log','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','/conversion/memorydata','callbackMethod','whoami','Error\x20getting\x20process\x20info','SVG','\x20n\x27existe\x20pas.','model','cadviewer/settings/logs.html','mysqlDatabase','purple','Read\x20and\x20write\x20permission\x20for\x20folder\x20','Files\x20uploaded\x20successfully','File\x20renamed.','fileLocationUrl','/users/:userId','rmdir','constants','/cache','cached_conversion','keys','.json','isDirectory','Display\x20of\x20DWG','usedGB','folderName','Deleting\x20old\x20demo_user\x20accounts...','dir','callbackMethod_gatewayUrl_flag','4EIDJdd','Router','getHotConfig','/restapi-test/parameters/search','writeFileSync','json','DWG\x20to\x20PDF\x20Conversion','query','AutoXchange\x20Settings','proc',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','drive','boolean','join','Callback\x20and\x20Authentication\x20Settings','oos','169944ctAKav','Old\x20demo_user\x20accounts\x20(','windows','forEach','7YmMLdp','pdf','Error\x20getting\x20cache\x20stats:','isFolder','/vanilla-toast.js','birthtime','error','hostname','cadviewer/settings/cache-stats.js','formatedSize','cadviewer/settings/users.html','info','User\x20directory\x20flushed\x20successfully','../libs/counter.js','percentage','sendMail','/icons.js','yellow','\x20days\x20have\x20been\x20deleted.','/restapi-test','Error\x20downloading\x20file.','Error\x20flushing\x20cache:','parse','/folders/delete','CADViewer\x20Settings','originalname','Parameters\x20saved.','CADViewer_config.json','fileLocation','promise','conversionTimeSpend','fileLoad_UserName','utf8','/doctor','/cache/files/:id','Error\x20updating\x20config','cadviewer/settings/chart.min.js','DWG\x20to\x20SVG\x20Conversion','No\x20files\x20uploaded','osCmd','toLocaleLowerCase','cadviewer/settings/converter-files-analysis.json','/folders/upload','/converters/files/merged/','body','939174GMfBWN','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','/licences','atime','xpathLocation','\x20KB','/chart.min.js','ServerUrl','PDF','action','array','win32','0\x200\x20*\x20*\x20*','fileLoad_PasswordAuthentication','mysqlHost','status','./tmp','dwgmerge_executable_windows','usage','/cache/stats','logs','isFile','unlinkSync','filter','replaceAll','Error\x20getting\x20memory\x20info','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','padStart','{version}','resolve','autoxchange_executable_linux','Invalid\x20user','/config','all','version','admin','path','mysqlUsername','isArray','platform','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','size','replace','Server\x20Settings','totalProcesses','from','total','attachment;\x20filename=\x22','User\x20deleted\x20successfully','express','lastIndexOf','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','7812390VQMGiG','rmSync','linklist_executable','usedMemMb','delete','/folders/create','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Cache\x20conversion','Error!\x20Something\x20went\x20wrong.','send','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','../libs/mail','slice','role','\x22\x20executable','settingsPasswordBasicAuth','autodetect_platform','readdirSync','User\x20updated\x20successfully','arch','Content-Disposition','ctime','getMonth','Folder\x20renamed.','createdAt','File\x20not\x20found','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','copyFileSync','trim','ServerPort','LinkList\x20Settings','red','used','getFullYear','catch','ceil','download','files','usedPercentage','DWG','totalMemMb','autoxchange_executable','toFixed','.csv','params','cadviewer/settings/style.css','reset','log','avatars/','dwgmergeLocation','express-basic-auth','=============================>','transporter','../libs/log','pop','User\x20created\x20successfully','linklist_executable_linux','execute','fontLocation','child_process','/metrics/reset','Failed\x20to\x20get\x20cache\x20stats','userId','dwgmerge_executable','Folder\x20already\x20exists.','blocks','/cache/csv/:file','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20terminée.\x20Résultats\x20enregistrés\x20dans\x20','writeFile','test','includes','cadviewer/settings/icons.js','stringify','map','rmdirSync','exports','who','name','/cache/flush','converterpathLin','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','Log\x20file\x20cleaned.','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','reduce','fileLoad_Password','cadviewer','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','cachedfiles','Folder\x20deleted.','DWG\x20file\x20in\x20multiple\x20files','dwgmerge_executable_linux','/folders/download','hlall','sort','JSON','Folder\x20not\x20found','setHeader','split','converterLocation','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','File\x20or\x20Folder\x20not\x20found','converter-files-analysis.json','CSV','filename','availableFormats','.rl.json','cadviewer/settings/tailwind.js','blue','No\x20config\x20object\x20provided','Folder\x20not\x20found.','cadviewer/settings/vanilla-toast.css','statSync','.svgz','.dwg.json','demoUserRetentionDaysAlertBeforeDeletion','17364290godkmh','\x20GB','/conversion/list','sendFile','cadviewer/settings/conversion-cache.html','email','cpu','entries','/users/flush-dir','/converters/files/pdf/','demoUserRetentionDays','../libs/config','Error\x20finding\x20log\x20files:','count',')\x20older\x20than\x20','mkdirSync','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','JSON\x20Data\x20Extraction','linklistLocation','radio|windows,linux'];a26_0x3b8a=function(){return _0x1a8077;};return a26_0x3b8a();}function a26_0xb7e2(_0x366617,_0x370e99){const _0x3b8a79=a26_0x3b8a();return a26_0xb7e2=function(_0xb7e2bd,_0xcbd9ae){_0xb7e2bd=_0xb7e2bd-0x75;let _0x35127c=_0x3b8a79[_0xb7e2bd];return _0x35127c;},a26_0xb7e2(_0x366617,_0x370e99);}schedule[a26_0xf203b8(0x179)]('0\x201\x20*\x20*\x20*',deleteOldDemoUsers),schedule[a26_0xf203b8(0x179)](a26_0xf203b8(0x7a),sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x37c61c=a26_0xf203b8;try{const _0x666dd1=path[_0x37c61c(0x1da)](path[_0x37c61c(0x1a8)](require[_0x37c61c(0x180)][_0x37c61c(0x10a)]),_0x37c61c(0x178),'files'),_0x2d5988=path['join'](path[_0x37c61c(0x1a8)](require['main']['filename']),_0x37c61c(0xf8),'settings');if(!fs['existsSync'](_0x666dd1)){logStream[_0x37c61c(0x12a)](_0x37c61c(0x19c)+_0x666dd1+_0x37c61c(0x1b6));return;}if(!fs[_0x37c61c(0x156)](_0x2d5988)){logStream['write'](_0x37c61c(0x19c)+_0x2d5988+_0x37c61c(0x1b6));return;}const _0x201127=fs[_0x37c61c(0xb4)](_0x666dd1),_0xdfb01e=new Map();_0x201127[_0x37c61c(0x1e0)](_0xc2ce0c=>{const _0x318578=_0x37c61c,_0x1c02da=path[_0x318578(0x1da)](_0x666dd1,_0xc2ce0c),_0x4131f0=fs[_0x318578(0x112)](_0x1c02da);_0xdfb01e[_0x318578(0x172)](_0xc2ce0c,_0x4131f0);});const _0x27870e=[],_0x26e459=Array[_0x37c61c(0x9b)](_0xdfb01e[_0x37c61c(0x11d)]())[_0x37c61c(0xec)](([_0x3bf68e,_0x47e521])=>{const _0x3cfba8=_0x37c61c;if(_0x47e521['isDirectory']())return undefined;let _0x1914bd=undefined,_0x37652e=undefined;(_0x3bf68e['endsWith']('.svg')||_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0x113)))&&_0xdfb01e[_0x3cfba8(0x142)](_0x3bf68e[_0x3cfba8(0x98)](_0x3cfba8(0x113),'.csv')[_0x3cfba8(0x98)](_0x3cfba8(0x16c),_0x3cfba8(0xce)))&&(_0x1914bd=_0x3bf68e[_0x3cfba8(0x98)](_0x3cfba8(0x113),_0x3cfba8(0xce))['replace'](_0x3cfba8(0x16c),_0x3cfba8(0xce)));_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0x1c5))&&_0xdfb01e[_0x3cfba8(0x142)](_0x3bf68e['replace'](_0x3cfba8(0x1c5),_0x3cfba8(0x165)))&&(_0x37652e=_0x3bf68e[_0x3cfba8(0x98)](_0x3cfba8(0x1c5),_0x3cfba8(0x165)));const _0x432d02=_0x504642=>{const _0x3bd9be=_0x3cfba8;if(_0x504642['endsWith']('.rl.json'))return _0x504642[_0x3bd9be(0xaf)](0x0,-0x8);else{if(_0x504642[_0x3bd9be(0x161)](_0x3bd9be(0x114))){const _0x51dc9f=fs[_0x3bd9be(0x13e)](path['join'](_0x666dd1,_0x504642),_0x3bd9be(0x201));return JSON[_0x3bd9be(0x1f7)](_0x51dc9f)[_0x3bd9be(0xfa)][_0x3bd9be(0xec)](_0x39f227=>_0x39f227[_0x3bd9be(0x135)]);}}return _0x504642[_0x3bd9be(0xaf)](0x0,_0x504642[_0x3bd9be(0xa0)]('.'));},_0x1eadc2=_0x432d02(_0x3bf68e),_0xf1406d=Array['from'](_0xdfb01e['keys']())[_0x3cfba8(0x85)](_0x2560f0=>{const _0x44de48=_0x3cfba8;return Array[_0x44de48(0x94)](_0x1eadc2)?_0x1eadc2['some'](_0xf68e9d=>_0x432d02(_0x2560f0)===_0xf68e9d&&_0x2560f0!==_0x3bf68e):_0x432d02(_0x2560f0)===_0x1eadc2&&_0x2560f0!==_0x3bf68e;});if(Array[_0x3cfba8(0x94)](_0x1eadc2)){if(_0x1eadc2['some'](_0x59b360=>_0x27870e[_0x3cfba8(0xe9)](_0x59b360)))return;}else{if(_0x27870e[_0x3cfba8(0xe9)](_0x1eadc2))return;}Array[_0x3cfba8(0x94)](_0x1eadc2)?_0x1eadc2['forEach'](_0x43d027=>{const _0xda74ea=_0x3cfba8;_0x27870e[_0xda74ea(0x170)](_0x43d027);}):_0x27870e[_0x3cfba8(0x170)](_0x1eadc2);const _0x4b6f5e=[{'id':_0x3bf68e,'name':_0x3bf68e[_0x3cfba8(0x161)]('.svg')?_0x3cfba8(0x1b5):_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0x113))?_0x3cfba8(0x130):_0x3bf68e[_0x3cfba8(0x161)]('.pdf')?_0x3cfba8(0x76):_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0x1c5))?_0x3cfba8(0x101):_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0xce))?'CSV':_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0x165))?_0x3cfba8(0xca):_0x3bf68e[_0x3cfba8(0x104)]('.')['pop']()[_0x3cfba8(0x175)](),'color':_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0x16c))||_0x3bf68e[_0x3cfba8(0x161)]('.svgz')?_0x3cfba8(0x1f2):_0x3bf68e[_0x3cfba8(0x161)](_0x3cfba8(0x12f))?'red':_0x3bf68e['endsWith']('.json')?_0x3cfba8(0x164):_0x3bf68e['endsWith'](_0x3cfba8(0xce))?'green':_0x3bf68e[_0x3cfba8(0x161)]('.dwg')?'blue':_0x3cfba8(0x1ba)},..._0xf1406d[_0x3cfba8(0xec)](_0x2dacc8=>({'id':_0x2dacc8,'name':_0x2dacc8[_0x3cfba8(0x161)]('.svg')?'SVG':_0x2dacc8[_0x3cfba8(0x161)](_0x3cfba8(0x113))?'SVGZ':_0x2dacc8['endsWith'](_0x3cfba8(0x12f))?_0x3cfba8(0x76):_0x2dacc8[_0x3cfba8(0x161)](_0x3cfba8(0x1c5))?_0x3cfba8(0x101):_0x2dacc8[_0x3cfba8(0x161)](_0x3cfba8(0xce))?_0x3cfba8(0x109):_0x2dacc8[_0x3cfba8(0x161)]('.dwg')?_0x3cfba8(0xca):_0x2dacc8[_0x3cfba8(0x104)]('.')[_0x3cfba8(0xd9)]()[_0x3cfba8(0x175)](),'color':_0x2dacc8['endsWith'](_0x3cfba8(0x16c))||_0x2dacc8[_0x3cfba8(0x161)]('.svgz')?'yellow':_0x2dacc8['endsWith'](_0x3cfba8(0x12f))?_0x3cfba8(0xc2):_0x2dacc8[_0x3cfba8(0x161)](_0x3cfba8(0x1c5))?_0x3cfba8(0x164):_0x2dacc8[_0x3cfba8(0x161)](_0x3cfba8(0xce))?_0x3cfba8(0x134):_0x2dacc8[_0x3cfba8(0x161)]('.dwg')?_0x3cfba8(0x10e):_0x3cfba8(0x1ba)}))];let _0xaf915f='';if(_0x4b6f5e['some'](_0x5773af=>_0x5773af['id'][_0x3cfba8(0xe9)](_0x3cfba8(0x10c))))_0xaf915f=_0x3cfba8(0x152);else{if(_0x4b6f5e['some'](_0x3ee83b=>[_0x3cfba8(0x1a7),_0x3cfba8(0x195)][_0x3cfba8(0xe9)](_0x3ee83b['id']['split']('.')['pop']()))&&_0x1914bd)_0xaf915f='DWG\x20to\x20SVG\x20Conversion';else{if(_0x4b6f5e[_0x3cfba8(0x1a3)](_0xa2ba5a=>[_0x3cfba8(0x1a7),'svgz'][_0x3cfba8(0xe9)](_0xa2ba5a['id'][_0x3cfba8(0x104)]('.')['pop']())))_0xaf915f=_0x3cfba8(0x1c7);else{if(_0x4b6f5e[_0x3cfba8(0x1a3)](_0x4baf94=>[_0x3cfba8(0x1d2)]['includes'](_0x4baf94['id'][_0x3cfba8(0x104)]('.')[_0x3cfba8(0xd9)]()))&&_0x37652e)_0xaf915f=_0x3cfba8(0x127);else{if(_0x4b6f5e[_0x3cfba8(0x1a3)](_0x167202=>['pdf']['includes'](_0x167202['id'][_0x3cfba8(0x104)]('.')[_0x3cfba8(0xd9)]())))_0xaf915f=_0x3cfba8(0x1d3);else{if(_0x4b6f5e['some'](_0x382d49=>[_0x3cfba8(0x1d2)][_0x3cfba8(0xe9)](_0x382d49['id'][_0x3cfba8(0x104)]('.')['pop']()))&&!_0x37652e)_0xaf915f=_0x3cfba8(0xfc);else _0x4b6f5e['some'](_0x4581aa=>[_0x3cfba8(0x1d2)][_0x3cfba8(0xe9)](_0x4581aa['id'][_0x3cfba8(0x104)]('.')['pop']()))&&(_0xaf915f=_0x3cfba8(0xaa));}}}}}return{'name':_0x3bf68e,'size':_0x47e521[_0x3cfba8(0x97)],'createdAt':_0x47e521[_0x3cfba8(0x1e6)],'updatedAt':_0x47e521[_0x3cfba8(0xb8)],'readAt':_0x47e521[_0x3cfba8(0x211)],'action':_0xaf915f,'csvFile':_0x1914bd,'dwgFile':_0x37652e,'availableFormats':_0x4b6f5e};})['filter'](_0xe1c03f=>_0xe1c03f!==undefined);_0x26e459[_0x37c61c(0x100)]((_0x5e9f61,_0x1c3431)=>_0x1c3431[_0x37c61c(0xbb)]-_0x5e9f61[_0x37c61c(0xbb)]);const _0x170cd7={'timestamp':new Date(),'totalFiles':_0x26e459[_0x37c61c(0x153)],'filesByType':{'svg':_0x26e459[_0x37c61c(0x85)](_0x10e2b7=>_0x10e2b7[_0x37c61c(0xf0)][_0x37c61c(0x161)](_0x37c61c(0x16c)))[_0x37c61c(0x153)],'svgz':_0x26e459[_0x37c61c(0x85)](_0x284aa6=>_0x284aa6[_0x37c61c(0xf0)][_0x37c61c(0x161)](_0x37c61c(0x113)))[_0x37c61c(0x153)],'pdf':_0x26e459[_0x37c61c(0x85)](_0x179d7c=>_0x179d7c[_0x37c61c(0xf0)][_0x37c61c(0x161)](_0x37c61c(0x12f)))[_0x37c61c(0x153)],'json':_0x26e459['filter'](_0x19f36e=>_0x19f36e[_0x37c61c(0xf0)][_0x37c61c(0x161)]('.json'))[_0x37c61c(0x153)],'csv':_0x26e459[_0x37c61c(0x85)](_0x1723dc=>_0x1723dc[_0x37c61c(0x186)])[_0x37c61c(0x153)],'dwg':_0x26e459['filter'](_0x202ea5=>_0x202ea5[_0x37c61c(0x141)])[_0x37c61c(0x153)]},'filesByAction':{'dwgToSvg':_0x26e459[_0x37c61c(0x85)](_0x5356e7=>_0x5356e7[_0x37c61c(0x77)]===_0x37c61c(0x206))[_0x37c61c(0x153)],'displayDwg':_0x26e459[_0x37c61c(0x85)](_0x206e42=>_0x206e42[_0x37c61c(0x77)]===_0x37c61c(0x1c7))[_0x37c61c(0x153)],'jsonExtraction':_0x26e459[_0x37c61c(0x85)](_0x43a0e7=>_0x43a0e7[_0x37c61c(0x77)]===_0x37c61c(0x127))['length'],'dwgToPdf':_0x26e459[_0x37c61c(0x85)](_0x541986=>_0x541986[_0x37c61c(0x77)]===_0x37c61c(0x1d3))[_0x37c61c(0x153)],'splitFiles':_0x26e459[_0x37c61c(0x85)](_0x1654fd=>_0x1654fd[_0x37c61c(0x77)]===_0x37c61c(0xfc))[_0x37c61c(0x153)],'rlProcessing':_0x26e459[_0x37c61c(0x85)](_0xf5c59b=>_0xf5c59b[_0x37c61c(0x77)]==='RL/TL\x20Processing')[_0x37c61c(0x153)],'cacheConversion':_0x26e459[_0x37c61c(0x85)](_0x2f520b=>_0x2f520b[_0x37c61c(0x77)]===_0x37c61c(0xaa))['length']},'files':_0x26e459},_0x2bee2=path[_0x37c61c(0x1da)](_0x2d5988,_0x37c61c(0x108));fs[_0x37c61c(0x1d1)](_0x2bee2,JSON[_0x37c61c(0xeb)](_0x170cd7,null,0x2)),logStream[_0x37c61c(0x12a)](_0x37c61c(0xe6)+_0x2bee2);}catch(_0x27546a){logStream[_0x37c61c(0x12a)](_0x37c61c(0xa8)+_0x27546a[_0x37c61c(0x168)]);}},scheduleFileAnalysis=()=>{const _0xe5c69=a26_0xf203b8;analyzeConverterFiles(),schedule[_0xe5c69(0x179)]('*\x20*\x20*\x20*\x20*',analyzeConverterFiles),logStream[_0xe5c69(0x12a)]('Analyse\x20périodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifiée\x20(toutes\x20les\x20heures)');};scheduleFileAnalysis(),module[a26_0xf203b8(0xee)]=router;