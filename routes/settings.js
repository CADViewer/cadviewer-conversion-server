function a27_0x1192(){const _0x599cd4=['/icons.js','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','mysqlPassword','5370KkkOrg','hash','1296828TWFJuP','Cache\x20directory\x20','settings','map','callbackMethod_gatewayUrl_flag','Error\x20getting\x20os\x20info','/converters/autoxchange/linux/','tmp','some','5YjbXwB','delete','Config\x20updated.','logs','5184JMSphz','./tmp','zombieProcesses','unlinkSync','/content/redlines/v7/','67810IgXzuc','forEach','atime','filter','who','readFileSync','folder_name','`crypted_password`\x20=\x20?,\x20','ServerUrl','cadviewer/settings/folders.html','fileName','autoxchange_executable_linux','rmdir','image/svg+xml','DWG\x20to\x20SVG\x20Conversion','first_name','File\x20not\x20found','gunzipSync','ServerLocation','Display\x20of\x20DWG','get','Error\x20finding\x20log\x20files:','LinkList\x20Settings','DWG\x20to\x20PDF\x20Conversion','userId','Failed\x20to\x20get\x20cache\x20stats','DWG\x20file\x20in\x20multiple\x20files','/users-export/download/:fileName','ceil','getMonth','autoxchange_executable_windows','xpathLocation','fontLocation','/users-export/history','isFolder','files','single','info','standard','mimetype','usedMemMb','padStart','RL/TL\x20Processing','keys','writeFile','toUpperCase','/cache-stats.js','windows','darwin','User\x20updated\x20successfully','Content-Type','diskStorage','getHotConfig','pdf','Error\x20reading\x20monitoring\x20file','cadviewer/settings/rest-api.html','mkdir','../libs/counter.js','Mail\x20Server\x20Settings','cached_conversion','name','cadviewer/settings/requests-callapiconversion-monitoring.json','usedMemPercentage','Exporting\x20new\x20users\x20for\x20Google\x20Ads...','/converters/files/merged/','updatedAt','radio|monthly,biweekly','number','application/octet-stream','.dwg.json','conversionTimeSpend','Router','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','role','extname','message','totalMemMb','Folder\x20not\x20found.','dwg','Error\x20getting\x20cache\x20stats:','body','cadviewer/settings/config.html','cvjs_svgz_compress','cadviewer/settings/rest-api-parameters.json','originalname','/conversion/clean','usedPercentage','endsWith','\x20days\x20have\x20been\x20deleted.','bcrypt','/folders/upload','Error\x20reading\x20last\x20export\x20info:','utf8','autodetect_location','\x20does\x20not\x20exist.','/doctor/check','drive','download','find','CADViewer\x20Settings','email','6532493nWUeVV','fileLocationUrl','.json','existsSync','Database\x20Settings','DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','ServerPort','getFullYear','../libs/log','/users','callbackMethod_gatewayUrl','licenseLocation','2049276SWoHzY','\x20n\x27existe\x20pas.','/export-users','/logs','4711NkLFQN','totalGB','Folder\x20created.','Export\x20file\x20not\x20found','isFile','proc','getStats','svgz','cadviewer/settings/users-export.html','statSync','Error\x20getting\x20total\x20users','\x20MB','0\x20*\x20*\x20*\x20*','usage','.dwg','/config/content','0\x2023\x20*\x20*\x20*','Failed\x20to\x20retrieve\x20export\x20history','Error\x20deleting\x20user\x20folder:','resolve','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20email,\x20first_name,\x20last_name,\x20created_at\x20\x0a\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20\x0a\x20\x20\x20\x20\x20\x20AND\x20created_at\x20>\x20?\x20\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x20DESC\x0a\x20\x20\x20\x20','User\x20deleted\x20successfully','log','/cache/files/:id','.log\x22','birthtime','oos','576618zNvwOg','multer','SELECT\x20*\x20FROM\x20users','Folder\x20not\x20found','fileLoad_UserName','PDF','X_OK','version','replace','setHeader','Folder\x20deleted.','`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','radio|windows,linux','fileLocation','splity','users-export-','Permission\x20750\x20for\x20the\x20\x22','percentage','====================','scheduleJob','/cache/stats','purple','hostname','renameSync','vmstats','/users-export/trigger','totalGb','Failed\x20to\x20trigger\x20export','promise','No\x20new\x20users\x20to\x20export\x20for\x20Google\x20Ads','demo_user','globalBearerAutenticationToken','parse','0\x201\x20*\x20*\x20*','toFixed','cadviewer/settings/home.html','Users\x20export\x20triggered\x20successfully','rmdirSync','User\x20directory\x20flushed\x20successfully','./uploads/','converters','size','3368gBzwut','cadviewer/settings/users.html','/doctor','blocks','mkdirSync','../CADViewer_config.json','total','DWG','lastExportDate','mode','/licences','linux','length','folderLocation','dwgmerge_executable_windows','admin','https','/conversion/memorydata','Error\x20deleting\x20old\x20demo_user\x20accounts:','readdirSync','goodFileName','readFile','dwgmerge_executable','temp_print_folder','toISOString','.pdf','error','/folders/download','/folders/update','/logs/content','Monitoring\x20file\x20cleaned.','memorydata.csv','exports','conversionMemoryUsage','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','toString','user','main','attachment;\x20filename=\x22','boolean','mysqlUsername','mysqlHost','mysqlDatabase','cadviewer/settings/doctor.html','slice','linklist_executable_linux','last_name','/converters/files/pdf/','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','query','osCmd','CADViewer_config.json','freeGb','Counter\x20reset\x20successfully','folderName','UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,','post','cadviewer/settings/style.css','Log\x20file\x20cleaned.','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','Parameters\x20saved.','win32','availableFormats','*\x20*\x20*\x20*\x20*','express-basic-auth','/cache/files','\x20users\x20to\x20','{version}','Read\x20and\x20write\x20permission\x20for\x20folder\x20','radio|','Error\x20getting\x20process\x20info','usedGb','params','count','path','/tailwind.js','clean','access','File\x20deleted\x20successfully','fileLoad_PasswordAuthentication','autodetect_platform','/chart.min.js','Le\x20dossier\x20','setMonth','createdAt','Invalid\x20user','.png','json','test','SVG','Error\x20deleting\x20folder.','isDirectory','Cache\x20cleaned\x20for\x20files\x20in\x20','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Error\x20getting\x20Users\x20export\x20export\x20history:','dirname','toLocaleLowerCase','dwgmergeLocation','Error\x20deleting\x20file.','dir','globalBearerAutentication','split','SVGZ','/folders/delete','=============================>','.svg','yellow','Exported\x20','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','usedGB','used','0\x200\x20*\x20*\x20*','linklistLocation','biweekly','file','Demo\x20and\x20Base\x20User\x20Settings','blue','rmSync','put','Error!\x20Something\x20went\x20wrong.','setDate','crypto','.csv','sub_dirs','1dWCZqr','array','Deleting\x20old\x20demo_user\x20accounts...','dwgmerge_executable_linux','send','child_process','call-Api_Conversion_','Error\x20creating\x20folder.','push','catch','execute','W_OK','converterLocation','arch','includes','model','/folders','Error\x20deleting\x20file','filename','usersExportFrequency','Content-Disposition','uptime','sendFile','constants','getDate','/cache/csv/:file','linklist_executable','\x20KB','Cache\x20flushed\x20successfully','Folder\x20renamed.','cadviewer/settings/icons.js','.rl.json','\x22\x20executable','status','platform','monthly','copyFileSync','svg','fileLoad_Password','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','Config\x20updated\x20successfully','stringify','writeFileSync','formatedSize','Files\x20uploaded\x20successfully','/vanilla-toast.js','totalProcesses','/restapi-test','reduce','cadviewer/settings/cache-stats.js','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?','cachedfiles','write','linklist_executable_windows','Server\x20Settings','red','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','cadviewer/settings/vanilla-toast.js','pop','Error\x20saving\x20parameters.','type','avatars/','avatar','hlall','join','cadviewer/settings/chart.min.js','replaceAll','.log','cadviewer/settings/logs.html','all','whoami','cadviewer/settings/converter-files-analysis.json','autoxchange_executable','User\x20created\x20successfully','.gitkeep','.svgz','avatar_url'];a27_0x1192=function(){return _0x599cd4;};return a27_0x1192();}const a27_0x4c54a3=a27_0x2e13;(function(_0x510c4a,_0x1881cc){const _0x2f470f=a27_0x2e13,_0x288de6=_0x510c4a();while(!![]){try{const _0x38dd0d=-parseInt(_0x2f470f(0x155))/0x1*(parseInt(_0x2f470f(0x1b9))/0x2)+parseInt(_0x2f470f(0xae))/0x3+-parseInt(_0x2f470f(0x1a7))/0x4+parseInt(_0x2f470f(0x1b0))/0x5*(parseInt(_0x2f470f(0x8f))/0x6)+parseInt(_0x2f470f(0x93))/0x7*(-parseInt(_0x2f470f(0xd8))/0x8)+parseInt(_0x2f470f(0x1b4))/0x9*(-parseInt(_0x2f470f(0x1a5))/0xa)+parseInt(_0x2f470f(0x83))/0xb;if(_0x38dd0d===_0x1881cc)break;else _0x288de6['push'](_0x288de6['shift']());}catch(_0x719b18){_0x288de6['push'](_0x288de6['shift']());}}}(a27_0x1192,0x2b2da));const express=require('express'),router=express[a27_0x4c54a3(0x200)](),multer=require(a27_0x4c54a3(0xaf)),fs=require('fs'),path=require(a27_0x4c54a3(0x123)),getHotConfig=require('../libs/config')[a27_0x4c54a3(0x1ed)],{exec}=require(a27_0x4c54a3(0x15a)),os=require('os'),conn=require('../libs/mysql.js'),bcrypt=require(a27_0x4c54a3(0x212)),osu=require('node-os-utils'),schedule=require('node-schedule'),counter=require(a27_0x4c54a3(0x1f2)),{randomUUID}=require(a27_0x4c54a3(0x152)),logStream=require(a27_0x4c54a3(0x8b)),config=require(a27_0x4c54a3(0xdd)),basicAuth=require(a27_0x4c54a3(0x119)),{sendFollowUpEmails,sendAccountDeletionPreventionEmails}=require('../libs/email-utils'),protectedRoute=basicAuth({'users':{[config['settingsUserBasicAuth']]:config['settingsPasswordBasicAuth']},'challenge':!![],'realm':a27_0x4c54a3(0x81)});router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x124),async(_0x133d08,_0x4b7125)=>{const _0x511214=a27_0x4c54a3;_0x4b7125[_0x511214(0x16b)](path[_0x511214(0x195)](path['dirname'](require[_0x511214(0xfd)][_0x511214(0x167)]),'cadviewer/settings/tailwind.js'));}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x12a),async(_0x37ec0a,_0x3cdfba)=>{const _0x578dda=a27_0x4c54a3;_0x3cdfba[_0x578dda(0x16b)](path[_0x578dda(0x195)](path['dirname'](require[_0x578dda(0xfd)][_0x578dda(0x167)]),_0x578dda(0x196)));}),router[a27_0x4c54a3(0x1cd)]('/style.css',async(_0x395999,_0xa49706)=>{const _0x98dba6=a27_0x4c54a3;_0xa49706[_0x98dba6(0x16b)](path['join'](path[_0x98dba6(0x138)](require['main']['filename']),_0x98dba6(0x111)));}),router[a27_0x4c54a3(0x1cd)]('/vanilla-toast.css',async(_0x488188,_0x28719a)=>{const _0x380855=a27_0x4c54a3;_0x28719a[_0x380855(0x16b)](path['join'](path['dirname'](require['main'][_0x380855(0x167)]),'cadviewer/settings/vanilla-toast.css'));}),router['get'](a27_0x4c54a3(0x182),async(_0x335219,_0x58e0c0)=>{const _0xbfde69=a27_0x4c54a3;_0x58e0c0[_0xbfde69(0x16b)](path[_0xbfde69(0x195)](path['dirname'](require['main'][_0xbfde69(0x167)]),_0xbfde69(0x18e)));}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x1a2),async(_0x207235,_0x310533)=>{const _0x2f61f5=a27_0x4c54a3;_0x310533[_0x2f61f5(0x16b)](path[_0x2f61f5(0x195)](path[_0x2f61f5(0x138)](require['main'][_0x2f61f5(0x167)]),_0x2f61f5(0x173)));}),router[a27_0x4c54a3(0x1cd)]('/',protectedRoute,async(_0x2dc021,_0x2f63b8)=>{const _0x38f9e2=a27_0x4c54a3,_0x1c4b42=fs[_0x38f9e2(0x1be)](path[_0x38f9e2(0x195)](path[_0x38f9e2(0x138)](require['main'][_0x38f9e2(0x167)]),_0x38f9e2(0xd1)),_0x38f9e2(0x215)),_0x1fdc54=_0x1c4b42['replaceAll'](_0x38f9e2(0x11c),_0x2dc021[_0x38f9e2(0xb5)]);_0x2f63b8['send'](_0x1fdc54);}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0xe2),protectedRoute,async(_0x267f69,_0xf9b059)=>{const _0x103fe2=a27_0x4c54a3,_0x337a0d=fs['readFileSync'](path[_0x103fe2(0x195)](path['dirname'](require['main'][_0x103fe2(0x167)]),'cadviewer/settings/licences.html'),'utf8'),_0x41c544=_0x337a0d[_0x103fe2(0x197)]('{version}',_0x267f69[_0x103fe2(0xb5)]);_0xf9b059[_0x103fe2(0x159)](_0x41c544);}),router[a27_0x4c54a3(0x1cd)]('/config',protectedRoute,async(_0x48edd5,_0x4c7f1a)=>{const _0x18574c=a27_0x4c54a3,_0x148409=fs['readFileSync'](path[_0x18574c(0x195)](path[_0x18574c(0x138)](require[_0x18574c(0xfd)]['filename']),_0x18574c(0x20a)),_0x18574c(0x215)),_0x58fd3a=_0x148409[_0x18574c(0x197)](_0x18574c(0x11c),_0x48edd5[_0x18574c(0xb5)]);_0x4c7f1a[_0x18574c(0x159)](_0x58fd3a);}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x165),protectedRoute,async(_0x10b50c,_0x311824)=>{const _0x3e2971=a27_0x4c54a3,_0xd29efa=fs['readFileSync'](path['join'](path[_0x3e2971(0x138)](require[_0x3e2971(0xfd)][_0x3e2971(0x167)]),_0x3e2971(0x1c2)),'utf8'),_0x48876e=_0xd29efa[_0x3e2971(0x197)](_0x3e2971(0x11c),_0x10b50c[_0x3e2971(0xb5)]);_0x311824[_0x3e2971(0x159)](_0x48876e);}),router[a27_0x4c54a3(0x110)](a27_0x4c54a3(0x165),async(_0x440f01,_0x2688f9)=>{const _0x597b05=a27_0x4c54a3,_0x2df727=path[_0x597b05(0x195)](path['dirname'](require['main'][_0x597b05(0x167)]),'CADViewer_config.json'),_0x32afd2=JSON[_0x597b05(0xce)](fs[_0x597b05(0x1be)](_0x2df727,'utf8')),_0x17f49a=_0x32afd2['folderLocation'];if(!fs[_0x597b05(0x86)](_0x17f49a))return _0x2688f9[_0x597b05(0x176)](0x194)[_0x597b05(0x130)]({'message':_0x597b05(0x201)});const _0x33c94d=_0x108050=>{let _0xfc7b7b=0x0;return _0x108050['forEach'](_0x3cc4eb=>{const _0x590090=a27_0x2e13;_0x3cc4eb[_0x590090(0x1db)]?_0xfc7b7b+=_0x33c94d(_0x3cc4eb[_0x590090(0x154)]):_0xfc7b7b+=_0x3cc4eb['size'];}),_0xfc7b7b;},_0xdc678a=_0x3c9339=>{const _0x27b36c=_0x597b05;if(_0x3c9339<0x400)return _0x3c9339+'\x20B';else{if(_0x3c9339<0x400*0x400)return(_0x3c9339/0x400)[_0x27b36c(0xd0)](0x2)+_0x27b36c(0x170);else return _0x3c9339<0x400*0x400*0x400?(_0x3c9339/0x400/0x400)[_0x27b36c(0xd0)](0x2)+_0x27b36c(0x9e):(_0x3c9339/0x400/0x400/0x400)[_0x27b36c(0xd0)](0x2)+'\x20GB';}},_0x58fdb8=(_0x5ae8dd,_0x2e8a67='')=>{const _0x53ac29=_0x597b05,_0x4ea7ef=fs[_0x53ac29(0xeb)](_0x5ae8dd),_0x423bae=[];return _0x4ea7ef[_0x53ac29(0x1ba)](_0xd7d153=>{const _0x2c34d4=_0x53ac29,_0x40a155=path[_0x2c34d4(0x195)](_0x5ae8dd,_0xd7d153)[_0x2c34d4(0x197)]('\x5c','/'),_0x2b06f4=fs[_0x2c34d4(0x9c)](_0x40a155);if(_0x2b06f4[_0x2c34d4(0x134)]()){const _0x5b7f67=_0x58fdb8(_0x40a155,_0x2e8a67+'\x20\x20\x20');_0x423bae[_0x2c34d4(0x15d)]({'name':_0xd7d153,'size':_0x2b06f4[_0x2c34d4(0xd7)],'path':_0x40a155,'permissions':_0x2b06f4[_0x2c34d4(0xe1)],'isFolder':!![],'sub_dirs':_0x5b7f67});}else _0x423bae[_0x2c34d4(0x15d)]({'name':_0xd7d153,'size':_0x2b06f4[_0x2c34d4(0xd7)],'path':_0x40a155,'permissions':_0x2b06f4[_0x2c34d4(0xe1)],'isFolder':![]});}),_0x423bae;};let _0x4e2750=_0x58fdb8(_0x17f49a);const _0x3b27ff=_0x5ee1b1=>{return _0x5ee1b1['forEach'](_0x3b672a=>{const _0xf61511=a27_0x2e13;_0x3b672a[_0xf61511(0x1db)]?(_0x3b672a[_0xf61511(0x180)]=_0xdc678a(_0x33c94d(_0x3b672a[_0xf61511(0x154)])),_0x3b672a[_0xf61511(0x154)]=_0x3b27ff(_0x3b672a[_0xf61511(0x154)])):_0x3b672a[_0xf61511(0x180)]=_0xdc678a(_0x3b672a[_0xf61511(0xd7)]);}),_0x5ee1b1;};_0x2688f9[_0x597b05(0x176)](0xc8)[_0x597b05(0x130)](_0x3b27ff(_0x4e2750));}),router['post'](a27_0x4c54a3(0xf3),async(_0x32f510,_0x189699)=>{const _0x29e64b=a27_0x4c54a3,{path:_0x534939}=_0x32f510[_0x29e64b(0x209)],_0x543911=_0x534939[_0x29e64b(0x13e)]('/')['pop']();if(!fs[_0x29e64b(0x86)](_0x534939))return _0x189699[_0x29e64b(0x176)](0x194)['json']({'message':_0x29e64b(0x1c9)});_0x189699[_0x29e64b(0xb7)](_0x29e64b(0x1eb),_0x29e64b(0x1fd)),_0x189699['setHeader'](_0x29e64b(0x169),_0x29e64b(0xfe)+_0x543911+'\x22'),_0x189699['download'](_0x534939,_0x237616=>{const _0x1992d0=_0x29e64b;_0x237616&&_0x189699[_0x1992d0(0x176)](0x1f4)[_0x1992d0(0x130)]({'message':'Error\x20downloading\x20file.'});});}),router['post']('/folders/create',async(_0x37ec33,_0x2aaa70)=>{const _0x156d56=a27_0x4c54a3,_0x56029a=_0x37ec33[_0x156d56(0x209)],_0xd2fefd=getHotConfig()[_0x156d56(0xe5)],_0xe66a19=path[_0x156d56(0x195)](_0xd2fefd,_0x56029a[_0x156d56(0x123)]);if(!fs[_0x156d56(0x86)](_0xe66a19))return _0x2aaa70[_0x156d56(0x176)](0x194)[_0x156d56(0x130)]({'message':_0x156d56(0x206)});if(fs[_0x156d56(0x86)](path[_0x156d56(0x195)](_0xe66a19,_0x56029a[_0x156d56(0x10e)])))return _0x2aaa70[_0x156d56(0x176)](0x199)[_0x156d56(0x130)]({'message':'Folder\x20already\x20exists.'});fs[_0x156d56(0x1f1)](path[_0x156d56(0x195)](_0xe66a19,_0x56029a[_0x156d56(0x10e)]),_0x3a90c9=>{const _0x26de13=_0x156d56;_0x3a90c9&&_0x2aaa70[_0x26de13(0x176)](0x1f4)[_0x26de13(0x130)]({'message':_0x26de13(0x15c)}),_0x2aaa70[_0x26de13(0x176)](0xc8)[_0x26de13(0x130)]({'message':_0x26de13(0x95)});});}),router['put'](a27_0x4c54a3(0xf4),async(_0x577326,_0x44d8a9)=>{const _0xfe81=a27_0x4c54a3,{newName:_0x2bb610,isFolder:_0x369383,path:_0x360694}=_0x577326['body'];if(!fs[_0xfe81(0x86)](_0x360694))return _0x44d8a9[_0xfe81(0x176)](0x194)['json']({'message':_0x369383?_0xfe81(0xb1):_0xfe81(0x1c9)});const _0x667e0e=_0x360694['replace'](_0x360694[_0xfe81(0x13e)]('/')[_0xfe81(0x18f)](),_0x2bb610),_0x2272a2=fs['statSync'](_0x360694);_0x2272a2[_0xfe81(0x134)]()?fs[_0xfe81(0xc5)](_0x360694,_0x667e0e):(fs[_0xfe81(0x179)](_0x360694,_0x667e0e),fs[_0xfe81(0x1b7)](_0x360694)),_0x44d8a9['status'](0xc8)[_0xfe81(0x130)]({'message':_0x369383?_0xfe81(0x172):'File\x20renamed.'});}),router['delete'](a27_0x4c54a3(0x140),async(_0x3173a1,_0x5e32c0)=>{const _0x54c699=a27_0x4c54a3,{path:_0x3b87ff}=_0x3173a1[_0x54c699(0x209)];if(!fs[_0x54c699(0x86)](_0x3b87ff))return _0x5e32c0[_0x54c699(0x176)](0x194)[_0x54c699(0x130)]({'message':'File\x20or\x20Folder\x20not\x20found'});const _0xcc5232=fs['statSync'](_0x3b87ff);if(_0xcc5232[_0x54c699(0x97)]())fs['unlink'](_0x3b87ff,_0x23da1e=>{const _0x95d86=_0x54c699;_0x23da1e&&_0x5e32c0['status'](0x1f4)[_0x95d86(0x130)]({'message':_0x95d86(0x13b)}),_0x5e32c0['status'](0xc8)['json']({'message':'File\x20deleted.'});});else _0xcc5232[_0x54c699(0x134)]()&&fs[_0x54c699(0x1c5)](_0x3b87ff,{'recursive':!![]},_0x12b6eb=>{const _0xa91dc5=_0x54c699;_0x12b6eb&&_0x5e32c0[_0xa91dc5(0x176)](0x1f4)[_0xa91dc5(0x130)]({'message':_0xa91dc5(0x133)}),_0x5e32c0[_0xa91dc5(0x176)](0xc8)[_0xa91dc5(0x130)]({'message':_0xa91dc5(0xb8)});});});!fs[a27_0x4c54a3(0x86)](a27_0x4c54a3(0x1b5))&&fs[a27_0x4c54a3(0xdc)](a27_0x4c54a3(0x1b5));function a27_0x2e13(_0x361f5d,_0x4c4b98){const _0x11927a=a27_0x1192();return a27_0x2e13=function(_0x2e1398,_0x549202){_0x2e1398=_0x2e1398-0x7f;let _0x32e4e6=_0x11927a[_0x2e1398];return _0x32e4e6;},a27_0x2e13(_0x361f5d,_0x4c4b98);}const storage=multer[a27_0x4c54a3(0x1ec)]({'destination':(_0x3815bd,_0x973de,_0x3478ec)=>{const _0x2aa542=a27_0x4c54a3;_0x3478ec(null,_0x2aa542(0x1ae));},'filename':(_0x408ec2,_0x163278,_0x1ac527)=>{const _0x39c323=a27_0x4c54a3;_0x1ac527(null,Date['now']()+path[_0x39c323(0x203)](_0x163278[_0x39c323(0x20d)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a27_0x4c54a3(0x110)](a27_0x4c54a3(0x213),upload[a27_0x4c54a3(0x156)](a27_0x4c54a3(0x1dc)),async(_0x468f83,_0x572f0b)=>{const _0xd06b5c=a27_0x4c54a3,_0x320c6d=_0x468f83[_0xd06b5c(0x209)];if(!_0x468f83[_0xd06b5c(0x1dc)]||_0x468f83[_0xd06b5c(0x1dc)][_0xd06b5c(0xe4)]===0x0)return _0x572f0b[_0xd06b5c(0x176)](0x190)['json']({'message':'No\x20files\x20uploaded'});const _0x525e3c=getHotConfig()[_0xd06b5c(0xe5)],_0x20a1b1=path[_0xd06b5c(0x195)](_0x525e3c,_0x320c6d[_0xd06b5c(0x123)]);if(!fs['existsSync'](_0x20a1b1))return _0x572f0b['status'](0x194)['json']({'message':_0xd06b5c(0x206)});const _0x400ca7=_0x468f83['files'][_0xd06b5c(0x1aa)](_0x5b41dc=>({'originalname':_0x5b41dc[_0xd06b5c(0x20d)],'filename':_0x5b41dc[_0xd06b5c(0x167)],'mimetype':_0x5b41dc[_0xd06b5c(0x1e0)],'size':_0x5b41dc[_0xd06b5c(0xd7)]}));_0x400ca7['forEach'](_0x5046a0=>{const _0x4a8ce3=_0xd06b5c;fs[_0x4a8ce3(0x179)](path[_0x4a8ce3(0x195)](_0x4a8ce3(0x1ae),_0x5046a0['filename']),path[_0x4a8ce3(0x195)](_0x20a1b1,_0x5046a0[_0x4a8ce3(0x20d)])),fs[_0x4a8ce3(0x1b7)](path['join'](_0x4a8ce3(0x1ae),_0x5046a0['filename']));}),_0x572f0b[_0xd06b5c(0x176)](0xc8)[_0xd06b5c(0x130)]({'message':_0xd06b5c(0x181),'files':_0x400ca7});}),router[a27_0x4c54a3(0x14f)]('/config/global-update',async(_0x40ea3c,_0x1772f4)=>{const _0x5cf44a=a27_0x4c54a3,_0x956a36=path['join'](path[_0x5cf44a(0x138)](require[_0x5cf44a(0xfd)][_0x5cf44a(0x167)]),_0x5cf44a(0x10b)),{config:_0x421501}=_0x40ea3c[_0x5cf44a(0x209)];if(!_0x421501)return _0x1772f4[_0x5cf44a(0x176)](0x190)[_0x5cf44a(0x130)]({'message':'No\x20config\x20object\x20provided'});try{fs['writeFileSync'](_0x956a36,JSON['stringify'](_0x421501,null,0x4)),_0x1772f4[_0x5cf44a(0x176)](0xc8)[_0x5cf44a(0x130)]({'message':_0x5cf44a(0x17d)});}catch(_0x4baedf){_0x1772f4[_0x5cf44a(0x176)](0x1f4)[_0x5cf44a(0x130)]({'message':'Error\x20updating\x20config'});}}),router['put']('/config/update',async(_0x4e896c,_0x1d6731)=>{const _0x36b962=a27_0x4c54a3,{key:_0x66e208,value:_0x23114a}=_0x4e896c[_0x36b962(0x209)],_0x50a3ea=path[_0x36b962(0x195)](path['dirname'](require[_0x36b962(0xfd)][_0x36b962(0x167)]),_0x36b962(0x10b));fs[_0x36b962(0xed)](_0x50a3ea,_0x36b962(0x215),function(_0xfcda4c,_0x406d4b){const _0x36adaa=_0x36b962;_0xfcda4c&&_0x1d6731[_0x36adaa(0x176)](0x1f4)['send'](_0xfcda4c);const _0x31b67e=JSON[_0x36adaa(0xce)](_0x406d4b);_0x31b67e[_0x66e208]=_0x23114a;if(_0x66e208===_0x36adaa(0x216)){let _0x2aaeac='';if(_0x31b67e['autodetect_platform']){_0x2aaeac=os[_0x36adaa(0x177)]();if(_0x2aaeac==='win32')_0x2aaeac=_0x36adaa(0x1e8);else{if(_0x2aaeac===_0x36adaa(0x1e9))_0x2aaeac='linux';}}else _0x2aaeac=_0x31b67e[_0x36adaa(0x177)];if(_0x2aaeac===_0x36adaa(0x1e8)){_0x31b67e[_0x36adaa(0x1cb)]=path[_0x36adaa(0xa6)](__dirname,'..')+'/';const _0x39a5a9=/\\/g;_0x31b67e['ServerLocation']=_0x31b67e[_0x36adaa(0x1cb)][_0x36adaa(0xb6)](_0x39a5a9,'/');}else _0x31b67e[_0x36adaa(0x1cb)]=path[_0x36adaa(0xa6)](__dirname,'..')+'/';}if(_0x66e208==='autodetect_platform'){let _0x82d657=os[_0x36adaa(0x177)]();if(_0x82d657==='win32')_0x82d657=_0x36adaa(0x1e8);else _0x82d657='linux';_0x82d657===_0x36adaa(0x1e8)?_0x23114a===!![]&&(_0x31b67e[_0x36adaa(0x19d)]=_0x31b67e[_0x36adaa(0x1d7)],_0x31b67e['dwgmerge_executable']=_0x31b67e[_0x36adaa(0xe6)],_0x31b67e[_0x36adaa(0x16f)]=_0x31b67e[_0x36adaa(0x18a)]):_0x23114a===!![]&&(_0x31b67e[_0x36adaa(0x19d)]=_0x31b67e[_0x36adaa(0x1c4)],_0x31b67e[_0x36adaa(0xee)]=_0x31b67e[_0x36adaa(0x158)],_0x31b67e[_0x36adaa(0x16f)]=_0x31b67e[_0x36adaa(0x105)]),_0x31b67e[_0x36adaa(0x177)]=_0x82d657;}if(_0x31b67e[_0x36adaa(0x129)]){let _0x4e02a3=os['platform']();if(_0x4e02a3===_0x36adaa(0x116))_0x4e02a3='windows';else _0x4e02a3=_0x36adaa(0xe3);if(_0x4e02a3===_0x36adaa(0x1e8)){if(_0x66e208===_0x36adaa(0x1d7))_0x31b67e[_0x36adaa(0x19d)]=_0x23114a;else{if(_0x66e208===_0x36adaa(0xe6))_0x31b67e[_0x36adaa(0xee)]=_0x23114a;else _0x66e208==='linklist_executable_windows'&&(_0x31b67e[_0x36adaa(0x16f)]=_0x23114a);}}else{if(_0x66e208==='autoxchange_executable_linux')_0x31b67e['autoxchange_executable']=_0x23114a;else{if(_0x66e208===_0x36adaa(0x158))_0x31b67e[_0x36adaa(0xee)]=_0x23114a;else _0x66e208===_0x36adaa(0x105)&&(_0x31b67e[_0x36adaa(0x16f)]=_0x23114a);}}}fs[_0x36adaa(0x1e5)](_0x50a3ea,JSON['stringify'](_0x31b67e,null,0x4),function(_0x43d7a2){const _0x12f046=_0x36adaa;_0x43d7a2&&_0x1d6731['status'](0x1f4)[_0x12f046(0x159)](_0x43d7a2),_0x1d6731[_0x12f046(0x176)](0xc8)[_0x12f046(0x130)]({'message':_0x12f046(0x1b2)});});});}),router[a27_0x4c54a3(0x110)](a27_0x4c54a3(0xa2),async(_0x5299d2,_0x5671aa)=>{const _0x5cada7=a27_0x4c54a3,_0x1fa62a=getHotConfig(),_0x2dc331=(_0x1fa62a[_0x5cada7(0x13a)][_0x5cada7(0x163)](_0x1fa62a['ServerLocation'])?'':_0x1fa62a[_0x5cada7(0x1cb)])+_0x1fa62a[_0x5cada7(0x13a)],_0x1f2302=(_0x1fa62a['dwgmergeLocation'][_0x5cada7(0x163)](_0x1fa62a['ServerLocation'])?'':_0x1fa62a['ServerLocation'])+_0x1fa62a[_0x5cada7(0x149)],_0x48c4fe=(_0x1fa62a[_0x5cada7(0x161)]['includes'](_0x1fa62a['ServerLocation'])?'':_0x1fa62a['ServerLocation'])+_0x1fa62a[_0x5cada7(0x161)],_0x3cd598=/ax202.*\.exe/,_0x573d11=/ax202.*/,_0x383dc2=/dwgmerge202.*\.exe/,_0x2fb49e=/dwgmerge_202.*/,_0x111241=/linklist_202.*\.exe/,_0x295d05=/linklist_202.*/,_0x4352b5=[],_0xe8d517=[],_0x7136d4=[],_0x5561ed=[],_0x159b94=[],_0x31c7cf=[];let _0x2a7aa7='';if(_0x1fa62a[_0x5cada7(0x129)]){_0x2a7aa7=os['platform']();if(_0x2a7aa7==='win32')_0x2a7aa7=_0x5cada7(0x1e8);else{if(_0x2a7aa7===_0x5cada7(0x1e9))_0x2a7aa7=_0x5cada7(0xe3);}}else _0x2a7aa7=_0x1fa62a[_0x5cada7(0x177)];fs[_0x5cada7(0xeb)](_0x48c4fe[_0x5cada7(0x197)](_0x5cada7(0xe3),_0x5cada7(0x1e8)))[_0x5cada7(0x1ba)](_0x1da3b9=>{const _0x4f8c7c=_0x5cada7;if(_0x3cd598[_0x4f8c7c(0x131)](_0x1da3b9[_0x4f8c7c(0x139)]()))_0x4352b5[_0x4f8c7c(0x15d)](_0x1da3b9);}),fs[_0x5cada7(0xeb)](_0x2dc331['replaceAll']('linux','windows'))[_0x5cada7(0x1ba)](_0x230e22=>{const _0x34b68e=_0x5cada7;if(_0x383dc2[_0x34b68e(0x131)](_0x230e22[_0x34b68e(0x139)]()))_0xe8d517[_0x34b68e(0x15d)](_0x230e22);}),fs[_0x5cada7(0xeb)](_0x1f2302['replaceAll']('linux',_0x5cada7(0x1e8)))['forEach'](_0x91faba=>{const _0x121b69=_0x5cada7;if(_0x111241[_0x121b69(0x131)](_0x91faba[_0x121b69(0x139)]()))_0x7136d4['push'](_0x91faba);}),fs[_0x5cada7(0xeb)](_0x48c4fe['replaceAll'](_0x5cada7(0x1e8),_0x5cada7(0xe3)))[_0x5cada7(0x1ba)](_0x5f4c58=>{const _0x12389c=_0x5cada7;if(_0x573d11['test'](_0x5f4c58[_0x12389c(0x139)]()))_0x5561ed[_0x12389c(0x15d)](_0x5f4c58);}),fs[_0x5cada7(0xeb)](_0x2dc331[_0x5cada7(0x197)](_0x5cada7(0x1e8),_0x5cada7(0xe3)))[_0x5cada7(0x1ba)](_0x3f6f95=>{if(_0x2fb49e['test'](_0x3f6f95['toLocaleLowerCase']()))_0x159b94['push'](_0x3f6f95);}),fs[_0x5cada7(0xeb)](_0x1f2302['replaceAll'](_0x5cada7(0x1e8),_0x5cada7(0xe3)))[_0x5cada7(0x1ba)](_0x3cec6e=>{const _0x445b33=_0x5cada7;if(_0x295d05[_0x445b33(0x131)](_0x3cec6e[_0x445b33(0x139)]()))_0x31c7cf[_0x445b33(0x15d)](_0x3cec6e);});const _0x3463c0=[_0x5cada7(0x89),_0x5cada7(0xe8),'converterpathWin','converterpathLin',_0x5cada7(0x1d9)],_0x59ea0c=[_0x5cada7(0xbb),'fileLocationUrl',_0x5cada7(0x161),_0x5cada7(0x8e),_0x5cada7(0x1d8),_0x5cada7(0xef),'callbackMethod',_0x5cada7(0x13a),_0x5cada7(0x149),_0x5cada7(0xb5)],_0xff4098=[_0x5cada7(0x1c1),_0x5cada7(0x101),_0x5cada7(0x100),'mysqlPassword',_0x5cada7(0x102),_0x5cada7(0x1f4),_0x5cada7(0x20b)],_0x18701a={'ServerUrl':_0x5cada7(0x18b),'autoxchange_executable':'AutoXchange\x20Settings','linklist_executable':_0x5cada7(0x1cf),'dwgmerge_executable':'DwgMerge\x20Settings','setup_mysqlHost':_0x5cada7(0x87),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':_0x5cada7(0x14c),'smtpHost':_0x5cada7(0x1f3)},_0x38b4e5={'https':_0x5cada7(0xff),'ServerFrontEndUrlAsAllowedOriginOnly':'boolean','autodetect_platform':_0x5cada7(0xff),'cvjs_svgz_compress':'boolean','cached_conversion':_0x5cada7(0xff),'remainOnServer':_0x5cada7(0xff),'cvjs_debug':_0x5cada7(0xff),'autodetect_location':_0x5cada7(0xff),'platform':_0x5cada7(0xba),'autoxchange_executable':_0x5cada7(0x11e)+(_0x2a7aa7===_0x5cada7(0x1e8)?_0x4352b5[_0x5cada7(0x195)](','):_0x5561ed[_0x5cada7(0x195)](',')),'autoxchange_executable_windows':_0x5cada7(0x11e)+_0x4352b5['join'](','),'autoxchange_executable_linux':_0x5cada7(0x11e)+_0x5561ed['join'](','),'dwgmerge_executable':_0x5cada7(0x11e)+(_0x2a7aa7==='windows'?_0xe8d517[_0x5cada7(0x195)](','):_0x159b94[_0x5cada7(0x195)](',')),'dwgmerge_executable_windows':_0x5cada7(0x11e)+_0xe8d517[_0x5cada7(0x195)](','),'dwgmerge_executable_linux':_0x5cada7(0x11e)+_0x159b94['join'](','),'linklist_executable':_0x5cada7(0x11e)+(_0x2a7aa7===_0x5cada7(0x1e8)?_0x7136d4[_0x5cada7(0x195)](','):_0x31c7cf['join'](',')),'linklist_executable_windows':_0x5cada7(0x11e)+_0x7136d4[_0x5cada7(0x195)](','),'linklist_executable_linux':_0x5cada7(0x11e)+_0x31c7cf[_0x5cada7(0x195)](','),'callbackMethod_gatewayUrl_flag':'boolean','setup_mysqlHost':_0x5cada7(0xff),'ContentSecurityPolicyReportOnly':'boolean','fileLoad_PasswordAuthentication':_0x5cada7(0xff),'contentLocationCheck':'boolean','globalBearerAutentication':_0x5cada7(0xff),'bcryptSaltRounds':_0x5cada7(0x1fc),'userFolderMaximumFiles':_0x5cada7(0x1fc),'userFolderMaximumSizeInMB':_0x5cada7(0x1fc),'recaptchaEnabled':_0x5cada7(0xff),'usersExportFrequency':_0x5cada7(0x1fb),'enableEmailVerification':'boolean','demoUserRetentionDaysAlertBeforeDeletion':_0x5cada7(0x1fc),'demoUserRetentionDays':_0x5cada7(0x1fc)},_0x2348b0={},_0x4eb635=Object[_0x5cada7(0x1e4)](_0x1fa62a);_0x1fa62a[_0x5cada7(0x129)]&&_0x3463c0[_0x5cada7(0x15d)](_0x5cada7(0x177)),_0x1fa62a[_0x5cada7(0x216)]&&(_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0x1cb)),_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0x19d)),_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0xee)),_0x59ea0c['push']('linklist_executable')),!_0x1fa62a['callbackMethod_gatewayUrl_flag']&&_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0x8d)),!_0x1fa62a['setup_mysqlHost']&&(_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0x101)),_0x59ea0c['push'](_0x5cada7(0x100)),_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0x1a4)),_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0x102))),!_0x1fa62a['ContentSecurityPolicyReportOnly']&&_0x59ea0c[_0x5cada7(0x15d)]('ContentSecurityPolicy'),!_0x1fa62a[_0x5cada7(0x128)]&&(_0x59ea0c['push'](_0x5cada7(0xb2)),_0x59ea0c['push'](_0x5cada7(0x17b))),!_0x1fa62a[_0x5cada7(0x13d)]&&_0x59ea0c[_0x5cada7(0x15d)](_0x5cada7(0xcd)),_0x4eb635['forEach'](_0x347453=>{!_0x3463c0['includes'](_0x347453)&&(_0x2348b0[_0x347453]=_0x1fa62a[_0x347453]);}),_0x2348b0[_0x5cada7(0x84)]=''+_0x1fa62a['ServerUrl']+_0x1fa62a['fileLocation'],_0x5671aa[_0x5cada7(0x176)](0xc8)[_0x5cada7(0x130)]({'notEditableFields':_0x59ea0c,'customFieldTypes':_0x38b4e5,'notHotEditableFields':_0xff4098,'config':_0x2348b0,'fieldsTitle':_0x18701a,'configData':_0x1fa62a});}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x92),protectedRoute,async(_0x5a63d2,_0x5c5258)=>{const _0x217206=a27_0x4c54a3,_0x5d23e0=fs[_0x217206(0x1be)](path[_0x217206(0x195)](path[_0x217206(0x138)](require[_0x217206(0xfd)]['filename']),_0x217206(0x199)),_0x217206(0x215)),_0x5635d3=_0x5d23e0[_0x217206(0x197)](_0x217206(0x11c),_0x5a63d2[_0x217206(0xb5)]);_0x5c5258['send'](_0x5635d3);});function findMatchingLogFiles(_0x5cad77,_0x3cbdf5=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0xfc29b9=a27_0x4c54a3;try{const _0x11137f=fs[_0xfc29b9(0xeb)](_0x5cad77);return _0x11137f[_0xfc29b9(0x1bc)](_0x398004=>_0x3cbdf5[_0xfc29b9(0x131)](_0x398004))[_0xfc29b9(0x1aa)](_0x377643=>_0x377643[_0xfc29b9(0x197)](_0xfc29b9(0x15b),'')[_0xfc29b9(0x197)](_0xfc29b9(0x198),''));}catch(_0x3ceea3){return console[_0xfc29b9(0xf2)](_0xfc29b9(0x1ce),_0x3ceea3),[];}}router['post'](a27_0x4c54a3(0xf5),async(_0x52ea1b,_0x16130b)=>{const _0x55c090=a27_0x4c54a3,_0x3b7380=new Date(),_0x43248e=_0x3b7380['getDate']()['toString']()[_0x55c090(0x1e2)](0x2,'0')+'_'+(_0x3b7380[_0x55c090(0x1d6)]()+0x1)[_0x55c090(0xfb)]()[_0x55c090(0x1e2)](0x2,'0')+'_'+_0x3b7380[_0x55c090(0x8a)](),{displayDay:_0x5f5b0c}=_0x52ea1b[_0x55c090(0x209)],_0x4d4fdf=path[_0x55c090(0x195)](path['dirname'](require['main'][_0x55c090(0x167)]),_0x55c090(0x1b3),'call-Api_Conversion_'+(_0x5f5b0c??_0x43248e)+_0x55c090(0x198));fs[_0x55c090(0x86)](_0x4d4fdf)?fs[_0x55c090(0xed)](_0x4d4fdf,'utf8',function(_0x32f191,_0x45547e){const _0x3716=_0x55c090;_0x32f191&&_0x16130b[_0x3716(0x176)](0x1f4)[_0x3716(0x159)](_0x32f191),_0x16130b['status'](0xc8)[_0x3716(0x130)]({'content':_0x45547e,'days':findMatchingLogFiles(path['join'](path[_0x3716(0x138)](require['main'][_0x3716(0x167)]),_0x3716(0x1b3)))});}):_0x16130b['status'](0xc8)['json']({'content':'','days':findMatchingLogFiles(path[_0x55c090(0x195)](path[_0x55c090(0x138)](require[_0x55c090(0xfd)]['filename']),'logs'))});}),router[a27_0x4c54a3(0x1b1)]('/logs/clean',async(_0xcaf1eb,_0x385056)=>{const _0x1fb120=a27_0x4c54a3,_0x1bc83e=new Date(),_0x43d64e=_0x1bc83e['getDate']()[_0x1fb120(0xfb)]()[_0x1fb120(0x1e2)](0x2,'0')+'_'+(_0x1bc83e['getMonth']()+0x1)[_0x1fb120(0xfb)]()['padStart'](0x2,'0')+'_'+_0x1bc83e['getFullYear'](),_0x273103=findMatchingLogFiles(path[_0x1fb120(0x195)](path['dirname'](require[_0x1fb120(0xfd)][_0x1fb120(0x167)]),_0x1fb120(0x1b3)));_0x273103['forEach'](_0x3651a7=>{const _0x1782a9=_0x1fb120;if(_0x3651a7!==_0x43d64e)fs[_0x1782a9(0x1b7)](path[_0x1782a9(0x195)](path[_0x1782a9(0x138)](require[_0x1782a9(0xfd)][_0x1782a9(0x167)]),_0x1782a9(0x1b3),_0x1782a9(0x15b)+_0x3651a7+'.log'));}),logStream[_0x1fb120(0x125)](),_0x385056[_0x1fb120(0x176)](0xc8)['json']({'message':_0x1fb120(0x112)});}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x184),protectedRoute,async(_0x46d4a0,_0x593ed3)=>{const _0x3b219=a27_0x4c54a3,_0xe7cbff=path[_0x3b219(0x195)](path['dirname'](require[_0x3b219(0xfd)][_0x3b219(0x167)]),_0x3b219(0x20c));if(!fs[_0x3b219(0x86)](_0xe7cbff)){const _0x495684={'jsonDataExtraction':{'standard':[{'paramName':_0x3b219(0x130),'paramValue':''},{'paramName':_0x3b219(0xdb),'paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x3b219(0x17a)},{'paramName':_0x3b219(0x164),'paramValue':''},{'paramName':_0x3b219(0x194),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':_0x3b219(0x1ee)},{'paramName':_0x3b219(0x164),'paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x3b219(0x164),'paramValue':''},{'paramName':_0x3b219(0x194),'paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':_0x3b219(0xbc),'paramValue':''}]}};fs[_0x3b219(0x17f)](_0xe7cbff,JSON[_0x3b219(0x17e)](_0x495684,null,0x4));}const _0x24da65=fs[_0x3b219(0x1be)](path['join'](path['dirname'](require[_0x3b219(0xfd)][_0x3b219(0x167)]),_0x3b219(0x1f0)),_0x3b219(0x215)),_0x2e6311=_0x24da65[_0x3b219(0x197)](_0x3b219(0x11c),_0x46d4a0['version']);_0x593ed3[_0x3b219(0x159)](_0x2e6311);}),router[a27_0x4c54a3(0x110)]('/restapi-test/parameters/search',async(_0x393294,_0x247770)=>{const _0x2983c4=a27_0x4c54a3,{actionName:_0x30ae91,contentLocation:_0x52975f}=_0x393294[_0x2983c4(0x209)],_0x3386d9=path[_0x2983c4(0x195)](path['dirname'](require[_0x2983c4(0xfd)]['filename']),_0x2983c4(0x20c));fs[_0x2983c4(0xed)](_0x3386d9,_0x2983c4(0x215),function(_0x49bf88,_0x194e1d){const _0x406a8d=_0x2983c4;if(_0x49bf88)_0x247770[_0x406a8d(0x176)](0xc8)[_0x406a8d(0x130)]({'parameters':[]});else{const _0x3a157b=JSON['parse'](_0x194e1d);if(_0x3a157b[_0x30ae91]&&_0x3a157b[_0x30ae91][_0x52975f])_0x247770[_0x406a8d(0x176)](0xc8)['json']({'parameters':_0x3a157b[_0x30ae91][_0x52975f]});else _0x3a157b[_0x30ae91]&&_0x3a157b[_0x30ae91][_0x406a8d(0x1df)]?_0x247770[_0x406a8d(0x176)](0xc8)[_0x406a8d(0x130)]({'parameters':_0x3a157b[_0x30ae91][_0x406a8d(0x1df)]}):_0x247770[_0x406a8d(0x176)](0xc8)['json']({'parameters':[]});}});}),router['post']('/restapi-test/parameters/save',async(_0x5c0f9d,_0x3e7538)=>{const _0x58ed7b=a27_0x4c54a3,{actionName:_0x2bcff4,contentLocation:_0x2855cf,parameters:_0x3201f2}=_0x5c0f9d[_0x58ed7b(0x209)],_0x3648c6=path[_0x58ed7b(0x195)](path[_0x58ed7b(0x138)](require[_0x58ed7b(0xfd)][_0x58ed7b(0x167)]),_0x58ed7b(0x20c));fs[_0x58ed7b(0xed)](_0x3648c6,_0x58ed7b(0x215),function(_0x277194,_0x216ae2){const _0x4fd116=_0x58ed7b;if(_0x277194)_0x3e7538['status'](0x199)['json']({'message':_0x4fd116(0x190)});else{const _0x3b0537=JSON[_0x4fd116(0xce)](_0x216ae2);!_0x3b0537[_0x2bcff4]&&(_0x3b0537[_0x2bcff4]={}),_0x3b0537[_0x2bcff4][_0x2855cf]=_0x3201f2,fs[_0x4fd116(0x1e5)](_0x3648c6,JSON[_0x4fd116(0x17e)](_0x3b0537,null,0x4),function(_0xb8ca3e){const _0x2e38b0=_0x4fd116;_0xb8ca3e&&_0x3e7538[_0x2e38b0(0x176)](0x199)[_0x2e38b0(0x130)]({'message':_0x2e38b0(0x190)}),_0x3e7538[_0x2e38b0(0x176)](0xc8)[_0x2e38b0(0x130)]({'message':_0x2e38b0(0x115)});});}});}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0xda),protectedRoute,async(_0x3cba4c,_0x3c89a9)=>{const _0x228f54=a27_0x4c54a3,_0x74b6e4=fs[_0x228f54(0x1be)](path['join'](path['dirname'](require[_0x228f54(0xfd)][_0x228f54(0x167)]),_0x228f54(0x103)),_0x228f54(0x215)),_0x2458b6=_0x74b6e4['replaceAll'](_0x228f54(0x11c),_0x3cba4c[_0x228f54(0xb5)]);_0x3c89a9['send'](_0x2458b6);}),router[a27_0x4c54a3(0x110)](a27_0x4c54a3(0x218),async(_0x3713d8,_0x9749eb)=>{const _0x28d877=a27_0x4c54a3,_0x3b6104=getHotConfig(),_0x3b1042=_0x3b6104[_0x28d877(0x161)][_0x28d877(0x197)]('//','/'),_0x3be1f5=_0x3b6104['dwgmergeLocation']['replaceAll']('//','/'),_0x5760c9=_0x3b6104[_0x28d877(0x149)][_0x28d877(0x197)]('//','/'),_0x264f61=''+_0x3b1042+_0x3b6104['autoxchange_executable'],_0x41cc85=''+_0x3be1f5+_0x3b6104[_0x28d877(0xee)],_0x5aee8b=''+_0x5760c9+_0x3b6104[_0x28d877(0x16f)],_0x131605=[],_0x2852d4=new Promise(_0x2ff6aa=>{const _0x5eab0e=_0x28d877;exec(os[_0x5eab0e(0x177)]()==='win32'?_0x5eab0e(0x13c):'ls',_0x4e26f9=>{const _0x5c14a0=_0x5eab0e;_0x4e26f9?_0x131605['push']({'title':'\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','status':![],'priority':0x1}):_0x131605[_0x5c14a0(0x15d)]({'title':_0x5c14a0(0x17c),'status':!![],'priority':0x1}),_0x2ff6aa();});}),_0x1010b4=new Promise(_0x2fc1e2=>{const _0x10ac87=_0x28d877;fs[_0x10ac87(0x126)](_0x264f61,fs[_0x10ac87(0x16c)]['X_OK'],_0x4c139f=>{const _0x360f30=_0x10ac87;_0x4c139f?_0x131605[_0x360f30(0x15d)]({'title':_0x360f30(0xbe)+_0x3b6104[_0x360f30(0x19d)]+'\x22\x20executable','status':![],'priority':0x2}):_0x131605[_0x360f30(0x15d)]({'title':_0x360f30(0xbe)+_0x3b6104['autoxchange_executable']+_0x360f30(0x175),'status':!![],'priority':0x2}),_0x2fc1e2();});}),_0x382511=new Promise(_0x295562=>{const _0x27f9f9=_0x28d877;fs[_0x27f9f9(0x126)](_0x41cc85,fs[_0x27f9f9(0x16c)][_0x27f9f9(0xb4)],_0x4839c4=>{const _0x5dfb51=_0x27f9f9;_0x4839c4?_0x131605[_0x5dfb51(0x15d)]({'title':_0x5dfb51(0xbe)+_0x3b6104[_0x5dfb51(0xee)]+_0x5dfb51(0x175),'status':![],'priority':0x3}):_0x131605['push']({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x3b6104['dwgmerge_executable']+_0x5dfb51(0x175),'status':!![],'priority':0x3}),_0x295562();});}),_0x56b57a=new Promise(_0x3c37e6=>{const _0x5570ff=_0x28d877;fs[_0x5570ff(0x126)](_0x5aee8b,fs[_0x5570ff(0x16c)][_0x5570ff(0xb4)],_0x2e7712=>{const _0x30bc4a=_0x5570ff;_0x2e7712?_0x131605[_0x30bc4a(0x15d)]({'title':_0x30bc4a(0xbe)+_0x3b6104[_0x30bc4a(0x16f)]+_0x30bc4a(0x175),'status':![],'priority':0x4}):_0x131605[_0x30bc4a(0x15d)]({'title':_0x30bc4a(0xbe)+_0x3b6104[_0x30bc4a(0x16f)]+_0x30bc4a(0x175),'status':!![],'priority':0x4}),_0x3c37e6();});}),_0x68332e=new Promise(_0x5ca432=>{const _0x1d8c61=_0x28d877,_0x1daf27=new Date(),_0x23c9a9=_0x1daf27[_0x1d8c61(0x16d)]()[_0x1d8c61(0xfb)]()['padStart'](0x2,'0')+'_'+(_0x1daf27['getMonth']()+0x1)[_0x1d8c61(0xfb)]()[_0x1d8c61(0x1e2)](0x2,'0')+'_'+_0x1daf27[_0x1d8c61(0x8a)](),{displayDay:_0xd4cead}=_0x3713d8[_0x1d8c61(0x209)];fs[_0x1d8c61(0x126)](path[_0x1d8c61(0x195)](path[_0x1d8c61(0x138)](require[_0x1d8c61(0xfd)][_0x1d8c61(0x167)]),_0x1d8c61(0x1b3),_0x1d8c61(0x15b)+(_0xd4cead??_0x23c9a9)+_0x1d8c61(0x198)),fs[_0x1d8c61(0x16c)][_0x1d8c61(0x160)],_0x25b85d=>{const _0x26209a=_0x1d8c61;_0x25b85d?_0x131605[_0x26209a(0x15d)]({'title':'Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_'+(_0xd4cead??_0x23c9a9)+_0x26209a(0xab),'status':![],'priority':0x5}):_0x131605[_0x26209a(0x15d)]({'title':_0x26209a(0x113)+(_0xd4cead??_0x23c9a9)+_0x26209a(0xab),'status':!![],'priority':0x5}),_0x5ca432();});}),_0x13feba=(_0x2be355,_0x1c339d)=>{const _0xb28c67=_0x28d877,_0x16365d=path[_0xb28c67(0x195)](path[_0xb28c67(0x138)](require[_0xb28c67(0xfd)][_0xb28c67(0x167)]),_0x2be355);return new Promise(_0x3ecfdd=>{const _0x2818d6=_0xb28c67;fs[_0x2818d6(0x126)](path[_0x2818d6(0x195)](path['dirname'](_0x16365d)),fs[_0x2818d6(0x16c)]['R_OK']|fs['constants'][_0x2818d6(0x160)],_0x2931d5=>{const _0x606346=_0x2818d6;_0x2931d5?_0x131605[_0x606346(0x15d)]({'title':_0x606346(0x11d)+_0x2be355,'status':![],'priority':_0x1c339d+0x6}):_0x131605[_0x606346(0x15d)]({'title':_0x606346(0x11d)+_0x2be355,'status':!![],'priority':_0x1c339d+0x6}),_0x3ecfdd();});});},_0x57b1bf=['/converters/files/',_0x28d877(0x1ad),_0x28d877(0x1f9),'/converters/files/print/',_0x28d877(0x107),'/content/redlines/',_0x28d877(0x1b8)],_0x5ba9fc=_0x57b1bf[_0x28d877(0x1aa)](_0x13feba);Promise[_0x28d877(0x19a)]([_0x2852d4,_0x1010b4,_0x382511,_0x56b57a,_0x68332e,..._0x5ba9fc])['then'](()=>{const _0x7ebb34=_0x28d877;_0x9749eb[_0x7ebb34(0x176)](0xc8)['json']({'checking_list':_0x131605});})[_0x28d877(0x15e)](()=>{const _0x16c663=_0x28d877;_0x9749eb[_0x16c663(0x176)](0x1f4)[_0x16c663(0x130)]({'error':'An\x20error\x20occurred\x20while\x20checking.'});});}),router[a27_0x4c54a3(0x1cd)]('/users',protectedRoute,async(_0x427b0e,_0x33515e)=>{const _0x5c301d=a27_0x4c54a3,_0x1152af=fs[_0x5c301d(0x1be)](path[_0x5c301d(0x195)](path[_0x5c301d(0x138)](require['main'][_0x5c301d(0x167)]),_0x5c301d(0xd9)),_0x5c301d(0x215)),_0x598a75=_0x1152af[_0x5c301d(0x197)]('{version}',_0x427b0e[_0x5c301d(0xb5)]);_0x33515e['send'](_0x598a75);}),router[a27_0x4c54a3(0x110)]('/users/list',async(_0x410f53,_0x332430)=>{const _0x5c4bcd=a27_0x4c54a3;let _0x61bada;try{const [_0x5dcfd4]=await conn[_0x5c4bcd(0xca)]()[_0x5c4bcd(0x15f)](_0x5c4bcd(0xb0),[]);_0x61bada=_0x5dcfd4;}catch(_0x38dc51){console[_0x5c4bcd(0xa9)](_0x38dc51),_0x332430['status'](0x1f4)[_0x5c4bcd(0x130)]({'error':_0x5c4bcd(0x150)});return;}_0x332430[_0x5c4bcd(0x176)](0xc8)[_0x5c4bcd(0x130)]({'success':!![],'data':_0x61bada});}),router[a27_0x4c54a3(0x110)](a27_0x4c54a3(0x8c),upload[a27_0x4c54a3(0x1dd)](a27_0x4c54a3(0x193)),async(_0x4f59f2,_0x1c2a68)=>{const _0x3be3a5=a27_0x4c54a3,{id:_0x3d0521,first_name:_0xb263e4,last_name:_0x4f2227,username:_0x239427,email:_0x5786ad,password:_0x12a7bb,is_enabled:_0x5c2346}=_0x4f59f2[_0x3be3a5(0x209)],_0x49fc95=_0x4f59f2[_0x3be3a5(0x209)]['role']===_0x3be3a5(0xe7)?'admin':_0x4f59f2[_0x3be3a5(0x209)][_0x3be3a5(0x202)]==='demo_user'?_0x3be3a5(0xcc):_0x3be3a5(0xfc);let _0x436865;console[_0x3be3a5(0xa9)](_0x3be3a5(0x141));_0x12a7bb&&(_0x436865=await bcrypt[_0x3be3a5(0x1a6)](_0x12a7bb,0xa));let _0x224db8=null;if(_0x4f59f2[_0x3be3a5(0x14b)]){const _0x280f16=_0x3be3a5(0x192)+randomUUID()+_0x3be3a5(0x12f);fs['copyFileSync'](_0x4f59f2[_0x3be3a5(0x14b)][_0x3be3a5(0x123)],'./'+_0x280f16),fs[_0x3be3a5(0x1b7)](_0x4f59f2[_0x3be3a5(0x14b)][_0x3be3a5(0x123)]),config[_0x3be3a5(0x1ab)]?_0x224db8=config['callbackMethod_gatewayUrl']+'/'+_0x280f16:_0x224db8=config[_0x3be3a5(0x1c1)]+'/'+_0x280f16;}if(_0x3d0521){try{let [_0x5e934f]=await conn[_0x3be3a5(0xca)]()['execute'](_0x3be3a5(0x145),[_0x5786ad,_0x239427,_0x3d0521]);if(_0x5e934f['length']>0x0)_0x1c2a68['status'](0x199)[_0x3be3a5(0x130)]({'error':_0x3be3a5(0x18d)});else{!_0x4f59f2[_0x3be3a5(0x14b)]&&([_0x5e934f]=await conn[_0x3be3a5(0xca)]()[_0x3be3a5(0x15f)](_0x3be3a5(0x1a3),[_0x3d0521]),_0x224db8=_0x5e934f[0x0][_0x3be3a5(0x1a1)]);const _0x20a087=_0x3be3a5(0x10f)+(_0x12a7bb?_0x3be3a5(0x1c0):'')+_0x3be3a5(0xb9);await conn[_0x3be3a5(0xca)]()[_0x3be3a5(0x15f)](_0x20a087,_0x12a7bb?[_0x224db8,_0xb263e4,_0x4f2227,_0x239427,_0x5786ad,_0x436865,_0x5c2346,_0x49fc95,_0x3d0521]:[_0x224db8,_0xb263e4,_0x4f2227,_0x239427,_0x5786ad,_0x5c2346,_0x49fc95,_0x3d0521]);}}catch(_0x45841d){console['log'](_0x45841d),_0x1c2a68[_0x3be3a5(0x176)](0x1f4)[_0x3be3a5(0x130)]({'error':_0x3be3a5(0x150)});return;}_0x1c2a68[_0x3be3a5(0x176)](0xc8)['json']({'success':!![],'message':_0x3be3a5(0x1ea)});}else{try{const [_0x46a7c4]=await conn[_0x3be3a5(0xca)]()[_0x3be3a5(0x15f)](_0x3be3a5(0x187),[_0x5786ad,_0x239427]);if(_0x46a7c4[_0x3be3a5(0xe4)]>0x0)_0x1c2a68[_0x3be3a5(0x176)](0x199)['json']({'error':_0x3be3a5(0x18d)});else{const _0x18871d=randomUUID();await conn[_0x3be3a5(0xca)]()['execute'](_0x3be3a5(0x114),[_0x224db8,_0xb263e4,_0x4f2227,_0x239427,_0x5786ad,_0x436865,_0x49fc95,_0x5c2346,_0x18871d]);const _0x112af2=_0x3be3a5(0xd5)+_0x18871d;fs['mkdirSync'](_0x112af2);}}catch(_0x53e737){console[_0x3be3a5(0xa9)](_0x53e737),_0x1c2a68[_0x3be3a5(0x176)](0x1f4)['json']({'error':_0x3be3a5(0x150)});return;}_0x1c2a68[_0x3be3a5(0x176)](0xc8)[_0x3be3a5(0x130)]({'success':!![],'message':_0x3be3a5(0x19e)});}}),router[a27_0x4c54a3(0x1b1)]('/users/flush-dir',async(_0x3f3dea,_0x97d276)=>{const _0x3069c5=a27_0x4c54a3,{userId:_0x1c213c}=_0x3f3dea[_0x3069c5(0x209)];let _0x5a7f18;try{const [_0x3ac93a]=await conn['promise']()[_0x3069c5(0x15f)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x1c213c]);_0x3ac93a[_0x3069c5(0xe4)]>0x0&&(_0x5a7f18=_0x3ac93a[0x0]);}catch(_0x25f432){console[_0x3069c5(0xa9)]({'err':_0x25f432}),_0x97d276[_0x3069c5(0x176)](0x1f4)[_0x3069c5(0x130)]({'error':_0x3069c5(0x150)});return;}if(!_0x5a7f18){_0x97d276[_0x3069c5(0x176)](0x191)[_0x3069c5(0x130)]({'error':_0x3069c5(0x12e)});return;}let _0x8a15e8=_0x5a7f18['folder_name'];if(!_0x8a15e8){_0x8a15e8=randomUUID();try{await conn['promise']()[_0x3069c5(0x15f)](_0x3069c5(0xfa),[_0x8a15e8,_0x1c213c]);}catch(_0x5accae){console[_0x3069c5(0xa9)]({'err':_0x5accae}),_0x97d276[_0x3069c5(0x176)](0x1f4)[_0x3069c5(0x130)]({'error':_0x3069c5(0x150)});return;}}const _0x5f151b=_0x3069c5(0xd5)+_0x8a15e8;console[_0x3069c5(0xa9)](_0x3069c5(0xc0)),console['log'](_0x5f151b),!fs[_0x3069c5(0x86)](_0x5f151b)&&fs[_0x3069c5(0xdc)](_0x5f151b),cleanCacheForUserFiles(_0x5f151b),fs['rmSync'](_0x5f151b,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x5f151b),_0x97d276[_0x3069c5(0x176)](0xc8)[_0x3069c5(0x130)]({'success':!![],'message':_0x3069c5(0xd4)});}),router[a27_0x4c54a3(0x1b1)]('/users/:userId',async(_0x2e90d0,_0x5871ef)=>{const _0x241396=a27_0x4c54a3,_0x5d0be0=_0x2e90d0['params'][_0x241396(0x1d1)];try{let _0x76a4;try{const [_0x40a8ed]=await conn[_0x241396(0xca)]()[_0x241396(0x15f)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x5d0be0]);_0x40a8ed[_0x241396(0xe4)]>0x0&&(_0x76a4=_0x40a8ed[0x0]);}catch(_0x1e3e0c){console[_0x241396(0xa9)]({'err':_0x1e3e0c}),_0x5871ef['status'](0x1f4)[_0x241396(0x130)]({'error':_0x241396(0x150)});return;}if(!_0x76a4){_0x5871ef[_0x241396(0x176)](0x191)[_0x241396(0x130)]({'error':_0x241396(0x12e)});return;}let _0x191830=_0x76a4[_0x241396(0x1bf)];if(_0x191830){const _0x3cd52b=_0x241396(0xd5)+_0x191830;fs[_0x241396(0x86)](_0x3cd52b)&&(cleanCacheForUserFiles(_0x3cd52b),fs[_0x241396(0x14e)](_0x3cd52b,{'recursive':!![],'force':!![]}));}await conn[_0x241396(0xca)]()['execute']('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x5d0be0]);}catch(_0x4661e1){console[_0x241396(0xa9)](_0x4661e1),_0x5871ef[_0x241396(0x176)](0x1f4)['json']({'error':_0x241396(0x150)});return;}_0x5871ef[_0x241396(0x176)](0xc8)['json']({'success':!![],'message':_0x241396(0xa8)});}),router[a27_0x4c54a3(0x1cd)]('/metrics',async(_0x413414,_0x5cf0be)=>{const _0x262786=a27_0x4c54a3,_0x5f1f89=osu['cpu'],_0x4a6902=osu['mem'],_0x16cf21=osu[_0x262786(0x219)],_0x216c25=osu['os'],_0x5bf9d6={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x1ed69e=os['platform']()==='win32'?'c:':'/';const _0xe04cf2=await _0x16cf21[_0x262786(0x1de)](_0x1ed69e);_0x5bf9d6[_0x262786(0xbf)]=_0xe04cf2[_0x262786(0x20f)],_0x5bf9d6[_0x262786(0x146)]=_0xe04cf2[_0x262786(0x120)],_0x5bf9d6[_0x262786(0x10c)]=_0xe04cf2[_0x262786(0x10c)],_0x5bf9d6[_0x262786(0x94)]=_0xe04cf2[_0x262786(0xc8)];}catch(_0x548e2c){console['log']('Error\x20getting\x20disk\x20usage',_0x548e2c);}const _0x2d59db={'usage':0x0,'count':0x0};try{_0x2d59db[_0x262786(0xa0)]=await _0x5f1f89[_0x262786(0xa0)](),_0x2d59db[_0x262786(0x122)]=_0x5f1f89[_0x262786(0x122)]();}catch(_0x1db287){console[_0x262786(0xa9)]('Error\x20getting\x20cpu\x20usage',_0x1db287);}const _0x2c02aa={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x2c02aa['os']=await _0x216c25[_0x262786(0xad)](),_0x2c02aa[_0x262786(0x177)]=_0x216c25[_0x262786(0x177)](),_0x2c02aa['ip']=_0x216c25['ip'](),_0x2c02aa[_0x262786(0x16a)]=_0x216c25[_0x262786(0x16a)](),_0x2c02aa[_0x262786(0xc4)]=_0x216c25[_0x262786(0xc4)](),_0x2c02aa[_0x262786(0x191)]=_0x216c25[_0x262786(0x191)](),_0x2c02aa[_0x262786(0x162)]=_0x216c25[_0x262786(0x162)](),_0x2c02aa[_0x262786(0x1bd)]=await osu[_0x262786(0x10a)]['who'](),_0x2c02aa[_0x262786(0x19b)]=await osu['osCmd'][_0x262786(0x19b)](),_0x2c02aa[_0x262786(0xc6)]=await osu[_0x262786(0x10a)][_0x262786(0xc6)]();}catch(_0x1780d5){console['log'](_0x262786(0x1ac),_0x1780d5);}const _0x5e6024={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x5e6024[_0x262786(0x183)]=await osu[_0x262786(0x98)][_0x262786(0x183)](),_0x5e6024[_0x262786(0x1b6)]=await osu[_0x262786(0x98)][_0x262786(0x1b6)]();}catch(_0x17933e){console['log'](_0x262786(0x11f),_0x17933e);}let _0x2f776e={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x310a41=await _0x4a6902[_0x262786(0x1de)]();_0x2f776e[_0x262786(0x1f7)]=_0x310a41[_0x262786(0x1f7)],_0x2f776e[_0x262786(0x1e1)]=_0x310a41[_0x262786(0x147)]/0x400/0x400,_0x2f776e[_0x262786(0x205)]=_0x310a41[_0x262786(0xde)]/0x400/0x400;}catch(_0x251ca8){console[_0x262786(0xa9)]('Error\x20getting\x20memory\x20info',_0x251ca8);}let _0x55cbcb=0x0;try{_0x55cbcb=await conn[_0x262786(0xca)]()[_0x262786(0x109)](_0x262786(0x108))['then'](([_0x359dc0])=>_0x359dc0[0x0][_0x262786(0xde)]);}catch(_0x42d0d3){console[_0x262786(0xa9)](_0x262786(0x9d),_0x42d0d3);}const _0x253d11=getMonitoringData(),_0x5c8fdd=_0x253d11['filter'](_0x55384e=>_0x55384e['conversionTimeSpend']!==null&&_0x55384e[_0x262786(0x1ff)]!==undefined),_0x29ec86=_0x253d11['filter'](_0x350711=>_0x350711[_0x262786(0xf9)]!==null&&_0x350711['conversionMemoryUsage']!==undefined)['map'](_0x1bbbe7=>parseFloat(_0x1bbbe7[_0x262786(0xf9)][_0x262786(0x197)]('Kb')['trim']())),_0x39507d=_0x5c8fdd[_0x262786(0x185)]((_0x1b1725,_0x451721)=>_0x1b1725+parseFloat(_0x451721[_0x262786(0x1ff)]),0x0)/_0x5c8fdd['length'],_0x12f2f0=_0x29ec86[_0x262786(0x185)]((_0x1cba37,_0x5429d6)=>_0x1cba37+_0x5429d6,0x0)/_0x29ec86[_0x262786(0xe4)];_0x5cf0be['json']({'requestsPerSecond':counter[_0x262786(0x99)](),'diskUsage':_0x5bf9d6,'cpus':_0x2d59db,'system':_0x2c02aa,'process':_0x5e6024,'totalMonitoringData':_0x253d11[_0x262786(0xe4)],'memory':_0x2f776e,'totalUsers':_0x55cbcb,'avgConvertionTime':_0x39507d,'avgMemoryUsage':_0x12f2f0});}),router[a27_0x4c54a3(0x110)]('/metrics/reset',(_0x150058,_0x477941)=>{const _0x4b8331=a27_0x4c54a3;counter['reset'](),_0x477941[_0x4b8331(0x130)]({'message':_0x4b8331(0x10d)});});const getMonitoringData=()=>{const _0x4998ba=a27_0x4c54a3,_0x4bb877=_0x4998ba(0x1f6);let _0x5b5ecb=[];try{_0x5b5ecb=JSON[_0x4998ba(0xce)](fs[_0x4998ba(0x1be)](_0x4bb877));}catch(_0x517f37){console[_0x4998ba(0xa9)](_0x4998ba(0x1ef));}return _0x5b5ecb;};router[a27_0x4c54a3(0x1cd)]('/conversion/list',async(_0x25ded5,_0x53edf2)=>{const _0x207c04=a27_0x4c54a3,{page:page=0x1,limit:limit=0xa}=_0x25ded5[_0x207c04(0x109)],_0x7fcdf5=(page-0x1)*limit;try{const _0x209c05=getMonitoringData(),_0x1ebf5f=_0x209c05[_0x207c04(0xe4)],_0x3f9c40=Math['ceil'](_0x1ebf5f/limit),_0x11b39a=_0x209c05[_0x207c04(0x104)](_0x7fcdf5,_0x7fcdf5+limit);_0x53edf2[_0x207c04(0x176)](0xc8)[_0x207c04(0x130)]({'data':_0x11b39a,'page':parseInt(''+page),'totalPages':_0x3f9c40,'total':_0x1ebf5f});}catch(_0x4c51e3){console[_0x207c04(0xa9)](_0x4c51e3),_0x53edf2['status'](0x1f4)['json']({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a27_0x4c54a3(0x1b1)](a27_0x4c54a3(0x20e),async(_0x11344f,_0x317f9c)=>{const _0x265061=a27_0x4c54a3,_0xada220=_0x265061(0x1f6);try{fs[_0x265061(0x17f)](_0xada220,JSON[_0x265061(0x17e)]([],null,0x4)),analyzeConverterFiles(),_0x317f9c[_0x265061(0x176)](0xc8)['json']({'message':_0x265061(0xf6)});}catch(_0x381772){console[_0x265061(0xa9)](_0x381772),_0x317f9c['status'](0x1f4)[_0x265061(0x130)]({'error':_0x265061(0x150)});}}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0xe9),async(_0x535b90,_0x26b0f7)=>{const _0x2b5a1c=a27_0x4c54a3,_0x15e0ae=getHotConfig()[_0x2b5a1c(0x161)][_0x2b5a1c(0x197)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0x535b90[_0x2b5a1c(0x109)],_0x3ad47c=(page-0x1)*limit;try{const _0x289cff=_0x15e0ae+_0x2b5a1c(0xf7);console[_0x2b5a1c(0xa9)](_0x289cff);const _0x225e32=fs[_0x2b5a1c(0x1be)](_0x289cff,'utf8'),_0x19cb1a=_0x225e32[_0x2b5a1c(0x13e)]('\x0a'),_0x44ba5d=[];_0x19cb1a[_0x2b5a1c(0x1ba)](_0x16a916=>{const _0x3d7919=_0x2b5a1c,_0x1eaf57=_0x16a916['split'](',');if(_0x1eaf57[_0x3d7919(0xe4)]<0x4)return;const _0x537fb7=_0x1eaf57[0x0],_0x19fa3c=_0x1eaf57[0x1],_0x5d5deb=parseFloat(_0x1eaf57[0x2]);_0x44ba5d[_0x3d7919(0x15d)]({'file':_0x537fb7['replaceAll']('\x22',''),'action':_0x19fa3c,'timeSpend':_0x5d5deb,'memoryUsage':_0x1eaf57[0x3]});});const _0x18847f=_0x44ba5d[_0x2b5a1c(0xe4)],_0x1cb729=Math['ceil'](_0x18847f/limit),_0x4ac178=_0x44ba5d[_0x2b5a1c(0x104)](_0x3ad47c,_0x3ad47c+limit);_0x26b0f7['status'](0xc8)[_0x2b5a1c(0x130)]({'data':_0x4ac178,'page':parseInt(''+page),'totalPages':_0x1cb729,'total':_0x18847f});}catch(_0x3b9f0b){console[_0x2b5a1c(0xa9)](_0x3b9f0b),_0x26b0f7[_0x2b5a1c(0x176)](0x1f4)[_0x2b5a1c(0x130)]({'error':_0x2b5a1c(0x150)});}}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0xc2),async(_0x48021c,_0xd5eed4)=>{const _0x2215e3=a27_0x4c54a3,_0x13deb8=path[_0x2215e3(0x195)](path[_0x2215e3(0x138)](require[_0x2215e3(0xfd)][_0x2215e3(0x167)]),'converters',_0x2215e3(0x1dc));try{let _0x4498a1=0x0,_0xf39b32=0x0;function _0x573f7c(_0x54f6de){const _0x2f7414=_0x2215e3;let _0x2d9a2a=0x0,_0xb4452b=0x0;if(fs[_0x2f7414(0x86)](_0x54f6de)){const _0x54d03e=fs[_0x2f7414(0xeb)](_0x54f6de);_0xb4452b=0x0;for(const _0x3477d2 of _0x54d03e){const _0x5afd11=path[_0x2f7414(0x195)](_0x54f6de,_0x3477d2),_0x148d61=fs[_0x2f7414(0x9c)](_0x5afd11);if(_0x148d61[_0x2f7414(0x97)]()&&_0x3477d2!==_0x2f7414(0x19f))_0xb4452b++,_0x2d9a2a+=_0x148d61[_0x2f7414(0xd7)];else{if(_0x148d61[_0x2f7414(0x134)]()){}}}}return{'size':_0x2d9a2a,'count':_0xb4452b};}const _0x4a46fa=_0x573f7c(_0x13deb8);_0x4498a1=_0x4a46fa[_0x2215e3(0xd7)],_0xf39b32=_0x4a46fa[_0x2215e3(0x122)],_0xd5eed4[_0x2215e3(0x130)]({'fileCount':_0xf39b32,'totalSize':_0x4498a1});}catch(_0x4b6b5f){console['error'](_0x2215e3(0x208),_0x4b6b5f),_0xd5eed4[_0x2215e3(0x176)](0x1f4)[_0x2215e3(0x130)]({'error':_0x2215e3(0x1d2)});}}),router[a27_0x4c54a3(0x1b1)]('/cache/flush',async(_0x11a757,_0x19471c)=>{const _0x4d311e=a27_0x4c54a3,_0x17912a=path[_0x4d311e(0x195)](path['dirname'](require['main']['filename']),_0x4d311e(0xd6),_0x4d311e(0x1dc));try{function _0x193ad1(_0x28a48a){const _0x7f9ff3=_0x4d311e;if(fs[_0x7f9ff3(0x86)](_0x28a48a)){const _0x562f2a=fs[_0x7f9ff3(0xeb)](_0x28a48a);for(const _0x5521fc of _0x562f2a){const _0x21565f=path[_0x7f9ff3(0x195)](_0x28a48a,_0x5521fc),_0x2124b2=fs['statSync'](_0x21565f);if(_0x2124b2[_0x7f9ff3(0x134)]()){}else _0x5521fc!==_0x7f9ff3(0x19f)&&fs['unlinkSync'](_0x21565f);}}}_0x193ad1(_0x17912a),analyzeConverterFiles(),_0x19471c['json']({'message':_0x4d311e(0x171)});}catch(_0xf70520){console[_0x4d311e(0xf2)]('Error\x20flushing\x20cache:',_0xf70520),_0x19471c['status'](0x1f4)[_0x4d311e(0x130)]({'error':'Failed\x20to\x20flush\x20cache'});}}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x1e7),async(_0x289493,_0x1c9298)=>{const _0x423611=a27_0x4c54a3;_0x1c9298[_0x423611(0x16b)](path[_0x423611(0x195)](path[_0x423611(0x138)](require[_0x423611(0xfd)][_0x423611(0x167)]),_0x423611(0x186)));}),router[a27_0x4c54a3(0x1cd)]('/cache',protectedRoute,async(_0xd8c9c,_0x3302ae)=>{const _0x170c48=a27_0x4c54a3,_0x54666f=fs[_0x170c48(0x1be)](path[_0x170c48(0x195)](path[_0x170c48(0x138)](require[_0x170c48(0xfd)][_0x170c48(0x167)]),'cadviewer/settings/conversion-cache.html'),'utf8'),_0x4eab97=_0x54666f[_0x170c48(0x197)](_0x170c48(0x11c),_0xd8c9c[_0x170c48(0xb5)]);_0x3302ae['send'](_0x4eab97);}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x11a),async(_0x4f1490,_0x1de09d)=>{const _0x5122ac=a27_0x4c54a3,{page:page=0x1,limit:limit=0x10}=_0x4f1490[_0x5122ac(0x109)],_0x404274=JSON[_0x5122ac(0xce)](fs[_0x5122ac(0x1be)](path['join'](path[_0x5122ac(0x138)](require[_0x5122ac(0xfd)][_0x5122ac(0x167)]),_0x5122ac(0x19c)))),_0x2d13c1=(page-0x1)*limit,_0x4293e0=page*limit,_0x1501a2=_0x404274['files'][_0x5122ac(0xe4)],_0x3eac62=Math[_0x5122ac(0x1d5)](_0x1501a2/limit),_0x3e943f=_0x404274['files'][_0x5122ac(0x104)](_0x2d13c1,_0x4293e0);_0x1de09d[_0x5122ac(0x130)]({'files':_0x3e943f,'pagination':{'total':_0x1501a2,'totalPages':_0x3eac62,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x16e),async(_0xd119fc,_0x1812d1)=>{const _0x67bd80=a27_0x4c54a3,{file:_0x217d75}=_0xd119fc[_0x67bd80(0x121)],_0x103faf=path[_0x67bd80(0x195)](path['dirname'](require[_0x67bd80(0xfd)]['filename']),'converters',_0x67bd80(0x1dc)),_0x468848=path[_0x67bd80(0x195)](_0x103faf,_0x217d75),_0x2f96c7=fs[_0x67bd80(0x1be)](_0x468848,_0x67bd80(0x215)),_0x4ee860=_0x2f96c7['split']('\x0a'),_0x595f5d=_0x4ee860[_0x67bd80(0x1aa)](_0x52513b=>{const _0x13f343=_0x67bd80,_0x1301bb=_0x52513b['split'](',');return _0x1301bb[_0x13f343(0x1aa)](_0x126471=>_0x126471[_0x13f343(0x197)]('\x22',''));});_0x1812d1[_0x67bd80(0x130)](_0x595f5d);}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0xaa),async(_0x504c76,_0x5d3c66)=>{const _0x3c11c3=a27_0x4c54a3,{id:_0x5516dd}=_0x504c76[_0x3c11c3(0x121)],_0x2ebd74=path['join'](path['dirname'](require[_0x3c11c3(0xfd)][_0x3c11c3(0x167)]),'converters','files'),_0x1b45ac=path[_0x3c11c3(0x195)](_0x2ebd74,_0x5516dd);if(_0x1b45ac[_0x3c11c3(0x210)](_0x3c11c3(0x1a0))){var _0x153570=require('zlib');const _0x3518cc=fs['readFileSync'](_0x1b45ac),_0x1ab54c=_0x153570[_0x3c11c3(0x1ca)](_0x3518cc);_0x5d3c66['setHeader'](_0x3c11c3(0x1eb),_0x3c11c3(0x1c6)),_0x5d3c66[_0x3c11c3(0x159)](_0x1ab54c);}else _0x5d3c66[_0x3c11c3(0x16b)](_0x1b45ac);}),router['delete'](a27_0x4c54a3(0xaa),async(_0x2b673d,_0x115dee)=>{const _0x21cd89=a27_0x4c54a3,{id:_0x3292b7}=_0x2b673d[_0x21cd89(0x121)],_0x453b14=path[_0x21cd89(0x195)](path['dirname'](require[_0x21cd89(0xfd)][_0x21cd89(0x167)]),'converters',_0x21cd89(0x1dc)),_0x12e07e=JSON['parse'](fs[_0x21cd89(0x1be)](path[_0x21cd89(0x195)](path[_0x21cd89(0x138)](require[_0x21cd89(0xfd)][_0x21cd89(0x167)]),_0x21cd89(0x19c)))),_0x40a73c=_0x12e07e[_0x21cd89(0x1dc)][_0x21cd89(0x80)](_0x5a78df=>_0x5a78df[_0x21cd89(0x1f5)]===_0x3292b7);if(_0x40a73c){try{fs['existsSync'](path[_0x21cd89(0x195)](_0x453b14,_0x40a73c['name']))&&fs[_0x21cd89(0x1b7)](path[_0x21cd89(0x195)](_0x453b14,_0x40a73c[_0x21cd89(0x1f5)]));}catch(_0x137b76){console[_0x21cd89(0xa9)](_0x21cd89(0x166),{'e':_0x137b76});}(_0x40a73c[_0x21cd89(0x117)]??[])[_0x21cd89(0x1ba)](_0x449832=>{const _0x3776f8=_0x21cd89;try{fs[_0x3776f8(0x86)](path[_0x3776f8(0x195)](_0x453b14,_0x449832['id']))&&fs['unlinkSync'](path[_0x3776f8(0x195)](_0x453b14,_0x449832['id']));}catch(_0x5a4e7b){console['log']('Error\x20deleting\x20file',{'e':_0x5a4e7b});}});}analyzeConverterFiles(),_0x115dee['json']({'message':_0x21cd89(0x127)});});const deleteOldDemoUsers=async()=>{const _0x10809b=a27_0x4c54a3;console[_0x10809b(0xa9)](_0x10809b(0x157));const _0xfb3543=config['demoUserRetentionDays'],_0x151258=_0x10809b(0x136);try{const [_0x5eb619]=await conn['promise']()[_0x10809b(0x15f)](_0x151258,[_0xfb3543]),_0x437451=_0x5eb619[_0x10809b(0x1aa)](_0x54b367=>_0x54b367[_0x10809b(0x1bf)]),_0x2148e7=_0x5eb619[_0x10809b(0x1aa)](_0x4a0a19=>_0x4a0a19['email']);console[_0x10809b(0xa9)](_0x2148e7),await conn[_0x10809b(0xca)]()[_0x10809b(0x15f)](_0x10809b(0x88),[_0xfb3543]),_0x437451['forEach'](_0x5f3a1a=>{const _0x1617dd=_0x10809b;try{const _0x10cf9b=_0x1617dd(0xd5)+_0x5f3a1a;cleanCacheForUserFiles(_0x10cf9b),fs[_0x1617dd(0xd3)](_0x10cf9b);}catch(_0x4f49f5){console[_0x1617dd(0xf2)](_0x1617dd(0xa5),_0x4f49f5);}}),console[_0x10809b(0xa9)]('Old\x20demo_user\x20accounts\x20('+_0x5eb619['length']+')\x20older\x20than\x20'+_0xfb3543+_0x10809b(0x211));}catch(_0x374072){console[_0x10809b(0xf2)](_0x10809b(0xea),_0x374072);}};schedule[a27_0x4c54a3(0xc1)](a27_0x4c54a3(0xcf),deleteOldDemoUsers),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x91),protectedRoute,async(_0x8e0b4b,_0x4b1bfd)=>{const _0x2f1f45=a27_0x4c54a3,_0x41b0c1=fs[_0x2f1f45(0x1be)](path[_0x2f1f45(0x195)](path['dirname'](require['main'][_0x2f1f45(0x167)]),_0x2f1f45(0x9b)),'utf8'),_0x2759=_0x41b0c1[_0x2f1f45(0x197)](_0x2f1f45(0x11c),_0x8e0b4b[_0x2f1f45(0xb5)]);_0x4b1bfd[_0x2f1f45(0x159)](_0x2759);});const exportUsersList=async()=>{const _0x55037a=a27_0x4c54a3;console['log'](_0x55037a(0x1f8));const _0x36e8f5=path[_0x55037a(0x195)](path['dirname'](require['main'][_0x55037a(0x167)]),'exports');!fs[_0x55037a(0x86)](_0x36e8f5)&&fs['mkdirSync'](_0x36e8f5);const _0x41d205=config[_0x55037a(0x168)]||_0x55037a(0x178);let _0x2af625;const _0x3e3c5f=path['join'](_0x36e8f5,'last-users-export.json');if(fs[_0x55037a(0x86)](_0x3e3c5f))try{const _0xa9c074=JSON[_0x55037a(0xce)](fs['readFileSync'](_0x3e3c5f,'utf8'));_0x2af625=new Date(_0xa9c074[_0x55037a(0xe0)]);}catch(_0x106c9b){console[_0x55037a(0xf2)](_0x55037a(0x214),_0x106c9b),_0x2af625=calculateDefaultLastExportDate(_0x41d205);}else _0x2af625=calculateDefaultLastExportDate(_0x41d205);const _0x4eed15=new Date(),_0x1c9fa8=_0x4eed15[_0x55037a(0x8a)]()+'-'+String(_0x4eed15[_0x55037a(0x1d6)]()+0x1)[_0x55037a(0x1e2)](0x2,'0')+'-'+String(_0x4eed15[_0x55037a(0x16d)]())[_0x55037a(0x1e2)](0x2,'0'),_0x30544f=_0x55037a(0xbd)+_0x1c9fa8+_0x55037a(0x153),_0x332dc6=path[_0x55037a(0x195)](_0x36e8f5,_0x30544f);try{const _0x1978f1=_0x55037a(0xa7),[_0xc9f29e]=await conn[_0x55037a(0xca)]()[_0x55037a(0x15f)](_0x1978f1,[_0x2af625]);if(_0xc9f29e[_0x55037a(0xe4)]===0x0){console[_0x55037a(0xa9)](_0x55037a(0xcb));return;}let _0x134eea='email,firstname,lastname\x0a';_0xc9f29e['forEach'](_0x1c81ee=>{const _0x4bb9b3=_0x55037a,_0x29886f=_0x1c81ee[_0x4bb9b3(0x82)]?'\x22'+_0x1c81ee[_0x4bb9b3(0x82)][_0x4bb9b3(0xb6)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x1ba493=_0x1c81ee[_0x4bb9b3(0x1c8)]?'\x22'+_0x1c81ee['first_name'][_0x4bb9b3(0xb6)](/"/g,'\x22\x22')+'\x22':'\x22\x22',_0x780313=_0x1c81ee[_0x4bb9b3(0x106)]?'\x22'+_0x1c81ee[_0x4bb9b3(0x106)][_0x4bb9b3(0xb6)](/"/g,'\x22\x22')+'\x22':'\x22\x22';_0x134eea+=_0x29886f+','+_0x1ba493+','+_0x780313+'\x0a';}),fs[_0x55037a(0x17f)](_0x332dc6,_0x134eea),console[_0x55037a(0xa9)](_0x55037a(0x144)+_0xc9f29e[_0x55037a(0xe4)]+_0x55037a(0x11b)+_0x332dc6);const _0x3d80f9={'lastExportDate':_0x4eed15[_0x55037a(0xf0)](),'fileName':_0x30544f,'userCount':_0xc9f29e[_0x55037a(0xe4)]};fs[_0x55037a(0x17f)](_0x3e3c5f,JSON[_0x55037a(0x17e)](_0x3d80f9,null,0x2));}catch(_0x2d1d98){console[_0x55037a(0xf2)]('Error\x20exporting\x20users\x20for\x20Google\x20Ads:',_0x2d1d98);}},calculateDefaultLastExportDate=_0x59d414=>{const _0x29822f=a27_0x4c54a3,_0x478af8=new Date();return _0x59d414===_0x29822f(0x14a)?_0x478af8[_0x29822f(0x151)](_0x478af8['getDate']()-0xe):_0x478af8[_0x29822f(0x12c)](_0x478af8[_0x29822f(0x1d6)]()-0x1),_0x478af8;};router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x1da),async(_0x139eb7,_0x5b4da7)=>{const _0x327c68=a27_0x4c54a3,_0x18cf32=path[_0x327c68(0x195)](path[_0x327c68(0x138)](require[_0x327c68(0xfd)][_0x327c68(0x167)]),_0x327c68(0xf8));if(!fs[_0x327c68(0x86)](_0x18cf32))return _0x5b4da7['status'](0xc8)[_0x327c68(0x130)]({'exports':[]});try{const _0x558091=fs[_0x327c68(0xeb)](_0x18cf32)[_0x327c68(0x1bc)](_0x2d97da=>_0x2d97da['startsWith'](_0x327c68(0xbd))&&_0x2d97da[_0x327c68(0x210)]('.csv'))[_0x327c68(0x1aa)](_0x57933f=>{const _0x7bc3c=_0x327c68,_0x17e1b3=path['join'](_0x18cf32,_0x57933f),_0x123577=fs[_0x7bc3c(0x9c)](_0x17e1b3),_0x3051d2=fs[_0x7bc3c(0x1be)](_0x17e1b3,_0x7bc3c(0x215)),_0x342366=_0x3051d2[_0x7bc3c(0x13e)]('\x0a')['length']-0x1;return{'fileName':_0x57933f,'createdAt':_0x123577[_0x7bc3c(0xac)],'userCount':_0x342366};})['sort']((_0x3b1c70,_0x5d7248)=>_0x5d7248[_0x327c68(0x12d)]-_0x3b1c70[_0x327c68(0x12d)]);_0x5b4da7['status'](0xc8)[_0x327c68(0x130)]({'exports':_0x558091});}catch(_0x47a108){console[_0x327c68(0xf2)](_0x327c68(0x137),_0x47a108),_0x5b4da7['status'](0x1f4)[_0x327c68(0x130)]({'error':_0x327c68(0xa4)});}}),router['post'](a27_0x4c54a3(0xc7),async(_0x180618,_0xb169c8)=>{const _0x2c327d=a27_0x4c54a3;try{await exportUsersList(),_0xb169c8['status'](0xc8)[_0x2c327d(0x130)]({'message':_0x2c327d(0xd2)});}catch(_0x2a3303){console['error']('Error\x20triggering\x20Users\x20export:',_0x2a3303),_0xb169c8[_0x2c327d(0x176)](0x1f4)[_0x2c327d(0x130)]({'error':_0x2c327d(0xc9)});}}),router[a27_0x4c54a3(0x1cd)](a27_0x4c54a3(0x1d4),async(_0x4065f1,_0x10e887)=>{const _0x1bdd44=a27_0x4c54a3,{fileName:_0x191692}=_0x4065f1['params'],_0x15afeb=path['join'](path['dirname'](require['main'][_0x1bdd44(0x167)]),_0x1bdd44(0xf8),_0x191692);if(!fs[_0x1bdd44(0x86)](_0x15afeb))return _0x10e887[_0x1bdd44(0x176)](0x194)[_0x1bdd44(0x130)]({'error':_0x1bdd44(0x96)});_0x10e887[_0x1bdd44(0x7f)](_0x15afeb);});const cleanCacheForUserFiles=_0x46488e=>{const _0x4330fc=a27_0x4c54a3;try{if(!fs['existsSync'](_0x46488e)){console['log']('Directory\x20'+_0x46488e+_0x4330fc(0x217));return;}const _0x1f7a8f=path['join'](path[_0x4330fc(0x138)](require['main']['filename']),_0x4330fc(0xd6),'files');if(!fs[_0x4330fc(0x86)](_0x1f7a8f)){console[_0x4330fc(0xa9)](_0x4330fc(0x1a8)+_0x1f7a8f+_0x4330fc(0x217));return;}const _0x59b597=JSON[_0x4330fc(0xce)](fs[_0x4330fc(0x1be)](path[_0x4330fc(0x195)](path[_0x4330fc(0x138)](require[_0x4330fc(0xfd)][_0x4330fc(0x167)]),_0x4330fc(0x19c)))),_0x3fd798=fs[_0x4330fc(0xeb)](_0x46488e);_0x3fd798[_0x4330fc(0x1ba)](_0x54a26a=>{const _0x2ce52d=_0x4330fc;_0x59b597[_0x2ce52d(0x1dc)][_0x2ce52d(0x1ba)](_0x28cdd2=>{const _0x1b9c3f=_0x2ce52d;_0x28cdd2[_0x1b9c3f(0xec)]===_0x54a26a&&_0x28cdd2[_0x1b9c3f(0x117)][_0x1b9c3f(0x1ba)](_0x4c2dc3=>{const _0x1f3186=_0x1b9c3f;try{fs[_0x1f3186(0x1b7)](path[_0x1f3186(0x195)](_0x1f7a8f,_0x4c2dc3['id']));}catch(_0xc1fafc){console[_0x1f3186(0xf2)]('Error\x20deleting\x20cache\x20file\x20'+_0x4c2dc3['id']+':',_0xc1fafc);}});});}),analyzeConverterFiles(),console['log'](_0x4330fc(0x135)+_0x46488e);}catch(_0x122bab){console['error']('Error\x20cleaning\x20cache\x20for\x20user\x20files:',_0x122bab);}};schedule[a27_0x4c54a3(0xc1)](a27_0x4c54a3(0xa3),exportUsersList),schedule[a27_0x4c54a3(0xc1)](a27_0x4c54a3(0x9f),sendFollowUpEmails),schedule[a27_0x4c54a3(0xc1)](a27_0x4c54a3(0x148),sendAccountDeletionPreventionEmails);const analyzeConverterFiles=()=>{const _0x6804f9=a27_0x4c54a3;try{const _0x2726c8=path[_0x6804f9(0x195)](path[_0x6804f9(0x138)](require[_0x6804f9(0xfd)][_0x6804f9(0x167)]),_0x6804f9(0xd6),_0x6804f9(0x1dc)),_0xcdaa01=path[_0x6804f9(0x195)](path[_0x6804f9(0x138)](require[_0x6804f9(0xfd)]['filename']),'cadviewer',_0x6804f9(0x1a9));if(!fs['existsSync'](_0x2726c8)){logStream[_0x6804f9(0x189)](_0x6804f9(0x12b)+_0x2726c8+_0x6804f9(0x90));return;}if(!fs['existsSync'](_0xcdaa01)){logStream[_0x6804f9(0x189)]('Le\x20dossier\x20'+_0xcdaa01+'\x20n\x27existe\x20pas.');return;}const _0x2e0329=fs[_0x6804f9(0xeb)](_0x2726c8),_0x5f2433={};_0x2e0329[_0x6804f9(0x1ba)](_0x39e051=>{const _0x50635c=_0x6804f9,_0xbe7d40=path['join'](_0x2726c8,_0x39e051),_0x5472a9=fs[_0x50635c(0x9c)](_0xbe7d40),_0x83d854=_0x39e051[_0x50635c(0x13e)]('.'),_0x2a110f=_0x83d854[_0x50635c(0x104)](0x0,-0x1)[_0x50635c(0x1bc)]((_0x2f4208,_0x5a2a76)=>!([_0x50635c(0x207),'rl'][_0x50635c(0x163)](_0x2f4208[_0x50635c(0x139)]())&&_0x5a2a76===_0x83d854[_0x50635c(0xe4)]-0x2))[_0x50635c(0x195)]('.');!Object['keys'](_0x5f2433)[_0x50635c(0x163)](_0x2a110f)?_0x5f2433[_0x2a110f]=[{'file':_0x39e051,'stats':_0x5472a9}]:_0x5f2433[_0x2a110f][_0x50635c(0x15d)]({'file':_0x39e051,'stats':_0x5472a9});});const _0x4c21f4=[];_0x2e0329[_0x6804f9(0x1ba)](_0x4f1354=>{const _0x1f2e92=_0x6804f9;if(!_0x4f1354[_0x1f2e92(0x210)](_0x1f2e92(0x1fe)))return;let _0x4e0826=_0x4f1354;const _0x17a650=path[_0x1f2e92(0x195)](_0x2726c8,_0x4f1354),_0x5d68b6=fs['statSync'](_0x17a650);let _0x68ff98=_0x5d68b6[_0x1f2e92(0xd7)],_0x3efe0e='';const _0x524735=fs['readFileSync'](_0x17a650,_0x1f2e92(0x215)),_0x8b8c13=JSON['parse'](_0x524735),_0xbc24c0=_0x8b8c13[_0x1f2e92(0x188)]?.[_0x1f2e92(0x1aa)](_0x5dc9bb=>_0x5dc9bb[_0x1f2e92(0x1c3)])??[];if(_0x8b8c13[_0x1f2e92(0x167)])_0x4e0826=_0x8b8c13[_0x1f2e92(0x167)];const _0x13d6d4=_0x4f1354['split']('.'),_0x334a67=_0x13d6d4[_0x1f2e92(0x104)](0x0,-0x1)['filter']((_0x30a28d,_0x376178)=>!([_0x1f2e92(0x207),'rl']['includes'](_0x30a28d['toLocaleLowerCase']())&&_0x376178===_0x13d6d4['length']-0x2))[_0x1f2e92(0x195)]('.'),_0x54bcf9=Object[_0x1f2e92(0x1e4)](_0x5f2433)[_0x1f2e92(0x163)](_0x334a67)?_0x5f2433[_0x334a67]:[];for(const _0x54fe7a of _0xbc24c0){Object[_0x1f2e92(0x1e4)](_0x5f2433)[_0x1f2e92(0x163)](_0x54fe7a)&&_0x54bcf9[_0x1f2e92(0x15d)](..._0x5f2433[_0x54fe7a]);}const _0x25ef20=_0x54bcf9[_0x1f2e92(0x1aa)](({file:_0x9d2d99,stats:_0x4d7067})=>{const _0x1bc6e9=_0x1f2e92;return!_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0x1fe))&&(_0x68ff98+=_0x4d7067[_0x1bc6e9(0xd7)]),{'id':_0x9d2d99,'name':_0x9d2d99[_0x1bc6e9(0x210)]('.svg')?_0x1bc6e9(0x132):_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0x1a0))?_0x1bc6e9(0x13f):_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0xf1))?_0x1bc6e9(0xb3):_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0x85))?'JSON':_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0x153))?'CSV':_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0xa1))?_0x1bc6e9(0xdf):_0x9d2d99[_0x1bc6e9(0x13e)]('.')[_0x1bc6e9(0x18f)]()[_0x1bc6e9(0x1e6)](),'color':_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0x142))||_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0x1a0))?_0x1bc6e9(0x143):_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0xf1))?_0x1bc6e9(0x18c):_0x9d2d99['endsWith'](_0x1bc6e9(0x85))?'gray':_0x9d2d99[_0x1bc6e9(0x210)](_0x1bc6e9(0x153))?'green':_0x9d2d99['endsWith'](_0x1bc6e9(0xa1))?_0x1bc6e9(0x14d):_0x1bc6e9(0xc3)};});if(_0x25ef20[_0x1f2e92(0x1af)](_0xe2ccbe=>_0xe2ccbe['id']['includes'](_0x1f2e92(0x174))))_0x3efe0e=_0x1f2e92(0x1e3);else{if(_0x25ef20[_0x1f2e92(0x1af)](_0x26da26=>[_0x1f2e92(0x17a),_0x1f2e92(0x9a)]['includes'](_0x26da26['id'][_0x1f2e92(0x13e)]('.')[_0x1f2e92(0x18f)]()))&&_0x25ef20[_0x1f2e92(0x1af)](_0x3fcfc1=>['csv']['includes'](_0x3fcfc1['id'][_0x1f2e92(0x13e)]('.')[_0x1f2e92(0x18f)]())))_0x3efe0e=_0x1f2e92(0x1c7);else{if(_0x25ef20['some'](_0x323dff=>[_0x1f2e92(0x17a),_0x1f2e92(0x9a)][_0x1f2e92(0x163)](_0x323dff['id'][_0x1f2e92(0x13e)]('.')[_0x1f2e92(0x18f)]())))_0x3efe0e=_0x1f2e92(0x1cc);else{if(_0x25ef20[_0x1f2e92(0x1af)](_0x4bf9f4=>['json'][_0x1f2e92(0x163)](_0x4bf9f4['id'][_0x1f2e92(0x13e)]('.')[_0x1f2e92(0x18f)]()))&&_0x25ef20[_0x1f2e92(0x1af)](_0x5f561e=>[_0x1f2e92(0x207)][_0x1f2e92(0x163)](_0x5f561e['id']['split']('.')[_0x1f2e92(0x18f)]())))_0x3efe0e='JSON\x20Data\x20Extraction';else{if(_0x25ef20[_0x1f2e92(0x1af)](_0x2edc44=>[_0x1f2e92(0x1ee)]['includes'](_0x2edc44['id'][_0x1f2e92(0x13e)]('.')[_0x1f2e92(0x18f)]())))_0x3efe0e=_0x1f2e92(0x1d0);else{if(_0x25ef20['some'](_0x3b7852=>[_0x1f2e92(0x130)][_0x1f2e92(0x163)](_0x3b7852['id'][_0x1f2e92(0x13e)]('.')[_0x1f2e92(0x18f)]()))&&!_0x25ef20[_0x1f2e92(0x1af)](_0xf969d5=>[_0x1f2e92(0x207)][_0x1f2e92(0x163)](_0xf969d5['id']['split']('.')[_0x1f2e92(0x18f)]())))_0x3efe0e=_0x1f2e92(0x1d3);else _0x25ef20[_0x1f2e92(0x1af)](_0x476033=>[_0x1f2e92(0x130)][_0x1f2e92(0x163)](_0x476033['id']['split']('.')[_0x1f2e92(0x18f)]()))&&(_0x3efe0e='Cache\x20conversion');}}}}}_0x4c21f4['push']({'name':_0x4f1354,'goodFileName':_0x4e0826,'size':_0x68ff98,'createdAt':_0x5d68b6[_0x1f2e92(0xac)],'updatedAt':_0x5d68b6['ctime'],'readAt':_0x5d68b6[_0x1f2e92(0x1bb)],'action':_0x3efe0e,'availableFormats':_0x25ef20});}),_0x4c21f4['sort']((_0x5a6cc2,_0x211c64)=>_0x211c64[_0x6804f9(0x1fa)]-_0x5a6cc2[_0x6804f9(0x1fa)]);const _0x189d36={'timestamp':new Date(),'totalFiles':_0x4c21f4[_0x6804f9(0xe4)],'files':_0x4c21f4},_0x148006=path[_0x6804f9(0x195)](_0xcdaa01,'converter-files-analysis.json');fs[_0x6804f9(0x17f)](_0x148006,JSON['stringify'](_0x189d36,null,0x2));}catch(_0x400fe3){console[_0x6804f9(0xa9)]('===================error==================='),console[_0x6804f9(0xa9)]('Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20'+_0x400fe3[_0x6804f9(0x204)]);}},scheduleFileAnalysis=()=>{const _0x13cd67=a27_0x4c54a3;analyzeConverterFiles(),schedule['scheduleJob'](_0x13cd67(0x118),analyzeConverterFiles),logStream['write']('Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)');};scheduleFileAnalysis(),module[a27_0x4c54a3(0xf8)]={'router':router,'analyzeConverterFiles':analyzeConverterFiles};