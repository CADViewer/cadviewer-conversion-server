const a26_0x33ea86=a26_0x50da;(function(_0x28b5c5,_0xe82d9e){const _0x28f9e4=a26_0x50da,_0x3d2d62=_0x28b5c5();while(!![]){try{const _0x165d63=-parseInt(_0x28f9e4(0x1eb))/0x1+-parseInt(_0x28f9e4(0x301))/0x2+-parseInt(_0x28f9e4(0x2c8))/0x3*(-parseInt(_0x28f9e4(0x284))/0x4)+parseInt(_0x28f9e4(0x2c9))/0x5*(-parseInt(_0x28f9e4(0x2e8))/0x6)+parseInt(_0x28f9e4(0x222))/0x7+parseInt(_0x28f9e4(0x294))/0x8+-parseInt(_0x28f9e4(0x2a6))/0x9*(-parseInt(_0x28f9e4(0x1d6))/0xa);if(_0x165d63===_0xe82d9e)break;else _0x3d2d62['push'](_0x3d2d62['shift']());}catch(_0x24bc7d){_0x3d2d62['push'](_0x3d2d62['shift']());}}}(a26_0x51da,0x5844e));const express=require(a26_0x33ea86(0x2b4)),router=express[a26_0x33ea86(0x2dd)](),multer=require(a26_0x33ea86(0x25b)),fs=require('fs'),path=require(a26_0x33ea86(0x1d0)),getHotConfig=require(a26_0x33ea86(0x32f))[a26_0x33ea86(0x210)],{exec}=require('child_process'),os=require('os'),conn=require(a26_0x33ea86(0x2a2)),bcrypt=require(a26_0x33ea86(0x1be)),osu=require(a26_0x33ea86(0x2c0)),schedule=require(a26_0x33ea86(0x244)),counter=require(a26_0x33ea86(0x1e6)),{randomUUID}=require(a26_0x33ea86(0x2db)),logStream=require(a26_0x33ea86(0x1f6)),config=require(a26_0x33ea86(0x1c6)),basicAuth=require(a26_0x33ea86(0x255)),protectedRoute=basicAuth({'users':{[config[a26_0x33ea86(0x317)]]:config[a26_0x33ea86(0x302)]},'challenge':!![],'realm':a26_0x33ea86(0x27a)});router[a26_0x33ea86(0x2a9)]('/tailwind.js',async(_0x3d05b0,_0x3159df)=>{const _0x463810=a26_0x33ea86;_0x3159df[_0x463810(0x202)](path[_0x463810(0x24e)](path[_0x463810(0x265)](require['main'][_0x463810(0x300)]),_0x463810(0x238)));}),router['get'](a26_0x33ea86(0x237),async(_0x48e771,_0x313834)=>{const _0x429f51=a26_0x33ea86;_0x313834[_0x429f51(0x202)](path['join'](path['dirname'](require[_0x429f51(0x2f5)][_0x429f51(0x300)]),'cadviewer/settings/chart.min.js'));}),router['get'](a26_0x33ea86(0x1e5),async(_0x3b1c01,_0x578674)=>{const _0x13ace3=a26_0x33ea86;_0x578674['sendFile'](path[_0x13ace3(0x24e)](path['dirname'](require[_0x13ace3(0x2f5)][_0x13ace3(0x300)]),'cadviewer/settings/style.css'));}),router[a26_0x33ea86(0x2a9)]('/vanilla-toast.css',async(_0x211235,_0x515eed)=>{const _0x3af476=a26_0x33ea86;_0x515eed[_0x3af476(0x202)](path[_0x3af476(0x24e)](path[_0x3af476(0x265)](require[_0x3af476(0x2f5)][_0x3af476(0x300)]),_0x3af476(0x251)));}),router[a26_0x33ea86(0x2a9)]('/vanilla-toast.js',async(_0x546ff8,_0x4e2f7c)=>{const _0x193458=a26_0x33ea86;_0x4e2f7c['sendFile'](path[_0x193458(0x24e)](path['dirname'](require['main'][_0x193458(0x300)]),_0x193458(0x319)));}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x2ec),async(_0x502e92,_0x21bb05)=>{const _0x1a0be1=a26_0x33ea86;_0x21bb05['sendFile'](path[_0x1a0be1(0x24e)](path[_0x1a0be1(0x265)](require['main'][_0x1a0be1(0x300)]),_0x1a0be1(0x25f)));}),router[a26_0x33ea86(0x2a9)]('/',protectedRoute,async(_0x4d4c10,_0x499910)=>{const _0x4151d7=a26_0x33ea86,_0x1311b5=fs['readFileSync'](path[_0x4151d7(0x24e)](path['dirname'](require[_0x4151d7(0x2f5)][_0x4151d7(0x300)]),_0x4151d7(0x271)),'utf8'),_0x109e27=_0x1311b5[_0x4151d7(0x211)](_0x4151d7(0x2cf),_0x4d4c10['version']);_0x499910[_0x4151d7(0x1b2)](_0x109e27);}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x29e),protectedRoute,async(_0x5eb7e0,_0x493e45)=>{const _0x9dd40e=a26_0x33ea86,_0x42968a=fs[_0x9dd40e(0x221)](path[_0x9dd40e(0x24e)](path[_0x9dd40e(0x265)](require[_0x9dd40e(0x2f5)][_0x9dd40e(0x300)]),_0x9dd40e(0x315)),_0x9dd40e(0x242)),_0x2edca6=_0x42968a[_0x9dd40e(0x211)](_0x9dd40e(0x2cf),_0x5eb7e0[_0x9dd40e(0x283)]);_0x493e45[_0x9dd40e(0x1b2)](_0x2edca6);}),router[a26_0x33ea86(0x2a9)]('/config',protectedRoute,async(_0x5ae95f,_0x47ac18)=>{const _0x1938f6=a26_0x33ea86,_0x4efd54=fs[_0x1938f6(0x221)](path['join'](path[_0x1938f6(0x265)](require[_0x1938f6(0x2f5)]['filename']),_0x1938f6(0x2be)),'utf8'),_0x3f058f=_0x4efd54[_0x1938f6(0x211)](_0x1938f6(0x2cf),_0x5ae95f[_0x1938f6(0x283)]);_0x47ac18['send'](_0x3f058f);}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x23c),protectedRoute,async(_0x2093ce,_0x106102)=>{const _0x4c7843=a26_0x33ea86,_0x424e4c=fs[_0x4c7843(0x221)](path[_0x4c7843(0x24e)](path[_0x4c7843(0x265)](require['main']['filename']),_0x4c7843(0x2fd)),_0x4c7843(0x242)),_0x6fc476=_0x424e4c[_0x4c7843(0x211)](_0x4c7843(0x2cf),_0x2093ce[_0x4c7843(0x283)]);_0x106102['send'](_0x6fc476);}),router['post'](a26_0x33ea86(0x23c),async(_0x5a7847,_0x1fb3f3)=>{const _0x2a8873=a26_0x33ea86,_0x315b75=path[_0x2a8873(0x24e)](path[_0x2a8873(0x265)](require[_0x2a8873(0x2f5)]['filename']),_0x2a8873(0x241)),_0x40f406=JSON[_0x2a8873(0x1c2)](fs[_0x2a8873(0x221)](_0x315b75,_0x2a8873(0x242))),_0x2640f3=_0x40f406[_0x2a8873(0x306)];if(!fs['existsSync'](_0x2640f3))return _0x1fb3f3[_0x2a8873(0x231)](0x194)['json']({'message':_0x2a8873(0x324)});const _0x3985d1=_0x24fd18=>{const _0x42d9c2=_0x2a8873;let _0x2f5bd3=0x0;return _0x24fd18[_0x42d9c2(0x286)](_0x146d4e=>{const _0x7bbbfe=_0x42d9c2;_0x146d4e[_0x7bbbfe(0x264)]?_0x2f5bd3+=_0x3985d1(_0x146d4e[_0x7bbbfe(0x28c)]):_0x2f5bd3+=_0x146d4e[_0x7bbbfe(0x26c)];}),_0x2f5bd3;},_0x14ec80=_0x1382b8=>{const _0x4e7f2e=_0x2a8873;if(_0x1382b8<0x400)return _0x1382b8+'\x20B';else{if(_0x1382b8<0x400*0x400)return(_0x1382b8/0x400)['toFixed'](0x2)+_0x4e7f2e(0x2ef);else return _0x1382b8<0x400*0x400*0x400?(_0x1382b8/0x400/0x400)[_0x4e7f2e(0x1a2)](0x2)+_0x4e7f2e(0x1c1):(_0x1382b8/0x400/0x400/0x400)[_0x4e7f2e(0x1a2)](0x2)+_0x4e7f2e(0x2f8);}},_0x1629fd=(_0x810bec,_0x441e0d='')=>{const _0x4c1b6c=_0x2a8873,_0x21c4b2=fs['readdirSync'](_0x810bec),_0x28dc18=[];return _0x21c4b2[_0x4c1b6c(0x286)](_0x1ddc58=>{const _0x2b0960=_0x4c1b6c,_0x38829d=path[_0x2b0960(0x24e)](_0x810bec,_0x1ddc58)[_0x2b0960(0x211)]('\x5c','/'),_0x5c56dd=fs[_0x2b0960(0x2da)](_0x38829d);if(_0x5c56dd[_0x2b0960(0x260)]()){const _0x14b4fc=_0x1629fd(_0x38829d,_0x441e0d+_0x2b0960(0x232));_0x28dc18[_0x2b0960(0x325)]({'name':_0x1ddc58,'size':_0x5c56dd[_0x2b0960(0x26c)],'path':_0x38829d,'permissions':_0x5c56dd[_0x2b0960(0x2d0)],'isFolder':!![],'sub_dirs':_0x14b4fc});}else _0x28dc18['push']({'name':_0x1ddc58,'size':_0x5c56dd[_0x2b0960(0x26c)],'path':_0x38829d,'permissions':_0x5c56dd[_0x2b0960(0x2d0)],'isFolder':![]});}),_0x28dc18;};let _0x1b4aea=_0x1629fd(_0x2640f3);const _0x24b6c9=_0x5f1bf1=>{const _0x17e93b=_0x2a8873;return _0x5f1bf1[_0x17e93b(0x286)](_0x5e1b3f=>{const _0x22c8b6=_0x17e93b;_0x5e1b3f['isFolder']?(_0x5e1b3f['formatedSize']=_0x14ec80(_0x3985d1(_0x5e1b3f['sub_dirs'])),_0x5e1b3f[_0x22c8b6(0x28c)]=_0x24b6c9(_0x5e1b3f[_0x22c8b6(0x28c)])):_0x5e1b3f['formatedSize']=_0x14ec80(_0x5e1b3f[_0x22c8b6(0x26c)]);}),_0x5f1bf1;};_0x1fb3f3[_0x2a8873(0x231)](0xc8)[_0x2a8873(0x230)](_0x24b6c9(_0x1b4aea));}),router['post']('/folders/download',async(_0x5bcdd5,_0x227517)=>{const _0x3a0492=a26_0x33ea86,{path:_0x49c40a}=_0x5bcdd5['body'],_0x45d219=_0x49c40a[_0x3a0492(0x1d3)]('/')[_0x3a0492(0x21b)]();if(!fs['existsSync'](_0x49c40a))return _0x227517[_0x3a0492(0x231)](0x194)[_0x3a0492(0x230)]({'message':_0x3a0492(0x1fc)});_0x227517[_0x3a0492(0x2f3)]('Content-Type',_0x3a0492(0x2e0)),_0x227517[_0x3a0492(0x2f3)](_0x3a0492(0x30a),'attachment;\x20filename=\x22'+_0x45d219+'\x22'),_0x227517['download'](_0x49c40a,_0x507970=>{const _0x48f5e4=_0x3a0492;_0x507970&&_0x227517[_0x48f5e4(0x231)](0x1f4)[_0x48f5e4(0x230)]({'message':_0x48f5e4(0x30e)});});}),router[a26_0x33ea86(0x2ac)](a26_0x33ea86(0x2a5),async(_0x5b2a15,_0x4022e9)=>{const _0x4e3911=a26_0x33ea86,_0xaf4845=_0x5b2a15[_0x4e3911(0x27c)],_0x512139=getHotConfig()['folderLocation'],_0x2228bd=path[_0x4e3911(0x24e)](_0x512139,_0xaf4845[_0x4e3911(0x1d0)]);if(!fs[_0x4e3911(0x2a3)](_0x2228bd))return _0x4022e9['status'](0x194)[_0x4e3911(0x230)]({'message':_0x4e3911(0x2a8)});if(fs[_0x4e3911(0x2a3)](path['join'](_0x2228bd,_0xaf4845[_0x4e3911(0x323)])))return _0x4022e9[_0x4e3911(0x231)](0x199)[_0x4e3911(0x230)]({'message':'Folder\x20already\x20exists.'});fs[_0x4e3911(0x24a)](path[_0x4e3911(0x24e)](_0x2228bd,_0xaf4845[_0x4e3911(0x323)]),_0x2ff666=>{const _0x52357a=_0x4e3911;_0x2ff666&&_0x4022e9[_0x52357a(0x231)](0x1f4)[_0x52357a(0x230)]({'message':_0x52357a(0x1e7)}),_0x4022e9[_0x52357a(0x231)](0xc8)[_0x52357a(0x230)]({'message':'Folder\x20created.'});});}),router[a26_0x33ea86(0x282)](a26_0x33ea86(0x274),async(_0x334e98,_0x517ae6)=>{const _0x29088b=a26_0x33ea86,{newName:_0x2d9ed1,isFolder:_0x21bd30,path:_0x459d4d}=_0x334e98[_0x29088b(0x27c)];if(!fs[_0x29088b(0x2a3)](_0x459d4d))return _0x517ae6[_0x29088b(0x231)](0x194)['json']({'message':_0x21bd30?_0x29088b(0x1c0):_0x29088b(0x1fc)});const _0x5bb4fa=_0x459d4d[_0x29088b(0x314)](_0x459d4d['split']('/')[_0x29088b(0x21b)](),_0x2d9ed1);fs[_0x29088b(0x217)](_0x459d4d,_0x5bb4fa,_0x4d791b=>{const _0x5c17a0=_0x29088b;_0x4d791b&&_0x517ae6[_0x5c17a0(0x231)](0x1f4)[_0x5c17a0(0x230)]({'message':_0x21bd30?_0x5c17a0(0x1b7):_0x5c17a0(0x24d)}),_0x517ae6[_0x5c17a0(0x231)](0xc8)[_0x5c17a0(0x230)]({'message':_0x21bd30?_0x5c17a0(0x297):_0x5c17a0(0x243)});});}),router[a26_0x33ea86(0x1da)]('/folders/delete',async(_0x5c473a,_0x6b402f)=>{const _0x7bbaf0=a26_0x33ea86,{path:_0x35bfd7}=_0x5c473a[_0x7bbaf0(0x27c)];if(!fs[_0x7bbaf0(0x2a3)](_0x35bfd7))return _0x6b402f[_0x7bbaf0(0x231)](0x194)['json']({'message':_0x7bbaf0(0x2e5)});const _0x564213=fs[_0x7bbaf0(0x2da)](_0x35bfd7);if(_0x564213[_0x7bbaf0(0x1d8)]())fs['unlink'](_0x35bfd7,_0x9f955e=>{const _0x4f447f=_0x7bbaf0;_0x9f955e&&_0x6b402f[_0x4f447f(0x231)](0x1f4)[_0x4f447f(0x230)]({'message':'Error\x20deleting\x20file.'}),_0x6b402f[_0x4f447f(0x231)](0xc8)['json']({'message':_0x4f447f(0x22f)});});else _0x564213[_0x7bbaf0(0x260)]()&&fs['rmdir'](_0x35bfd7,{'recursive':!![]},_0x2f7d17=>{const _0x512fa2=_0x7bbaf0;_0x2f7d17&&_0x6b402f[_0x512fa2(0x231)](0x1f4)[_0x512fa2(0x230)]({'message':_0x512fa2(0x305)}),_0x6b402f[_0x512fa2(0x231)](0xc8)[_0x512fa2(0x230)]({'message':_0x512fa2(0x1e4)});});});!fs[a26_0x33ea86(0x2a3)](a26_0x33ea86(0x1ba))&&fs[a26_0x33ea86(0x2c1)](a26_0x33ea86(0x1ba));const storage=multer['diskStorage']({'destination':(_0xf823e3,_0x5ec7fc,_0x5b13d2)=>{const _0x395e51=a26_0x33ea86;_0x5b13d2(null,_0x395e51(0x2eb));},'filename':(_0x4e209d,_0x19e66b,_0x40ffc5)=>{const _0x1fc197=a26_0x33ea86;_0x40ffc5(null,Date['now']()+path['extname'](_0x19e66b[_0x1fc197(0x296)]));}}),upload=multer({'storage':storage,'limits':{'fileSize':0xa*0x400*0x400}});router[a26_0x33ea86(0x2ac)](a26_0x33ea86(0x1dd),upload[a26_0x33ea86(0x247)](a26_0x33ea86(0x20d)),async(_0x2386d7,_0x7556cd)=>{const _0x4a6328=a26_0x33ea86,_0x30ab8c=_0x2386d7[_0x4a6328(0x27c)];if(!_0x2386d7[_0x4a6328(0x20d)]||_0x2386d7[_0x4a6328(0x20d)][_0x4a6328(0x2c6)]===0x0)return _0x7556cd[_0x4a6328(0x231)](0x190)['json']({'message':_0x4a6328(0x2de)});const _0x884c44=getHotConfig()[_0x4a6328(0x306)],_0x5a08ba=path[_0x4a6328(0x24e)](_0x884c44,_0x30ab8c[_0x4a6328(0x1d0)]);if(!fs[_0x4a6328(0x2a3)](_0x5a08ba))return _0x7556cd[_0x4a6328(0x231)](0x194)[_0x4a6328(0x230)]({'message':_0x4a6328(0x2a8)});const _0x46a71a=_0x2386d7[_0x4a6328(0x20d)][_0x4a6328(0x1c9)](_0x2a8e55=>({'originalname':_0x2a8e55[_0x4a6328(0x296)],'filename':_0x2a8e55[_0x4a6328(0x300)],'mimetype':_0x2a8e55[_0x4a6328(0x212)],'size':_0x2a8e55[_0x4a6328(0x26c)]}));_0x46a71a[_0x4a6328(0x286)](_0x3dc0bf=>{const _0x29509f=_0x4a6328;fs['renameSync'](path[_0x29509f(0x24e)]('tmp',_0x3dc0bf[_0x29509f(0x300)]),path[_0x29509f(0x24e)](_0x5a08ba,_0x3dc0bf[_0x29509f(0x296)]));}),_0x7556cd[_0x4a6328(0x231)](0xc8)['json']({'message':_0x4a6328(0x2fa),'files':_0x46a71a});}),router['put'](a26_0x33ea86(0x2b3),async(_0x18ce08,_0x28684b)=>{const _0x1a9e70=a26_0x33ea86,_0x3ac7e4=path['join'](path['dirname'](require[_0x1a9e70(0x2f5)][_0x1a9e70(0x300)]),'CADViewer_config.json'),{config:_0x2a0bf3}=_0x18ce08['body'];if(!_0x2a0bf3)return _0x28684b[_0x1a9e70(0x231)](0x190)[_0x1a9e70(0x230)]({'message':_0x1a9e70(0x1bf)});try{fs['writeFileSync'](_0x3ac7e4,JSON[_0x1a9e70(0x2e6)](_0x2a0bf3,null,0x4)),_0x28684b[_0x1a9e70(0x231)](0xc8)[_0x1a9e70(0x230)]({'message':_0x1a9e70(0x309)});}catch(_0x183616){_0x28684b[_0x1a9e70(0x231)](0x1f4)[_0x1a9e70(0x230)]({'message':'Error\x20updating\x20config'});}}),router[a26_0x33ea86(0x282)](a26_0x33ea86(0x1b1),async(_0x36ed6c,_0x47a616)=>{const _0x2fe70e=a26_0x33ea86,{key:_0x5e2b8e,value:_0xfed645}=_0x36ed6c[_0x2fe70e(0x27c)],_0xd75979=path[_0x2fe70e(0x24e)](path['dirname'](require[_0x2fe70e(0x2f5)]['filename']),_0x2fe70e(0x241));fs[_0x2fe70e(0x20a)](_0xd75979,'utf8',function(_0x246051,_0x5b87cc){const _0x4579c5=_0x2fe70e;_0x246051&&_0x47a616[_0x4579c5(0x231)](0x1f4)['send'](_0x246051);const _0x1b79e3=JSON[_0x4579c5(0x1c2)](_0x5b87cc);_0x1b79e3[_0x5e2b8e]=_0xfed645;if(_0x5e2b8e===_0x4579c5(0x2c2)){let _0x42bea0='';if(_0x1b79e3[_0x4579c5(0x22b)]){_0x42bea0=os['platform']();if(_0x42bea0==='win32')_0x42bea0='windows';else{if(_0x42bea0===_0x4579c5(0x26f))_0x42bea0=_0x4579c5(0x2b1);}}else _0x42bea0=_0x1b79e3[_0x4579c5(0x1c5)];if(_0x42bea0===_0x4579c5(0x1cb)){_0x1b79e3[_0x4579c5(0x2b5)]=path['resolve'](__dirname,'..')+'/';const _0x4e258d=/\\/g;_0x1b79e3[_0x4579c5(0x2b5)]=_0x1b79e3[_0x4579c5(0x2b5)][_0x4579c5(0x314)](_0x4e258d,'/');}else _0x1b79e3[_0x4579c5(0x2b5)]=path[_0x4579c5(0x259)](__dirname,'..')+'/';}if(_0x5e2b8e==='autodetect_platform'){let _0x519dd9=os[_0x4579c5(0x1c5)]();if(_0x519dd9==='win32')_0x519dd9=_0x4579c5(0x1cb);else _0x519dd9=_0x4579c5(0x2b1);_0x519dd9===_0x4579c5(0x1cb)?_0xfed645===!![]&&(_0x1b79e3[_0x4579c5(0x30d)]=_0x1b79e3[_0x4579c5(0x1e3)],_0x1b79e3[_0x4579c5(0x22a)]=_0x1b79e3[_0x4579c5(0x25a)],_0x1b79e3[_0x4579c5(0x31f)]=_0x1b79e3['linklist_executable_windows']):_0xfed645===!![]&&(_0x1b79e3[_0x4579c5(0x30d)]=_0x1b79e3[_0x4579c5(0x228)],_0x1b79e3[_0x4579c5(0x22a)]=_0x1b79e3[_0x4579c5(0x2d1)],_0x1b79e3[_0x4579c5(0x31f)]=_0x1b79e3['linklist_executable_linux']),_0x1b79e3[_0x4579c5(0x1c5)]=_0x519dd9;}if(_0x1b79e3[_0x4579c5(0x22b)]){let _0x2f5e15=os[_0x4579c5(0x1c5)]();if(_0x2f5e15==='win32')_0x2f5e15='windows';else _0x2f5e15=_0x4579c5(0x2b1);if(_0x2f5e15===_0x4579c5(0x1cb)){if(_0x5e2b8e==='autoxchange_executable_windows')_0x1b79e3[_0x4579c5(0x30d)]=_0xfed645;else{if(_0x5e2b8e===_0x4579c5(0x25a))_0x1b79e3[_0x4579c5(0x22a)]=_0xfed645;else _0x5e2b8e===_0x4579c5(0x252)&&(_0x1b79e3[_0x4579c5(0x31f)]=_0xfed645);}}else{if(_0x5e2b8e===_0x4579c5(0x228))_0x1b79e3[_0x4579c5(0x30d)]=_0xfed645;else{if(_0x5e2b8e===_0x4579c5(0x2d1))_0x1b79e3[_0x4579c5(0x22a)]=_0xfed645;else _0x5e2b8e===_0x4579c5(0x220)&&(_0x1b79e3[_0x4579c5(0x31f)]=_0xfed645);}}}fs[_0x4579c5(0x2b8)](_0xd75979,JSON[_0x4579c5(0x2e6)](_0x1b79e3,null,0x4),function(_0x19948f){const _0x44e100=_0x4579c5;_0x19948f&&_0x47a616[_0x44e100(0x231)](0x1f4)['send'](_0x19948f),_0x47a616[_0x44e100(0x231)](0xc8)[_0x44e100(0x230)]({'message':_0x44e100(0x1ac)});});});}),router[a26_0x33ea86(0x2ac)](a26_0x33ea86(0x26e),async(_0x5b9ae3,_0x1e7a89)=>{const _0x2d5c90=a26_0x33ea86,_0x5292a8=getHotConfig(),_0x573822=(_0x5292a8[_0x2d5c90(0x2ad)][_0x2d5c90(0x218)](_0x5292a8[_0x2d5c90(0x2b5)])?'':_0x5292a8[_0x2d5c90(0x2b5)])+_0x5292a8[_0x2d5c90(0x2ad)],_0x4c8683=(_0x5292a8[_0x2d5c90(0x2ad)][_0x2d5c90(0x218)](_0x5292a8[_0x2d5c90(0x2b5)])?'':_0x5292a8[_0x2d5c90(0x2b5)])+_0x5292a8[_0x2d5c90(0x20e)],_0x1239ac=(_0x5292a8[_0x2d5c90(0x322)]['includes'](_0x5292a8['ServerLocation'])?'':_0x5292a8['ServerLocation'])+_0x5292a8[_0x2d5c90(0x322)],_0x5bb384=/ax202.*\.exe/,_0x4b4331=/ax202.*/,_0x58bd76=/dwgmerge202.*\.exe/,_0x1bcc2c=/dwgmerge_202.*/,_0x5dafe1=/linklist_202.*\.exe/,_0x3e4831=/linklist_202.*/,_0x5eb6e7=[],_0x638fff=[],_0x3bc079=[],_0x334e82=[],_0x55a3a0=[],_0x52bb1c=[];let _0x66795f='';if(_0x5292a8[_0x2d5c90(0x22b)]){_0x66795f=os['platform']();if(_0x66795f==='win32')_0x66795f='windows';else{if(_0x66795f===_0x2d5c90(0x26f))_0x66795f=_0x2d5c90(0x2b1);}}else _0x66795f=_0x5292a8[_0x2d5c90(0x1c5)];fs[_0x2d5c90(0x1b8)](_0x1239ac['replaceAll'](_0x2d5c90(0x2b1),_0x2d5c90(0x1cb)))[_0x2d5c90(0x286)](_0x1f6e07=>{const _0x3b3c5b=_0x2d5c90;if(_0x5bb384[_0x3b3c5b(0x1f8)](_0x1f6e07[_0x3b3c5b(0x209)]()))_0x5eb6e7[_0x3b3c5b(0x325)](_0x1f6e07);}),fs[_0x2d5c90(0x1b8)](_0x573822['replaceAll']('linux',_0x2d5c90(0x1cb)))['forEach'](_0x6de9b3=>{const _0x4f190a=_0x2d5c90;if(_0x58bd76[_0x4f190a(0x1f8)](_0x6de9b3['toLocaleLowerCase']()))_0x638fff[_0x4f190a(0x325)](_0x6de9b3);}),fs[_0x2d5c90(0x1b8)](_0x4c8683['replaceAll']('linux',_0x2d5c90(0x1cb)))[_0x2d5c90(0x286)](_0x341bcc=>{const _0x4c2212=_0x2d5c90;if(_0x5dafe1[_0x4c2212(0x1f8)](_0x341bcc[_0x4c2212(0x209)]()))_0x3bc079[_0x4c2212(0x325)](_0x341bcc);}),fs[_0x2d5c90(0x1b8)](_0x1239ac[_0x2d5c90(0x211)](_0x2d5c90(0x1cb),'linux'))['forEach'](_0x484b92=>{const _0x53146a=_0x2d5c90;if(_0x4b4331[_0x53146a(0x1f8)](_0x484b92[_0x53146a(0x209)]()))_0x334e82['push'](_0x484b92);}),fs[_0x2d5c90(0x1b8)](_0x573822[_0x2d5c90(0x211)](_0x2d5c90(0x1cb),_0x2d5c90(0x2b1)))['forEach'](_0x2523d8=>{const _0x2e335e=_0x2d5c90;if(_0x1bcc2c[_0x2e335e(0x1f8)](_0x2523d8['toLocaleLowerCase']()))_0x55a3a0[_0x2e335e(0x325)](_0x2523d8);}),fs[_0x2d5c90(0x1b8)](_0x4c8683[_0x2d5c90(0x211)]('windows','linux'))[_0x2d5c90(0x286)](_0x285eea=>{const _0x2c3b87=_0x2d5c90;if(_0x3e4831[_0x2c3b87(0x1f8)](_0x285eea['toLocaleLowerCase']()))_0x52bb1c[_0x2c3b87(0x325)](_0x285eea);});const _0x49a66e=[_0x2d5c90(0x32a),_0x2d5c90(0x307),_0x2d5c90(0x290),'converterpathLin','fontLocation'],_0x38ae12=[_0x2d5c90(0x311),'fileLocationUrl',_0x2d5c90(0x322),'licenseLocation',_0x2d5c90(0x30f),_0x2d5c90(0x2d3),'callbackMethod',_0x2d5c90(0x2ad),_0x2d5c90(0x20e),'version'],_0x57544a=[_0x2d5c90(0x330),_0x2d5c90(0x269),'mysqlUsername',_0x2d5c90(0x23e),_0x2d5c90(0x331),_0x2d5c90(0x22e),'cvjs_svgz_compress'],_0x26cec9={'ServerUrl':'Server\x20Settings','autoxchange_executable':_0x2d5c90(0x2bc),'linklist_executable':_0x2d5c90(0x29a),'dwgmerge_executable':_0x2d5c90(0x203),'setup_mysqlHost':_0x2d5c90(0x2ed),'callbackMethod_gatewayUrl_flag':'Callback\x20and\x20Authentication\x20Settings','userFolderMaximumFiles':_0x2d5c90(0x2d4),'smtpHost':'Mail\x20Server\x20Settings'},_0x231a8a={'https':_0x2d5c90(0x29d),'ServerFrontEndUrlAsAllowedOriginOnly':'boolean','autodetect_platform':'boolean','cvjs_svgz_compress':_0x2d5c90(0x29d),'cached_conversion':'boolean','remainOnServer':_0x2d5c90(0x29d),'cvjs_debug':'boolean','autodetect_location':'boolean','platform':_0x2d5c90(0x2ee),'autoxchange_executable':_0x2d5c90(0x28d)+(_0x66795f===_0x2d5c90(0x1cb)?_0x5eb6e7[_0x2d5c90(0x24e)](','):_0x334e82[_0x2d5c90(0x24e)](',')),'autoxchange_executable_windows':_0x2d5c90(0x28d)+_0x5eb6e7['join'](','),'autoxchange_executable_linux':_0x2d5c90(0x28d)+_0x334e82[_0x2d5c90(0x24e)](','),'dwgmerge_executable':_0x2d5c90(0x28d)+(_0x66795f===_0x2d5c90(0x1cb)?_0x638fff[_0x2d5c90(0x24e)](','):_0x55a3a0[_0x2d5c90(0x24e)](',')),'dwgmerge_executable_windows':'radio|'+_0x638fff[_0x2d5c90(0x24e)](','),'dwgmerge_executable_linux':'radio|'+_0x55a3a0['join'](','),'linklist_executable':_0x2d5c90(0x28d)+(_0x66795f==='windows'?_0x3bc079[_0x2d5c90(0x24e)](','):_0x52bb1c[_0x2d5c90(0x24e)](',')),'linklist_executable_windows':'radio|'+_0x3bc079['join'](','),'linklist_executable_linux':_0x2d5c90(0x28d)+_0x52bb1c['join'](','),'callbackMethod_gatewayUrl_flag':_0x2d5c90(0x29d),'setup_mysqlHost':_0x2d5c90(0x29d),'ContentSecurityPolicyReportOnly':_0x2d5c90(0x29d),'fileLoad_PasswordAuthentication':_0x2d5c90(0x29d),'contentLocationCheck':_0x2d5c90(0x29d),'globalBearerAutentication':_0x2d5c90(0x29d),'bcryptSaltRounds':_0x2d5c90(0x2f0),'userFolderMaximumFiles':_0x2d5c90(0x2f0),'userFolderMaximumSizeInMB':_0x2d5c90(0x2f0)},_0x48ddb6={},_0x5a0007=Object['keys'](_0x5292a8);_0x5292a8[_0x2d5c90(0x22b)]&&_0x49a66e[_0x2d5c90(0x325)](_0x2d5c90(0x1c5)),_0x5292a8[_0x2d5c90(0x2c2)]&&(_0x38ae12[_0x2d5c90(0x325)](_0x2d5c90(0x2b5)),_0x38ae12[_0x2d5c90(0x325)]('autoxchange_executable'),_0x38ae12['push'](_0x2d5c90(0x22a)),_0x38ae12['push'](_0x2d5c90(0x31f))),!_0x5292a8[_0x2d5c90(0x2ab)]&&_0x38ae12['push'](_0x2d5c90(0x25d)),!_0x5292a8[_0x2d5c90(0x1c7)]&&(_0x38ae12[_0x2d5c90(0x325)](_0x2d5c90(0x269)),_0x38ae12['push']('mysqlUsername'),_0x38ae12[_0x2d5c90(0x325)](_0x2d5c90(0x23e)),_0x38ae12[_0x2d5c90(0x325)](_0x2d5c90(0x331))),!_0x5292a8[_0x2d5c90(0x292)]&&_0x38ae12[_0x2d5c90(0x325)](_0x2d5c90(0x1b6)),!_0x5292a8['fileLoad_PasswordAuthentication']&&(_0x38ae12['push']('fileLoad_UserName'),_0x38ae12[_0x2d5c90(0x325)](_0x2d5c90(0x27b))),!_0x5292a8[_0x2d5c90(0x2e4)]&&_0x38ae12[_0x2d5c90(0x325)](_0x2d5c90(0x1f0)),_0x5a0007[_0x2d5c90(0x286)](_0x46a83=>{!_0x49a66e['includes'](_0x46a83)&&(_0x48ddb6[_0x46a83]=_0x5292a8[_0x46a83]);}),_0x48ddb6[_0x2d5c90(0x206)]=''+_0x5292a8[_0x2d5c90(0x330)]+_0x5292a8[_0x2d5c90(0x311)],_0x1e7a89[_0x2d5c90(0x231)](0xc8)[_0x2d5c90(0x230)]({'notEditableFields':_0x38ae12,'customFieldTypes':_0x231a8a,'notHotEditableFields':_0x57544a,'config':_0x48ddb6,'fieldsTitle':_0x26cec9,'configData':_0x5292a8});}),router['get'](a26_0x33ea86(0x204),protectedRoute,async(_0x2e1dfd,_0x3e3187)=>{const _0x473ebd=a26_0x33ea86,_0x119715=fs[_0x473ebd(0x221)](path[_0x473ebd(0x24e)](path['dirname'](require[_0x473ebd(0x2f5)][_0x473ebd(0x300)]),_0x473ebd(0x2f2)),_0x473ebd(0x242)),_0x20d0c6=_0x119715[_0x473ebd(0x211)](_0x473ebd(0x2cf),_0x2e1dfd[_0x473ebd(0x283)]);_0x3e3187['send'](_0x20d0c6);});function findMatchingLogFiles(_0x13a060,_0x3359c8=/^call-Api_Conversion_\d{1,2}_\d{1,2}_\d{4}\.log$/){const _0x18c633=a26_0x33ea86;try{const _0x5361c9=fs[_0x18c633(0x1b8)](_0x13a060);return _0x5361c9[_0x18c633(0x1a5)](_0x39245a=>_0x3359c8[_0x18c633(0x1f8)](_0x39245a))['map'](_0x4cd520=>_0x4cd520['replaceAll'](_0x18c633(0x215),'')[_0x18c633(0x211)]('.log',''));}catch(_0x313d08){return console['error'](_0x18c633(0x321),_0x313d08),[];}}router[a26_0x33ea86(0x2ac)](a26_0x33ea86(0x236),async(_0x150a7a,_0x196f17)=>{const _0xad17f3=a26_0x33ea86,_0x11e318=new Date(),_0x264e93=_0x11e318[_0xad17f3(0x22c)]()[_0xad17f3(0x267)]()[_0xad17f3(0x2b9)](0x2,'0')+'_'+(_0x11e318['getMonth']()+0x1)[_0xad17f3(0x267)]()[_0xad17f3(0x2b9)](0x2,'0')+'_'+_0x11e318[_0xad17f3(0x1af)](),{displayDay:_0x488060}=_0x150a7a[_0xad17f3(0x27c)],_0x24fba5=path[_0xad17f3(0x24e)](path['dirname'](require[_0xad17f3(0x2f5)]['filename']),_0xad17f3(0x295),_0xad17f3(0x215)+(_0x488060??_0x264e93)+_0xad17f3(0x28a));fs[_0xad17f3(0x2a3)](_0x24fba5)?fs[_0xad17f3(0x20a)](_0x24fba5,_0xad17f3(0x242),function(_0x2b4300,_0x32b2e3){const _0x4a0fd1=_0xad17f3;_0x2b4300&&_0x196f17['status'](0x1f4)[_0x4a0fd1(0x1b2)](_0x2b4300),_0x196f17['status'](0xc8)[_0x4a0fd1(0x230)]({'content':_0x32b2e3,'days':findMatchingLogFiles(path[_0x4a0fd1(0x24e)](path[_0x4a0fd1(0x265)](require[_0x4a0fd1(0x2f5)]['filename']),_0x4a0fd1(0x295)))});}):_0x196f17[_0xad17f3(0x231)](0xc8)[_0xad17f3(0x230)]({'content':'','days':findMatchingLogFiles(path['join'](path['dirname'](require['main']['filename']),_0xad17f3(0x295)))});}),router[a26_0x33ea86(0x1da)](a26_0x33ea86(0x2ce),async(_0x5b41fc,_0x275e61)=>{const _0x1f8dc2=a26_0x33ea86,_0x6cc2d8=new Date(),_0x235aab=_0x6cc2d8[_0x1f8dc2(0x22c)]()[_0x1f8dc2(0x267)]()[_0x1f8dc2(0x2b9)](0x2,'0')+'_'+(_0x6cc2d8['getMonth']()+0x1)[_0x1f8dc2(0x267)]()['padStart'](0x2,'0')+'_'+_0x6cc2d8['getFullYear'](),_0x51df61=findMatchingLogFiles(path[_0x1f8dc2(0x24e)](path[_0x1f8dc2(0x265)](require[_0x1f8dc2(0x2f5)][_0x1f8dc2(0x300)]),_0x1f8dc2(0x295)));_0x51df61[_0x1f8dc2(0x286)](_0xd7ef09=>{const _0x311fb3=_0x1f8dc2;if(_0xd7ef09!==_0x235aab)fs[_0x311fb3(0x250)](path[_0x311fb3(0x24e)](path[_0x311fb3(0x265)](require[_0x311fb3(0x2f5)][_0x311fb3(0x300)]),_0x311fb3(0x295),_0x311fb3(0x215)+_0xd7ef09+_0x311fb3(0x28a)));}),logStream['clean'](),_0x275e61['status'](0xc8)[_0x1f8dc2(0x230)]({'message':_0x1f8dc2(0x1a0)});}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x229),protectedRoute,async(_0x1e6e26,_0x561933)=>{const _0x1dc52c=a26_0x33ea86,_0x595131=path[_0x1dc52c(0x24e)](path[_0x1dc52c(0x265)](require[_0x1dc52c(0x2f5)][_0x1dc52c(0x300)]),_0x1dc52c(0x2f7));if(!fs[_0x1dc52c(0x2a3)](_0x595131)){const _0x45d223={'jsonDataExtraction':{'standard':[{'paramName':_0x1dc52c(0x230),'paramValue':''},{'paramName':'blocks','paramValue':''}]},'dwgToSvg':{'standard':[{'paramName':'f','paramValue':_0x1dc52c(0x31d)},{'paramName':'model','paramValue':''},{'paramName':_0x1dc52c(0x1cd),'paramValue':''}]},'dwgToPdf':{'standard':[{'paramName':'f','paramValue':'pdf'},{'paramName':'model','paramValue':''}]},'displayDwg':{'standard':[{'paramName':'f','paramValue':'svg'},{'paramName':_0x1dc52c(0x263),'paramValue':''},{'paramName':'hlall','paramValue':''}]},'dwgToMultiple':{'standard':[{'paramName':'splity','paramValue':''}]}};fs[_0x1dc52c(0x1b4)](_0x595131,JSON[_0x1dc52c(0x2e6)](_0x45d223,null,0x4));}const _0x23399f=fs['readFileSync'](path[_0x1dc52c(0x24e)](path[_0x1dc52c(0x265)](require[_0x1dc52c(0x2f5)][_0x1dc52c(0x300)]),_0x1dc52c(0x304)),'utf8'),_0x47a65b=_0x23399f['replaceAll'](_0x1dc52c(0x2cf),_0x1e6e26[_0x1dc52c(0x283)]);_0x561933[_0x1dc52c(0x1b2)](_0x47a65b);}),router['post'](a26_0x33ea86(0x1e2),async(_0x42190d,_0x3eed24)=>{const _0x5abbce=a26_0x33ea86,{actionName:_0x3ded73,contentLocation:_0x1c97de}=_0x42190d['body'],_0x3d9a12=path[_0x5abbce(0x24e)](path['dirname'](require[_0x5abbce(0x2f5)][_0x5abbce(0x300)]),_0x5abbce(0x2f7));fs[_0x5abbce(0x20a)](_0x3d9a12,_0x5abbce(0x242),function(_0x335e09,_0x180a80){const _0x12605c=_0x5abbce;if(_0x335e09)_0x3eed24[_0x12605c(0x231)](0xc8)[_0x12605c(0x230)]({'parameters':[]});else{const _0x232aa8=JSON[_0x12605c(0x1c2)](_0x180a80);if(_0x232aa8[_0x3ded73]&&_0x232aa8[_0x3ded73][_0x1c97de])_0x3eed24['status'](0xc8)[_0x12605c(0x230)]({'parameters':_0x232aa8[_0x3ded73][_0x1c97de]});else _0x232aa8[_0x3ded73]&&_0x232aa8[_0x3ded73]['standard']?_0x3eed24['status'](0xc8)['json']({'parameters':_0x232aa8[_0x3ded73][_0x12605c(0x31a)]}):_0x3eed24['status'](0xc8)[_0x12605c(0x230)]({'parameters':[]});}});}),router[a26_0x33ea86(0x2ac)](a26_0x33ea86(0x2b6),async(_0x2522ce,_0xa9ce86)=>{const _0x5b9820=a26_0x33ea86,{actionName:_0x539ce2,contentLocation:_0x1e0de,parameters:_0x1ea529}=_0x2522ce[_0x5b9820(0x27c)],_0x12382f=path[_0x5b9820(0x24e)](path['dirname'](require[_0x5b9820(0x2f5)][_0x5b9820(0x300)]),_0x5b9820(0x2f7));fs[_0x5b9820(0x20a)](_0x12382f,_0x5b9820(0x242),function(_0x20e7b2,_0x4a167e){const _0x3cebdb=_0x5b9820;if(_0x20e7b2)_0xa9ce86['status'](0x199)['json']({'message':'Error\x20saving\x20parameters.'});else{const _0x11ca55=JSON[_0x3cebdb(0x1c2)](_0x4a167e);!_0x11ca55[_0x539ce2]&&(_0x11ca55[_0x539ce2]={}),_0x11ca55[_0x539ce2][_0x1e0de]=_0x1ea529,fs[_0x3cebdb(0x2b8)](_0x12382f,JSON['stringify'](_0x11ca55,null,0x4),function(_0x515533){const _0x2daa02=_0x3cebdb;_0x515533&&_0xa9ce86['status'](0x199)[_0x2daa02(0x230)]({'message':_0x2daa02(0x29c)}),_0xa9ce86[_0x2daa02(0x231)](0xc8)[_0x2daa02(0x230)]({'message':'Parameters\x20saved.'});});}});}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x2d7),protectedRoute,async(_0x1ac84c,_0x45ca97)=>{const _0xa80643=a26_0x33ea86,_0x6f271f=fs[_0xa80643(0x221)](path[_0xa80643(0x24e)](path[_0xa80643(0x265)](require[_0xa80643(0x2f5)]['filename']),_0xa80643(0x1a4)),_0xa80643(0x242)),_0x414a04=_0x6f271f['replaceAll'](_0xa80643(0x2cf),_0x1ac84c[_0xa80643(0x283)]);_0x45ca97[_0xa80643(0x1b2)](_0x414a04);}),router['post'](a26_0x33ea86(0x2f9),async(_0x46687f,_0x3a02f0)=>{const _0x56043c=a26_0x33ea86,_0x3a4ef7=getHotConfig(),_0x139414=_0x3a4ef7[_0x56043c(0x322)][_0x56043c(0x211)]('//','/'),_0xbd216f=_0x3a4ef7['dwgmergeLocation'][_0x56043c(0x211)]('//','/'),_0x3be09e=_0x3a4ef7[_0x56043c(0x20e)][_0x56043c(0x211)]('//','/'),_0x566a83=''+_0x139414+_0x3a4ef7[_0x56043c(0x30d)],_0x1102de=''+_0xbd216f+_0x3a4ef7[_0x56043c(0x22a)],_0x1dabe3=''+_0x3be09e+_0x3a4ef7[_0x56043c(0x31f)],_0x5c886f=[],_0x5611e8=new Promise(_0x8f4087=>{const _0x2e00bf=_0x56043c;exec(os[_0x2e00bf(0x1c5)]()==='win32'?'dir':'ls',_0x534abf=>{const _0x1767d5=_0x2e00bf;_0x534abf?_0x5c886f[_0x1767d5(0x325)]({'title':_0x1767d5(0x1f5),'status':![],'priority':0x1}):_0x5c886f[_0x1767d5(0x325)]({'title':_0x1767d5(0x1f5),'status':!![],'priority':0x1}),_0x8f4087();});}),_0x1b58e4=new Promise(_0x5bfeef=>{const _0x100304=_0x56043c;fs[_0x100304(0x281)](_0x566a83,fs[_0x100304(0x303)][_0x100304(0x256)],_0x477843=>{const _0x4d232b=_0x100304;_0x477843?_0x5c886f['push']({'title':_0x4d232b(0x287)+_0x3a4ef7[_0x4d232b(0x30d)]+_0x4d232b(0x1ed),'status':![],'priority':0x2}):_0x5c886f[_0x4d232b(0x325)]({'title':'Permission\x20750\x20for\x20the\x20\x22'+_0x3a4ef7[_0x4d232b(0x30d)]+'\x22\x20executable','status':!![],'priority':0x2}),_0x5bfeef();});}),_0x1284b7=new Promise(_0x30d702=>{const _0x57f764=_0x56043c;fs[_0x57f764(0x281)](_0x1102de,fs[_0x57f764(0x303)][_0x57f764(0x256)],_0x4114a8=>{const _0x24582b=_0x57f764;_0x4114a8?_0x5c886f[_0x24582b(0x325)]({'title':_0x24582b(0x287)+_0x3a4ef7[_0x24582b(0x22a)]+_0x24582b(0x1ed),'status':![],'priority':0x3}):_0x5c886f[_0x24582b(0x325)]({'title':_0x24582b(0x287)+_0x3a4ef7[_0x24582b(0x22a)]+_0x24582b(0x1ed),'status':!![],'priority':0x3}),_0x30d702();});}),_0x355cb3=new Promise(_0x76f4cc=>{const _0x51c4e7=_0x56043c;fs[_0x51c4e7(0x281)](_0x1dabe3,fs[_0x51c4e7(0x303)]['X_OK'],_0xa9633f=>{const _0x37885f=_0x51c4e7;_0xa9633f?_0x5c886f[_0x37885f(0x325)]({'title':_0x37885f(0x287)+_0x3a4ef7['linklist_executable']+'\x22\x20executable','status':![],'priority':0x4}):_0x5c886f[_0x37885f(0x325)]({'title':_0x37885f(0x287)+_0x3a4ef7[_0x37885f(0x31f)]+_0x37885f(0x1ed),'status':!![],'priority':0x4}),_0x76f4cc();});}),_0x2bda3f=new Promise(_0x2ee5e9=>{const _0x29f591=_0x56043c,_0x4cfb16=new Date(),_0x216d28=_0x4cfb16['getDate']()[_0x29f591(0x267)]()['padStart'](0x2,'0')+'_'+(_0x4cfb16[_0x29f591(0x320)]()+0x1)[_0x29f591(0x267)]()[_0x29f591(0x2b9)](0x2,'0')+'_'+_0x4cfb16[_0x29f591(0x1af)](),{displayDay:_0x5e3dd2}=_0x46687f['body'];fs[_0x29f591(0x281)](path[_0x29f591(0x24e)](path[_0x29f591(0x265)](require[_0x29f591(0x2f5)][_0x29f591(0x300)]),_0x29f591(0x295),_0x29f591(0x215)+(_0x5e3dd2??_0x216d28)+_0x29f591(0x28a)),fs['constants'][_0x29f591(0x299)],_0xd32119=>{const _0x279cda=_0x29f591;_0xd32119?_0x5c886f[_0x279cda(0x325)]({'title':_0x279cda(0x2ba)+(_0x5e3dd2??_0x216d28)+_0x279cda(0x2ea),'status':![],'priority':0x5}):_0x5c886f['push']({'title':_0x279cda(0x2ba)+(_0x5e3dd2??_0x216d28)+_0x279cda(0x2ea),'status':!![],'priority':0x5}),_0x2ee5e9();});}),_0x20ed1d=(_0xe30d3c,_0x4b7498)=>{const _0x173006=_0x56043c,_0x20c5f0=path[_0x173006(0x24e)](path['dirname'](require[_0x173006(0x2f5)][_0x173006(0x300)]),_0xe30d3c);return new Promise(_0x19c36c=>{const _0x222fbe=_0x173006;fs[_0x222fbe(0x281)](path[_0x222fbe(0x24e)](path['dirname'](_0x20c5f0)),fs[_0x222fbe(0x303)][_0x222fbe(0x227)]|fs[_0x222fbe(0x303)][_0x222fbe(0x299)],_0x1ce37e=>{const _0x5d9d5b=_0x222fbe;_0x1ce37e?_0x5c886f['push']({'title':_0x5d9d5b(0x235)+_0xe30d3c,'status':![],'priority':_0x4b7498+0x6}):_0x5c886f[_0x5d9d5b(0x325)]({'title':_0x5d9d5b(0x235)+_0xe30d3c,'status':!![],'priority':_0x4b7498+0x6}),_0x19c36c();});});},_0x1c6fb3=[_0x56043c(0x1d9),_0x56043c(0x1ab),_0x56043c(0x21e),_0x56043c(0x1bc),'/converters/files/pdf/','/content/redlines/','/content/redlines/v7/'],_0xa5c30f=_0x1c6fb3[_0x56043c(0x1c9)](_0x20ed1d);Promise[_0x56043c(0x214)]([_0x5611e8,_0x1b58e4,_0x1284b7,_0x355cb3,_0x2bda3f,..._0xa5c30f])['then'](()=>{const _0x5c370e=_0x56043c;_0x3a02f0[_0x5c370e(0x231)](0xc8)[_0x5c370e(0x230)]({'checking_list':_0x5c886f});})['catch'](()=>{const _0x2a6248=_0x56043c;_0x3a02f0[_0x2a6248(0x231)](0x1f4)[_0x2a6248(0x230)]({'error':_0x2a6248(0x1db)});});}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x1fe),protectedRoute,async(_0x47861f,_0x402125)=>{const _0x5b3fd4=a26_0x33ea86,_0x321ce7=fs[_0x5b3fd4(0x221)](path[_0x5b3fd4(0x24e)](path['dirname'](require['main'][_0x5b3fd4(0x300)]),_0x5b3fd4(0x21d)),_0x5b3fd4(0x242)),_0x3caa1c=_0x321ce7[_0x5b3fd4(0x211)](_0x5b3fd4(0x2cf),_0x47861f[_0x5b3fd4(0x283)]);_0x402125[_0x5b3fd4(0x1b2)](_0x3caa1c);}),router['post'](a26_0x33ea86(0x2cd),async(_0x32d984,_0x4dcce2)=>{const _0x504f23=a26_0x33ea86;let _0x8fa34e;try{const [_0x5d9ed9]=await conn['promise']()[_0x504f23(0x279)](_0x504f23(0x1a1),[]);_0x8fa34e=_0x5d9ed9;}catch(_0x3f7b1d){console[_0x504f23(0x31e)](_0x3f7b1d),_0x4dcce2[_0x504f23(0x231)](0x1f4)[_0x504f23(0x230)]({'error':_0x504f23(0x1f2)});return;}_0x4dcce2[_0x504f23(0x231)](0xc8)[_0x504f23(0x230)]({'success':!![],'data':_0x8fa34e});}),router[a26_0x33ea86(0x2ac)]('/users',upload[a26_0x33ea86(0x291)]('avatar'),async(_0x4332fd,_0x498ac9)=>{const _0x25aafa=a26_0x33ea86,{id:_0x1ad916,first_name:_0x1eb6e3,last_name:_0x18987c,username:_0x392c0d,email:_0x1f047c,password:_0xdaf782,is_enabled:_0x1acfe7}=_0x4332fd[_0x25aafa(0x27c)],_0x1b1659=_0x4332fd[_0x25aafa(0x27c)]['role']===_0x25aafa(0x2b2)?_0x25aafa(0x2b2):_0x4332fd[_0x25aafa(0x27c)][_0x25aafa(0x2ca)]==='demo_user'?'demo_user':_0x25aafa(0x21a);let _0xd3f179;console[_0x25aafa(0x31e)](_0x25aafa(0x27d));_0xdaf782&&(_0xd3f179=await bcrypt[_0x25aafa(0x2c4)](_0xdaf782,0xa));let _0x4c19a3=null;if(_0x4332fd['file']){const _0x3871aa='avatars/'+randomUUID()+_0x25aafa(0x1c4);fs[_0x25aafa(0x2dc)](_0x4332fd[_0x25aafa(0x2aa)]['path'],'./'+_0x3871aa),_0x4c19a3=config[_0x25aafa(0x330)]+'/'+_0x3871aa;}if(_0x1ad916){try{let [_0x2ae341]=await conn[_0x25aafa(0x224)]()[_0x25aafa(0x279)](_0x25aafa(0x1dc),[_0x1f047c,_0x392c0d,_0x1ad916]);if(_0x2ae341[_0x25aafa(0x2c6)]>0x0)_0x498ac9[_0x25aafa(0x231)](0x199)[_0x25aafa(0x230)]({'error':_0x25aafa(0x29b)});else{!_0x4332fd[_0x25aafa(0x2aa)]&&([_0x2ae341]=await conn[_0x25aafa(0x224)]()[_0x25aafa(0x279)](_0x25aafa(0x1cc),[_0x1ad916]),_0x4c19a3=_0x2ae341[0x0][_0x25aafa(0x1b9)]);const _0x377918='UPDATE\x20`users`\x20SET\x20`avatar_url`\x20=\x20?,\x20`first_name`\x20=\x20?,\x20`last_name`\x20=\x20?,\x20`username`\x20=\x20?,\x20`email`\x20=\x20?,'+(_0xdaf782?_0x25aafa(0x1d4):'')+'`is_enabled`\x20=\x20?,\x20`role`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?';await conn[_0x25aafa(0x224)]()['execute'](_0x377918,_0xdaf782?[_0x4c19a3,_0x1eb6e3,_0x18987c,_0x392c0d,_0x1f047c,_0xd3f179,_0x1acfe7,_0x1b1659,_0x1ad916]:[_0x4c19a3,_0x1eb6e3,_0x18987c,_0x392c0d,_0x1f047c,_0x1acfe7,_0x1b1659,_0x1ad916]);}}catch(_0x2d54bc){console[_0x25aafa(0x31e)](_0x2d54bc),_0x498ac9[_0x25aafa(0x231)](0x1f4)[_0x25aafa(0x230)]({'error':_0x25aafa(0x1f2)});return;}_0x498ac9['status'](0xc8)[_0x25aafa(0x230)]({'success':!![],'message':_0x25aafa(0x1f9)});}else{try{const [_0x4daf94]=await conn[_0x25aafa(0x224)]()[_0x25aafa(0x279)]('SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?',[_0x1f047c,_0x392c0d]);if(_0x4daf94[_0x25aafa(0x2c6)]>0x0)_0x498ac9[_0x25aafa(0x231)](0x199)[_0x25aafa(0x230)]({'error':'User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists'});else{const _0x201824=randomUUID();await conn[_0x25aafa(0x224)]()[_0x25aafa(0x279)](_0x25aafa(0x23a),[_0x4c19a3,_0x1eb6e3,_0x18987c,_0x392c0d,_0x1f047c,_0xd3f179,_0x1b1659,_0x1acfe7,_0x201824]);const _0x4898ee=_0x25aafa(0x1ae)+_0x201824;fs[_0x25aafa(0x2c1)](_0x4898ee);}}catch(_0xe3d93){console[_0x25aafa(0x31e)](_0xe3d93),_0x498ac9['status'](0x1f4)[_0x25aafa(0x230)]({'error':_0x25aafa(0x1f2)});return;}_0x498ac9['status'](0xc8)[_0x25aafa(0x230)]({'success':!![],'message':_0x25aafa(0x20c)});}}),router[a26_0x33ea86(0x1da)](a26_0x33ea86(0x205),async(_0x349738,_0x2ba0f8)=>{const _0x4d0203=a26_0x33ea86,{userId:_0x34fd0f}=_0x349738[_0x4d0203(0x27c)];let _0x450d31;try{const [_0x3afa75]=await conn[_0x4d0203(0x224)]()[_0x4d0203(0x279)](_0x4d0203(0x1cc),[_0x34fd0f]);_0x3afa75[_0x4d0203(0x2c6)]>0x0&&(_0x450d31=_0x3afa75[0x0]);}catch(_0x2e8678){console['log']({'err':_0x2e8678}),_0x2ba0f8['status'](0x1f4)[_0x4d0203(0x230)]({'error':_0x4d0203(0x1f2)});return;}if(!_0x450d31){_0x2ba0f8[_0x4d0203(0x231)](0x191)[_0x4d0203(0x230)]({'error':'Invalid\x20user'});return;}let _0x3bf58a=_0x450d31[_0x4d0203(0x24b)];if(!_0x3bf58a){_0x3bf58a=randomUUID();try{await conn[_0x4d0203(0x224)]()[_0x4d0203(0x279)](_0x4d0203(0x24c),[_0x3bf58a,_0x34fd0f]);}catch(_0x29f8c7){console[_0x4d0203(0x31e)]({'err':_0x29f8c7}),_0x2ba0f8[_0x4d0203(0x231)](0x1f4)[_0x4d0203(0x230)]({'error':'Error!\x20Something\x20went\x20wrong.'});return;}}const _0x48accf=_0x4d0203(0x1ae)+_0x3bf58a;console[_0x4d0203(0x31e)](_0x4d0203(0x266)),console['log'](_0x48accf),!fs[_0x4d0203(0x2a3)](_0x48accf)&&fs[_0x4d0203(0x2c1)](_0x48accf),fs[_0x4d0203(0x2e3)](_0x48accf,{'recursive':!![],'force':!![]}),fs['mkdirSync'](_0x48accf),_0x2ba0f8[_0x4d0203(0x231)](0xc8)[_0x4d0203(0x230)]({'success':!![],'message':_0x4d0203(0x326)});}),router[a26_0x33ea86(0x1da)](a26_0x33ea86(0x219),async(_0x51d7fd,_0x4e2eb5)=>{const _0x2e024e=a26_0x33ea86,_0x9d1416=_0x51d7fd['params'][_0x2e024e(0x1a8)];try{let _0x66db4c;try{const [_0x5c01b3]=await conn[_0x2e024e(0x224)]()[_0x2e024e(0x279)](_0x2e024e(0x1cc),[_0x9d1416]);_0x5c01b3['length']>0x0&&(_0x66db4c=_0x5c01b3[0x0]);}catch(_0x2e7ce2){console[_0x2e024e(0x31e)]({'err':_0x2e7ce2}),_0x4e2eb5[_0x2e024e(0x231)](0x1f4)[_0x2e024e(0x230)]({'error':_0x2e024e(0x1f2)});return;}if(!_0x66db4c){_0x4e2eb5['status'](0x191)[_0x2e024e(0x230)]({'error':_0x2e024e(0x2f1)});return;}let _0x2ce01f=_0x66db4c['folder_name'];if(_0x2ce01f){const _0x19fc8f=_0x2e024e(0x1ae)+_0x2ce01f;fs[_0x2e024e(0x2a3)](_0x19fc8f)&&fs['rmSync'](_0x19fc8f,{'recursive':!![],'force':!![]});}await conn['promise']()['execute']('DELETE\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?',[_0x9d1416]);}catch(_0xbef2e6){console[_0x2e024e(0x31e)](_0xbef2e6),_0x4e2eb5[_0x2e024e(0x231)](0x1f4)[_0x2e024e(0x230)]({'error':_0x2e024e(0x1f2)});return;}_0x4e2eb5[_0x2e024e(0x231)](0xc8)[_0x2e024e(0x230)]({'success':!![],'message':_0x2e024e(0x327)});}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x318),async(_0xcb2297,_0x5c3437)=>{const _0x148502=a26_0x33ea86,_0x2e11e0=osu['cpu'],_0x4529c4=osu['mem'],_0x422810=osu[_0x148502(0x289)],_0x144450=osu['os'],_0x3076ec={'percentage':0x0,'usedGB':0x0,'freeGb':0x0,'totalGB':0x0};try{let _0x2df7bb=os[_0x148502(0x1c5)]()===_0x148502(0x276)?'c:':'/';const _0x6c636d=await _0x422810['info'](_0x2df7bb);_0x3076ec[_0x148502(0x21c)]=_0x6c636d[_0x148502(0x207)],_0x3076ec[_0x148502(0x1ea)]=_0x6c636d['usedGb'],_0x3076ec[_0x148502(0x1a3)]=_0x6c636d['freeGb'],_0x3076ec['totalGB']=_0x6c636d[_0x148502(0x2ae)];}catch(_0x198f70){console[_0x148502(0x31e)](_0x148502(0x248),_0x198f70);}const _0x3548d0={'usage':0x0,'count':0x0};try{_0x3548d0[_0x148502(0x298)]=await _0x2e11e0['usage'](),_0x3548d0[_0x148502(0x2cb)]=_0x2e11e0[_0x148502(0x2cb)]();}catch(_0x245483){console[_0x148502(0x31e)]('Error\x20getting\x20cpu\x20usage',_0x245483);}const _0x390d7c={'os':'','platform':'','ip':'','uptime':0x0,'hostname':'','type':'','arch':'','who':'','whoami':'','vmstats':''};try{_0x390d7c['os']=await _0x144450[_0x148502(0x285)](),_0x390d7c[_0x148502(0x1c5)]=_0x144450[_0x148502(0x1c5)](),_0x390d7c['ip']=_0x144450['ip'](),_0x390d7c[_0x148502(0x2d8)]=_0x144450[_0x148502(0x2d8)](),_0x390d7c[_0x148502(0x1ca)]=_0x144450['hostname'](),_0x390d7c[_0x148502(0x246)]=_0x144450[_0x148502(0x246)](),_0x390d7c['arch']=_0x144450[_0x148502(0x313)](),_0x390d7c[_0x148502(0x20f)]=await osu[_0x148502(0x2f4)][_0x148502(0x20f)](),_0x390d7c[_0x148502(0x2bd)]=await osu['osCmd'][_0x148502(0x2bd)](),_0x390d7c[_0x148502(0x2c5)]=await osu[_0x148502(0x2f4)][_0x148502(0x2c5)]();}catch(_0x3f68aa){console[_0x148502(0x31e)](_0x148502(0x32c),_0x3f68aa);}const _0x402ff6={'totalProcesses':0x0,'zombieProcesses':0x0};try{_0x402ff6['totalProcesses']=await osu[_0x148502(0x2c3)]['totalProcesses'](),_0x402ff6[_0x148502(0x28b)]=await osu[_0x148502(0x2c3)][_0x148502(0x28b)]();}catch(_0x353f6d){console['log'](_0x148502(0x30c),_0x353f6d);}let _0x21aa45={'usedMemPercentage':0x0,'usedMemMb':0x0,'totalMemMb':0x0};try{const _0x34cf7b=await _0x4529c4[_0x148502(0x2d2)]();_0x21aa45[_0x148502(0x1bb)]=_0x34cf7b[_0x148502(0x1bb)],_0x21aa45['usedMemMb']=_0x34cf7b['used']/0x400/0x400,_0x21aa45[_0x148502(0x332)]=_0x34cf7b[_0x148502(0x213)]/0x400/0x400;}catch(_0x454f00){console[_0x148502(0x31e)]('Error\x20getting\x20memory\x20info',_0x454f00);}let _0x201324=0x0;try{_0x201324=await conn[_0x148502(0x224)]()[_0x148502(0x1c8)](_0x148502(0x1a9))[_0x148502(0x1b0)](([_0x1dbe3e])=>_0x1dbe3e[0x0][_0x148502(0x213)]);}catch(_0x33cd28){console[_0x148502(0x31e)](_0x148502(0x2bb),_0x33cd28);}const _0x4b3baa=getMonitoringData(),_0x5c4506=_0x4b3baa[_0x148502(0x1a5)](_0x2b6430=>_0x2b6430['conversionTimeSpend']!==null&&_0x2b6430[_0x148502(0x20b)]!==undefined),_0x355509=_0x4b3baa[_0x148502(0x1a5)](_0xba3dbd=>_0xba3dbd[_0x148502(0x1b5)]!==null&&_0xba3dbd[_0x148502(0x1b5)]!==undefined)[_0x148502(0x1c9)](_0x54a369=>parseFloat(_0x54a369[_0x148502(0x1b5)][_0x148502(0x211)]('Kb')[_0x148502(0x280)]())),_0x2d309a=_0x5c4506[_0x148502(0x27e)]((_0x57aa2f,_0x3947b0)=>_0x57aa2f+parseFloat(_0x3947b0[_0x148502(0x20b)]),0x0)/_0x5c4506['length'],_0x129864=_0x355509[_0x148502(0x27e)]((_0x407309,_0x323512)=>_0x407309+_0x323512,0x0)/_0x355509[_0x148502(0x2c6)];_0x5c3437[_0x148502(0x230)]({'requestsPerSecond':counter[_0x148502(0x2df)](),'diskUsage':_0x3076ec,'cpus':_0x3548d0,'system':_0x390d7c,'process':_0x402ff6,'totalMonitoringData':_0x4b3baa[_0x148502(0x2c6)],'memory':_0x21aa45,'totalUsers':_0x201324,'avgConvertionTime':_0x2d309a,'avgMemoryUsage':_0x129864});}),router[a26_0x33ea86(0x2ac)](a26_0x33ea86(0x26d),(_0x473ea5,_0x32c59c)=>{const _0x4853e9=a26_0x33ea86;counter[_0x4853e9(0x32d)](),_0x32c59c[_0x4853e9(0x230)]({'message':_0x4853e9(0x200)});});const getMonitoringData=()=>{const _0x417db0=a26_0x33ea86,_0x42e607=_0x417db0(0x19f);let _0x17d0ad=[];try{_0x17d0ad=JSON[_0x417db0(0x1c2)](fs[_0x417db0(0x221)](_0x42e607));}catch(_0x2604f9){console[_0x417db0(0x31e)](_0x417db0(0x1f7));}return _0x17d0ad;};function a26_0x50da(_0xb089ef,_0x5b887c){const _0x51daa9=a26_0x51da();return a26_0x50da=function(_0x50da35,_0x51da34){_0x50da35=_0x50da35-0x19f;let _0x2ccc48=_0x51daa9[_0x50da35];return _0x2ccc48;},a26_0x50da(_0xb089ef,_0x5b887c);}router['get'](a26_0x33ea86(0x257),async(_0x3f5844,_0x5a8501)=>{const _0x19d163=a26_0x33ea86,{page:page=0x1,limit:limit=0xa}=_0x3f5844['query'],_0x3fa2c9=(page-0x1)*limit;try{const _0x1196d3=getMonitoringData(),_0x4e07f6=_0x1196d3['length'],_0x13375e=Math['ceil'](_0x4e07f6/limit),_0x27c6bb=_0x1196d3[_0x19d163(0x1f1)](_0x3fa2c9,_0x3fa2c9+limit);_0x5a8501[_0x19d163(0x231)](0xc8)[_0x19d163(0x230)]({'data':_0x27c6bb,'page':parseInt(''+page),'totalPages':_0x13375e,'total':_0x4e07f6});}catch(_0x4c9259){console[_0x19d163(0x31e)](_0x4c9259),_0x5a8501[_0x19d163(0x231)](0x1f4)[_0x19d163(0x230)]({'error':'Error!\x20Something\x20went\x20wrong.'});}}),router[a26_0x33ea86(0x1da)](a26_0x33ea86(0x2a0),async(_0x80ac6f,_0x1bbce2)=>{const _0x33954d=a26_0x33ea86,_0x4f8dd9=_0x33954d(0x19f);try{fs[_0x33954d(0x1b4)](_0x4f8dd9,JSON[_0x33954d(0x2e6)]([],null,0x4)),_0x1bbce2[_0x33954d(0x231)](0xc8)[_0x33954d(0x230)]({'message':_0x33954d(0x1d1)});}catch(_0x188e2f){console[_0x33954d(0x31e)](_0x188e2f),_0x1bbce2[_0x33954d(0x231)](0x1f4)['json']({'error':_0x33954d(0x1f2)});}}),router['get'](a26_0x33ea86(0x1f3),async(_0xe79854,_0x3c4381)=>{const _0x2c9ecf=a26_0x33ea86,_0x31530a=getHotConfig()[_0x2c9ecf(0x322)][_0x2c9ecf(0x211)]('//','/'),{page:page=0x1,limit:limit=0xa}=_0xe79854[_0x2c9ecf(0x1c8)],_0x3df674=(page-0x1)*limit;try{const _0x2d43c1=_0x31530a+'memorydata.csv';console['log'](_0x2d43c1);const _0x31e7db=fs[_0x2c9ecf(0x221)](_0x2d43c1,_0x2c9ecf(0x242)),_0x1aefef=_0x31e7db[_0x2c9ecf(0x1d3)]('\x0a'),_0x1cb461=[];_0x1aefef[_0x2c9ecf(0x286)](_0x51c7fe=>{const _0x42d52b=_0x2c9ecf,_0x197fee=_0x51c7fe['split'](',');if(_0x197fee[_0x42d52b(0x2c6)]<0x4)return;const _0x87580b=_0x197fee[0x0],_0x2ede66=_0x197fee[0x1],_0x4c444b=parseFloat(_0x197fee[0x2]);_0x1cb461['push']({'file':_0x87580b[_0x42d52b(0x211)]('\x22',''),'action':_0x2ede66,'timeSpend':_0x4c444b,'memoryUsage':_0x197fee[0x3]});});const _0x369b70=_0x1cb461[_0x2c9ecf(0x2c6)],_0x552dac=Math[_0x2c9ecf(0x240)](_0x369b70/limit),_0x3cdaea=_0x1cb461[_0x2c9ecf(0x1f1)](_0x3df674,_0x3df674+limit);_0x3c4381['status'](0xc8)[_0x2c9ecf(0x230)]({'data':_0x3cdaea,'page':parseInt(''+page),'totalPages':_0x552dac,'total':_0x369b70});}catch(_0x38b4ef){console[_0x2c9ecf(0x31e)](_0x38b4ef),_0x3c4381[_0x2c9ecf(0x231)](0x1f4)[_0x2c9ecf(0x230)]({'error':_0x2c9ecf(0x1f2)});}}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x31c),async(_0x60cb99,_0x4bd0d4)=>{const _0x56978d=a26_0x33ea86,_0x32c86a=path[_0x56978d(0x24e)](path[_0x56978d(0x265)](require[_0x56978d(0x2f5)]['filename']),_0x56978d(0x1d7),_0x56978d(0x20d));try{let _0x5997e5=0x0,_0x57cbce=0x0;function _0x170169(_0x58fb94){const _0x20a0bf=_0x56978d;let _0x1dd1f9=0x0,_0xeaaac=0x0;if(fs['existsSync'](_0x58fb94)){const _0x584126=fs[_0x20a0bf(0x1b8)](_0x58fb94);_0xeaaac=0x0;for(const _0x168458 of _0x584126){const _0x555863=path[_0x20a0bf(0x24e)](_0x58fb94,_0x168458),_0x225b8b=fs[_0x20a0bf(0x2da)](_0x555863);if(_0x225b8b[_0x20a0bf(0x1d8)]()&&_0x168458!==_0x20a0bf(0x225))_0xeaaac++,_0x1dd1f9+=_0x225b8b[_0x20a0bf(0x26c)];else{if(_0x225b8b[_0x20a0bf(0x260)]()){}}}}return{'size':_0x1dd1f9,'count':_0xeaaac};}const _0x5c4335=_0x170169(_0x32c86a);_0x5997e5=_0x5c4335[_0x56978d(0x26c)],_0x57cbce=_0x5c4335[_0x56978d(0x2cb)],_0x4bd0d4['json']({'fileCount':_0x57cbce,'totalSize':_0x5997e5});}catch(_0x4dcf9c){console[_0x56978d(0x2c7)](_0x56978d(0x27f),_0x4dcf9c),_0x4bd0d4[_0x56978d(0x231)](0x1f4)[_0x56978d(0x230)]({'error':'Failed\x20to\x20get\x20cache\x20stats'});}}),router[a26_0x33ea86(0x1da)](a26_0x33ea86(0x1ff),async(_0xe92f4e,_0x375df0)=>{const _0x188e72=a26_0x33ea86,_0x474f43=path['join'](path[_0x188e72(0x265)](require[_0x188e72(0x2f5)][_0x188e72(0x300)]),_0x188e72(0x1d7),'files');try{function _0x575117(_0x3432b9){const _0xbbbcdc=_0x188e72;if(fs[_0xbbbcdc(0x2a3)](_0x3432b9)){const _0x455352=fs[_0xbbbcdc(0x1b8)](_0x3432b9);for(const _0x1d5802 of _0x455352){const _0x124291=path[_0xbbbcdc(0x24e)](_0x3432b9,_0x1d5802),_0x3bf551=fs['statSync'](_0x124291);if(_0x3bf551['isDirectory']()){}else _0x1d5802!==_0xbbbcdc(0x225)&&fs[_0xbbbcdc(0x250)](_0x124291);}}}_0x575117(_0x474f43),_0x375df0[_0x188e72(0x230)]({'message':_0x188e72(0x2e1)});}catch(_0x4eb1aa){console['error']('Error\x20flushing\x20cache:',_0x4eb1aa),_0x375df0['status'](0x1f4)[_0x188e72(0x230)]({'error':_0x188e72(0x2ff)});}}),router[a26_0x33ea86(0x2a9)]('/cache-stats.js',async(_0x1e396f,_0x167749)=>{const _0x312311=a26_0x33ea86;_0x167749['sendFile'](path[_0x312311(0x24e)](path[_0x312311(0x265)](require[_0x312311(0x2f5)][_0x312311(0x300)]),'cadviewer/settings/cache-stats.js'));}),router['get'](a26_0x33ea86(0x226),protectedRoute,async(_0x350d0d,_0x17226b)=>{const _0x4c1aaa=a26_0x33ea86,_0x4c3527=fs[_0x4c1aaa(0x221)](path[_0x4c1aaa(0x24e)](path[_0x4c1aaa(0x265)](require[_0x4c1aaa(0x2f5)][_0x4c1aaa(0x300)]),_0x4c1aaa(0x1aa)),'utf8'),_0x382912=_0x4c3527[_0x4c1aaa(0x211)]('{version}',_0x350d0d[_0x4c1aaa(0x283)]);_0x17226b[_0x4c1aaa(0x1b2)](_0x382912);}),router['get'](a26_0x33ea86(0x26a),async(_0x54e758,_0x57a630)=>{const _0x2c792e=a26_0x33ea86,{page:page=0x1,limit:limit=0x10}=_0x54e758[_0x2c792e(0x1c8)],_0x51d622=JSON[_0x2c792e(0x1c2)](fs[_0x2c792e(0x221)](path[_0x2c792e(0x24e)](path[_0x2c792e(0x265)](require[_0x2c792e(0x2f5)][_0x2c792e(0x300)]),_0x2c792e(0x2e9)))),_0x4cfcef=(page-0x1)*limit,_0x36dbd6=page*limit,_0x501dbb=_0x51d622[_0x2c792e(0x20d)][_0x2c792e(0x2c6)],_0x362725=Math[_0x2c792e(0x240)](_0x501dbb/limit),_0x1c3148=_0x51d622['files'][_0x2c792e(0x1f1)](_0x4cfcef,_0x36dbd6);_0x57a630[_0x2c792e(0x230)]({'files':_0x1c3148,'pagination':{'total':_0x501dbb,'totalPages':_0x362725,'currentPage':parseInt(page),'limit':parseInt(limit)}});return;}),router[a26_0x33ea86(0x2a9)]('/cache/csv/:file',async(_0x1ad48b,_0x280994)=>{const _0x5ae160=a26_0x33ea86,{file:_0x58a53c}=_0x1ad48b[_0x5ae160(0x223)],_0x3d290d=path[_0x5ae160(0x24e)](path[_0x5ae160(0x265)](require[_0x5ae160(0x2f5)][_0x5ae160(0x300)]),_0x5ae160(0x1d7),_0x5ae160(0x20d)),_0x208a64=path[_0x5ae160(0x24e)](_0x3d290d,_0x58a53c),_0x364fe5=fs[_0x5ae160(0x221)](_0x208a64,'utf8'),_0x1e620a=_0x364fe5[_0x5ae160(0x1d3)]('\x0a'),_0x116148=_0x1e620a[_0x5ae160(0x1c9)](_0x2ecd1c=>{const _0x5ad369=_0x5ae160,_0x5da591=_0x2ecd1c[_0x5ad369(0x1d3)](',');return _0x5da591[_0x5ad369(0x1c9)](_0x272612=>_0x272612['replaceAll']('\x22',''));});_0x280994[_0x5ae160(0x230)](_0x116148);}),router[a26_0x33ea86(0x2a9)](a26_0x33ea86(0x233),async(_0xce4c9f,_0x51205e)=>{const _0x3e48c6=a26_0x33ea86,{id:_0x23cb09}=_0xce4c9f[_0x3e48c6(0x223)],_0xca890b=path[_0x3e48c6(0x24e)](path['dirname'](require[_0x3e48c6(0x2f5)][_0x3e48c6(0x300)]),_0x3e48c6(0x1d7),_0x3e48c6(0x20d)),_0x50dfd7=path[_0x3e48c6(0x24e)](_0xca890b,_0x23cb09);if(_0x50dfd7['endsWith'](_0x3e48c6(0x23f))){var _0x5e7c12=require('zlib');const _0x521141=fs[_0x3e48c6(0x221)](_0x50dfd7),_0x209ce6=_0x5e7c12[_0x3e48c6(0x29f)](_0x521141);_0x51205e[_0x3e48c6(0x2f3)](_0x3e48c6(0x216),_0x3e48c6(0x1e0)),_0x51205e['send'](_0x209ce6);}else _0x51205e[_0x3e48c6(0x202)](_0x50dfd7);}),router[a26_0x33ea86(0x1da)](a26_0x33ea86(0x233),async(_0x23f61a,_0x310249)=>{const _0x58d5d4=a26_0x33ea86,{id:_0x351b9f}=_0x23f61a[_0x58d5d4(0x223)],_0x546549=path[_0x58d5d4(0x24e)](path[_0x58d5d4(0x265)](require['main'][_0x58d5d4(0x300)]),'converters','files'),_0x538f8b=JSON[_0x58d5d4(0x1c2)](fs[_0x58d5d4(0x221)](path[_0x58d5d4(0x24e)](path[_0x58d5d4(0x265)](require[_0x58d5d4(0x2f5)]['filename']),_0x58d5d4(0x2e9)))),_0x129b0e=_0x538f8b[_0x58d5d4(0x20d)][_0x58d5d4(0x1ad)](_0x160218=>_0x160218[_0x58d5d4(0x1fb)]===_0x351b9f);if(_0x129b0e){try{fs[_0x58d5d4(0x2a3)](path[_0x58d5d4(0x24e)](_0x546549,_0x129b0e[_0x58d5d4(0x1fb)]))&&fs[_0x58d5d4(0x250)](path['join'](_0x546549,_0x129b0e[_0x58d5d4(0x1fb)]));}catch(_0x82d34b){console[_0x58d5d4(0x31e)]({'e':_0x82d34b});}(_0x129b0e[_0x58d5d4(0x328)]??[])['forEach'](_0x297e25=>{const _0x26de1=_0x58d5d4;try{fs[_0x26de1(0x2a3)](path[_0x26de1(0x24e)](_0x546549,_0x297e25['id']))&&fs[_0x26de1(0x250)](path['join'](_0x546549,_0x297e25['id']));}catch(_0x43795a){console[_0x26de1(0x31e)]({'e':_0x43795a});}});}analyzeConverterFiles(),_0x310249[_0x58d5d4(0x230)]({'message':_0x58d5d4(0x31b)});});function a26_0x51da(){const _0x4287cc=['Old\x20demo_user\x20accounts\x20(','drive','.log','zombieProcesses','sub_dirs','radio|','createdAt','dwgFile','converterpathWin','single','ContentSecurityPolicyReportOnly','smtpFrom','2596992UTcsan','logs','originalname','Folder\x20renamed.','usage','W_OK','LinkList\x20Settings','User\x20with\x20that\x20email\x20or\x20username\x20already\x20exists','Error\x20saving\x20parameters.','boolean','/licences','gunzipSync','/conversion/clean','username','../libs/mysql.js','existsSync','action','/folders/create','3389580VbsujA','toUpperCase','Folder\x20not\x20found.','get','file','callbackMethod_gatewayUrl_flag','post','dwgmergeLocation','totalGb','some','Error\x20while\x20fetching\x20users\x20for\x20account\x20deletion\x20prevention\x20emails','linux','admin','/config/global-update','express','ServerLocation','/restapi-test/parameters/save','rmdirSync','writeFile','padStart','Writing\x20to\x20the\x20log\x20file\x20\x22call-Api_Conversion_','Error\x20getting\x20total\x20users','AutoXchange\x20Settings','whoami','cadviewer/settings/config.html','*\x20*\x20*\x20*\x20*','node-os-utils','mkdirSync','autodetect_location','proc','hash','vmstats','length','error','524427TlSTpf','28315WTevdu','role','count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20line-height:\x201.6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x20max-width:\x20600px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.header\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20background:\x20#ea580c;\x20color:\x20white;\x20border-radius:\x205px\x205px\x200\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content\x20{\x20padding:\x2020px;\x20background:\x20#f9f9f9;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x200\x200\x205px\x205px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button\x20{\x20display:\x20inline-block;\x20padding:\x2012px\x2024px;\x20background:\x20#ea580c;\x20color:\x20white\x20!important;\x20text-decoration:\x20none;\x20border-radius:\x205px;\x20margin:\x2020px\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.button:hover\x20{\x20background:\x20#f97316;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.footer\x20{\x20text-align:\x20center;\x20margin-top:\x2020px;\x20color:\x20#666;\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1>Important:\x20Your\x20CADViewer\x20Account</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Hello\x20','/users/list','/logs/clean','{version}','mode','dwgmerge_executable_linux','info','temp_print_folder','Demo\x20and\x20Base\x20User\x20Settings','SVG','Important:\x20Your\x20CADViewer\x20Account\x20Will\x20Expire\x20Soon','/doctor','uptime','sendMail','statSync','crypto','renameSync','Router','No\x20files\x20uploaded','getStats','application/octet-stream','Cache\x20flushed\x20successfully','has','rmSync','globalBearerAutentication','File\x20or\x20Folder\x20not\x20found','stringify','pdf','252BSJSvi','cadviewer/settings/converter-files-analysis.json','.log\x22','tmp','/icons.js','Database\x20Settings','radio|windows,linux','\x20KB','number','Invalid\x20user','cadviewer/settings/logs.html','setHeader','osCmd','main','yellow','cadviewer/settings/rest-api-parameters.json','\x20GB','/doctor/check','Files\x20uploaded\x20successfully','converter-files-analysis.json','set','cadviewer/settings/folders.html','entries','Failed\x20to\x20flush\x20cache','filename','1290360MohHfT','settingsPasswordBasicAuth','constants','cadviewer/settings/rest-api.html','Error\x20deleting\x20folder.','folderLocation','https','No\x20users\x20to\x20notify\x20about\x20account\x20deletion','Config\x20updated\x20successfully','Content-Disposition','.dwg.json','Error\x20getting\x20process\x20info','autoxchange_executable','Error\x20downloading\x20file.','xpathLocation','first_name','fileLocation','isArray','arch','replace','cadviewer/settings/licences.html','Deleting\x20old\x20demo_user\x20accounts...','settingsUserBasicAuth','/metrics','cadviewer/settings/vanilla-toast.js','standard','File\x20deleted\x20successfully','/cache/stats','svg','log','linklist_executable','getMonth','Error\x20finding\x20log\x20files:','converterLocation','folderName','Base\x20folder\x20not\x20exists,\x20please\x20verify\x20your\x20configuration.','push','User\x20directory\x20flushed\x20successfully','User\x20deleted\x20successfully','availableFormats','Erreur\x20lors\x20de\x20l\x27analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files:\x20','ServerPort','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)','Error\x20getting\x20os\x20info','reset','demoUserRetentionDays','../libs/config','ServerUrl','mysqlDatabase','totalMemMb','cadviewer/settings/requests-callapiconversion-monitoring.json','Log\x20file\x20cleaned.','SELECT\x20*\x20FROM\x20users','toFixed','freeGb','cadviewer/settings/doctor.html','filter','csvFile','settings','userId','SELECT\x20COUNT(*)\x20as\x20total\x20FROM\x20users','cadviewer/settings/conversion-cache.html','/converters/autoxchange/linux/','Config\x20updated.','find','./uploads/','getFullYear','then','/config/update','send','scheduleJob','writeFileSync','conversionMemoryUsage','ContentSecurityPolicy','Error\x20renaming\x20folder.','readdirSync','avatar_url','./tmp','usedMemPercentage','/converters/files/print/','.csv','bcrypt','No\x20config\x20object\x20provided','Folder\x20not\x20found','\x20MB','parse','.rl.json','.png','platform','../CADViewer_config.json','setup_mysqlHost','query','map','hostname','windows','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20`id`\x20=\x20?','hlall','write',',</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>We\x20wanted\x20to\x20inform\x20you\x20that\x20your\x20demo\x20account\x20will\x20expire\x20in\x202\x20days\x20and\x20will\x20be\x20automatically\x20deleted.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>If\x20you\x20wish\x20to\x20keep\x20your\x20account\x20and\x20all\x20your\x20data,\x20please\x20contact\x20an\x20administrator\x20as\x20soon\x20as\x20possible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Thank\x20you\x20for\x20using\x20CADViewer!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>This\x20email\x20was\x20sent\x20automatically,\x20please\x20do\x20not\x20reply.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','path','Monitoring\x20file\x20cleaned.','Display\x20of\x20DWG','split','`crypted_password`\x20=\x20?,\x20','svgz','10UFJIRN','converters','isFile','/converters/files/','delete','An\x20error\x20occurred\x20while\x20checking.','SELECT\x20*\x20FROM\x20`users`\x20WHERE\x20(`email`\x20=\x20?\x20OR\x20`username`\x20=\x20?)\x20AND\x20`id`\x20!=\x20?','/folders/upload','lastIndexOf','email','image/svg+xml','transporter','/restapi-test/parameters/search','autoxchange_executable_windows','Folder\x20deleted.','/style.css','../libs/counter.js','Error\x20creating\x20folder.','SVGZ','Failed\x20to\x20send\x20email\x20to\x20','usedGB','180176RIGlZM','Analyse\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20termine.\x20Rsultats\x20enregistrs\x20dans\x20','\x22\x20executable','Cache\x20conversion','.dwg','globalBearerAutenticationToken','slice','Error!\x20Something\x20went\x20wrong.','/conversion/memorydata','purple','\x22exec\x22\x20command\x20activated\x20on\x20NodeJS','../libs/log','Error\x20reading\x20monitoring\x20file','test','User\x20updated\x20successfully','ctime','name','File\x20not\x20found','.json','/users','/cache/flush','Counter\x20reset\x20successfully','red','sendFile','DwgMerge\x20Settings','/logs','/users/flush-dir','fileLocationUrl','usedPercentage','.svg','toLocaleLowerCase','readFile','conversionTimeSpend','User\x20created\x20successfully','files','linklistLocation','who','getHotConfig','replaceAll','mimetype','total','all','call-Api_Conversion_','Content-Type','rename','includes','/users/:userId','user','pop','percentage','cadviewer/settings/users.html','/converters/files/merged/','.pdf','linklist_executable_linux','readFileSync','3840893JQkQQH','params','promise','.gitkeep','/cache','R_OK','autoxchange_executable_linux','/restapi-test','dwgmerge_executable','autodetect_platform','getDate','blue','cached_conversion','File\x20deleted.','json','status','\x20\x20\x20','/cache/files/:id','gray','Read\x20and\x20write\x20permission\x20for\x20folder\x20','/logs/content','/chart.min.js','cadviewer/settings/tailwind.js','JSON','INSERT\x20INTO\x20`users`\x20(`avatar_url`,\x20`first_name`,\x20`last_name`,\x20`username`,\x20`email`,\x20`crypted_password`,\x20`role`,\x20`is_enabled`,\x20`folder_name`)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','fileName','/folders','PDF','mysqlPassword','.svgz','ceil','CADViewer_config.json','utf8','File\x20renamed.','node-schedule','demoUserRetentionDaysAlertBeforeDeletion','type','array','Error\x20getting\x20disk\x20usage','DWG','mkdir','folder_name','UPDATE\x20`users`\x20SET\x20`folder_name`\x20=\x20?\x20WHERE\x20`id`\x20=\x20?','Error\x20renaming\x20file.','join',')\x20older\x20than\x20','unlinkSync','cadviewer/settings/vanilla-toast.css','linklist_executable_windows','DWG\x20file\x20in\x20multiple\x20files','keys','express-basic-auth','X_OK','/conversion/list','JSON\x20Data\x20Extraction','resolve','dwgmerge_executable_windows','multer','\x20n\x27existe\x20pas.','callbackMethod_gatewayUrl','===================error===================','cadviewer/settings/icons.js','isDirectory','DWG\x20to\x20SVG\x20Conversion','Le\x20dossier\x20','model','isFolder','dirname','====================','toString','green','mysqlHost','/cache/files','message','size','/metrics/reset','/config/content','darwin','sort','cadviewer/settings/home.html','DWG\x20to\x20PDF\x20Conversion','Error\x20deleting\x20old\x20demo_user\x20accounts:','/folders/update','Error\x20deleting\x20user\x20folder:','win32','endsWith','CSV','execute','CADViewer\x20Settings','fileLoad_Password','body','=============================>','reduce','Error\x20getting\x20cache\x20stats:','trim','access','put','version','4phArnB','oos','forEach','Permission\x20750\x20for\x20the\x20\x22'];a26_0x51da=function(){return _0x4287cc;};return a26_0x51da();}const deleteOldDemoUsers=async()=>{const _0x521848=a26_0x33ea86;console[_0x521848(0x31e)](_0x521848(0x316));const _0xc3472b=config[_0x521848(0x32e)],_0x174e33=_0x521848(0x32b);try{const [_0x38ddc5]=await conn[_0x521848(0x224)]()[_0x521848(0x279)](_0x174e33,[_0xc3472b]),_0x52f376=_0x38ddc5[_0x521848(0x1c9)](_0x313725=>_0x313725[_0x521848(0x24b)]),_0x12c485=_0x38ddc5[_0x521848(0x1c9)](_0x6c3129=>_0x6c3129['email']);console[_0x521848(0x31e)](_0x12c485),await conn[_0x521848(0x224)]()[_0x521848(0x279)]('DELETE\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[_0xc3472b]),_0x52f376[_0x521848(0x286)](_0x25a32b=>{const _0x1dd1f3=_0x521848;try{const _0x1dece0=_0x1dd1f3(0x1ae)+_0x25a32b;fs[_0x1dd1f3(0x2b7)](_0x1dece0);}catch(_0x2d2678){console[_0x1dd1f3(0x2c7)](_0x1dd1f3(0x275),_0x2d2678);}}),console['log'](_0x521848(0x288)+_0x38ddc5[_0x521848(0x2c6)]+_0x521848(0x24f)+_0xc3472b+'\x20days\x20have\x20been\x20deleted.');}catch(_0x3169e8){console['error'](_0x521848(0x273),_0x3169e8);}},sendEmailForAccountDeletionPrevention=async()=>{const _0x1088bc=a26_0x33ea86,_0xf2d057=require('../libs/mail')[_0x1088bc(0x1e1)];try{const [_0x3edd29]=await conn[_0x1088bc(0x224)]()[_0x1088bc(0x279)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27demo_user\x27\x20AND\x20created_at\x20<\x20DATE_SUB(NOW(),\x20INTERVAL\x20?\x20DAY)',[config['demoUserRetentionDays']-config[_0x1088bc(0x245)]]);if(_0x3edd29[_0x1088bc(0x2c6)]===0x0){console['log'](_0x1088bc(0x308));return;}for(const _0x26f81b of _0x3edd29){let _0x4c0614=_0x1088bc(0x2cc)+(_0x26f81b[_0x1088bc(0x310)]||_0x26f81b[_0x1088bc(0x2a1)])+_0x1088bc(0x1cf);const _0x50cbb8={'from':config[_0x1088bc(0x293)],'to':_0x26f81b['email'],'subject':_0x1088bc(0x2d6),'text':'Your\x20CADViewer\x20demo\x20account\x20will\x20expire\x20in\x202\x20days.\x20Please\x20contact\x20an\x20administrator\x20if\x20you\x20wish\x20to\x20keep\x20your\x20account.','html':_0x4c0614};try{await _0xf2d057[_0x1088bc(0x2d9)](_0x50cbb8),console['log']('Deletion\x20prevention\x20email\x20sent\x20to\x20'+_0x26f81b[_0x1088bc(0x1df)]);}catch(_0x29d3a6){console[_0x1088bc(0x31e)](_0x1088bc(0x25e)),console[_0x1088bc(0x31e)](_0x1088bc(0x1e9)+_0x26f81b[_0x1088bc(0x1df)]),console['log'](_0x29d3a6);}}}catch(_0x2a0dea){console[_0x1088bc(0x31e)](_0x1088bc(0x25e)),console[_0x1088bc(0x31e)](_0x1088bc(0x2b0)),console[_0x1088bc(0x31e)](_0x2a0dea);}};schedule[a26_0x33ea86(0x1b3)]('0\x201\x20*\x20*\x20*',deleteOldDemoUsers),schedule[a26_0x33ea86(0x1b3)]('0\x200\x20*\x20*\x20*',sendEmailForAccountDeletionPrevention);const analyzeConverterFiles=()=>{const _0x2f9c03=a26_0x33ea86;try{const _0x4e448e=path[_0x2f9c03(0x24e)](path['dirname'](require['main']['filename']),_0x2f9c03(0x1d7),_0x2f9c03(0x20d)),_0x4dfa25=path[_0x2f9c03(0x24e)](path[_0x2f9c03(0x265)](require[_0x2f9c03(0x2f5)]['filename']),'cadviewer',_0x2f9c03(0x1a7));if(!fs[_0x2f9c03(0x2a3)](_0x4e448e)){logStream[_0x2f9c03(0x1ce)](_0x2f9c03(0x262)+_0x4e448e+_0x2f9c03(0x25c));return;}if(!fs[_0x2f9c03(0x2a3)](_0x4dfa25)){logStream[_0x2f9c03(0x1ce)](_0x2f9c03(0x262)+_0x4dfa25+_0x2f9c03(0x25c));return;}const _0x3b57ed=fs[_0x2f9c03(0x1b8)](_0x4e448e),_0x4ff55e=new Map();_0x3b57ed['forEach'](_0x58659d=>{const _0x2e2568=_0x2f9c03,_0x59eef9=path[_0x2e2568(0x24e)](_0x4e448e,_0x58659d),_0x1d79ea=fs['statSync'](_0x59eef9);_0x4ff55e[_0x2e2568(0x2fc)](_0x58659d,_0x1d79ea);});const _0x5a7c49=[],_0x2f2f1b=Array['from'](_0x4ff55e[_0x2f9c03(0x2fe)]())[_0x2f9c03(0x1c9)](([_0x34bb18,_0x203f6c])=>{const _0x35c8d5=_0x2f9c03;if(_0x203f6c[_0x35c8d5(0x260)]())return undefined;let _0x57e292=undefined,_0x29c27f=undefined;(_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x208))||_0x34bb18[_0x35c8d5(0x277)]('.svgz'))&&_0x4ff55e['has'](_0x34bb18[_0x35c8d5(0x314)]('.svgz',_0x35c8d5(0x1bd))[_0x35c8d5(0x314)](_0x35c8d5(0x208),_0x35c8d5(0x1bd)))&&(_0x57e292=_0x34bb18[_0x35c8d5(0x314)](_0x35c8d5(0x23f),'.csv')['replace'](_0x35c8d5(0x208),_0x35c8d5(0x1bd)));_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x1fd))&&_0x4ff55e[_0x35c8d5(0x2e2)](_0x34bb18[_0x35c8d5(0x314)](_0x35c8d5(0x1fd),_0x35c8d5(0x1ef)))&&(_0x29c27f=_0x34bb18[_0x35c8d5(0x314)](_0x35c8d5(0x1fd),'.dwg'));const _0x486e0f=_0x31d5f0=>{const _0x162463=_0x35c8d5;if(_0x31d5f0[_0x162463(0x277)](_0x162463(0x1c3)))return _0x31d5f0[_0x162463(0x1f1)](0x0,-0x8);else{if(_0x31d5f0['endsWith'](_0x162463(0x30b))){const _0x405fd2=fs[_0x162463(0x221)](path[_0x162463(0x24e)](_0x4e448e,_0x31d5f0),_0x162463(0x242));return JSON[_0x162463(0x1c2)](_0x405fd2)['cachedfiles'][_0x162463(0x1c9)](_0x39ebff=>_0x39ebff[_0x162463(0x23b)]);}}return _0x31d5f0['slice'](0x0,_0x31d5f0[_0x162463(0x1de)]('.'));},_0x23b47b=_0x486e0f(_0x34bb18),_0x78fc85=Array['from'](_0x4ff55e[_0x35c8d5(0x254)]())[_0x35c8d5(0x1a5)](_0x8f4e22=>{const _0x15d793=_0x35c8d5;return Array[_0x15d793(0x312)](_0x23b47b)?_0x23b47b[_0x15d793(0x2af)](_0x388462=>_0x486e0f(_0x8f4e22)===_0x388462&&_0x8f4e22!==_0x34bb18):_0x486e0f(_0x8f4e22)===_0x23b47b&&_0x8f4e22!==_0x34bb18;});if(Array['isArray'](_0x23b47b)){if(_0x23b47b['some'](_0x496049=>_0x5a7c49[_0x35c8d5(0x218)](_0x496049)))return;}else{if(_0x5a7c49['includes'](_0x23b47b))return;}Array['isArray'](_0x23b47b)?_0x23b47b[_0x35c8d5(0x286)](_0x1bc99e=>{const _0x31eb35=_0x35c8d5;_0x5a7c49[_0x31eb35(0x325)](_0x1bc99e);}):_0x5a7c49[_0x35c8d5(0x325)](_0x23b47b);const _0x33a313=[{'id':_0x34bb18,'name':_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x208))?_0x35c8d5(0x2d5):_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x23f))?_0x35c8d5(0x1e8):_0x34bb18['endsWith'](_0x35c8d5(0x21f))?'PDF':_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x1fd))?_0x35c8d5(0x239):_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x1bd))?'CSV':_0x34bb18['endsWith'](_0x35c8d5(0x1ef))?_0x35c8d5(0x249):_0x34bb18[_0x35c8d5(0x1d3)]('.')[_0x35c8d5(0x21b)]()[_0x35c8d5(0x2a7)](),'color':_0x34bb18['endsWith']('.svg')||_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x23f))?_0x35c8d5(0x2f6):_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x21f))?_0x35c8d5(0x201):_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x1fd))?_0x35c8d5(0x234):_0x34bb18[_0x35c8d5(0x277)](_0x35c8d5(0x1bd))?_0x35c8d5(0x268):_0x34bb18['endsWith']('.dwg')?'blue':'purple'},..._0x78fc85[_0x35c8d5(0x1c9)](_0x5db86e=>({'id':_0x5db86e,'name':_0x5db86e['endsWith'](_0x35c8d5(0x208))?_0x35c8d5(0x2d5):_0x5db86e[_0x35c8d5(0x277)]('.svgz')?'SVGZ':_0x5db86e[_0x35c8d5(0x277)](_0x35c8d5(0x21f))?_0x35c8d5(0x23d):_0x5db86e[_0x35c8d5(0x277)](_0x35c8d5(0x1fd))?_0x35c8d5(0x239):_0x5db86e[_0x35c8d5(0x277)]('.csv')?_0x35c8d5(0x278):_0x5db86e['endsWith'](_0x35c8d5(0x1ef))?_0x35c8d5(0x249):_0x5db86e[_0x35c8d5(0x1d3)]('.')[_0x35c8d5(0x21b)]()[_0x35c8d5(0x2a7)](),'color':_0x5db86e[_0x35c8d5(0x277)](_0x35c8d5(0x208))||_0x5db86e['endsWith'](_0x35c8d5(0x23f))?'yellow':_0x5db86e[_0x35c8d5(0x277)](_0x35c8d5(0x21f))?_0x35c8d5(0x201):_0x5db86e[_0x35c8d5(0x277)]('.json')?_0x35c8d5(0x234):_0x5db86e[_0x35c8d5(0x277)](_0x35c8d5(0x1bd))?'green':_0x5db86e['endsWith'](_0x35c8d5(0x1ef))?_0x35c8d5(0x22d):_0x35c8d5(0x1f4)}))];let _0x26311a='';if(_0x33a313['some'](_0x26f3f2=>_0x26f3f2['id']['includes'](_0x35c8d5(0x1c3))))_0x26311a='RL/TL\x20Processing';else{if(_0x33a313[_0x35c8d5(0x2af)](_0xad783c=>['svg',_0x35c8d5(0x1d5)][_0x35c8d5(0x218)](_0xad783c['id'][_0x35c8d5(0x1d3)]('.')[_0x35c8d5(0x21b)]()))&&_0x57e292)_0x26311a=_0x35c8d5(0x261);else{if(_0x33a313[_0x35c8d5(0x2af)](_0x1ff6e3=>[_0x35c8d5(0x31d),_0x35c8d5(0x1d5)][_0x35c8d5(0x218)](_0x1ff6e3['id'][_0x35c8d5(0x1d3)]('.')[_0x35c8d5(0x21b)]())))_0x26311a='Display\x20of\x20DWG';else{if(_0x33a313[_0x35c8d5(0x2af)](_0x549bc1=>[_0x35c8d5(0x230)][_0x35c8d5(0x218)](_0x549bc1['id'][_0x35c8d5(0x1d3)]('.')['pop']()))&&_0x29c27f)_0x26311a='JSON\x20Data\x20Extraction';else{if(_0x33a313[_0x35c8d5(0x2af)](_0x47ffb0=>[_0x35c8d5(0x2e7)][_0x35c8d5(0x218)](_0x47ffb0['id'][_0x35c8d5(0x1d3)]('.')['pop']())))_0x26311a='DWG\x20to\x20PDF\x20Conversion';else{if(_0x33a313[_0x35c8d5(0x2af)](_0x16beb6=>[_0x35c8d5(0x230)][_0x35c8d5(0x218)](_0x16beb6['id'][_0x35c8d5(0x1d3)]('.')['pop']()))&&!_0x29c27f)_0x26311a=_0x35c8d5(0x253);else _0x33a313['some'](_0x1e2fa1=>['json'][_0x35c8d5(0x218)](_0x1e2fa1['id'][_0x35c8d5(0x1d3)]('.')[_0x35c8d5(0x21b)]()))&&(_0x26311a=_0x35c8d5(0x1ee));}}}}}return{'name':_0x34bb18,'size':_0x203f6c['size'],'createdAt':_0x203f6c['birthtime'],'updatedAt':_0x203f6c[_0x35c8d5(0x1fa)],'readAt':_0x203f6c['atime'],'action':_0x26311a,'csvFile':_0x57e292,'dwgFile':_0x29c27f,'availableFormats':_0x33a313};})[_0x2f9c03(0x1a5)](_0x460c49=>_0x460c49!==undefined);_0x2f2f1b[_0x2f9c03(0x270)]((_0xf628b,_0x5f3397)=>_0x5f3397['createdAt']-_0xf628b[_0x2f9c03(0x28e)]);const _0x3f1d6c={'timestamp':new Date(),'totalFiles':_0x2f2f1b[_0x2f9c03(0x2c6)],'filesByType':{'svg':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x1e202a=>_0x1e202a[_0x2f9c03(0x1fb)][_0x2f9c03(0x277)](_0x2f9c03(0x208)))[_0x2f9c03(0x2c6)],'svgz':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x1592e3=>_0x1592e3[_0x2f9c03(0x1fb)][_0x2f9c03(0x277)]('.svgz'))[_0x2f9c03(0x2c6)],'pdf':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x3f9a57=>_0x3f9a57[_0x2f9c03(0x1fb)][_0x2f9c03(0x277)]('.pdf'))[_0x2f9c03(0x2c6)],'json':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x5e5142=>_0x5e5142[_0x2f9c03(0x1fb)]['endsWith'](_0x2f9c03(0x1fd)))[_0x2f9c03(0x2c6)],'csv':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x43ef96=>_0x43ef96[_0x2f9c03(0x1a6)])[_0x2f9c03(0x2c6)],'dwg':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x22a8c7=>_0x22a8c7[_0x2f9c03(0x28f)])[_0x2f9c03(0x2c6)]},'filesByAction':{'dwgToSvg':_0x2f2f1b[_0x2f9c03(0x1a5)](_0xebaece=>_0xebaece[_0x2f9c03(0x2a4)]===_0x2f9c03(0x261))[_0x2f9c03(0x2c6)],'displayDwg':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x2e64de=>_0x2e64de[_0x2f9c03(0x2a4)]===_0x2f9c03(0x1d2))[_0x2f9c03(0x2c6)],'jsonExtraction':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x5351a3=>_0x5351a3[_0x2f9c03(0x2a4)]===_0x2f9c03(0x258))[_0x2f9c03(0x2c6)],'dwgToPdf':_0x2f2f1b[_0x2f9c03(0x1a5)](_0xd7f1e8=>_0xd7f1e8['action']===_0x2f9c03(0x272))[_0x2f9c03(0x2c6)],'splitFiles':_0x2f2f1b['filter'](_0x5b488d=>_0x5b488d[_0x2f9c03(0x2a4)]===_0x2f9c03(0x253))[_0x2f9c03(0x2c6)],'rlProcessing':_0x2f2f1b[_0x2f9c03(0x1a5)](_0x27dd04=>_0x27dd04[_0x2f9c03(0x2a4)]==='RL/TL\x20Processing')['length'],'cacheConversion':_0x2f2f1b['filter'](_0xb0be35=>_0xb0be35['action']===_0x2f9c03(0x1ee))[_0x2f9c03(0x2c6)]},'files':_0x2f2f1b},_0x1412f4=path[_0x2f9c03(0x24e)](_0x4dfa25,_0x2f9c03(0x2fb));fs[_0x2f9c03(0x1b4)](_0x1412f4,JSON[_0x2f9c03(0x2e6)](_0x3f1d6c,null,0x2)),logStream[_0x2f9c03(0x1ce)](_0x2f9c03(0x1ec)+_0x1412f4);}catch(_0x5d40c2){logStream['write'](_0x2f9c03(0x329)+_0x5d40c2[_0x2f9c03(0x26b)]);}},scheduleFileAnalysis=()=>{const _0x2ced4a=a26_0x33ea86;analyzeConverterFiles(),schedule[_0x2ced4a(0x1b3)](_0x2ced4a(0x2bf),analyzeConverterFiles),logStream[_0x2ced4a(0x1ce)]('Analyse\x20priodique\x20des\x20fichiers\x20du\x20dossier\x20converters/files\x20planifie\x20(toutes\x20les\x20heures)');};scheduleFileAnalysis(),module['exports']=router;