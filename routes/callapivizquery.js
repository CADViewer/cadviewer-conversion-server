function a3_0x354e(_0x3da10a,_0x5e330f){const _0x42579a=a3_0x4257();return a3_0x354e=function(_0x354e16,_0x370b4a){_0x354e16=_0x354e16-0x170;let _0x28a77d=_0x42579a[_0x354e16];return _0x28a77d;},a3_0x354e(_0x3da10a,_0x5e330f);}const a3_0x1b6c95=a3_0x354e;(function(_0x20bf6b,_0x212e52){const _0x5cbf2b=a3_0x354e,_0x4da44e=_0x20bf6b();while(!![]){try{const _0x21697a=parseInt(_0x5cbf2b(0x18b))/0x1+parseInt(_0x5cbf2b(0x18c))/0x2+parseInt(_0x5cbf2b(0x190))/0x3*(parseInt(_0x5cbf2b(0x185))/0x4)+-parseInt(_0x5cbf2b(0x187))/0x5+-parseInt(_0x5cbf2b(0x182))/0x6*(-parseInt(_0x5cbf2b(0x171))/0x7)+-parseInt(_0x5cbf2b(0x199))/0x8*(parseInt(_0x5cbf2b(0x172))/0x9)+parseInt(_0x5cbf2b(0x181))/0xa*(-parseInt(_0x5cbf2b(0x17a))/0xb);if(_0x21697a===_0x212e52)break;else _0x4da44e['push'](_0x4da44e['shift']());}catch(_0x5782e4){_0x4da44e['push'](_0x4da44e['shift']());}}}(a3_0x4257,0xc83a1));const config=require(a3_0x1b6c95(0x19f)),cvjs_debug=config[a3_0x1b6c95(0x19e)],fs=require('fs'),path=require(a3_0x1b6c95(0x191)),{dwgToSvg,initializeFloorplan,updateFloorplan,extractFloorplan}=require(a3_0x1b6c95(0x193)),express=require('express'),router=express[a3_0x1b6c95(0x173)](),{getHotConfig}=require(a3_0x1b6c95(0x177));function a3_0x4257(){const _0x5dcaa6=['Error\x20saving\x20configuration\x20file:','3351403lgHbVQ','existsSync','exports','Extraction\x20configuration\x20file\x20not\x20found','Invalid\x20JSON\x20data','writeFileSync','mkdirSync','10KxWnCA','24vgUKAd','update','Failed\x20to\x20save\x20configuration\x20file','26296KJjrPK','post','5330520kWNVmV','string','stringify','status','1554680fiaYno','2183176soZKHx','dwg','VizQuery_Space','parse','162Kgylwo','path','json','../libs/autoexchange','Initialization\x20configuration\x20file\x20not\x20found','slice','body','createDrawing','svg','491408iiHICb','json/property','length','replace','initialization','cvjs_debug','../CADViewer_config.json','pop','join','194306xjYQCg','135Dwvjar','Router','extraction','message','split','../libs/config','error'];a3_0x4257=function(){return _0x5dcaa6;};return a3_0x4257();}router['post']('',(_0x47a46b,_0x5d3ebb)=>{const _0x17d349=a3_0x1b6c95,{filename:_0x33fb50,action:_0x28c677,contentLocation:_0x18b424,initOutputFilename:_0x3310af,initConfigFilename:_0x46cd83,updateOutputFilename:_0x33775f,updateConfigFilename:_0x36ac1c,extractConfigFilename:_0x514f49,extractOutputFilename:_0x2d885b,drawingOutputFilename:_0x259c2d}=_0x47a46b[_0x17d349(0x196)];_0x28c677['initialization']&&(_0x28c677[_0x17d349(0x174)]=![]);const _0x37c538=_0x18b424[_0x17d349(0x176)]('/'),_0x51e6df=_0x37c538[_0x37c538[_0x17d349(0x19b)]-0x1],_0x5dabfe=_0x51e6df[_0x17d349(0x176)]('.')[_0x17d349(0x1a0)](),_0x12361e=_0x37c538[_0x17d349(0x195)](0x0,-0x1)[_0x17d349(0x170)]('/');if(_0x28c677['initialization']){if(!fs[_0x17d349(0x17b)](path['join'](_0x12361e,_0x46cd83)))return _0x5d3ebb['status'](0x190)[_0x17d349(0x192)]({'error':_0x17d349(0x194)});}if(_0x28c677[_0x17d349(0x183)]){if(!fs[_0x17d349(0x17b)](path[_0x17d349(0x170)](_0x12361e,_0x36ac1c)))return _0x5d3ebb[_0x17d349(0x18a)](0x190)[_0x17d349(0x192)]({'error':'Update\x20configuration\x20file\x20not\x20found'});}if(_0x28c677[_0x17d349(0x174)]){if(!fs[_0x17d349(0x17b)](path[_0x17d349(0x170)](_0x12361e,_0x514f49)))return _0x5d3ebb[_0x17d349(0x18a)](0x190)['json']({'error':_0x17d349(0x17d)});}const _0x305511=path['join'](_0x12361e,''+_0x3310af);_0x28c677['initialization']&&initializeFloorplan(_0x18b424,_0x305511,{'cde':path[_0x17d349(0x170)](_0x12361e,_0x46cd83)});const _0x596dc2=_0x28c677[_0x17d349(0x19d)]?_0x305511:_0x18b424,_0x225915=path[_0x17d349(0x170)](_0x12361e,''+_0x33775f);_0x28c677[_0x17d349(0x183)]&&updateFloorplan(_0x596dc2,_0x225915,{'du2':path[_0x17d349(0x170)](_0x12361e,_0x36ac1c)});const _0x47373d=_0x28c677[_0x17d349(0x19d)]?_0x305511:_0x28c677['update']?_0x225915:_0x18b424,_0x470f5b=path[_0x17d349(0x170)](_0x12361e[_0x17d349(0x19c)](_0x17d349(0x18d),'json/property'),''+_0x2d885b);_0x28c677['extraction']&&(!fs[_0x17d349(0x17b)](_0x12361e['replace'](_0x17d349(0x18d),_0x17d349(0x19a)))&&fs[_0x17d349(0x180)](_0x12361e['replace'](_0x17d349(0x18d),'json/property'),{'recursive':!![]}),extractFloorplan(_0x47373d,_0x470f5b,{'dx2':path[_0x17d349(0x170)](_0x12361e,_0x514f49)}));const _0x15e762=_0x28c677[_0x17d349(0x19d)]?_0x305511:_0x28c677[_0x17d349(0x183)]?_0x225915:_0x18b424,_0x1fac2c=path[_0x17d349(0x170)](_0x12361e[_0x17d349(0x19c)](_0x17d349(0x18d),_0x17d349(0x198)),''+_0x259c2d);_0x28c677[_0x17d349(0x197)]&&(!fs[_0x17d349(0x17b)](_0x12361e['replace'](_0x17d349(0x18d),_0x17d349(0x198)))&&fs[_0x17d349(0x180)](_0x12361e[_0x17d349(0x19c)](_0x17d349(0x18d),_0x17d349(0x198)),{'recursive':!![]}),dwgToSvg(_0x15e762,_0x1fac2c,{'f':_0x17d349(0x198),'last':'','extents':'','rl':_0x17d349(0x18e),'tl':'VizQuery_ID'})),_0x5d3ebb['status'](0xc8)[_0x17d349(0x192)]({'initial_output_path':_0x28c677[_0x17d349(0x19d)]?_0x305511:_0x28c677['update']?_0x225915:_0x18b424,'update_output_path':_0x28c677[_0x17d349(0x183)]?_0x225915:null,'extracted_output_path':_0x28c677['extraction']?_0x470f5b:null,'drawing_output_path':_0x28c677['createDrawing']?_0x1fac2c:null});}),router[a3_0x1b6c95(0x186)]('/config-file',(_0x4276ac,_0x49bd1e)=>{const _0x5e7fe5=a3_0x1b6c95,{jsonConfigFilename:_0x5445a5,contentLocation:_0xa7c9f}=_0x4276ac[_0x5e7fe5(0x196)],_0x2cc9a9=_0x4276ac[_0x5e7fe5(0x196)]['configData'];if(!_0x5445a5||!_0xa7c9f||!_0x2cc9a9)return _0x49bd1e[_0x5e7fe5(0x18a)](0x190)[_0x5e7fe5(0x192)]({'error':'Missing\x20required\x20parameters:\x20jsonConfigFilename,\x20contentLocation\x20or\x20configData'});try{let _0x4af726;try{_0x4af726=typeof _0x2cc9a9===_0x5e7fe5(0x188)?JSON[_0x5e7fe5(0x18f)](_0x2cc9a9):_0x2cc9a9;}catch(_0x400140){return _0x49bd1e[_0x5e7fe5(0x18a)](0x190)[_0x5e7fe5(0x192)]({'error':_0x5e7fe5(0x17e)});}const _0x5a1b69=_0xa7c9f[_0x5e7fe5(0x176)]('/'),_0x3c6b7d=_0x5a1b69[_0x5e7fe5(0x195)](0x0,-0x1)['join']('/'),_0x5d6223=_0x5445a5,_0x189f27=path[_0x5e7fe5(0x170)](_0x3c6b7d,_0x5d6223);fs[_0x5e7fe5(0x17f)](_0x189f27,JSON[_0x5e7fe5(0x189)](_0x4af726,null,0x2)),_0x49bd1e['status'](0xc8)[_0x5e7fe5(0x192)]({'success':!![],'message':'Configuration\x20file\x20saved\x20successfully','filePath':_0x189f27});}catch(_0x42748e){console[_0x5e7fe5(0x178)](_0x5e7fe5(0x179),_0x42748e),_0x49bd1e[_0x5e7fe5(0x18a)](0x1f4)['json']({'error':_0x5e7fe5(0x184),'details':_0x42748e[_0x5e7fe5(0x175)]});}}),module[a3_0x1b6c95(0x17c)]=router;