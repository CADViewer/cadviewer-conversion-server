function a18_0x4c71(){var _0x328f68=['rename','autoxchange_executable',';base64,','25025QcNQlh','5556TerPCb','log','ServerUrl','.pdf\x22\x20-f=pdf\x20-','.pdf','1jDCyVn','3996CnrCPA','callbackMethod_gatewayUrl','273506IVmZMz','876ykbXaG','585090JvhdKc','crypto','File\x20created','ServerLocation','split','conversion\x20is\x20done\x20now\x20rename:\x20','\x20to:','body','readFile','stderr-log:\x20','writeFile','cvjs_debug','/files?file=','708990quiWqp','stdout-log:\x20','.png','.png\x22\x20-o=\x22','_base64.png','2877MUILdL','rotation_0','/makesinglepagepdf','replace','page_format_0','error\x20-loadfile:\x20','Router','3480MnOWUI','utf8','error\x20-\x20makesinglepagepdf\x20exec():\x20','1331856kjlrYz','Error\x20exec():\x20','randomBytes','hex','child_process','9bWAPab','toString','send','fileLocation'];a18_0x4c71=function(){return _0x328f68;};return a18_0x4c71();}var a18_0x55132e=a18_0x2a70;function a18_0x2a70(_0x7c2375,_0x25e366){var _0x4c714f=a18_0x4c71();return a18_0x2a70=function(_0x2a7046,_0x486921){_0x2a7046=_0x2a7046-0x1dd;var _0x4f7bd6=_0x4c714f[_0x2a7046];return _0x4f7bd6;},a18_0x2a70(_0x7c2375,_0x25e366);}(function(_0x219f5e,_0x377ff1){var _0x146d0e=a18_0x2a70,_0x5e4c8e=_0x219f5e();while(!![]){try{var _0x5c4e72=-parseInt(_0x146d0e(0x1f9))/0x1*(parseInt(_0x146d0e(0x1fc))/0x2)+-parseInt(_0x146d0e(0x1fe))/0x3+parseInt(_0x146d0e(0x1fd))/0x4*(-parseInt(_0x146d0e(0x1e4))/0x5)+parseInt(_0x146d0e(0x1fa))/0x6*(-parseInt(_0x146d0e(0x1dd))/0x7)+-parseInt(_0x146d0e(0x1e7))/0x8*(parseInt(_0x146d0e(0x1ec))/0x9)+parseInt(_0x146d0e(0x20b))/0xa+parseInt(_0x146d0e(0x1f3))/0xb*(parseInt(_0x146d0e(0x1f4))/0xc);if(_0x5c4e72===_0x377ff1)break;else _0x5e4c8e['push'](_0x5e4c8e['shift']());}catch(_0x2bfa5f){_0x5e4c8e['push'](_0x5e4c8e['shift']());}}}(a18_0x4c71,0x30c81));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],crypto=require(a18_0x55132e(0x1ff)),express=require('express'),router=express[a18_0x55132e(0x1e3)]();function clean_contentLocation(_0x5bb01e){var _0xcb8828=a18_0x55132e;return _0x5bb01e=decodeURI(_0x5bb01e),_0x5bb01e=_0x5bb01e['replace'](/%3A/g,':'),_0x5bb01e=_0x5bb01e[_0xcb8828(0x1e0)](/%2F/g,'/'),_0x5bb01e=_0x5bb01e[_0xcb8828(0x1e0)](/%20/g,'\x20'),_0x5bb01e;}router['post']('/makesinglepagepdf',(_0x3d9207,_0x22d321)=>{var _0x38e042=a18_0x55132e;console['log'](_0x38e042(0x1df));try{var _0x45ebbd=_0x3d9207[_0x38e042(0x205)][_0x38e042(0x1de)],_0x1fa37c=_0x3d9207[_0x38e042(0x205)]['fileName_0'],_0x2e1b2d=_0x3d9207['body'][_0x38e042(0x1e1)],_0x35247d=clean_contentLocation(config[_0x38e042(0x1ef)]+'/'+_0x1fa37c+_0x38e042(0x20f)),_0x3368a1='';_0x1fa37c=clean_contentLocation(_0x1fa37c);var _0x3c1be2=crypto[_0x38e042(0x1e9)](0x14)[_0x38e042(0x1ed)](_0x38e042(0x1ea)),_0x42c5c2='F'+_0x3c1be2,_0x449cbf=require('fs');_0x449cbf[_0x38e042(0x206)](_0x35247d,_0x38e042(0x1e5),function(_0x2af4c0,_0x3edbce){var _0x298d45=_0x38e042;if(_0x2af4c0){_0x22d321[_0x298d45(0x1ee)](_0x298d45(0x1e2)+_0x2af4c0);if(config[_0x298d45(0x209)])console[_0x298d45(0x1f5)](_0x2af4c0);}else{_0x3368a1=_0x3edbce;let _0x2cc73e=_0x3368a1[_0x298d45(0x202)](_0x298d45(0x1f2))['pop']();_0x449cbf[_0x298d45(0x208)](config[_0x298d45(0x1ef)]+'/'+_0x42c5c2+_0x298d45(0x20d),_0x2cc73e,{'encoding':'base64'},function(_0x15e333){var _0x2fc620=_0x298d45;console[_0x2fc620(0x1f5)](_0x2fc620(0x200));var _0x20514c=config['converterLocation']+config[_0x2fc620(0x1f1)]+'\x20'+'-i=\x22'+config['fileLocation']+_0x42c5c2+_0x2fc620(0x20e)+config['fileLocation']+_0x42c5c2+_0x2fc620(0x1f7)+_0x2e1b2d+'\x20-'+_0x45ebbd;console['log'](_0x20514c);const {exec:_0x48215e}=require(_0x2fc620(0x1eb));_0x48215e(_0x20514c,(_0x41c069,_0x4bab9a,_0x3cbe1d)=>{var _0x3e25b2=_0x2fc620;if(_0x41c069){if(config[_0x3e25b2(0x209)])console[_0x3e25b2(0x1f5)](_0x3e25b2(0x1e8)+_0x41c069);_0x22d321[_0x3e25b2(0x1ee)](_0x3e25b2(0x1e6)+_0x41c069);}else{if(config['cvjs_debug'])console[_0x3e25b2(0x1f5)](_0x3e25b2(0x203)+config['fileLocation']+'/'+_0x42c5c2+_0x3e25b2(0x1f8)+_0x3e25b2(0x204)+config[_0x3e25b2(0x1ef)]+'/'+_0x1fa37c+'.pdf');_0x449cbf[_0x3e25b2(0x1f0)](config[_0x3e25b2(0x1ef)]+'/'+_0x42c5c2+_0x3e25b2(0x1f8),config[_0x3e25b2(0x1ef)]+'/'+_0x1fa37c+_0x3e25b2(0x1f8),()=>{var _0x56eb91=_0x3e25b2;if(config[_0x56eb91(0x209)])console['log'](_0x56eb91(0x20c)+_0x4bab9a);if(config[_0x56eb91(0x209)])console[_0x56eb91(0x1f5)](_0x56eb91(0x207)+_0x3cbe1d);var _0x46ea0e='';if(config['fileLocation']['indexOf'](config[_0x56eb91(0x201)])==0x0)_0x46ea0e=config[_0x56eb91(0x1ef)]['substring'](config['ServerLocation']['length']);else _0x46ea0e=config['fileLocation'];var _0x316514='';config['ServerUrl']+_0x56eb91(0x20a)+_0x46ea0e+'/'+_0x1fa37c+_0x56eb91(0x1f8);if(config['callbackMethod_gatewayUrl_flag'])_0x316514=config[_0x56eb91(0x1fb)]+_0x56eb91(0x20a)+_0x46ea0e+'/'+_0x1fa37c+'.pdf';else _0x316514=config[_0x56eb91(0x1f6)]+_0x56eb91(0x20a)+_0x46ea0e+'/'+_0x1fa37c+_0x56eb91(0x1f8);_0x22d321[_0x56eb91(0x1ee)](_0x316514);});}});});}});}catch(_0x399096){_0x22d321[_0x38e042(0x1ee)]('error\x20-\x20makesinglepagepdf\x20(e)'+_0x399096);if(config['cvjs_debug'])console[_0x38e042(0x1f5)](_0x399096);}}),module['exports']=router;