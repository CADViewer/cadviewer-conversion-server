var a18_0x2eb043=a18_0x1bf9;function a18_0x1bf9(_0x46fbbf,_0x5d27b7){var _0x367fa7=a18_0x367f();return a18_0x1bf9=function(_0x1bf998,_0x554287){_0x1bf998=_0x1bf998-0xb8;var _0x1d0253=_0x367fa7[_0x1bf998];return _0x1d0253;},a18_0x1bf9(_0x46fbbf,_0x5d27b7);}function a18_0x367f(){var _0x3c71f0=['cvjs_debug','pop','6bGydco','error\x20-\x20makesinglepagepdf\x20exec():\x20','5306368wSZOIV','ServerLocation','exports','split','\x20to:','../CADViewer_config.json','2589ggwOXH','496DPuhvM','stderr-log:\x20','.pdf','fileName_0','hex','body','randomBytes','indexOf','substring','/makesinglepagepdf','.pdf\x22\x20-f=pdf\x20-','3415845LRCPib','page_format_0','autoxchange_executable','4952718HzVMEP','199630rkcALW','child_process','662130mkeonr','File\x20created','stdout-log:\x20','.png\x22\x20-o=\x22','base64','length','2911174DlhwiX','-i=\x22','log','rotation_0','fileLocation',';base64,','rename','/files?file=','toString','writeFile','ServerUrl','Error\x20exec():\x20','replace','conversion\x20is\x20done\x20now\x20rename:\x20','send'];a18_0x367f=function(){return _0x3c71f0;};return a18_0x367f();}(function(_0x294c0c,_0x4f53ea){var _0x32918d=a18_0x1bf9,_0x4d1ea7=_0x294c0c();while(!![]){try{var _0x3d49d9=-parseInt(_0x32918d(0xca))/0x1+-parseInt(_0x32918d(0xc8))/0x2+parseInt(_0x32918d(0xb8))/0x3*(-parseInt(_0x32918d(0xb9))/0x4)+parseInt(_0x32918d(0xc4))/0x5+-parseInt(_0x32918d(0xe1))/0x6*(-parseInt(_0x32918d(0xd0))/0x7)+parseInt(_0x32918d(0xe3))/0x8+-parseInt(_0x32918d(0xc7))/0x9;if(_0x3d49d9===_0x4f53ea)break;else _0x4d1ea7['push'](_0x4d1ea7['shift']());}catch(_0x122a51){_0x4d1ea7['push'](_0x4d1ea7['shift']());}}}(a18_0x367f,0x53c30));var config=require(a18_0x2eb043(0xe8)),cvjs_debug=config[a18_0x2eb043(0xdf)],crypto=require('crypto'),express=require('express'),router=express['Router']();function clean_contentLocation(_0x732897){var _0x24f103=a18_0x2eb043;return _0x732897=decodeURI(_0x732897),_0x732897=_0x732897['replace'](/%3A/g,':'),_0x732897=_0x732897[_0x24f103(0xdc)](/%2F/g,'/'),_0x732897=_0x732897[_0x24f103(0xdc)](/%20/g,'\x20'),_0x732897;}router['post'](a18_0x2eb043(0xc2),(_0x5aa724,_0x3b7b1b)=>{var _0x593928=a18_0x2eb043;console['log']('/makesinglepagepdf');try{var _0x50fa3c=_0x5aa724[_0x593928(0xbe)][_0x593928(0xd3)],_0x23a9ab=_0x5aa724[_0x593928(0xbe)][_0x593928(0xbc)],_0x22bb53=_0x5aa724['body'][_0x593928(0xc5)],_0x56e024=clean_contentLocation(config['fileLocation']+'/'+_0x23a9ab+'_base64.png'),_0x4ca34a='';_0x23a9ab=clean_contentLocation(_0x23a9ab);var _0x391997=crypto[_0x593928(0xbf)](0x14)[_0x593928(0xd8)](_0x593928(0xbd)),_0x596a45='F'+_0x391997,_0x3197d3=require('fs');_0x3197d3['readFile'](_0x56e024,'utf8',function(_0x353813,_0x296d6b){var _0x5b7f5a=_0x593928;if(_0x353813){_0x3b7b1b[_0x5b7f5a(0xde)]('error\x20-loadfile:\x20'+_0x353813);if(config[_0x5b7f5a(0xdf)])console[_0x5b7f5a(0xd2)](_0x353813);}else{_0x4ca34a=_0x296d6b;let _0x3e4b9f=_0x4ca34a[_0x5b7f5a(0xe6)](_0x5b7f5a(0xd5))[_0x5b7f5a(0xe0)]();_0x3197d3[_0x5b7f5a(0xd9)](config[_0x5b7f5a(0xd4)]+'/'+_0x596a45+'.png',_0x3e4b9f,{'encoding':_0x5b7f5a(0xce)},function(_0x3f4f1b){var _0xfe2da0=_0x5b7f5a;console[_0xfe2da0(0xd2)](_0xfe2da0(0xcb));var _0xe91c1a=config['converterLocation']+config[_0xfe2da0(0xc6)]+'\x20'+_0xfe2da0(0xd1)+config[_0xfe2da0(0xd4)]+_0x596a45+_0xfe2da0(0xcd)+config[_0xfe2da0(0xd4)]+_0x596a45+_0xfe2da0(0xc3)+_0x22bb53+'\x20-'+_0x50fa3c;console['log'](_0xe91c1a);const {exec:_0x372351}=require(_0xfe2da0(0xc9));_0x372351(_0xe91c1a,(_0x51e111,_0x1433bd,_0x4655f8)=>{var _0x2ea78e=_0xfe2da0;if(_0x51e111){if(config[_0x2ea78e(0xdf)])console[_0x2ea78e(0xd2)](_0x2ea78e(0xdb)+_0x51e111);_0x3b7b1b['send'](_0x2ea78e(0xe2)+_0x51e111);}else{if(config[_0x2ea78e(0xdf)])console[_0x2ea78e(0xd2)](_0x2ea78e(0xdd)+config[_0x2ea78e(0xd4)]+'/'+_0x596a45+_0x2ea78e(0xbb)+_0x2ea78e(0xe7)+config['fileLocation']+'/'+_0x23a9ab+_0x2ea78e(0xbb));_0x3197d3[_0x2ea78e(0xd6)](config[_0x2ea78e(0xd4)]+'/'+_0x596a45+'.pdf',config[_0x2ea78e(0xd4)]+'/'+_0x23a9ab+'.pdf',()=>{var _0x56b222=_0x2ea78e;if(config[_0x56b222(0xdf)])console[_0x56b222(0xd2)](_0x56b222(0xcc)+_0x1433bd);if(config[_0x56b222(0xdf)])console[_0x56b222(0xd2)](_0x56b222(0xba)+_0x4655f8);var _0x101a74='';if(config[_0x56b222(0xd4)][_0x56b222(0xc0)](config['ServerLocation'])==0x0)_0x101a74=config['fileLocation'][_0x56b222(0xc1)](config[_0x56b222(0xe4)][_0x56b222(0xcf)]);else _0x101a74=config['fileLocation'];var _0x6b59e8='';config['ServerUrl']+_0x56b222(0xd7)+_0x101a74+'/'+_0x23a9ab+'.pdf';if(config['callbackMethod_gatewayUrl_flag'])_0x6b59e8=config['callbackMethod_gatewayUrl']+_0x56b222(0xd7)+_0x101a74+'/'+_0x23a9ab+'.pdf';else _0x6b59e8=config[_0x56b222(0xda)]+'/files?file='+_0x101a74+'/'+_0x23a9ab+_0x56b222(0xbb);_0x3b7b1b['send'](_0x6b59e8);});}});});}});}catch(_0xb53334){_0x3b7b1b[_0x593928(0xde)]('error\x20-\x20makesinglepagepdf\x20(e)'+_0xb53334);if(config[_0x593928(0xdf)])console[_0x593928(0xd2)](_0xb53334);}}),module[a18_0x2eb043(0xe5)]=router;