var a18_0x4f6c7d=a18_0x453e;function a18_0x5618(){var _0x5caae5=['substring',';base64,','7185SSodVc','body','hex','rename','35fVSIgE','/files?file=','ServerLocation','466501IvVYjm','crypto','error\x20-\x20makesinglepagepdf\x20(e)','stderr-log:\x20','writeFile','2490mBUkvZ','autoxchange_executable','base64','split','send','express','11132627pJnKAs','.pdf','1409772qpqLqf','length','9FFKoXA','randomBytes','child_process','rotation_0','utf8','\x20to:','.png','.png\x22\x20-o=\x22','replace','fileLocation','page_format_0','indexOf','callbackMethod_gatewayUrl','log','Error\x20exec():\x20','cvjs_debug','/makesinglepagepdf','conversion\x20is\x20done\x20now\x20rename:\x20','ServerUrl','post','exports','_base64.png','6208340BZkkVv','1283368buqrkx','1796lWqpmw','callbackMethod_gatewayUrl_flag','942shXmVk','error\x20-\x20makesinglepagepdf\x20exec():\x20'];a18_0x5618=function(){return _0x5caae5;};return a18_0x5618();}(function(_0x361172,_0x3847a5){var _0x5d2484=a18_0x453e,_0x12e6ec=_0x361172();while(!![]){try{var _0x43bff0=-parseInt(_0x5d2484(0xec))/0x1+-parseInt(_0x5d2484(0xdf))/0x2*(parseInt(_0x5d2484(0xf1))/0x3)+parseInt(_0x5d2484(0xc5))/0x4+-parseInt(_0x5d2484(0xe5))/0x5*(-parseInt(_0x5d2484(0xe1))/0x6)+-parseInt(_0x5d2484(0xe9))/0x7*(-parseInt(_0x5d2484(0xde))/0x8)+parseInt(_0x5d2484(0xc7))/0x9*(-parseInt(_0x5d2484(0xdd))/0xa)+parseInt(_0x5d2484(0xf7))/0xb;if(_0x43bff0===_0x3847a5)break;else _0x12e6ec['push'](_0x12e6ec['shift']());}catch(_0x87332c){_0x12e6ec['push'](_0x12e6ec['shift']());}}}(a18_0x5618,0x889b3));var config=require('../CADViewer_config.json'),cvjs_debug=config[a18_0x4f6c7d(0xd6)],crypto=require(a18_0x4f6c7d(0xed)),express=require(a18_0x4f6c7d(0xf6)),router=express['Router']();function clean_contentLocation(_0x537d65){var _0x29b892=a18_0x4f6c7d;return _0x537d65=decodeURI(_0x537d65),_0x537d65=_0x537d65[_0x29b892(0xcf)](/%3A/g,':'),_0x537d65=_0x537d65[_0x29b892(0xcf)](/%2F/g,'/'),_0x537d65=_0x537d65[_0x29b892(0xcf)](/%20/g,'\x20'),_0x537d65;}function a18_0x453e(_0x189404,_0x412cd2){var _0x5618f6=a18_0x5618();return a18_0x453e=function(_0x453e12,_0x5911d1){_0x453e12=_0x453e12-0xc5;var _0x2bb0a0=_0x5618f6[_0x453e12];return _0x2bb0a0;},a18_0x453e(_0x189404,_0x412cd2);}router[a18_0x4f6c7d(0xda)]('/makesinglepagepdf',(_0x549e2e,_0x1796bf)=>{var _0x29129b=a18_0x4f6c7d;console[_0x29129b(0xd4)](_0x29129b(0xd7));try{var _0x5d72e3=_0x549e2e['body'][_0x29129b(0xca)],_0x5a6503=_0x549e2e[_0x29129b(0xe6)]['fileName_0'],_0x11a66f=_0x549e2e[_0x29129b(0xe6)][_0x29129b(0xd1)],_0x13a5e0=clean_contentLocation(config[_0x29129b(0xd0)]+'/'+_0x5a6503+_0x29129b(0xdc)),_0x5e71cb='';_0x5a6503=clean_contentLocation(_0x5a6503);var _0xfb967a=crypto[_0x29129b(0xc8)](0x14)['toString'](_0x29129b(0xe7)),_0x42e1d7='F'+_0xfb967a,_0x14105d=require('fs');_0x14105d['readFile'](_0x13a5e0,_0x29129b(0xcb),function(_0x301d54,_0x292d03){var _0x1f4875=_0x29129b;if(_0x301d54){_0x1796bf['send']('error\x20-loadfile:\x20'+_0x301d54);if(config['cvjs_debug'])console[_0x1f4875(0xd4)](_0x301d54);}else{_0x5e71cb=_0x292d03;let _0x5ab922=_0x5e71cb[_0x1f4875(0xf4)](_0x1f4875(0xe4))['pop']();_0x14105d[_0x1f4875(0xf0)](config['fileLocation']+'/'+_0x42e1d7+_0x1f4875(0xcd),_0x5ab922,{'encoding':_0x1f4875(0xf3)},function(_0x2ee45e){var _0x14128b=_0x1f4875;console[_0x14128b(0xd4)]('File\x20created');var _0x15c86e=config['converterLocation']+config[_0x14128b(0xf2)]+'\x20'+'-i=\x22'+config[_0x14128b(0xd0)]+_0x42e1d7+_0x14128b(0xce)+config['fileLocation']+_0x42e1d7+'.pdf\x22\x20-f=pdf\x20-'+_0x11a66f+'\x20-'+_0x5d72e3;console[_0x14128b(0xd4)](_0x15c86e);const {exec:_0x2d57f7}=require(_0x14128b(0xc9));_0x2d57f7(_0x15c86e,(_0x59f2eb,_0x192385,_0x407d33)=>{var _0x5b5bf8=_0x14128b;if(_0x59f2eb){if(config[_0x5b5bf8(0xd6)])console['log'](_0x5b5bf8(0xd5)+_0x59f2eb);_0x1796bf[_0x5b5bf8(0xf5)](_0x5b5bf8(0xe2)+_0x59f2eb);}else{if(config[_0x5b5bf8(0xd6)])console[_0x5b5bf8(0xd4)](_0x5b5bf8(0xd8)+config[_0x5b5bf8(0xd0)]+'/'+_0x42e1d7+'.pdf'+_0x5b5bf8(0xcc)+config[_0x5b5bf8(0xd0)]+'/'+_0x5a6503+_0x5b5bf8(0xf8));_0x14105d[_0x5b5bf8(0xe8)](config['fileLocation']+'/'+_0x42e1d7+_0x5b5bf8(0xf8),config[_0x5b5bf8(0xd0)]+'/'+_0x5a6503+_0x5b5bf8(0xf8),()=>{var _0x27daaa=_0x5b5bf8;if(config[_0x27daaa(0xd6)])console[_0x27daaa(0xd4)]('stdout-log:\x20'+_0x192385);if(config[_0x27daaa(0xd6)])console[_0x27daaa(0xd4)](_0x27daaa(0xef)+_0x407d33);var _0x3af08e='';if(config['fileLocation'][_0x27daaa(0xd2)](config[_0x27daaa(0xeb)])==0x0)_0x3af08e=config[_0x27daaa(0xd0)][_0x27daaa(0xe3)](config['ServerLocation'][_0x27daaa(0xc6)]);else _0x3af08e=config[_0x27daaa(0xd0)];var _0x36931f='';config['ServerUrl']+_0x27daaa(0xea)+_0x3af08e+'/'+_0x5a6503+_0x27daaa(0xf8);if(config[_0x27daaa(0xe0)])_0x36931f=config[_0x27daaa(0xd3)]+_0x27daaa(0xea)+_0x3af08e+'/'+_0x5a6503+_0x27daaa(0xf8);else _0x36931f=config[_0x27daaa(0xd9)]+_0x27daaa(0xea)+_0x3af08e+'/'+_0x5a6503+_0x27daaa(0xf8);_0x1796bf[_0x27daaa(0xf5)](_0x36931f);});}});});}});}catch(_0x2e7137){_0x1796bf[_0x29129b(0xf5)](_0x29129b(0xee)+_0x2e7137);if(config[_0x29129b(0xd6)])console[_0x29129b(0xd4)](_0x2e7137);}}),module[a18_0x4f6c7d(0xdb)]=router;