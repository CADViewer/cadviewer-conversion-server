var a18_0x16a378=a18_0x3777;function a18_0x3777(_0x41f7c2,_0x31ce1c){var _0x1d655c=a18_0x1d65();return a18_0x3777=function(_0x3777d0,_0xb2118b){_0x3777d0=_0x3777d0-0x148;var _0x25c0ca=_0x1d655c[_0x3777d0];return _0x25c0ca;},a18_0x3777(_0x41f7c2,_0x31ce1c);}function a18_0x1d65(){var _0x3e99ce=['-i=\x22','ServerLocation','exports','body','43895BnpUBv','page_format_0','7lCMGzy','.png\x22\x20-o=\x22','File\x20created','indexOf','1067288vfSRMV','error\x20-loadfile:\x20','error\x20-\x20makesinglepagepdf\x20(e)','\x20to:','utf8','2875609vmzfLN','.pdf','callbackMethod_gatewayUrl','Error\x20exec():\x20','fileName_0','rotation_0','replace','converterLocation',';base64,','callbackMethod_gatewayUrl_flag','pop','_base64.png','33NnrSCQ','12UjkUra','split','send','ServerUrl','toString','stdout-log:\x20','stderr-log:\x20','rename','.png','10sbSVkD','log','randomBytes','100920CFajUE','child_process','fileLocation','/makesinglepagepdf','1662534jEZHwj','crypto','/files?file=','246700tkZErD','54524ApYUUH','cvjs_debug','post'];a18_0x1d65=function(){return _0x3e99ce;};return a18_0x1d65();}(function(_0x13e936,_0x138541){var _0x2b62dd=a18_0x3777,_0x48489d=_0x13e936();while(!![]){try{var _0x2348a2=-parseInt(_0x2b62dd(0x164))/0x1*(parseInt(_0x2b62dd(0x152))/0x2)+-parseInt(_0x2b62dd(0x148))/0x3*(parseInt(_0x2b62dd(0x15d))/0x4)+parseInt(_0x2b62dd(0x15c))/0x5*(-parseInt(_0x2b62dd(0x149))/0x6)+-parseInt(_0x2b62dd(0x166))/0x7*(-parseInt(_0x2b62dd(0x16a))/0x8)+parseInt(_0x2b62dd(0x159))/0x9+parseInt(_0x2b62dd(0x155))/0xa+parseInt(_0x2b62dd(0x16f))/0xb;if(_0x2348a2===_0x138541)break;else _0x48489d['push'](_0x48489d['shift']());}catch(_0x33d517){_0x48489d['push'](_0x48489d['shift']());}}}(a18_0x1d65,0x1dad0));var config=require('../CADViewer_config.json'),cvjs_debug=config[a18_0x16a378(0x15e)],crypto=require(a18_0x16a378(0x15a)),express=require('express'),router=express['Router']();function clean_contentLocation(_0x1f5980){var _0x4e11c7=a18_0x16a378;return _0x1f5980=decodeURI(_0x1f5980),_0x1f5980=_0x1f5980[_0x4e11c7(0x175)](/%3A/g,':'),_0x1f5980=_0x1f5980[_0x4e11c7(0x175)](/%2F/g,'/'),_0x1f5980=_0x1f5980[_0x4e11c7(0x175)](/%20/g,'\x20'),_0x1f5980;}router[a18_0x16a378(0x15f)](a18_0x16a378(0x158),(_0x393fa5,_0x48dc7f)=>{var _0x568b3a=a18_0x16a378;console['log']('/makesinglepagepdf');try{var _0x5b0105=_0x393fa5['body'][_0x568b3a(0x174)],_0x1d103a=_0x393fa5[_0x568b3a(0x163)][_0x568b3a(0x173)],_0x4f5d77=_0x393fa5[_0x568b3a(0x163)][_0x568b3a(0x165)],_0x3dbd26=clean_contentLocation(config[_0x568b3a(0x157)]+'/'+_0x1d103a+_0x568b3a(0x17a)),_0x10f297='';_0x1d103a=clean_contentLocation(_0x1d103a);var _0x2995ce=crypto[_0x568b3a(0x154)](0x14)[_0x568b3a(0x14d)]('hex'),_0x40423f='F'+_0x2995ce,_0x41f942=require('fs');_0x41f942['readFile'](_0x3dbd26,_0x568b3a(0x16e),function(_0x333af3,_0x29ed84){var _0x5e5a46=_0x568b3a;if(_0x333af3){_0x48dc7f[_0x5e5a46(0x14b)](_0x5e5a46(0x16b)+_0x333af3);if(config[_0x5e5a46(0x15e)])console[_0x5e5a46(0x153)](_0x333af3);}else{_0x10f297=_0x29ed84;let _0x870264=_0x10f297[_0x5e5a46(0x14a)](_0x5e5a46(0x177))[_0x5e5a46(0x179)]();_0x41f942['writeFile'](config['fileLocation']+'/'+_0x40423f+_0x5e5a46(0x151),_0x870264,{'encoding':'base64'},function(_0x478cd3){var _0x281a07=_0x5e5a46;console[_0x281a07(0x153)](_0x281a07(0x168));var _0x3fdfb6=config[_0x281a07(0x176)]+config['autoxchange_executable']+'\x20'+_0x281a07(0x160)+config['fileLocation']+_0x40423f+_0x281a07(0x167)+config[_0x281a07(0x157)]+_0x40423f+'.pdf\x22\x20-f=pdf\x20-'+_0x4f5d77+'\x20-'+_0x5b0105;console[_0x281a07(0x153)](_0x3fdfb6);const {exec:_0x3465f8}=require(_0x281a07(0x156));_0x3465f8(_0x3fdfb6,(_0x574b5b,_0x4c7efc,_0x3c2179)=>{var _0x38e050=_0x281a07;if(_0x574b5b){if(config['cvjs_debug'])console['log'](_0x38e050(0x172)+_0x574b5b);_0x48dc7f[_0x38e050(0x14b)]('error\x20-\x20makesinglepagepdf\x20exec():\x20'+_0x574b5b);}else{if(config[_0x38e050(0x15e)])console[_0x38e050(0x153)]('conversion\x20is\x20done\x20now\x20rename:\x20'+config[_0x38e050(0x157)]+'/'+_0x40423f+_0x38e050(0x170)+_0x38e050(0x16d)+config[_0x38e050(0x157)]+'/'+_0x1d103a+_0x38e050(0x170));_0x41f942[_0x38e050(0x150)](config[_0x38e050(0x157)]+'/'+_0x40423f+_0x38e050(0x170),config['fileLocation']+'/'+_0x1d103a+_0x38e050(0x170),()=>{var _0x3ceee8=_0x38e050;if(config['cvjs_debug'])console[_0x3ceee8(0x153)](_0x3ceee8(0x14e)+_0x4c7efc);if(config['cvjs_debug'])console[_0x3ceee8(0x153)](_0x3ceee8(0x14f)+_0x3c2179);var _0x2d8e86='';if(config[_0x3ceee8(0x157)][_0x3ceee8(0x169)](config[_0x3ceee8(0x161)])==0x0)_0x2d8e86=config[_0x3ceee8(0x157)]['substring'](config[_0x3ceee8(0x161)]['length']);else _0x2d8e86=config[_0x3ceee8(0x157)];var _0x1598d3='';config[_0x3ceee8(0x14c)]+'/files?file='+_0x2d8e86+'/'+_0x1d103a+_0x3ceee8(0x170);if(config[_0x3ceee8(0x178)])_0x1598d3=config[_0x3ceee8(0x171)]+_0x3ceee8(0x15b)+_0x2d8e86+'/'+_0x1d103a+'.pdf';else _0x1598d3=config[_0x3ceee8(0x14c)]+_0x3ceee8(0x15b)+_0x2d8e86+'/'+_0x1d103a+_0x3ceee8(0x170);_0x48dc7f['send'](_0x1598d3);});}});});}});}catch(_0x11edd1){_0x48dc7f['send'](_0x568b3a(0x16c)+_0x11edd1);if(config['cvjs_debug'])console[_0x568b3a(0x153)](_0x11edd1);}}),module[a18_0x16a378(0x162)]=router;