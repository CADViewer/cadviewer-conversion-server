function a11_0x2729(){const _0x438da7=['trim','/cvjs/applylicense','single','filename','/linklist/applylicense','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','3879029vvGXOw','match','30ZrrbkV','get','166mBScYP','/verify','status','error','main','replaceAll','linklistLocation','licenseLocation','2142896TeeMBJ','/autoxchange/applylicense','file','verify','114645XJgdhP','/ll_lic.key','diskStorage','dwgmergeLocation','renameSync','cvKey\x20not\x20found','stderr:\x20','150eBfWNT','converterLocation','dirname','uploads','cadviewer/app/js/cvlicense.js','express','child_process','autoxchange_executable','1142901lAeMTO','6119ZxIpbx','1018416fpgbxz','/dwgmerge/applylicense','../CADViewer_config.json','\x20-verify\x20-lpath=','mkdirSync','7vucMNC','cadviewer/app/licence.html','path','body','/axlic.key','utf8','split','post','sendFile','License\x20applied','json','log','5890328aBgwKc','Router','join'];a11_0x2729=function(){return _0x438da7;};return a11_0x2729();}const a11_0x4c192f=a11_0x4eed;(function(_0xd43710,_0x45161b){const _0x57eeca=a11_0x4eed,_0x3c6784=_0xd43710();while(!![]){try{const _0x4a78e8=parseInt(_0x57eeca(0x188))/0x1*(-parseInt(_0x57eeca(0x1a7))/0x2)+-parseInt(_0x57eeca(0x189))/0x3+parseInt(_0x57eeca(0x1af))/0x4+-parseInt(_0x57eeca(0x1b3))/0x5*(-parseInt(_0x57eeca(0x17f))/0x6)+parseInt(_0x57eeca(0x18e))/0x7*(parseInt(_0x57eeca(0x19a))/0x8)+parseInt(_0x57eeca(0x187))/0x9*(-parseInt(_0x57eeca(0x1a5))/0xa)+parseInt(_0x57eeca(0x1a3))/0xb;if(_0x4a78e8===_0x45161b)break;else _0x3c6784['push'](_0x3c6784['shift']());}catch(_0x444838){_0x3c6784['push'](_0x3c6784['shift']());}}}(a11_0x2729,0xecb5b));const config=require(a11_0x4c192f(0x18b)),multer=require('multer'),express=require(a11_0x4c192f(0x184)),router=express[a11_0x4c192f(0x19b)](),fs=require('fs'),path=require(a11_0x4c192f(0x190)),{randomUUID}=require('crypto'),{exec}=require(a11_0x4c192f(0x185)),dir='./uploads';function a11_0x4eed(_0x47cd9f,_0x324330){const _0x272940=a11_0x2729();return a11_0x4eed=function(_0x4eed3e,_0x41c800){_0x4eed3e=_0x4eed3e-0x179;let _0x4a18c8=_0x272940[_0x4eed3e];return _0x4a18c8;},a11_0x4eed(_0x47cd9f,_0x324330);}!fs['existsSync'](dir)&&fs[a11_0x4c192f(0x18d)](dir);const storage=multer[a11_0x4c192f(0x17a)]({'destination':function(_0x3bd292,_0x2e433b,_0x3d558d){const _0x206300=a11_0x4c192f;_0x3d558d(null,_0x206300(0x182));}}),upload=multer({'storage':storage});router['get']('',async(_0x39bf64,_0x1db12e)=>{const _0x2f1fa3=a11_0x4c192f;_0x1db12e[_0x2f1fa3(0x196)](path['join'](path['dirname'](require[_0x2f1fa3(0x1ab)][_0x2f1fa3(0x1a0)]),_0x2f1fa3(0x18f)));}),router[a11_0x4c192f(0x1a6)](a11_0x4c192f(0x1a8),async(_0x58d165,_0x2b2bb3)=>{const _0x32c081=a11_0x4c192f,_0x373cff=config[_0x32c081(0x180)][_0x32c081(0x1ac)]('//','/'),_0x4421ed=''+_0x373cff+config[_0x32c081(0x186)]+_0x32c081(0x18c)+_0x373cff,{exec:_0x13aeb3}=require(_0x32c081(0x185));fs['readFile'](path['join'](path[_0x32c081(0x181)](require[_0x32c081(0x1ab)][_0x32c081(0x1a0)]),_0x32c081(0x183)),_0x32c081(0x193),(_0xa83cd4,_0x391de5)=>{const _0x226aa1=_0x32c081,_0x5c6302=/cvKey:\s*"([^']+)"/;let _0x3b2afc=[];if(_0x391de5&&!_0xa83cd4){const _0x5782f1=_0x391de5[_0x226aa1(0x1a4)](_0x5c6302);if(_0x5782f1){const _0x5f1708=_0x5782f1[0x1];_0x3b2afc=_0x5f1708[_0x226aa1(0x19d)]()[_0x226aa1(0x194)]('\x20');}else console[_0x226aa1(0x199)](_0x226aa1(0x17d));}_0x13aeb3(_0x4421ed,(_0x3341a9,_0x10c9c0,_0xdcc73a)=>{const _0x3cb6ba=_0x226aa1;console['error'](_0x3cb6ba(0x17e)+_0xdcc73a),_0x2b2bb3[_0x3cb6ba(0x1a9)](0xc8)[_0x3cb6ba(0x198)]({'verify':_0x3cb6ba(0x1b2),'stdout':_0x10c9c0,'cvjs':_0x3b2afc[_0x3cb6ba(0x19c)]('\x20')});});});}),router['put'](a11_0x4c192f(0x19e),async(_0x454e5a,_0x377d43)=>{const _0x95f2b8=a11_0x4c192f,{cvjs:_0x46da5a}=_0x454e5a[_0x95f2b8(0x191)],_0x9c3dd0=_0x95f2b8(0x1a2)+_0x46da5a+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs['writeFileSync'](path[_0x95f2b8(0x19c)](path['dirname'](require['main'][_0x95f2b8(0x1a0)]),'cadviewer/app/js/cvlicense.js'),_0x9c3dd0,{'flag':'w'}),_0x377d43[_0x95f2b8(0x1a9)](0xc8)['json']({'msg':_0x95f2b8(0x197)});}catch(_0x5482c3){_0x377d43[_0x95f2b8(0x1a9)](0xc8)['json']({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router['post'](a11_0x4c192f(0x1b0),upload[a11_0x4c192f(0x19f)]('file'),async(_0xcc9bc3,_0x31ba1a)=>{const _0x2e400d=a11_0x4c192f,_0x370b19=config[_0x2e400d(0x1ae)][_0x2e400d(0x1ac)]('//','/'),_0x311723=config[_0x2e400d(0x180)][_0x2e400d(0x1ac)]('//','/'),_0x216414=''+_0x311723+config[_0x2e400d(0x186)]+_0x2e400d(0x18c)+_0x311723;if(_0xcc9bc3[_0x2e400d(0x1b1)]){const _0x2a33ad=_0x370b19+_0x2e400d(0x192);fs[_0x2e400d(0x17c)](_0xcc9bc3['file'][_0x2e400d(0x190)],_0x2a33ad);const {exec:_0x1b91c3}=require(_0x2e400d(0x185));_0x1b91c3(_0x216414,(_0x196427,_0x25bf1c,_0x308aa5)=>{const _0x5913bd=_0x2e400d;console[_0x5913bd(0x1aa)]('stderr:\x20'+_0x308aa5),_0x31ba1a[_0x5913bd(0x1a9)](0xc8)[_0x5913bd(0x198)]({'msg':_0x5913bd(0x197),'stdout':_0x25bf1c});});}else{_0x31ba1a[_0x2e400d(0x1a9)](0x190)['json']({'error':''});return;}}),router['post'](a11_0x4c192f(0x1a1),upload[a11_0x4c192f(0x19f)](a11_0x4c192f(0x1b1)),async(_0x2476d7,_0x27af28)=>{const _0x1a4e3a=a11_0x4c192f,_0x36ec3a=config[_0x1a4e3a(0x1ad)][_0x1a4e3a(0x1ac)]('//','/'),_0x7625f3=config[_0x1a4e3a(0x180)]['replaceAll']('//','/'),_0x301b21=''+_0x7625f3+config[_0x1a4e3a(0x186)]+_0x1a4e3a(0x18c)+_0x7625f3;if(_0x2476d7[_0x1a4e3a(0x1b1)]){const _0x5d16ab=_0x36ec3a+_0x1a4e3a(0x179);fs[_0x1a4e3a(0x17c)](_0x2476d7[_0x1a4e3a(0x1b1)][_0x1a4e3a(0x190)],_0x5d16ab);const {exec:_0x58128e}=require('child_process');_0x58128e(_0x301b21,(_0x458b4e,_0x146178,_0x1b7c9f)=>{const _0xe29a5c=_0x1a4e3a;console[_0xe29a5c(0x1aa)]('stderr:\x20'+_0x1b7c9f),_0x27af28[_0xe29a5c(0x1a9)](0xc8)['json']({'msg':'License\x20applied','stdout':_0x146178});});}else{_0x27af28[_0x1a4e3a(0x1a9)](0x190)['json']({'error':''});return;}}),router[a11_0x4c192f(0x195)](a11_0x4c192f(0x18a),upload['single'](a11_0x4c192f(0x1b1)),async(_0x500053,_0x51cbc2)=>{const _0x340ddb=a11_0x4c192f,_0x52ee2c=config[_0x340ddb(0x17b)][_0x340ddb(0x1ac)]('//','/'),_0x1e168a=config[_0x340ddb(0x180)]['replaceAll']('//','/'),_0x3c559f=''+_0x1e168a+config['autoxchange_executable']+_0x340ddb(0x18c)+_0x1e168a;if(_0x500053['file']){const _0x2c8149=_0x52ee2c+'/dl_lic.key';fs[_0x340ddb(0x17c)](_0x500053[_0x340ddb(0x1b1)][_0x340ddb(0x190)],_0x2c8149);const {exec:_0xc63c7}=require(_0x340ddb(0x185));_0xc63c7(_0x3c559f,(_0x2cd478,_0x4d2c7e,_0x17e172)=>{const _0x1d10f0=_0x340ddb;console['error'](_0x1d10f0(0x17e)+_0x17e172),_0x51cbc2[_0x1d10f0(0x1a9)](0xc8)['json']({'msg':_0x1d10f0(0x197),'stdout':_0x4d2c7e});});}else{_0x51cbc2['status'](0x190)[_0x340ddb(0x198)]({'error':''});return;}}),module['exports']=router;