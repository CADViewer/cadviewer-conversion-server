const a11_0x5f2120=a11_0x472b;(function(_0x3858c7,_0x9f2d10){const _0x4f9d1e=a11_0x472b,_0x54c4a0=_0x3858c7();while(!![]){try{const _0x31cb27=-parseInt(_0x4f9d1e(0x157))/0x1*(parseInt(_0x4f9d1e(0x135))/0x2)+parseInt(_0x4f9d1e(0x145))/0x3+parseInt(_0x4f9d1e(0x13b))/0x4+parseInt(_0x4f9d1e(0x15d))/0x5+parseInt(_0x4f9d1e(0x161))/0x6*(parseInt(_0x4f9d1e(0x14f))/0x7)+parseInt(_0x4f9d1e(0x15b))/0x8*(parseInt(_0x4f9d1e(0x163))/0x9)+-parseInt(_0x4f9d1e(0x169))/0xa*(parseInt(_0x4f9d1e(0x147))/0xb);if(_0x31cb27===_0x9f2d10)break;else _0x54c4a0['push'](_0x54c4a0['shift']());}catch(_0x46e4c8){_0x54c4a0['push'](_0x54c4a0['shift']());}}}(a11_0x53ba,0x490fe));const config=require(a11_0x5f2120(0x15a)),multer=require('multer'),express=require(a11_0x5f2120(0x154)),router=express[a11_0x5f2120(0x14b)](),fs=require('fs'),path=require(a11_0x5f2120(0x136)),{randomUUID}=require('crypto'),{exec}=require(a11_0x5f2120(0x156)),dir=a11_0x5f2120(0x155);function a11_0x472b(_0x49fda6,_0x227aa5){const _0x53ba8a=a11_0x53ba();return a11_0x472b=function(_0x472b76,_0x5a300e){_0x472b76=_0x472b76-0x134;let _0xf6f80e=_0x53ba8a[_0x472b76];return _0xf6f80e;},a11_0x472b(_0x49fda6,_0x227aa5);}!fs[a11_0x5f2120(0x165)](dir)&&fs['mkdirSync'](dir);function a11_0x53ba(){const _0xfe936=['dirname','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','Error\x20writing\x20licence\x20to\x20file','error','cadviewer/app/js/cvlicense.js','/ll_lic.key','file','1593096cfpptU','uploads','25905xWBnYN','converterLocation','/dl_lic.key','post','Router','single','match','/cvjs/applylicense','421897UuIjlZ','join','utf8','autoxchange_executable','sendFile','express','./uploads','child_process','84549hxNJfs','exports','linklistLocation','../CADViewer_config.json','2743616kHAkUA','main','2129575mxZojJ','licenseLocation','split','json','12vxQXrO','replaceAll','9cvcdOo','cvKey\x20not\x20found','existsSync','\x20-verify\x20-lpath=','log','get','4010jeEktN','writeFileSync','/dwgmerge/applylicense','14jurDnf','path','stderr:\x20','diskStorage','status','License\x20applied','1660076xHzAKt','filename','cadviewer/app/licence.html'];a11_0x53ba=function(){return _0xfe936;};return a11_0x53ba();}const storage=multer[a11_0x5f2120(0x138)]({'destination':function(_0x32afab,_0x53c968,_0x36ba28){const _0x1baf67=a11_0x5f2120;_0x36ba28(null,_0x1baf67(0x146));}}),upload=multer({'storage':storage});router['get']('',async(_0x22eaf1,_0x128d88)=>{const _0x581373=a11_0x5f2120;_0x128d88[_0x581373(0x153)](path[_0x581373(0x150)](path[_0x581373(0x13e)](require[_0x581373(0x15c)]['filename']),_0x581373(0x13d)));}),router[a11_0x5f2120(0x168)]('/verify',async(_0xd5b302,_0x547b95)=>{const _0x20ed17=a11_0x5f2120,_0x23b324=config[_0x20ed17(0x148)][_0x20ed17(0x162)]('//','/'),_0x16cc71=''+_0x23b324+config[_0x20ed17(0x152)]+_0x20ed17(0x166)+_0x23b324,{exec:_0x1fbdfe}=require(_0x20ed17(0x156));fs['readFile'](path[_0x20ed17(0x150)](path[_0x20ed17(0x13e)](require[_0x20ed17(0x15c)]['filename']),'cadviewer/app/js/cvlicense.js'),_0x20ed17(0x151),(_0x3c1348,_0x16e104)=>{const _0x3c7de6=_0x20ed17,_0x529456=/cvKey:\s*"([^']+)"/;let _0x5743f0=[];if(_0x16e104&&!_0x3c1348){const _0x5f242f=_0x16e104[_0x3c7de6(0x14d)](_0x529456);if(_0x5f242f){const _0x2a8399=_0x5f242f[0x1];_0x5743f0=_0x2a8399['trim']()[_0x3c7de6(0x15f)]('\x20');}else console[_0x3c7de6(0x167)](_0x3c7de6(0x164));}_0x1fbdfe(_0x16cc71,(_0x5743f5,_0x55e6ff,_0x127cc1)=>{const _0x4e54d4=_0x3c7de6;console[_0x4e54d4(0x141)](_0x4e54d4(0x137)+_0x127cc1),_0x547b95[_0x4e54d4(0x139)](0xc8)['json']({'verify':'verify','stdout':_0x55e6ff,'cvjs':_0x5743f0[_0x4e54d4(0x150)]('\x20')});});});}),router['put'](a11_0x5f2120(0x14e),async(_0x53986c,_0xb25353)=>{const _0x334251=a11_0x5f2120,{cvjs:_0x1dc617}=_0x53986c['body'],_0x11f186='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x1dc617+_0x334251(0x13f);try{fs[_0x334251(0x16a)](path[_0x334251(0x150)](path[_0x334251(0x13e)](require[_0x334251(0x15c)][_0x334251(0x13c)]),_0x334251(0x142)),_0x11f186,{'flag':'w'}),_0xb25353[_0x334251(0x139)](0xc8)[_0x334251(0x160)]({'msg':'License\x20applied'});}catch(_0x382e6a){_0xb25353[_0x334251(0x139)](0xc8)[_0x334251(0x160)]({'msg':_0x334251(0x140)});}}),router[a11_0x5f2120(0x14a)]('/autoxchange/applylicense',upload[a11_0x5f2120(0x14c)](a11_0x5f2120(0x144)),async(_0x2a0b62,_0x497ca1)=>{const _0x1d20c5=a11_0x5f2120,_0x5db178=config[_0x1d20c5(0x15e)][_0x1d20c5(0x162)]('//','/'),_0x5e1445=config[_0x1d20c5(0x148)]['replaceAll']('//','/'),_0xad39c5=''+_0x5e1445+config[_0x1d20c5(0x152)]+_0x1d20c5(0x166)+_0x5e1445;if(_0x2a0b62['file']){const _0x5d7476=_0x5db178+'/axlic.key';fs['renameSync'](_0x2a0b62['file'][_0x1d20c5(0x136)],_0x5d7476);const {exec:_0x3da488}=require('child_process');_0x3da488(_0xad39c5,(_0x4abf1d,_0xde4fb4,_0x160ffd)=>{const _0x485688=_0x1d20c5;console['error'](_0x485688(0x137)+_0x160ffd),_0x497ca1[_0x485688(0x139)](0xc8)[_0x485688(0x160)]({'msg':_0x485688(0x13a),'stdout':_0xde4fb4});});}else{_0x497ca1[_0x1d20c5(0x139)](0x190)[_0x1d20c5(0x160)]({'error':''});return;}}),router[a11_0x5f2120(0x14a)]('/linklist/applylicense',upload['single'](a11_0x5f2120(0x144)),async(_0x4d4159,_0x55d226)=>{const _0x112e45=a11_0x5f2120,_0x29bb79=config[_0x112e45(0x159)][_0x112e45(0x162)]('//','/'),_0x57403a=config[_0x112e45(0x148)][_0x112e45(0x162)]('//','/'),_0x27edd3=''+_0x57403a+config['autoxchange_executable']+_0x112e45(0x166)+_0x57403a;if(_0x4d4159[_0x112e45(0x144)]){const _0x3774f3=_0x29bb79+_0x112e45(0x143);fs['renameSync'](_0x4d4159[_0x112e45(0x144)][_0x112e45(0x136)],_0x3774f3);const {exec:_0xd136af}=require(_0x112e45(0x156));_0xd136af(_0x27edd3,(_0x4291b4,_0x183ee4,_0x2924c9)=>{const _0x2daebc=_0x112e45;console[_0x2daebc(0x141)]('stderr:\x20'+_0x2924c9),_0x55d226['status'](0xc8)['json']({'msg':_0x2daebc(0x13a),'stdout':_0x183ee4});});}else{_0x55d226[_0x112e45(0x139)](0x190)[_0x112e45(0x160)]({'error':''});return;}}),router[a11_0x5f2120(0x14a)](a11_0x5f2120(0x134),upload[a11_0x5f2120(0x14c)]('file'),async(_0x32b80a,_0x4103db)=>{const _0x478615=a11_0x5f2120,_0xd73487=config['dwgmergeLocation'][_0x478615(0x162)]('//','/'),_0x536ebe=config[_0x478615(0x148)][_0x478615(0x162)]('//','/'),_0x312fdf=''+_0x536ebe+config[_0x478615(0x152)]+_0x478615(0x166)+_0x536ebe;if(_0x32b80a[_0x478615(0x144)]){const _0x336dda=_0xd73487+_0x478615(0x149);fs['renameSync'](_0x32b80a['file'][_0x478615(0x136)],_0x336dda);const {exec:_0x18cc7b}=require(_0x478615(0x156));_0x18cc7b(_0x312fdf,(_0x1d75a9,_0x469b71,_0x2753eb)=>{const _0xac4a47=_0x478615;console[_0xac4a47(0x141)](_0xac4a47(0x137)+_0x2753eb),_0x4103db[_0xac4a47(0x139)](0xc8)[_0xac4a47(0x160)]({'msg':_0xac4a47(0x13a),'stdout':_0x469b71});});}else{_0x4103db[_0x478615(0x139)](0x190)[_0x478615(0x160)]({'error':''});return;}}),module[a11_0x5f2120(0x158)]=router;