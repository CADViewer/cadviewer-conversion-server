const a11_0x578b3e=a11_0xdb71;(function(_0x3011f0,_0x33fd4f){const _0x2c4029=a11_0xdb71,_0x5297d0=_0x3011f0();while(!![]){try{const _0xbb249b=parseInt(_0x2c4029(0x14a))/0x1*(-parseInt(_0x2c4029(0x168))/0x2)+parseInt(_0x2c4029(0x13c))/0x3*(-parseInt(_0x2c4029(0x14f))/0x4)+-parseInt(_0x2c4029(0x145))/0x5+-parseInt(_0x2c4029(0x15a))/0x6+-parseInt(_0x2c4029(0x151))/0x7*(parseInt(_0x2c4029(0x136))/0x8)+parseInt(_0x2c4029(0x14c))/0x9*(parseInt(_0x2c4029(0x159))/0xa)+parseInt(_0x2c4029(0x142))/0xb*(parseInt(_0x2c4029(0x16a))/0xc);if(_0xbb249b===_0x33fd4f)break;else _0x5297d0['push'](_0x5297d0['shift']());}catch(_0x2add9d){_0x5297d0['push'](_0x5297d0['shift']());}}}(a11_0x1a3f,0x7aace));function a11_0xdb71(_0x3ff2c0,_0x11f659){const _0x1a3f05=a11_0x1a3f();return a11_0xdb71=function(_0xdb7136,_0x2fdb43){_0xdb7136=_0xdb7136-0x133;let _0x1006c8=_0x1a3f05[_0xdb7136];return _0x1006c8;},a11_0xdb71(_0x3ff2c0,_0x11f659);}function a11_0x1a3f(){const _0x15193d=['trim','stderr:\x20','error','verify','child_process','dwgmergeLocation','cadviewer/app/js/cvlicense.js','40EOQxHh','../CADViewer_config.json','writeFileSync','cvKey\x20not\x20found','sendFile','split','16197JGKVaC','linklistLocation','License\x20applied','Error\x20writing\x20licence\x20to\x20file','join','./uploads','12265BLASAN','converterLocation','cadviewer/app/licence.html','863740iDSdfh','/autoxchange/applylicense','/verify','post','path','278243YwFcxU','/dl_lic.key','1933731SnIlkS','/ll_lic.key','express','68aQiabA','diskStorage','1247197RSPKDq','replaceAll','filename','main','/axlic.key','log','status','readFile','10DUiwIJ','118644EDmZCj','\x20-verify\x20-lpath=','match','/cvjs/applylicense','uploads','autoxchange_executable','get','/dwgmerge/applylicense','renameSync','json','crypto','dirname','file','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','4rdbVru','licenseLocation','21732gejLkc'];a11_0x1a3f=function(){return _0x15193d;};return a11_0x1a3f();}const config=require(a11_0x578b3e(0x137)),multer=require('multer'),express=require(a11_0x578b3e(0x14e)),router=express['Router'](),fs=require('fs'),path=require('path'),{randomUUID}=require(a11_0x578b3e(0x164)),{exec}=require(a11_0x578b3e(0x133)),dir=a11_0x578b3e(0x141);!fs['existsSync'](dir)&&fs['mkdirSync'](dir);const storage=multer[a11_0x578b3e(0x150)]({'destination':function(_0x23221b,_0x3444b4,_0x538024){const _0x3dd883=a11_0x578b3e;_0x538024(null,_0x3dd883(0x15e));}}),upload=multer({'storage':storage});router[a11_0x578b3e(0x160)]('',async(_0x38a79f,_0x7a7b4b)=>{const _0x40b45e=a11_0x578b3e;_0x7a7b4b[_0x40b45e(0x13a)](path[_0x40b45e(0x140)](path[_0x40b45e(0x165)](require[_0x40b45e(0x154)][_0x40b45e(0x153)]),_0x40b45e(0x144)));}),router['get'](a11_0x578b3e(0x147),async(_0x4c1868,_0x1e0773)=>{const _0x2fd97e=a11_0x578b3e,_0x21ac02=config[_0x2fd97e(0x143)][_0x2fd97e(0x152)]('//','/'),_0x2abcdf=''+_0x21ac02+config[_0x2fd97e(0x15f)]+_0x2fd97e(0x15b)+_0x21ac02,{exec:_0x498575}=require(_0x2fd97e(0x133));fs[_0x2fd97e(0x158)](path[_0x2fd97e(0x140)](path['dirname'](require['main']['filename']),_0x2fd97e(0x135)),'utf8',(_0x3784ae,_0x55c488)=>{const _0x65c2ee=_0x2fd97e,_0x1913b0=/cvKey:\s*"([^']+)"/;let _0x9fa6c8=[];if(_0x55c488&&!_0x3784ae){const _0x40215f=_0x55c488[_0x65c2ee(0x15c)](_0x1913b0);if(_0x40215f){const _0x437a2e=_0x40215f[0x1];_0x9fa6c8=_0x437a2e[_0x65c2ee(0x16b)]()[_0x65c2ee(0x13b)]('\x20');}else console[_0x65c2ee(0x156)](_0x65c2ee(0x139));}_0x498575(_0x2abcdf,(_0x262a5d,_0x167f17,_0x481bee)=>{const _0x35d9ea=_0x65c2ee;console[_0x35d9ea(0x16d)](_0x35d9ea(0x16c)+_0x481bee),_0x1e0773[_0x35d9ea(0x157)](0xc8)['json']({'verify':_0x35d9ea(0x16e),'stdout':_0x167f17,'cvjs':_0x9fa6c8[_0x35d9ea(0x140)]('\x20')});});});}),router['put'](a11_0x578b3e(0x15d),async(_0x3dadee,_0x56cc7d)=>{const _0x3db53b=a11_0x578b3e,{cvjs:_0xb9e23a}=_0x3dadee['body'],_0x2d35b2='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0xb9e23a+_0x3db53b(0x167);try{fs[_0x3db53b(0x138)](path['join'](path['dirname'](require[_0x3db53b(0x154)][_0x3db53b(0x153)]),'cadviewer/app/js/cvlicense.js'),_0x2d35b2,{'flag':'w'}),_0x56cc7d[_0x3db53b(0x157)](0xc8)[_0x3db53b(0x163)]({'msg':_0x3db53b(0x13e)});}catch(_0x27055d){_0x56cc7d[_0x3db53b(0x157)](0xc8)[_0x3db53b(0x163)]({'msg':_0x3db53b(0x13f)});}}),router[a11_0x578b3e(0x148)](a11_0x578b3e(0x146),upload['single'](a11_0x578b3e(0x166)),async(_0x290b01,_0x44321f)=>{const _0x23313e=a11_0x578b3e,_0x65df91=config[_0x23313e(0x169)][_0x23313e(0x152)]('//','/'),_0x36bd23=config[_0x23313e(0x143)][_0x23313e(0x152)]('//','/'),_0x4f9bcb=''+_0x36bd23+config[_0x23313e(0x15f)]+_0x23313e(0x15b)+_0x36bd23;if(_0x290b01[_0x23313e(0x166)]){const _0x13ebdd=_0x65df91+_0x23313e(0x155);fs[_0x23313e(0x162)](_0x290b01[_0x23313e(0x166)][_0x23313e(0x149)],_0x13ebdd);const {exec:_0x21c139}=require(_0x23313e(0x133));_0x21c139(_0x4f9bcb,(_0x56eae2,_0x4d843e,_0x1422ee)=>{const _0x3d85df=_0x23313e;console['error'](_0x3d85df(0x16c)+_0x1422ee),_0x44321f['status'](0xc8)[_0x3d85df(0x163)]({'msg':_0x3d85df(0x13e),'stdout':_0x4d843e});});}else{_0x44321f[_0x23313e(0x157)](0x190)[_0x23313e(0x163)]({'error':''});return;}}),router[a11_0x578b3e(0x148)]('/linklist/applylicense',upload['single']('file'),async(_0x5b69c1,_0x4713ed)=>{const _0x59f12d=a11_0x578b3e,_0x30816c=config[_0x59f12d(0x13d)]['replaceAll']('//','/'),_0x494d8b=config['converterLocation']['replaceAll']('//','/'),_0x253f76=''+_0x494d8b+config[_0x59f12d(0x15f)]+'\x20-verify\x20-lpath='+_0x494d8b;if(_0x5b69c1[_0x59f12d(0x166)]){const _0x34653c=_0x30816c+_0x59f12d(0x14d);fs['renameSync'](_0x5b69c1['file']['path'],_0x34653c);const {exec:_0x36235c}=require('child_process');_0x36235c(_0x253f76,(_0x14b1af,_0x3cdad0,_0x2eaa6c)=>{const _0x5b1843=_0x59f12d;console[_0x5b1843(0x16d)](_0x5b1843(0x16c)+_0x2eaa6c),_0x4713ed[_0x5b1843(0x157)](0xc8)[_0x5b1843(0x163)]({'msg':_0x5b1843(0x13e),'stdout':_0x3cdad0});});}else{_0x4713ed[_0x59f12d(0x157)](0x190)['json']({'error':''});return;}}),router['post'](a11_0x578b3e(0x161),upload['single'](a11_0x578b3e(0x166)),async(_0x1553ba,_0x54fb32)=>{const _0x259b6b=a11_0x578b3e,_0x547a6e=config[_0x259b6b(0x134)][_0x259b6b(0x152)]('//','/'),_0x3c2e0e=config[_0x259b6b(0x143)][_0x259b6b(0x152)]('//','/'),_0x7c3601=''+_0x3c2e0e+config['autoxchange_executable']+_0x259b6b(0x15b)+_0x3c2e0e;if(_0x1553ba['file']){const _0x331f97=_0x547a6e+_0x259b6b(0x14b);fs[_0x259b6b(0x162)](_0x1553ba[_0x259b6b(0x166)][_0x259b6b(0x149)],_0x331f97);const {exec:_0x62bbd0}=require(_0x259b6b(0x133));_0x62bbd0(_0x7c3601,(_0x2b5136,_0x408485,_0x165ee0)=>{const _0x5c690d=_0x259b6b;console[_0x5c690d(0x16d)](_0x5c690d(0x16c)+_0x165ee0),_0x54fb32[_0x5c690d(0x157)](0xc8)[_0x5c690d(0x163)]({'msg':_0x5c690d(0x13e),'stdout':_0x408485});});}else{_0x54fb32[_0x259b6b(0x157)](0x190)[_0x259b6b(0x163)]({'error':''});return;}}),module['exports']=router;