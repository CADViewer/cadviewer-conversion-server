const a11_0x131368=a11_0x1f9b;(function(_0x3d10a2,_0x1c2db2){const _0x29bb41=a11_0x1f9b,_0x133996=_0x3d10a2();while(!![]){try{const _0x60975c=-parseInt(_0x29bb41(0x1d1))/0x1*(-parseInt(_0x29bb41(0x1c7))/0x2)+parseInt(_0x29bb41(0x1b9))/0x3+parseInt(_0x29bb41(0x1d0))/0x4+parseInt(_0x29bb41(0x1d9))/0x5*(parseInt(_0x29bb41(0x1c3))/0x6)+-parseInt(_0x29bb41(0x1e4))/0x7+-parseInt(_0x29bb41(0x1ae))/0x8+-parseInt(_0x29bb41(0x1e1))/0x9;if(_0x60975c===_0x1c2db2)break;else _0x133996['push'](_0x133996['shift']());}catch(_0x4743ed){_0x133996['push'](_0x133996['shift']());}}}(a11_0x105c,0x5b629));function a11_0x1f9b(_0x2ed4fc,_0x5d9ff3){const _0x105c4e=a11_0x105c();return a11_0x1f9b=function(_0x1f9b21,_0x3a47ea){_0x1f9b21=_0x1f9b21-0x1ae;let _0x449e19=_0x105c4e[_0x1f9b21];return _0x449e19;},a11_0x1f9b(_0x2ed4fc,_0x5d9ff3);}const config=require('../CADViewer_config.json'),multer=require(a11_0x131368(0x1b1)),express=require(a11_0x131368(0x1d8)),router=express[a11_0x131368(0x1d5)](),fs=require('fs'),path=require(a11_0x131368(0x1bc)),{randomUUID}=require(a11_0x131368(0x1cd)),{exec}=require(a11_0x131368(0x1c6)),dir=a11_0x131368(0x1bb);!fs['existsSync'](dir)&&fs[a11_0x131368(0x1b8)](dir);const storage=multer[a11_0x131368(0x1dc)]({'destination':function(_0x359f10,_0xd8febc,_0x1b96b6){const _0x3caa5c=a11_0x131368;_0x1b96b6(null,_0x3caa5c(0x1bf));}}),upload=multer({'storage':storage});router[a11_0x131368(0x1c9)]('',async(_0x231f15,_0x1f1014)=>{const _0x432840=a11_0x131368;_0x1f1014['sendFile'](path[_0x432840(0x1b2)](path[_0x432840(0x1ba)](require['main'][_0x432840(0x1b5)]),_0x432840(0x1dd)));}),router[a11_0x131368(0x1c9)](a11_0x131368(0x1cf),async(_0x62c92d,_0x455303)=>{const _0x5eab43=a11_0x131368,_0x5daa99=config[_0x5eab43(0x1e0)][_0x5eab43(0x1e6)]('//','/'),_0xef6c23=''+_0x5daa99+config[_0x5eab43(0x1bd)]+_0x5eab43(0x1d3)+_0x5daa99,{exec:_0x2cf964}=require(_0x5eab43(0x1c6));fs['readFile'](path[_0x5eab43(0x1b2)](path[_0x5eab43(0x1ba)](require['main']['filename']),_0x5eab43(0x1af)),_0x5eab43(0x1db),(_0x1490c0,_0x11b973)=>{const _0x26fdaa=_0x5eab43,_0x2b6742=/cvKey:\s*"([^']+)"/;let _0x4ab5a5=[];if(_0x11b973&&!_0x1490c0){const _0x560d31=_0x11b973[_0x26fdaa(0x1b6)](_0x2b6742);if(_0x560d31){const _0x2cf47d=_0x560d31[0x1];_0x4ab5a5=_0x2cf47d[_0x26fdaa(0x1cc)]()['split']('\x20');}else console[_0x26fdaa(0x1d2)]('cvKey\x20not\x20found');}_0x2cf964(_0xef6c23,(_0x2bc358,_0x15ef19,_0x330a14)=>{const _0x2ff5e2=_0x26fdaa;console['error']('stderr:\x20'+_0x330a14),_0x455303[_0x2ff5e2(0x1c1)](0xc8)[_0x2ff5e2(0x1b7)]({'verify':_0x2ff5e2(0x1cb),'stdout':_0x15ef19,'cvjs':_0x4ab5a5['join']('\x20')});});});}),router[a11_0x131368(0x1b4)](a11_0x131368(0x1c0),async(_0x81b952,_0xa05b4e)=>{const _0x34e488=a11_0x131368,{cvjs:_0x27d04b}=_0x81b952[_0x34e488(0x1d4)],_0x3e121d='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x27d04b+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs['writeFileSync'](path[_0x34e488(0x1b2)](path[_0x34e488(0x1ba)](require[_0x34e488(0x1e5)][_0x34e488(0x1b5)]),'cadviewer/app/js/cvlicense.js'),_0x3e121d,{'flag':'w'}),_0xa05b4e[_0x34e488(0x1c1)](0xc8)[_0x34e488(0x1b7)]({'msg':'License\x20applied'});}catch(_0x439be7){_0xa05b4e['status'](0xc8)[_0x34e488(0x1b7)]({'msg':_0x34e488(0x1c4)});}}),router[a11_0x131368(0x1e3)](a11_0x131368(0x1c8),upload['single']('file'),async(_0x5ce722,_0x1ba7db)=>{const _0xeb3fdd=a11_0x131368,_0x25abf9=config[_0xeb3fdd(0x1da)]['replaceAll']('//','/'),_0x44c2a4=config[_0xeb3fdd(0x1e0)]['replaceAll']('//','/'),_0x599717=''+_0x44c2a4+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x44c2a4;if(_0x5ce722['file']){const _0x4ea672=_0x25abf9+_0xeb3fdd(0x1d7);fs[_0xeb3fdd(0x1de)](_0x5ce722[_0xeb3fdd(0x1e2)][_0xeb3fdd(0x1bc)],_0x4ea672);const {exec:_0x57c2a9}=require(_0xeb3fdd(0x1c6));_0x57c2a9(_0x599717,(_0x58e936,_0x27eb87,_0x4db58d)=>{const _0x407fab=_0xeb3fdd;console[_0x407fab(0x1c2)](_0x407fab(0x1be)+_0x4db58d),_0x1ba7db[_0x407fab(0x1c1)](0xc8)[_0x407fab(0x1b7)]({'msg':_0x407fab(0x1c5),'stdout':_0x27eb87});});}else{_0x1ba7db[_0xeb3fdd(0x1c1)](0x190)['json']({'error':''});return;}}),router['post']('/linklist/applylicense',upload[a11_0x131368(0x1b3)](a11_0x131368(0x1e2)),async(_0x9b79fa,_0x28edc1)=>{const _0x6eb115=a11_0x131368,_0x232ae5=config[_0x6eb115(0x1b0)][_0x6eb115(0x1e6)]('//','/'),_0x3e525d=config['converterLocation'][_0x6eb115(0x1e6)]('//','/'),_0x34c9b8=''+_0x3e525d+config[_0x6eb115(0x1bd)]+_0x6eb115(0x1d3)+_0x3e525d;if(_0x9b79fa[_0x6eb115(0x1e2)]){const _0x436e9d=_0x232ae5+_0x6eb115(0x1ca);fs[_0x6eb115(0x1de)](_0x9b79fa[_0x6eb115(0x1e2)][_0x6eb115(0x1bc)],_0x436e9d);const {exec:_0x1467aa}=require(_0x6eb115(0x1c6));_0x1467aa(_0x34c9b8,(_0x3d2015,_0x5c4a55,_0x191a5f)=>{const _0x4f4b6d=_0x6eb115;console[_0x4f4b6d(0x1c2)](_0x4f4b6d(0x1be)+_0x191a5f),_0x28edc1[_0x4f4b6d(0x1c1)](0xc8)[_0x4f4b6d(0x1b7)]({'msg':_0x4f4b6d(0x1c5),'stdout':_0x5c4a55});});}else{_0x28edc1['status'](0x190)['json']({'error':''});return;}}),router[a11_0x131368(0x1e3)](a11_0x131368(0x1ce),upload[a11_0x131368(0x1b3)]('file'),async(_0x17562e,_0x5a40e2)=>{const _0x2c09d1=a11_0x131368,_0x2c68f2=config['dwgmergeLocation'][_0x2c09d1(0x1e6)]('//','/'),_0x41b089=config[_0x2c09d1(0x1e0)][_0x2c09d1(0x1e6)]('//','/'),_0x1fbf45=''+_0x41b089+config[_0x2c09d1(0x1bd)]+_0x2c09d1(0x1d3)+_0x41b089;if(_0x17562e[_0x2c09d1(0x1e2)]){const _0x3dfa16=_0x2c68f2+_0x2c09d1(0x1df);fs[_0x2c09d1(0x1de)](_0x17562e[_0x2c09d1(0x1e2)][_0x2c09d1(0x1bc)],_0x3dfa16);const {exec:_0x17460f}=require('child_process');_0x17460f(_0x1fbf45,(_0x473bd0,_0x2ca2f3,_0x2b65a6)=>{const _0x4fd76a=_0x2c09d1;console[_0x4fd76a(0x1c2)]('stderr:\x20'+_0x2b65a6),_0x5a40e2[_0x4fd76a(0x1c1)](0xc8)[_0x4fd76a(0x1b7)]({'msg':_0x4fd76a(0x1c5),'stdout':_0x2ca2f3});});}else{_0x5a40e2[_0x2c09d1(0x1c1)](0x190)[_0x2c09d1(0x1b7)]({'error':''});return;}}),module[a11_0x131368(0x1d6)]=router;function a11_0x105c(){const _0x26fb96=['log','\x20-verify\x20-lpath=','body','Router','exports','/axlic.key','express','65DXTvKM','licenseLocation','utf8','diskStorage','cadviewer/app/licence.html','renameSync','/dl_lic.key','converterLocation','4484601VAUxzF','file','post','3444364xAEOQm','main','replaceAll','3419984NAqfZK','cadviewer/app/js/cvlicense.js','linklistLocation','multer','join','single','put','filename','match','json','mkdirSync','502545hPzWUT','dirname','./uploads','path','autoxchange_executable','stderr:\x20','uploads','/cvjs/applylicense','status','error','311172eHnrYG','Error\x20writing\x20licence\x20to\x20file','License\x20applied','child_process','1390524IGVCiG','/autoxchange/applylicense','get','/ll_lic.key','verify','trim','crypto','/dwgmerge/applylicense','/verify','1020676cjoAkM','1yEBHEX'];a11_0x105c=function(){return _0x26fb96;};return a11_0x105c();}