function a11_0x54c6(){const _0x601dd7=['\x20-verify\x20-lpath=','/verify','utf8','status','520IGIhAN','autoxchange_executable','match','cvKey\x20not\x20found','653430sFpQPk','/ll_lic.key','multer','155799ikXlNY','sendFile','json','body','cadviewer/app/licence.html','/linklist/applylicense','./uploads','get','/axlic.key','child_process','renameSync','20vHwBXU','single','path','main','cadviewer/app/js/cvlicense.js','1772048NDLKid','21pswCqb','dirname','License\x20applied','/autoxchange/applylicense','450272nwwVtl','join','crypto','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','verify','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','split','writeFileSync','2909880qXLSnY','put','post','/dwgmerge/applylicense','diskStorage','1344822aSjWNM','557547SMlEqf','replaceAll','mkdirSync','readFile','error','converterLocation','stderr:\x20','Error\x20writing\x20licence\x20to\x20file','log','/dl_lic.key','file','filename'];a11_0x54c6=function(){return _0x601dd7;};return a11_0x54c6();}const a11_0x479610=a11_0x4670;(function(_0x2af904,_0x1e4e58){const _0x1b0ed1=a11_0x4670,_0x440caa=_0x2af904();while(!![]){try{const _0x39cba5=parseInt(_0x1b0ed1(0x1e0))/0x1+parseInt(_0x1b0ed1(0x1ed))/0x2+parseInt(_0x1b0ed1(0x1ee))/0x3*(parseInt(_0x1b0ed1(0x1d6))/0x4)+-parseInt(_0x1b0ed1(0x1c8))/0x5+parseInt(_0x1b0ed1(0x1e8))/0x6+parseInt(_0x1b0ed1(0x1dc))/0x7*(-parseInt(_0x1b0ed1(0x1db))/0x8)+parseInt(_0x1b0ed1(0x1cb))/0x9*(-parseInt(_0x1b0ed1(0x1c4))/0xa);if(_0x39cba5===_0x1e4e58)break;else _0x440caa['push'](_0x440caa['shift']());}catch(_0x1af367){_0x440caa['push'](_0x440caa['shift']());}}}(a11_0x54c6,0xcd73c));function a11_0x4670(_0x22eaf0,_0x4d898b){const _0x54c66b=a11_0x54c6();return a11_0x4670=function(_0x4670d5,_0x11f384){_0x4670d5=_0x4670d5-0x1bc;let _0x205529=_0x54c66b[_0x4670d5];return _0x205529;},a11_0x4670(_0x22eaf0,_0x4d898b);}const config=require('../CADViewer_config.json'),multer=require(a11_0x479610(0x1ca)),express=require('express'),router=express['Router'](),fs=require('fs'),path=require(a11_0x479610(0x1d8)),{randomUUID}=require(a11_0x479610(0x1e2)),{exec}=require(a11_0x479610(0x1d4)),dir=a11_0x479610(0x1d1);!fs['existsSync'](dir)&&fs[a11_0x479610(0x1f0)](dir);const storage=multer[a11_0x479610(0x1ec)]({'destination':function(_0x437fe3,_0x1e07bb,_0x5ad1d){_0x5ad1d(null,'uploads');}}),upload=multer({'storage':storage});router[a11_0x479610(0x1d2)]('',async(_0x15dd87,_0x1387a1)=>{const _0x42bb17=a11_0x479610;_0x1387a1[_0x42bb17(0x1cc)](path[_0x42bb17(0x1e1)](path['dirname'](require[_0x42bb17(0x1d9)][_0x42bb17(0x1bf)]),_0x42bb17(0x1cf)));}),router[a11_0x479610(0x1d2)](a11_0x479610(0x1c1),async(_0x177a70,_0x279a1b)=>{const _0x4cb6d1=a11_0x479610,_0x38cb69=config[_0x4cb6d1(0x1f3)][_0x4cb6d1(0x1ef)]('//','/'),_0x24208c=''+_0x38cb69+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x38cb69,{exec:_0x474314}=require(_0x4cb6d1(0x1d4));fs[_0x4cb6d1(0x1f1)](path[_0x4cb6d1(0x1e1)](path['dirname'](require[_0x4cb6d1(0x1d9)]['filename']),_0x4cb6d1(0x1da)),_0x4cb6d1(0x1c2),(_0x436133,_0x587b8f)=>{const _0x4e1cad=_0x4cb6d1,_0x91afb3=/cvKey:\s*"([^']+)"/;let _0x35a303=[];if(_0x587b8f&&!_0x436133){const _0x9a1745=_0x587b8f[_0x4e1cad(0x1c6)](_0x91afb3);if(_0x9a1745){const _0x43f8a9=_0x9a1745[0x1];_0x35a303=_0x43f8a9['trim']()[_0x4e1cad(0x1e6)]('\x20');}else console[_0x4e1cad(0x1bc)](_0x4e1cad(0x1c7));}_0x474314(_0x24208c,(_0x128456,_0x4bbb0f,_0x569287)=>{const _0x13ddc9=_0x4e1cad;console[_0x13ddc9(0x1f2)](_0x13ddc9(0x1f4)+_0x569287),_0x279a1b['status'](0xc8)['json']({'verify':_0x13ddc9(0x1e4),'stdout':_0x4bbb0f,'cvjs':_0x35a303[_0x13ddc9(0x1e1)]('\x20')});});});}),router[a11_0x479610(0x1e9)]('/cvjs/applylicense',async(_0x165d73,_0xa9c889)=>{const _0x566eca=a11_0x479610,{cvjs:_0x4ade5a}=_0x165d73[_0x566eca(0x1ce)],_0x5b26b3=_0x566eca(0x1e3)+_0x4ade5a+_0x566eca(0x1e5);try{fs[_0x566eca(0x1e7)](path[_0x566eca(0x1e1)](path[_0x566eca(0x1dd)](require[_0x566eca(0x1d9)][_0x566eca(0x1bf)]),'cadviewer/app/js/cvlicense.js'),_0x5b26b3,{'flag':'w'}),_0xa9c889[_0x566eca(0x1c3)](0xc8)[_0x566eca(0x1cd)]({'msg':_0x566eca(0x1de)});}catch(_0x10663b){_0xa9c889['status'](0xc8)[_0x566eca(0x1cd)]({'msg':_0x566eca(0x1f5)});}}),router['post'](a11_0x479610(0x1df),upload['single'](a11_0x479610(0x1be)),async(_0x499c8a,_0x1c80ea)=>{const _0x5bab88=a11_0x479610,_0x48f886=config['licenseLocation'][_0x5bab88(0x1ef)]('//','/'),_0x141cf8=config['converterLocation'][_0x5bab88(0x1ef)]('//','/'),_0x4168ff=''+_0x141cf8+config[_0x5bab88(0x1c5)]+_0x5bab88(0x1c0)+_0x141cf8;if(_0x499c8a[_0x5bab88(0x1be)]){const _0xaacf81=_0x48f886+_0x5bab88(0x1d3);fs[_0x5bab88(0x1d5)](_0x499c8a[_0x5bab88(0x1be)][_0x5bab88(0x1d8)],_0xaacf81);const {exec:_0x686ed9}=require(_0x5bab88(0x1d4));_0x686ed9(_0x4168ff,(_0xf2f62,_0xf8546,_0x1235e3)=>{const _0x1cfc40=_0x5bab88;console[_0x1cfc40(0x1f2)](_0x1cfc40(0x1f4)+_0x1235e3),_0x1c80ea[_0x1cfc40(0x1c3)](0xc8)[_0x1cfc40(0x1cd)]({'msg':_0x1cfc40(0x1de),'stdout':_0xf8546});});}else{_0x1c80ea['status'](0x190)[_0x5bab88(0x1cd)]({'error':''});return;}}),router['post'](a11_0x479610(0x1d0),upload[a11_0x479610(0x1d7)](a11_0x479610(0x1be)),async(_0x2873ef,_0x377a18)=>{const _0x3a2f5a=a11_0x479610,_0x3ddb25=config['linklistLocation'][_0x3a2f5a(0x1ef)]('//','/'),_0x143434=config[_0x3a2f5a(0x1f3)][_0x3a2f5a(0x1ef)]('//','/'),_0x5c00d2=''+_0x143434+config['autoxchange_executable']+_0x3a2f5a(0x1c0)+_0x143434;if(_0x2873ef[_0x3a2f5a(0x1be)]){const _0x13649f=_0x3ddb25+_0x3a2f5a(0x1c9);fs[_0x3a2f5a(0x1d5)](_0x2873ef[_0x3a2f5a(0x1be)][_0x3a2f5a(0x1d8)],_0x13649f);const {exec:_0x461be8}=require(_0x3a2f5a(0x1d4));_0x461be8(_0x5c00d2,(_0x1ac450,_0x19f149,_0x3d0636)=>{const _0x40702a=_0x3a2f5a;console[_0x40702a(0x1f2)](_0x40702a(0x1f4)+_0x3d0636),_0x377a18[_0x40702a(0x1c3)](0xc8)['json']({'msg':_0x40702a(0x1de),'stdout':_0x19f149});});}else{_0x377a18[_0x3a2f5a(0x1c3)](0x190)['json']({'error':''});return;}}),router[a11_0x479610(0x1ea)](a11_0x479610(0x1eb),upload[a11_0x479610(0x1d7)]('file'),async(_0x38e00e,_0x40fed4)=>{const _0x1d8bb6=a11_0x479610,_0x32f397=config['dwgmergeLocation'][_0x1d8bb6(0x1ef)]('//','/'),_0x375719=config[_0x1d8bb6(0x1f3)][_0x1d8bb6(0x1ef)]('//','/'),_0x4b95b6=''+_0x375719+config[_0x1d8bb6(0x1c5)]+_0x1d8bb6(0x1c0)+_0x375719;if(_0x38e00e['file']){const _0x161f3f=_0x32f397+_0x1d8bb6(0x1bd);fs[_0x1d8bb6(0x1d5)](_0x38e00e['file'][_0x1d8bb6(0x1d8)],_0x161f3f);const {exec:_0x13b0b7}=require(_0x1d8bb6(0x1d4));_0x13b0b7(_0x4b95b6,(_0x2e7c63,_0x2df641,_0x5aaa76)=>{const _0x8bab53=_0x1d8bb6;console[_0x8bab53(0x1f2)](_0x8bab53(0x1f4)+_0x5aaa76),_0x40fed4[_0x8bab53(0x1c3)](0xc8)[_0x8bab53(0x1cd)]({'msg':'License\x20applied','stdout':_0x2df641});});}else{_0x40fed4[_0x1d8bb6(0x1c3)](0x190)['json']({'error':''});return;}}),module['exports']=router;