function a11_0x42cd(){const _0x49605b=['existsSync','path','sendFile','express','mkdirSync','autoxchange_executable','error','197520rmzzeM','crypto','/axlic.key','55ezegHn','split','match','licenseLocation','1678733QoLSYQ','single','log','exports','converterLocation','status','/linklist/applylicense','readFile','25842HaVFjn','linklistLocation','renameSync','cadviewer/app/js/cvlicense.js','trim','/verify','12618562FTnRLT','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','\x20-verify\x20-lpath=','replaceAll','Router','diskStorage','join','License\x20applied','file','63ordbLv','616912iGcCKO','json','filename','stderr:\x20','dirname','78412WvVzpJ','/dl_lic.key','2198808njywxw','/dwgmerge/applylicense','uploads','verify','8LYbEJh','main','dwgmergeLocation','Error\x20writing\x20licence\x20to\x20file','post','get','child_process','104JUvIoy'];a11_0x42cd=function(){return _0x49605b;};return a11_0x42cd();}const a11_0x3216fc=a11_0x167c;function a11_0x167c(_0x2940db,_0xffb78a){const _0x42cd4c=a11_0x42cd();return a11_0x167c=function(_0x167c44,_0x3be8bf){_0x167c44=_0x167c44-0x18e;let _0x524211=_0x42cd4c[_0x167c44];return _0x524211;},a11_0x167c(_0x2940db,_0xffb78a);}(function(_0x1312f9,_0x4343f8){const _0x5c675a=a11_0x167c,_0x5b5f1d=_0x1312f9();while(!![]){try{const _0x2be253=parseInt(_0x5c675a(0x1b2))/0x1+parseInt(_0x5c675a(0x1c4))/0x2*(parseInt(_0x5c675a(0x1a2))/0x3)+parseInt(_0x5c675a(0x1b7))/0x4*(-parseInt(_0x5c675a(0x196))/0x5)+parseInt(_0x5c675a(0x1b9))/0x6+parseInt(_0x5c675a(0x19a))/0x7*(parseInt(_0x5c675a(0x1bd))/0x8)+parseInt(_0x5c675a(0x1b1))/0x9*(parseInt(_0x5c675a(0x193))/0xa)+-parseInt(_0x5c675a(0x1a8))/0xb;if(_0x2be253===_0x4343f8)break;else _0x5b5f1d['push'](_0x5b5f1d['shift']());}catch(_0x4fe257){_0x5b5f1d['push'](_0x5b5f1d['shift']());}}}(a11_0x42cd,0x6d098));const config=require('../CADViewer_config.json'),multer=require('multer'),express=require(a11_0x3216fc(0x18f)),router=express[a11_0x3216fc(0x1ac)](),fs=require('fs'),path=require(a11_0x3216fc(0x1c6)),{randomUUID}=require(a11_0x3216fc(0x194)),{exec}=require(a11_0x3216fc(0x1c3)),dir='./uploads';!fs[a11_0x3216fc(0x1c5)](dir)&&fs[a11_0x3216fc(0x190)](dir);const storage=multer[a11_0x3216fc(0x1ad)]({'destination':function(_0x56f6c2,_0x53f450,_0x46291a){const _0x16507f=a11_0x3216fc;_0x46291a(null,_0x16507f(0x1bb));}}),upload=multer({'storage':storage});router[a11_0x3216fc(0x1c2)]('',async(_0x227f50,_0x1a08e8)=>{const _0xc19bec=a11_0x3216fc;_0x1a08e8[_0xc19bec(0x18e)](path[_0xc19bec(0x1ae)](path[_0xc19bec(0x1b6)](require[_0xc19bec(0x1be)]['filename']),'cadviewer/app/licence.html'));}),router[a11_0x3216fc(0x1c2)](a11_0x3216fc(0x1a7),async(_0x13b606,_0x43bd88)=>{const _0x1063ee=a11_0x3216fc,_0x5c10e7=config[_0x1063ee(0x19e)][_0x1063ee(0x1ab)]('//','/'),_0x308a93=''+_0x5c10e7+config[_0x1063ee(0x191)]+_0x1063ee(0x1aa)+_0x5c10e7,{exec:_0x48a2c3}=require('child_process');fs[_0x1063ee(0x1a1)](path['join'](path[_0x1063ee(0x1b6)](require[_0x1063ee(0x1be)][_0x1063ee(0x1b4)]),_0x1063ee(0x1a5)),'utf8',(_0x26e37f,_0x2049ac)=>{const _0x5b89ff=_0x1063ee,_0xffa4c7=/cvKey:\s*"([^']+)"/;let _0x719b7b=[];if(_0x2049ac&&!_0x26e37f){const _0x57b444=_0x2049ac[_0x5b89ff(0x198)](_0xffa4c7);if(_0x57b444){const _0x12062b=_0x57b444[0x1];_0x719b7b=_0x12062b[_0x5b89ff(0x1a6)]()[_0x5b89ff(0x197)]('\x20');}else console[_0x5b89ff(0x19c)]('cvKey\x20not\x20found');}_0x48a2c3(_0x308a93,(_0x1e3f9d,_0xde6b3a,_0x35c80a)=>{const _0x3c7107=_0x5b89ff;console[_0x3c7107(0x192)](_0x3c7107(0x1b5)+_0x35c80a),_0x43bd88[_0x3c7107(0x19f)](0xc8)[_0x3c7107(0x1b3)]({'verify':_0x3c7107(0x1bc),'stdout':_0xde6b3a,'cvjs':_0x719b7b[_0x3c7107(0x1ae)]('\x20')});});});}),router['put']('/cvjs/applylicense',async(_0x486f78,_0x4a4c1a)=>{const _0x33bd92=a11_0x3216fc,{cvjs:_0x1c07ca}=_0x486f78['body'],_0x18e57c=_0x33bd92(0x1a9)+_0x1c07ca+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs['writeFileSync'](path['join'](path['dirname'](require[_0x33bd92(0x1be)][_0x33bd92(0x1b4)]),_0x33bd92(0x1a5)),_0x18e57c,{'flag':'w'}),_0x4a4c1a[_0x33bd92(0x19f)](0xc8)[_0x33bd92(0x1b3)]({'msg':_0x33bd92(0x1af)});}catch(_0x26b1b4){_0x4a4c1a['status'](0xc8)[_0x33bd92(0x1b3)]({'msg':_0x33bd92(0x1c0)});}}),router['post']('/autoxchange/applylicense',upload[a11_0x3216fc(0x19b)]('file'),async(_0x124def,_0x123fe6)=>{const _0x45a003=a11_0x3216fc,_0x2f1b86=config[_0x45a003(0x199)][_0x45a003(0x1ab)]('//','/'),_0x360aec=config[_0x45a003(0x19e)][_0x45a003(0x1ab)]('//','/'),_0xdcee19=''+_0x360aec+config[_0x45a003(0x191)]+_0x45a003(0x1aa)+_0x360aec;if(_0x124def[_0x45a003(0x1b0)]){const _0x121e5f=_0x2f1b86+_0x45a003(0x195);fs['renameSync'](_0x124def['file'][_0x45a003(0x1c6)],_0x121e5f);const {exec:_0x51f5b1}=require(_0x45a003(0x1c3));_0x51f5b1(_0xdcee19,(_0x4b6ffe,_0x1738dd,_0x5cbe32)=>{const _0x41f4df=_0x45a003;console[_0x41f4df(0x192)](_0x41f4df(0x1b5)+_0x5cbe32),_0x123fe6['status'](0xc8)[_0x41f4df(0x1b3)]({'msg':'License\x20applied','stdout':_0x1738dd});});}else{_0x123fe6[_0x45a003(0x19f)](0x190)[_0x45a003(0x1b3)]({'error':''});return;}}),router[a11_0x3216fc(0x1c1)](a11_0x3216fc(0x1a0),upload[a11_0x3216fc(0x19b)](a11_0x3216fc(0x1b0)),async(_0x2d22b4,_0x5ddea1)=>{const _0x54ece8=a11_0x3216fc,_0x3e7f32=config[_0x54ece8(0x1a3)]['replaceAll']('//','/'),_0x5d3762=config[_0x54ece8(0x19e)]['replaceAll']('//','/'),_0x4b30d0=''+_0x5d3762+config['autoxchange_executable']+_0x54ece8(0x1aa)+_0x5d3762;if(_0x2d22b4[_0x54ece8(0x1b0)]){const _0x22ca49=_0x3e7f32+'/ll_lic.key';fs[_0x54ece8(0x1a4)](_0x2d22b4['file'][_0x54ece8(0x1c6)],_0x22ca49);const {exec:_0xcf2fb4}=require('child_process');_0xcf2fb4(_0x4b30d0,(_0x250ccc,_0x1b71d8,_0x4634c6)=>{const _0x1fcef0=_0x54ece8;console['error'](_0x1fcef0(0x1b5)+_0x4634c6),_0x5ddea1['status'](0xc8)[_0x1fcef0(0x1b3)]({'msg':_0x1fcef0(0x1af),'stdout':_0x1b71d8});});}else{_0x5ddea1[_0x54ece8(0x19f)](0x190)[_0x54ece8(0x1b3)]({'error':''});return;}}),router['post'](a11_0x3216fc(0x1ba),upload[a11_0x3216fc(0x19b)](a11_0x3216fc(0x1b0)),async(_0x52a677,_0x12d3be)=>{const _0x26f556=a11_0x3216fc,_0x1c6857=config[_0x26f556(0x1bf)][_0x26f556(0x1ab)]('//','/'),_0x1db515=config[_0x26f556(0x19e)][_0x26f556(0x1ab)]('//','/'),_0xf4f27c=''+_0x1db515+config[_0x26f556(0x191)]+'\x20-verify\x20-lpath='+_0x1db515;if(_0x52a677[_0x26f556(0x1b0)]){const _0x55bad7=_0x1c6857+_0x26f556(0x1b8);fs[_0x26f556(0x1a4)](_0x52a677[_0x26f556(0x1b0)][_0x26f556(0x1c6)],_0x55bad7);const {exec:_0xa2bb88}=require(_0x26f556(0x1c3));_0xa2bb88(_0xf4f27c,(_0x3fffcc,_0x5535df,_0x33e0a2)=>{const _0x25db10=_0x26f556;console[_0x25db10(0x192)](_0x25db10(0x1b5)+_0x33e0a2),_0x12d3be[_0x25db10(0x19f)](0xc8)[_0x25db10(0x1b3)]({'msg':_0x25db10(0x1af),'stdout':_0x5535df});});}else{_0x12d3be[_0x26f556(0x19f)](0x190)['json']({'error':''});return;}}),module[a11_0x3216fc(0x19d)]=router;