const a11_0x49c1ef=a11_0x2978;(function(_0x39e130,_0x8c40a9){const _0x14f343=a11_0x2978,_0x5d9d46=_0x39e130();while(!![]){try{const _0x1c3f2f=parseInt(_0x14f343(0xca))/0x1+-parseInt(_0x14f343(0xfe))/0x2+parseInt(_0x14f343(0xce))/0x3+-parseInt(_0x14f343(0xee))/0x4+-parseInt(_0x14f343(0xcd))/0x5*(-parseInt(_0x14f343(0xe1))/0x6)+-parseInt(_0x14f343(0xcc))/0x7*(parseInt(_0x14f343(0xf1))/0x8)+parseInt(_0x14f343(0xd6))/0x9*(parseInt(_0x14f343(0xe0))/0xa);if(_0x1c3f2f===_0x8c40a9)break;else _0x5d9d46['push'](_0x5d9d46['shift']());}catch(_0xc600a5){_0x5d9d46['push'](_0x5d9d46['shift']());}}}(a11_0x3dc6,0xac61d));const config=require(a11_0x49c1ef(0xe6)),multer=require(a11_0x49c1ef(0xe7)),express=require(a11_0x49c1ef(0xf5)),router=express[a11_0x49c1ef(0xd7)](),fs=require('fs'),path=require(a11_0x49c1ef(0xd4)),{randomUUID}=require(a11_0x49c1ef(0xed)),{exec}=require(a11_0x49c1ef(0xd8)),dir=a11_0x49c1ef(0xde);function a11_0x3dc6(){const _0x5bd755=['get','json','./uploads','renameSync','350duTYui','7302wdwZwK','stderr:\x20','existsSync','readFile','dirname','../CADViewer_config.json','multer','/linklist/applylicense','replaceAll','error','status','linklistLocation','crypto','2313556ZfSIRq','autoxchange_executable','mkdirSync','8gFlKym','filename','file','License\x20applied','express','converterLocation','main','log','/dwgmerge/applylicense','trim','/verify','\x20-verify\x20-lpath=','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','1408024TcDUKA','split','single','cadviewer/app/js/cvlicense.js','post','245570teKcLl','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','2254896BqUgVd','1585nblWjI','2616756tocvND','licenseLocation','/dl_lic.key','/cvjs/applylicense','dwgmergeLocation','/axlic.key','path','join','207513ixxAMS','Router','child_process','verify','cadviewer/app/licence.html','diskStorage'];a11_0x3dc6=function(){return _0x5bd755;};return a11_0x3dc6();}!fs[a11_0x49c1ef(0xe3)](dir)&&fs[a11_0x49c1ef(0xf0)](dir);function a11_0x2978(_0x2099dd,_0x455a88){const _0x3dc6c7=a11_0x3dc6();return a11_0x2978=function(_0x297851,_0x54f8d8){_0x297851=_0x297851-0xc9;let _0x20a2a3=_0x3dc6c7[_0x297851];return _0x20a2a3;},a11_0x2978(_0x2099dd,_0x455a88);}const storage=multer[a11_0x49c1ef(0xdb)]({'destination':function(_0xa41d22,_0x4b4f6b,_0x2d5f83){_0x2d5f83(null,'uploads');}}),upload=multer({'storage':storage});router[a11_0x49c1ef(0xdc)]('',async(_0x34ed92,_0x58d635)=>{const _0x413450=a11_0x49c1ef;_0x58d635['sendFile'](path['join'](path[_0x413450(0xe5)](require[_0x413450(0xf7)][_0x413450(0xf2)]),_0x413450(0xda)));}),router['get'](a11_0x49c1ef(0xfb),async(_0x43abff,_0xbd7f05)=>{const _0xbd69fb=a11_0x49c1ef,_0x14d45a=config[_0xbd69fb(0xf6)][_0xbd69fb(0xe9)]('//','/'),_0x1793c1=''+_0x14d45a+config[_0xbd69fb(0xef)]+_0xbd69fb(0xfc)+_0x14d45a,{exec:_0x188c3a}=require(_0xbd69fb(0xd8));fs[_0xbd69fb(0xe4)](path[_0xbd69fb(0xd5)](path[_0xbd69fb(0xe5)](require[_0xbd69fb(0xf7)][_0xbd69fb(0xf2)]),_0xbd69fb(0x101)),'utf8',(_0x5c617d,_0x8449ad)=>{const _0x4acc16=_0xbd69fb,_0x4d5ecf=/cvKey:\s*"([^']+)"/;let _0x54d2fb=[];if(_0x8449ad&&!_0x5c617d){const _0x46644a=_0x8449ad['match'](_0x4d5ecf);if(_0x46644a){const _0xf7e87f=_0x46644a[0x1];_0x54d2fb=_0xf7e87f[_0x4acc16(0xfa)]()[_0x4acc16(0xff)]('\x20');}else console[_0x4acc16(0xf8)]('cvKey\x20not\x20found');}_0x188c3a(_0x1793c1,(_0x59de36,_0x27988f,_0x170564)=>{const _0x49bbd5=_0x4acc16;console[_0x49bbd5(0xea)](_0x49bbd5(0xe2)+_0x170564),_0xbd7f05['status'](0xc8)[_0x49bbd5(0xdd)]({'verify':_0x49bbd5(0xd9),'stdout':_0x27988f,'cvjs':_0x54d2fb[_0x49bbd5(0xd5)]('\x20')});});});}),router['put'](a11_0x49c1ef(0xd1),async(_0x59df8e,_0x5420b9)=>{const _0x129cd1=a11_0x49c1ef,{cvjs:_0x144905}=_0x59df8e['body'],_0xa54e3a=_0x129cd1(0xfd)+_0x144905+_0x129cd1(0xcb);try{fs['writeFileSync'](path[_0x129cd1(0xd5)](path[_0x129cd1(0xe5)](require['main'][_0x129cd1(0xf2)]),'cadviewer/app/js/cvlicense.js'),_0xa54e3a,{'flag':'w'}),_0x5420b9[_0x129cd1(0xeb)](0xc8)['json']({'msg':_0x129cd1(0xf4)});}catch(_0x28db25){_0x5420b9[_0x129cd1(0xeb)](0xc8)[_0x129cd1(0xdd)]({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router[a11_0x49c1ef(0xc9)]('/autoxchange/applylicense',upload['single'](a11_0x49c1ef(0xf3)),async(_0x497c17,_0x2cbff9)=>{const _0x2660a1=a11_0x49c1ef,_0x343450=config[_0x2660a1(0xcf)][_0x2660a1(0xe9)]('//','/'),_0x3e9cd4=config[_0x2660a1(0xf6)]['replaceAll']('//','/'),_0x272cae=''+_0x3e9cd4+config[_0x2660a1(0xef)]+_0x2660a1(0xfc)+_0x3e9cd4;if(_0x497c17['file']){const _0x3bae03=_0x343450+_0x2660a1(0xd3);fs[_0x2660a1(0xdf)](_0x497c17[_0x2660a1(0xf3)]['path'],_0x3bae03);const {exec:_0x24392f}=require(_0x2660a1(0xd8));_0x24392f(_0x272cae,(_0x3c32fc,_0x2268d2,_0x436432)=>{const _0x49e12f=_0x2660a1;console[_0x49e12f(0xea)](_0x49e12f(0xe2)+_0x436432),_0x2cbff9['status'](0xc8)[_0x49e12f(0xdd)]({'msg':_0x49e12f(0xf4),'stdout':_0x2268d2});});}else{_0x2cbff9['status'](0x190)[_0x2660a1(0xdd)]({'error':''});return;}}),router[a11_0x49c1ef(0xc9)](a11_0x49c1ef(0xe8),upload[a11_0x49c1ef(0x100)]('file'),async(_0x3ae37d,_0x5931a7)=>{const _0x3ef2bb=a11_0x49c1ef,_0x1c8b0f=config[_0x3ef2bb(0xec)]['replaceAll']('//','/'),_0x5763ef=config['converterLocation']['replaceAll']('//','/'),_0x22a6a9=''+_0x5763ef+config['autoxchange_executable']+_0x3ef2bb(0xfc)+_0x5763ef;if(_0x3ae37d[_0x3ef2bb(0xf3)]){const _0xc0e8e3=_0x1c8b0f+'/ll_lic.key';fs[_0x3ef2bb(0xdf)](_0x3ae37d['file'][_0x3ef2bb(0xd4)],_0xc0e8e3);const {exec:_0x462d31}=require(_0x3ef2bb(0xd8));_0x462d31(_0x22a6a9,(_0x52cee4,_0x4898e5,_0x454f3c)=>{const _0x55ea49=_0x3ef2bb;console[_0x55ea49(0xea)](_0x55ea49(0xe2)+_0x454f3c),_0x5931a7[_0x55ea49(0xeb)](0xc8)[_0x55ea49(0xdd)]({'msg':_0x55ea49(0xf4),'stdout':_0x4898e5});});}else{_0x5931a7[_0x3ef2bb(0xeb)](0x190)[_0x3ef2bb(0xdd)]({'error':''});return;}}),router[a11_0x49c1ef(0xc9)](a11_0x49c1ef(0xf9),upload[a11_0x49c1ef(0x100)](a11_0x49c1ef(0xf3)),async(_0x12176c,_0x55d89f)=>{const _0x1b33be=a11_0x49c1ef,_0x12d168=config[_0x1b33be(0xd2)]['replaceAll']('//','/'),_0x1a9493=config[_0x1b33be(0xf6)]['replaceAll']('//','/'),_0x183ffd=''+_0x1a9493+config['autoxchange_executable']+_0x1b33be(0xfc)+_0x1a9493;if(_0x12176c['file']){const _0x27937b=_0x12d168+_0x1b33be(0xd0);fs['renameSync'](_0x12176c[_0x1b33be(0xf3)]['path'],_0x27937b);const {exec:_0x56e5ca}=require(_0x1b33be(0xd8));_0x56e5ca(_0x183ffd,(_0x9644f0,_0x246ec9,_0x4e519b)=>{const _0x4fcedc=_0x1b33be;console[_0x4fcedc(0xea)]('stderr:\x20'+_0x4e519b),_0x55d89f[_0x4fcedc(0xeb)](0xc8)['json']({'msg':_0x4fcedc(0xf4),'stdout':_0x246ec9});});}else{_0x55d89f[_0x1b33be(0xeb)](0x190)[_0x1b33be(0xdd)]({'error':''});return;}}),module['exports']=router;