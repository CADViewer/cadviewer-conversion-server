const a11_0x720048=a11_0x5284;(function(_0x340216,_0x279868){const _0x23c8cc=a11_0x5284,_0x41d592=_0x340216();while(!![]){try{const _0x57e96d=-parseInt(_0x23c8cc(0x10d))/0x1*(-parseInt(_0x23c8cc(0x10c))/0x2)+-parseInt(_0x23c8cc(0x100))/0x3*(parseInt(_0x23c8cc(0xe0))/0x4)+-parseInt(_0x23c8cc(0xdc))/0x5+parseInt(_0x23c8cc(0xd7))/0x6*(-parseInt(_0x23c8cc(0xec))/0x7)+parseInt(_0x23c8cc(0xfd))/0x8*(parseInt(_0x23c8cc(0xe7))/0x9)+parseInt(_0x23c8cc(0xe1))/0xa+parseInt(_0x23c8cc(0xf8))/0xb*(-parseInt(_0x23c8cc(0x10b))/0xc);if(_0x57e96d===_0x279868)break;else _0x41d592['push'](_0x41d592['shift']());}catch(_0x2d53bd){_0x41d592['push'](_0x41d592['shift']());}}}(a11_0x5a1e,0xa181f));const config=require(a11_0x720048(0xdd)),multer=require(a11_0x720048(0xee)),express=require(a11_0x720048(0x104)),router=express[a11_0x720048(0xf7)](),fs=require('fs'),path=require(a11_0x720048(0xff)),{randomUUID}=require(a11_0x720048(0xf4)),{exec}=require('child_process'),dir=a11_0x720048(0xd8);!fs['existsSync'](dir)&&fs[a11_0x720048(0xed)](dir);function a11_0x5284(_0x15115d,_0xbb9258){const _0x5a1e44=a11_0x5a1e();return a11_0x5284=function(_0x5284aa,_0x23e419){_0x5284aa=_0x5284aa-0xd4;let _0x47290f=_0x5a1e44[_0x5284aa];return _0x47290f;},a11_0x5284(_0x15115d,_0xbb9258);}const storage=multer[a11_0x720048(0xe9)]({'destination':function(_0x226ac0,_0x439a61,_0x23fba2){const _0x5dd210=a11_0x720048;_0x23fba2(null,_0x5dd210(0xd9));}}),upload=multer({'storage':storage});function a11_0x5a1e(){const _0x21d6f9=['dirname','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','/linklist/applylicense','crypto','json','renameSync','Router','33gmpqgm','License\x20applied','file','stderr:\x20','readFile','626448QFpNze','put','path','25557LgEpGY','exports','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','status','express','filename','child_process','dwgmergeLocation','get','autoxchange_executable','main','3963276zJrtcS','87222QNkvOv','16cGDMRh','body','/dl_lic.key','replaceAll','29046KMvMyZ','./uploads','uploads','trim','converterLocation','523960JYJKEW','../CADViewer_config.json','\x20-verify\x20-lpath=','utf8','124DcxbtP','12187300Zkarxj','/autoxchange/applylicense','match','/dwgmerge/applylicense','error','post','135NjUWzT','single','diskStorage','cvKey\x20not\x20found','sendFile','1547INqwdt','mkdirSync','multer','join','licenseLocation'];a11_0x5a1e=function(){return _0x21d6f9;};return a11_0x5a1e();}router[a11_0x720048(0x108)]('',async(_0x11e76a,_0x5da562)=>{const _0x45ce28=a11_0x720048;_0x5da562[_0x45ce28(0xeb)](path['join'](path[_0x45ce28(0xf1)](require['main'][_0x45ce28(0x105)]),'cadviewer/app/licence.html'));}),router[a11_0x720048(0x108)]('/verify',async(_0x3031ac,_0x18e39d)=>{const _0x4ffc4e=a11_0x720048,_0x54001c=config[_0x4ffc4e(0xdb)][_0x4ffc4e(0xd6)]('//','/'),_0x486315=''+_0x54001c+config[_0x4ffc4e(0x109)]+_0x4ffc4e(0xde)+_0x54001c,{exec:_0x33da1f}=require(_0x4ffc4e(0x106));fs[_0x4ffc4e(0xfc)](path[_0x4ffc4e(0xef)](path['dirname'](require[_0x4ffc4e(0x10a)][_0x4ffc4e(0x105)]),'cadviewer/app/js/cvlicense.js'),_0x4ffc4e(0xdf),(_0x3fd541,_0x35f84c)=>{const _0x587a22=_0x4ffc4e,_0x3179ea=/cvKey:\s*"([^']+)"/;let _0x2fc2e5=[];if(_0x35f84c&&!_0x3fd541){const _0x201275=_0x35f84c[_0x587a22(0xe3)](_0x3179ea);if(_0x201275){const _0x17c8f7=_0x201275[0x1];_0x2fc2e5=_0x17c8f7[_0x587a22(0xda)]()['split']('\x20');}else console['log'](_0x587a22(0xea));}_0x33da1f(_0x486315,(_0x3ef1c4,_0x1c64ff,_0x450af8)=>{const _0x4965cf=_0x587a22;console[_0x4965cf(0xe5)](_0x4965cf(0xfb)+_0x450af8),_0x18e39d[_0x4965cf(0x103)](0xc8)[_0x4965cf(0xf5)]({'verify':'verify','stdout':_0x1c64ff,'cvjs':_0x2fc2e5[_0x4965cf(0xef)]('\x20')});});});}),router[a11_0x720048(0xfe)]('/cvjs/applylicense',async(_0x4768e9,_0x34cf33)=>{const _0x4cf124=a11_0x720048,{cvjs:_0x9069d1}=_0x4768e9[_0x4cf124(0xd4)],_0x1f2e57=_0x4cf124(0x102)+_0x9069d1+_0x4cf124(0xf2);try{fs['writeFileSync'](path[_0x4cf124(0xef)](path[_0x4cf124(0xf1)](require['main'][_0x4cf124(0x105)]),'cadviewer/app/js/cvlicense.js'),_0x1f2e57,{'flag':'w'}),_0x34cf33[_0x4cf124(0x103)](0xc8)[_0x4cf124(0xf5)]({'msg':'License\x20applied'});}catch(_0x1dc9e7){_0x34cf33[_0x4cf124(0x103)](0xc8)['json']({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router[a11_0x720048(0xe6)](a11_0x720048(0xe2),upload[a11_0x720048(0xe8)](a11_0x720048(0xfa)),async(_0xd99b8b,_0x42e1db)=>{const _0x113620=a11_0x720048,_0x5a456b=config[_0x113620(0xf0)][_0x113620(0xd6)]('//','/'),_0x367c31=config[_0x113620(0xdb)]['replaceAll']('//','/'),_0xa74f6=''+_0x367c31+config[_0x113620(0x109)]+_0x113620(0xde)+_0x367c31;if(_0xd99b8b[_0x113620(0xfa)]){const _0x569b45=_0x5a456b+'/axlic.key';fs[_0x113620(0xf6)](_0xd99b8b[_0x113620(0xfa)][_0x113620(0xff)],_0x569b45);const {exec:_0x3a27e7}=require(_0x113620(0x106));_0x3a27e7(_0xa74f6,(_0x46a65c,_0x45675b,_0x54f9ae)=>{const _0x5b0153=_0x113620;console['error'](_0x5b0153(0xfb)+_0x54f9ae),_0x42e1db[_0x5b0153(0x103)](0xc8)[_0x5b0153(0xf5)]({'msg':_0x5b0153(0xf9),'stdout':_0x45675b});});}else{_0x42e1db['status'](0x190)[_0x113620(0xf5)]({'error':''});return;}}),router[a11_0x720048(0xe6)](a11_0x720048(0xf3),upload[a11_0x720048(0xe8)]('file'),async(_0x1b082f,_0x25703a)=>{const _0x655161=a11_0x720048,_0x1124c2=config['linklistLocation'][_0x655161(0xd6)]('//','/'),_0x5b6048=config['converterLocation'][_0x655161(0xd6)]('//','/'),_0x5e076a=''+_0x5b6048+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x5b6048;if(_0x1b082f[_0x655161(0xfa)]){const _0xa8016d=_0x1124c2+'/ll_lic.key';fs[_0x655161(0xf6)](_0x1b082f['file']['path'],_0xa8016d);const {exec:_0x431a14}=require('child_process');_0x431a14(_0x5e076a,(_0x4ea021,_0x2a7d5d,_0x52b383)=>{const _0x510656=_0x655161;console[_0x510656(0xe5)](_0x510656(0xfb)+_0x52b383),_0x25703a[_0x510656(0x103)](0xc8)['json']({'msg':'License\x20applied','stdout':_0x2a7d5d});});}else{_0x25703a[_0x655161(0x103)](0x190)['json']({'error':''});return;}}),router[a11_0x720048(0xe6)](a11_0x720048(0xe4),upload[a11_0x720048(0xe8)](a11_0x720048(0xfa)),async(_0x3bd9c1,_0x41045)=>{const _0x15c293=a11_0x720048,_0x21e390=config[_0x15c293(0x107)][_0x15c293(0xd6)]('//','/'),_0x2485fa=config[_0x15c293(0xdb)][_0x15c293(0xd6)]('//','/'),_0x33083e=''+_0x2485fa+config[_0x15c293(0x109)]+'\x20-verify\x20-lpath='+_0x2485fa;if(_0x3bd9c1[_0x15c293(0xfa)]){const _0x112aff=_0x21e390+_0x15c293(0xd5);fs['renameSync'](_0x3bd9c1[_0x15c293(0xfa)][_0x15c293(0xff)],_0x112aff);const {exec:_0x131698}=require(_0x15c293(0x106));_0x131698(_0x33083e,(_0x8207ea,_0x211737,_0x559059)=>{const _0x3db11c=_0x15c293;console[_0x3db11c(0xe5)](_0x3db11c(0xfb)+_0x559059),_0x41045[_0x3db11c(0x103)](0xc8)[_0x3db11c(0xf5)]({'msg':'License\x20applied','stdout':_0x211737});});}else{_0x41045['status'](0x190)[_0x15c293(0xf5)]({'error':''});return;}}),module[a11_0x720048(0x101)]=router;