const a11_0x27f809=a11_0x2e87;(function(_0x50523a,_0x53e33c){const _0x227f6a=a11_0x2e87,_0x1ebe3e=_0x50523a();while(!![]){try{const _0x321b7a=-parseInt(_0x227f6a(0x1f0))/0x1*(parseInt(_0x227f6a(0x1f5))/0x2)+parseInt(_0x227f6a(0x1eb))/0x3+parseInt(_0x227f6a(0x1ea))/0x4*(-parseInt(_0x227f6a(0x1dd))/0x5)+-parseInt(_0x227f6a(0x1cb))/0x6+parseInt(_0x227f6a(0x1d3))/0x7+parseInt(_0x227f6a(0x1fa))/0x8*(parseInt(_0x227f6a(0x1d7))/0x9)+parseInt(_0x227f6a(0x1ec))/0xa*(parseInt(_0x227f6a(0x203))/0xb);if(_0x321b7a===_0x53e33c)break;else _0x1ebe3e['push'](_0x1ebe3e['shift']());}catch(_0x648f7c){_0x1ebe3e['push'](_0x1ebe3e['shift']());}}}(a11_0xe661,0x556d1));function a11_0xe661(){const _0x411133=['converterLocation','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','1768IYIdbq','1853424dXalOU','10aSsLOK','cadviewer/app/js/cvlicense.js','/autoxchange/applylicense','dirname','21718haRUzi','./uploads','status','cvKey\x20not\x20found','trim','46guvAqA','existsSync','/cvjs/applylicense','child_process','Error\x20writing\x20licence\x20to\x20file','820168FSrSeP','/verify','error','/dl_lic.key','post','/axlic.key','main','stderr:\x20','file','6539401WPHeyD','renameSync','/ll_lic.key','match','split','readFile','../CADViewer_config.json','multer','3778224tnycNm','join','filename','uploads','get','License\x20applied','express','json','2778209TmhoTf','Router','path','cadviewer/app/licence.html','45nfBOYX','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','/linklist/applylicense','single','utf8','dwgmergeLocation','7270JQziRe','linklistLocation','autoxchange_executable','licenseLocation','/dwgmerge/applylicense','replaceAll','\x20-verify\x20-lpath=','put','crypto','body','log'];a11_0xe661=function(){return _0x411133;};return a11_0xe661();}function a11_0x2e87(_0x28e9dc,_0x37ae6c){const _0xe66119=a11_0xe661();return a11_0x2e87=function(_0x2e8797,_0x32d1b5){_0x2e8797=_0x2e8797-0x1c9;let _0x24a46d=_0xe66119[_0x2e8797];return _0x24a46d;},a11_0x2e87(_0x28e9dc,_0x37ae6c);}const config=require(a11_0x27f809(0x1c9)),multer=require(a11_0x27f809(0x1ca)),express=require(a11_0x27f809(0x1d1)),router=express[a11_0x27f809(0x1d4)](),fs=require('fs'),path=require(a11_0x27f809(0x1d5)),{randomUUID}=require(a11_0x27f809(0x1e5)),{exec}=require(a11_0x27f809(0x1f8)),dir=a11_0x27f809(0x1f1);!fs[a11_0x27f809(0x1f6)](dir)&&fs['mkdirSync'](dir);const storage=multer['diskStorage']({'destination':function(_0x536189,_0x1a62e1,_0x138ae6){const _0x385424=a11_0x27f809;_0x138ae6(null,_0x385424(0x1ce));}}),upload=multer({'storage':storage});router[a11_0x27f809(0x1cf)]('',async(_0x5af139,_0x42aa99)=>{const _0x281e50=a11_0x27f809;_0x42aa99['sendFile'](path[_0x281e50(0x1cc)](path[_0x281e50(0x1ef)](require[_0x281e50(0x200)][_0x281e50(0x1cd)]),_0x281e50(0x1d6)));}),router['get'](a11_0x27f809(0x1fb),async(_0x31483e,_0x281fc5)=>{const _0x252587=a11_0x27f809,_0x4d3fcc=config[_0x252587(0x1e8)][_0x252587(0x1e2)]('//','/'),_0x49e996=''+_0x4d3fcc+config[_0x252587(0x1df)]+_0x252587(0x1e3)+_0x4d3fcc,{exec:_0xa61939}=require(_0x252587(0x1f8));fs[_0x252587(0x208)](path[_0x252587(0x1cc)](path[_0x252587(0x1ef)](require['main'][_0x252587(0x1cd)]),_0x252587(0x1ed)),_0x252587(0x1db),(_0x1113eb,_0x3e804e)=>{const _0x400667=_0x252587,_0x5931ce=/cvKey:\s*"([^']+)"/;let _0x4c54fb=[];if(_0x3e804e&&!_0x1113eb){const _0x148d20=_0x3e804e[_0x400667(0x206)](_0x5931ce);if(_0x148d20){const _0x43474b=_0x148d20[0x1];_0x4c54fb=_0x43474b[_0x400667(0x1f4)]()[_0x400667(0x207)]('\x20');}else console[_0x400667(0x1e7)](_0x400667(0x1f3));}_0xa61939(_0x49e996,(_0x120fca,_0xba736d,_0x375b6f)=>{const _0x13f2a4=_0x400667;console[_0x13f2a4(0x1fc)](_0x13f2a4(0x201)+_0x375b6f),_0x281fc5[_0x13f2a4(0x1f2)](0xc8)[_0x13f2a4(0x1d2)]({'verify':'verify','stdout':_0xba736d,'cvjs':_0x4c54fb[_0x13f2a4(0x1cc)]('\x20')});});});}),router[a11_0x27f809(0x1e4)](a11_0x27f809(0x1f7),async(_0x37182a,_0x5836bc)=>{const _0x3ef8a2=a11_0x27f809,{cvjs:_0xf3efe5}=_0x37182a[_0x3ef8a2(0x1e6)],_0x53d4e9=_0x3ef8a2(0x1d8)+_0xf3efe5+_0x3ef8a2(0x1e9);try{fs['writeFileSync'](path[_0x3ef8a2(0x1cc)](path['dirname'](require['main']['filename']),'cadviewer/app/js/cvlicense.js'),_0x53d4e9,{'flag':'w'}),_0x5836bc[_0x3ef8a2(0x1f2)](0xc8)[_0x3ef8a2(0x1d2)]({'msg':_0x3ef8a2(0x1d0)});}catch(_0x2f45e1){_0x5836bc[_0x3ef8a2(0x1f2)](0xc8)['json']({'msg':_0x3ef8a2(0x1f9)});}}),router['post'](a11_0x27f809(0x1ee),upload[a11_0x27f809(0x1da)](a11_0x27f809(0x202)),async(_0x2c66ff,_0x1a84cd)=>{const _0x2dcef8=a11_0x27f809,_0x1d08a1=config[_0x2dcef8(0x1e0)]['replaceAll']('//','/'),_0x42c6d0=config['converterLocation']['replaceAll']('//','/'),_0x12dd67=''+_0x42c6d0+config[_0x2dcef8(0x1df)]+'\x20-verify\x20-lpath='+_0x42c6d0;if(_0x2c66ff[_0x2dcef8(0x202)]){const _0x2cd4ea=_0x1d08a1+_0x2dcef8(0x1ff);fs['renameSync'](_0x2c66ff[_0x2dcef8(0x202)][_0x2dcef8(0x1d5)],_0x2cd4ea);const {exec:_0x166e6c}=require('child_process');_0x166e6c(_0x12dd67,(_0x2101cb,_0x228dc2,_0x32c433)=>{const _0x3f18fe=_0x2dcef8;console[_0x3f18fe(0x1fc)](_0x3f18fe(0x201)+_0x32c433),_0x1a84cd[_0x3f18fe(0x1f2)](0xc8)[_0x3f18fe(0x1d2)]({'msg':'License\x20applied','stdout':_0x228dc2});});}else{_0x1a84cd[_0x2dcef8(0x1f2)](0x190)[_0x2dcef8(0x1d2)]({'error':''});return;}}),router[a11_0x27f809(0x1fe)](a11_0x27f809(0x1d9),upload[a11_0x27f809(0x1da)](a11_0x27f809(0x202)),async(_0x231698,_0x2e430f)=>{const _0x72b94c=a11_0x27f809,_0x2a410d=config[_0x72b94c(0x1de)]['replaceAll']('//','/'),_0x1ccfd1=config['converterLocation'][_0x72b94c(0x1e2)]('//','/'),_0xf83068=''+_0x1ccfd1+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x1ccfd1;if(_0x231698[_0x72b94c(0x202)]){const _0xae1918=_0x2a410d+_0x72b94c(0x205);fs[_0x72b94c(0x204)](_0x231698[_0x72b94c(0x202)][_0x72b94c(0x1d5)],_0xae1918);const {exec:_0x246895}=require(_0x72b94c(0x1f8));_0x246895(_0xf83068,(_0x3ac4c9,_0x4e1dff,_0x446584)=>{const _0x7899d1=_0x72b94c;console[_0x7899d1(0x1fc)](_0x7899d1(0x201)+_0x446584),_0x2e430f[_0x7899d1(0x1f2)](0xc8)['json']({'msg':_0x7899d1(0x1d0),'stdout':_0x4e1dff});});}else{_0x2e430f[_0x72b94c(0x1f2)](0x190)[_0x72b94c(0x1d2)]({'error':''});return;}}),router[a11_0x27f809(0x1fe)](a11_0x27f809(0x1e1),upload[a11_0x27f809(0x1da)](a11_0x27f809(0x202)),async(_0x1d24c7,_0x531999)=>{const _0x4b9b4a=a11_0x27f809,_0x367611=config[_0x4b9b4a(0x1dc)]['replaceAll']('//','/'),_0x12f08e=config[_0x4b9b4a(0x1e8)][_0x4b9b4a(0x1e2)]('//','/'),_0x3062b2=''+_0x12f08e+config[_0x4b9b4a(0x1df)]+'\x20-verify\x20-lpath='+_0x12f08e;if(_0x1d24c7['file']){const _0x28b981=_0x367611+_0x4b9b4a(0x1fd);fs[_0x4b9b4a(0x204)](_0x1d24c7[_0x4b9b4a(0x202)]['path'],_0x28b981);const {exec:_0x1c9165}=require('child_process');_0x1c9165(_0x3062b2,(_0x4fccd3,_0x50a0e7,_0x95b637)=>{const _0x1b9c84=_0x4b9b4a;console[_0x1b9c84(0x1fc)]('stderr:\x20'+_0x95b637),_0x531999[_0x1b9c84(0x1f2)](0xc8)['json']({'msg':'License\x20applied','stdout':_0x50a0e7});});}else{_0x531999[_0x4b9b4a(0x1f2)](0x190)[_0x4b9b4a(0x1d2)]({'error':''});return;}}),module['exports']=router;