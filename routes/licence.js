const a12_0x592a63=a12_0x2624;(function(_0x5ec295,_0x2b2861){const _0x452614=a12_0x2624,_0x48d2a4=_0x5ec295();while(!![]){try{const _0x101660=parseInt(_0x452614(0xe8))/0x1*(-parseInt(_0x452614(0x109))/0x2)+-parseInt(_0x452614(0x108))/0x3+parseInt(_0x452614(0x115))/0x4+-parseInt(_0x452614(0x11b))/0x5*(parseInt(_0x452614(0x11a))/0x6)+-parseInt(_0x452614(0xf6))/0x7+parseInt(_0x452614(0xfb))/0x8*(parseInt(_0x452614(0xfe))/0x9)+parseInt(_0x452614(0x10f))/0xa*(parseInt(_0x452614(0x112))/0xb);if(_0x101660===_0x2b2861)break;else _0x48d2a4['push'](_0x48d2a4['shift']());}catch(_0x20376e){_0x48d2a4['push'](_0x48d2a4['shift']());}}}(a12_0x26a9,0x1b391));function a12_0x2624(_0x23ec13,_0x34c41e){const _0x26a92b=a12_0x26a9();return a12_0x2624=function(_0x26244d,_0x553d20){_0x26244d=_0x26244d-0xdf;let _0x3c9517=_0x26a92b[_0x26244d];return _0x3c9517;},a12_0x2624(_0x23ec13,_0x34c41e);}const config=require(a12_0x592a63(0x107)),multer=require(a12_0x592a63(0xe6)),express=require('express'),router=express['Router'](),fs=require('fs'),path=require('path'),{randomUUID}=require(a12_0x592a63(0xeb)),{exec}=require(a12_0x592a63(0x105)),dir='./uploads';!fs[a12_0x592a63(0x119)](dir)&&fs['mkdirSync'](dir);function a12_0x26a9(){const _0x280666=['multer','cadviewer/app/js/cvlicense.js','2699fsMEOC','/linklist/applylicense','/dl_lic.key','crypto','writeFileSync','join','/verify','cvKey\x20not\x20found','dirname','uploads','exports','renameSync','/axlic.key','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','637504tPQmne','linklistLocation','Error\x20writing\x20licence\x20to\x20file','stderr:\x20','readFile','8iWCecU','file','autoxchange_executable','1102221ayWleK','converterLocation','filename','License\x20applied','split','/ll_lic.key','diskStorage','child_process','trim','../CADViewer_config.json','644784aCjPLH','22lKzSKl','main','put','error','post','path','1020260BbWccP','dwgmergeLocation','/cvjs/applylicense','33OfgKiY','/dwgmerge/applylicense','\x20-verify\x20-lpath=','624724SEeqDP','status','/autoxchange/applylicense','utf8','existsSync','825204nRJphy','5fwTjtH','replaceAll','cadviewer/app/licence.html','verify','licenseLocation','sendFile','json','single'];a12_0x26a9=function(){return _0x280666;};return a12_0x26a9();}const storage=multer[a12_0x592a63(0x104)]({'destination':function(_0x39b393,_0x2e0ea6,_0x3506e8){const _0x55ecb2=a12_0x592a63;_0x3506e8(null,_0x55ecb2(0xf1));}}),upload=multer({'storage':storage});router['get']('',async(_0x54876e,_0x3e1e8f)=>{const _0x1b7cad=a12_0x592a63;_0x3e1e8f[_0x1b7cad(0xe3)](path[_0x1b7cad(0xed)](path[_0x1b7cad(0xf0)](require[_0x1b7cad(0x10a)]['filename']),_0x1b7cad(0xe0)));}),router['get'](a12_0x592a63(0xee),async(_0x641064,_0x6ccf9b)=>{const _0x420bd6=a12_0x592a63,_0x10c53a=config[_0x420bd6(0xff)][_0x420bd6(0xdf)]('//','/'),_0x32508d=''+_0x10c53a+config[_0x420bd6(0xfd)]+_0x420bd6(0x114)+_0x10c53a,{exec:_0x599cda}=require(_0x420bd6(0x105));fs[_0x420bd6(0xfa)](path[_0x420bd6(0xed)](path['dirname'](require['main'][_0x420bd6(0x100)]),_0x420bd6(0xe7)),_0x420bd6(0x118),(_0x2679da,_0x487ed8)=>{const _0x20e17c=_0x420bd6,_0x540027=/cvKey:\s*"([^']+)"/;let _0x1bf417=[];if(_0x487ed8&&!_0x2679da){const _0x38b61b=_0x487ed8['match'](_0x540027);if(_0x38b61b){const _0x59d91c=_0x38b61b[0x1];_0x1bf417=_0x59d91c[_0x20e17c(0x106)]()[_0x20e17c(0x102)]('\x20');}else console['log'](_0x20e17c(0xef));}_0x599cda(_0x32508d,(_0x43a13e,_0x524084,_0x3cb862)=>{const _0x425ed6=_0x20e17c;console[_0x425ed6(0x10c)]('stderr:\x20'+_0x3cb862),_0x6ccf9b[_0x425ed6(0x116)](0xc8)[_0x425ed6(0xe4)]({'verify':_0x425ed6(0xe1),'stdout':_0x524084,'cvjs':_0x1bf417[_0x425ed6(0xed)]('\x20')});});});}),router[a12_0x592a63(0x10b)](a12_0x592a63(0x111),async(_0x2cd44d,_0x5cc11)=>{const _0x34de93=a12_0x592a63,{cvjs:_0x16e2d8}=_0x2cd44d['body'],_0x38ee08='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x16e2d8+_0x34de93(0xf5);try{fs[_0x34de93(0xec)](path[_0x34de93(0xed)](path[_0x34de93(0xf0)](require[_0x34de93(0x10a)][_0x34de93(0x100)]),_0x34de93(0xe7)),_0x38ee08,{'flag':'w'}),_0x5cc11[_0x34de93(0x116)](0xc8)['json']({'msg':_0x34de93(0x101)});}catch(_0x1d9210){_0x5cc11[_0x34de93(0x116)](0xc8)['json']({'msg':_0x34de93(0xf8)});}}),router['post'](a12_0x592a63(0x117),upload[a12_0x592a63(0xe5)](a12_0x592a63(0xfc)),async(_0x390fdb,_0x39391b)=>{const _0x3efc96=a12_0x592a63,_0x382393=config[_0x3efc96(0xe2)][_0x3efc96(0xdf)]('//','/'),_0x10133d=config[_0x3efc96(0xff)][_0x3efc96(0xdf)]('//','/'),_0x1ddb37=''+_0x10133d+config[_0x3efc96(0xfd)]+_0x3efc96(0x114)+_0x10133d;if(_0x390fdb[_0x3efc96(0xfc)]){const _0x6f98b3=_0x382393+_0x3efc96(0xf4);fs['renameSync'](_0x390fdb[_0x3efc96(0xfc)]['path'],_0x6f98b3);const {exec:_0x4f3e2d}=require(_0x3efc96(0x105));_0x4f3e2d(_0x1ddb37,(_0x4c6af8,_0x10bc43,_0x4c2c88)=>{const _0x9a56a6=_0x3efc96;console[_0x9a56a6(0x10c)]('stderr:\x20'+_0x4c2c88),_0x39391b[_0x9a56a6(0x116)](0xc8)['json']({'msg':_0x9a56a6(0x101),'stdout':_0x10bc43});});}else{_0x39391b[_0x3efc96(0x116)](0x190)[_0x3efc96(0xe4)]({'error':''});return;}}),router[a12_0x592a63(0x10d)](a12_0x592a63(0xe9),upload[a12_0x592a63(0xe5)]('file'),async(_0x5ae951,_0x56d575)=>{const _0x245830=a12_0x592a63,_0x4c4e5e=config[_0x245830(0xf7)]['replaceAll']('//','/'),_0x5ba1cd=config[_0x245830(0xff)][_0x245830(0xdf)]('//','/'),_0x522912=''+_0x5ba1cd+config[_0x245830(0xfd)]+_0x245830(0x114)+_0x5ba1cd;if(_0x5ae951['file']){const _0x225a66=_0x4c4e5e+_0x245830(0x103);fs[_0x245830(0xf3)](_0x5ae951['file'][_0x245830(0x10e)],_0x225a66);const {exec:_0x409938}=require(_0x245830(0x105));_0x409938(_0x522912,(_0x2be4ff,_0x43c822,_0x499731)=>{const _0x399745=_0x245830;console['error'](_0x399745(0xf9)+_0x499731),_0x56d575[_0x399745(0x116)](0xc8)[_0x399745(0xe4)]({'msg':_0x399745(0x101),'stdout':_0x43c822});});}else{_0x56d575[_0x245830(0x116)](0x190)['json']({'error':''});return;}}),router['post'](a12_0x592a63(0x113),upload[a12_0x592a63(0xe5)](a12_0x592a63(0xfc)),async(_0x516a6c,_0x2ba5bc)=>{const _0x1e6e57=a12_0x592a63,_0x5cd672=config[_0x1e6e57(0x110)][_0x1e6e57(0xdf)]('//','/'),_0x19d1d6=config[_0x1e6e57(0xff)][_0x1e6e57(0xdf)]('//','/'),_0x46c1cf=''+_0x19d1d6+config[_0x1e6e57(0xfd)]+_0x1e6e57(0x114)+_0x19d1d6;if(_0x516a6c['file']){const _0x4baba9=_0x5cd672+_0x1e6e57(0xea);fs[_0x1e6e57(0xf3)](_0x516a6c['file'][_0x1e6e57(0x10e)],_0x4baba9);const {exec:_0x30227c}=require(_0x1e6e57(0x105));_0x30227c(_0x46c1cf,(_0x1486d9,_0x1b790c,_0x334b46)=>{const _0x393415=_0x1e6e57;console[_0x393415(0x10c)]('stderr:\x20'+_0x334b46),_0x2ba5bc[_0x393415(0x116)](0xc8)[_0x393415(0xe4)]({'msg':_0x393415(0x101),'stdout':_0x1b790c});});}else{_0x2ba5bc[_0x1e6e57(0x116)](0x190)[_0x1e6e57(0xe4)]({'error':''});return;}}),module[a12_0x592a63(0xf2)]=router;