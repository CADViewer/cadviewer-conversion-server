const a11_0x41542f=a11_0x2f39;function a11_0x2418(){const _0x3917aa=['renameSync','get','\x20-verify\x20-lpath=','verify','file','dwgmergeLocation','16pTrSHm','single','autoxchange_executable','body','sendFile','main','json','/verify','2905443bkTYmk','licenseLocation','./uploads','dirname','/dl_lic.key','path','status','1162448smRsLi','child_process','diskStorage','/dwgmerge/applylicense','../CADViewer_config.json','Router','writeFileSync','/linklist/applylicense','2KtBqGw','join','multer','1891395EKMSrC','2960190JlnuVn','split','731144iQiRIY','stderr:\x20','uploads','error','License\x20applied','linklistLocation','Error\x20writing\x20licence\x20to\x20file','existsSync','24rYrbnI','filename','mkdirSync','replaceAll','1519230PWlSky','cadviewer/app/js/cvlicense.js','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','utf8','express','converterLocation','readFile','394863VVkejP'];a11_0x2418=function(){return _0x3917aa;};return a11_0x2418();}function a11_0x2f39(_0x532519,_0x49479a){const _0x24189f=a11_0x2418();return a11_0x2f39=function(_0x2f39f6,_0xac6397){_0x2f39f6=_0x2f39f6-0x98;let _0x41a063=_0x24189f[_0x2f39f6];return _0x41a063;},a11_0x2f39(_0x532519,_0x49479a);}(function(_0x21c4aa,_0xf1dce7){const _0x5aba8e=a11_0x2f39,_0x57af31=_0x21c4aa();while(!![]){try{const _0xdc5600=parseInt(_0x5aba8e(0xbc))/0x1*(parseInt(_0x5aba8e(0xb6))/0x2)+parseInt(_0x5aba8e(0x98))/0x3*(-parseInt(_0x5aba8e(0xc4))/0x4)+-parseInt(_0x5aba8e(0xb9))/0x5+-parseInt(_0x5aba8e(0xc8))/0x6+parseInt(_0x5aba8e(0xae))/0x7+-parseInt(_0x5aba8e(0x9f))/0x8*(-parseInt(_0x5aba8e(0xa7))/0x9)+parseInt(_0x5aba8e(0xba))/0xa;if(_0xdc5600===_0xf1dce7)break;else _0x57af31['push'](_0x57af31['shift']());}catch(_0x2c1d55){_0x57af31['push'](_0x57af31['shift']());}}}(a11_0x2418,0x65f87));const config=require(a11_0x41542f(0xb2)),multer=require(a11_0x41542f(0xb8)),express=require(a11_0x41542f(0xcc)),router=express[a11_0x41542f(0xb3)](),fs=require('fs'),path=require('path'),{randomUUID}=require('crypto'),{exec}=require(a11_0x41542f(0xaf)),dir=a11_0x41542f(0xa9);!fs[a11_0x41542f(0xc3)](dir)&&fs[a11_0x41542f(0xc6)](dir);const storage=multer[a11_0x41542f(0xb0)]({'destination':function(_0x2b27e5,_0x29b12b,_0x2859c3){const _0xcb57e4=a11_0x41542f;_0x2859c3(null,_0xcb57e4(0xbe));}}),upload=multer({'storage':storage});router[a11_0x41542f(0x9a)]('',async(_0x3bcef7,_0x5cb644)=>{const _0x3201bc=a11_0x41542f;_0x5cb644[_0x3201bc(0xa3)](path[_0x3201bc(0xb7)](path[_0x3201bc(0xaa)](require[_0x3201bc(0xa4)][_0x3201bc(0xc5)]),'cadviewer/app/licence.html'));}),router[a11_0x41542f(0x9a)](a11_0x41542f(0xa6),async(_0x4b3e6c,_0x1b736d)=>{const _0x4023d4=a11_0x41542f,_0x218640=config[_0x4023d4(0xcd)][_0x4023d4(0xc7)]('//','/'),_0x3fab3c=''+_0x218640+config[_0x4023d4(0xa1)]+_0x4023d4(0x9b)+_0x218640,{exec:_0x5ce411}=require('child_process');fs[_0x4023d4(0xce)](path[_0x4023d4(0xb7)](path[_0x4023d4(0xaa)](require[_0x4023d4(0xa4)]['filename']),_0x4023d4(0xc9)),_0x4023d4(0xcb),(_0x25ed0b,_0x1bba1a)=>{const _0x2475f2=_0x4023d4,_0x4a042f=/cvKey:\s*"([^']+)"/;let _0x38f5a8=[];if(_0x1bba1a&&!_0x25ed0b){const _0x40cbdb=_0x1bba1a['match'](_0x4a042f);if(_0x40cbdb){const _0xfb2961=_0x40cbdb[0x1];_0x38f5a8=_0xfb2961['trim']()[_0x2475f2(0xbb)]('\x20');}else console['log']('cvKey\x20not\x20found');}_0x5ce411(_0x3fab3c,(_0x5dd7bc,_0x4a601d,_0x2bbef6)=>{const _0x442633=_0x2475f2;console['error'](_0x442633(0xbd)+_0x2bbef6),_0x1b736d['status'](0xc8)[_0x442633(0xa5)]({'verify':_0x442633(0x9c),'stdout':_0x4a601d,'cvjs':_0x38f5a8[_0x442633(0xb7)]('\x20')});});});}),router['put']('/cvjs/applylicense',async(_0x1a1466,_0x11aaa1)=>{const _0x33bb7f=a11_0x41542f,{cvjs:_0x5f5730}=_0x1a1466[_0x33bb7f(0xa2)],_0x5dcd42=_0x33bb7f(0xca)+_0x5f5730+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs[_0x33bb7f(0xb4)](path[_0x33bb7f(0xb7)](path[_0x33bb7f(0xaa)](require[_0x33bb7f(0xa4)][_0x33bb7f(0xc5)]),_0x33bb7f(0xc9)),_0x5dcd42,{'flag':'w'}),_0x11aaa1[_0x33bb7f(0xad)](0xc8)[_0x33bb7f(0xa5)]({'msg':_0x33bb7f(0xc0)});}catch(_0x4deacb){_0x11aaa1[_0x33bb7f(0xad)](0xc8)[_0x33bb7f(0xa5)]({'msg':_0x33bb7f(0xc2)});}}),router['post']('/autoxchange/applylicense',upload['single'](a11_0x41542f(0x9d)),async(_0x26ba41,_0x4fccd6)=>{const _0x132226=a11_0x41542f,_0x296535=config[_0x132226(0xa8)]['replaceAll']('//','/'),_0x38ae41=config[_0x132226(0xcd)]['replaceAll']('//','/'),_0x71e794=''+_0x38ae41+config[_0x132226(0xa1)]+_0x132226(0x9b)+_0x38ae41;if(_0x26ba41[_0x132226(0x9d)]){const _0x1ad5d8=_0x296535+'/axlic.key';fs[_0x132226(0x99)](_0x26ba41[_0x132226(0x9d)][_0x132226(0xac)],_0x1ad5d8);const {exec:_0x176b13}=require('child_process');_0x176b13(_0x71e794,(_0x8044d4,_0x2f708c,_0x4a4c49)=>{const _0x8c0dc2=_0x132226;console[_0x8c0dc2(0xbf)](_0x8c0dc2(0xbd)+_0x4a4c49),_0x4fccd6[_0x8c0dc2(0xad)](0xc8)[_0x8c0dc2(0xa5)]({'msg':_0x8c0dc2(0xc0),'stdout':_0x2f708c});});}else{_0x4fccd6['status'](0x190)[_0x132226(0xa5)]({'error':''});return;}}),router['post'](a11_0x41542f(0xb5),upload[a11_0x41542f(0xa0)](a11_0x41542f(0x9d)),async(_0x45d838,_0x2fc55d)=>{const _0x832796=a11_0x41542f,_0x506b23=config[_0x832796(0xc1)]['replaceAll']('//','/'),_0x51fe14=config[_0x832796(0xcd)][_0x832796(0xc7)]('//','/'),_0x2ba8b4=''+_0x51fe14+config[_0x832796(0xa1)]+'\x20-verify\x20-lpath='+_0x51fe14;if(_0x45d838[_0x832796(0x9d)]){const _0x57887d=_0x506b23+'/ll_lic.key';fs['renameSync'](_0x45d838[_0x832796(0x9d)][_0x832796(0xac)],_0x57887d);const {exec:_0x5270de}=require(_0x832796(0xaf));_0x5270de(_0x2ba8b4,(_0x5cbf0c,_0x3a462a,_0x2224b2)=>{const _0x3b2693=_0x832796;console[_0x3b2693(0xbf)](_0x3b2693(0xbd)+_0x2224b2),_0x2fc55d[_0x3b2693(0xad)](0xc8)[_0x3b2693(0xa5)]({'msg':_0x3b2693(0xc0),'stdout':_0x3a462a});});}else{_0x2fc55d[_0x832796(0xad)](0x190)[_0x832796(0xa5)]({'error':''});return;}}),router['post'](a11_0x41542f(0xb1),upload[a11_0x41542f(0xa0)](a11_0x41542f(0x9d)),async(_0x32feb9,_0x1fdd5f)=>{const _0xab5d3d=a11_0x41542f,_0x5ed698=config[_0xab5d3d(0x9e)][_0xab5d3d(0xc7)]('//','/'),_0x23aa6a=config[_0xab5d3d(0xcd)][_0xab5d3d(0xc7)]('//','/'),_0x1e47a8=''+_0x23aa6a+config[_0xab5d3d(0xa1)]+'\x20-verify\x20-lpath='+_0x23aa6a;if(_0x32feb9[_0xab5d3d(0x9d)]){const _0x41b61d=_0x5ed698+_0xab5d3d(0xab);fs[_0xab5d3d(0x99)](_0x32feb9[_0xab5d3d(0x9d)]['path'],_0x41b61d);const {exec:_0x5877d7}=require(_0xab5d3d(0xaf));_0x5877d7(_0x1e47a8,(_0x2c205a,_0x35269e,_0xb86b03)=>{const _0x441b34=_0xab5d3d;console[_0x441b34(0xbf)](_0x441b34(0xbd)+_0xb86b03),_0x1fdd5f['status'](0xc8)[_0x441b34(0xa5)]({'msg':_0x441b34(0xc0),'stdout':_0x35269e});});}else{_0x1fdd5f[_0xab5d3d(0xad)](0x190)[_0xab5d3d(0xa5)]({'error':''});return;}}),module['exports']=router;