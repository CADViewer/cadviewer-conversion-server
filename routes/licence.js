const a11_0x37539c=a11_0x2a5d;function a11_0x2a5d(_0x403192,_0x48e266){const _0x3c0207=a11_0x3c02();return a11_0x2a5d=function(_0x2a5d39,_0x4543b8){_0x2a5d39=_0x2a5d39-0x173;let _0x2a16f5=_0x3c0207[_0x2a5d39];return _0x2a16f5;},a11_0x2a5d(_0x403192,_0x48e266);}(function(_0xce53d7,_0x42bf29){const _0x23f87a=a11_0x2a5d,_0x1900ae=_0xce53d7();while(!![]){try{const _0x17fe28=parseInt(_0x23f87a(0x1a0))/0x1+-parseInt(_0x23f87a(0x18c))/0x2+-parseInt(_0x23f87a(0x19c))/0x3+parseInt(_0x23f87a(0x1a4))/0x4+-parseInt(_0x23f87a(0x17b))/0x5+parseInt(_0x23f87a(0x19b))/0x6+parseInt(_0x23f87a(0x188))/0x7*(parseInt(_0x23f87a(0x189))/0x8);if(_0x17fe28===_0x42bf29)break;else _0x1900ae['push'](_0x1900ae['shift']());}catch(_0x5e2536){_0x1900ae['push'](_0x1900ae['shift']());}}}(a11_0x3c02,0x5e7e8));const config=require('../CADViewer_config.json'),multer=require(a11_0x37539c(0x191)),express=require(a11_0x37539c(0x197)),router=express[a11_0x37539c(0x1a3)](),fs=require('fs'),path=require('path'),{randomUUID}=require(a11_0x37539c(0x1a5)),{exec}=require('child_process'),dir=a11_0x37539c(0x18b);!fs[a11_0x37539c(0x181)](dir)&&fs[a11_0x37539c(0x174)](dir);const storage=multer[a11_0x37539c(0x184)]({'destination':function(_0x48c1e1,_0x262ce3,_0x42f803){const _0x3f5cf2=a11_0x37539c;_0x42f803(null,_0x3f5cf2(0x175));}}),upload=multer({'storage':storage});router['get']('',async(_0x2e97dc,_0xaf5172)=>{const _0xf7e0c9=a11_0x37539c;_0xaf5172[_0xf7e0c9(0x199)](path['join'](path[_0xf7e0c9(0x1a2)](require['main'][_0xf7e0c9(0x17f)]),_0xf7e0c9(0x18d)));}),router[a11_0x37539c(0x17c)]('/verify',async(_0x475f80,_0x1c4131)=>{const _0x20d7ce=a11_0x37539c,_0x2e73a9=config['converterLocation']['replaceAll']('//','/'),_0x17e931=''+_0x2e73a9+config[_0x20d7ce(0x19e)]+_0x20d7ce(0x17a)+_0x2e73a9,{exec:_0x1572fb}=require(_0x20d7ce(0x183));fs[_0x20d7ce(0x18a)](path[_0x20d7ce(0x18f)](path[_0x20d7ce(0x1a2)](require[_0x20d7ce(0x190)][_0x20d7ce(0x17f)]),_0x20d7ce(0x19d)),_0x20d7ce(0x173),(_0x43e73f,_0x29054a)=>{const _0x57a400=_0x20d7ce,_0x134116=/cvKey:\s*"([^']+)"/;let _0x2857d2=[];if(_0x29054a&&!_0x43e73f){const _0x418b35=_0x29054a['match'](_0x134116);if(_0x418b35){const _0x30e64a=_0x418b35[0x1];_0x2857d2=_0x30e64a[_0x57a400(0x178)]()['split']('\x20');}else console['log'](_0x57a400(0x196));}_0x1572fb(_0x17e931,(_0x42d108,_0x5ce259,_0x11e94b)=>{const _0x33e970=_0x57a400;console[_0x33e970(0x182)]('stderr:\x20'+_0x11e94b),_0x1c4131[_0x33e970(0x193)](0xc8)['json']({'verify':_0x33e970(0x187),'stdout':_0x5ce259,'cvjs':_0x2857d2[_0x33e970(0x18f)]('\x20')});});});}),router[a11_0x37539c(0x180)](a11_0x37539c(0x185),async(_0x2cfb1f,_0x4e92ce)=>{const _0x25937b=a11_0x37539c,{cvjs:_0x425eb0}=_0x2cfb1f['body'],_0x3d29e9=_0x25937b(0x1a1)+_0x425eb0+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs[_0x25937b(0x179)](path[_0x25937b(0x18f)](path[_0x25937b(0x1a2)](require[_0x25937b(0x190)][_0x25937b(0x17f)]),_0x25937b(0x19d)),_0x3d29e9,{'flag':'w'}),_0x4e92ce[_0x25937b(0x193)](0xc8)[_0x25937b(0x19f)]({'msg':'License\x20applied'});}catch(_0x170881){_0x4e92ce[_0x25937b(0x193)](0xc8)[_0x25937b(0x19f)]({'msg':_0x25937b(0x195)});}}),router[a11_0x37539c(0x17d)]('/autoxchange/applylicense',upload[a11_0x37539c(0x19a)](a11_0x37539c(0x18e)),async(_0x2d3494,_0x3ab69d)=>{const _0x1db66a=a11_0x37539c,_0x783ee2=config['licenseLocation']['replaceAll']('//','/'),_0x101d06=config[_0x1db66a(0x1a6)][_0x1db66a(0x176)]('//','/'),_0x7ed852=''+_0x101d06+config[_0x1db66a(0x19e)]+_0x1db66a(0x17a)+_0x101d06;if(_0x2d3494[_0x1db66a(0x18e)]){const _0xd01987=_0x783ee2+_0x1db66a(0x198);fs[_0x1db66a(0x177)](_0x2d3494['file']['path'],_0xd01987);const {exec:_0x538bd1}=require('child_process');_0x538bd1(_0x7ed852,(_0x53ca1c,_0x510d42,_0x266369)=>{const _0x1ea963=_0x1db66a;console[_0x1ea963(0x182)](_0x1ea963(0x17e)+_0x266369),_0x3ab69d[_0x1ea963(0x193)](0xc8)[_0x1ea963(0x19f)]({'msg':'License\x20applied','stdout':_0x510d42});});}else{_0x3ab69d['status'](0x190)[_0x1db66a(0x19f)]({'error':''});return;}}),router[a11_0x37539c(0x17d)]('/linklist/applylicense',upload['single']('file'),async(_0x264d37,_0x3739ba)=>{const _0x339423=a11_0x37539c,_0x254c47=config['linklistLocation'][_0x339423(0x176)]('//','/'),_0x2f2825=config[_0x339423(0x1a6)][_0x339423(0x176)]('//','/'),_0xc924fe=''+_0x2f2825+config[_0x339423(0x19e)]+_0x339423(0x17a)+_0x2f2825;if(_0x264d37[_0x339423(0x18e)]){const _0x444a98=_0x254c47+'/ll_lic.key';fs[_0x339423(0x177)](_0x264d37[_0x339423(0x18e)][_0x339423(0x186)],_0x444a98);const {exec:_0x196d6c}=require(_0x339423(0x183));_0x196d6c(_0xc924fe,(_0x33fe76,_0x582b2e,_0x105227)=>{const _0xf3ed54=_0x339423;console[_0xf3ed54(0x182)]('stderr:\x20'+_0x105227),_0x3739ba[_0xf3ed54(0x193)](0xc8)[_0xf3ed54(0x19f)]({'msg':_0xf3ed54(0x194),'stdout':_0x582b2e});});}else{_0x3739ba[_0x339423(0x193)](0x190)[_0x339423(0x19f)]({'error':''});return;}}),router['post']('/dwgmerge/applylicense',upload['single']('file'),async(_0x195690,_0x8e12e5)=>{const _0x5b8ee1=a11_0x37539c,_0x39212b=config['dwgmergeLocation'][_0x5b8ee1(0x176)]('//','/'),_0x1d75bc=config[_0x5b8ee1(0x1a6)][_0x5b8ee1(0x176)]('//','/'),_0x358a51=''+_0x1d75bc+config[_0x5b8ee1(0x19e)]+_0x5b8ee1(0x17a)+_0x1d75bc;if(_0x195690['file']){const _0x2d1357=_0x39212b+_0x5b8ee1(0x192);fs['renameSync'](_0x195690[_0x5b8ee1(0x18e)][_0x5b8ee1(0x186)],_0x2d1357);const {exec:_0x3f1a5a}=require(_0x5b8ee1(0x183));_0x3f1a5a(_0x358a51,(_0x37da51,_0x384eb9,_0x434c1e)=>{const _0x15994b=_0x5b8ee1;console[_0x15994b(0x182)]('stderr:\x20'+_0x434c1e),_0x8e12e5[_0x15994b(0x193)](0xc8)[_0x15994b(0x19f)]({'msg':'License\x20applied','stdout':_0x384eb9});});}else{_0x8e12e5[_0x5b8ee1(0x193)](0x190)['json']({'error':''});return;}}),module['exports']=router;function a11_0x3c02(){const _0x43aac4=['/axlic.key','sendFile','single','2231184BDIERo','1871664IBUXhM','cadviewer/app/js/cvlicense.js','autoxchange_executable','json','206304lJrnax','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','dirname','Router','805832DJQzRz','crypto','converterLocation','utf8','mkdirSync','uploads','replaceAll','renameSync','trim','writeFileSync','\x20-verify\x20-lpath=','2707210kvDXuh','get','post','stderr:\x20','filename','put','existsSync','error','child_process','diskStorage','/cvjs/applylicense','path','verify','7CuXeLe','11030456uVXHIc','readFile','./uploads','1212110oXItkS','cadviewer/app/licence.html','file','join','main','multer','/dl_lic.key','status','License\x20applied','Error\x20writing\x20licence\x20to\x20file','cvKey\x20not\x20found','express'];a11_0x3c02=function(){return _0x43aac4;};return a11_0x3c02();}