const a12_0x2ad1dd=a12_0x4d07;(function(_0x3cb7a1,_0x479870){const _0x5a00fc=a12_0x4d07,_0x396de1=_0x3cb7a1();while(!![]){try{const _0xa90d3d=parseInt(_0x5a00fc(0x1f4))/0x1*(parseInt(_0x5a00fc(0x1dc))/0x2)+parseInt(_0x5a00fc(0x1d8))/0x3*(parseInt(_0x5a00fc(0x210))/0x4)+-parseInt(_0x5a00fc(0x1de))/0x5+parseInt(_0x5a00fc(0x1f8))/0x6+-parseInt(_0x5a00fc(0x1ee))/0x7*(-parseInt(_0x5a00fc(0x1f2))/0x8)+-parseInt(_0x5a00fc(0x201))/0x9+-parseInt(_0x5a00fc(0x202))/0xa*(parseInt(_0x5a00fc(0x200))/0xb);if(_0xa90d3d===_0x479870)break;else _0x396de1['push'](_0x396de1['shift']());}catch(_0xf2bad4){_0x396de1['push'](_0x396de1['shift']());}}}(a12_0x47e7,0xe4d83));const config=require('../CADViewer_config.json'),multer=require('multer'),express=require('express'),router=express[a12_0x2ad1dd(0x211)](),fs=require('fs'),path=require(a12_0x2ad1dd(0x1f0)),{randomUUID}=require(a12_0x2ad1dd(0x1ed)),{exec}=require(a12_0x2ad1dd(0x20c)),dir=a12_0x2ad1dd(0x213);!fs[a12_0x2ad1dd(0x1db)](dir)&&fs['mkdirSync'](dir);const storage=multer['diskStorage']({'destination':function(_0x3f6cf2,_0x1601a5,_0x25f2c3){_0x25f2c3(null,'uploads');}}),upload=multer({'storage':storage});function a12_0x4d07(_0x522bac,_0x3d209e){const _0x47e722=a12_0x47e7();return a12_0x4d07=function(_0x4d070e,_0x277708){_0x4d070e=_0x4d070e-0x1d8;let _0x2a4d8c=_0x47e722[_0x4d070e];return _0x2a4d8c;},a12_0x4d07(_0x522bac,_0x3d209e);}function a12_0x47e7(){const _0x3d1034=['cvKey\x20not\x20found','converterLocation','Error\x20writing\x20licence\x20to\x20file','/dl_lic.key','body','match','status','error','stderr:\x20','crypto','1123906vQYQoC','trim','path','licenseLocation','72DEuhBU','single','429931PSDQAE','/axlic.key','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','sendFile','7395984LgnqvA','/cvjs/applylicense','\x20-verify\x20-lpath=','split','post','put','/autoxchange/applylicense','file','81719FJmgax','11677365xIQGaY','1770uxFcYO','get','/dwgmerge/applylicense','dirname','verify','json','readFile','exports','cadviewer/app/js/cvlicense.js','renameSync','child_process','autoxchange_executable','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','log','12QYNNbe','Router','/verify','./uploads','1184529stUJhc','filename','replaceAll','existsSync','4hpQDIY','dwgmergeLocation','5861560QAASQk','join','utf8','main','License\x20applied','cadviewer/app/licence.html'];a12_0x47e7=function(){return _0x3d1034;};return a12_0x47e7();}router[a12_0x2ad1dd(0x203)]('',async(_0x41528b,_0x243ffe)=>{const _0x1332cc=a12_0x2ad1dd;_0x243ffe[_0x1332cc(0x1f7)](path[_0x1332cc(0x1df)](path['dirname'](require['main'][_0x1332cc(0x1d9)]),_0x1332cc(0x1e3)));}),router['get'](a12_0x2ad1dd(0x212),async(_0x5aadfa,_0xcc5e66)=>{const _0x145dee=a12_0x2ad1dd,_0x22856b=config['converterLocation'][_0x145dee(0x1da)]('//','/'),_0x4e7dd1=''+_0x22856b+config[_0x145dee(0x20d)]+'\x20-verify\x20-lpath='+_0x22856b,{exec:_0x1667ca}=require(_0x145dee(0x20c));fs[_0x145dee(0x208)](path[_0x145dee(0x1df)](path[_0x145dee(0x205)](require[_0x145dee(0x1e1)]['filename']),_0x145dee(0x20a)),_0x145dee(0x1e0),(_0x5734b3,_0x2435ac)=>{const _0x3dab7f=_0x145dee,_0x4fe205=/cvKey:\s*"([^']+)"/;let _0x4fef4b=[];if(_0x2435ac&&!_0x5734b3){const _0x336ad2=_0x2435ac[_0x3dab7f(0x1e9)](_0x4fe205);if(_0x336ad2){const _0x3c6de1=_0x336ad2[0x1];_0x4fef4b=_0x3c6de1[_0x3dab7f(0x1ef)]()[_0x3dab7f(0x1fb)]('\x20');}else console[_0x3dab7f(0x20f)](_0x3dab7f(0x1e4));}_0x1667ca(_0x4e7dd1,(_0x437932,_0x334bcc,_0x25fcef)=>{const _0x142554=_0x3dab7f;console[_0x142554(0x1eb)](_0x142554(0x1ec)+_0x25fcef),_0xcc5e66[_0x142554(0x1ea)](0xc8)[_0x142554(0x207)]({'verify':_0x142554(0x206),'stdout':_0x334bcc,'cvjs':_0x4fef4b[_0x142554(0x1df)]('\x20')});});});}),router[a12_0x2ad1dd(0x1fd)](a12_0x2ad1dd(0x1f9),async(_0x3c4390,_0x23664b)=>{const _0x75cfb=a12_0x2ad1dd,{cvjs:_0x2b0cb1}=_0x3c4390[_0x75cfb(0x1e8)],_0x1efa9d=_0x75cfb(0x20e)+_0x2b0cb1+_0x75cfb(0x1f6);try{fs['writeFileSync'](path[_0x75cfb(0x1df)](path[_0x75cfb(0x205)](require[_0x75cfb(0x1e1)][_0x75cfb(0x1d9)]),'cadviewer/app/js/cvlicense.js'),_0x1efa9d,{'flag':'w'}),_0x23664b[_0x75cfb(0x1ea)](0xc8)[_0x75cfb(0x207)]({'msg':'License\x20applied'});}catch(_0x25a43c){_0x23664b[_0x75cfb(0x1ea)](0xc8)[_0x75cfb(0x207)]({'msg':_0x75cfb(0x1e6)});}}),router[a12_0x2ad1dd(0x1fc)](a12_0x2ad1dd(0x1fe),upload[a12_0x2ad1dd(0x1f3)](a12_0x2ad1dd(0x1ff)),async(_0x3d5039,_0x325164)=>{const _0x30b8cb=a12_0x2ad1dd,_0x435907=config[_0x30b8cb(0x1f1)][_0x30b8cb(0x1da)]('//','/'),_0x8c86e9=config['converterLocation'][_0x30b8cb(0x1da)]('//','/'),_0x597af1=''+_0x8c86e9+config[_0x30b8cb(0x20d)]+_0x30b8cb(0x1fa)+_0x8c86e9;if(_0x3d5039[_0x30b8cb(0x1ff)]){const _0x567b78=_0x435907+_0x30b8cb(0x1f5);fs[_0x30b8cb(0x20b)](_0x3d5039[_0x30b8cb(0x1ff)][_0x30b8cb(0x1f0)],_0x567b78);const {exec:_0x18027e}=require('child_process');_0x18027e(_0x597af1,(_0x5e942b,_0x3c1d5b,_0x447672)=>{const _0x58e545=_0x30b8cb;console[_0x58e545(0x1eb)](_0x58e545(0x1ec)+_0x447672),_0x325164[_0x58e545(0x1ea)](0xc8)['json']({'msg':_0x58e545(0x1e2),'stdout':_0x3c1d5b});});}else{_0x325164[_0x30b8cb(0x1ea)](0x190)[_0x30b8cb(0x207)]({'error':''});return;}}),router[a12_0x2ad1dd(0x1fc)]('/linklist/applylicense',upload[a12_0x2ad1dd(0x1f3)](a12_0x2ad1dd(0x1ff)),async(_0x311891,_0x5ee6d0)=>{const _0x2d1d2b=a12_0x2ad1dd,_0x2bd62c=config['linklistLocation'][_0x2d1d2b(0x1da)]('//','/'),_0x10d291=config[_0x2d1d2b(0x1e5)][_0x2d1d2b(0x1da)]('//','/'),_0x2fdf8b=''+_0x10d291+config[_0x2d1d2b(0x20d)]+_0x2d1d2b(0x1fa)+_0x10d291;if(_0x311891[_0x2d1d2b(0x1ff)]){const _0x5caef9=_0x2bd62c+'/ll_lic.key';fs[_0x2d1d2b(0x20b)](_0x311891[_0x2d1d2b(0x1ff)]['path'],_0x5caef9);const {exec:_0x3d045a}=require(_0x2d1d2b(0x20c));_0x3d045a(_0x2fdf8b,(_0x47c65e,_0x3253dd,_0x1ce67a)=>{const _0x461eb4=_0x2d1d2b;console[_0x461eb4(0x1eb)](_0x461eb4(0x1ec)+_0x1ce67a),_0x5ee6d0[_0x461eb4(0x1ea)](0xc8)[_0x461eb4(0x207)]({'msg':'License\x20applied','stdout':_0x3253dd});});}else{_0x5ee6d0['status'](0x190)[_0x2d1d2b(0x207)]({'error':''});return;}}),router[a12_0x2ad1dd(0x1fc)](a12_0x2ad1dd(0x204),upload['single']('file'),async(_0x455e97,_0x30a7bf)=>{const _0xf08608=a12_0x2ad1dd,_0x5ab394=config[_0xf08608(0x1dd)][_0xf08608(0x1da)]('//','/'),_0x123b35=config['converterLocation'][_0xf08608(0x1da)]('//','/'),_0x2e90be=''+_0x123b35+config[_0xf08608(0x20d)]+_0xf08608(0x1fa)+_0x123b35;if(_0x455e97[_0xf08608(0x1ff)]){const _0x3e8227=_0x5ab394+_0xf08608(0x1e7);fs[_0xf08608(0x20b)](_0x455e97[_0xf08608(0x1ff)][_0xf08608(0x1f0)],_0x3e8227);const {exec:_0xba883f}=require('child_process');_0xba883f(_0x2e90be,(_0x5a54d1,_0x20ee5b,_0x481974)=>{const _0x5c6e0c=_0xf08608;console[_0x5c6e0c(0x1eb)](_0x5c6e0c(0x1ec)+_0x481974),_0x30a7bf[_0x5c6e0c(0x1ea)](0xc8)[_0x5c6e0c(0x207)]({'msg':_0x5c6e0c(0x1e2),'stdout':_0x20ee5b});});}else{_0x30a7bf['status'](0x190)[_0xf08608(0x207)]({'error':''});return;}}),module[a12_0x2ad1dd(0x209)]=router;