const a11_0x566982=a11_0x3ffd;function a11_0x3cb4(){const _0x4ef83e=['372sUfNyy','put','writeFileSync','Router','status','linklistLocation','/ll_lic.key','1278753rxmSOd','/linklist/applylicense','exports','stderr:\x20','match','14389752peWVdA','96100XRfOIA','child_process','replaceAll','2680HAICjK','readFile','\x20-verify\x20-lpath=','crypto','get','mkdirSync','../CADViewer_config.json','join','./uploads','file','cadviewer/app/js/cvlicense.js','renameSync','error','dirname','/cvjs/applylicense','3616UjldME','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','1647viajRP','json','Error\x20writing\x20licence\x20to\x20file','autoxchange_executable','main','1484xSuMPk','40BXtpSi','licenseLocation','utf8','cvKey\x20not\x20found','post','converterLocation','12127566Vfymeq','5613ueIJXK','/autoxchange/applylicense','/verify','path','License\x20applied','712tWlsNy','filename','sendFile','single'];a11_0x3cb4=function(){return _0x4ef83e;};return a11_0x3cb4();}(function(_0x5672e5,_0x567e9e){const _0x4f4422=a11_0x3ffd,_0x4acffb=_0x5672e5();while(!![]){try{const _0x4a906a=parseInt(_0x4f4422(0x1d7))/0x1*(-parseInt(_0x4f4422(0x1fa))/0x2)+-parseInt(_0x4f4422(0x1d2))/0x3*(parseInt(_0x4f4422(0x201))/0x4)+parseInt(_0x4f4422(0x1e8))/0x5*(parseInt(_0x4f4422(0x1db))/0x6)+-parseInt(_0x4f4422(0x1e2))/0x7*(parseInt(_0x4f4422(0x202))/0x8)+parseInt(_0x4f4422(0x1fc))/0x9*(parseInt(_0x4f4422(0x1eb))/0xa)+parseInt(_0x4f4422(0x1d1))/0xb+parseInt(_0x4f4422(0x1e7))/0xc;if(_0x4a906a===_0x567e9e)break;else _0x4acffb['push'](_0x4acffb['shift']());}catch(_0x24b7a4){_0x4acffb['push'](_0x4acffb['shift']());}}}(a11_0x3cb4,0x9e150));const config=require(a11_0x566982(0x1f1)),multer=require('multer'),express=require('express'),router=express[a11_0x566982(0x1de)](),fs=require('fs'),path=require(a11_0x566982(0x1d5)),{randomUUID}=require(a11_0x566982(0x1ee)),{exec}=require(a11_0x566982(0x1e9)),dir=a11_0x566982(0x1f3);!fs['existsSync'](dir)&&fs[a11_0x566982(0x1f0)](dir);const storage=multer['diskStorage']({'destination':function(_0x26136c,_0xaf6e70,_0x175eeb){_0x175eeb(null,'uploads');}}),upload=multer({'storage':storage});function a11_0x3ffd(_0x191d06,_0x1f7c10){const _0x3cb48b=a11_0x3cb4();return a11_0x3ffd=function(_0x3ffd32,_0x4fbbcc){_0x3ffd32=_0x3ffd32-0x1cd;let _0x4b49a8=_0x3cb48b[_0x3ffd32];return _0x4b49a8;},a11_0x3ffd(_0x191d06,_0x1f7c10);}router[a11_0x566982(0x1ef)]('',async(_0x9cc631,_0xd1746a)=>{const _0x35c938=a11_0x566982;_0xd1746a[_0x35c938(0x1d9)](path['join'](path[_0x35c938(0x1f8)](require[_0x35c938(0x200)][_0x35c938(0x1d8)]),'cadviewer/app/licence.html'));}),router[a11_0x566982(0x1ef)](a11_0x566982(0x1d4),async(_0x1658c1,_0x35aa52)=>{const _0x1c5ac9=a11_0x566982,_0x590b5d=config[_0x1c5ac9(0x1d0)][_0x1c5ac9(0x1ea)]('//','/'),_0x458612=''+_0x590b5d+config[_0x1c5ac9(0x1ff)]+_0x1c5ac9(0x1ed)+_0x590b5d,{exec:_0x8ed67}=require(_0x1c5ac9(0x1e9));fs[_0x1c5ac9(0x1ec)](path[_0x1c5ac9(0x1f2)](path[_0x1c5ac9(0x1f8)](require[_0x1c5ac9(0x200)][_0x1c5ac9(0x1d8)]),_0x1c5ac9(0x1f5)),_0x1c5ac9(0x1cd),(_0x188d33,_0x168e3a)=>{const _0x5cbb8c=_0x1c5ac9,_0x2679ec=/cvKey:\s*"([^']+)"/;let _0x127024=[];if(_0x168e3a&&!_0x188d33){const _0x342213=_0x168e3a[_0x5cbb8c(0x1e6)](_0x2679ec);if(_0x342213){const _0x4a6c4a=_0x342213[0x1];_0x127024=_0x4a6c4a['trim']()['split']('\x20');}else console['log'](_0x5cbb8c(0x1ce));}_0x8ed67(_0x458612,(_0xda879f,_0x30d897,_0x5e0903)=>{const _0x48da04=_0x5cbb8c;console[_0x48da04(0x1f7)](_0x48da04(0x1e5)+_0x5e0903),_0x35aa52[_0x48da04(0x1df)](0xc8)[_0x48da04(0x1fd)]({'verify':'verify','stdout':_0x30d897,'cvjs':_0x127024[_0x48da04(0x1f2)]('\x20')});});});}),router[a11_0x566982(0x1dc)](a11_0x566982(0x1f9),async(_0x495eb1,_0x2f6b74)=>{const _0x2a204d=a11_0x566982,{cvjs:_0x2c1131}=_0x495eb1['body'],_0x516717='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x2c1131+_0x2a204d(0x1fb);try{fs[_0x2a204d(0x1dd)](path['join'](path[_0x2a204d(0x1f8)](require[_0x2a204d(0x200)]['filename']),_0x2a204d(0x1f5)),_0x516717,{'flag':'w'}),_0x2f6b74[_0x2a204d(0x1df)](0xc8)[_0x2a204d(0x1fd)]({'msg':'License\x20applied'});}catch(_0x3df1bf){_0x2f6b74[_0x2a204d(0x1df)](0xc8)[_0x2a204d(0x1fd)]({'msg':_0x2a204d(0x1fe)});}}),router[a11_0x566982(0x1cf)](a11_0x566982(0x1d3),upload[a11_0x566982(0x1da)](a11_0x566982(0x1f4)),async(_0x333d8e,_0x2b5006)=>{const _0x6e8ec1=a11_0x566982,_0x593372=config[_0x6e8ec1(0x203)][_0x6e8ec1(0x1ea)]('//','/'),_0x25c546=config[_0x6e8ec1(0x1d0)][_0x6e8ec1(0x1ea)]('//','/'),_0x5376a2=''+_0x25c546+config[_0x6e8ec1(0x1ff)]+_0x6e8ec1(0x1ed)+_0x25c546;if(_0x333d8e['file']){const _0x2d24b1=_0x593372+'/axlic.key';fs[_0x6e8ec1(0x1f6)](_0x333d8e[_0x6e8ec1(0x1f4)][_0x6e8ec1(0x1d5)],_0x2d24b1);const {exec:_0x16163f}=require(_0x6e8ec1(0x1e9));_0x16163f(_0x5376a2,(_0x380885,_0x5ccf47,_0x2aec96)=>{const _0x1a9180=_0x6e8ec1;console[_0x1a9180(0x1f7)]('stderr:\x20'+_0x2aec96),_0x2b5006[_0x1a9180(0x1df)](0xc8)['json']({'msg':_0x1a9180(0x1d6),'stdout':_0x5ccf47});});}else{_0x2b5006[_0x6e8ec1(0x1df)](0x190)[_0x6e8ec1(0x1fd)]({'error':''});return;}}),router[a11_0x566982(0x1cf)](a11_0x566982(0x1e3),upload[a11_0x566982(0x1da)]('file'),async(_0xfe25d6,_0x562f3c)=>{const _0x4ca97c=a11_0x566982,_0x350d6b=config[_0x4ca97c(0x1e0)][_0x4ca97c(0x1ea)]('//','/'),_0x13a151=config['converterLocation'][_0x4ca97c(0x1ea)]('//','/'),_0x47ed8f=''+_0x13a151+config[_0x4ca97c(0x1ff)]+_0x4ca97c(0x1ed)+_0x13a151;if(_0xfe25d6[_0x4ca97c(0x1f4)]){const _0x42251b=_0x350d6b+_0x4ca97c(0x1e1);fs[_0x4ca97c(0x1f6)](_0xfe25d6[_0x4ca97c(0x1f4)][_0x4ca97c(0x1d5)],_0x42251b);const {exec:_0x544188}=require('child_process');_0x544188(_0x47ed8f,(_0x320495,_0x55b6c9,_0x46237c)=>{const _0x281e84=_0x4ca97c;console[_0x281e84(0x1f7)]('stderr:\x20'+_0x46237c),_0x562f3c[_0x281e84(0x1df)](0xc8)[_0x281e84(0x1fd)]({'msg':_0x281e84(0x1d6),'stdout':_0x55b6c9});});}else{_0x562f3c[_0x4ca97c(0x1df)](0x190)['json']({'error':''});return;}}),router[a11_0x566982(0x1cf)]('/dwgmerge/applylicense',upload[a11_0x566982(0x1da)](a11_0x566982(0x1f4)),async(_0x2146e7,_0x4f93ab)=>{const _0xfb016d=a11_0x566982,_0x11be3f=config['dwgmergeLocation'][_0xfb016d(0x1ea)]('//','/'),_0xe9866e=config['converterLocation'][_0xfb016d(0x1ea)]('//','/'),_0x11b22f=''+_0xe9866e+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0xe9866e;if(_0x2146e7[_0xfb016d(0x1f4)]){const _0x11ba36=_0x11be3f+'/dl_lic.key';fs[_0xfb016d(0x1f6)](_0x2146e7['file']['path'],_0x11ba36);const {exec:_0x4a96f8}=require(_0xfb016d(0x1e9));_0x4a96f8(_0x11b22f,(_0x19dc9a,_0x58efd1,_0x54cf83)=>{const _0x4210ac=_0xfb016d;console[_0x4210ac(0x1f7)](_0x4210ac(0x1e5)+_0x54cf83),_0x4f93ab[_0x4210ac(0x1df)](0xc8)[_0x4210ac(0x1fd)]({'msg':'License\x20applied','stdout':_0x58efd1});});}else{_0x4f93ab['status'](0x190)[_0xfb016d(0x1fd)]({'error':''});return;}}),module[a11_0x566982(0x1e4)]=router;