const a11_0x2750a1=a11_0x2e59;(function(_0x56a6ab,_0x71429){const _0x3ddafe=a11_0x2e59,_0x1b512e=_0x56a6ab();while(!![]){try{const _0x52ccad=-parseInt(_0x3ddafe(0x12c))/0x1*(-parseInt(_0x3ddafe(0x121))/0x2)+-parseInt(_0x3ddafe(0xfb))/0x3*(parseInt(_0x3ddafe(0x130))/0x4)+parseInt(_0x3ddafe(0x109))/0x5*(-parseInt(_0x3ddafe(0x120))/0x6)+parseInt(_0x3ddafe(0x117))/0x7*(-parseInt(_0x3ddafe(0x136))/0x8)+-parseInt(_0x3ddafe(0x116))/0x9*(-parseInt(_0x3ddafe(0x123))/0xa)+-parseInt(_0x3ddafe(0x135))/0xb*(parseInt(_0x3ddafe(0xfd))/0xc)+parseInt(_0x3ddafe(0x12f))/0xd;if(_0x52ccad===_0x71429)break;else _0x1b512e['push'](_0x1b512e['shift']());}catch(_0xb9f694){_0x1b512e['push'](_0x1b512e['shift']());}}}(a11_0x20f6,0x95d52));const config=require(a11_0x2750a1(0x114)),multer=require(a11_0x2750a1(0x11c)),express=require('express'),router=express[a11_0x2750a1(0xfc)](),fs=require('fs'),path=require(a11_0x2750a1(0x11e)),{randomUUID}=require(a11_0x2750a1(0x106)),{exec}=require('child_process'),dir=a11_0x2750a1(0x134);!fs[a11_0x2750a1(0x10f)](dir)&&fs[a11_0x2750a1(0xfe)](dir);function a11_0x20f6(){const _0x35cc34=['filename','stderr:\x20','/ll_lic.key','existsSync','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','cvKey\x20not\x20found','dirname','post','../CADViewer_config.json','linklistLocation','59526BWqtDc','125531BSQIic','converterLocation','uploads','dwgmergeLocation','diskStorage','multer','/axlic.key','path','writeFileSync','12dALqVQ','2OVNRJi','licenseLocation','1790neKZtq','readFile','/verify','get','/dwgmerge/applylicense','error','Error\x20writing\x20licence\x20to\x20file','\x20-verify\x20-lpath=','/linklist/applylicense','344154YsxlGh','single','License\x20applied','18615441Ajrtqt','136952yZqRha','trim','child_process','replaceAll','./uploads','528hEIMQs','536rYEIBL','file','51AsHhab','Router','108768vIootv','mkdirSync','utf8','status','renameSync','join','json','/cvjs/applylicense','main','crypto','cadviewer/app/js/cvlicense.js','body','319185VgCVQJ','match','autoxchange_executable'];a11_0x20f6=function(){return _0x35cc34;};return a11_0x20f6();}const storage=multer[a11_0x2750a1(0x11b)]({'destination':function(_0x1acf40,_0x42bf3e,_0x4ccace){const _0x3877eb=a11_0x2750a1;_0x4ccace(null,_0x3877eb(0x119));}}),upload=multer({'storage':storage});function a11_0x2e59(_0x45aa12,_0xcf5ca1){const _0x20f6d5=a11_0x20f6();return a11_0x2e59=function(_0x2e59d3,_0x3db943){_0x2e59d3=_0x2e59d3-0xfa;let _0x5e1079=_0x20f6d5[_0x2e59d3];return _0x5e1079;},a11_0x2e59(_0x45aa12,_0xcf5ca1);}router[a11_0x2750a1(0x126)]('',async(_0x416457,_0x5daadc)=>{const _0x29d99f=a11_0x2750a1;_0x5daadc['sendFile'](path[_0x29d99f(0x102)](path['dirname'](require[_0x29d99f(0x105)][_0x29d99f(0x10c)]),'cadviewer/app/licence.html'));}),router[a11_0x2750a1(0x126)](a11_0x2750a1(0x125),async(_0x450318,_0x5557c0)=>{const _0x58956c=a11_0x2750a1,_0x2c1cc8=config[_0x58956c(0x118)]['replaceAll']('//','/'),_0x640193=''+_0x2c1cc8+config[_0x58956c(0x10b)]+_0x58956c(0x12a)+_0x2c1cc8,{exec:_0x2a6250}=require(_0x58956c(0x132));fs[_0x58956c(0x124)](path[_0x58956c(0x102)](path['dirname'](require[_0x58956c(0x105)]['filename']),_0x58956c(0x107)),_0x58956c(0xff),(_0x163de0,_0x13391b)=>{const _0x4b3224=_0x58956c,_0x333dc5=/cvKey:\s*"([^']+)"/;let _0x4c7b22=[];if(_0x13391b&&!_0x163de0){const _0x3ee911=_0x13391b[_0x4b3224(0x10a)](_0x333dc5);if(_0x3ee911){const _0x5803da=_0x3ee911[0x1];_0x4c7b22=_0x5803da[_0x4b3224(0x131)]()['split']('\x20');}else console['log'](_0x4b3224(0x111));}_0x2a6250(_0x640193,(_0x45c7bc,_0x5dfcfc,_0x4d805d)=>{const _0x567039=_0x4b3224;console[_0x567039(0x128)](_0x567039(0x10d)+_0x4d805d),_0x5557c0[_0x567039(0x100)](0xc8)[_0x567039(0x103)]({'verify':'verify','stdout':_0x5dfcfc,'cvjs':_0x4c7b22[_0x567039(0x102)]('\x20')});});});}),router['put'](a11_0x2750a1(0x104),async(_0x2f6576,_0x2b0279)=>{const _0x184e6a=a11_0x2750a1,{cvjs:_0x428085}=_0x2f6576[_0x184e6a(0x108)],_0x1ba6bf=_0x184e6a(0x110)+_0x428085+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs[_0x184e6a(0x11f)](path[_0x184e6a(0x102)](path[_0x184e6a(0x112)](require[_0x184e6a(0x105)][_0x184e6a(0x10c)]),_0x184e6a(0x107)),_0x1ba6bf,{'flag':'w'}),_0x2b0279[_0x184e6a(0x100)](0xc8)[_0x184e6a(0x103)]({'msg':_0x184e6a(0x12e)});}catch(_0x267b9b){_0x2b0279[_0x184e6a(0x100)](0xc8)['json']({'msg':_0x184e6a(0x129)});}}),router['post']('/autoxchange/applylicense',upload[a11_0x2750a1(0x12d)](a11_0x2750a1(0xfa)),async(_0xaccc3e,_0x1fdc24)=>{const _0x51e9b5=a11_0x2750a1,_0x4d82da=config[_0x51e9b5(0x122)][_0x51e9b5(0x133)]('//','/'),_0x264a6a=config['converterLocation'][_0x51e9b5(0x133)]('//','/'),_0x4689cd=''+_0x264a6a+config[_0x51e9b5(0x10b)]+'\x20-verify\x20-lpath='+_0x264a6a;if(_0xaccc3e['file']){const _0x1c6b2c=_0x4d82da+_0x51e9b5(0x11d);fs[_0x51e9b5(0x101)](_0xaccc3e[_0x51e9b5(0xfa)][_0x51e9b5(0x11e)],_0x1c6b2c);const {exec:_0x32f184}=require(_0x51e9b5(0x132));_0x32f184(_0x4689cd,(_0x3d484c,_0x4f4af4,_0x4fcc22)=>{const _0xa3e7df=_0x51e9b5;console[_0xa3e7df(0x128)](_0xa3e7df(0x10d)+_0x4fcc22),_0x1fdc24[_0xa3e7df(0x100)](0xc8)[_0xa3e7df(0x103)]({'msg':_0xa3e7df(0x12e),'stdout':_0x4f4af4});});}else{_0x1fdc24[_0x51e9b5(0x100)](0x190)['json']({'error':''});return;}}),router[a11_0x2750a1(0x113)](a11_0x2750a1(0x12b),upload['single'](a11_0x2750a1(0xfa)),async(_0x1f9e7e,_0x559046)=>{const _0x7e6d95=a11_0x2750a1,_0x2fd342=config[_0x7e6d95(0x115)][_0x7e6d95(0x133)]('//','/'),_0x1e4fab=config['converterLocation'][_0x7e6d95(0x133)]('//','/'),_0x4fc363=''+_0x1e4fab+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x1e4fab;if(_0x1f9e7e[_0x7e6d95(0xfa)]){const _0x2cd65f=_0x2fd342+_0x7e6d95(0x10e);fs[_0x7e6d95(0x101)](_0x1f9e7e['file']['path'],_0x2cd65f);const {exec:_0x142934}=require(_0x7e6d95(0x132));_0x142934(_0x4fc363,(_0x5419bc,_0x167ed7,_0x4a3afb)=>{const _0x4e2062=_0x7e6d95;console[_0x4e2062(0x128)](_0x4e2062(0x10d)+_0x4a3afb),_0x559046['status'](0xc8)['json']({'msg':_0x4e2062(0x12e),'stdout':_0x167ed7});});}else{_0x559046[_0x7e6d95(0x100)](0x190)[_0x7e6d95(0x103)]({'error':''});return;}}),router['post'](a11_0x2750a1(0x127),upload[a11_0x2750a1(0x12d)](a11_0x2750a1(0xfa)),async(_0x13e65b,_0x5c9323)=>{const _0x5dced6=a11_0x2750a1,_0x4afa01=config[_0x5dced6(0x11a)][_0x5dced6(0x133)]('//','/'),_0x45ba6d=config[_0x5dced6(0x118)][_0x5dced6(0x133)]('//','/'),_0x5da201=''+_0x45ba6d+config[_0x5dced6(0x10b)]+_0x5dced6(0x12a)+_0x45ba6d;if(_0x13e65b[_0x5dced6(0xfa)]){const _0x9f23d8=_0x4afa01+'/dl_lic.key';fs['renameSync'](_0x13e65b[_0x5dced6(0xfa)][_0x5dced6(0x11e)],_0x9f23d8);const {exec:_0x4f53d8}=require(_0x5dced6(0x132));_0x4f53d8(_0x5da201,(_0x20e9d0,_0x3aeb30,_0x1395dc)=>{const _0x27d20b=_0x5dced6;console['error'](_0x27d20b(0x10d)+_0x1395dc),_0x5c9323[_0x27d20b(0x100)](0xc8)[_0x27d20b(0x103)]({'msg':_0x27d20b(0x12e),'stdout':_0x3aeb30});});}else{_0x5c9323[_0x5dced6(0x100)](0x190)[_0x5dced6(0x103)]({'error':''});return;}}),module['exports']=router;