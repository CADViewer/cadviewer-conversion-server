const a11_0x443b97=a11_0x2a29;(function(_0x209f28,_0x297fcd){const _0xae6223=a11_0x2a29,_0x2aab75=_0x209f28();while(!![]){try{const _0x30d826=-parseInt(_0xae6223(0x1b0))/0x1+-parseInt(_0xae6223(0x1bf))/0x2+parseInt(_0xae6223(0x1cb))/0x3*(-parseInt(_0xae6223(0x1a2))/0x4)+-parseInt(_0xae6223(0x1c9))/0x5*(parseInt(_0xae6223(0x1c1))/0x6)+parseInt(_0xae6223(0x1bd))/0x7+parseInt(_0xae6223(0x1d1))/0x8+parseInt(_0xae6223(0x1a5))/0x9;if(_0x30d826===_0x297fcd)break;else _0x2aab75['push'](_0x2aab75['shift']());}catch(_0x29b539){_0x2aab75['push'](_0x2aab75['shift']());}}}(a11_0x3995,0xa8e52));const config=require('../CADViewer_config.json'),multer=require('multer'),express=require(a11_0x443b97(0x1ce)),router=express[a11_0x443b97(0x1d2)](),fs=require('fs'),path=require(a11_0x443b97(0x1ab)),{randomUUID}=require(a11_0x443b97(0x1a0)),{exec}=require(a11_0x443b97(0x1af)),dir=a11_0x443b97(0x1c4);function a11_0x3995(){const _0x4c9c0e=['14637015Seziot','filename','put','diskStorage','json','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','path','\x20-verify\x20-lpath=','licenseLocation','renameSync','child_process','690364jOZSjV','join','mkdirSync','/autoxchange/applylicense','sendFile','post','status','utf8','error','stderr:\x20','License\x20applied','autoxchange_executable','dwgmergeLocation','2584848puujuu','/cvjs/applylicense','1018966QJUPlR','replaceAll','24hsxBbn','cvKey\x20not\x20found','/dl_lic.key','./uploads','Error\x20writing\x20licence\x20to\x20file','exports','cadviewer/app/js/cvlicense.js','get','143065uNyuTp','existsSync','189iCUsWb','verify','/dwgmerge/applylicense','express','trim','file','8730072qfRVyQ','Router','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','dirname','writeFileSync','single','crypto','converterLocation','68620nMeMxj','main','/axlic.key'];a11_0x3995=function(){return _0x4c9c0e;};return a11_0x3995();}!fs[a11_0x443b97(0x1ca)](dir)&&fs[a11_0x443b97(0x1b2)](dir);function a11_0x2a29(_0x1eb762,_0x265c7e){const _0x3995da=a11_0x3995();return a11_0x2a29=function(_0x2a29bb,_0x3cc948){_0x2a29bb=_0x2a29bb-0x19c;let _0xfb867c=_0x3995da[_0x2a29bb];return _0xfb867c;},a11_0x2a29(_0x1eb762,_0x265c7e);}const storage=multer[a11_0x443b97(0x1a8)]({'destination':function(_0x3fb2b7,_0x120709,_0x573cbf){_0x573cbf(null,'uploads');}}),upload=multer({'storage':storage});router[a11_0x443b97(0x1c8)]('',async(_0x4c9c88,_0x19eb41)=>{const _0x24d452=a11_0x443b97;_0x19eb41[_0x24d452(0x1b4)](path[_0x24d452(0x1b1)](path[_0x24d452(0x19d)](require['main'][_0x24d452(0x1a6)]),'cadviewer/app/licence.html'));}),router[a11_0x443b97(0x1c8)]('/verify',async(_0x16a330,_0x425472)=>{const _0x4a867f=a11_0x443b97,_0x488aa2=config[_0x4a867f(0x1a1)][_0x4a867f(0x1c0)]('//','/'),_0x17e9e5=''+_0x488aa2+config[_0x4a867f(0x1bb)]+_0x4a867f(0x1ac)+_0x488aa2,{exec:_0x355f17}=require(_0x4a867f(0x1af));fs['readFile'](path[_0x4a867f(0x1b1)](path[_0x4a867f(0x19d)](require[_0x4a867f(0x1a3)]['filename']),_0x4a867f(0x1c7)),_0x4a867f(0x1b7),(_0x4722ce,_0x4af2f6)=>{const _0xa3926e=_0x4a867f,_0xa5c66=/cvKey:\s*"([^']+)"/;let _0x211a4f=[];if(_0x4af2f6&&!_0x4722ce){const _0x394176=_0x4af2f6['match'](_0xa5c66);if(_0x394176){const _0x2f78a3=_0x394176[0x1];_0x211a4f=_0x2f78a3[_0xa3926e(0x1cf)]()['split']('\x20');}else console['log'](_0xa3926e(0x1c2));}_0x355f17(_0x17e9e5,(_0x34188e,_0x373abc,_0x42a7b2)=>{const _0x16d1ad=_0xa3926e;console[_0x16d1ad(0x1b8)]('stderr:\x20'+_0x42a7b2),_0x425472[_0x16d1ad(0x1b6)](0xc8)[_0x16d1ad(0x1a9)]({'verify':_0x16d1ad(0x1cc),'stdout':_0x373abc,'cvjs':_0x211a4f['join']('\x20')});});});}),router[a11_0x443b97(0x1a7)](a11_0x443b97(0x1be),async(_0x1f20d3,_0x56da6f)=>{const _0x258d5d=a11_0x443b97,{cvjs:_0x1410ad}=_0x1f20d3['body'],_0x5d23ad=_0x258d5d(0x1aa)+_0x1410ad+_0x258d5d(0x19c);try{fs[_0x258d5d(0x19e)](path[_0x258d5d(0x1b1)](path[_0x258d5d(0x19d)](require[_0x258d5d(0x1a3)][_0x258d5d(0x1a6)]),_0x258d5d(0x1c7)),_0x5d23ad,{'flag':'w'}),_0x56da6f['status'](0xc8)[_0x258d5d(0x1a9)]({'msg':_0x258d5d(0x1ba)});}catch(_0x2f678b){_0x56da6f[_0x258d5d(0x1b6)](0xc8)[_0x258d5d(0x1a9)]({'msg':_0x258d5d(0x1c5)});}}),router['post'](a11_0x443b97(0x1b3),upload[a11_0x443b97(0x19f)]('file'),async(_0x4b64e8,_0x38b0d4)=>{const _0x139953=a11_0x443b97,_0x468edc=config[_0x139953(0x1ad)][_0x139953(0x1c0)]('//','/'),_0x274d0a=config[_0x139953(0x1a1)][_0x139953(0x1c0)]('//','/'),_0x4f567e=''+_0x274d0a+config[_0x139953(0x1bb)]+_0x139953(0x1ac)+_0x274d0a;if(_0x4b64e8[_0x139953(0x1d0)]){const _0x33ad32=_0x468edc+_0x139953(0x1a4);fs[_0x139953(0x1ae)](_0x4b64e8[_0x139953(0x1d0)][_0x139953(0x1ab)],_0x33ad32);const {exec:_0xfdfe28}=require(_0x139953(0x1af));_0xfdfe28(_0x4f567e,(_0x30a58e,_0x252ab3,_0x4311f9)=>{const _0x34713a=_0x139953;console['error'](_0x34713a(0x1b9)+_0x4311f9),_0x38b0d4[_0x34713a(0x1b6)](0xc8)['json']({'msg':_0x34713a(0x1ba),'stdout':_0x252ab3});});}else{_0x38b0d4['status'](0x190)[_0x139953(0x1a9)]({'error':''});return;}}),router['post']('/linklist/applylicense',upload['single'](a11_0x443b97(0x1d0)),async(_0x55f00a,_0x27c176)=>{const _0x3a593b=a11_0x443b97,_0x3ec2bb=config['linklistLocation']['replaceAll']('//','/'),_0x282cc1=config[_0x3a593b(0x1a1)][_0x3a593b(0x1c0)]('//','/'),_0x1a5e9a=''+_0x282cc1+config[_0x3a593b(0x1bb)]+'\x20-verify\x20-lpath='+_0x282cc1;if(_0x55f00a['file']){const _0x33f07a=_0x3ec2bb+'/ll_lic.key';fs[_0x3a593b(0x1ae)](_0x55f00a['file'][_0x3a593b(0x1ab)],_0x33f07a);const {exec:_0x82730f}=require(_0x3a593b(0x1af));_0x82730f(_0x1a5e9a,(_0x15db29,_0xa16bab,_0x3bce8c)=>{const _0x5e2ef1=_0x3a593b;console[_0x5e2ef1(0x1b8)]('stderr:\x20'+_0x3bce8c),_0x27c176[_0x5e2ef1(0x1b6)](0xc8)[_0x5e2ef1(0x1a9)]({'msg':_0x5e2ef1(0x1ba),'stdout':_0xa16bab});});}else{_0x27c176[_0x3a593b(0x1b6)](0x190)[_0x3a593b(0x1a9)]({'error':''});return;}}),router[a11_0x443b97(0x1b5)](a11_0x443b97(0x1cd),upload['single']('file'),async(_0x222202,_0x15acfc)=>{const _0x2cfc9d=a11_0x443b97,_0x50a156=config[_0x2cfc9d(0x1bc)][_0x2cfc9d(0x1c0)]('//','/'),_0x3d1104=config[_0x2cfc9d(0x1a1)]['replaceAll']('//','/'),_0x4bc35d=''+_0x3d1104+config[_0x2cfc9d(0x1bb)]+_0x2cfc9d(0x1ac)+_0x3d1104;if(_0x222202[_0x2cfc9d(0x1d0)]){const _0x50f533=_0x50a156+_0x2cfc9d(0x1c3);fs[_0x2cfc9d(0x1ae)](_0x222202['file']['path'],_0x50f533);const {exec:_0x25d341}=require(_0x2cfc9d(0x1af));_0x25d341(_0x4bc35d,(_0x73f7be,_0x1803d2,_0x4f40b2)=>{const _0x3161df=_0x2cfc9d;console[_0x3161df(0x1b8)]('stderr:\x20'+_0x4f40b2),_0x15acfc[_0x3161df(0x1b6)](0xc8)[_0x3161df(0x1a9)]({'msg':_0x3161df(0x1ba),'stdout':_0x1803d2});});}else{_0x15acfc[_0x2cfc9d(0x1b6)](0x190)[_0x2cfc9d(0x1a9)]({'error':''});return;}}),module[a11_0x443b97(0x1c6)]=router;