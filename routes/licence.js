const a11_0x49276f=a11_0x2fca;(function(_0x10f677,_0xb2ec57){const _0x51833a=a11_0x2fca,_0x3ebaad=_0x10f677();while(!![]){try{const _0x559cbb=parseInt(_0x51833a(0xad))/0x1*(parseInt(_0x51833a(0xaa))/0x2)+-parseInt(_0x51833a(0x9b))/0x3*(parseInt(_0x51833a(0x91))/0x4)+-parseInt(_0x51833a(0xa9))/0x5*(-parseInt(_0x51833a(0x98))/0x6)+-parseInt(_0x51833a(0xb6))/0x7*(-parseInt(_0x51833a(0xab))/0x8)+-parseInt(_0x51833a(0xb7))/0x9+-parseInt(_0x51833a(0xa1))/0xa+parseInt(_0x51833a(0x85))/0xb;if(_0x559cbb===_0xb2ec57)break;else _0x3ebaad['push'](_0x3ebaad['shift']());}catch(_0x58dd28){_0x3ebaad['push'](_0x3ebaad['shift']());}}}(a11_0x1830,0x74183));const config=require(a11_0x49276f(0x87)),multer=require(a11_0x49276f(0xa7)),express=require(a11_0x49276f(0xa6)),router=express[a11_0x49276f(0xae)](),fs=require('fs'),path=require(a11_0x49276f(0xba)),{randomUUID}=require(a11_0x49276f(0xa5)),{exec}=require(a11_0x49276f(0xaf)),dir=a11_0x49276f(0x90);function a11_0x1830(){const _0x2208f4=['json','dwgmergeLocation','16835rWnlqw','2239875KksQJs','existsSync','utf8','path','replaceAll','verify','match','mkdirSync','get','2160631oESDRc','log','../CADViewer_config.json','trim','filename','uploads','error','Error\x20writing\x20licence\x20to\x20file','/axlic.key','converterLocation','file','./uploads','224tTbqSE','exports','body','dirname','renameSync','status','/autoxchange/applylicense','3548280BiVbCs','/ll_lic.key','put','30126vtXovx','main','single','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','stderr:\x20','join','6164570tmiWPY','License\x20applied','/cvjs/applylicense','split','crypto','express','multer','/linklist/applylicense','5ONIjet','71872myOElQ','1200sJQQSO','autoxchange_executable','21JXYxuy','Router','child_process','\x20-verify\x20-lpath=','readFile','cadviewer/app/js/cvlicense.js','/verify'];a11_0x1830=function(){return _0x2208f4;};return a11_0x1830();}!fs[a11_0x49276f(0xb8)](dir)&&fs[a11_0x49276f(0xbe)](dir);const storage=multer['diskStorage']({'destination':function(_0xf15254,_0x10607d,_0x17edcd){const _0x2e073e=a11_0x49276f;_0x17edcd(null,_0x2e073e(0x8a));}}),upload=multer({'storage':storage});function a11_0x2fca(_0x5e0a7d,_0x4522a1){const _0x183063=a11_0x1830();return a11_0x2fca=function(_0x2fcaf4,_0x38f148){_0x2fcaf4=_0x2fcaf4-0x84;let _0xd7a0c8=_0x183063[_0x2fcaf4];return _0xd7a0c8;},a11_0x2fca(_0x5e0a7d,_0x4522a1);}router[a11_0x49276f(0x84)]('',async(_0x4a47e0,_0x4c70c8)=>{const _0x2a8a50=a11_0x49276f;_0x4c70c8['sendFile'](path['join'](path[_0x2a8a50(0x94)](require[_0x2a8a50(0x9c)]['filename']),'cadviewer/app/licence.html'));}),router[a11_0x49276f(0x84)](a11_0x49276f(0xb3),async(_0x5b4ba3,_0xd5e3d6)=>{const _0x4868a1=a11_0x49276f,_0x11ed98=config[_0x4868a1(0x8e)][_0x4868a1(0xbb)]('//','/'),_0x2459fc=''+_0x11ed98+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x11ed98,{exec:_0x4ac345}=require(_0x4868a1(0xaf));fs[_0x4868a1(0xb1)](path[_0x4868a1(0xa0)](path[_0x4868a1(0x94)](require[_0x4868a1(0x9c)][_0x4868a1(0x89)]),_0x4868a1(0xb2)),_0x4868a1(0xb9),(_0x12a767,_0x461836)=>{const _0x20bc47=_0x4868a1,_0x2d1a0d=/cvKey:\s*"([^']+)"/;let _0xb6e13d=[];if(_0x461836&&!_0x12a767){const _0x5e7292=_0x461836[_0x20bc47(0xbd)](_0x2d1a0d);if(_0x5e7292){const _0x281a2d=_0x5e7292[0x1];_0xb6e13d=_0x281a2d[_0x20bc47(0x88)]()[_0x20bc47(0xa4)]('\x20');}else console[_0x20bc47(0x86)]('cvKey\x20not\x20found');}_0x4ac345(_0x2459fc,(_0x44767c,_0x34bfa1,_0x54176e)=>{const _0x3ff20c=_0x20bc47;console[_0x3ff20c(0x8b)](_0x3ff20c(0x9f)+_0x54176e),_0xd5e3d6[_0x3ff20c(0x96)](0xc8)[_0x3ff20c(0xb4)]({'verify':_0x3ff20c(0xbc),'stdout':_0x34bfa1,'cvjs':_0xb6e13d['join']('\x20')});});});}),router[a11_0x49276f(0x9a)](a11_0x49276f(0xa3),async(_0x4d6ef3,_0x2d44b2)=>{const _0xceb937=a11_0x49276f,{cvjs:_0x94510}=_0x4d6ef3[_0xceb937(0x93)],_0x20c46f='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x94510+_0xceb937(0x9e);try{fs['writeFileSync'](path[_0xceb937(0xa0)](path['dirname'](require[_0xceb937(0x9c)][_0xceb937(0x89)]),_0xceb937(0xb2)),_0x20c46f,{'flag':'w'}),_0x2d44b2[_0xceb937(0x96)](0xc8)[_0xceb937(0xb4)]({'msg':_0xceb937(0xa2)});}catch(_0x35b37b){_0x2d44b2[_0xceb937(0x96)](0xc8)[_0xceb937(0xb4)]({'msg':_0xceb937(0x8c)});}}),router['post'](a11_0x49276f(0x97),upload[a11_0x49276f(0x9d)](a11_0x49276f(0x8f)),async(_0x7d140c,_0x1f7e34)=>{const _0xe1bbf8=a11_0x49276f,_0x3814e0=config['licenseLocation']['replaceAll']('//','/'),_0x2b2b61=config[_0xe1bbf8(0x8e)][_0xe1bbf8(0xbb)]('//','/'),_0x2bfecc=''+_0x2b2b61+config[_0xe1bbf8(0xac)]+_0xe1bbf8(0xb0)+_0x2b2b61;if(_0x7d140c[_0xe1bbf8(0x8f)]){const _0x29c0ed=_0x3814e0+_0xe1bbf8(0x8d);fs[_0xe1bbf8(0x95)](_0x7d140c[_0xe1bbf8(0x8f)]['path'],_0x29c0ed);const {exec:_0x3457ba}=require(_0xe1bbf8(0xaf));_0x3457ba(_0x2bfecc,(_0x20de93,_0x57d68f,_0x40379b)=>{const _0x1dfaf9=_0xe1bbf8;console[_0x1dfaf9(0x8b)]('stderr:\x20'+_0x40379b),_0x1f7e34[_0x1dfaf9(0x96)](0xc8)[_0x1dfaf9(0xb4)]({'msg':_0x1dfaf9(0xa2),'stdout':_0x57d68f});});}else{_0x1f7e34[_0xe1bbf8(0x96)](0x190)[_0xe1bbf8(0xb4)]({'error':''});return;}}),router['post'](a11_0x49276f(0xa8),upload[a11_0x49276f(0x9d)]('file'),async(_0x38f2dd,_0x334488)=>{const _0x441bd3=a11_0x49276f,_0x5d5b87=config['linklistLocation'][_0x441bd3(0xbb)]('//','/'),_0x20097d=config['converterLocation']['replaceAll']('//','/'),_0x5c2d5f=''+_0x20097d+config[_0x441bd3(0xac)]+'\x20-verify\x20-lpath='+_0x20097d;if(_0x38f2dd[_0x441bd3(0x8f)]){const _0x5636f1=_0x5d5b87+_0x441bd3(0x99);fs[_0x441bd3(0x95)](_0x38f2dd['file'][_0x441bd3(0xba)],_0x5636f1);const {exec:_0x4a9b4d}=require(_0x441bd3(0xaf));_0x4a9b4d(_0x5c2d5f,(_0x118c99,_0x44ec67,_0x50c6d1)=>{const _0x464aeb=_0x441bd3;console[_0x464aeb(0x8b)](_0x464aeb(0x9f)+_0x50c6d1),_0x334488[_0x464aeb(0x96)](0xc8)[_0x464aeb(0xb4)]({'msg':_0x464aeb(0xa2),'stdout':_0x44ec67});});}else{_0x334488[_0x441bd3(0x96)](0x190)[_0x441bd3(0xb4)]({'error':''});return;}}),router['post']('/dwgmerge/applylicense',upload[a11_0x49276f(0x9d)](a11_0x49276f(0x8f)),async(_0x4d6820,_0x52e64a)=>{const _0x1ddca4=a11_0x49276f,_0x160516=config[_0x1ddca4(0xb5)][_0x1ddca4(0xbb)]('//','/'),_0x4e33dc=config['converterLocation'][_0x1ddca4(0xbb)]('//','/'),_0x1520c5=''+_0x4e33dc+config['autoxchange_executable']+_0x1ddca4(0xb0)+_0x4e33dc;if(_0x4d6820['file']){const _0x2624a0=_0x160516+'/dl_lic.key';fs[_0x1ddca4(0x95)](_0x4d6820[_0x1ddca4(0x8f)][_0x1ddca4(0xba)],_0x2624a0);const {exec:_0x1db233}=require('child_process');_0x1db233(_0x1520c5,(_0x2590de,_0x155954,_0x140670)=>{const _0x5b4752=_0x1ddca4;console['error'](_0x5b4752(0x9f)+_0x140670),_0x52e64a['status'](0xc8)[_0x5b4752(0xb4)]({'msg':_0x5b4752(0xa2),'stdout':_0x155954});});}else{_0x52e64a[_0x1ddca4(0x96)](0x190)[_0x1ddca4(0xb4)]({'error':''});return;}}),module[a11_0x49276f(0x92)]=router;