const a11_0x5636aa=a11_0x2df5;(function(_0x26e0c0,_0x1c37b4){const _0x2ad275=a11_0x2df5,_0x5f353e=_0x26e0c0();while(!![]){try{const _0x573c9a=-parseInt(_0x2ad275(0x12b))/0x1+parseInt(_0x2ad275(0x127))/0x2+-parseInt(_0x2ad275(0x125))/0x3+parseInt(_0x2ad275(0x135))/0x4+parseInt(_0x2ad275(0x10b))/0x5*(-parseInt(_0x2ad275(0x140))/0x6)+-parseInt(_0x2ad275(0x13e))/0x7+parseInt(_0x2ad275(0x11f))/0x8;if(_0x573c9a===_0x1c37b4)break;else _0x5f353e['push'](_0x5f353e['shift']());}catch(_0x388f33){_0x5f353e['push'](_0x5f353e['shift']());}}}(a11_0x3547,0x36be3));function a11_0x2df5(_0x385551,_0x215dfc){const _0x354753=a11_0x3547();return a11_0x2df5=function(_0x2df585,_0x32ab5d){_0x2df585=_0x2df585-0x106;let _0x48ca55=_0x354753[_0x2df585];return _0x48ca55;},a11_0x2df5(_0x385551,_0x215dfc);}function a11_0x3547(){const _0xb146b2=['\x20-verify\x20-lpath=','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','License\x20applied','post','json','path','log','1712836mlhTcr','diskStorage','linklistLocation','mkdirSync','split','status','replaceAll','get','cadviewer/app/licence.html','1411984yxXzFF','existsSync','1017942BQobEt','sendFile','verify','../CADViewer_config.json','single','./uploads','writeFileSync','5oThgNc','cvKey\x20not\x20found','trim','child_process','renameSync','stderr:\x20','dirname','filename','/linklist/applylicense','/axlic.key','crypto','match','converterLocation','/ll_lic.key','readFile','/autoxchange/applylicense','multer','error','dwgmergeLocation','file','2877200zFlHQa','Error\x20writing\x20licence\x20to\x20file','/verify','utf8','autoxchange_executable','main','1160979eDbiFe','cadviewer/app/js/cvlicense.js','667440OvXhXL','join','put','body','138990bSlxXc','licenseLocation','/cvjs/applylicense'];a11_0x3547=function(){return _0xb146b2;};return a11_0x3547();}const config=require(a11_0x5636aa(0x107)),multer=require(a11_0x5636aa(0x11b)),express=require('express'),router=express['Router'](),fs=require('fs'),path=require(a11_0x5636aa(0x133)),{randomUUID}=require(a11_0x5636aa(0x115)),{exec}=require(a11_0x5636aa(0x10e)),dir=a11_0x5636aa(0x109);!fs[a11_0x5636aa(0x13f)](dir)&&fs[a11_0x5636aa(0x138)](dir);const storage=multer[a11_0x5636aa(0x136)]({'destination':function(_0x358593,_0x367f0f,_0x1eceed){_0x1eceed(null,'uploads');}}),upload=multer({'storage':storage});router[a11_0x5636aa(0x13c)]('',async(_0x20ee33,_0x376754)=>{const _0x4d9d9a=a11_0x5636aa;_0x376754[_0x4d9d9a(0x141)](path['join'](path['dirname'](require[_0x4d9d9a(0x124)][_0x4d9d9a(0x112)]),_0x4d9d9a(0x13d)));}),router[a11_0x5636aa(0x13c)](a11_0x5636aa(0x121),async(_0xcc66d1,_0x134762)=>{const _0x4f3493=a11_0x5636aa,_0x4904a0=config['converterLocation'][_0x4f3493(0x13b)]('//','/'),_0x3b57a4=''+_0x4904a0+config[_0x4f3493(0x123)]+_0x4f3493(0x12e)+_0x4904a0,{exec:_0x538f1e}=require(_0x4f3493(0x10e));fs[_0x4f3493(0x119)](path['join'](path['dirname'](require[_0x4f3493(0x124)][_0x4f3493(0x112)]),_0x4f3493(0x126)),_0x4f3493(0x122),(_0x55c28e,_0x13547d)=>{const _0x230bc3=_0x4f3493,_0x15c2b9=/cvKey:\s*"([^']+)"/;let _0x13cfb7=[];if(_0x13547d&&!_0x55c28e){const _0x3e18dd=_0x13547d[_0x230bc3(0x116)](_0x15c2b9);if(_0x3e18dd){const _0x5714c7=_0x3e18dd[0x1];_0x13cfb7=_0x5714c7[_0x230bc3(0x10d)]()[_0x230bc3(0x139)]('\x20');}else console[_0x230bc3(0x134)](_0x230bc3(0x10c));}_0x538f1e(_0x3b57a4,(_0xb5d8eb,_0xf50bdb,_0x41d8c3)=>{const _0xacb645=_0x230bc3;console[_0xacb645(0x11c)](_0xacb645(0x110)+_0x41d8c3),_0x134762[_0xacb645(0x13a)](0xc8)[_0xacb645(0x132)]({'verify':_0xacb645(0x106),'stdout':_0xf50bdb,'cvjs':_0x13cfb7[_0xacb645(0x128)]('\x20')});});});}),router[a11_0x5636aa(0x129)](a11_0x5636aa(0x12d),async(_0x3804c0,_0x4e29a8)=>{const _0x5bade6=a11_0x5636aa,{cvjs:_0x561187}=_0x3804c0[_0x5bade6(0x12a)],_0x5ef1e8='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x561187+_0x5bade6(0x12f);try{fs[_0x5bade6(0x10a)](path['join'](path[_0x5bade6(0x111)](require[_0x5bade6(0x124)][_0x5bade6(0x112)]),'cadviewer/app/js/cvlicense.js'),_0x5ef1e8,{'flag':'w'}),_0x4e29a8[_0x5bade6(0x13a)](0xc8)['json']({'msg':_0x5bade6(0x130)});}catch(_0x459ba6){_0x4e29a8['status'](0xc8)[_0x5bade6(0x132)]({'msg':_0x5bade6(0x120)});}}),router[a11_0x5636aa(0x131)](a11_0x5636aa(0x11a),upload[a11_0x5636aa(0x108)](a11_0x5636aa(0x11e)),async(_0x53caaa,_0x4b4a73)=>{const _0x238881=a11_0x5636aa,_0xd39aa1=config[_0x238881(0x12c)][_0x238881(0x13b)]('//','/'),_0x4bbef3=config[_0x238881(0x117)][_0x238881(0x13b)]('//','/'),_0x573793=''+_0x4bbef3+config['autoxchange_executable']+_0x238881(0x12e)+_0x4bbef3;if(_0x53caaa[_0x238881(0x11e)]){const _0x12a4be=_0xd39aa1+_0x238881(0x114);fs[_0x238881(0x10f)](_0x53caaa[_0x238881(0x11e)]['path'],_0x12a4be);const {exec:_0x3fde95}=require('child_process');_0x3fde95(_0x573793,(_0x264b6e,_0xc645e7,_0x20a023)=>{const _0x2aba0a=_0x238881;console['error'](_0x2aba0a(0x110)+_0x20a023),_0x4b4a73[_0x2aba0a(0x13a)](0xc8)[_0x2aba0a(0x132)]({'msg':_0x2aba0a(0x130),'stdout':_0xc645e7});});}else{_0x4b4a73['status'](0x190)[_0x238881(0x132)]({'error':''});return;}}),router[a11_0x5636aa(0x131)](a11_0x5636aa(0x113),upload[a11_0x5636aa(0x108)]('file'),async(_0x19dc3b,_0x1e8e26)=>{const _0x1d2c28=a11_0x5636aa,_0x58a690=config[_0x1d2c28(0x137)][_0x1d2c28(0x13b)]('//','/'),_0xac0b5b=config[_0x1d2c28(0x117)][_0x1d2c28(0x13b)]('//','/'),_0x380a82=''+_0xac0b5b+config[_0x1d2c28(0x123)]+_0x1d2c28(0x12e)+_0xac0b5b;if(_0x19dc3b[_0x1d2c28(0x11e)]){const _0x291f93=_0x58a690+_0x1d2c28(0x118);fs[_0x1d2c28(0x10f)](_0x19dc3b[_0x1d2c28(0x11e)][_0x1d2c28(0x133)],_0x291f93);const {exec:_0x5cf63c}=require(_0x1d2c28(0x10e));_0x5cf63c(_0x380a82,(_0x274862,_0x4f4fa9,_0x14d730)=>{const _0x47d331=_0x1d2c28;console['error'](_0x47d331(0x110)+_0x14d730),_0x1e8e26[_0x47d331(0x13a)](0xc8)[_0x47d331(0x132)]({'msg':'License\x20applied','stdout':_0x4f4fa9});});}else{_0x1e8e26['status'](0x190)[_0x1d2c28(0x132)]({'error':''});return;}}),router[a11_0x5636aa(0x131)]('/dwgmerge/applylicense',upload[a11_0x5636aa(0x108)](a11_0x5636aa(0x11e)),async(_0x113c93,_0x152342)=>{const _0x3f37b5=a11_0x5636aa,_0x59353e=config[_0x3f37b5(0x11d)]['replaceAll']('//','/'),_0x4c8454=config['converterLocation'][_0x3f37b5(0x13b)]('//','/'),_0x54397c=''+_0x4c8454+config['autoxchange_executable']+_0x3f37b5(0x12e)+_0x4c8454;if(_0x113c93[_0x3f37b5(0x11e)]){const _0x5b70c9=_0x59353e+'/dl_lic.key';fs['renameSync'](_0x113c93['file']['path'],_0x5b70c9);const {exec:_0x3d07b9}=require(_0x3f37b5(0x10e));_0x3d07b9(_0x54397c,(_0x4abe8e,_0x2e592b,_0x3c3ef0)=>{const _0x241ae6=_0x3f37b5;console[_0x241ae6(0x11c)](_0x241ae6(0x110)+_0x3c3ef0),_0x152342[_0x241ae6(0x13a)](0xc8)[_0x241ae6(0x132)]({'msg':'License\x20applied','stdout':_0x2e592b});});}else{_0x152342['status'](0x190)[_0x3f37b5(0x132)]({'error':''});return;}}),module['exports']=router;