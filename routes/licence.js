function a11_0x283b(){const _0x2e8ec3=['status','existsSync','uploads','19764eCWyyC','./uploads','mkdirSync','replaceAll','394767TGHLjm','error','json','15SxBhbo','/linklist/applylicense','\x20-verify\x20-lpath=','../CADViewer_config.json','dwgmergeLocation','file','5792pOUcfS','License\x20applied','filename','match','17400MxssUz','multer','post','/ll_lic.key','/verify','log','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','converterLocation','child_process','get','1118601CpRUpP','main','join','4395215rIQnlk','diskStorage','sendFile','exports','1029DbfGgu','licenseLocation','renameSync','put','autoxchange_executable','crypto','/axlic.key','stderr:\x20','10bsSmCO','/cvjs/applylicense','838734qYWoMZ','cadviewer/app/js/cvlicense.js','single','/dl_lic.key','trim','30oaMyor','readFile','verify','express','split','utf8','path','dirname'];a11_0x283b=function(){return _0x2e8ec3;};return a11_0x283b();}const a11_0x1af8f1=a11_0x520d;function a11_0x520d(_0x43b3d0,_0x4023a2){const _0x283b26=a11_0x283b();return a11_0x520d=function(_0x520d33,_0xdde946){_0x520d33=_0x520d33-0x92;let _0x9f3437=_0x283b26[_0x520d33];return _0x9f3437;},a11_0x520d(_0x43b3d0,_0x4023a2);}(function(_0x147861,_0x5ba889){const _0x3e1d86=a11_0x520d,_0x503674=_0x147861();while(!![]){try{const _0x210b74=parseInt(_0x3e1d86(0x9a))/0x1*(-parseInt(_0x3e1d86(0xcb))/0x2)+-parseInt(_0x3e1d86(0xb5))/0x3+parseInt(_0x3e1d86(0xab))/0x4+-parseInt(_0x3e1d86(0xa1))/0x5*(-parseInt(_0x3e1d86(0xc6))/0x6)+-parseInt(_0x3e1d86(0xbc))/0x7*(-parseInt(_0x3e1d86(0xa7))/0x8)+parseInt(_0x3e1d86(0x9e))/0x9*(parseInt(_0x3e1d86(0xc4))/0xa)+parseInt(_0x3e1d86(0xb8))/0xb;if(_0x210b74===_0x5ba889)break;else _0x503674['push'](_0x503674['shift']());}catch(_0x4649ba){_0x503674['push'](_0x503674['shift']());}}}(a11_0x283b,0x4a476));const config=require(a11_0x1af8f1(0xa4)),multer=require(a11_0x1af8f1(0xac)),express=require(a11_0x1af8f1(0x92)),router=express['Router'](),fs=require('fs'),path=require(a11_0x1af8f1(0x95)),{randomUUID}=require(a11_0x1af8f1(0xc1)),{exec}=require(a11_0x1af8f1(0xb3)),dir=a11_0x1af8f1(0x9b);!fs[a11_0x1af8f1(0x98)](dir)&&fs[a11_0x1af8f1(0x9c)](dir);const storage=multer[a11_0x1af8f1(0xb9)]({'destination':function(_0x236989,_0x329614,_0x2914b4){const _0x596a57=a11_0x1af8f1;_0x2914b4(null,_0x596a57(0x99));}}),upload=multer({'storage':storage});router[a11_0x1af8f1(0xb4)]('',async(_0x524017,_0x2a5880)=>{const _0x4a737d=a11_0x1af8f1;_0x2a5880[_0x4a737d(0xba)](path[_0x4a737d(0xb7)](path[_0x4a737d(0x96)](require[_0x4a737d(0xb6)][_0x4a737d(0xa9)]),'cadviewer/app/licence.html'));}),router[a11_0x1af8f1(0xb4)](a11_0x1af8f1(0xaf),async(_0x4f1fe3,_0x133f92)=>{const _0x337b0c=a11_0x1af8f1,_0x3135ac=config[_0x337b0c(0xb2)][_0x337b0c(0x9d)]('//','/'),_0x4d551b=''+_0x3135ac+config[_0x337b0c(0xc0)]+'\x20-verify\x20-lpath='+_0x3135ac,{exec:_0x3eeb58}=require(_0x337b0c(0xb3));fs[_0x337b0c(0xcc)](path[_0x337b0c(0xb7)](path[_0x337b0c(0x96)](require[_0x337b0c(0xb6)][_0x337b0c(0xa9)]),'cadviewer/app/js/cvlicense.js'),_0x337b0c(0x94),(_0x50fa18,_0x508ce6)=>{const _0x4c0731=_0x337b0c,_0x445ede=/cvKey:\s*"([^']+)"/;let _0x53225f=[];if(_0x508ce6&&!_0x50fa18){const _0x57fc6e=_0x508ce6[_0x4c0731(0xaa)](_0x445ede);if(_0x57fc6e){const _0x15f712=_0x57fc6e[0x1];_0x53225f=_0x15f712[_0x4c0731(0xca)]()[_0x4c0731(0x93)]('\x20');}else console[_0x4c0731(0xb0)]('cvKey\x20not\x20found');}_0x3eeb58(_0x4d551b,(_0x1b3d45,_0x1197cb,_0x4edef5)=>{const _0x510a35=_0x4c0731;console[_0x510a35(0x9f)](_0x510a35(0xc3)+_0x4edef5),_0x133f92[_0x510a35(0x97)](0xc8)[_0x510a35(0xa0)]({'verify':_0x510a35(0xcd),'stdout':_0x1197cb,'cvjs':_0x53225f[_0x510a35(0xb7)]('\x20')});});});}),router[a11_0x1af8f1(0xbf)](a11_0x1af8f1(0xc5),async(_0x1611cd,_0x21ab1f)=>{const _0x579267=a11_0x1af8f1,{cvjs:_0x4572e5}=_0x1611cd['body'],_0x149dbc='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x4572e5+_0x579267(0xb1);try{fs['writeFileSync'](path[_0x579267(0xb7)](path[_0x579267(0x96)](require['main'][_0x579267(0xa9)]),_0x579267(0xc7)),_0x149dbc,{'flag':'w'}),_0x21ab1f[_0x579267(0x97)](0xc8)['json']({'msg':_0x579267(0xa8)});}catch(_0x4faa9e){_0x21ab1f[_0x579267(0x97)](0xc8)[_0x579267(0xa0)]({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router[a11_0x1af8f1(0xad)]('/autoxchange/applylicense',upload['single'](a11_0x1af8f1(0xa6)),async(_0x2127f3,_0x1c1bba)=>{const _0x30370e=a11_0x1af8f1,_0x2fe5e4=config[_0x30370e(0xbd)][_0x30370e(0x9d)]('//','/'),_0x134b93=config[_0x30370e(0xb2)][_0x30370e(0x9d)]('//','/'),_0x492ac7=''+_0x134b93+config[_0x30370e(0xc0)]+'\x20-verify\x20-lpath='+_0x134b93;if(_0x2127f3[_0x30370e(0xa6)]){const _0x53259a=_0x2fe5e4+_0x30370e(0xc2);fs[_0x30370e(0xbe)](_0x2127f3[_0x30370e(0xa6)][_0x30370e(0x95)],_0x53259a);const {exec:_0x5f5845}=require(_0x30370e(0xb3));_0x5f5845(_0x492ac7,(_0x2b3603,_0x542c16,_0x3e5875)=>{const _0x21e884=_0x30370e;console['error'](_0x21e884(0xc3)+_0x3e5875),_0x1c1bba['status'](0xc8)[_0x21e884(0xa0)]({'msg':_0x21e884(0xa8),'stdout':_0x542c16});});}else{_0x1c1bba[_0x30370e(0x97)](0x190)[_0x30370e(0xa0)]({'error':''});return;}}),router[a11_0x1af8f1(0xad)](a11_0x1af8f1(0xa2),upload[a11_0x1af8f1(0xc8)](a11_0x1af8f1(0xa6)),async(_0x1c2622,_0x2e4c25)=>{const _0x93506d=a11_0x1af8f1,_0x36ddc7=config['linklistLocation'][_0x93506d(0x9d)]('//','/'),_0x37d9f6=config[_0x93506d(0xb2)][_0x93506d(0x9d)]('//','/'),_0x918973=''+_0x37d9f6+config[_0x93506d(0xc0)]+_0x93506d(0xa3)+_0x37d9f6;if(_0x1c2622['file']){const _0xf714ae=_0x36ddc7+_0x93506d(0xae);fs[_0x93506d(0xbe)](_0x1c2622[_0x93506d(0xa6)][_0x93506d(0x95)],_0xf714ae);const {exec:_0x50818d}=require(_0x93506d(0xb3));_0x50818d(_0x918973,(_0x4adee8,_0x441f3f,_0x48f552)=>{const _0x38de42=_0x93506d;console['error']('stderr:\x20'+_0x48f552),_0x2e4c25[_0x38de42(0x97)](0xc8)[_0x38de42(0xa0)]({'msg':_0x38de42(0xa8),'stdout':_0x441f3f});});}else{_0x2e4c25[_0x93506d(0x97)](0x190)[_0x93506d(0xa0)]({'error':''});return;}}),router['post']('/dwgmerge/applylicense',upload[a11_0x1af8f1(0xc8)](a11_0x1af8f1(0xa6)),async(_0x31996c,_0x4e2ae9)=>{const _0xb7f805=a11_0x1af8f1,_0x13b218=config[_0xb7f805(0xa5)][_0xb7f805(0x9d)]('//','/'),_0x57b8aa=config['converterLocation'][_0xb7f805(0x9d)]('//','/'),_0x4e6ad5=''+_0x57b8aa+config[_0xb7f805(0xc0)]+_0xb7f805(0xa3)+_0x57b8aa;if(_0x31996c[_0xb7f805(0xa6)]){const _0x119d35=_0x13b218+_0xb7f805(0xc9);fs[_0xb7f805(0xbe)](_0x31996c[_0xb7f805(0xa6)]['path'],_0x119d35);const {exec:_0x1a731e}=require(_0xb7f805(0xb3));_0x1a731e(_0x4e6ad5,(_0x30f33b,_0x440987,_0x1e03de)=>{const _0x3f74b0=_0xb7f805;console[_0x3f74b0(0x9f)]('stderr:\x20'+_0x1e03de),_0x4e2ae9[_0x3f74b0(0x97)](0xc8)[_0x3f74b0(0xa0)]({'msg':'License\x20applied','stdout':_0x440987});});}else{_0x4e2ae9[_0xb7f805(0x97)](0x190)[_0xb7f805(0xa0)]({'error':''});return;}}),module[a11_0x1af8f1(0xbb)]=router;