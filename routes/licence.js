const a11_0x4b95cb=a11_0x5002;(function(_0x426066,_0x4a2c2a){const _0x87a232=a11_0x5002,_0x4b0fbd=_0x426066();while(!![]){try{const _0x3e7343=-parseInt(_0x87a232(0x159))/0x1*(-parseInt(_0x87a232(0x141))/0x2)+-parseInt(_0x87a232(0x154))/0x3*(parseInt(_0x87a232(0x13b))/0x4)+-parseInt(_0x87a232(0x168))/0x5+parseInt(_0x87a232(0x15d))/0x6*(-parseInt(_0x87a232(0x136))/0x7)+-parseInt(_0x87a232(0x142))/0x8*(parseInt(_0x87a232(0x152))/0x9)+parseInt(_0x87a232(0x13e))/0xa*(-parseInt(_0x87a232(0x138))/0xb)+parseInt(_0x87a232(0x167))/0xc;if(_0x3e7343===_0x4a2c2a)break;else _0x4b0fbd['push'](_0x4b0fbd['shift']());}catch(_0x27aee2){_0x4b0fbd['push'](_0x4b0fbd['shift']());}}}(a11_0x2f8a,0xd1b61));const config=require('../CADViewer_config.json'),multer=require(a11_0x4b95cb(0x14b)),express=require(a11_0x4b95cb(0x14d)),router=express[a11_0x4b95cb(0x144)](),fs=require('fs'),path=require(a11_0x4b95cb(0x156)),{randomUUID}=require(a11_0x4b95cb(0x164)),{exec}=require(a11_0x4b95cb(0x15a)),dir=a11_0x4b95cb(0x137);function a11_0x5002(_0x5489ee,_0x5aa169){const _0x2f8ada=a11_0x2f8a();return a11_0x5002=function(_0x5002c7,_0x125f57){_0x5002c7=_0x5002c7-0x133;let _0x26a315=_0x2f8ada[_0x5002c7];return _0x26a315;},a11_0x5002(_0x5489ee,_0x5aa169);}!fs['existsSync'](dir)&&fs[a11_0x4b95cb(0x14c)](dir);function a11_0x2f8a(){const _0x200026=['verify','/dwgmerge/applylicense','/linklist/applylicense','1690927MdcJKB','./uploads','93467arplTG','error','put','4vpljhF','filename','get','1970erwBMS','converterLocation','License\x20applied','1618VlNbNx','1023152SKwQcC','licenseLocation','Router','json','/axlic.key','split','cadviewer/app/js/cvlicense.js','join','stderr:\x20','multer','mkdirSync','express','main','post','cadviewer/app/licence.html','\x20-verify\x20-lpath=','72RvDvpF','autoxchange_executable','4412178EdQTCP','match','path','diskStorage','/ll_lic.key','484vXAmOa','child_process','single','linklistLocation','12Xbkcuq','trim','replaceAll','dirname','writeFileSync','renameSync','Error\x20writing\x20licence\x20to\x20file','crypto','body','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','81785592SBrvau','8485680oXpmAE','log','cvKey\x20not\x20found','utf8','status','sendFile','/verify','file'];a11_0x2f8a=function(){return _0x200026;};return a11_0x2f8a();}const storage=multer[a11_0x4b95cb(0x157)]({'destination':function(_0x4e4a20,_0x598dbb,_0x496f5c){_0x496f5c(null,'uploads');}}),upload=multer({'storage':storage});router['get']('',async(_0x4ceccf,_0x2a4ab9)=>{const _0x17b78e=a11_0x4b95cb;_0x2a4ab9[_0x17b78e(0x16d)](path[_0x17b78e(0x149)](path[_0x17b78e(0x160)](require[_0x17b78e(0x14e)][_0x17b78e(0x13c)]),_0x17b78e(0x150)));}),router[a11_0x4b95cb(0x13d)](a11_0x4b95cb(0x16e),async(_0x5b485e,_0x8c33c1)=>{const _0x2885b4=a11_0x4b95cb,_0x4e848d=config['converterLocation']['replaceAll']('//','/'),_0x4205b8=''+_0x4e848d+config['autoxchange_executable']+_0x2885b4(0x151)+_0x4e848d,{exec:_0x43cf08}=require(_0x2885b4(0x15a));fs['readFile'](path[_0x2885b4(0x149)](path[_0x2885b4(0x160)](require[_0x2885b4(0x14e)][_0x2885b4(0x13c)]),_0x2885b4(0x148)),_0x2885b4(0x16b),(_0x343800,_0x504546)=>{const _0xc4cfdb=_0x2885b4,_0x498799=/cvKey:\s*"([^']+)"/;let _0x5bb154=[];if(_0x504546&&!_0x343800){const _0x109249=_0x504546[_0xc4cfdb(0x155)](_0x498799);if(_0x109249){const _0x457bcc=_0x109249[0x1];_0x5bb154=_0x457bcc[_0xc4cfdb(0x15e)]()[_0xc4cfdb(0x147)]('\x20');}else console[_0xc4cfdb(0x169)](_0xc4cfdb(0x16a));}_0x43cf08(_0x4205b8,(_0x414b9a,_0x3f6d02,_0x4c5ed8)=>{const _0x18908e=_0xc4cfdb;console[_0x18908e(0x139)](_0x18908e(0x14a)+_0x4c5ed8),_0x8c33c1[_0x18908e(0x16c)](0xc8)[_0x18908e(0x145)]({'verify':_0x18908e(0x133),'stdout':_0x3f6d02,'cvjs':_0x5bb154['join']('\x20')});});});}),router[a11_0x4b95cb(0x13a)]('/cvjs/applylicense',async(_0x5c3886,_0x4c8b77)=>{const _0x56a0fb=a11_0x4b95cb,{cvjs:_0x45ae91}=_0x5c3886[_0x56a0fb(0x165)],_0x26f9c0=_0x56a0fb(0x166)+_0x45ae91+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs[_0x56a0fb(0x161)](path[_0x56a0fb(0x149)](path[_0x56a0fb(0x160)](require[_0x56a0fb(0x14e)][_0x56a0fb(0x13c)]),_0x56a0fb(0x148)),_0x26f9c0,{'flag':'w'}),_0x4c8b77[_0x56a0fb(0x16c)](0xc8)[_0x56a0fb(0x145)]({'msg':_0x56a0fb(0x140)});}catch(_0xe5870){_0x4c8b77[_0x56a0fb(0x16c)](0xc8)[_0x56a0fb(0x145)]({'msg':_0x56a0fb(0x163)});}}),router[a11_0x4b95cb(0x14f)]('/autoxchange/applylicense',upload[a11_0x4b95cb(0x15b)](a11_0x4b95cb(0x16f)),async(_0x38a106,_0x2090d0)=>{const _0x502962=a11_0x4b95cb,_0x5f153f=config[_0x502962(0x143)][_0x502962(0x15f)]('//','/'),_0x56289a=config[_0x502962(0x13f)][_0x502962(0x15f)]('//','/'),_0x29101e=''+_0x56289a+config['autoxchange_executable']+_0x502962(0x151)+_0x56289a;if(_0x38a106[_0x502962(0x16f)]){const _0x28ac91=_0x5f153f+_0x502962(0x146);fs[_0x502962(0x162)](_0x38a106[_0x502962(0x16f)][_0x502962(0x156)],_0x28ac91);const {exec:_0x5e6e09}=require('child_process');_0x5e6e09(_0x29101e,(_0x1a7d12,_0x414e02,_0x202561)=>{const _0xe81e4f=_0x502962;console[_0xe81e4f(0x139)](_0xe81e4f(0x14a)+_0x202561),_0x2090d0[_0xe81e4f(0x16c)](0xc8)[_0xe81e4f(0x145)]({'msg':_0xe81e4f(0x140),'stdout':_0x414e02});});}else{_0x2090d0['status'](0x190)['json']({'error':''});return;}}),router[a11_0x4b95cb(0x14f)](a11_0x4b95cb(0x135),upload[a11_0x4b95cb(0x15b)](a11_0x4b95cb(0x16f)),async(_0x4a81a7,_0x3a4953)=>{const _0x4a6c77=a11_0x4b95cb,_0x21575e=config[_0x4a6c77(0x15c)][_0x4a6c77(0x15f)]('//','/'),_0x3ca42c=config[_0x4a6c77(0x13f)][_0x4a6c77(0x15f)]('//','/'),_0x1ab3d8=''+_0x3ca42c+config[_0x4a6c77(0x153)]+_0x4a6c77(0x151)+_0x3ca42c;if(_0x4a81a7[_0x4a6c77(0x16f)]){const _0x1611bf=_0x21575e+_0x4a6c77(0x158);fs[_0x4a6c77(0x162)](_0x4a81a7[_0x4a6c77(0x16f)][_0x4a6c77(0x156)],_0x1611bf);const {exec:_0x50cfcc}=require(_0x4a6c77(0x15a));_0x50cfcc(_0x1ab3d8,(_0x1026de,_0x4f2e08,_0x2fd987)=>{const _0xe97cf7=_0x4a6c77;console[_0xe97cf7(0x139)](_0xe97cf7(0x14a)+_0x2fd987),_0x3a4953[_0xe97cf7(0x16c)](0xc8)[_0xe97cf7(0x145)]({'msg':'License\x20applied','stdout':_0x4f2e08});});}else{_0x3a4953[_0x4a6c77(0x16c)](0x190)[_0x4a6c77(0x145)]({'error':''});return;}}),router['post'](a11_0x4b95cb(0x134),upload[a11_0x4b95cb(0x15b)](a11_0x4b95cb(0x16f)),async(_0x2f1f3e,_0x59ccbd)=>{const _0x4849fe=a11_0x4b95cb,_0x135e41=config['dwgmergeLocation'][_0x4849fe(0x15f)]('//','/'),_0x43ea5f=config[_0x4849fe(0x13f)]['replaceAll']('//','/'),_0x52dafe=''+_0x43ea5f+config[_0x4849fe(0x153)]+'\x20-verify\x20-lpath='+_0x43ea5f;if(_0x2f1f3e[_0x4849fe(0x16f)]){const _0x420caf=_0x135e41+'/dl_lic.key';fs[_0x4849fe(0x162)](_0x2f1f3e[_0x4849fe(0x16f)][_0x4849fe(0x156)],_0x420caf);const {exec:_0x29ec0a}=require(_0x4849fe(0x15a));_0x29ec0a(_0x52dafe,(_0x1f1184,_0xec57d0,_0x5e0978)=>{const _0x59a578=_0x4849fe;console['error'](_0x59a578(0x14a)+_0x5e0978),_0x59ccbd[_0x59a578(0x16c)](0xc8)[_0x59a578(0x145)]({'msg':'License\x20applied','stdout':_0xec57d0});});}else{_0x59ccbd['status'](0x190)[_0x4849fe(0x145)]({'error':''});return;}}),module['exports']=router;