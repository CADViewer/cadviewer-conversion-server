const a11_0x3502b9=a11_0x1cca;(function(_0x49e69e,_0x2be57a){const _0x29af0d=a11_0x1cca,_0x10469b=_0x49e69e();while(!![]){try{const _0x461206=-parseInt(_0x29af0d(0x200))/0x1*(-parseInt(_0x29af0d(0x1d5))/0x2)+-parseInt(_0x29af0d(0x1f8))/0x3*(-parseInt(_0x29af0d(0x1e0))/0x4)+parseInt(_0x29af0d(0x1f4))/0x5*(-parseInt(_0x29af0d(0x1da))/0x6)+-parseInt(_0x29af0d(0x1fa))/0x7*(-parseInt(_0x29af0d(0x1e8))/0x8)+parseInt(_0x29af0d(0x1ef))/0x9*(-parseInt(_0x29af0d(0x1fe))/0xa)+-parseInt(_0x29af0d(0x1e6))/0xb*(-parseInt(_0x29af0d(0x1f2))/0xc)+parseInt(_0x29af0d(0x203))/0xd*(-parseInt(_0x29af0d(0x1ff))/0xe);if(_0x461206===_0x2be57a)break;else _0x10469b['push'](_0x10469b['shift']());}catch(_0x4a69a4){_0x10469b['push'](_0x10469b['shift']());}}}(a11_0x170e,0xe5953));function a11_0x170e(){const _0x22804c=['stderr:\x20','body','/linklist/applylicense','put','join','sendFile','99iMCyOV','dirname','licenseLocation','1080bVQHnq','single','30UoEOXU','main','split','status','1096269khnwdY','/dl_lic.key','2721271VBFOYK','../CADViewer_config.json','readFile','diskStorage','647650jWkugh','112VyKKBm','1pSZHAF','child_process','filename','4174261vzTzAz','renameSync','\x20-verify\x20-lpath=','converterLocation','cadviewer/app/js/cvlicense.js','utf8','get','trim','/cvjs/applylicense','/autoxchange/applylicense','json','/axlic.key','log','file','autoxchange_executable','dwgmergeLocation','1991164VVnWpO','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','path','replaceAll','/ll_lic.key','638508UJfbCS','error','mkdirSync','exports','verify','License\x20applied','20wiZDhG','post','Router','match','express','./uploads','201498wMKkot','Error\x20writing\x20licence\x20to\x20file','8IYZxEy'];a11_0x170e=function(){return _0x22804c;};return a11_0x170e();}const config=require(a11_0x3502b9(0x1fb)),multer=require('multer'),express=require(a11_0x3502b9(0x1e4)),router=express[a11_0x3502b9(0x1e2)](),fs=require('fs'),path=require('path'),{randomUUID}=require('crypto'),{exec}=require(a11_0x3502b9(0x201)),dir=a11_0x3502b9(0x1e5);function a11_0x1cca(_0x847b00,_0x5f00b4){const _0x170e4c=a11_0x170e();return a11_0x1cca=function(_0x1ccac0,_0x3f955c){_0x1ccac0=_0x1ccac0-0x1ca;let _0x12e2cf=_0x170e4c[_0x1ccac0];return _0x12e2cf;},a11_0x1cca(_0x847b00,_0x5f00b4);}!fs['existsSync'](dir)&&fs[a11_0x3502b9(0x1dc)](dir);const storage=multer[a11_0x3502b9(0x1fd)]({'destination':function(_0x5572ad,_0x3c071c,_0x2e7a8e){_0x2e7a8e(null,'uploads');}}),upload=multer({'storage':storage});router[a11_0x3502b9(0x1cb)]('',async(_0x31506e,_0x5ba136)=>{const _0x506543=a11_0x3502b9;_0x5ba136[_0x506543(0x1ee)](path[_0x506543(0x1ed)](path[_0x506543(0x1f0)](require[_0x506543(0x1f5)][_0x506543(0x202)]),'cadviewer/app/licence.html'));}),router['get']('/verify',async(_0x3130db,_0xf726f)=>{const _0x1084ce=a11_0x3502b9,_0x24f47e=config['converterLocation']['replaceAll']('//','/'),_0x2c4cd0=''+_0x24f47e+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x24f47e,{exec:_0x9b8793}=require(_0x1084ce(0x201));fs[_0x1084ce(0x1fc)](path[_0x1084ce(0x1ed)](path[_0x1084ce(0x1f0)](require[_0x1084ce(0x1f5)]['filename']),_0x1084ce(0x207)),_0x1084ce(0x1ca),(_0x2dd3ab,_0x3af337)=>{const _0xb1850e=_0x1084ce,_0x150f71=/cvKey:\s*"([^']+)"/;let _0x2b734d=[];if(_0x3af337&&!_0x2dd3ab){const _0x1fd067=_0x3af337[_0xb1850e(0x1e3)](_0x150f71);if(_0x1fd067){const _0x134ddb=_0x1fd067[0x1];_0x2b734d=_0x134ddb[_0xb1850e(0x1cc)]()[_0xb1850e(0x1f6)]('\x20');}else console[_0xb1850e(0x1d1)]('cvKey\x20not\x20found');}_0x9b8793(_0x2c4cd0,(_0x409bba,_0x4011c1,_0x4d3098)=>{const _0x34acb0=_0xb1850e;console[_0x34acb0(0x1db)](_0x34acb0(0x1e9)+_0x4d3098),_0xf726f[_0x34acb0(0x1f7)](0xc8)['json']({'verify':_0x34acb0(0x1de),'stdout':_0x4011c1,'cvjs':_0x2b734d[_0x34acb0(0x1ed)]('\x20')});});});}),router[a11_0x3502b9(0x1ec)](a11_0x3502b9(0x1cd),async(_0x23151f,_0x1b6a3a)=>{const _0x298a28=a11_0x3502b9,{cvjs:_0x14d805}=_0x23151f[_0x298a28(0x1ea)],_0x170a61=_0x298a28(0x1d6)+_0x14d805+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs['writeFileSync'](path[_0x298a28(0x1ed)](path[_0x298a28(0x1f0)](require[_0x298a28(0x1f5)][_0x298a28(0x202)]),_0x298a28(0x207)),_0x170a61,{'flag':'w'}),_0x1b6a3a['status'](0xc8)[_0x298a28(0x1cf)]({'msg':_0x298a28(0x1df)});}catch(_0x3720f8){_0x1b6a3a[_0x298a28(0x1f7)](0xc8)[_0x298a28(0x1cf)]({'msg':_0x298a28(0x1e7)});}}),router[a11_0x3502b9(0x1e1)](a11_0x3502b9(0x1ce),upload[a11_0x3502b9(0x1f3)](a11_0x3502b9(0x1d2)),async(_0x376670,_0x46c413)=>{const _0x5baefe=a11_0x3502b9,_0x32e87c=config[_0x5baefe(0x1f1)][_0x5baefe(0x1d8)]('//','/'),_0x3a1600=config[_0x5baefe(0x206)]['replaceAll']('//','/'),_0x4604b5=''+_0x3a1600+config[_0x5baefe(0x1d3)]+_0x5baefe(0x205)+_0x3a1600;if(_0x376670[_0x5baefe(0x1d2)]){const _0x1b87cf=_0x32e87c+_0x5baefe(0x1d0);fs[_0x5baefe(0x204)](_0x376670[_0x5baefe(0x1d2)][_0x5baefe(0x1d7)],_0x1b87cf);const {exec:_0x26402d}=require(_0x5baefe(0x201));_0x26402d(_0x4604b5,(_0x474862,_0x3f6508,_0x2cdac9)=>{const _0xac0028=_0x5baefe;console[_0xac0028(0x1db)]('stderr:\x20'+_0x2cdac9),_0x46c413[_0xac0028(0x1f7)](0xc8)[_0xac0028(0x1cf)]({'msg':'License\x20applied','stdout':_0x3f6508});});}else{_0x46c413[_0x5baefe(0x1f7)](0x190)[_0x5baefe(0x1cf)]({'error':''});return;}}),router[a11_0x3502b9(0x1e1)](a11_0x3502b9(0x1eb),upload[a11_0x3502b9(0x1f3)]('file'),async(_0xe81996,_0x20cc0e)=>{const _0x430994=a11_0x3502b9,_0x15510f=config['linklistLocation'][_0x430994(0x1d8)]('//','/'),_0x3e0669=config[_0x430994(0x206)][_0x430994(0x1d8)]('//','/'),_0x300b7e=''+_0x3e0669+config[_0x430994(0x1d3)]+'\x20-verify\x20-lpath='+_0x3e0669;if(_0xe81996[_0x430994(0x1d2)]){const _0x421cb3=_0x15510f+_0x430994(0x1d9);fs['renameSync'](_0xe81996[_0x430994(0x1d2)][_0x430994(0x1d7)],_0x421cb3);const {exec:_0x1b093b}=require('child_process');_0x1b093b(_0x300b7e,(_0x4a642b,_0x179b89,_0x3e1799)=>{const _0x510b70=_0x430994;console[_0x510b70(0x1db)]('stderr:\x20'+_0x3e1799),_0x20cc0e[_0x510b70(0x1f7)](0xc8)['json']({'msg':'License\x20applied','stdout':_0x179b89});});}else{_0x20cc0e['status'](0x190)['json']({'error':''});return;}}),router['post']('/dwgmerge/applylicense',upload['single'](a11_0x3502b9(0x1d2)),async(_0x53d6cd,_0x5ef411)=>{const _0x541156=a11_0x3502b9,_0x5327d2=config[_0x541156(0x1d4)][_0x541156(0x1d8)]('//','/'),_0x17eb21=config['converterLocation'][_0x541156(0x1d8)]('//','/'),_0x4cbd2e=''+_0x17eb21+config['autoxchange_executable']+_0x541156(0x205)+_0x17eb21;if(_0x53d6cd[_0x541156(0x1d2)]){const _0x4c025b=_0x5327d2+_0x541156(0x1f9);fs[_0x541156(0x204)](_0x53d6cd['file'][_0x541156(0x1d7)],_0x4c025b);const {exec:_0x122378}=require(_0x541156(0x201));_0x122378(_0x4cbd2e,(_0x5eb6ad,_0x5e1aba,_0xe50c5e)=>{const _0xc14eb2=_0x541156;console[_0xc14eb2(0x1db)]('stderr:\x20'+_0xe50c5e),_0x5ef411[_0xc14eb2(0x1f7)](0xc8)[_0xc14eb2(0x1cf)]({'msg':_0xc14eb2(0x1df),'stdout':_0x5e1aba});});}else{_0x5ef411[_0x541156(0x1f7)](0x190)['json']({'error':''});return;}}),module[a11_0x3502b9(0x1dd)]=router;