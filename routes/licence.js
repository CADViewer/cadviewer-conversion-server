const a11_0x517020=a11_0x492c;(function(_0x1135a6,_0x317bd5){const _0x1628dc=a11_0x492c,_0x20e376=_0x1135a6();while(!![]){try{const _0x1a1ab6=-parseInt(_0x1628dc(0x11b))/0x1*(-parseInt(_0x1628dc(0x113))/0x2)+parseInt(_0x1628dc(0x12a))/0x3*(-parseInt(_0x1628dc(0x104))/0x4)+-parseInt(_0x1628dc(0x137))/0x5*(parseInt(_0x1628dc(0x139))/0x6)+-parseInt(_0x1628dc(0x12e))/0x7+-parseInt(_0x1628dc(0x13d))/0x8+parseInt(_0x1628dc(0x117))/0x9+-parseInt(_0x1628dc(0x109))/0xa*(-parseInt(_0x1628dc(0x11f))/0xb);if(_0x1a1ab6===_0x317bd5)break;else _0x20e376['push'](_0x20e376['shift']());}catch(_0x19ca65){_0x20e376['push'](_0x20e376['shift']());}}}(a11_0x1411,0x2cfa7));const config=require('../CADViewer_config.json'),multer=require('multer'),express=require(a11_0x517020(0x10c)),router=express[a11_0x517020(0x12d)](),fs=require('fs'),path=require('path'),{randomUUID}=require('crypto'),{exec}=require('child_process'),dir='./uploads';function a11_0x1411(){const _0x31a091=['cadviewer/app/licence.html','15058fpFtxS','path','log','licenseLocation','6327629BrqSXG','replaceAll','status','/cvjs/applylicense','match','autoxchange_executable','/ll_lic.key','/verify','mkdirSync','dwgmergeLocation','exports','3EdHKSH','filename','uploads','Router','2090725JlnlZU','License\x20applied','/axlic.key','converterLocation','json','cvKey\x20not\x20found','join','stderr:\x20','existsSync','285245BPOBeL','split','12OtFhtQ','renameSync','\x20-verify\x20-lpath=','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','2249048kmEBEs','sendFile','cadviewer/app/js/cvlicense.js','body','/autoxchange/applylicense','694168fQfArT','get','/dl_lic.key','trim','error','10UElByT','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','put','express','diskStorage','verify','dirname','child_process','main','file','38MfXYaN','Error\x20writing\x20licence\x20to\x20file','/linklist/applylicense','post','1713024ssrLKQ','single','writeFileSync'];a11_0x1411=function(){return _0x31a091;};return a11_0x1411();}!fs[a11_0x517020(0x136)](dir)&&fs[a11_0x517020(0x127)](dir);function a11_0x492c(_0x114e8b,_0x94d646){const _0x141178=a11_0x1411();return a11_0x492c=function(_0x492c43,_0x25249e){_0x492c43=_0x492c43-0x103;let _0x2c0df0=_0x141178[_0x492c43];return _0x2c0df0;},a11_0x492c(_0x114e8b,_0x94d646);}const storage=multer[a11_0x517020(0x10d)]({'destination':function(_0x29ef5,_0x54f99f,_0x5c45c8){const _0x3ae615=a11_0x517020;_0x5c45c8(null,_0x3ae615(0x12c));}}),upload=multer({'storage':storage});router['get']('',async(_0x5a0572,_0x38ccb3)=>{const _0x1099b5=a11_0x517020;_0x38ccb3[_0x1099b5(0x13e)](path['join'](path[_0x1099b5(0x10f)](require[_0x1099b5(0x111)][_0x1099b5(0x12b)]),_0x1099b5(0x11a)));}),router[a11_0x517020(0x105)](a11_0x517020(0x126),async(_0x334493,_0x4bb526)=>{const _0xe8ba68=a11_0x517020,_0x505172=config[_0xe8ba68(0x131)][_0xe8ba68(0x120)]('//','/'),_0x1b3506=''+_0x505172+config['autoxchange_executable']+_0xe8ba68(0x13b)+_0x505172,{exec:_0x456ca8}=require(_0xe8ba68(0x110));fs['readFile'](path[_0xe8ba68(0x134)](path[_0xe8ba68(0x10f)](require[_0xe8ba68(0x111)]['filename']),_0xe8ba68(0x13f)),'utf8',(_0x111f97,_0x40c868)=>{const _0x352981=_0xe8ba68,_0x11da4f=/cvKey:\s*"([^']+)"/;let _0x2a040a=[];if(_0x40c868&&!_0x111f97){const _0x42aede=_0x40c868[_0x352981(0x123)](_0x11da4f);if(_0x42aede){const _0x469091=_0x42aede[0x1];_0x2a040a=_0x469091[_0x352981(0x107)]()[_0x352981(0x138)]('\x20');}else console[_0x352981(0x11d)](_0x352981(0x133));}_0x456ca8(_0x1b3506,(_0x230ba3,_0x4be4d9,_0x3f66d3)=>{const _0x5b9b91=_0x352981;console[_0x5b9b91(0x108)](_0x5b9b91(0x135)+_0x3f66d3),_0x4bb526[_0x5b9b91(0x121)](0xc8)['json']({'verify':_0x5b9b91(0x10e),'stdout':_0x4be4d9,'cvjs':_0x2a040a[_0x5b9b91(0x134)]('\x20')});});});}),router[a11_0x517020(0x10b)](a11_0x517020(0x122),async(_0x901d43,_0x3b4b25)=>{const _0x2c7831=a11_0x517020,{cvjs:_0x5d373e}=_0x901d43[_0x2c7831(0x140)],_0x5c7cf7=_0x2c7831(0x13c)+_0x5d373e+_0x2c7831(0x10a);try{fs[_0x2c7831(0x119)](path[_0x2c7831(0x134)](path[_0x2c7831(0x10f)](require[_0x2c7831(0x111)]['filename']),_0x2c7831(0x13f)),_0x5c7cf7,{'flag':'w'}),_0x3b4b25[_0x2c7831(0x121)](0xc8)[_0x2c7831(0x132)]({'msg':_0x2c7831(0x12f)});}catch(_0x5d1754){_0x3b4b25['status'](0xc8)[_0x2c7831(0x132)]({'msg':_0x2c7831(0x114)});}}),router['post'](a11_0x517020(0x103),upload[a11_0x517020(0x118)](a11_0x517020(0x112)),async(_0x8c6981,_0x17730c)=>{const _0x3ad945=a11_0x517020,_0x437b5b=config[_0x3ad945(0x11e)]['replaceAll']('//','/'),_0x2fadec=config['converterLocation'][_0x3ad945(0x120)]('//','/'),_0x17674b=''+_0x2fadec+config[_0x3ad945(0x124)]+_0x3ad945(0x13b)+_0x2fadec;if(_0x8c6981[_0x3ad945(0x112)]){const _0x50109d=_0x437b5b+_0x3ad945(0x130);fs[_0x3ad945(0x13a)](_0x8c6981[_0x3ad945(0x112)][_0x3ad945(0x11c)],_0x50109d);const {exec:_0x122c9d}=require('child_process');_0x122c9d(_0x17674b,(_0x3ed3a7,_0x632b6,_0x179bc6)=>{const _0x44a950=_0x3ad945;console[_0x44a950(0x108)](_0x44a950(0x135)+_0x179bc6),_0x17730c[_0x44a950(0x121)](0xc8)[_0x44a950(0x132)]({'msg':_0x44a950(0x12f),'stdout':_0x632b6});});}else{_0x17730c[_0x3ad945(0x121)](0x190)[_0x3ad945(0x132)]({'error':''});return;}}),router[a11_0x517020(0x116)](a11_0x517020(0x115),upload[a11_0x517020(0x118)](a11_0x517020(0x112)),async(_0x386da2,_0x2fe905)=>{const _0x249346=a11_0x517020,_0x2f4a2f=config['linklistLocation'][_0x249346(0x120)]('//','/'),_0x4bced0=config[_0x249346(0x131)][_0x249346(0x120)]('//','/'),_0x5838b3=''+_0x4bced0+config[_0x249346(0x124)]+_0x249346(0x13b)+_0x4bced0;if(_0x386da2[_0x249346(0x112)]){const _0x15e77e=_0x2f4a2f+_0x249346(0x125);fs[_0x249346(0x13a)](_0x386da2['file'][_0x249346(0x11c)],_0x15e77e);const {exec:_0x1b9896}=require('child_process');_0x1b9896(_0x5838b3,(_0x5b2db5,_0x3d249d,_0x65103a)=>{const _0x1d31ff=_0x249346;console['error'](_0x1d31ff(0x135)+_0x65103a),_0x2fe905[_0x1d31ff(0x121)](0xc8)['json']({'msg':_0x1d31ff(0x12f),'stdout':_0x3d249d});});}else{_0x2fe905[_0x249346(0x121)](0x190)[_0x249346(0x132)]({'error':''});return;}}),router[a11_0x517020(0x116)]('/dwgmerge/applylicense',upload[a11_0x517020(0x118)]('file'),async(_0x605c32,_0x1022e9)=>{const _0x375acd=a11_0x517020,_0x1643e3=config[_0x375acd(0x128)][_0x375acd(0x120)]('//','/'),_0xd554df=config[_0x375acd(0x131)][_0x375acd(0x120)]('//','/'),_0x27057c=''+_0xd554df+config[_0x375acd(0x124)]+_0x375acd(0x13b)+_0xd554df;if(_0x605c32[_0x375acd(0x112)]){const _0x5cbe8e=_0x1643e3+_0x375acd(0x106);fs[_0x375acd(0x13a)](_0x605c32[_0x375acd(0x112)][_0x375acd(0x11c)],_0x5cbe8e);const {exec:_0x4db893}=require(_0x375acd(0x110));_0x4db893(_0x27057c,(_0x3f422,_0x4dedf8,_0xa85d5c)=>{const _0x4a921a=_0x375acd;console[_0x4a921a(0x108)](_0x4a921a(0x135)+_0xa85d5c),_0x1022e9['status'](0xc8)['json']({'msg':_0x4a921a(0x12f),'stdout':_0x4dedf8});});}else{_0x1022e9[_0x375acd(0x121)](0x190)[_0x375acd(0x132)]({'error':''});return;}}),module[a11_0x517020(0x129)]=router;