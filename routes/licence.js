const a11_0x80d31b=a11_0x5501;(function(_0x5e2dc2,_0x2dd5d2){const _0x326697=a11_0x5501,_0x10e46c=_0x5e2dc2();while(!![]){try{const _0x184391=-parseInt(_0x326697(0x9a))/0x1+-parseInt(_0x326697(0x73))/0x2*(parseInt(_0x326697(0x75))/0x3)+parseInt(_0x326697(0x77))/0x4*(-parseInt(_0x326697(0x70))/0x5)+parseInt(_0x326697(0x8a))/0x6+parseInt(_0x326697(0xa1))/0x7*(parseInt(_0x326697(0x80))/0x8)+parseInt(_0x326697(0x71))/0x9+parseInt(_0x326697(0x69))/0xa*(-parseInt(_0x326697(0x7c))/0xb);if(_0x184391===_0x2dd5d2)break;else _0x10e46c['push'](_0x10e46c['shift']());}catch(_0x5cb403){_0x10e46c['push'](_0x10e46c['shift']());}}}(a11_0x2cf2,0x34ecf));const config=require(a11_0x80d31b(0x81)),multer=require(a11_0x80d31b(0xa5)),express=require(a11_0x80d31b(0x6d)),router=express[a11_0x80d31b(0x90)](),fs=require('fs'),path=require(a11_0x80d31b(0xa2)),{randomUUID}=require('crypto'),{exec}=require(a11_0x80d31b(0x6e)),dir=a11_0x80d31b(0x7b);function a11_0x5501(_0x5aba46,_0x270a49){const _0x2cf209=a11_0x2cf2();return a11_0x5501=function(_0x55010e,_0x4ceb29){_0x55010e=_0x55010e-0x69;let _0x4fe86a=_0x2cf209[_0x55010e];return _0x4fe86a;},a11_0x5501(_0x5aba46,_0x270a49);}!fs[a11_0x80d31b(0x83)](dir)&&fs['mkdirSync'](dir);const storage=multer[a11_0x80d31b(0x8b)]({'destination':function(_0x58a714,_0x5ba4c4,_0x41d5e7){const _0x5d9d2d=a11_0x80d31b;_0x41d5e7(null,_0x5d9d2d(0x7f));}}),upload=multer({'storage':storage});router[a11_0x80d31b(0x93)]('',async(_0x1243b2,_0x5e6f6c)=>{const _0x3fc807=a11_0x80d31b;_0x5e6f6c[_0x3fc807(0x76)](path[_0x3fc807(0x95)](path['dirname'](require[_0x3fc807(0x78)][_0x3fc807(0x9b)]),'cadviewer/app/licence.html'));}),router[a11_0x80d31b(0x93)](a11_0x80d31b(0x97),async(_0x48694c,_0x562ad1)=>{const _0x3b0382=a11_0x80d31b,_0x52d72c=config[_0x3b0382(0x9c)][_0x3b0382(0x6b)]('//','/'),_0x1a2d55=''+_0x52d72c+config[_0x3b0382(0xa0)]+_0x3b0382(0x91)+_0x52d72c,{exec:_0x3d480b}=require(_0x3b0382(0x6e));fs[_0x3b0382(0x89)](path[_0x3b0382(0x95)](path['dirname'](require[_0x3b0382(0x78)][_0x3b0382(0x9b)]),_0x3b0382(0x8c)),_0x3b0382(0x6f),(_0x3a17b6,_0x5b0519)=>{const _0x387a16=_0x3b0382,_0x223c7c=/cvKey:\s*"([^']+)"/;let _0x1fe290=[];if(_0x5b0519&&!_0x3a17b6){const _0x4777f6=_0x5b0519[_0x387a16(0xa3)](_0x223c7c);if(_0x4777f6){const _0x331fd2=_0x4777f6[0x1];_0x1fe290=_0x331fd2[_0x387a16(0x8d)]()[_0x387a16(0x6c)]('\x20');}else console[_0x387a16(0xa4)]('cvKey\x20not\x20found');}_0x3d480b(_0x1a2d55,(_0x3e1e33,_0xcaa63,_0x11d9c2)=>{const _0xa3ea5b=_0x387a16;console[_0xa3ea5b(0x82)](_0xa3ea5b(0x72)+_0x11d9c2),_0x562ad1[_0xa3ea5b(0x7a)](0xc8)[_0xa3ea5b(0x7d)]({'verify':_0xa3ea5b(0x98),'stdout':_0xcaa63,'cvjs':_0x1fe290[_0xa3ea5b(0x95)]('\x20')});});});}),router[a11_0x80d31b(0x6a)]('/cvjs/applylicense',async(_0x13361d,_0x4d1bb7)=>{const _0x44ab20=a11_0x80d31b,{cvjs:_0x545ee8}=_0x13361d[_0x44ab20(0x87)],_0x1e4d27=_0x44ab20(0x88)+_0x545ee8+_0x44ab20(0x79);try{fs['writeFileSync'](path['join'](path['dirname'](require[_0x44ab20(0x78)][_0x44ab20(0x9b)]),_0x44ab20(0x8c)),_0x1e4d27,{'flag':'w'}),_0x4d1bb7['status'](0xc8)['json']({'msg':'License\x20applied'});}catch(_0x21761a){_0x4d1bb7[_0x44ab20(0x7a)](0xc8)[_0x44ab20(0x7d)]({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router[a11_0x80d31b(0x86)]('/autoxchange/applylicense',upload[a11_0x80d31b(0x96)](a11_0x80d31b(0x92)),async(_0x1b802c,_0xbf6e88)=>{const _0x266f39=a11_0x80d31b,_0x1de64c=config[_0x266f39(0x9f)][_0x266f39(0x6b)]('//','/'),_0x1eab9e=config[_0x266f39(0x9c)]['replaceAll']('//','/'),_0x4f8535=''+_0x1eab9e+config[_0x266f39(0xa0)]+_0x266f39(0x91)+_0x1eab9e;if(_0x1b802c[_0x266f39(0x92)]){const _0x288ce5=_0x1de64c+_0x266f39(0x9e);fs[_0x266f39(0x94)](_0x1b802c[_0x266f39(0x92)][_0x266f39(0xa2)],_0x288ce5);const {exec:_0x44164b}=require('child_process');_0x44164b(_0x4f8535,(_0x1515b6,_0x2ef4ef,_0x176295)=>{const _0x4e64de=_0x266f39;console[_0x4e64de(0x82)](_0x4e64de(0x72)+_0x176295),_0xbf6e88[_0x4e64de(0x7a)](0xc8)[_0x4e64de(0x7d)]({'msg':_0x4e64de(0x74),'stdout':_0x2ef4ef});});}else{_0xbf6e88['status'](0x190)[_0x266f39(0x7d)]({'error':''});return;}}),router[a11_0x80d31b(0x86)](a11_0x80d31b(0x99),upload[a11_0x80d31b(0x96)]('file'),async(_0x4ead02,_0x256057)=>{const _0x14d49a=a11_0x80d31b,_0x4e1c80=config[_0x14d49a(0x8e)][_0x14d49a(0x6b)]('//','/'),_0x763f36=config[_0x14d49a(0x9c)][_0x14d49a(0x6b)]('//','/'),_0x447a03=''+_0x763f36+config[_0x14d49a(0xa0)]+_0x14d49a(0x91)+_0x763f36;if(_0x4ead02['file']){const _0x33a994=_0x4e1c80+_0x14d49a(0x85);fs[_0x14d49a(0x94)](_0x4ead02[_0x14d49a(0x92)][_0x14d49a(0xa2)],_0x33a994);const {exec:_0x2100c7}=require(_0x14d49a(0x6e));_0x2100c7(_0x447a03,(_0x1557bf,_0x248799,_0x17b94c)=>{const _0xfe08f1=_0x14d49a;console[_0xfe08f1(0x82)]('stderr:\x20'+_0x17b94c),_0x256057[_0xfe08f1(0x7a)](0xc8)[_0xfe08f1(0x7d)]({'msg':'License\x20applied','stdout':_0x248799});});}else{_0x256057[_0x14d49a(0x7a)](0x190)[_0x14d49a(0x7d)]({'error':''});return;}}),router[a11_0x80d31b(0x86)](a11_0x80d31b(0x84),upload['single'](a11_0x80d31b(0x92)),async(_0x323c9a,_0x5a687f)=>{const _0x39f524=a11_0x80d31b,_0x49d271=config[_0x39f524(0x9d)][_0x39f524(0x6b)]('//','/'),_0x57ac2a=config[_0x39f524(0x9c)][_0x39f524(0x6b)]('//','/'),_0x112488=''+_0x57ac2a+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x57ac2a;if(_0x323c9a[_0x39f524(0x92)]){const _0x112995=_0x49d271+_0x39f524(0x7e);fs[_0x39f524(0x94)](_0x323c9a[_0x39f524(0x92)][_0x39f524(0xa2)],_0x112995);const {exec:_0x2e69a6}=require('child_process');_0x2e69a6(_0x112488,(_0x4074d3,_0x4add81,_0x1cd693)=>{const _0x945864=_0x39f524;console[_0x945864(0x82)]('stderr:\x20'+_0x1cd693),_0x5a687f[_0x945864(0x7a)](0xc8)[_0x945864(0x7d)]({'msg':_0x945864(0x74),'stdout':_0x4add81});});}else{_0x5a687f[_0x39f524(0x7a)](0x190)['json']({'error':''});return;}}),module[a11_0x80d31b(0x8f)]=router;function a11_0x2cf2(){const _0xbbc96e=['readFile','1609230pDfLyM','diskStorage','cadviewer/app/js/cvlicense.js','trim','linklistLocation','exports','Router','\x20-verify\x20-lpath=','file','get','renameSync','join','single','/verify','verify','/linklist/applylicense','117838oYvKwN','filename','converterLocation','dwgmergeLocation','/axlic.key','licenseLocation','autoxchange_executable','14zCdRno','path','match','log','multer','10gzrLKa','put','replaceAll','split','express','child_process','utf8','54835uYVLOI','2806281hrALXF','stderr:\x20','18094pbopgZ','License\x20applied','105rbqwtI','sendFile','16hLHJxS','main','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','status','./uploads','368126jEVIta','json','/dl_lic.key','uploads','594344hBGUAY','../CADViewer_config.json','error','existsSync','/dwgmerge/applylicense','/ll_lic.key','post','body','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'];a11_0x2cf2=function(){return _0xbbc96e;};return a11_0x2cf2();}