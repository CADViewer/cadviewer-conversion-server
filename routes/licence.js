const a11_0x3c4bf5=a11_0x1f09;function a11_0x52d9(){const _0x4e3664=['path','16hDkcJx','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','child_process','replaceAll','express','diskStorage','body','/dl_lic.key','Error\x20writing\x20licence\x20to\x20file','207048EUqlRn','stderr:\x20','24604ZHnwYg','49668jJbrAb','get','1297944wspAiS','log','file','1712924ePfnzL','3055QbJqbH','multer','44WxynBU','/cvjs/applylicense','existsSync','cadviewer/app/js/cvlicense.js','json','uploads','/ll_lic.key','main','11CqQiCH','50QUpckk','converterLocation','error','status','mkdirSync','/axlic.key','join','writeFileSync','single','post','521073zvqRLI','verify','dirname','crypto','match','License\x20applied','renameSync','utf8','/dwgmerge/applylicense','\x20-verify\x20-lpath=','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','Router','autoxchange_executable','../CADViewer_config.json','linklistLocation','filename','trim','./uploads','put','3xOKxTH','/autoxchange/applylicense','cvKey\x20not\x20found','dwgmergeLocation','split','1310260HAxBGo'];a11_0x52d9=function(){return _0x4e3664;};return a11_0x52d9();}(function(_0x1aaa0d,_0x173faf){const _0x35591d=a11_0x1f09,_0x16c73f=_0x1aaa0d();while(!![]){try{const _0x5ea391=-parseInt(_0x35591d(0x229))/0x1*(parseInt(_0x35591d(0x218))/0x2)+-parseInt(_0x35591d(0x206))/0x3*(parseInt(_0x35591d(0x21e))/0x4)+-parseInt(_0x35591d(0x22a))/0x5*(parseInt(_0x35591d(0x216))/0x6)+parseInt(_0x35591d(0x1f3))/0x7+parseInt(_0x35591d(0x20d))/0x8*(-parseInt(_0x35591d(0x21b))/0x9)+parseInt(_0x35591d(0x20b))/0xa*(parseInt(_0x35591d(0x221))/0xb)+parseInt(_0x35591d(0x219))/0xc*(parseInt(_0x35591d(0x21f))/0xd);if(_0x5ea391===_0x173faf)break;else _0x16c73f['push'](_0x16c73f['shift']());}catch(_0x5b8f96){_0x16c73f['push'](_0x16c73f['shift']());}}}(a11_0x52d9,0x5b57f));const config=require(a11_0x3c4bf5(0x200)),multer=require(a11_0x3c4bf5(0x220)),express=require(a11_0x3c4bf5(0x211)),router=express[a11_0x3c4bf5(0x1fe)](),fs=require('fs'),path=require(a11_0x3c4bf5(0x20c)),{randomUUID}=require(a11_0x3c4bf5(0x1f6)),{exec}=require(a11_0x3c4bf5(0x20f)),dir=a11_0x3c4bf5(0x204);!fs[a11_0x3c4bf5(0x223)](dir)&&fs[a11_0x3c4bf5(0x22e)](dir);function a11_0x1f09(_0x2e3ffa,_0x2c833e){const _0x52d94c=a11_0x52d9();return a11_0x1f09=function(_0x1f091d,_0x1b72ca){_0x1f091d=_0x1f091d-0x1ef;let _0x382ae5=_0x52d94c[_0x1f091d];return _0x382ae5;},a11_0x1f09(_0x2e3ffa,_0x2c833e);}const storage=multer[a11_0x3c4bf5(0x212)]({'destination':function(_0x155b53,_0x151553,_0x49a1c4){const _0x52074d=a11_0x3c4bf5;_0x49a1c4(null,_0x52074d(0x226));}}),upload=multer({'storage':storage});router[a11_0x3c4bf5(0x21a)]('',async(_0x254573,_0x3d22c3)=>{const _0x112724=a11_0x3c4bf5;_0x3d22c3['sendFile'](path[_0x112724(0x1ef)](path[_0x112724(0x1f5)](require[_0x112724(0x228)][_0x112724(0x202)]),'cadviewer/app/licence.html'));}),router[a11_0x3c4bf5(0x21a)]('/verify',async(_0x2d2525,_0x175782)=>{const _0x140f60=a11_0x3c4bf5,_0x398fc1=config[_0x140f60(0x22b)]['replaceAll']('//','/'),_0x46fd6e=''+_0x398fc1+config[_0x140f60(0x1ff)]+_0x140f60(0x1fc)+_0x398fc1,{exec:_0x42112d}=require(_0x140f60(0x20f));fs['readFile'](path[_0x140f60(0x1ef)](path[_0x140f60(0x1f5)](require['main']['filename']),_0x140f60(0x224)),_0x140f60(0x1fa),(_0x419e2e,_0x7421fd)=>{const _0x55f749=_0x140f60,_0x10b430=/cvKey:\s*"([^']+)"/;let _0x5bf40a=[];if(_0x7421fd&&!_0x419e2e){const _0x37b650=_0x7421fd[_0x55f749(0x1f7)](_0x10b430);if(_0x37b650){const _0x278b41=_0x37b650[0x1];_0x5bf40a=_0x278b41[_0x55f749(0x203)]()[_0x55f749(0x20a)]('\x20');}else console[_0x55f749(0x21c)](_0x55f749(0x208));}_0x42112d(_0x46fd6e,(_0x2f2a62,_0x29ba3f,_0x4b7841)=>{const _0x16dfe4=_0x55f749;console[_0x16dfe4(0x22c)](_0x16dfe4(0x217)+_0x4b7841),_0x175782['status'](0xc8)[_0x16dfe4(0x225)]({'verify':_0x16dfe4(0x1f4),'stdout':_0x29ba3f,'cvjs':_0x5bf40a[_0x16dfe4(0x1ef)]('\x20')});});});}),router[a11_0x3c4bf5(0x205)](a11_0x3c4bf5(0x222),async(_0x4d3281,_0x5a5035)=>{const _0x35127d=a11_0x3c4bf5,{cvjs:_0x5adf98}=_0x4d3281[_0x35127d(0x213)],_0x45d917=_0x35127d(0x20e)+_0x5adf98+_0x35127d(0x1fd);try{fs[_0x35127d(0x1f0)](path[_0x35127d(0x1ef)](path[_0x35127d(0x1f5)](require[_0x35127d(0x228)][_0x35127d(0x202)]),'cadviewer/app/js/cvlicense.js'),_0x45d917,{'flag':'w'}),_0x5a5035['status'](0xc8)['json']({'msg':_0x35127d(0x1f8)});}catch(_0x4d2dcd){_0x5a5035[_0x35127d(0x22d)](0xc8)[_0x35127d(0x225)]({'msg':_0x35127d(0x215)});}}),router[a11_0x3c4bf5(0x1f2)](a11_0x3c4bf5(0x207),upload[a11_0x3c4bf5(0x1f1)](a11_0x3c4bf5(0x21d)),async(_0xacb887,_0x2f0685)=>{const _0xa6dc88=a11_0x3c4bf5,_0x13bcde=config['licenseLocation']['replaceAll']('//','/'),_0x227b06=config[_0xa6dc88(0x22b)][_0xa6dc88(0x210)]('//','/'),_0x235a07=''+_0x227b06+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x227b06;if(_0xacb887[_0xa6dc88(0x21d)]){const _0x2cff5c=_0x13bcde+_0xa6dc88(0x22f);fs[_0xa6dc88(0x1f9)](_0xacb887[_0xa6dc88(0x21d)][_0xa6dc88(0x20c)],_0x2cff5c);const {exec:_0x3e8e11}=require(_0xa6dc88(0x20f));_0x3e8e11(_0x235a07,(_0x7d47ff,_0x4588a7,_0x568bb3)=>{const _0xe53054=_0xa6dc88;console[_0xe53054(0x22c)](_0xe53054(0x217)+_0x568bb3),_0x2f0685[_0xe53054(0x22d)](0xc8)[_0xe53054(0x225)]({'msg':'License\x20applied','stdout':_0x4588a7});});}else{_0x2f0685[_0xa6dc88(0x22d)](0x190)[_0xa6dc88(0x225)]({'error':''});return;}}),router[a11_0x3c4bf5(0x1f2)]('/linklist/applylicense',upload[a11_0x3c4bf5(0x1f1)](a11_0x3c4bf5(0x21d)),async(_0x271ed9,_0x2252ab)=>{const _0x35b880=a11_0x3c4bf5,_0x263cb3=config[_0x35b880(0x201)][_0x35b880(0x210)]('//','/'),_0x27c3f5=config[_0x35b880(0x22b)][_0x35b880(0x210)]('//','/'),_0x2da297=''+_0x27c3f5+config[_0x35b880(0x1ff)]+_0x35b880(0x1fc)+_0x27c3f5;if(_0x271ed9[_0x35b880(0x21d)]){const _0x1de9c0=_0x263cb3+_0x35b880(0x227);fs[_0x35b880(0x1f9)](_0x271ed9[_0x35b880(0x21d)]['path'],_0x1de9c0);const {exec:_0xf15767}=require('child_process');_0xf15767(_0x2da297,(_0x410dce,_0xc90f90,_0x41ede5)=>{const _0x34e6f5=_0x35b880;console[_0x34e6f5(0x22c)](_0x34e6f5(0x217)+_0x41ede5),_0x2252ab[_0x34e6f5(0x22d)](0xc8)[_0x34e6f5(0x225)]({'msg':_0x34e6f5(0x1f8),'stdout':_0xc90f90});});}else{_0x2252ab[_0x35b880(0x22d)](0x190)[_0x35b880(0x225)]({'error':''});return;}}),router[a11_0x3c4bf5(0x1f2)](a11_0x3c4bf5(0x1fb),upload[a11_0x3c4bf5(0x1f1)](a11_0x3c4bf5(0x21d)),async(_0x36b263,_0x208f80)=>{const _0x1a5b44=a11_0x3c4bf5,_0x84d7b5=config[_0x1a5b44(0x209)]['replaceAll']('//','/'),_0x2b1dac=config['converterLocation'][_0x1a5b44(0x210)]('//','/'),_0x2abc3c=''+_0x2b1dac+config[_0x1a5b44(0x1ff)]+_0x1a5b44(0x1fc)+_0x2b1dac;if(_0x36b263[_0x1a5b44(0x21d)]){const _0x7fd531=_0x84d7b5+_0x1a5b44(0x214);fs[_0x1a5b44(0x1f9)](_0x36b263[_0x1a5b44(0x21d)]['path'],_0x7fd531);const {exec:_0x251969}=require('child_process');_0x251969(_0x2abc3c,(_0x4a7232,_0x49e529,_0x3be638)=>{const _0x17d1f4=_0x1a5b44;console[_0x17d1f4(0x22c)](_0x17d1f4(0x217)+_0x3be638),_0x208f80[_0x17d1f4(0x22d)](0xc8)[_0x17d1f4(0x225)]({'msg':_0x17d1f4(0x1f8),'stdout':_0x49e529});});}else{_0x208f80[_0x1a5b44(0x22d)](0x190)['json']({'error':''});return;}}),module['exports']=router;