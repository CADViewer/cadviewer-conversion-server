const a11_0x37e68f=a11_0x53f3;(function(_0x29f6b8,_0x114f7e){const _0x2a0bb3=a11_0x53f3,_0x54c6ed=_0x29f6b8();while(!![]){try{const _0x1cb68f=parseInt(_0x2a0bb3(0xe8))/0x1+parseInt(_0x2a0bb3(0xf1))/0x2*(-parseInt(_0x2a0bb3(0xea))/0x3)+-parseInt(_0x2a0bb3(0xf6))/0x4+parseInt(_0x2a0bb3(0xf0))/0x5+parseInt(_0x2a0bb3(0xe6))/0x6+-parseInt(_0x2a0bb3(0xed))/0x7+parseInt(_0x2a0bb3(0x101))/0x8;if(_0x1cb68f===_0x114f7e)break;else _0x54c6ed['push'](_0x54c6ed['shift']());}catch(_0x3b2b04){_0x54c6ed['push'](_0x54c6ed['shift']());}}}(a11_0x400a,0x34285));const config=require(a11_0x37e68f(0x110)),multer=require(a11_0x37e68f(0x107)),express=require('express'),router=express[a11_0x37e68f(0x111)](),fs=require('fs'),path=require(a11_0x37e68f(0x117)),{randomUUID}=require(a11_0x37e68f(0xee)),{exec}=require(a11_0x37e68f(0xef)),dir=a11_0x37e68f(0xf3);!fs['existsSync'](dir)&&fs[a11_0x37e68f(0x10e)](dir);function a11_0x400a(){const _0x2c10bb=['Router','cadviewer/app/js/cvlicense.js','renameSync','writeFileSync','put','licenseLocation','path','filename','post','dirname','\x20-verify\x20-lpath=','/dwgmerge/applylicense','status','error','file','diskStorage','67290rmpazk','converterLocation','250776SCTghW','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','6243LtLUQe','License\x20applied','join','934822yffoXL','crypto','child_process','792505FYeobh','42jLlsgD','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','./uploads','single','Error\x20writing\x20licence\x20to\x20file','1587492gYhYin','uploads','main','exports','get','utf8','stderr:\x20','/dl_lic.key','/autoxchange/applylicense','body','verify','2938120TzIaOQ','dwgmergeLocation','cvKey\x20not\x20found','/cvjs/applylicense','replaceAll','log','multer','/ll_lic.key','split','match','json','/linklist/applylicense','cadviewer/app/licence.html','mkdirSync','autoxchange_executable','../CADViewer_config.json'];a11_0x400a=function(){return _0x2c10bb;};return a11_0x400a();}function a11_0x53f3(_0x2bec1f,_0x2cef79){const _0x400a07=a11_0x400a();return a11_0x53f3=function(_0x53f383,_0x14fbe1){_0x53f383=_0x53f383-0xdd;let _0x1e118e=_0x400a07[_0x53f383];return _0x1e118e;},a11_0x53f3(_0x2bec1f,_0x2cef79);}const storage=multer[a11_0x37e68f(0xe5)]({'destination':function(_0x58be59,_0x1e98c4,_0x59e7bd){const _0x3ce090=a11_0x37e68f;_0x59e7bd(null,_0x3ce090(0xf7));}}),upload=multer({'storage':storage});router[a11_0x37e68f(0xfa)]('',async(_0x3244b7,_0x401cbf)=>{const _0x4fb494=a11_0x37e68f;_0x401cbf['sendFile'](path[_0x4fb494(0xec)](path[_0x4fb494(0xdf)](require['main'][_0x4fb494(0xdd)]),_0x4fb494(0x10d)));}),router['get']('/verify',async(_0x33a1a5,_0x5d4e36)=>{const _0x28f52a=a11_0x37e68f,_0xa41b81=config[_0x28f52a(0xe7)][_0x28f52a(0x105)]('//','/'),_0x5e590e=''+_0xa41b81+config[_0x28f52a(0x10f)]+_0x28f52a(0xe0)+_0xa41b81,{exec:_0x1b12ec}=require(_0x28f52a(0xef));fs['readFile'](path[_0x28f52a(0xec)](path[_0x28f52a(0xdf)](require[_0x28f52a(0xf8)][_0x28f52a(0xdd)]),_0x28f52a(0x112)),_0x28f52a(0xfb),(_0x438322,_0x4212b7)=>{const _0x3585af=_0x28f52a,_0x377df4=/cvKey:\s*"([^']+)"/;let _0x2a5a44=[];if(_0x4212b7&&!_0x438322){const _0x441c69=_0x4212b7[_0x3585af(0x10a)](_0x377df4);if(_0x441c69){const _0x5bc466=_0x441c69[0x1];_0x2a5a44=_0x5bc466['trim']()[_0x3585af(0x109)]('\x20');}else console[_0x3585af(0x106)](_0x3585af(0x103));}_0x1b12ec(_0x5e590e,(_0x3a772c,_0xe5d0ca,_0x1351dc)=>{const _0x3b88f4=_0x3585af;console[_0x3b88f4(0xe3)](_0x3b88f4(0xfc)+_0x1351dc),_0x5d4e36[_0x3b88f4(0xe2)](0xc8)['json']({'verify':_0x3b88f4(0x100),'stdout':_0xe5d0ca,'cvjs':_0x2a5a44[_0x3b88f4(0xec)]('\x20')});});});}),router[a11_0x37e68f(0x115)](a11_0x37e68f(0x104),async(_0x7b61e3,_0x35bd8c)=>{const _0xa246d7=a11_0x37e68f,{cvjs:_0x5127bb}=_0x7b61e3[_0xa246d7(0xff)],_0x4180e5=_0xa246d7(0xe9)+_0x5127bb+_0xa246d7(0xf2);try{fs[_0xa246d7(0x114)](path[_0xa246d7(0xec)](path[_0xa246d7(0xdf)](require[_0xa246d7(0xf8)][_0xa246d7(0xdd)]),_0xa246d7(0x112)),_0x4180e5,{'flag':'w'}),_0x35bd8c['status'](0xc8)[_0xa246d7(0x10b)]({'msg':'License\x20applied'});}catch(_0x3db3c8){_0x35bd8c[_0xa246d7(0xe2)](0xc8)['json']({'msg':_0xa246d7(0xf5)});}}),router[a11_0x37e68f(0xde)](a11_0x37e68f(0xfe),upload[a11_0x37e68f(0xf4)]('file'),async(_0x2f12db,_0x530a5a)=>{const _0x5e3dc9=a11_0x37e68f,_0x1064b8=config[_0x5e3dc9(0x116)][_0x5e3dc9(0x105)]('//','/'),_0x34e285=config['converterLocation'][_0x5e3dc9(0x105)]('//','/'),_0x3c20fc=''+_0x34e285+config[_0x5e3dc9(0x10f)]+_0x5e3dc9(0xe0)+_0x34e285;if(_0x2f12db[_0x5e3dc9(0xe4)]){const _0x3919ba=_0x1064b8+'/axlic.key';fs[_0x5e3dc9(0x113)](_0x2f12db[_0x5e3dc9(0xe4)][_0x5e3dc9(0x117)],_0x3919ba);const {exec:_0x5d30a5}=require(_0x5e3dc9(0xef));_0x5d30a5(_0x3c20fc,(_0x1832f5,_0x4d46de,_0x24b887)=>{const _0x10c40a=_0x5e3dc9;console[_0x10c40a(0xe3)](_0x10c40a(0xfc)+_0x24b887),_0x530a5a[_0x10c40a(0xe2)](0xc8)[_0x10c40a(0x10b)]({'msg':'License\x20applied','stdout':_0x4d46de});});}else{_0x530a5a[_0x5e3dc9(0xe2)](0x190)['json']({'error':''});return;}}),router['post'](a11_0x37e68f(0x10c),upload['single'](a11_0x37e68f(0xe4)),async(_0x12fc7a,_0x5d3285)=>{const _0x3bb811=a11_0x37e68f,_0xf88e9d=config['linklistLocation']['replaceAll']('//','/'),_0x17d4f8=config[_0x3bb811(0xe7)]['replaceAll']('//','/'),_0x498321=''+_0x17d4f8+config['autoxchange_executable']+_0x3bb811(0xe0)+_0x17d4f8;if(_0x12fc7a[_0x3bb811(0xe4)]){const _0x64d896=_0xf88e9d+_0x3bb811(0x108);fs[_0x3bb811(0x113)](_0x12fc7a[_0x3bb811(0xe4)][_0x3bb811(0x117)],_0x64d896);const {exec:_0x4c875d}=require(_0x3bb811(0xef));_0x4c875d(_0x498321,(_0x41290a,_0x4d9dd8,_0xd323c1)=>{const _0x2db12f=_0x3bb811;console[_0x2db12f(0xe3)](_0x2db12f(0xfc)+_0xd323c1),_0x5d3285['status'](0xc8)[_0x2db12f(0x10b)]({'msg':_0x2db12f(0xeb),'stdout':_0x4d9dd8});});}else{_0x5d3285[_0x3bb811(0xe2)](0x190)[_0x3bb811(0x10b)]({'error':''});return;}}),router[a11_0x37e68f(0xde)](a11_0x37e68f(0xe1),upload[a11_0x37e68f(0xf4)]('file'),async(_0x450871,_0x7746d9)=>{const _0x41799e=a11_0x37e68f,_0x4f38c9=config[_0x41799e(0x102)][_0x41799e(0x105)]('//','/'),_0x2a16f3=config[_0x41799e(0xe7)][_0x41799e(0x105)]('//','/'),_0x516a08=''+_0x2a16f3+config['autoxchange_executable']+_0x41799e(0xe0)+_0x2a16f3;if(_0x450871[_0x41799e(0xe4)]){const _0x1ff11d=_0x4f38c9+_0x41799e(0xfd);fs['renameSync'](_0x450871['file'][_0x41799e(0x117)],_0x1ff11d);const {exec:_0x1f601e}=require('child_process');_0x1f601e(_0x516a08,(_0x48d7c0,_0x414648,_0x1f51b2)=>{const _0x13bef7=_0x41799e;console['error']('stderr:\x20'+_0x1f51b2),_0x7746d9[_0x13bef7(0xe2)](0xc8)[_0x13bef7(0x10b)]({'msg':_0x13bef7(0xeb),'stdout':_0x414648});});}else{_0x7746d9[_0x41799e(0xe2)](0x190)[_0x41799e(0x10b)]({'error':''});return;}}),module[a11_0x37e68f(0xf9)]=router;