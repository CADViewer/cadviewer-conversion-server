const a11_0x51c47b=a11_0x19d1;(function(_0x290b55,_0x27647d){const _0x174186=a11_0x19d1,_0x3abdb6=_0x290b55();while(!![]){try{const _0x291b1f=parseInt(_0x174186(0xe8))/0x1*(parseInt(_0x174186(0xe5))/0x2)+parseInt(_0x174186(0x105))/0x3*(parseInt(_0x174186(0xf7))/0x4)+-parseInt(_0x174186(0xf0))/0x5+parseInt(_0x174186(0x106))/0x6+-parseInt(_0x174186(0xed))/0x7+parseInt(_0x174186(0xe9))/0x8+-parseInt(_0x174186(0x104))/0x9;if(_0x291b1f===_0x27647d)break;else _0x3abdb6['push'](_0x3abdb6['shift']());}catch(_0x2c3416){_0x3abdb6['push'](_0x3abdb6['shift']());}}}(a11_0x20fd,0x5ed8e));function a11_0x19d1(_0x45ef4b,_0x454fcf){const _0x20fd9f=a11_0x20fd();return a11_0x19d1=function(_0x19d1e7,_0x484b8a){_0x19d1e7=_0x19d1e7-0xd0;let _0x1481c7=_0x20fd9f[_0x19d1e7];return _0x1481c7;},a11_0x19d1(_0x45ef4b,_0x454fcf);}const config=require(a11_0x51c47b(0xfe)),multer=require(a11_0x51c47b(0xd1)),express=require('express'),router=express[a11_0x51c47b(0xea)](),fs=require('fs'),path=require(a11_0x51c47b(0xe6)),{randomUUID}=require(a11_0x51c47b(0xf1)),{exec}=require(a11_0x51c47b(0xdb)),dir=a11_0x51c47b(0xda);!fs[a11_0x51c47b(0xff)](dir)&&fs['mkdirSync'](dir);const storage=multer[a11_0x51c47b(0xd2)]({'destination':function(_0x5c4c60,_0x2e3b65,_0x492b00){const _0x4ff7f5=a11_0x51c47b;_0x492b00(null,_0x4ff7f5(0xfd));}}),upload=multer({'storage':storage});function a11_0x20fd(){const _0x9e0c94=['split','main','error','uploads','../CADViewer_config.json','existsSync','dirname','Error\x20writing\x20licence\x20to\x20file','/dl_lic.key','/verify','2538117itCccl','349593ZBnpPv','3925308getMIE','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','/axlic.key','multer','diskStorage','writeFileSync','renameSync','cadviewer/app/js/cvlicense.js','get','join','/cvjs/applylicense','/autoxchange/applylicense','./uploads','child_process','put','single','status','stderr:\x20','\x20-verify\x20-lpath=','post','linklistLocation','filename','json','46Lqpquc','path','/ll_lic.key','2506FhQcCh','374440DCCXUb','Router','sendFile','License\x20applied','3020087xNhWvR','converterLocation','body','31530aUNsik','crypto','file','utf8','replaceAll','match','licenseLocation','12oqDiEF','readFile','autoxchange_executable'];a11_0x20fd=function(){return _0x9e0c94;};return a11_0x20fd();}router[a11_0x51c47b(0xd6)]('',async(_0x5af385,_0x3ee7f0)=>{const _0x1da00e=a11_0x51c47b;_0x3ee7f0[_0x1da00e(0xeb)](path['join'](path['dirname'](require[_0x1da00e(0xfb)]['filename']),'cadviewer/app/licence.html'));}),router[a11_0x51c47b(0xd6)](a11_0x51c47b(0x103),async(_0x5a7420,_0x19ac1a)=>{const _0x4fe564=a11_0x51c47b,_0x33719b=config[_0x4fe564(0xee)][_0x4fe564(0xf4)]('//','/'),_0x3790d7=''+_0x33719b+config[_0x4fe564(0xf9)]+_0x4fe564(0xe0)+_0x33719b,{exec:_0x10b6ac}=require(_0x4fe564(0xdb));fs[_0x4fe564(0xf8)](path[_0x4fe564(0xd7)](path[_0x4fe564(0x100)](require['main'][_0x4fe564(0xe3)]),_0x4fe564(0xd5)),_0x4fe564(0xf3),(_0x294e14,_0x3cf0e4)=>{const _0x17de87=_0x4fe564,_0x1af259=/cvKey:\s*"([^']+)"/;let _0x366867=[];if(_0x3cf0e4&&!_0x294e14){const _0xbd5905=_0x3cf0e4[_0x17de87(0xf5)](_0x1af259);if(_0xbd5905){const _0x5e0fc3=_0xbd5905[0x1];_0x366867=_0x5e0fc3['trim']()[_0x17de87(0xfa)]('\x20');}else console['log']('cvKey\x20not\x20found');}_0x10b6ac(_0x3790d7,(_0x2ea559,_0x1e1b42,_0x5131d3)=>{const _0x529293=_0x17de87;console[_0x529293(0xfc)](_0x529293(0xdf)+_0x5131d3),_0x19ac1a[_0x529293(0xde)](0xc8)['json']({'verify':'verify','stdout':_0x1e1b42,'cvjs':_0x366867[_0x529293(0xd7)]('\x20')});});});}),router[a11_0x51c47b(0xdc)](a11_0x51c47b(0xd8),async(_0x3eeccf,_0x253f3c)=>{const _0x319f7a=a11_0x51c47b,{cvjs:_0x4ce10e}=_0x3eeccf[_0x319f7a(0xef)],_0x468a4d='\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22'+_0x4ce10e+_0x319f7a(0x107);try{fs[_0x319f7a(0xd3)](path[_0x319f7a(0xd7)](path[_0x319f7a(0x100)](require[_0x319f7a(0xfb)][_0x319f7a(0xe3)]),_0x319f7a(0xd5)),_0x468a4d,{'flag':'w'}),_0x253f3c[_0x319f7a(0xde)](0xc8)[_0x319f7a(0xe4)]({'msg':'License\x20applied'});}catch(_0x20d4d9){_0x253f3c[_0x319f7a(0xde)](0xc8)[_0x319f7a(0xe4)]({'msg':_0x319f7a(0x101)});}}),router[a11_0x51c47b(0xe1)](a11_0x51c47b(0xd9),upload[a11_0x51c47b(0xdd)](a11_0x51c47b(0xf2)),async(_0x4a768c,_0x326d93)=>{const _0x152de1=a11_0x51c47b,_0x99b638=config[_0x152de1(0xf6)][_0x152de1(0xf4)]('//','/'),_0x75c8c3=config[_0x152de1(0xee)][_0x152de1(0xf4)]('//','/'),_0x2f47ad=''+_0x75c8c3+config[_0x152de1(0xf9)]+'\x20-verify\x20-lpath='+_0x75c8c3;if(_0x4a768c[_0x152de1(0xf2)]){const _0x44c1a9=_0x99b638+_0x152de1(0xd0);fs['renameSync'](_0x4a768c['file'][_0x152de1(0xe6)],_0x44c1a9);const {exec:_0x3434e1}=require(_0x152de1(0xdb));_0x3434e1(_0x2f47ad,(_0x44b466,_0x1d35be,_0x3738ca)=>{const _0x46b4e=_0x152de1;console[_0x46b4e(0xfc)]('stderr:\x20'+_0x3738ca),_0x326d93[_0x46b4e(0xde)](0xc8)[_0x46b4e(0xe4)]({'msg':_0x46b4e(0xec),'stdout':_0x1d35be});});}else{_0x326d93['status'](0x190)[_0x152de1(0xe4)]({'error':''});return;}}),router[a11_0x51c47b(0xe1)]('/linklist/applylicense',upload['single'](a11_0x51c47b(0xf2)),async(_0x2862b0,_0x18ef59)=>{const _0x4dd9fd=a11_0x51c47b,_0x3c3bbe=config[_0x4dd9fd(0xe2)][_0x4dd9fd(0xf4)]('//','/'),_0x240a47=config[_0x4dd9fd(0xee)]['replaceAll']('//','/'),_0x418f1b=''+_0x240a47+config[_0x4dd9fd(0xf9)]+_0x4dd9fd(0xe0)+_0x240a47;if(_0x2862b0[_0x4dd9fd(0xf2)]){const _0x5ad165=_0x3c3bbe+_0x4dd9fd(0xe7);fs[_0x4dd9fd(0xd4)](_0x2862b0[_0x4dd9fd(0xf2)]['path'],_0x5ad165);const {exec:_0x5487f5}=require(_0x4dd9fd(0xdb));_0x5487f5(_0x418f1b,(_0xa12f4e,_0x944945,_0x1f95cb)=>{const _0xbf6b1b=_0x4dd9fd;console[_0xbf6b1b(0xfc)](_0xbf6b1b(0xdf)+_0x1f95cb),_0x18ef59[_0xbf6b1b(0xde)](0xc8)[_0xbf6b1b(0xe4)]({'msg':_0xbf6b1b(0xec),'stdout':_0x944945});});}else{_0x18ef59['status'](0x190)[_0x4dd9fd(0xe4)]({'error':''});return;}}),router['post']('/dwgmerge/applylicense',upload['single'](a11_0x51c47b(0xf2)),async(_0x395f0b,_0x493b75)=>{const _0x5ae7d2=a11_0x51c47b,_0x5193eb=config['dwgmergeLocation'][_0x5ae7d2(0xf4)]('//','/'),_0x50db47=config[_0x5ae7d2(0xee)][_0x5ae7d2(0xf4)]('//','/'),_0x40c5be=''+_0x50db47+config[_0x5ae7d2(0xf9)]+_0x5ae7d2(0xe0)+_0x50db47;if(_0x395f0b[_0x5ae7d2(0xf2)]){const _0x654f06=_0x5193eb+_0x5ae7d2(0x102);fs['renameSync'](_0x395f0b[_0x5ae7d2(0xf2)][_0x5ae7d2(0xe6)],_0x654f06);const {exec:_0x4c346d}=require(_0x5ae7d2(0xdb));_0x4c346d(_0x40c5be,(_0x57b165,_0x206cba,_0x587098)=>{const _0x10b660=_0x5ae7d2;console[_0x10b660(0xfc)](_0x10b660(0xdf)+_0x587098),_0x493b75[_0x10b660(0xde)](0xc8)[_0x10b660(0xe4)]({'msg':_0x10b660(0xec),'stdout':_0x206cba});});}else{_0x493b75['status'](0x190)[_0x5ae7d2(0xe4)]({'error':''});return;}}),module['exports']=router;