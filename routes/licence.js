const a11_0x2fe0d3=a11_0x394d;function a11_0x394d(_0x2b28f4,_0xd73f43){const _0x3cd370=a11_0x3cd3();return a11_0x394d=function(_0x394dc8,_0x54f0c8){_0x394dc8=_0x394dc8-0x13c;let _0x483645=_0x3cd370[_0x394dc8];return _0x483645;},a11_0x394d(_0x2b28f4,_0xd73f43);}(function(_0x361ce8,_0x1141c4){const _0x10af96=a11_0x394d,_0x16d04e=_0x361ce8();while(!![]){try{const _0x331979=parseInt(_0x10af96(0x159))/0x1*(parseInt(_0x10af96(0x15d))/0x2)+parseInt(_0x10af96(0x161))/0x3+parseInt(_0x10af96(0x169))/0x4+parseInt(_0x10af96(0x16a))/0x5*(parseInt(_0x10af96(0x158))/0x6)+-parseInt(_0x10af96(0x13c))/0x7*(parseInt(_0x10af96(0x142))/0x8)+-parseInt(_0x10af96(0x173))/0x9+parseInt(_0x10af96(0x14b))/0xa;if(_0x331979===_0x1141c4)break;else _0x16d04e['push'](_0x16d04e['shift']());}catch(_0x1ad90a){_0x16d04e['push'](_0x16d04e['shift']());}}}(a11_0x3cd3,0x87c38));const config=require(a11_0x2fe0d3(0x164)),multer=require(a11_0x2fe0d3(0x140)),express=require(a11_0x2fe0d3(0x154)),router=express[a11_0x2fe0d3(0x14f)](),fs=require('fs'),path=require(a11_0x2fe0d3(0x170)),{randomUUID}=require(a11_0x2fe0d3(0x147)),{exec}=require(a11_0x2fe0d3(0x13f)),dir=a11_0x2fe0d3(0x16b);!fs[a11_0x2fe0d3(0x15f)](dir)&&fs['mkdirSync'](dir);const storage=multer['diskStorage']({'destination':function(_0x10ccc8,_0x32596d,_0x36faf5){const _0x1a3e1b=a11_0x2fe0d3;_0x36faf5(null,_0x1a3e1b(0x152));}}),upload=multer({'storage':storage});function a11_0x3cd3(){const _0x109acf=['linklistLocation','utf8','split','2786560iyeeVe','cadviewer/app/js/cvlicense.js','converterLocation','verify','Router','renameSync','post','uploads','cvKey\x20not\x20found','express','replaceAll','get','autoxchange_executable','35214cMTHKL','1ESpKmz','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','licenseLocation','dirname','975514UUJwuA','/ll_lic.key','existsSync','log','2273628fWBdUV','/axlic.key','trim','../CADViewer_config.json','exports','put','sendFile','json','3618032mmBhRE','105BlxHdX','./uploads','single','License\x20applied','\x20-verify\x20-lpath=','body','path','status','file','9243810XlqRNj','match','filename','stderr:\x20','251188rTWTiJ','writeFileSync','/autoxchange/applylicense','child_process','multer','main','216XYMOvg','error','join','/cvjs/applylicense','cadviewer/app/licence.html','crypto'];a11_0x3cd3=function(){return _0x109acf;};return a11_0x3cd3();}router[a11_0x2fe0d3(0x156)]('',async(_0x31e161,_0x214330)=>{const _0xe7b2a0=a11_0x2fe0d3;_0x214330[_0xe7b2a0(0x167)](path[_0xe7b2a0(0x144)](path['dirname'](require['main']['filename']),_0xe7b2a0(0x146)));}),router['get']('/verify',async(_0x1aacdf,_0x58636c)=>{const _0x5e5058=a11_0x2fe0d3,_0xb75652=config['converterLocation'][_0x5e5058(0x155)]('//','/'),_0x280edf=''+_0xb75652+config[_0x5e5058(0x157)]+_0x5e5058(0x16e)+_0xb75652,{exec:_0x58e628}=require(_0x5e5058(0x13f));fs['readFile'](path[_0x5e5058(0x144)](path[_0x5e5058(0x15c)](require[_0x5e5058(0x141)][_0x5e5058(0x175)]),_0x5e5058(0x14c)),_0x5e5058(0x149),(_0x264557,_0x172006)=>{const _0x52e9a3=_0x5e5058,_0x1b79fe=/cvKey:\s*"([^']+)"/;let _0x1ed8da=[];if(_0x172006&&!_0x264557){const _0xc66f2e=_0x172006[_0x52e9a3(0x174)](_0x1b79fe);if(_0xc66f2e){const _0x5f10bd=_0xc66f2e[0x1];_0x1ed8da=_0x5f10bd[_0x52e9a3(0x163)]()[_0x52e9a3(0x14a)]('\x20');}else console[_0x52e9a3(0x160)](_0x52e9a3(0x153));}_0x58e628(_0x280edf,(_0x195056,_0x22755c,_0x1c911b)=>{const _0x8f72c5=_0x52e9a3;console[_0x8f72c5(0x143)](_0x8f72c5(0x176)+_0x1c911b),_0x58636c[_0x8f72c5(0x171)](0xc8)[_0x8f72c5(0x168)]({'verify':_0x8f72c5(0x14e),'stdout':_0x22755c,'cvjs':_0x1ed8da[_0x8f72c5(0x144)]('\x20')});});});}),router[a11_0x2fe0d3(0x166)](a11_0x2fe0d3(0x145),async(_0x38f655,_0x2475c9)=>{const _0x1bedac=a11_0x2fe0d3,{cvjs:_0x5de28b}=_0x38f655[_0x1bedac(0x16f)],_0x251fa1=_0x1bedac(0x15a)+_0x5de28b+'\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20';try{fs[_0x1bedac(0x13d)](path[_0x1bedac(0x144)](path['dirname'](require['main']['filename']),_0x1bedac(0x14c)),_0x251fa1,{'flag':'w'}),_0x2475c9[_0x1bedac(0x171)](0xc8)[_0x1bedac(0x168)]({'msg':'License\x20applied'});}catch(_0x6c7cc9){_0x2475c9['status'](0xc8)[_0x1bedac(0x168)]({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router[a11_0x2fe0d3(0x151)](a11_0x2fe0d3(0x13e),upload[a11_0x2fe0d3(0x16c)](a11_0x2fe0d3(0x172)),async(_0x4bf362,_0x1d0e7f)=>{const _0xdada95=a11_0x2fe0d3,_0x181a30=config[_0xdada95(0x15b)][_0xdada95(0x155)]('//','/'),_0x3fa2a7=config['converterLocation'][_0xdada95(0x155)]('//','/'),_0x4cdefa=''+_0x3fa2a7+config['autoxchange_executable']+_0xdada95(0x16e)+_0x3fa2a7;if(_0x4bf362[_0xdada95(0x172)]){const _0x22b8b1=_0x181a30+_0xdada95(0x162);fs[_0xdada95(0x150)](_0x4bf362[_0xdada95(0x172)]['path'],_0x22b8b1);const {exec:_0x5106e5}=require(_0xdada95(0x13f));_0x5106e5(_0x4cdefa,(_0x2c23e4,_0x5325b4,_0x1d6da4)=>{const _0x395574=_0xdada95;console[_0x395574(0x143)](_0x395574(0x176)+_0x1d6da4),_0x1d0e7f['status'](0xc8)['json']({'msg':_0x395574(0x16d),'stdout':_0x5325b4});});}else{_0x1d0e7f[_0xdada95(0x171)](0x190)[_0xdada95(0x168)]({'error':''});return;}}),router['post']('/linklist/applylicense',upload[a11_0x2fe0d3(0x16c)](a11_0x2fe0d3(0x172)),async(_0x4421a7,_0xf4c6a)=>{const _0xfe0b73=a11_0x2fe0d3,_0x5ee7f6=config[_0xfe0b73(0x148)]['replaceAll']('//','/'),_0xa023d2=config[_0xfe0b73(0x14d)][_0xfe0b73(0x155)]('//','/'),_0x54e4fd=''+_0xa023d2+config['autoxchange_executable']+_0xfe0b73(0x16e)+_0xa023d2;if(_0x4421a7[_0xfe0b73(0x172)]){const _0x4a5267=_0x5ee7f6+_0xfe0b73(0x15e);fs['renameSync'](_0x4421a7[_0xfe0b73(0x172)]['path'],_0x4a5267);const {exec:_0x5d1e56}=require(_0xfe0b73(0x13f));_0x5d1e56(_0x54e4fd,(_0x24e49a,_0x57f33b,_0x5889f8)=>{const _0x5aacf2=_0xfe0b73;console['error'](_0x5aacf2(0x176)+_0x5889f8),_0xf4c6a[_0x5aacf2(0x171)](0xc8)['json']({'msg':_0x5aacf2(0x16d),'stdout':_0x57f33b});});}else{_0xf4c6a[_0xfe0b73(0x171)](0x190)['json']({'error':''});return;}}),router['post']('/dwgmerge/applylicense',upload['single'](a11_0x2fe0d3(0x172)),async(_0x104739,_0x4da4da)=>{const _0x348cbc=a11_0x2fe0d3,_0x2bdb15=config['dwgmergeLocation'][_0x348cbc(0x155)]('//','/'),_0xe01f29=config['converterLocation'][_0x348cbc(0x155)]('//','/'),_0x3a611b=''+_0xe01f29+config[_0x348cbc(0x157)]+_0x348cbc(0x16e)+_0xe01f29;if(_0x104739[_0x348cbc(0x172)]){const _0x44f124=_0x2bdb15+'/dl_lic.key';fs['renameSync'](_0x104739['file'][_0x348cbc(0x170)],_0x44f124);const {exec:_0xaf3950}=require(_0x348cbc(0x13f));_0xaf3950(_0x3a611b,(_0x110654,_0x47cd9b,_0x5f0b3d)=>{const _0x3478d5=_0x348cbc;console['error'](_0x3478d5(0x176)+_0x5f0b3d),_0x4da4da[_0x3478d5(0x171)](0xc8)[_0x3478d5(0x168)]({'msg':_0x3478d5(0x16d),'stdout':_0x47cd9b});});}else{_0x4da4da[_0x348cbc(0x171)](0x190)['json']({'error':''});return;}}),module[a11_0x2fe0d3(0x165)]=router;