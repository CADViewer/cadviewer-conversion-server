const a11_0x20f73e=a11_0x4c9a;(function(_0x9c27ef,_0x1dcd42){const _0x4f32c2=a11_0x4c9a,_0x44815d=_0x9c27ef();while(!![]){try{const _0x5d1afc=-parseInt(_0x4f32c2(0xce))/0x1+-parseInt(_0x4f32c2(0xab))/0x2*(parseInt(_0x4f32c2(0xd6))/0x3)+-parseInt(_0x4f32c2(0xcf))/0x4*(parseInt(_0x4f32c2(0xc5))/0x5)+-parseInt(_0x4f32c2(0xc9))/0x6*(parseInt(_0x4f32c2(0xc3))/0x7)+-parseInt(_0x4f32c2(0xbe))/0x8*(-parseInt(_0x4f32c2(0xb3))/0x9)+-parseInt(_0x4f32c2(0xd0))/0xa*(-parseInt(_0x4f32c2(0xcb))/0xb)+parseInt(_0x4f32c2(0xc6))/0xc;if(_0x5d1afc===_0x1dcd42)break;else _0x44815d['push'](_0x44815d['shift']());}catch(_0x98bc52){_0x44815d['push'](_0x44815d['shift']());}}}(a11_0x214a,0xd8e4d));function a11_0x4c9a(_0x13182c,_0x1e0ec5){const _0x214abe=a11_0x214a();return a11_0x4c9a=function(_0x4c9a0f,_0x2d4d20){_0x4c9a0f=_0x4c9a0f-0x9f;let _0x573a7b=_0x214abe[_0x4c9a0f];return _0x573a7b;},a11_0x4c9a(_0x13182c,_0x1e0ec5);}const config=require(a11_0x20f73e(0xad)),multer=require(a11_0x20f73e(0xac)),express=require(a11_0x20f73e(0xcd)),router=express['Router'](),fs=require('fs'),path=require('path'),{randomUUID}=require(a11_0x20f73e(0xca)),{exec}=require(a11_0x20f73e(0xb6)),dir=a11_0x20f73e(0xc1);!fs[a11_0x20f73e(0xa0)](dir)&&fs[a11_0x20f73e(0xa1)](dir);function a11_0x214a(){const _0x5880b9=['error','sendFile','json','cvKey\x20not\x20found','cadviewer/app/licence.html','2Zhkcuc','multer','../CADViewer_config.json','cadviewer/app/js/cvlicense.js','get','converterLocation','\x20-verify\x20-lpath=','/verify','2763081HdPWzQ','renameSync','put','child_process','post','exports','file','status','replaceAll','/ll_lic.key','/cvjs/applylicense','8afDqvV','join','verify','./uploads','/dl_lic.key','4375ZIaRih','log','2210zRbbdu','33295296WOVYTc','uploads','split','15072cZACsa','crypto','3330217pibWip','/dwgmerge/applylicense','express','774869JjszXx','8908rTolqV','40ZwVqVe','/axlic.key','autoxchange_executable','path','main','writeFileSync','225015XuIQMY','stderr:\x20','dirname','dwgmergeLocation','License\x20applied','/autoxchange/applylicense','existsSync','mkdirSync','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','single','filename'];a11_0x214a=function(){return _0x5880b9;};return a11_0x214a();}const storage=multer['diskStorage']({'destination':function(_0xe7234e,_0x1d5118,_0x135ec5){const _0x4a4f26=a11_0x20f73e;_0x135ec5(null,_0x4a4f26(0xc7));}}),upload=multer({'storage':storage});router[a11_0x20f73e(0xaf)]('',async(_0x15e286,_0x2f23a2)=>{const _0x3e3a5b=a11_0x20f73e;_0x2f23a2[_0x3e3a5b(0xa7)](path[_0x3e3a5b(0xbf)](path[_0x3e3a5b(0xd8)](require[_0x3e3a5b(0xd4)][_0x3e3a5b(0xa5)]),_0x3e3a5b(0xaa)));}),router['get'](a11_0x20f73e(0xb2),async(_0x4db4d9,_0x210227)=>{const _0x2bb38c=a11_0x20f73e,_0x1cb645=config[_0x2bb38c(0xb0)]['replaceAll']('//','/'),_0x2ad838=''+_0x1cb645+config[_0x2bb38c(0xd2)]+'\x20-verify\x20-lpath='+_0x1cb645,{exec:_0x30b2d9}=require(_0x2bb38c(0xb6));fs['readFile'](path[_0x2bb38c(0xbf)](path['dirname'](require['main'][_0x2bb38c(0xa5)]),_0x2bb38c(0xae)),'utf8',(_0x5e8c79,_0xbb0a91)=>{const _0x1fc322=_0x2bb38c,_0x17eeeb=/cvKey:\s*"([^']+)"/;let _0x16c4e6=[];if(_0xbb0a91&&!_0x5e8c79){const _0x24b2b3=_0xbb0a91['match'](_0x17eeeb);if(_0x24b2b3){const _0x57d89e=_0x24b2b3[0x1];_0x16c4e6=_0x57d89e['trim']()[_0x1fc322(0xc8)]('\x20');}else console[_0x1fc322(0xc4)](_0x1fc322(0xa9));}_0x30b2d9(_0x2ad838,(_0x2bf923,_0x4d65aa,_0x104ad7)=>{const _0x21313a=_0x1fc322;console['error'](_0x21313a(0xd7)+_0x104ad7),_0x210227[_0x21313a(0xba)](0xc8)['json']({'verify':_0x21313a(0xc0),'stdout':_0x4d65aa,'cvjs':_0x16c4e6['join']('\x20')});});});}),router[a11_0x20f73e(0xb5)](a11_0x20f73e(0xbd),async(_0x10688e,_0x376dc7)=>{const _0x3e2dca=a11_0x20f73e,{cvjs:_0x2a4bfc}=_0x10688e['body'],_0x44871e=_0x3e2dca(0xa3)+_0x2a4bfc+_0x3e2dca(0xa2);try{fs[_0x3e2dca(0xd5)](path[_0x3e2dca(0xbf)](path[_0x3e2dca(0xd8)](require['main'][_0x3e2dca(0xa5)]),_0x3e2dca(0xae)),_0x44871e,{'flag':'w'}),_0x376dc7['status'](0xc8)[_0x3e2dca(0xa8)]({'msg':_0x3e2dca(0xda)});}catch(_0x15e8de){_0x376dc7[_0x3e2dca(0xba)](0xc8)[_0x3e2dca(0xa8)]({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router[a11_0x20f73e(0xb7)](a11_0x20f73e(0x9f),upload[a11_0x20f73e(0xa4)](a11_0x20f73e(0xb9)),async(_0x4754ac,_0x3a8dee)=>{const _0x21ff69=a11_0x20f73e,_0x46cdd6=config['licenseLocation'][_0x21ff69(0xbb)]('//','/'),_0x587777=config[_0x21ff69(0xb0)]['replaceAll']('//','/'),_0x220f27=''+_0x587777+config[_0x21ff69(0xd2)]+_0x21ff69(0xb1)+_0x587777;if(_0x4754ac[_0x21ff69(0xb9)]){const _0x27c940=_0x46cdd6+_0x21ff69(0xd1);fs[_0x21ff69(0xb4)](_0x4754ac[_0x21ff69(0xb9)][_0x21ff69(0xd3)],_0x27c940);const {exec:_0x31df8c}=require(_0x21ff69(0xb6));_0x31df8c(_0x220f27,(_0x470f39,_0x3e9a0f,_0x94600f)=>{const _0x2d79ca=_0x21ff69;console['error'](_0x2d79ca(0xd7)+_0x94600f),_0x3a8dee['status'](0xc8)[_0x2d79ca(0xa8)]({'msg':'License\x20applied','stdout':_0x3e9a0f});});}else{_0x3a8dee[_0x21ff69(0xba)](0x190)[_0x21ff69(0xa8)]({'error':''});return;}}),router[a11_0x20f73e(0xb7)]('/linklist/applylicense',upload[a11_0x20f73e(0xa4)](a11_0x20f73e(0xb9)),async(_0x4dc274,_0x59e216)=>{const _0x145582=a11_0x20f73e,_0x3b3311=config['linklistLocation'][_0x145582(0xbb)]('//','/'),_0x5ab560=config[_0x145582(0xb0)][_0x145582(0xbb)]('//','/'),_0xc4b54e=''+_0x5ab560+config[_0x145582(0xd2)]+'\x20-verify\x20-lpath='+_0x5ab560;if(_0x4dc274[_0x145582(0xb9)]){const _0x3685ec=_0x3b3311+_0x145582(0xbc);fs['renameSync'](_0x4dc274[_0x145582(0xb9)][_0x145582(0xd3)],_0x3685ec);const {exec:_0x46c8cf}=require('child_process');_0x46c8cf(_0xc4b54e,(_0x180042,_0x18ae77,_0x384113)=>{const _0xc69ee1=_0x145582;console['error'](_0xc69ee1(0xd7)+_0x384113),_0x59e216['status'](0xc8)['json']({'msg':_0xc69ee1(0xda),'stdout':_0x18ae77});});}else{_0x59e216[_0x145582(0xba)](0x190)[_0x145582(0xa8)]({'error':''});return;}}),router['post'](a11_0x20f73e(0xcc),upload[a11_0x20f73e(0xa4)]('file'),async(_0x30813b,_0x420d80)=>{const _0x3781ea=a11_0x20f73e,_0x13c299=config[_0x3781ea(0xd9)][_0x3781ea(0xbb)]('//','/'),_0x1fe0ff=config['converterLocation']['replaceAll']('//','/'),_0x3f9675=''+_0x1fe0ff+config[_0x3781ea(0xd2)]+'\x20-verify\x20-lpath='+_0x1fe0ff;if(_0x30813b[_0x3781ea(0xb9)]){const _0xe2ae21=_0x13c299+_0x3781ea(0xc2);fs[_0x3781ea(0xb4)](_0x30813b[_0x3781ea(0xb9)][_0x3781ea(0xd3)],_0xe2ae21);const {exec:_0x228947}=require(_0x3781ea(0xb6));_0x228947(_0x3f9675,(_0x33a339,_0xb30014,_0x1ff9c5)=>{const _0x224488=_0x3781ea;console[_0x224488(0xa6)]('stderr:\x20'+_0x1ff9c5),_0x420d80[_0x224488(0xba)](0xc8)['json']({'msg':_0x224488(0xda),'stdout':_0xb30014});});}else{_0x420d80[_0x3781ea(0xba)](0x190)[_0x3781ea(0xa8)]({'error':''});return;}}),module[a11_0x20f73e(0xb8)]=router;