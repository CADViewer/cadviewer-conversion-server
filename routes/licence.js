const a11_0x402ca1=a11_0x1957;(function(_0x4da60b,_0x40c979){const _0x341596=a11_0x1957,_0x2f261b=_0x4da60b();while(!![]){try{const _0x2ee91a=-parseInt(_0x341596(0x1e4))/0x1+-parseInt(_0x341596(0x1e1))/0x2+parseInt(_0x341596(0x1ce))/0x3*(-parseInt(_0x341596(0x1dc))/0x4)+-parseInt(_0x341596(0x1d2))/0x5+-parseInt(_0x341596(0x1e3))/0x6+-parseInt(_0x341596(0x1de))/0x7+parseInt(_0x341596(0x1f1))/0x8;if(_0x2ee91a===_0x40c979)break;else _0x2f261b['push'](_0x2f261b['shift']());}catch(_0x5db311){_0x2f261b['push'](_0x2f261b['shift']());}}}(a11_0x57bf,0xcc761));function a11_0x1957(_0x11ab91,_0x150ed0){const _0x57bfe9=a11_0x57bf();return a11_0x1957=function(_0x19578f,_0x1af6ab){_0x19578f=_0x19578f-0x1c2;let _0x4ef2f1=_0x57bfe9[_0x19578f];return _0x4ef2f1;},a11_0x1957(_0x11ab91,_0x150ed0);}function a11_0x57bf(){const _0x4febac=['licenseLocation','/cvjs/applylicense','License\x20applied','../CADViewer_config.json','cadviewer/app/js/cvlicense.js','post','get','join','3wsxGUT','sendFile','/dl_lic.key','match','3330180dvHKqD','diskStorage','json','/ll_lic.key','stderr:\x20','crypto','writeFileSync','trim','dwgmergeLocation','exports','469880IozXgC','main','7732592KcDbpW','error','readFile','2840600POzUSu','path','356292thHHiQ','316379GSxgnP','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','uploads','/axlic.key','converterLocation','./uploads','express','filename','split','cadviewer/app/licence.html','utf8','dirname','36173568QXJJPb','/autoxchange/applylicense','autoxchange_executable','/verify','file','child_process','/linklist/applylicense','put','single','renameSync','Router','status','replaceAll'];a11_0x57bf=function(){return _0x4febac;};return a11_0x57bf();}const config=require(a11_0x402ca1(0x1c9)),multer=require('multer'),express=require(a11_0x402ca1(0x1eb)),router=express[a11_0x402ca1(0x1c3)](),fs=require('fs'),path=require(a11_0x402ca1(0x1e2)),{randomUUID}=require(a11_0x402ca1(0x1d7)),{exec}=require(a11_0x402ca1(0x1f6)),dir=a11_0x402ca1(0x1ea);!fs['existsSync'](dir)&&fs['mkdirSync'](dir);const storage=multer[a11_0x402ca1(0x1d3)]({'destination':function(_0x4ab504,_0x32fcc9,_0x1a032c){const _0x501c0=a11_0x402ca1;_0x1a032c(null,_0x501c0(0x1e7));}}),upload=multer({'storage':storage});router[a11_0x402ca1(0x1cc)]('',async(_0x40789d,_0x50991d)=>{const _0x44068f=a11_0x402ca1;_0x50991d[_0x44068f(0x1cf)](path[_0x44068f(0x1cd)](path[_0x44068f(0x1f0)](require['main'][_0x44068f(0x1ec)]),_0x44068f(0x1ee)));}),router[a11_0x402ca1(0x1cc)](a11_0x402ca1(0x1f4),async(_0x5c8c02,_0xd5730d)=>{const _0x457203=a11_0x402ca1,_0x4ce355=config[_0x457203(0x1e9)][_0x457203(0x1c5)]('//','/'),_0x1901fb=''+_0x4ce355+config[_0x457203(0x1f3)]+'\x20-verify\x20-lpath='+_0x4ce355,{exec:_0x1f50e5}=require('child_process');fs[_0x457203(0x1e0)](path[_0x457203(0x1cd)](path[_0x457203(0x1f0)](require[_0x457203(0x1dd)][_0x457203(0x1ec)]),_0x457203(0x1ca)),_0x457203(0x1ef),(_0xaae42e,_0x776019)=>{const _0x46a528=_0x457203,_0x23d3d4=/cvKey:\s*"([^']+)"/;let _0x31e399=[];if(_0x776019&&!_0xaae42e){const _0xb30a6b=_0x776019[_0x46a528(0x1d1)](_0x23d3d4);if(_0xb30a6b){const _0xa6748c=_0xb30a6b[0x1];_0x31e399=_0xa6748c[_0x46a528(0x1d9)]()[_0x46a528(0x1ed)]('\x20');}else console['log']('cvKey\x20not\x20found');}_0x1f50e5(_0x1901fb,(_0x460f51,_0x5c7a8e,_0xab3483)=>{const _0x57c031=_0x46a528;console[_0x57c031(0x1df)](_0x57c031(0x1d6)+_0xab3483),_0xd5730d[_0x57c031(0x1c4)](0xc8)[_0x57c031(0x1d4)]({'verify':'verify','stdout':_0x5c7a8e,'cvjs':_0x31e399[_0x57c031(0x1cd)]('\x20')});});});}),router[a11_0x402ca1(0x1f8)](a11_0x402ca1(0x1c7),async(_0x3ebf75,_0x32ea22)=>{const _0x38d0c6=a11_0x402ca1,{cvjs:_0x5b7d23}=_0x3ebf75['body'],_0x51973d=_0x38d0c6(0x1e6)+_0x5b7d23+_0x38d0c6(0x1e5);try{fs[_0x38d0c6(0x1d8)](path[_0x38d0c6(0x1cd)](path[_0x38d0c6(0x1f0)](require[_0x38d0c6(0x1dd)]['filename']),_0x38d0c6(0x1ca)),_0x51973d,{'flag':'w'}),_0x32ea22[_0x38d0c6(0x1c4)](0xc8)[_0x38d0c6(0x1d4)]({'msg':_0x38d0c6(0x1c8)});}catch(_0x420bb7){_0x32ea22[_0x38d0c6(0x1c4)](0xc8)[_0x38d0c6(0x1d4)]({'msg':'Error\x20writing\x20licence\x20to\x20file'});}}),router[a11_0x402ca1(0x1cb)](a11_0x402ca1(0x1f2),upload['single'](a11_0x402ca1(0x1f5)),async(_0x3c1899,_0x2fcc94)=>{const _0x58c437=a11_0x402ca1,_0x2f1eb3=config[_0x58c437(0x1c6)][_0x58c437(0x1c5)]('//','/'),_0x59f912=config[_0x58c437(0x1e9)]['replaceAll']('//','/'),_0x15a70c=''+_0x59f912+config['autoxchange_executable']+'\x20-verify\x20-lpath='+_0x59f912;if(_0x3c1899['file']){const _0x5ffdb3=_0x2f1eb3+_0x58c437(0x1e8);fs['renameSync'](_0x3c1899[_0x58c437(0x1f5)][_0x58c437(0x1e2)],_0x5ffdb3);const {exec:_0x13c39e}=require(_0x58c437(0x1f6));_0x13c39e(_0x15a70c,(_0x5a1d36,_0x28eb30,_0x3b6f69)=>{const _0x46f24e=_0x58c437;console[_0x46f24e(0x1df)](_0x46f24e(0x1d6)+_0x3b6f69),_0x2fcc94[_0x46f24e(0x1c4)](0xc8)[_0x46f24e(0x1d4)]({'msg':'License\x20applied','stdout':_0x28eb30});});}else{_0x2fcc94[_0x58c437(0x1c4)](0x190)[_0x58c437(0x1d4)]({'error':''});return;}}),router[a11_0x402ca1(0x1cb)](a11_0x402ca1(0x1f7),upload[a11_0x402ca1(0x1f9)](a11_0x402ca1(0x1f5)),async(_0x527310,_0x55cbc7)=>{const _0x4d6d25=a11_0x402ca1,_0x1d9098=config['linklistLocation']['replaceAll']('//','/'),_0x4263ec=config['converterLocation']['replaceAll']('//','/'),_0x5f3f7d=''+_0x4263ec+config[_0x4d6d25(0x1f3)]+'\x20-verify\x20-lpath='+_0x4263ec;if(_0x527310[_0x4d6d25(0x1f5)]){const _0x49c652=_0x1d9098+_0x4d6d25(0x1d5);fs[_0x4d6d25(0x1c2)](_0x527310[_0x4d6d25(0x1f5)][_0x4d6d25(0x1e2)],_0x49c652);const {exec:_0x33d1b6}=require(_0x4d6d25(0x1f6));_0x33d1b6(_0x5f3f7d,(_0x5d9fe4,_0x21226c,_0x41bf67)=>{const _0x4cef0d=_0x4d6d25;console[_0x4cef0d(0x1df)]('stderr:\x20'+_0x41bf67),_0x55cbc7[_0x4cef0d(0x1c4)](0xc8)[_0x4cef0d(0x1d4)]({'msg':_0x4cef0d(0x1c8),'stdout':_0x21226c});});}else{_0x55cbc7['status'](0x190)[_0x4d6d25(0x1d4)]({'error':''});return;}}),router['post']('/dwgmerge/applylicense',upload[a11_0x402ca1(0x1f9)]('file'),async(_0x43780a,_0x54da18)=>{const _0x4ea036=a11_0x402ca1,_0x38d72d=config[_0x4ea036(0x1da)][_0x4ea036(0x1c5)]('//','/'),_0x2217be=config[_0x4ea036(0x1e9)]['replaceAll']('//','/'),_0x2f9dfb=''+_0x2217be+config[_0x4ea036(0x1f3)]+'\x20-verify\x20-lpath='+_0x2217be;if(_0x43780a[_0x4ea036(0x1f5)]){const _0x56a726=_0x38d72d+_0x4ea036(0x1d0);fs[_0x4ea036(0x1c2)](_0x43780a[_0x4ea036(0x1f5)][_0x4ea036(0x1e2)],_0x56a726);const {exec:_0x4b3f18}=require(_0x4ea036(0x1f6));_0x4b3f18(_0x2f9dfb,(_0x5be014,_0x5bf9c5,_0xb266ea)=>{const _0x5f1f5c=_0x4ea036;console['error'](_0x5f1f5c(0x1d6)+_0xb266ea),_0x54da18[_0x5f1f5c(0x1c4)](0xc8)['json']({'msg':_0x5f1f5c(0x1c8),'stdout':_0x5bf9c5});});}else{_0x54da18[_0x4ea036(0x1c4)](0x190)[_0x4ea036(0x1d4)]({'error':''});return;}}),module[a11_0x402ca1(0x1db)]=router;