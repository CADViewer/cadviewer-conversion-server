const a11_0x1952b1=a11_0x1e0c;(function(_0xaa201,_0xb3faa){const _0xa870f3=a11_0x1e0c,_0x2a8275=_0xaa201();while(!![]){try{const _0x57f42c=-parseInt(_0xa870f3(0x107))/0x1*(parseInt(_0xa870f3(0xf8))/0x2)+-parseInt(_0xa870f3(0x11c))/0x3+parseInt(_0xa870f3(0x111))/0x4*(-parseInt(_0xa870f3(0x100))/0x5)+-parseInt(_0xa870f3(0x104))/0x6+parseInt(_0xa870f3(0xee))/0x7+-parseInt(_0xa870f3(0x105))/0x8*(parseInt(_0xa870f3(0x10b))/0x9)+-parseInt(_0xa870f3(0x10e))/0xa*(-parseInt(_0xa870f3(0xf2))/0xb);if(_0x57f42c===_0xb3faa)break;else _0x2a8275['push'](_0x2a8275['shift']());}catch(_0xee4722){_0x2a8275['push'](_0x2a8275['shift']());}}}(a11_0x5888,0x20684));function a11_0x5888(){const _0x488b56=['Error\x20writing\x20licence\x20to\x20file','uploads','/ll_lic.key','path','crypto','filename','converterLocation','460566GEafdj','diskStorage','cadviewer/app/licence.html','single','error','\x22\x20};\x0a\x20\x20\x20\x20cvjs_licenseKeyLoaded\x20=\x20true;\x0a\x20\x20\x20\x20','log','writeFileSync','split','mkdirSync','json','\x20-verify\x20-lpath=','main','\x0a\x20\x20\x20\x20var\x20cvjsLicenseKey\x20=\x20{\x20cvKey:\x20\x22','body','691103MwCZUQ','replaceAll','linklistLocation','dwgmergeLocation','2488156msUIUd','stderr:\x20','child_process','trim','get','put','100534jQUtqU','existsSync','status','cvKey\x20not\x20found','exports','sendFile','renameSync','autoxchange_executable','1730BCKMjU','/dwgmerge/applylicense','utf8','dirname','332130GyTebQ','1347592TJAtAL','express','5drfYCa','file','/axlic.key','post','9ngpgxz','/verify','License\x20applied','30tRitsW','join','/cvjs/applylicense','184qKsAor','/linklist/applylicense','match','./uploads'];a11_0x5888=function(){return _0x488b56;};return a11_0x5888();}const config=require('../CADViewer_config.json'),multer=require('multer'),express=require(a11_0x1952b1(0x106)),router=express['Router'](),fs=require('fs'),path=require(a11_0x1952b1(0x118)),{randomUUID}=require(a11_0x1952b1(0x119)),{exec}=require(a11_0x1952b1(0xf4)),dir=a11_0x1952b1(0x114);!fs[a11_0x1952b1(0xf9)](dir)&&fs[a11_0x1952b1(0xe8)](dir);function a11_0x1e0c(_0x57ec30,_0x12c3ec){const _0x588893=a11_0x5888();return a11_0x1e0c=function(_0x1e0cc5,_0x21270e){_0x1e0cc5=_0x1e0cc5-0xe3;let _0x4e88fb=_0x588893[_0x1e0cc5];return _0x4e88fb;},a11_0x1e0c(_0x57ec30,_0x12c3ec);}const storage=multer[a11_0x1952b1(0x11d)]({'destination':function(_0x19dec7,_0x5b74ec,_0x155483){const _0x42497a=a11_0x1952b1;_0x155483(null,_0x42497a(0x116));}}),upload=multer({'storage':storage});router[a11_0x1952b1(0xf6)]('',async(_0x421484,_0x58e075)=>{const _0x4283a9=a11_0x1952b1;_0x58e075[_0x4283a9(0xfd)](path[_0x4283a9(0x10f)](path['dirname'](require[_0x4283a9(0xeb)]['filename']),_0x4283a9(0x11e)));}),router['get'](a11_0x1952b1(0x10c),async(_0x42968f,_0x196f4b)=>{const _0xe87a8d=a11_0x1952b1,_0x51b511=config[_0xe87a8d(0x11b)][_0xe87a8d(0xef)]('//','/'),_0x572e69=''+_0x51b511+config[_0xe87a8d(0xff)]+_0xe87a8d(0xea)+_0x51b511,{exec:_0xf9721}=require('child_process');fs['readFile'](path[_0xe87a8d(0x10f)](path[_0xe87a8d(0x103)](require[_0xe87a8d(0xeb)][_0xe87a8d(0x11a)]),'cadviewer/app/js/cvlicense.js'),_0xe87a8d(0x102),(_0x376ee0,_0x3334cd)=>{const _0x38f9dd=_0xe87a8d,_0x211116=/cvKey:\s*"([^']+)"/;let _0x459d31=[];if(_0x3334cd&&!_0x376ee0){const _0x5f1078=_0x3334cd[_0x38f9dd(0x113)](_0x211116);if(_0x5f1078){const _0x1bec6c=_0x5f1078[0x1];_0x459d31=_0x1bec6c[_0x38f9dd(0xf5)]()[_0x38f9dd(0xe7)]('\x20');}else console[_0x38f9dd(0xe5)](_0x38f9dd(0xfb));}_0xf9721(_0x572e69,(_0x401c16,_0x5806eb,_0x152ec2)=>{const _0x2ddd54=_0x38f9dd;console[_0x2ddd54(0xe3)](_0x2ddd54(0xf3)+_0x152ec2),_0x196f4b['status'](0xc8)['json']({'verify':'verify','stdout':_0x5806eb,'cvjs':_0x459d31[_0x2ddd54(0x10f)]('\x20')});});});}),router[a11_0x1952b1(0xf7)](a11_0x1952b1(0x110),async(_0x1991e9,_0xce2f5a)=>{const _0x245ba5=a11_0x1952b1,{cvjs:_0x4b4420}=_0x1991e9[_0x245ba5(0xed)],_0x72405f=_0x245ba5(0xec)+_0x4b4420+_0x245ba5(0xe4);try{fs[_0x245ba5(0xe6)](path[_0x245ba5(0x10f)](path[_0x245ba5(0x103)](require[_0x245ba5(0xeb)][_0x245ba5(0x11a)]),'cadviewer/app/js/cvlicense.js'),_0x72405f,{'flag':'w'}),_0xce2f5a[_0x245ba5(0xfa)](0xc8)[_0x245ba5(0xe9)]({'msg':_0x245ba5(0x10d)});}catch(_0xe2b8b7){_0xce2f5a[_0x245ba5(0xfa)](0xc8)['json']({'msg':_0x245ba5(0x115)});}}),router[a11_0x1952b1(0x10a)]('/autoxchange/applylicense',upload[a11_0x1952b1(0x11f)](a11_0x1952b1(0x108)),async(_0x2bc64b,_0x4fe17e)=>{const _0x8fb89e=a11_0x1952b1,_0x2a12d7=config['licenseLocation'][_0x8fb89e(0xef)]('//','/'),_0x105077=config[_0x8fb89e(0x11b)][_0x8fb89e(0xef)]('//','/'),_0xafeb96=''+_0x105077+config[_0x8fb89e(0xff)]+_0x8fb89e(0xea)+_0x105077;if(_0x2bc64b[_0x8fb89e(0x108)]){const _0x4a90ea=_0x2a12d7+_0x8fb89e(0x109);fs[_0x8fb89e(0xfe)](_0x2bc64b[_0x8fb89e(0x108)][_0x8fb89e(0x118)],_0x4a90ea);const {exec:_0x7db993}=require(_0x8fb89e(0xf4));_0x7db993(_0xafeb96,(_0x435f77,_0xc76e05,_0x535c2c)=>{const _0x3a9c84=_0x8fb89e;console[_0x3a9c84(0xe3)](_0x3a9c84(0xf3)+_0x535c2c),_0x4fe17e['status'](0xc8)['json']({'msg':_0x3a9c84(0x10d),'stdout':_0xc76e05});});}else{_0x4fe17e[_0x8fb89e(0xfa)](0x190)['json']({'error':''});return;}}),router[a11_0x1952b1(0x10a)](a11_0x1952b1(0x112),upload[a11_0x1952b1(0x11f)](a11_0x1952b1(0x108)),async(_0x19f27f,_0x303efd)=>{const _0x14b4be=a11_0x1952b1,_0x28e81d=config[_0x14b4be(0xf0)][_0x14b4be(0xef)]('//','/'),_0x45be56=config[_0x14b4be(0x11b)]['replaceAll']('//','/'),_0x4582c0=''+_0x45be56+config[_0x14b4be(0xff)]+'\x20-verify\x20-lpath='+_0x45be56;if(_0x19f27f[_0x14b4be(0x108)]){const _0x20c3b2=_0x28e81d+_0x14b4be(0x117);fs[_0x14b4be(0xfe)](_0x19f27f[_0x14b4be(0x108)][_0x14b4be(0x118)],_0x20c3b2);const {exec:_0x876649}=require(_0x14b4be(0xf4));_0x876649(_0x4582c0,(_0x4b7997,_0x5bc13a,_0x34faa2)=>{const _0x43602d=_0x14b4be;console[_0x43602d(0xe3)](_0x43602d(0xf3)+_0x34faa2),_0x303efd[_0x43602d(0xfa)](0xc8)[_0x43602d(0xe9)]({'msg':_0x43602d(0x10d),'stdout':_0x5bc13a});});}else{_0x303efd[_0x14b4be(0xfa)](0x190)[_0x14b4be(0xe9)]({'error':''});return;}}),router['post'](a11_0x1952b1(0x101),upload['single']('file'),async(_0x278e2b,_0x2b9a9e)=>{const _0x1cb301=a11_0x1952b1,_0x48168e=config[_0x1cb301(0xf1)][_0x1cb301(0xef)]('//','/'),_0x466cd4=config['converterLocation']['replaceAll']('//','/'),_0x462388=''+_0x466cd4+config[_0x1cb301(0xff)]+_0x1cb301(0xea)+_0x466cd4;if(_0x278e2b[_0x1cb301(0x108)]){const _0x13b9d4=_0x48168e+'/dl_lic.key';fs[_0x1cb301(0xfe)](_0x278e2b[_0x1cb301(0x108)]['path'],_0x13b9d4);const {exec:_0x27514a}=require('child_process');_0x27514a(_0x462388,(_0x43a980,_0x5de249,_0x2d7953)=>{const _0x3122c1=_0x1cb301;console['error'](_0x3122c1(0xf3)+_0x2d7953),_0x2b9a9e[_0x3122c1(0xfa)](0xc8)['json']({'msg':'License\x20applied','stdout':_0x5de249});});}else{_0x2b9a9e[_0x1cb301(0xfa)](0x190)[_0x1cb301(0xe9)]({'error':''});return;}}),module[a11_0x1952b1(0xfc)]=router;