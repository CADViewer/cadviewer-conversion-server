function a25_0x4ab1(_0x46643a,_0x5f3855){var _0x49a5d0=a25_0x49a5();return a25_0x4ab1=function(_0x4ab16f,_0x4e0830){_0x4ab16f=_0x4ab16f-0x105;var _0x25dac9=_0x49a5d0[_0x4ab16f];return _0x25dac9;},a25_0x4ab1(_0x46643a,_0x5f3855);}function a25_0x49a5(){var _0x186512=['body','substring','open','\x20\x20\x20\x20config.ServerFrontEndUrl:','length','path','log','error\x20-\x20saveredline','ServerUrl','2:\x20saveredline\x20\x20','96416JzWnHm','express','join','Access-Control-Allow-Origin\x20:\x20*','5krBUSP','628374LyZsOR','setHeader','exports','write','send','save\x20redline\x20listtype:','257028ZSnaQL','72708PMlSlr','Access-Control-Allow-Origin','existsSync','752010wXBxVE','ServerFrontEndUrl','/saveredline','error\x20saveredlines:\x20','file_content','from','91fnZlTK','43704bsZDij','serverfolder','1800cWHSoC','ServerLocation','mkdirSync','Router','ServerFrontEndUrlAsAllowedOriginOnly','1:\x20saveredline\x20\x20','replace','393272PfKwvr','listtype','dirname','indexOf','cvjs_debug','file'];a25_0x49a5=function(){return _0x186512;};return a25_0x49a5();}var a25_0xd84002=a25_0x4ab1;(function(_0x196b3d,_0x45f5bc){var _0xfcee99=a25_0x4ab1,_0x91e833=_0x196b3d();while(!![]){try{var _0x4804ef=parseInt(_0xfcee99(0x131))/0x1+parseInt(_0xfcee99(0x117))/0x2+parseInt(_0xfcee99(0x121))/0x3+parseInt(_0xfcee99(0x11e))/0x4*(parseInt(_0xfcee99(0x116))/0x5)+-parseInt(_0xfcee99(0x11d))/0x6+-parseInt(_0xfcee99(0x127))/0x7*(-parseInt(_0xfcee99(0x112))/0x8)+parseInt(_0xfcee99(0x128))/0x9*(-parseInt(_0xfcee99(0x12a))/0xa);if(_0x4804ef===_0x45f5bc)break;else _0x91e833['push'](_0x91e833['shift']());}catch(_0x2d42f1){_0x91e833['push'](_0x91e833['shift']());}}}(a25_0x49a5,0x34c00));var config=require('../CADViewer_config.json'),cvjs_debug=config[a25_0xd84002(0x106)],express=require(a25_0xd84002(0x113)),router=express[a25_0xd84002(0x12d)]();const fs=require('fs'),path=require(a25_0xd84002(0x10d));function createDirRecursively(_0x3ff589){var _0xd814fb=a25_0xd84002;!fs[_0xd814fb(0x120)](_0x3ff589)&&(createDirRecursively(path[_0xd814fb(0x114)](_0x3ff589,'..')),fs[_0xd814fb(0x12c)](_0x3ff589));}router['post'](a25_0xd84002(0x123),(_0x2273ab,_0x3eeca3)=>{var _0x4a8764=a25_0xd84002;if(config[_0x4a8764(0x12e)]==!![]){_0x3eeca3[_0x4a8764(0x118)]('Access-Control-Allow-Origin',config[_0x4a8764(0x122)]);if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:'+config['ServerFrontEndUrl']);}else{_0x3eeca3[_0x4a8764(0x118)](_0x4a8764(0x11f),'*');if(cvjs_debug)console[_0x4a8764(0x10e)](_0x4a8764(0x115));}try{var _0x4c4fa0=_0x2273ab[_0x4a8764(0x108)][_0x4a8764(0x107)],_0x46fd4d=_0x2273ab['body'][_0x4a8764(0x125)],_0x1f1d16=Buffer[_0x4a8764(0x126)](_0x46fd4d),_0x321f5f=_0x2273ab['body'][_0x4a8764(0x132)];if(cvjs_debug)console['log'](_0x4a8764(0x11c)+_0x321f5f);if(_0x321f5f==_0x4a8764(0x129)||_0x321f5f=='redline'){if(_0x4c4fa0[_0x4a8764(0x105)](config[_0x4a8764(0x12b)])==0x0){}else _0x4c4fa0=config[_0x4a8764(0x12b)]+_0x4c4fa0;}if(cvjs_debug)console[_0x4a8764(0x10e)]('filename:'+_0x4c4fa0);var _0x2ddd6f=require('fs');if(config['cvjs_debug'])console['log'](_0x4a8764(0x12f)+_0x4c4fa0);_0x4c4fa0=decodeURI(_0x4c4fa0),_0x4c4fa0=_0x4c4fa0[_0x4a8764(0x130)](/%3A/g,':'),_0x4c4fa0=_0x4c4fa0['replace'](/%2F/g,'/'),_0x4c4fa0=_0x4c4fa0[_0x4a8764(0x130)](/%20/g,'\x20'),_0x4c4fa0=_0x4c4fa0['replaceAll']('+','\x20');if(config[_0x4a8764(0x106)])console[_0x4a8764(0x10e)](_0x4a8764(0x111)+_0x4c4fa0+_0x4a8764(0x10b)+config[_0x4a8764(0x122)]+'\x20config.ServerUrl:'+config[_0x4a8764(0x110)]);if(config[_0x4a8764(0x122)]!=''&&_0x4c4fa0['indexOf'](config[_0x4a8764(0x122)])==0x0){if(config[_0x4a8764(0x106)])console[_0x4a8764(0x10e)]('4:');_0x4c4fa0=config[_0x4a8764(0x12b)]+_0x4c4fa0[_0x4a8764(0x109)](config['ServerFrontEndUrl'][_0x4a8764(0x10c)]);}else{if(config['ServerUrl']!=''&&_0x4c4fa0['indexOf'](config[_0x4a8764(0x110)])==0x0){if(config[_0x4a8764(0x106)])console['log']('5:');_0x4c4fa0=config[_0x4a8764(0x12b)]+_0x4c4fa0[_0x4a8764(0x109)](config[_0x4a8764(0x110)][_0x4a8764(0x10c)]);}}_0x4c4fa0=_0x4c4fa0[_0x4a8764(0x130)](/\\/g,'/');if(config[_0x4a8764(0x106)])console[_0x4a8764(0x10e)]('3:\x20saveredline\x20\x20'+_0x4c4fa0);var _0x288153=path[_0x4a8764(0x133)](_0x4c4fa0);createDirRecursively(_0x288153),_0x2ddd6f[_0x4a8764(0x10a)](_0x4c4fa0,'w',function(_0x54b58b,_0x48c8ae){var _0x412397=_0x4a8764;_0x2ddd6f[_0x412397(0x11a)](_0x48c8ae,_0x1f1d16,0x0,_0x1f1d16[_0x412397(0x10c)],null,function(_0x26f6e3){var _0x2bb6c8=_0x412397;if(_0x26f6e3){if(config['cvjs_debug'])console[_0x2bb6c8(0x10e)]('error\x20saveredlines:\x20'+_0x26f6e3);_0x3eeca3[_0x2bb6c8(0x11b)](_0x2bb6c8(0x124)+_0x26f6e3);}else _0x2ddd6f['close'](_0x48c8ae,function(){var _0x41a30a=_0x2bb6c8;if(config[_0x41a30a(0x106)])console[_0x41a30a(0x10e)]('file\x20written');_0x3eeca3[_0x41a30a(0x11b)]('Succes');});});});}catch(_0x595c67){_0x3eeca3[_0x4a8764(0x11b)](_0x4a8764(0x10f));if(config['cvjs_debug'])console['log'](_0x595c67);}}),module[a25_0xd84002(0x119)]=router;