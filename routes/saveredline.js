var a25_0x23f4aa=a25_0x21f7;(function(_0x150431,_0x5b489d){var _0x3d1064=a25_0x21f7,_0x1a17b3=_0x150431();while(!![]){try{var _0xa6017f=-parseInt(_0x3d1064(0x192))/0x1+-parseInt(_0x3d1064(0x175))/0x2+-parseInt(_0x3d1064(0x17e))/0x3*(-parseInt(_0x3d1064(0x18a))/0x4)+-parseInt(_0x3d1064(0x179))/0x5+-parseInt(_0x3d1064(0x19b))/0x6+-parseInt(_0x3d1064(0x17c))/0x7*(-parseInt(_0x3d1064(0x171))/0x8)+parseInt(_0x3d1064(0x17b))/0x9;if(_0xa6017f===_0x5b489d)break;else _0x1a17b3['push'](_0x1a17b3['shift']());}catch(_0x3872b3){_0x1a17b3['push'](_0x1a17b3['shift']());}}}(a25_0x4de3,0x3add9));var config=require('../CADViewer_config.json'),cvjs_debug=config[a25_0x23f4aa(0x16c)],express=require(a25_0x23f4aa(0x17d)),router=express[a25_0x23f4aa(0x17a)]();function a25_0x21f7(_0x28cef4,_0x25b668){var _0x4de3da=a25_0x4de3();return a25_0x21f7=function(_0x21f7ea,_0x1dedaf){_0x21f7ea=_0x21f7ea-0x16b;var _0x4eb2b0=_0x4de3da[_0x21f7ea];return _0x4eb2b0;},a25_0x21f7(_0x28cef4,_0x25b668);}const fs=require('fs'),path=require(a25_0x23f4aa(0x184));function createDirRecursively(_0x5c8957){var _0x1079fa=a25_0x23f4aa;!fs[_0x1079fa(0x189)](_0x5c8957)&&(createDirRecursively(path[_0x1079fa(0x18e)](_0x5c8957,'..')),fs[_0x1079fa(0x19a)](_0x5c8957));}function a25_0x4de3(){var _0x316c44=['ServerFrontEndUrl','1:\x20saveredline\x20\x20','file_content','length','existsSync','16nKJEYn','Succes','/saveredline','body','join','Access-Control-Allow-Origin\x20:\x20*','listtype','replace','264035jCdUez','error\x20-\x20saveredline','open','redline','ServerUrl','3:\x20saveredline\x20\x20','2:\x20saveredline\x20\x20','dirname','mkdirSync','2649126UZCeBU','substring','cvjs_debug','indexOf','ServerLocation','file','close','8XgOIOf','log','\x20config.ServerUrl:','exports','230764Vanout','write','\x20\x20\x20\x20config.ServerFrontEndUrl:','send','2195610vaXCSB','Router','8026452LZdFGm','1777895DaJIVY','express','266520OasGrT','error\x20saveredlines:\x20','Access-Control-Allow-Origin','save\x20redline\x20listtype:','setHeader','from','path'];a25_0x4de3=function(){return _0x316c44;};return a25_0x4de3();}router['post'](a25_0x23f4aa(0x18c),(_0x2e619d,_0x278297)=>{var _0x24f215=a25_0x23f4aa;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x278297[_0x24f215(0x182)]('Access-Control-Allow-Origin',config[_0x24f215(0x185)]);if(cvjs_debug)console[_0x24f215(0x172)]('Access-Control-Allow-Origin\x20:'+config[_0x24f215(0x185)]);}else{_0x278297['setHeader'](_0x24f215(0x180),'*');if(cvjs_debug)console[_0x24f215(0x172)](_0x24f215(0x18f));}try{var _0x2efe1c=_0x2e619d[_0x24f215(0x18d)][_0x24f215(0x16f)],_0xe4d879=_0x2e619d[_0x24f215(0x18d)][_0x24f215(0x187)],_0x5488cd=Buffer[_0x24f215(0x183)](_0xe4d879),_0x5f2d4b=_0x2e619d[_0x24f215(0x18d)][_0x24f215(0x190)];if(cvjs_debug)console['log'](_0x24f215(0x181)+_0x5f2d4b);if(_0x5f2d4b=='serverfolder'||_0x5f2d4b==_0x24f215(0x195)){if(_0x2efe1c[_0x24f215(0x16d)](config[_0x24f215(0x16e)])==0x0){}else _0x2efe1c=config[_0x24f215(0x16e)]+_0x2efe1c;}if(cvjs_debug)console['log']('filename:'+_0x2efe1c);var _0x35e4f8=require('fs');if(config[_0x24f215(0x16c)])console[_0x24f215(0x172)](_0x24f215(0x186)+_0x2efe1c);_0x2efe1c=decodeURI(_0x2efe1c),_0x2efe1c=_0x2efe1c[_0x24f215(0x191)](/%3A/g,':'),_0x2efe1c=_0x2efe1c[_0x24f215(0x191)](/%2F/g,'/'),_0x2efe1c=_0x2efe1c[_0x24f215(0x191)](/%20/g,'\x20'),_0x2efe1c=_0x2efe1c['replaceAll']('+','\x20');if(config['cvjs_debug'])console[_0x24f215(0x172)](_0x24f215(0x198)+_0x2efe1c+_0x24f215(0x177)+config[_0x24f215(0x185)]+_0x24f215(0x173)+config['ServerUrl']);if(config[_0x24f215(0x185)]!=''&&_0x2efe1c[_0x24f215(0x16d)](config[_0x24f215(0x185)])==0x0){if(config[_0x24f215(0x16c)])console['log']('4:');_0x2efe1c=config[_0x24f215(0x16e)]+_0x2efe1c[_0x24f215(0x16b)](config[_0x24f215(0x185)][_0x24f215(0x188)]);}else{if(config[_0x24f215(0x196)]!=''&&_0x2efe1c['indexOf'](config[_0x24f215(0x196)])==0x0){if(config['cvjs_debug'])console[_0x24f215(0x172)]('5:');_0x2efe1c=config[_0x24f215(0x16e)]+_0x2efe1c[_0x24f215(0x16b)](config[_0x24f215(0x196)][_0x24f215(0x188)]);}}_0x2efe1c=_0x2efe1c[_0x24f215(0x191)](/\\/g,'/');if(config[_0x24f215(0x16c)])console[_0x24f215(0x172)](_0x24f215(0x197)+_0x2efe1c);var _0x3cd428=path[_0x24f215(0x199)](_0x2efe1c);createDirRecursively(_0x3cd428),_0x35e4f8[_0x24f215(0x194)](_0x2efe1c,'w',function(_0x50f2de,_0x2a8ad7){var _0x5e5a45=_0x24f215;_0x35e4f8[_0x5e5a45(0x176)](_0x2a8ad7,_0x5488cd,0x0,_0x5488cd['length'],null,function(_0x3aca83){var _0xdecb11=_0x5e5a45;if(_0x3aca83){if(config[_0xdecb11(0x16c)])console['log'](_0xdecb11(0x17f)+_0x3aca83);_0x278297[_0xdecb11(0x178)]('error\x20saveredlines:\x20'+_0x3aca83);}else _0x35e4f8[_0xdecb11(0x170)](_0x2a8ad7,function(){var _0x3c5942=_0xdecb11;if(config['cvjs_debug'])console[_0x3c5942(0x172)]('file\x20written');_0x278297[_0x3c5942(0x178)](_0x3c5942(0x18b));});});});}catch(_0x33d952){_0x278297[_0x24f215(0x178)](_0x24f215(0x193));if(config[_0x24f215(0x16c)])console[_0x24f215(0x172)](_0x33d952);}}),module[a25_0x23f4aa(0x174)]=router;