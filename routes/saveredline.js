var a25_0x5f1d48=a25_0x20c9;(function(_0x59e715,_0x5026ab){var _0x5f39b8=a25_0x20c9,_0x32b82f=_0x59e715();while(!![]){try{var _0x2f3120=-parseInt(_0x5f39b8(0x175))/0x1+-parseInt(_0x5f39b8(0x16a))/0x2+-parseInt(_0x5f39b8(0x148))/0x3+parseInt(_0x5f39b8(0x167))/0x4*(parseInt(_0x5f39b8(0x15f))/0x5)+parseInt(_0x5f39b8(0x155))/0x6*(-parseInt(_0x5f39b8(0x162))/0x7)+parseInt(_0x5f39b8(0x16e))/0x8+parseInt(_0x5f39b8(0x14d))/0x9;if(_0x2f3120===_0x5026ab)break;else _0x32b82f['push'](_0x32b82f['shift']());}catch(_0x18a5c7){_0x32b82f['push'](_0x32b82f['shift']());}}}(a25_0x5924,0x2d9a8));var config=require(a25_0x5f1d48(0x152)),cvjs_debug=config[a25_0x5f1d48(0x16c)],express=require(a25_0x5f1d48(0x166)),router=express[a25_0x5f1d48(0x151)]();function a25_0x5924(){var _0x4cb59a=['replaceAll','mkdirSync','/saveredline','655cZrkpE','ServerUrl','\x20\x20\x20\x20config.ServerFrontEndUrl:','63UgTmnH','body','redline','substring','express','3292HcXvAk','Access-Control-Allow-Origin','send','707508enIWmF','replace','cvjs_debug','error\x20saveredlines:\x20','2188736FCbyfb','\x20config.ServerUrl:','from','exports','Access-Control-Allow-Origin\x20:\x20*','open','close','104677zVlxcS','filename:','ServerFrontEndUrl','1015845llOtJQ','log','post','setHeader','1:\x20saveredline\x20\x20','6000642ZCxupr','ServerLocation','join','write','Router','../CADViewer_config.json','indexOf','existsSync','42870VWPJPn','serverfolder','save\x20redline\x20listtype:','2:\x20saveredline\x20\x20','path','dirname','length'];a25_0x5924=function(){return _0x4cb59a;};return a25_0x5924();}const fs=require('fs'),path=require(a25_0x5f1d48(0x159));function createDirRecursively(_0x1b48e3){var _0x8e0bdb=a25_0x5f1d48;!fs[_0x8e0bdb(0x154)](_0x1b48e3)&&(createDirRecursively(path[_0x8e0bdb(0x14f)](_0x1b48e3,'..')),fs[_0x8e0bdb(0x15d)](_0x1b48e3));}function a25_0x20c9(_0xafc7c3,_0x25bb0e){var _0x592427=a25_0x5924();return a25_0x20c9=function(_0x20c94e,_0x51766a){_0x20c94e=_0x20c94e-0x147;var _0xcf03ff=_0x592427[_0x20c94e];return _0xcf03ff;},a25_0x20c9(_0xafc7c3,_0x25bb0e);}router[a25_0x5f1d48(0x14a)](a25_0x5f1d48(0x15e),(_0x3d8c25,_0x1d28dd)=>{var _0x429dc8=a25_0x5f1d48;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x1d28dd[_0x429dc8(0x14b)](_0x429dc8(0x168),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x429dc8(0x149)]('Access-Control-Allow-Origin\x20:'+config[_0x429dc8(0x147)]);}else{_0x1d28dd['setHeader'](_0x429dc8(0x168),'*');if(cvjs_debug)console[_0x429dc8(0x149)](_0x429dc8(0x172));}try{var _0xa74014=_0x3d8c25['body']['file'],_0x1ae898=_0x3d8c25[_0x429dc8(0x163)]['file_content'],_0x30b031=Buffer[_0x429dc8(0x170)](_0x1ae898),_0x2edf7b=_0x3d8c25[_0x429dc8(0x163)]['listtype'];if(cvjs_debug)console[_0x429dc8(0x149)](_0x429dc8(0x157)+_0x2edf7b);if(_0x2edf7b==_0x429dc8(0x156)||_0x2edf7b==_0x429dc8(0x164)){if(_0xa74014['indexOf'](config['ServerLocation'])==0x0){}else _0xa74014=config[_0x429dc8(0x14e)]+_0xa74014;}if(cvjs_debug)console['log'](_0x429dc8(0x176)+_0xa74014);var _0x362996=require('fs');if(config[_0x429dc8(0x16c)])console['log'](_0x429dc8(0x14c)+_0xa74014);_0xa74014=decodeURI(_0xa74014),_0xa74014=_0xa74014[_0x429dc8(0x16b)](/%3A/g,':'),_0xa74014=_0xa74014[_0x429dc8(0x16b)](/%2F/g,'/'),_0xa74014=_0xa74014[_0x429dc8(0x16b)](/%20/g,'\x20'),_0xa74014=_0xa74014[_0x429dc8(0x15c)]('+','\x20');if(config['cvjs_debug'])console[_0x429dc8(0x149)](_0x429dc8(0x158)+_0xa74014+_0x429dc8(0x161)+config['ServerFrontEndUrl']+_0x429dc8(0x16f)+config[_0x429dc8(0x160)]);if(config[_0x429dc8(0x147)]!=''&&_0xa74014[_0x429dc8(0x153)](config[_0x429dc8(0x147)])==0x0){if(config['cvjs_debug'])console[_0x429dc8(0x149)]('4:');_0xa74014=config[_0x429dc8(0x14e)]+_0xa74014['substring'](config['ServerFrontEndUrl'][_0x429dc8(0x15b)]);}else{if(config[_0x429dc8(0x160)]!=''&&_0xa74014[_0x429dc8(0x153)](config['ServerUrl'])==0x0){if(config[_0x429dc8(0x16c)])console['log']('5:');_0xa74014=config['ServerLocation']+_0xa74014[_0x429dc8(0x165)](config[_0x429dc8(0x160)][_0x429dc8(0x15b)]);}}_0xa74014=_0xa74014['replace'](/\\/g,'/');if(config[_0x429dc8(0x16c)])console[_0x429dc8(0x149)]('3:\x20saveredline\x20\x20'+_0xa74014);var _0x17ab82=path[_0x429dc8(0x15a)](_0xa74014);createDirRecursively(_0x17ab82),_0x362996[_0x429dc8(0x173)](_0xa74014,'w',function(_0x52cea1,_0x7dad9b){var _0x2a9332=_0x429dc8;_0x362996[_0x2a9332(0x150)](_0x7dad9b,_0x30b031,0x0,_0x30b031[_0x2a9332(0x15b)],null,function(_0x1e7ff5){var _0x16759f=_0x2a9332;if(_0x1e7ff5){if(config[_0x16759f(0x16c)])console[_0x16759f(0x149)](_0x16759f(0x16d)+_0x1e7ff5);_0x1d28dd['send']('error\x20saveredlines:\x20'+_0x1e7ff5);}else _0x362996[_0x16759f(0x174)](_0x7dad9b,function(){var _0x3bc791=_0x16759f;if(config[_0x3bc791(0x16c)])console[_0x3bc791(0x149)]('file\x20written');_0x1d28dd[_0x3bc791(0x169)]('Succes');});});});}catch(_0xeced87){_0x1d28dd[_0x429dc8(0x169)]('error\x20-\x20saveredline');if(config[_0x429dc8(0x16c)])console[_0x429dc8(0x149)](_0xeced87);}}),module[a25_0x5f1d48(0x171)]=router;