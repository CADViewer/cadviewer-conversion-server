var a25_0x1f172a=a25_0x51f8;function a25_0x51f8(_0x4a86e4,_0x219850){var _0x3afbfa=a25_0x3afb();return a25_0x51f8=function(_0x51f87e,_0x47d798){_0x51f87e=_0x51f87e-0x17a;var _0x3d349e=_0x3afbfa[_0x51f87e];return _0x3d349e;},a25_0x51f8(_0x4a86e4,_0x219850);}(function(_0x3205fb,_0x45fce1){var _0x1fee74=a25_0x51f8,_0x1c067b=_0x3205fb();while(!![]){try{var _0x51afa6=parseInt(_0x1fee74(0x180))/0x1+parseInt(_0x1fee74(0x1a1))/0x2+parseInt(_0x1fee74(0x190))/0x3+-parseInt(_0x1fee74(0x196))/0x4*(parseInt(_0x1fee74(0x19d))/0x5)+-parseInt(_0x1fee74(0x17e))/0x6*(-parseInt(_0x1fee74(0x18c))/0x7)+-parseInt(_0x1fee74(0x197))/0x8+parseInt(_0x1fee74(0x17a))/0x9;if(_0x51afa6===_0x45fce1)break;else _0x1c067b['push'](_0x1c067b['shift']());}catch(_0x1a74bc){_0x1c067b['push'](_0x1c067b['shift']());}}}(a25_0x3afb,0xb8df0));var config=require(a25_0x1f172a(0x188)),cvjs_debug=config[a25_0x1f172a(0x193)],express=require(a25_0x1f172a(0x184)),router=express[a25_0x1f172a(0x19e)]();const fs=require('fs'),path=require('path');function createDirRecursively(_0xaf81a4){var _0x590fb9=a25_0x1f172a;!fs[_0x590fb9(0x1a5)](_0xaf81a4)&&(createDirRecursively(path[_0x590fb9(0x192)](_0xaf81a4,'..')),fs['mkdirSync'](_0xaf81a4));}function a25_0x3afb(){var _0xb4d9d2=['Access-Control-Allow-Origin\x20:\x20*','replace','existsSync','save\x20redline\x20listtype:','8611047YSAujg','body','3:\x20saveredline\x20\x20','file_content','1064394fZrZHC','open','112139FMcGMq','setHeader','ServerUrl','redline','express','error\x20-\x20saveredline','ServerLocation','/saveredline','../CADViewer_config.json','\x20\x20\x20\x20config.ServerFrontEndUrl:','ServerFrontEndUrl','send','35KtarTW','Succes','write','1:\x20saveredline\x20\x20','852261TzKLXb','from','join','cvjs_debug','length','close','4gghCrd','7696608THTvUu','\x20config.ServerUrl:','indexOf','substring','Access-Control-Allow-Origin\x20:','serverfolder','4498045jkhRlS','Router','dirname','log','757826cihByf','error\x20saveredlines:\x20'];a25_0x3afb=function(){return _0xb4d9d2;};return a25_0x3afb();}router['post'](a25_0x1f172a(0x187),(_0x3af6b5,_0x53164b)=>{var _0xde9965=a25_0x1f172a;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x53164b[_0xde9965(0x181)]('Access-Control-Allow-Origin',config[_0xde9965(0x18a)]);if(cvjs_debug)console[_0xde9965(0x1a0)](_0xde9965(0x19b)+config[_0xde9965(0x18a)]);}else{_0x53164b[_0xde9965(0x181)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0xde9965(0x1a0)](_0xde9965(0x1a3));}try{var _0xf5a194=_0x3af6b5['body']['file'],_0x5e3c8d=_0x3af6b5[_0xde9965(0x17b)][_0xde9965(0x17d)],_0x375c07=Buffer[_0xde9965(0x191)](_0x5e3c8d),_0x527f79=_0x3af6b5[_0xde9965(0x17b)]['listtype'];if(cvjs_debug)console[_0xde9965(0x1a0)](_0xde9965(0x1a6)+_0x527f79);if(_0x527f79==_0xde9965(0x19c)||_0x527f79==_0xde9965(0x183)){if(_0xf5a194[_0xde9965(0x199)](config[_0xde9965(0x186)])==0x0){}else _0xf5a194=config[_0xde9965(0x186)]+_0xf5a194;}if(cvjs_debug)console[_0xde9965(0x1a0)]('filename:'+_0xf5a194);var _0x3cf2c6=require('fs');if(config[_0xde9965(0x193)])console[_0xde9965(0x1a0)](_0xde9965(0x18f)+_0xf5a194);_0xf5a194=decodeURI(_0xf5a194),_0xf5a194=_0xf5a194['replace'](/%3A/g,':'),_0xf5a194=_0xf5a194[_0xde9965(0x1a4)](/%2F/g,'/'),_0xf5a194=_0xf5a194[_0xde9965(0x1a4)](/%20/g,'\x20'),_0xf5a194=_0xf5a194['replaceAll']('+','\x20');if(config[_0xde9965(0x193)])console[_0xde9965(0x1a0)]('2:\x20saveredline\x20\x20'+_0xf5a194+_0xde9965(0x189)+config[_0xde9965(0x18a)]+_0xde9965(0x198)+config['ServerUrl']);if(config[_0xde9965(0x18a)]!=''&&_0xf5a194[_0xde9965(0x199)](config[_0xde9965(0x18a)])==0x0){if(config['cvjs_debug'])console[_0xde9965(0x1a0)]('4:');_0xf5a194=config[_0xde9965(0x186)]+_0xf5a194['substring'](config[_0xde9965(0x18a)]['length']);}else{if(config[_0xde9965(0x182)]!=''&&_0xf5a194[_0xde9965(0x199)](config[_0xde9965(0x182)])==0x0){if(config['cvjs_debug'])console[_0xde9965(0x1a0)]('5:');_0xf5a194=config[_0xde9965(0x186)]+_0xf5a194[_0xde9965(0x19a)](config[_0xde9965(0x182)]['length']);}}_0xf5a194=_0xf5a194[_0xde9965(0x1a4)](/\\/g,'/');if(config[_0xde9965(0x193)])console['log'](_0xde9965(0x17c)+_0xf5a194);var _0x502797=path[_0xde9965(0x19f)](_0xf5a194);createDirRecursively(_0x502797),_0x3cf2c6[_0xde9965(0x17f)](_0xf5a194,'w',function(_0x27f85d,_0x1582de){var _0x2f22b3=_0xde9965;_0x3cf2c6[_0x2f22b3(0x18e)](_0x1582de,_0x375c07,0x0,_0x375c07[_0x2f22b3(0x194)],null,function(_0x2dc3de){var _0x37e911=_0x2f22b3;if(_0x2dc3de){if(config[_0x37e911(0x193)])console['log'](_0x37e911(0x1a2)+_0x2dc3de);_0x53164b[_0x37e911(0x18b)](_0x37e911(0x1a2)+_0x2dc3de);}else _0x3cf2c6[_0x37e911(0x195)](_0x1582de,function(){var _0x2b3686=_0x37e911;if(config[_0x2b3686(0x193)])console['log']('file\x20written');_0x53164b[_0x2b3686(0x18b)](_0x2b3686(0x18d));});});});}catch(_0x5f1871){_0x53164b[_0xde9965(0x18b)](_0xde9965(0x185));if(config['cvjs_debug'])console[_0xde9965(0x1a0)](_0x5f1871);}}),module['exports']=router;