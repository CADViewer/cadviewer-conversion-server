var a26_0x309629=a26_0x1e20;(function(_0x47c72e,_0x4bb47c){var _0x269e3f=a26_0x1e20,_0x50b064=_0x47c72e();while(!![]){try{var _0x1c5955=parseInt(_0x269e3f(0x1c3))/0x1+parseInt(_0x269e3f(0x1ce))/0x2+-parseInt(_0x269e3f(0x1cf))/0x3*(-parseInt(_0x269e3f(0x1c7))/0x4)+parseInt(_0x269e3f(0x1d6))/0x5*(parseInt(_0x269e3f(0x1cd))/0x6)+parseInt(_0x269e3f(0x1e5))/0x7*(-parseInt(_0x269e3f(0x1dc))/0x8)+-parseInt(_0x269e3f(0x1d2))/0x9*(parseInt(_0x269e3f(0x1ed))/0xa)+-parseInt(_0x269e3f(0x1e4))/0xb;if(_0x1c5955===_0x4bb47c)break;else _0x50b064['push'](_0x50b064['shift']());}catch(_0x382bf4){_0x50b064['push'](_0x50b064['shift']());}}}(a26_0x448b,0xa5a79));function a26_0x1e20(_0xef1c6f,_0x2c1bdc){var _0x448b93=a26_0x448b();return a26_0x1e20=function(_0x1e203d,_0x1d5fb1){_0x1e203d=_0x1e203d-0x1c3;var _0x477d8f=_0x448b93[_0x1e203d];return _0x477d8f;},a26_0x1e20(_0xef1c6f,_0x2c1bdc);}var config=require(a26_0x309629(0x1ec)),cvjs_debug=config[a26_0x309629(0x1ee)],express=require('express'),router=express[a26_0x309629(0x1d9)]();const fs=require('fs'),path=require(a26_0x309629(0x1e1));function a26_0x448b(){var _0x260817=['9fbcLFW','indexOf','Succes','join','40KNihbe','close','existsSync','Router','file','ServerFrontEndUrl','136bGDbME','open','listtype','redline','ServerLocation','path','\x20config.ServerUrl:','length','3330921sEIIoS','320873UnEWyp','error\x20saveredlines:\x20','3:\x20saveredline\x20\x20','error\x20-\x20saveredline','\x20\x20\x20\x20config.ServerFrontEndUrl:','ServerUrl','save\x20redline\x20listtype:','../CADViewer_config.json','12938710zPFsao','cvjs_debug','ServerFrontEndUrlAsAllowedOriginOnly','setHeader','body','1321310WpHhZo','file\x20written','send','substring','8nbSiwk','replace','Access-Control-Allow-Origin','log','write','exports','876648kcPrZA','737968hIsxPw','292962TwRopV','dirname','Access-Control-Allow-Origin\x20:\x20*'];a26_0x448b=function(){return _0x260817;};return a26_0x448b();}function createDirRecursively(_0x4a06eb){var _0x1bbe97=a26_0x309629;!fs[_0x1bbe97(0x1d8)](_0x4a06eb)&&(createDirRecursively(path[_0x1bbe97(0x1d5)](_0x4a06eb,'..')),fs['mkdirSync'](_0x4a06eb));}router['post']('/saveredline',(_0xe26785,_0x3660c7)=>{var _0x5e5f5e=a26_0x309629;if(config[_0x5e5f5e(0x1ef)]==!![]){_0x3660c7[_0x5e5f5e(0x1f0)](_0x5e5f5e(0x1c9),config['ServerFrontEndUrl']);if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:'+config[_0x5e5f5e(0x1db)]);}else{_0x3660c7[_0x5e5f5e(0x1f0)](_0x5e5f5e(0x1c9),'*');if(cvjs_debug)console[_0x5e5f5e(0x1ca)](_0x5e5f5e(0x1d1));}try{var _0x484b09=_0xe26785['body'][_0x5e5f5e(0x1da)],_0x8ff16=_0xe26785[_0x5e5f5e(0x1f1)]['file_content'],_0x1096b7=Buffer['from'](_0x8ff16),_0x5b3ff6=_0xe26785[_0x5e5f5e(0x1f1)][_0x5e5f5e(0x1de)];if(cvjs_debug)console[_0x5e5f5e(0x1ca)](_0x5e5f5e(0x1eb)+_0x5b3ff6);if(_0x5b3ff6=='serverfolder'||_0x5b3ff6==_0x5e5f5e(0x1df)){if(_0x484b09[_0x5e5f5e(0x1d3)](config[_0x5e5f5e(0x1e0)])==0x0){}else _0x484b09=config[_0x5e5f5e(0x1e0)]+_0x484b09;}if(cvjs_debug)console[_0x5e5f5e(0x1ca)]('filename:'+_0x484b09);var _0x177fc1=require('fs');if(config[_0x5e5f5e(0x1ee)])console[_0x5e5f5e(0x1ca)]('1:\x20saveredline\x20\x20'+_0x484b09);_0x484b09=decodeURI(_0x484b09),_0x484b09=_0x484b09['replace'](/%3A/g,':'),_0x484b09=_0x484b09[_0x5e5f5e(0x1c8)](/%2F/g,'/'),_0x484b09=_0x484b09['replace'](/%20/g,'\x20'),_0x484b09=_0x484b09['replaceAll']('+','\x20');if(config[_0x5e5f5e(0x1ee)])console[_0x5e5f5e(0x1ca)]('2:\x20saveredline\x20\x20'+_0x484b09+_0x5e5f5e(0x1e9)+config['ServerFrontEndUrl']+_0x5e5f5e(0x1e2)+config[_0x5e5f5e(0x1ea)]);if(config[_0x5e5f5e(0x1db)]!=''&&_0x484b09[_0x5e5f5e(0x1d3)](config[_0x5e5f5e(0x1db)])==0x0){if(config[_0x5e5f5e(0x1ee)])console[_0x5e5f5e(0x1ca)]('4:');_0x484b09=config[_0x5e5f5e(0x1e0)]+_0x484b09[_0x5e5f5e(0x1c6)](config['ServerFrontEndUrl'][_0x5e5f5e(0x1e3)]);}else{if(config[_0x5e5f5e(0x1ea)]!=''&&_0x484b09[_0x5e5f5e(0x1d3)](config[_0x5e5f5e(0x1ea)])==0x0){if(config[_0x5e5f5e(0x1ee)])console[_0x5e5f5e(0x1ca)]('5:');_0x484b09=config['ServerLocation']+_0x484b09['substring'](config[_0x5e5f5e(0x1ea)][_0x5e5f5e(0x1e3)]);}}_0x484b09=_0x484b09[_0x5e5f5e(0x1c8)](/\\/g,'/');if(config[_0x5e5f5e(0x1ee)])console['log'](_0x5e5f5e(0x1e7)+_0x484b09);var _0x4d1f2e=path[_0x5e5f5e(0x1d0)](_0x484b09);createDirRecursively(_0x4d1f2e),_0x177fc1[_0x5e5f5e(0x1dd)](_0x484b09,'w',function(_0x4f9d36,_0x516550){var _0x5d217b=_0x5e5f5e;_0x177fc1[_0x5d217b(0x1cb)](_0x516550,_0x1096b7,0x0,_0x1096b7[_0x5d217b(0x1e3)],null,function(_0xc9635d){var _0x4bc869=_0x5d217b;if(_0xc9635d){if(config[_0x4bc869(0x1ee)])console[_0x4bc869(0x1ca)](_0x4bc869(0x1e6)+_0xc9635d);_0x3660c7[_0x4bc869(0x1c5)](_0x4bc869(0x1e6)+_0xc9635d);}else _0x177fc1[_0x4bc869(0x1d7)](_0x516550,function(){var _0x4c53e7=_0x4bc869;if(config[_0x4c53e7(0x1ee)])console['log'](_0x4c53e7(0x1c4));_0x3660c7[_0x4c53e7(0x1c5)](_0x4c53e7(0x1d4));});});});}catch(_0x513adf){_0x3660c7['send'](_0x5e5f5e(0x1e8));if(config[_0x5e5f5e(0x1ee)])console[_0x5e5f5e(0x1ca)](_0x513adf);}}),module[a26_0x309629(0x1cc)]=router;