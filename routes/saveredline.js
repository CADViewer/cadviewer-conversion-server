var a25_0x26c551=a25_0x1bbc;(function(_0x1653b8,_0x25b2e2){var _0x4e06b5=a25_0x1bbc,_0x11a6ae=_0x1653b8();while(!![]){try{var _0x5b5d45=parseInt(_0x4e06b5(0x171))/0x1*(parseInt(_0x4e06b5(0x16e))/0x2)+parseInt(_0x4e06b5(0x188))/0x3+parseInt(_0x4e06b5(0x167))/0x4+parseInt(_0x4e06b5(0x191))/0x5*(parseInt(_0x4e06b5(0x177))/0x6)+-parseInt(_0x4e06b5(0x190))/0x7*(parseInt(_0x4e06b5(0x17c))/0x8)+parseInt(_0x4e06b5(0x16a))/0x9+parseInt(_0x4e06b5(0x173))/0xa*(-parseInt(_0x4e06b5(0x169))/0xb);if(_0x5b5d45===_0x25b2e2)break;else _0x11a6ae['push'](_0x11a6ae['shift']());}catch(_0x3fdf3d){_0x11a6ae['push'](_0x11a6ae['shift']());}}}(a25_0xc535,0x30bf5));var config=require('../CADViewer_config.json'),cvjs_debug=config[a25_0x26c551(0x18b)],express=require(a25_0x26c551(0x17d)),router=express[a25_0x26c551(0x17e)]();const fs=require('fs'),path=require(a25_0x26c551(0x18f));function createDirRecursively(_0x4ab7ff){var _0x45a9ae=a25_0x26c551;!fs[_0x45a9ae(0x16f)](_0x4ab7ff)&&(createDirRecursively(path['join'](_0x4ab7ff,'..')),fs['mkdirSync'](_0x4ab7ff));}function a25_0x1bbc(_0x46a511,_0x57fd7a){var _0xc5350c=a25_0xc535();return a25_0x1bbc=function(_0x1bbc1a,_0x27d781){_0x1bbc1a=_0x1bbc1a-0x167;var _0x4f468e=_0xc5350c[_0x1bbc1a];return _0x4f468e;},a25_0x1bbc(_0x46a511,_0x57fd7a);}function a25_0xc535(){var _0x20b2da=['43764WrmEgH','redline','409981ILzIxd','1972944jJpTIL','filename:','error\x20-\x20saveredline','replace','226uhhnld','existsSync','Access-Control-Allow-Origin\x20:','730SNbCeO','close','10DrWhWl','substring','length','listtype','497478hzqhQR','ServerFrontEndUrl','body','ServerUrl','ServerLocation','1445072QtbvHz','express','Router','indexOf','Access-Control-Allow-Origin','setHeader','3:\x20saveredline\x20\x20','dirname','\x20config.ServerUrl:','write','error\x20saveredlines:\x20','serverfolder','607944bgdkwd','file\x20written','send','cvjs_debug','exports','open','file_content','path','14NEntXe','5QSsgEk','from','/saveredline','log'];a25_0xc535=function(){return _0x20b2da;};return a25_0xc535();}router['post'](a25_0x26c551(0x193),(_0x5ec5e9,_0xa704e)=>{var _0x917426=a25_0x26c551;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0xa704e[_0x917426(0x181)]('Access-Control-Allow-Origin',config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x917426(0x194)](_0x917426(0x170)+config['ServerFrontEndUrl']);}else{_0xa704e['setHeader'](_0x917426(0x180),'*');if(cvjs_debug)console[_0x917426(0x194)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x3e2651=_0x5ec5e9['body']['file'],_0x5459de=_0x5ec5e9[_0x917426(0x179)][_0x917426(0x18e)],_0x48113a=Buffer[_0x917426(0x192)](_0x5459de),_0x88a281=_0x5ec5e9[_0x917426(0x179)][_0x917426(0x176)];if(cvjs_debug)console[_0x917426(0x194)]('save\x20redline\x20listtype:'+_0x88a281);if(_0x88a281==_0x917426(0x187)||_0x88a281==_0x917426(0x168)){if(_0x3e2651[_0x917426(0x17f)](config['ServerLocation'])==0x0){}else _0x3e2651=config['ServerLocation']+_0x3e2651;}if(cvjs_debug)console[_0x917426(0x194)](_0x917426(0x16b)+_0x3e2651);var _0x5baa8d=require('fs');if(config['cvjs_debug'])console[_0x917426(0x194)]('1:\x20saveredline\x20\x20'+_0x3e2651);_0x3e2651=decodeURI(_0x3e2651),_0x3e2651=_0x3e2651[_0x917426(0x16d)](/%3A/g,':'),_0x3e2651=_0x3e2651['replace'](/%2F/g,'/'),_0x3e2651=_0x3e2651[_0x917426(0x16d)](/%20/g,'\x20'),_0x3e2651=_0x3e2651['replaceAll']('+','\x20');if(config['cvjs_debug'])console[_0x917426(0x194)]('2:\x20saveredline\x20\x20'+_0x3e2651+'\x20\x20\x20\x20config.ServerFrontEndUrl:'+config[_0x917426(0x178)]+_0x917426(0x184)+config[_0x917426(0x17a)]);if(config['ServerFrontEndUrl']!=''&&_0x3e2651[_0x917426(0x17f)](config[_0x917426(0x178)])==0x0){if(config[_0x917426(0x18b)])console['log']('4:');_0x3e2651=config[_0x917426(0x17b)]+_0x3e2651[_0x917426(0x174)](config['ServerFrontEndUrl'][_0x917426(0x175)]);}else{if(config[_0x917426(0x17a)]!=''&&_0x3e2651[_0x917426(0x17f)](config[_0x917426(0x17a)])==0x0){if(config[_0x917426(0x18b)])console['log']('5:');_0x3e2651=config[_0x917426(0x17b)]+_0x3e2651['substring'](config[_0x917426(0x17a)][_0x917426(0x175)]);}}_0x3e2651=_0x3e2651['replace'](/\\/g,'/');if(config[_0x917426(0x18b)])console['log'](_0x917426(0x182)+_0x3e2651);var _0x1c06ae=path[_0x917426(0x183)](_0x3e2651);createDirRecursively(_0x1c06ae),_0x5baa8d[_0x917426(0x18d)](_0x3e2651,'w',function(_0x4a3c6d,_0x221ac4){var _0x2fde1a=_0x917426;_0x5baa8d[_0x2fde1a(0x185)](_0x221ac4,_0x48113a,0x0,_0x48113a[_0x2fde1a(0x175)],null,function(_0x4eeb37){var _0x2b8f56=_0x2fde1a;if(_0x4eeb37){if(config[_0x2b8f56(0x18b)])console['log']('error\x20saveredlines:\x20'+_0x4eeb37);_0xa704e['send'](_0x2b8f56(0x186)+_0x4eeb37);}else _0x5baa8d[_0x2b8f56(0x172)](_0x221ac4,function(){var _0x5a2268=_0x2b8f56;if(config[_0x5a2268(0x18b)])console['log'](_0x5a2268(0x189));_0xa704e[_0x5a2268(0x18a)]('Succes');});});});}catch(_0x5737c2){_0xa704e['send'](_0x917426(0x16c));if(config['cvjs_debug'])console[_0x917426(0x194)](_0x5737c2);}}),module[a25_0x26c551(0x18c)]=router;