var a25_0x585bf1=a25_0x4e35;(function(_0xdfcc1,_0x214cca){var _0x41058d=a25_0x4e35,_0x59a0de=_0xdfcc1();while(!![]){try{var _0x54252d=-parseInt(_0x41058d(0xf0))/0x1*(parseInt(_0x41058d(0x100))/0x2)+parseInt(_0x41058d(0xdb))/0x3*(parseInt(_0x41058d(0xe8))/0x4)+parseInt(_0x41058d(0xed))/0x5*(parseInt(_0x41058d(0xd3))/0x6)+-parseInt(_0x41058d(0xe3))/0x7*(-parseInt(_0x41058d(0xd4))/0x8)+-parseInt(_0x41058d(0xf5))/0x9*(parseInt(_0x41058d(0xe4))/0xa)+-parseInt(_0x41058d(0xec))/0xb*(parseInt(_0x41058d(0xdf))/0xc)+parseInt(_0x41058d(0xe2))/0xd;if(_0x54252d===_0x214cca)break;else _0x59a0de['push'](_0x59a0de['shift']());}catch(_0x1f2ae5){_0x59a0de['push'](_0x59a0de['shift']());}}}(a25_0xa024,0x5f7d4));function a25_0xa024(){var _0x36ba98=['serverfolder','133563CzvGSf','error\x20saveredlines:\x20','\x20config.ServerUrl:','Succes','840MKeXBY','file_content','replaceAll','2926417krVLpf','13839dDUrhb','50jWeBDn','redline','dirname','from','32vorlCt','ServerLocation','body','mkdirSync','28105dbpkMK','160HPjgDc','length','file','603FBuhbw','filename:','express','path','ServerUrl','1019349oVerkL','ServerFrontEndUrl','substring','indexOf','error\x20-\x20saveredline','Access-Control-Allow-Origin\x20:\x20*','Router','\x20\x20\x20\x20config.ServerFrontEndUrl:','1:\x20saveredline\x20\x20','setHeader','file\x20written','1410QyEeZQ','existsSync','send','post','write','Access-Control-Allow-Origin\x20:','/saveredline','cvjs_debug','replace','2:\x20saveredline\x20\x20','113712JOyDqp','1512dNbRUw','Access-Control-Allow-Origin','exports','3:\x20saveredline\x20\x20','ServerFrontEndUrlAsAllowedOriginOnly','log'];a25_0xa024=function(){return _0x36ba98;};return a25_0xa024();}var config=require('../CADViewer_config.json'),cvjs_debug=config[a25_0x585bf1(0x107)],express=require(a25_0x585bf1(0xf2)),router=express[a25_0x585bf1(0xfb)]();function a25_0x4e35(_0x582726,_0x1663df){var _0xa02486=a25_0xa024();return a25_0x4e35=function(_0x4e3563,_0x3be97e){_0x4e3563=_0x4e3563-0xd1;var _0xc24b32=_0xa02486[_0x4e3563];return _0xc24b32;},a25_0x4e35(_0x582726,_0x1663df);}const fs=require('fs'),path=require(a25_0x585bf1(0xf3));function createDirRecursively(_0x38e30b){var _0x232de3=a25_0x585bf1;!fs[_0x232de3(0x101)](_0x38e30b)&&(createDirRecursively(path['join'](_0x38e30b,'..')),fs[_0x232de3(0xeb)](_0x38e30b));}router[a25_0x585bf1(0x103)](a25_0x585bf1(0x106),(_0x19e764,_0x4ed467)=>{var _0xe9e05a=a25_0x585bf1;if(config[_0xe9e05a(0xd8)]==!![]){_0x4ed467[_0xe9e05a(0xfe)](_0xe9e05a(0xd5),config['ServerFrontEndUrl']);if(cvjs_debug)console['log'](_0xe9e05a(0x105)+config[_0xe9e05a(0xf6)]);}else{_0x4ed467['setHeader'](_0xe9e05a(0xd5),'*');if(cvjs_debug)console[_0xe9e05a(0xd9)](_0xe9e05a(0xfa));}try{var _0xd91ed=_0x19e764[_0xe9e05a(0xea)][_0xe9e05a(0xef)],_0x5b6464=_0x19e764['body'][_0xe9e05a(0xe0)],_0x1512c6=Buffer[_0xe9e05a(0xe7)](_0x5b6464),_0x5e5cbe=_0x19e764[_0xe9e05a(0xea)]['listtype'];if(cvjs_debug)console[_0xe9e05a(0xd9)]('save\x20redline\x20listtype:'+_0x5e5cbe);if(_0x5e5cbe==_0xe9e05a(0xda)||_0x5e5cbe==_0xe9e05a(0xe5)){if(_0xd91ed['indexOf'](config[_0xe9e05a(0xe9)])==0x0){}else _0xd91ed=config[_0xe9e05a(0xe9)]+_0xd91ed;}if(cvjs_debug)console['log'](_0xe9e05a(0xf1)+_0xd91ed);var _0x418826=require('fs');if(config[_0xe9e05a(0x107)])console['log'](_0xe9e05a(0xfd)+_0xd91ed);_0xd91ed=decodeURI(_0xd91ed),_0xd91ed=_0xd91ed[_0xe9e05a(0xd1)](/%3A/g,':'),_0xd91ed=_0xd91ed[_0xe9e05a(0xd1)](/%2F/g,'/'),_0xd91ed=_0xd91ed[_0xe9e05a(0xd1)](/%20/g,'\x20'),_0xd91ed=_0xd91ed[_0xe9e05a(0xe1)]('+','\x20');if(config[_0xe9e05a(0x107)])console[_0xe9e05a(0xd9)](_0xe9e05a(0xd2)+_0xd91ed+_0xe9e05a(0xfc)+config[_0xe9e05a(0xf6)]+_0xe9e05a(0xdd)+config['ServerUrl']);if(config['ServerFrontEndUrl']!=''&&_0xd91ed[_0xe9e05a(0xf8)](config['ServerFrontEndUrl'])==0x0){if(config[_0xe9e05a(0x107)])console['log']('4:');_0xd91ed=config['ServerLocation']+_0xd91ed[_0xe9e05a(0xf7)](config[_0xe9e05a(0xf6)]['length']);}else{if(config['ServerUrl']!=''&&_0xd91ed[_0xe9e05a(0xf8)](config[_0xe9e05a(0xf4)])==0x0){if(config[_0xe9e05a(0x107)])console[_0xe9e05a(0xd9)]('5:');_0xd91ed=config[_0xe9e05a(0xe9)]+_0xd91ed[_0xe9e05a(0xf7)](config[_0xe9e05a(0xf4)][_0xe9e05a(0xee)]);}}_0xd91ed=_0xd91ed['replace'](/\\/g,'/');if(config[_0xe9e05a(0x107)])console[_0xe9e05a(0xd9)](_0xe9e05a(0xd7)+_0xd91ed);var _0x18be44=path[_0xe9e05a(0xe6)](_0xd91ed);createDirRecursively(_0x18be44),_0x418826['open'](_0xd91ed,'w',function(_0x5a90e5,_0x2da0e2){var _0x4968dc=_0xe9e05a;_0x418826[_0x4968dc(0x104)](_0x2da0e2,_0x1512c6,0x0,_0x1512c6[_0x4968dc(0xee)],null,function(_0x279dce){var _0x542ca0=_0x4968dc;if(_0x279dce){if(config['cvjs_debug'])console['log'](_0x542ca0(0xdc)+_0x279dce);_0x4ed467[_0x542ca0(0x102)](_0x542ca0(0xdc)+_0x279dce);}else _0x418826['close'](_0x2da0e2,function(){var _0x505f34=_0x542ca0;if(config[_0x505f34(0x107)])console['log'](_0x505f34(0xff));_0x4ed467[_0x505f34(0x102)](_0x505f34(0xde));});});});}catch(_0x2cdbd7){_0x4ed467['send'](_0xe9e05a(0xf9));if(config[_0xe9e05a(0x107)])console[_0xe9e05a(0xd9)](_0x2cdbd7);}}),module[a25_0x585bf1(0xd6)]=router;