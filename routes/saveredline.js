var a25_0x27a64a=a25_0x2128;(function(_0x3725a0,_0x4e4586){var _0x19740b=a25_0x2128,_0x4686e8=_0x3725a0();while(!![]){try{var _0x4207fd=parseInt(_0x19740b(0x16c))/0x1*(parseInt(_0x19740b(0x143))/0x2)+parseInt(_0x19740b(0x15f))/0x3*(parseInt(_0x19740b(0x150))/0x4)+-parseInt(_0x19740b(0x14e))/0x5+parseInt(_0x19740b(0x154))/0x6+-parseInt(_0x19740b(0x15b))/0x7+parseInt(_0x19740b(0x16b))/0x8+parseInt(_0x19740b(0x16f))/0x9*(-parseInt(_0x19740b(0x167))/0xa);if(_0x4207fd===_0x4e4586)break;else _0x4686e8['push'](_0x4686e8['shift']());}catch(_0x51ccc6){_0x4686e8['push'](_0x4686e8['shift']());}}}(a25_0x5625,0x8442a));var config=require('../CADViewer_config.json'),cvjs_debug=config['cvjs_debug'],express=require(a25_0x27a64a(0x160)),router=express[a25_0x27a64a(0x166)]();const fs=require('fs'),path=require(a25_0x27a64a(0x16e));function createDirRecursively(_0x9837e8){var _0x29a08a=a25_0x27a64a;!fs[_0x29a08a(0x14a)](_0x9837e8)&&(createDirRecursively(path[_0x29a08a(0x161)](_0x9837e8,'..')),fs[_0x29a08a(0x146)](_0x9837e8));}function a25_0x5625(){var _0x5b3acc=['ServerUrl','filename:','setHeader','2102412zcvlHo','\x20config.ServerUrl:','error\x20saveredlines:\x20','substring','cvjs_debug','ServerLocation','exports','6020273mAGGUr','log','length','save\x20redline\x20listtype:','45kreVyY','express','join','replace','1:\x20saveredline\x20\x20','/saveredline','serverfolder','Router','10cVUCLo','body','dirname','error\x20-\x20saveredline','4763688SuwFTu','27QnCkrg','redline','path','9787770yrlOxd','post','close','ServerFrontEndUrl','file_content','from','replaceAll','write','50766mwEVNx','\x20\x20\x20\x20config.ServerFrontEndUrl:','file','mkdirSync','Access-Control-Allow-Origin\x20:','indexOf','ServerFrontEndUrlAsAllowedOriginOnly','existsSync','send','Succes','file\x20written','270760GWqMOh','open','243268yILuAq'];a25_0x5625=function(){return _0x5b3acc;};return a25_0x5625();}function a25_0x2128(_0x2823c3,_0x28da60){var _0x5625c0=a25_0x5625();return a25_0x2128=function(_0x21284d,_0x592558){_0x21284d=_0x21284d-0x143;var _0x94d39e=_0x5625c0[_0x21284d];return _0x94d39e;},a25_0x2128(_0x2823c3,_0x28da60);}router[a25_0x27a64a(0x170)](a25_0x27a64a(0x164),(_0x504b1a,_0x4cad95)=>{var _0x318487=a25_0x27a64a;if(config[_0x318487(0x149)]==!![]){_0x4cad95[_0x318487(0x153)]('Access-Control-Allow-Origin',config[_0x318487(0x172)]);if(cvjs_debug)console['log'](_0x318487(0x147)+config[_0x318487(0x172)]);}else{_0x4cad95[_0x318487(0x153)]('Access-Control-Allow-Origin','*');if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:\x20*');}try{var _0xcc78e2=_0x504b1a['body'][_0x318487(0x145)],_0x494346=_0x504b1a[_0x318487(0x168)][_0x318487(0x173)],_0x4b17c3=Buffer[_0x318487(0x174)](_0x494346),_0xbcf88e=_0x504b1a[_0x318487(0x168)]['listtype'];if(cvjs_debug)console[_0x318487(0x15c)](_0x318487(0x15e)+_0xbcf88e);if(_0xbcf88e==_0x318487(0x165)||_0xbcf88e==_0x318487(0x16d)){if(_0xcc78e2[_0x318487(0x148)](config[_0x318487(0x159)])==0x0){}else _0xcc78e2=config[_0x318487(0x159)]+_0xcc78e2;}if(cvjs_debug)console[_0x318487(0x15c)](_0x318487(0x152)+_0xcc78e2);var _0x2c1d88=require('fs');if(config[_0x318487(0x158)])console[_0x318487(0x15c)](_0x318487(0x163)+_0xcc78e2);_0xcc78e2=decodeURI(_0xcc78e2),_0xcc78e2=_0xcc78e2['replace'](/%3A/g,':'),_0xcc78e2=_0xcc78e2['replace'](/%2F/g,'/'),_0xcc78e2=_0xcc78e2[_0x318487(0x162)](/%20/g,'\x20'),_0xcc78e2=_0xcc78e2[_0x318487(0x175)]('+','\x20');if(config[_0x318487(0x158)])console[_0x318487(0x15c)]('2:\x20saveredline\x20\x20'+_0xcc78e2+_0x318487(0x144)+config['ServerFrontEndUrl']+_0x318487(0x155)+config['ServerUrl']);if(config[_0x318487(0x172)]!=''&&_0xcc78e2[_0x318487(0x148)](config[_0x318487(0x172)])==0x0){if(config[_0x318487(0x158)])console[_0x318487(0x15c)]('4:');_0xcc78e2=config[_0x318487(0x159)]+_0xcc78e2[_0x318487(0x157)](config[_0x318487(0x172)]['length']);}else{if(config[_0x318487(0x151)]!=''&&_0xcc78e2['indexOf'](config[_0x318487(0x151)])==0x0){if(config[_0x318487(0x158)])console[_0x318487(0x15c)]('5:');_0xcc78e2=config[_0x318487(0x159)]+_0xcc78e2['substring'](config[_0x318487(0x151)]['length']);}}_0xcc78e2=_0xcc78e2[_0x318487(0x162)](/\\/g,'/');if(config[_0x318487(0x158)])console['log']('3:\x20saveredline\x20\x20'+_0xcc78e2);var _0x5d0657=path[_0x318487(0x169)](_0xcc78e2);createDirRecursively(_0x5d0657),_0x2c1d88[_0x318487(0x14f)](_0xcc78e2,'w',function(_0x9dea47,_0x27e70c){var _0x19c212=_0x318487;_0x2c1d88[_0x19c212(0x176)](_0x27e70c,_0x4b17c3,0x0,_0x4b17c3[_0x19c212(0x15d)],null,function(_0x5e1dc9){var _0x4c3d76=_0x19c212;if(_0x5e1dc9){if(config[_0x4c3d76(0x158)])console[_0x4c3d76(0x15c)](_0x4c3d76(0x156)+_0x5e1dc9);_0x4cad95[_0x4c3d76(0x14b)](_0x4c3d76(0x156)+_0x5e1dc9);}else _0x2c1d88[_0x4c3d76(0x171)](_0x27e70c,function(){var _0x3dffa4=_0x4c3d76;if(config['cvjs_debug'])console['log'](_0x3dffa4(0x14d));_0x4cad95[_0x3dffa4(0x14b)](_0x3dffa4(0x14c));});});});}catch(_0x38946d){_0x4cad95[_0x318487(0x14b)](_0x318487(0x16a));if(config['cvjs_debug'])console[_0x318487(0x15c)](_0x38946d);}}),module[a25_0x27a64a(0x15a)]=router;