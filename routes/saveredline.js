var a25_0x10d6ed=a25_0x2ef7;(function(_0x5d0865,_0x131440){var _0x563e1c=a25_0x2ef7,_0x233913=_0x5d0865();while(!![]){try{var _0x2efb48=parseInt(_0x563e1c(0xe2))/0x1*(parseInt(_0x563e1c(0xe9))/0x2)+-parseInt(_0x563e1c(0xec))/0x3*(parseInt(_0x563e1c(0xd2))/0x4)+-parseInt(_0x563e1c(0xe3))/0x5*(parseInt(_0x563e1c(0xcc))/0x6)+-parseInt(_0x563e1c(0xc3))/0x7+parseInt(_0x563e1c(0xde))/0x8+-parseInt(_0x563e1c(0xc1))/0x9*(-parseInt(_0x563e1c(0xd4))/0xa)+parseInt(_0x563e1c(0xee))/0xb;if(_0x2efb48===_0x131440)break;else _0x233913['push'](_0x233913['shift']());}catch(_0xe2b66b){_0x233913['push'](_0x233913['shift']());}}}(a25_0x4b9c,0xdc09d));var config=require(a25_0x10d6ed(0xe7)),cvjs_debug=config['cvjs_debug'],express=require('express'),router=express['Router']();function a25_0x2ef7(_0x20613f,_0x4b9db4){var _0x4b9c10=a25_0x4b9c();return a25_0x2ef7=function(_0x2ef7f8,_0xe99090){_0x2ef7f8=_0x2ef7f8-0xc1;var _0x1b6025=_0x4b9c10[_0x2ef7f8];return _0x1b6025;},a25_0x2ef7(_0x20613f,_0x4b9db4);}function a25_0x4b9c(){var _0xcf6991=['close','/saveredline','indexOf','existsSync','replace','file_content','12709416LuQNif','cvjs_debug','ServerLocation','open','67831HiYkLD','2375AniyDO','file','length','2:\x20saveredline\x20\x20','../CADViewer_config.json','redline','14UdyJRj','send','ServerUrl','582pRuPDO','log','6842451mbHWEo','261747MQePPV','exports','9237487EyypIo','error\x20saveredlines:\x20','ServerFrontEndUrlAsAllowedOriginOnly','Succes','file\x20written','Access-Control-Allow-Origin\x20:','body','3:\x20saveredline\x20\x20','Access-Control-Allow-Origin','6186LHIetB','setHeader','mkdirSync','ServerFrontEndUrl','join','substring','10276mdYNIH','dirname','180ACvOYg','\x20\x20\x20\x20config.ServerFrontEndUrl:','replaceAll','listtype'];a25_0x4b9c=function(){return _0xcf6991;};return a25_0x4b9c();}const fs=require('fs'),path=require('path');function createDirRecursively(_0x35dc92){var _0xa70a68=a25_0x10d6ed;!fs[_0xa70a68(0xdb)](_0x35dc92)&&(createDirRecursively(path[_0xa70a68(0xd0)](_0x35dc92,'..')),fs[_0xa70a68(0xce)](_0x35dc92));}router['post'](a25_0x10d6ed(0xd9),(_0x5d2539,_0x551c0d)=>{var _0xa84062=a25_0x10d6ed;if(config[_0xa84062(0xc5)]==!![]){_0x551c0d[_0xa84062(0xcd)](_0xa84062(0xcb),config[_0xa84062(0xcf)]);if(cvjs_debug)console[_0xa84062(0xed)](_0xa84062(0xc8)+config[_0xa84062(0xcf)]);}else{_0x551c0d[_0xa84062(0xcd)](_0xa84062(0xcb),'*');if(cvjs_debug)console[_0xa84062(0xed)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x367bb6=_0x5d2539[_0xa84062(0xc9)][_0xa84062(0xe4)],_0x36f9e0=_0x5d2539[_0xa84062(0xc9)][_0xa84062(0xdd)],_0x26639a=Buffer['from'](_0x36f9e0),_0x337934=_0x5d2539['body'][_0xa84062(0xd7)];if(cvjs_debug)console[_0xa84062(0xed)]('save\x20redline\x20listtype:'+_0x337934);if(_0x337934=='serverfolder'||_0x337934==_0xa84062(0xe8)){if(_0x367bb6[_0xa84062(0xda)](config['ServerLocation'])==0x0){}else _0x367bb6=config['ServerLocation']+_0x367bb6;}if(cvjs_debug)console[_0xa84062(0xed)]('filename:'+_0x367bb6);var _0xc7ae0d=require('fs');if(config[_0xa84062(0xdf)])console[_0xa84062(0xed)]('1:\x20saveredline\x20\x20'+_0x367bb6);_0x367bb6=decodeURI(_0x367bb6),_0x367bb6=_0x367bb6['replace'](/%3A/g,':'),_0x367bb6=_0x367bb6[_0xa84062(0xdc)](/%2F/g,'/'),_0x367bb6=_0x367bb6['replace'](/%20/g,'\x20'),_0x367bb6=_0x367bb6[_0xa84062(0xd6)]('+','\x20');if(config[_0xa84062(0xdf)])console[_0xa84062(0xed)](_0xa84062(0xe6)+_0x367bb6+_0xa84062(0xd5)+config[_0xa84062(0xcf)]+'\x20config.ServerUrl:'+config[_0xa84062(0xeb)]);if(config[_0xa84062(0xcf)]!=''&&_0x367bb6[_0xa84062(0xda)](config['ServerFrontEndUrl'])==0x0){if(config[_0xa84062(0xdf)])console[_0xa84062(0xed)]('4:');_0x367bb6=config[_0xa84062(0xe0)]+_0x367bb6[_0xa84062(0xd1)](config[_0xa84062(0xcf)][_0xa84062(0xe5)]);}else{if(config[_0xa84062(0xeb)]!=''&&_0x367bb6[_0xa84062(0xda)](config[_0xa84062(0xeb)])==0x0){if(config[_0xa84062(0xdf)])console[_0xa84062(0xed)]('5:');_0x367bb6=config[_0xa84062(0xe0)]+_0x367bb6[_0xa84062(0xd1)](config[_0xa84062(0xeb)][_0xa84062(0xe5)]);}}_0x367bb6=_0x367bb6[_0xa84062(0xdc)](/\\/g,'/');if(config[_0xa84062(0xdf)])console[_0xa84062(0xed)](_0xa84062(0xca)+_0x367bb6);var _0x2e6f48=path[_0xa84062(0xd3)](_0x367bb6);createDirRecursively(_0x2e6f48),_0xc7ae0d[_0xa84062(0xe1)](_0x367bb6,'w',function(_0x363082,_0x497e0f){var _0x3ca1aa=_0xa84062;_0xc7ae0d['write'](_0x497e0f,_0x26639a,0x0,_0x26639a[_0x3ca1aa(0xe5)],null,function(_0x5b613b){var _0x492ca8=_0x3ca1aa;if(_0x5b613b){if(config[_0x492ca8(0xdf)])console[_0x492ca8(0xed)]('error\x20saveredlines:\x20'+_0x5b613b);_0x551c0d[_0x492ca8(0xea)](_0x492ca8(0xc4)+_0x5b613b);}else _0xc7ae0d[_0x492ca8(0xd8)](_0x497e0f,function(){var _0x3719f9=_0x492ca8;if(config[_0x3719f9(0xdf)])console[_0x3719f9(0xed)](_0x3719f9(0xc7));_0x551c0d[_0x3719f9(0xea)](_0x3719f9(0xc6));});});});}catch(_0x18d0d1){_0x551c0d[_0xa84062(0xea)]('error\x20-\x20saveredline');if(config['cvjs_debug'])console[_0xa84062(0xed)](_0x18d0d1);}}),module[a25_0x10d6ed(0xc2)]=router;