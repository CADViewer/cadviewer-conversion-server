var a25_0x348370=a25_0x22ef;(function(_0x5b379c,_0x4ac6fd){var _0x362327=a25_0x22ef,_0x299f41=_0x5b379c();while(!![]){try{var _0x273255=parseInt(_0x362327(0xe8))/0x1+parseInt(_0x362327(0xf5))/0x2+-parseInt(_0x362327(0xeb))/0x3+parseInt(_0x362327(0xc7))/0x4+parseInt(_0x362327(0xf0))/0x5+parseInt(_0x362327(0xc9))/0x6*(-parseInt(_0x362327(0xec))/0x7)+-parseInt(_0x362327(0xe2))/0x8;if(_0x273255===_0x4ac6fd)break;else _0x299f41['push'](_0x299f41['shift']());}catch(_0x188ac5){_0x299f41['push'](_0x299f41['shift']());}}}(a25_0x7863,0x45f51));var config=require(a25_0x348370(0xdd)),cvjs_debug=config['cvjs_debug'],express=require('express'),router=express['Router']();function a25_0x7863(){var _0x12fcdc=['substring','length','\x20config.ServerUrl:','ServerUrl','\x20\x20\x20\x20config.ServerFrontEndUrl:','setHeader','open','3:\x20saveredline\x20\x20','Succes','path','../CADViewer_config.json','serverfolder','ServerLocation','file_content','error\x20-\x20saveredline','5851928piohDY','join','dirname','write','body','cvjs_debug','306663mthLyP','Access-Control-Allow-Origin\x20:\x20*','indexOf','543732ZaLQpr','14OvillR','replaceAll','2:\x20saveredline\x20\x20','1:\x20saveredline\x20\x20','832435QebJtW','post','save\x20redline\x20listtype:','log','file','683378SNLhWS','error\x20saveredlines:\x20','1591580mTgsxm','Access-Control-Allow-Origin','40362NvZmYx','listtype','exports','file\x20written','close','mkdirSync','replace','send','ServerFrontEndUrl','from'];a25_0x7863=function(){return _0x12fcdc;};return a25_0x7863();}const fs=require('fs'),path=require(a25_0x348370(0xdc));function a25_0x22ef(_0x597078,_0x19cf7e){var _0x786346=a25_0x7863();return a25_0x22ef=function(_0x22efec,_0x4e6056){_0x22efec=_0x22efec-0xc7;var _0x280a25=_0x786346[_0x22efec];return _0x280a25;},a25_0x22ef(_0x597078,_0x19cf7e);}function createDirRecursively(_0xb7f797){var _0x252310=a25_0x348370;!fs['existsSync'](_0xb7f797)&&(createDirRecursively(path[_0x252310(0xe3)](_0xb7f797,'..')),fs[_0x252310(0xce)](_0xb7f797));}router[a25_0x348370(0xf1)]('/saveredline',(_0x231035,_0xd966e8)=>{var _0x3775b3=a25_0x348370;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0xd966e8[_0x3775b3(0xd8)](_0x3775b3(0xc8),config[_0x3775b3(0xd1)]);if(cvjs_debug)console[_0x3775b3(0xf3)]('Access-Control-Allow-Origin\x20:'+config['ServerFrontEndUrl']);}else{_0xd966e8[_0x3775b3(0xd8)](_0x3775b3(0xc8),'*');if(cvjs_debug)console[_0x3775b3(0xf3)](_0x3775b3(0xe9));}try{var _0x38439d=_0x231035[_0x3775b3(0xe6)][_0x3775b3(0xf4)],_0x20b58a=_0x231035[_0x3775b3(0xe6)][_0x3775b3(0xe0)],_0x5ae0cd=Buffer[_0x3775b3(0xd2)](_0x20b58a),_0x2447ac=_0x231035[_0x3775b3(0xe6)][_0x3775b3(0xca)];if(cvjs_debug)console[_0x3775b3(0xf3)](_0x3775b3(0xf2)+_0x2447ac);if(_0x2447ac==_0x3775b3(0xde)||_0x2447ac=='redline'){if(_0x38439d[_0x3775b3(0xea)](config[_0x3775b3(0xdf)])==0x0){}else _0x38439d=config[_0x3775b3(0xdf)]+_0x38439d;}if(cvjs_debug)console['log']('filename:'+_0x38439d);var _0x9ec2ae=require('fs');if(config[_0x3775b3(0xe7)])console[_0x3775b3(0xf3)](_0x3775b3(0xef)+_0x38439d);_0x38439d=decodeURI(_0x38439d),_0x38439d=_0x38439d[_0x3775b3(0xcf)](/%3A/g,':'),_0x38439d=_0x38439d[_0x3775b3(0xcf)](/%2F/g,'/'),_0x38439d=_0x38439d['replace'](/%20/g,'\x20'),_0x38439d=_0x38439d[_0x3775b3(0xed)]('+','\x20');if(config[_0x3775b3(0xe7)])console[_0x3775b3(0xf3)](_0x3775b3(0xee)+_0x38439d+_0x3775b3(0xd7)+config['ServerFrontEndUrl']+_0x3775b3(0xd5)+config[_0x3775b3(0xd6)]);if(config[_0x3775b3(0xd1)]!=''&&_0x38439d[_0x3775b3(0xea)](config['ServerFrontEndUrl'])==0x0){if(config['cvjs_debug'])console[_0x3775b3(0xf3)]('4:');_0x38439d=config[_0x3775b3(0xdf)]+_0x38439d[_0x3775b3(0xd3)](config[_0x3775b3(0xd1)]['length']);}else{if(config[_0x3775b3(0xd6)]!=''&&_0x38439d[_0x3775b3(0xea)](config['ServerUrl'])==0x0){if(config[_0x3775b3(0xe7)])console[_0x3775b3(0xf3)]('5:');_0x38439d=config[_0x3775b3(0xdf)]+_0x38439d[_0x3775b3(0xd3)](config[_0x3775b3(0xd6)][_0x3775b3(0xd4)]);}}_0x38439d=_0x38439d['replace'](/\\/g,'/');if(config[_0x3775b3(0xe7)])console[_0x3775b3(0xf3)](_0x3775b3(0xda)+_0x38439d);var _0x23de72=path[_0x3775b3(0xe4)](_0x38439d);createDirRecursively(_0x23de72),_0x9ec2ae[_0x3775b3(0xd9)](_0x38439d,'w',function(_0x35059a,_0x525cc0){var _0x3efc21=_0x3775b3;_0x9ec2ae[_0x3efc21(0xe5)](_0x525cc0,_0x5ae0cd,0x0,_0x5ae0cd[_0x3efc21(0xd4)],null,function(_0x33f11b){var _0x4c7b7c=_0x3efc21;if(_0x33f11b){if(config[_0x4c7b7c(0xe7)])console[_0x4c7b7c(0xf3)](_0x4c7b7c(0xf6)+_0x33f11b);_0xd966e8['send'](_0x4c7b7c(0xf6)+_0x33f11b);}else _0x9ec2ae[_0x4c7b7c(0xcd)](_0x525cc0,function(){var _0x364f03=_0x4c7b7c;if(config[_0x364f03(0xe7)])console[_0x364f03(0xf3)](_0x364f03(0xcc));_0xd966e8[_0x364f03(0xd0)](_0x364f03(0xdb));});});});}catch(_0x53228c){_0xd966e8[_0x3775b3(0xd0)](_0x3775b3(0xe1));if(config[_0x3775b3(0xe7)])console[_0x3775b3(0xf3)](_0x53228c);}}),module[a25_0x348370(0xcb)]=router;