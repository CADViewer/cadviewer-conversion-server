var a25_0x37c8bc=a25_0x1666;(function(_0x2b3ac8,_0x539ef3){var _0x4b89a7=a25_0x1666,_0x45613f=_0x2b3ac8();while(!![]){try{var _0x1cf1cc=parseInt(_0x4b89a7(0x116))/0x1*(parseInt(_0x4b89a7(0xff))/0x2)+parseInt(_0x4b89a7(0x120))/0x3*(parseInt(_0x4b89a7(0x11c))/0x4)+parseInt(_0x4b89a7(0x126))/0x5*(-parseInt(_0x4b89a7(0x12c))/0x6)+-parseInt(_0x4b89a7(0x105))/0x7*(-parseInt(_0x4b89a7(0x12f))/0x8)+parseInt(_0x4b89a7(0x130))/0x9+-parseInt(_0x4b89a7(0x11e))/0xa*(-parseInt(_0x4b89a7(0x10a))/0xb)+-parseInt(_0x4b89a7(0x117))/0xc*(parseInt(_0x4b89a7(0x11a))/0xd);if(_0x1cf1cc===_0x539ef3)break;else _0x45613f['push'](_0x45613f['shift']());}catch(_0x5d8ad4){_0x45613f['push'](_0x45613f['shift']());}}}(a25_0x3188,0x81d03));var config=require(a25_0x37c8bc(0xfd)),cvjs_debug=config['cvjs_debug'],express=require('express'),router=express['Router']();function a25_0x3188(){var _0x306c4e=['write','listtype','existsSync','265SmkdyS','replace','exports','mkdirSync','Access-Control-Allow-Origin\x20:','dirname','48234JZtgMj','save\x20redline\x20listtype:','path','2432RSDOhI','3698658iQeLWO','log','../CADViewer_config.json','body','86kUidUS','cvjs_debug','redline','error\x20-\x20saveredline','ServerFrontEndUrl','length','21854GiUtxP','\x20\x20\x20\x20config.ServerFrontEndUrl:','file_content','\x20config.ServerUrl:','1:\x20saveredline\x20\x20','814nfDBMi','indexOf','setHeader','send','/saveredline','file','file\x20written','replaceAll','error\x20saveredlines:\x20','from','join','ServerUrl','7570lfPUou','8358420NfCRkb','open','Succes','26ZBsqSr','Access-Control-Allow-Origin\x20:\x20*','24ETLZIz','serverfolder','37470IidBrq','ServerFrontEndUrlAsAllowedOriginOnly','194007brWRRl','Access-Control-Allow-Origin','ServerLocation'];a25_0x3188=function(){return _0x306c4e;};return a25_0x3188();}function a25_0x1666(_0x5a6f65,_0x32d567){var _0x3188f2=a25_0x3188();return a25_0x1666=function(_0x16666c,_0x5b831f){_0x16666c=_0x16666c-0xfc;var _0x2197ed=_0x3188f2[_0x16666c];return _0x2197ed;},a25_0x1666(_0x5a6f65,_0x32d567);}const fs=require('fs'),path=require(a25_0x37c8bc(0x12e));function createDirRecursively(_0x3948cc){var _0x522628=a25_0x37c8bc;!fs[_0x522628(0x125)](_0x3948cc)&&(createDirRecursively(path[_0x522628(0x114)](_0x3948cc,'..')),fs[_0x522628(0x129)](_0x3948cc));}router['post'](a25_0x37c8bc(0x10e),(_0x347ec9,_0x1f6f95)=>{var _0x3e8653=a25_0x37c8bc;if(config[_0x3e8653(0x11f)]==!![]){_0x1f6f95['setHeader'](_0x3e8653(0x121),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x3e8653(0xfc)](_0x3e8653(0x12a)+config[_0x3e8653(0x103)]);}else{_0x1f6f95[_0x3e8653(0x10c)](_0x3e8653(0x121),'*');if(cvjs_debug)console[_0x3e8653(0xfc)](_0x3e8653(0x11b));}try{var _0x4bd001=_0x347ec9['body'][_0x3e8653(0x10f)],_0xfdf091=_0x347ec9[_0x3e8653(0xfe)][_0x3e8653(0x107)],_0xf4786=Buffer[_0x3e8653(0x113)](_0xfdf091),_0x1f87ca=_0x347ec9[_0x3e8653(0xfe)][_0x3e8653(0x124)];if(cvjs_debug)console[_0x3e8653(0xfc)](_0x3e8653(0x12d)+_0x1f87ca);if(_0x1f87ca==_0x3e8653(0x11d)||_0x1f87ca==_0x3e8653(0x101)){if(_0x4bd001['indexOf'](config[_0x3e8653(0x122)])==0x0){}else _0x4bd001=config[_0x3e8653(0x122)]+_0x4bd001;}if(cvjs_debug)console['log']('filename:'+_0x4bd001);var _0x2efe43=require('fs');if(config[_0x3e8653(0x100)])console[_0x3e8653(0xfc)](_0x3e8653(0x109)+_0x4bd001);_0x4bd001=decodeURI(_0x4bd001),_0x4bd001=_0x4bd001[_0x3e8653(0x127)](/%3A/g,':'),_0x4bd001=_0x4bd001['replace'](/%2F/g,'/'),_0x4bd001=_0x4bd001[_0x3e8653(0x127)](/%20/g,'\x20'),_0x4bd001=_0x4bd001[_0x3e8653(0x111)]('+','\x20');if(config[_0x3e8653(0x100)])console['log']('2:\x20saveredline\x20\x20'+_0x4bd001+_0x3e8653(0x106)+config[_0x3e8653(0x103)]+_0x3e8653(0x108)+config['ServerUrl']);if(config[_0x3e8653(0x103)]!=''&&_0x4bd001[_0x3e8653(0x10b)](config['ServerFrontEndUrl'])==0x0){if(config[_0x3e8653(0x100)])console['log']('4:');_0x4bd001=config[_0x3e8653(0x122)]+_0x4bd001['substring'](config[_0x3e8653(0x103)][_0x3e8653(0x104)]);}else{if(config[_0x3e8653(0x115)]!=''&&_0x4bd001[_0x3e8653(0x10b)](config[_0x3e8653(0x115)])==0x0){if(config[_0x3e8653(0x100)])console[_0x3e8653(0xfc)]('5:');_0x4bd001=config['ServerLocation']+_0x4bd001['substring'](config[_0x3e8653(0x115)][_0x3e8653(0x104)]);}}_0x4bd001=_0x4bd001[_0x3e8653(0x127)](/\\/g,'/');if(config[_0x3e8653(0x100)])console[_0x3e8653(0xfc)]('3:\x20saveredline\x20\x20'+_0x4bd001);var _0x5f0c0b=path[_0x3e8653(0x12b)](_0x4bd001);createDirRecursively(_0x5f0c0b),_0x2efe43[_0x3e8653(0x118)](_0x4bd001,'w',function(_0x44d516,_0x58c7c8){var _0x1de4c2=_0x3e8653;_0x2efe43[_0x1de4c2(0x123)](_0x58c7c8,_0xf4786,0x0,_0xf4786[_0x1de4c2(0x104)],null,function(_0x3d694d){var _0x527469=_0x1de4c2;if(_0x3d694d){if(config['cvjs_debug'])console['log'](_0x527469(0x112)+_0x3d694d);_0x1f6f95[_0x527469(0x10d)](_0x527469(0x112)+_0x3d694d);}else _0x2efe43['close'](_0x58c7c8,function(){var _0x3e7d76=_0x527469;if(config['cvjs_debug'])console[_0x3e7d76(0xfc)](_0x3e7d76(0x110));_0x1f6f95['send'](_0x3e7d76(0x119));});});});}catch(_0x2c5c46){_0x1f6f95[_0x3e8653(0x10d)](_0x3e8653(0x102));if(config['cvjs_debug'])console[_0x3e8653(0xfc)](_0x2c5c46);}}),module[a25_0x37c8bc(0x128)]=router;