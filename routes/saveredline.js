var a26_0x4db624=a26_0x7098;(function(_0xf1af7d,_0x2e469e){var _0x587aef=a26_0x7098,_0x57d10c=_0xf1af7d();while(!![]){try{var _0x3c5273=parseInt(_0x587aef(0x107))/0x1+parseInt(_0x587aef(0xf8))/0x2*(parseInt(_0x587aef(0xf5))/0x3)+parseInt(_0x587aef(0x100))/0x4+parseInt(_0x587aef(0xe3))/0x5+parseInt(_0x587aef(0xdd))/0x6+parseInt(_0x587aef(0xec))/0x7+-parseInt(_0x587aef(0x108))/0x8*(parseInt(_0x587aef(0xfc))/0x9);if(_0x3c5273===_0x2e469e)break;else _0x57d10c['push'](_0x57d10c['shift']());}catch(_0x305757){_0x57d10c['push'](_0x57d10c['shift']());}}}(a26_0x3528,0xe73c6));var config=require(a26_0x4db624(0xdc)),cvjs_debug=config[a26_0x4db624(0xfe)],express=require('express'),router=express[a26_0x4db624(0xe8)]();const fs=require('fs'),path=require('path');function a26_0x7098(_0x104951,_0x34b318){var _0x352800=a26_0x3528();return a26_0x7098=function(_0x70985a,_0x3a21e0){_0x70985a=_0x70985a-0xdb;var _0x119f80=_0x352800[_0x70985a];return _0x119f80;},a26_0x7098(_0x104951,_0x34b318);}function a26_0x3528(){var _0x40de26=['existsSync','error\x20-\x20saveredline','../CADViewer_config.json','3032694OhMesm','listtype','indexOf','send','post','write','6289705iFnuOW','open','log','substring','from','Router','setHeader','mkdirSync','dirname','4904242CRiQLH','redline','close','\x20config.ServerUrl:','replace','ServerLocation','error\x20saveredlines:\x20','ServerFrontEndUrl','length','4820637LikKBc','3:\x20saveredline\x20\x20','/saveredline','2mvOqRM','body','2:\x20saveredline\x20\x20','ServerFrontEndUrlAsAllowedOriginOnly','9yMVesg','\x20\x20\x20\x20config.ServerFrontEndUrl:','cvjs_debug','exports','3699372fewSJf','file_content','ServerUrl','Access-Control-Allow-Origin','file','save\x20redline\x20listtype:','replaceAll','1877762ohXSSZ','47410704QsFhHn','1:\x20saveredline\x20\x20'];a26_0x3528=function(){return _0x40de26;};return a26_0x3528();}function createDirRecursively(_0xbe51eb){var _0x432b1d=a26_0x4db624;!fs[_0x432b1d(0x10a)](_0xbe51eb)&&(createDirRecursively(path['join'](_0xbe51eb,'..')),fs[_0x432b1d(0xea)](_0xbe51eb));}router[a26_0x4db624(0xe1)](a26_0x4db624(0xf7),(_0xc0e619,_0x39ccc3)=>{var _0x3fdfd2=a26_0x4db624;if(config[_0x3fdfd2(0xfb)]==!![]){_0x39ccc3[_0x3fdfd2(0xe9)](_0x3fdfd2(0x103),config[_0x3fdfd2(0xf3)]);if(cvjs_debug)console[_0x3fdfd2(0xe5)]('Access-Control-Allow-Origin\x20:'+config[_0x3fdfd2(0xf3)]);}else{_0x39ccc3['setHeader']('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x3fdfd2(0xe5)]('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x570f8e=_0xc0e619[_0x3fdfd2(0xf9)][_0x3fdfd2(0x104)],_0x11d6fb=_0xc0e619['body'][_0x3fdfd2(0x101)],_0x5712af=Buffer[_0x3fdfd2(0xe7)](_0x11d6fb),_0x3e8c42=_0xc0e619[_0x3fdfd2(0xf9)][_0x3fdfd2(0xde)];if(cvjs_debug)console[_0x3fdfd2(0xe5)](_0x3fdfd2(0x105)+_0x3e8c42);if(_0x3e8c42=='serverfolder'||_0x3e8c42==_0x3fdfd2(0xed)){if(_0x570f8e[_0x3fdfd2(0xdf)](config['ServerLocation'])==0x0){}else _0x570f8e=config[_0x3fdfd2(0xf1)]+_0x570f8e;}if(cvjs_debug)console['log']('filename:'+_0x570f8e);var _0x3bb1cb=require('fs');if(config['cvjs_debug'])console[_0x3fdfd2(0xe5)](_0x3fdfd2(0x109)+_0x570f8e);_0x570f8e=decodeURI(_0x570f8e),_0x570f8e=_0x570f8e[_0x3fdfd2(0xf0)](/%3A/g,':'),_0x570f8e=_0x570f8e['replace'](/%2F/g,'/'),_0x570f8e=_0x570f8e['replace'](/%20/g,'\x20'),_0x570f8e=_0x570f8e[_0x3fdfd2(0x106)]('+','\x20');if(config[_0x3fdfd2(0xfe)])console[_0x3fdfd2(0xe5)](_0x3fdfd2(0xfa)+_0x570f8e+_0x3fdfd2(0xfd)+config[_0x3fdfd2(0xf3)]+_0x3fdfd2(0xef)+config[_0x3fdfd2(0x102)]);if(config[_0x3fdfd2(0xf3)]!=''&&_0x570f8e[_0x3fdfd2(0xdf)](config[_0x3fdfd2(0xf3)])==0x0){if(config[_0x3fdfd2(0xfe)])console[_0x3fdfd2(0xe5)]('4:');_0x570f8e=config[_0x3fdfd2(0xf1)]+_0x570f8e[_0x3fdfd2(0xe6)](config[_0x3fdfd2(0xf3)][_0x3fdfd2(0xf4)]);}else{if(config[_0x3fdfd2(0x102)]!=''&&_0x570f8e[_0x3fdfd2(0xdf)](config[_0x3fdfd2(0x102)])==0x0){if(config[_0x3fdfd2(0xfe)])console[_0x3fdfd2(0xe5)]('5:');_0x570f8e=config['ServerLocation']+_0x570f8e[_0x3fdfd2(0xe6)](config['ServerUrl']['length']);}}_0x570f8e=_0x570f8e[_0x3fdfd2(0xf0)](/\\/g,'/');if(config[_0x3fdfd2(0xfe)])console[_0x3fdfd2(0xe5)](_0x3fdfd2(0xf6)+_0x570f8e);var _0x4203a8=path[_0x3fdfd2(0xeb)](_0x570f8e);createDirRecursively(_0x4203a8),_0x3bb1cb[_0x3fdfd2(0xe4)](_0x570f8e,'w',function(_0x446c0f,_0x151c8c){var _0x5b7968=_0x3fdfd2;_0x3bb1cb[_0x5b7968(0xe2)](_0x151c8c,_0x5712af,0x0,_0x5712af[_0x5b7968(0xf4)],null,function(_0x4f0e8e){var _0x13516a=_0x5b7968;if(_0x4f0e8e){if(config[_0x13516a(0xfe)])console[_0x13516a(0xe5)](_0x13516a(0xf2)+_0x4f0e8e);_0x39ccc3[_0x13516a(0xe0)](_0x13516a(0xf2)+_0x4f0e8e);}else _0x3bb1cb[_0x13516a(0xee)](_0x151c8c,function(){var _0x260c8b=_0x13516a;if(config[_0x260c8b(0xfe)])console[_0x260c8b(0xe5)]('file\x20written');_0x39ccc3[_0x260c8b(0xe0)]('Succes');});});});}catch(_0x47c702){_0x39ccc3[_0x3fdfd2(0xe0)](_0x3fdfd2(0xdb));if(config['cvjs_debug'])console[_0x3fdfd2(0xe5)](_0x47c702);}}),module[a26_0x4db624(0xff)]=router;