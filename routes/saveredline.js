var a26_0x44852e=a26_0xca74;function a26_0x4720(){var _0x2dd28d=['error\x20-\x20saveredline','739576LonWQT','4SVkywZ','2544819aaVSFm','715ODKjXF','open','1800yhVikT','existsSync','file','file_content','5112341LEGfDB','54EXrtpV','setHeader','post','Succes','cvjs_debug','ServerFrontEndUrl','length','exports','save\x20redline\x20listtype:','substring','17451klpApW','84aMtyUI','redline','Access-Control-Allow-Origin\x20:','../CADViewer_config.json','log','\x20\x20\x20\x20config.ServerFrontEndUrl:','ServerUrl','Access-Control-Allow-Origin','send','body','14033206gyptud','mkdirSync','Access-Control-Allow-Origin\x20:\x20*','10nLwvIG','replace','dirname','serverfolder','path','error\x20saveredlines:\x20','write','express','listtype','replaceAll','36256yMJcCr','join','2284cnwVQm','ServerLocation','file\x20written','1:\x20saveredline\x20\x20','indexOf'];a26_0x4720=function(){return _0x2dd28d;};return a26_0x4720();}(function(_0xcf2998,_0x415f1d){var _0x34128b=a26_0xca74,_0x27b9d6=_0xcf2998();while(!![]){try{var _0x276449=parseInt(_0x34128b(0x169))/0x1+parseInt(_0x34128b(0x170))/0x2*(-parseInt(_0x34128b(0x171))/0x3)+parseInt(_0x34128b(0x167))/0x4*(parseInt(_0x34128b(0x172))/0x5)+-parseInt(_0x34128b(0x174))/0x6*(parseInt(_0x34128b(0x183))/0x7)+parseInt(_0x34128b(0x16f))/0x8*(parseInt(_0x34128b(0x179))/0x9)+parseInt(_0x34128b(0x191))/0xa*(-parseInt(_0x34128b(0x18e))/0xb)+parseInt(_0x34128b(0x184))/0xc*(parseInt(_0x34128b(0x178))/0xd);if(_0x276449===_0x415f1d)break;else _0x27b9d6['push'](_0x27b9d6['shift']());}catch(_0xc6821b){_0x27b9d6['push'](_0x27b9d6['shift']());}}}(a26_0x4720,0xd83dd));var config=require(a26_0x44852e(0x187)),cvjs_debug=config[a26_0x44852e(0x17d)],express=require(a26_0x44852e(0x198)),router=express['Router']();const fs=require('fs'),path=require(a26_0x44852e(0x195));function a26_0xca74(_0x4dcfac,_0x5a1f93){var _0x47204d=a26_0x4720();return a26_0xca74=function(_0xca743,_0x12032b){_0xca743=_0xca743-0x167;var _0x3c107d=_0x47204d[_0xca743];return _0x3c107d;},a26_0xca74(_0x4dcfac,_0x5a1f93);}function createDirRecursively(_0x34d45e){var _0x1a5ff6=a26_0x44852e;!fs[_0x1a5ff6(0x175)](_0x34d45e)&&(createDirRecursively(path[_0x1a5ff6(0x168)](_0x34d45e,'..')),fs[_0x1a5ff6(0x18f)](_0x34d45e));}router[a26_0x44852e(0x17b)]('/saveredline',(_0x4e95e2,_0x47e782)=>{var _0x341966=a26_0x44852e;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x47e782[_0x341966(0x17a)](_0x341966(0x18b),config['ServerFrontEndUrl']);if(cvjs_debug)console['log'](_0x341966(0x186)+config[_0x341966(0x17e)]);}else{_0x47e782[_0x341966(0x17a)](_0x341966(0x18b),'*');if(cvjs_debug)console['log'](_0x341966(0x190));}try{var _0xfe71d1=_0x4e95e2[_0x341966(0x18d)][_0x341966(0x176)],_0x3da269=_0x4e95e2[_0x341966(0x18d)][_0x341966(0x177)],_0x1a0c2d=Buffer['from'](_0x3da269),_0x262423=_0x4e95e2[_0x341966(0x18d)][_0x341966(0x199)];if(cvjs_debug)console[_0x341966(0x188)](_0x341966(0x181)+_0x262423);if(_0x262423==_0x341966(0x194)||_0x262423==_0x341966(0x185)){if(_0xfe71d1[_0x341966(0x16d)](config[_0x341966(0x16a)])==0x0){}else _0xfe71d1=config[_0x341966(0x16a)]+_0xfe71d1;}if(cvjs_debug)console[_0x341966(0x188)]('filename:'+_0xfe71d1);var _0x46aaec=require('fs');if(config['cvjs_debug'])console[_0x341966(0x188)](_0x341966(0x16c)+_0xfe71d1);_0xfe71d1=decodeURI(_0xfe71d1),_0xfe71d1=_0xfe71d1[_0x341966(0x192)](/%3A/g,':'),_0xfe71d1=_0xfe71d1[_0x341966(0x192)](/%2F/g,'/'),_0xfe71d1=_0xfe71d1[_0x341966(0x192)](/%20/g,'\x20'),_0xfe71d1=_0xfe71d1[_0x341966(0x19a)]('+','\x20');if(config[_0x341966(0x17d)])console[_0x341966(0x188)]('2:\x20saveredline\x20\x20'+_0xfe71d1+_0x341966(0x189)+config['ServerFrontEndUrl']+'\x20config.ServerUrl:'+config[_0x341966(0x18a)]);if(config[_0x341966(0x17e)]!=''&&_0xfe71d1[_0x341966(0x16d)](config[_0x341966(0x17e)])==0x0){if(config['cvjs_debug'])console['log']('4:');_0xfe71d1=config[_0x341966(0x16a)]+_0xfe71d1[_0x341966(0x182)](config[_0x341966(0x17e)][_0x341966(0x17f)]);}else{if(config[_0x341966(0x18a)]!=''&&_0xfe71d1[_0x341966(0x16d)](config['ServerUrl'])==0x0){if(config[_0x341966(0x17d)])console[_0x341966(0x188)]('5:');_0xfe71d1=config[_0x341966(0x16a)]+_0xfe71d1[_0x341966(0x182)](config[_0x341966(0x18a)][_0x341966(0x17f)]);}}_0xfe71d1=_0xfe71d1['replace'](/\\/g,'/');if(config['cvjs_debug'])console['log']('3:\x20saveredline\x20\x20'+_0xfe71d1);var _0xfae3c9=path[_0x341966(0x193)](_0xfe71d1);createDirRecursively(_0xfae3c9),_0x46aaec[_0x341966(0x173)](_0xfe71d1,'w',function(_0x21e6c7,_0x244349){var _0x1dc22d=_0x341966;_0x46aaec[_0x1dc22d(0x197)](_0x244349,_0x1a0c2d,0x0,_0x1a0c2d['length'],null,function(_0x360221){var _0x101696=_0x1dc22d;if(_0x360221){if(config['cvjs_debug'])console[_0x101696(0x188)]('error\x20saveredlines:\x20'+_0x360221);_0x47e782['send'](_0x101696(0x196)+_0x360221);}else _0x46aaec['close'](_0x244349,function(){var _0x39e262=_0x101696;if(config[_0x39e262(0x17d)])console['log'](_0x39e262(0x16b));_0x47e782[_0x39e262(0x18c)](_0x39e262(0x17c));});});});}catch(_0x5bd337){_0x47e782[_0x341966(0x18c)](_0x341966(0x16e));if(config[_0x341966(0x17d)])console[_0x341966(0x188)](_0x5bd337);}}),module[a26_0x44852e(0x180)]=router;