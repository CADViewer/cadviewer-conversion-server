var a25_0x37fb51=a25_0x5233;function a25_0x5233(_0x2e0cc7,_0x4d4c30){var _0x4bf971=a25_0x4bf9();return a25_0x5233=function(_0x5233fe,_0x3862a3){_0x5233fe=_0x5233fe-0x1ae;var _0x9d79d5=_0x4bf971[_0x5233fe];return _0x9d79d5;},a25_0x5233(_0x2e0cc7,_0x4d4c30);}(function(_0x3290bd,_0x50f44b){var _0x31f67a=a25_0x5233,_0x3ae1c9=_0x3290bd();while(!![]){try{var _0x5d9503=-parseInt(_0x31f67a(0x1cc))/0x1*(parseInt(_0x31f67a(0x1c9))/0x2)+parseInt(_0x31f67a(0x1df))/0x3+parseInt(_0x31f67a(0x1d3))/0x4+-parseInt(_0x31f67a(0x1c8))/0x5+-parseInt(_0x31f67a(0x1c6))/0x6*(-parseInt(_0x31f67a(0x1b8))/0x7)+-parseInt(_0x31f67a(0x1ae))/0x8*(parseInt(_0x31f67a(0x1d1))/0x9)+parseInt(_0x31f67a(0x1c2))/0xa;if(_0x5d9503===_0x50f44b)break;else _0x3ae1c9['push'](_0x3ae1c9['shift']());}catch(_0x30dad0){_0x3ae1c9['push'](_0x3ae1c9['shift']());}}}(a25_0x4bf9,0xd48f7));function a25_0x4bf9(){var _0x40fbda=['setHeader','close','17631970mMypJW','open','/saveredline','Access-Control-Allow-Origin\x20:\x20*','1009080xfykFN','file','8171095rgWVrm','14ERvEcD','ServerLocation','error\x20saveredlines:\x20','140451tISdVo','filename:','ServerUrl','express','Access-Control-Allow-Origin','7403301bEXGzI','Router','2520008NVelqr','redline','Access-Control-Allow-Origin\x20:','error\x20-\x20saveredline','log','ServerFrontEndUrl','join','body','\x20config.ServerUrl:','mkdirSync','save\x20redline\x20listtype:','file\x20written','706839vCgrZO','8dYAoob','serverfolder','file_content','substring','cvjs_debug','post','write','send','replace','from','70ARLFHn','existsSync','path','../CADViewer_config.json','1:\x20saveredline\x20\x20','dirname','indexOf','length'];a25_0x4bf9=function(){return _0x40fbda;};return a25_0x4bf9();}var config=require(a25_0x37fb51(0x1bb)),cvjs_debug=config[a25_0x37fb51(0x1b2)],express=require(a25_0x37fb51(0x1cf)),router=express[a25_0x37fb51(0x1d2)]();const fs=require('fs'),path=require(a25_0x37fb51(0x1ba));function createDirRecursively(_0x15d137){var _0x2ac3b0=a25_0x37fb51;!fs[_0x2ac3b0(0x1b9)](_0x15d137)&&(createDirRecursively(path[_0x2ac3b0(0x1d9)](_0x15d137,'..')),fs[_0x2ac3b0(0x1dc)](_0x15d137));}router[a25_0x37fb51(0x1b3)](a25_0x37fb51(0x1c4),(_0x44a031,_0x2af681)=>{var _0x5f0dbe=a25_0x37fb51;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x2af681[_0x5f0dbe(0x1c0)](_0x5f0dbe(0x1d0),config[_0x5f0dbe(0x1d8)]);if(cvjs_debug)console['log'](_0x5f0dbe(0x1d5)+config['ServerFrontEndUrl']);}else{_0x2af681[_0x5f0dbe(0x1c0)](_0x5f0dbe(0x1d0),'*');if(cvjs_debug)console[_0x5f0dbe(0x1d7)](_0x5f0dbe(0x1c5));}try{var _0x1b1d0e=_0x44a031[_0x5f0dbe(0x1da)][_0x5f0dbe(0x1c7)],_0x2cc477=_0x44a031[_0x5f0dbe(0x1da)][_0x5f0dbe(0x1b0)],_0x1f0599=Buffer[_0x5f0dbe(0x1b7)](_0x2cc477),_0x48414f=_0x44a031[_0x5f0dbe(0x1da)]['listtype'];if(cvjs_debug)console[_0x5f0dbe(0x1d7)](_0x5f0dbe(0x1dd)+_0x48414f);if(_0x48414f==_0x5f0dbe(0x1af)||_0x48414f==_0x5f0dbe(0x1d4)){if(_0x1b1d0e[_0x5f0dbe(0x1be)](config[_0x5f0dbe(0x1ca)])==0x0){}else _0x1b1d0e=config[_0x5f0dbe(0x1ca)]+_0x1b1d0e;}if(cvjs_debug)console['log'](_0x5f0dbe(0x1cd)+_0x1b1d0e);var _0x3850f2=require('fs');if(config['cvjs_debug'])console[_0x5f0dbe(0x1d7)](_0x5f0dbe(0x1bc)+_0x1b1d0e);_0x1b1d0e=decodeURI(_0x1b1d0e),_0x1b1d0e=_0x1b1d0e[_0x5f0dbe(0x1b6)](/%3A/g,':'),_0x1b1d0e=_0x1b1d0e[_0x5f0dbe(0x1b6)](/%2F/g,'/'),_0x1b1d0e=_0x1b1d0e['replace'](/%20/g,'\x20'),_0x1b1d0e=_0x1b1d0e['replaceAll']('+','\x20');if(config[_0x5f0dbe(0x1b2)])console['log']('2:\x20saveredline\x20\x20'+_0x1b1d0e+'\x20\x20\x20\x20config.ServerFrontEndUrl:'+config[_0x5f0dbe(0x1d8)]+_0x5f0dbe(0x1db)+config['ServerUrl']);if(config[_0x5f0dbe(0x1d8)]!=''&&_0x1b1d0e[_0x5f0dbe(0x1be)](config[_0x5f0dbe(0x1d8)])==0x0){if(config['cvjs_debug'])console['log']('4:');_0x1b1d0e=config[_0x5f0dbe(0x1ca)]+_0x1b1d0e[_0x5f0dbe(0x1b1)](config[_0x5f0dbe(0x1d8)][_0x5f0dbe(0x1bf)]);}else{if(config[_0x5f0dbe(0x1ce)]!=''&&_0x1b1d0e[_0x5f0dbe(0x1be)](config[_0x5f0dbe(0x1ce)])==0x0){if(config['cvjs_debug'])console[_0x5f0dbe(0x1d7)]('5:');_0x1b1d0e=config['ServerLocation']+_0x1b1d0e['substring'](config['ServerUrl'][_0x5f0dbe(0x1bf)]);}}_0x1b1d0e=_0x1b1d0e[_0x5f0dbe(0x1b6)](/\\/g,'/');if(config[_0x5f0dbe(0x1b2)])console[_0x5f0dbe(0x1d7)]('3:\x20saveredline\x20\x20'+_0x1b1d0e);var _0x4932a=path[_0x5f0dbe(0x1bd)](_0x1b1d0e);createDirRecursively(_0x4932a),_0x3850f2[_0x5f0dbe(0x1c3)](_0x1b1d0e,'w',function(_0x2610e0,_0x1e93f9){var _0x598623=_0x5f0dbe;_0x3850f2[_0x598623(0x1b4)](_0x1e93f9,_0x1f0599,0x0,_0x1f0599['length'],null,function(_0x27bb9d){var _0x13968f=_0x598623;if(_0x27bb9d){if(config['cvjs_debug'])console['log'](_0x13968f(0x1cb)+_0x27bb9d);_0x2af681[_0x13968f(0x1b5)]('error\x20saveredlines:\x20'+_0x27bb9d);}else _0x3850f2[_0x13968f(0x1c1)](_0x1e93f9,function(){var _0xffa90d=_0x13968f;if(config[_0xffa90d(0x1b2)])console[_0xffa90d(0x1d7)](_0xffa90d(0x1de));_0x2af681['send']('Succes');});});});}catch(_0x37c045){_0x2af681[_0x5f0dbe(0x1b5)](_0x5f0dbe(0x1d6));if(config[_0x5f0dbe(0x1b2)])console[_0x5f0dbe(0x1d7)](_0x37c045);}}),module['exports']=router;