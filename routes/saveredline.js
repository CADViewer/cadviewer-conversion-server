var a25_0x31457d=a25_0x2009;(function(_0x599873,_0x515d70){var _0xa624aa=a25_0x2009,_0x57d904=_0x599873();while(!![]){try{var _0x42cb54=parseInt(_0xa624aa(0x132))/0x1+parseInt(_0xa624aa(0x117))/0x2+parseInt(_0xa624aa(0x13a))/0x3*(-parseInt(_0xa624aa(0x129))/0x4)+-parseInt(_0xa624aa(0x13f))/0x5+parseInt(_0xa624aa(0x11f))/0x6*(-parseInt(_0xa624aa(0x13c))/0x7)+parseInt(_0xa624aa(0x125))/0x8*(parseInt(_0xa624aa(0x136))/0x9)+parseInt(_0xa624aa(0x119))/0xa;if(_0x42cb54===_0x515d70)break;else _0x57d904['push'](_0x57d904['shift']());}catch(_0x4258b5){_0x57d904['push'](_0x57d904['shift']());}}}(a25_0x2f98,0xdac60));var config=require(a25_0x31457d(0x134)),cvjs_debug=config[a25_0x31457d(0x12b)],express=require(a25_0x31457d(0x13e)),router=express[a25_0x31457d(0x114)]();const fs=require('fs'),path=require(a25_0x31457d(0x116));function createDirRecursively(_0x3922f0){var _0xe8b2aa=a25_0x31457d;!fs['existsSync'](_0x3922f0)&&(createDirRecursively(path[_0xe8b2aa(0x130)](_0x3922f0,'..')),fs[_0xe8b2aa(0x139)](_0x3922f0));}function a25_0x2009(_0x10710c,_0x25849d){var _0x2f98dd=a25_0x2f98();return a25_0x2009=function(_0x20098d,_0x1d4dd1){_0x20098d=_0x20098d-0x10e;var _0x16149f=_0x2f98dd[_0x20098d];return _0x16149f;},a25_0x2009(_0x10710c,_0x25849d);}function a25_0x2f98(){var _0x2c7d42=['indexOf','397684dWMyTz','filename:','cvjs_debug','file','dirname','exports','send','join','listtype','695422tfctxy','ServerFrontEndUrl','../CADViewer_config.json','length','5866974lHNCbP','setHeader','redline','mkdirSync','3MQtcjj','save\x20redline\x20listtype:','7781788WlCKQx','log','express','6666790LxGXlx','Access-Control-Allow-Origin\x20:\x20*','from','2:\x20saveredline\x20\x20','Access-Control-Allow-Origin','replace','Succes','Router','close','path','1052030xWmCgF','ServerUrl','15672360GWIHKJ','substring','file_content','error\x20saveredlines:\x20','\x20config.ServerUrl:','ServerLocation','6wChzyd','error\x20-\x20saveredline','write','1:\x20saveredline\x20\x20','file\x20written','open','8WTrUNH','body','serverfolder'];a25_0x2f98=function(){return _0x2c7d42;};return a25_0x2f98();}router['post']('/saveredline',(_0x35528a,_0x3e8188)=>{var _0x1e7f5c=a25_0x31457d;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x3e8188[_0x1e7f5c(0x137)]('Access-Control-Allow-Origin',config['ServerFrontEndUrl']);if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:'+config[_0x1e7f5c(0x133)]);}else{_0x3e8188[_0x1e7f5c(0x137)](_0x1e7f5c(0x111),'*');if(cvjs_debug)console[_0x1e7f5c(0x13d)](_0x1e7f5c(0x10e));}try{var _0x1ca64c=_0x35528a[_0x1e7f5c(0x126)][_0x1e7f5c(0x12c)],_0x1f7abf=_0x35528a['body'][_0x1e7f5c(0x11b)],_0x538c33=Buffer[_0x1e7f5c(0x10f)](_0x1f7abf),_0xdf6bf=_0x35528a[_0x1e7f5c(0x126)][_0x1e7f5c(0x131)];if(cvjs_debug)console['log'](_0x1e7f5c(0x13b)+_0xdf6bf);if(_0xdf6bf==_0x1e7f5c(0x127)||_0xdf6bf==_0x1e7f5c(0x138)){if(_0x1ca64c[_0x1e7f5c(0x128)](config[_0x1e7f5c(0x11e)])==0x0){}else _0x1ca64c=config[_0x1e7f5c(0x11e)]+_0x1ca64c;}if(cvjs_debug)console[_0x1e7f5c(0x13d)](_0x1e7f5c(0x12a)+_0x1ca64c);var _0x348a95=require('fs');if(config['cvjs_debug'])console[_0x1e7f5c(0x13d)](_0x1e7f5c(0x122)+_0x1ca64c);_0x1ca64c=decodeURI(_0x1ca64c),_0x1ca64c=_0x1ca64c[_0x1e7f5c(0x112)](/%3A/g,':'),_0x1ca64c=_0x1ca64c['replace'](/%2F/g,'/'),_0x1ca64c=_0x1ca64c['replace'](/%20/g,'\x20'),_0x1ca64c=_0x1ca64c['replaceAll']('+','\x20');if(config[_0x1e7f5c(0x12b)])console['log'](_0x1e7f5c(0x110)+_0x1ca64c+'\x20\x20\x20\x20config.ServerFrontEndUrl:'+config[_0x1e7f5c(0x133)]+_0x1e7f5c(0x11d)+config['ServerUrl']);if(config[_0x1e7f5c(0x133)]!=''&&_0x1ca64c['indexOf'](config[_0x1e7f5c(0x133)])==0x0){if(config[_0x1e7f5c(0x12b)])console['log']('4:');_0x1ca64c=config[_0x1e7f5c(0x11e)]+_0x1ca64c[_0x1e7f5c(0x11a)](config[_0x1e7f5c(0x133)][_0x1e7f5c(0x135)]);}else{if(config['ServerUrl']!=''&&_0x1ca64c['indexOf'](config[_0x1e7f5c(0x118)])==0x0){if(config[_0x1e7f5c(0x12b)])console[_0x1e7f5c(0x13d)]('5:');_0x1ca64c=config['ServerLocation']+_0x1ca64c['substring'](config[_0x1e7f5c(0x118)][_0x1e7f5c(0x135)]);}}_0x1ca64c=_0x1ca64c['replace'](/\\/g,'/');if(config[_0x1e7f5c(0x12b)])console[_0x1e7f5c(0x13d)]('3:\x20saveredline\x20\x20'+_0x1ca64c);var _0x2e84a8=path[_0x1e7f5c(0x12d)](_0x1ca64c);createDirRecursively(_0x2e84a8),_0x348a95[_0x1e7f5c(0x124)](_0x1ca64c,'w',function(_0x28bdaf,_0x3989b3){var _0x329cee=_0x1e7f5c;_0x348a95[_0x329cee(0x121)](_0x3989b3,_0x538c33,0x0,_0x538c33['length'],null,function(_0x2be2d4){var _0x333963=_0x329cee;if(_0x2be2d4){if(config['cvjs_debug'])console[_0x333963(0x13d)](_0x333963(0x11c)+_0x2be2d4);_0x3e8188[_0x333963(0x12f)](_0x333963(0x11c)+_0x2be2d4);}else _0x348a95[_0x333963(0x115)](_0x3989b3,function(){var _0x207e2e=_0x333963;if(config[_0x207e2e(0x12b)])console[_0x207e2e(0x13d)](_0x207e2e(0x123));_0x3e8188[_0x207e2e(0x12f)](_0x207e2e(0x113));});});});}catch(_0x1926ee){_0x3e8188[_0x1e7f5c(0x12f)](_0x1e7f5c(0x120));if(config[_0x1e7f5c(0x12b)])console[_0x1e7f5c(0x13d)](_0x1926ee);}}),module[a25_0x31457d(0x12e)]=router;