var a25_0xfed0ea=a25_0x55fe;function a25_0x1c2e(){var _0x2f713e=['ServerLocation','body','listtype','redline','Access-Control-Allow-Origin','serverfolder','Router','2:\x20saveredline\x20\x20','length','error\x20-\x20saveredline','\x20\x20\x20\x20config.ServerFrontEndUrl:','54PMNqVp','indexOf','close','join','cvjs_debug','1789434XuHGbp','replace','61776lstpEy','dirname','from','168whEvuZ','385673tDrJNz','express','Access-Control-Allow-Origin\x20:','2413750YWrgBf','open','92WgniBK','3:\x20saveredline\x20\x20','error\x20saveredlines:\x20','post','file_content','exports','\x20config.ServerUrl:','write','path','ServerFrontEndUrl','existsSync','66050xkNUdf','replaceAll','log','ServerUrl','1:\x20saveredline\x20\x20','file\x20written','285872iylrkT','file','Access-Control-Allow-Origin\x20:\x20*','132976HsQaRt','../CADViewer_config.json','send'];a25_0x1c2e=function(){return _0x2f713e;};return a25_0x1c2e();}(function(_0x305b45,_0x1e20cb){var _0x14d4e1=a25_0x55fe,_0x362d2d=_0x305b45();while(!![]){try{var _0x2a38fa=-parseInt(_0x14d4e1(0x20f))/0x1+parseInt(_0x14d4e1(0x1f3))/0x2+parseInt(_0x14d4e1(0x20b))/0x3+-parseInt(_0x14d4e1(0x214))/0x4*(parseInt(_0x14d4e1(0x21f))/0x5)+-parseInt(_0x14d4e1(0x209))/0x6+-parseInt(_0x14d4e1(0x20e))/0x7*(parseInt(_0x14d4e1(0x1f6))/0x8)+-parseInt(_0x14d4e1(0x204))/0x9*(-parseInt(_0x14d4e1(0x212))/0xa);if(_0x2a38fa===_0x1e20cb)break;else _0x362d2d['push'](_0x362d2d['shift']());}catch(_0x5ed102){_0x362d2d['push'](_0x362d2d['shift']());}}}(a25_0x1c2e,0x36f54));var config=require(a25_0xfed0ea(0x1f7)),cvjs_debug=config[a25_0xfed0ea(0x208)],express=require(a25_0xfed0ea(0x210)),router=express[a25_0xfed0ea(0x1ff)]();const fs=require('fs'),path=require(a25_0xfed0ea(0x21c));function a25_0x55fe(_0x25ddfa,_0x4de972){var _0x1c2e43=a25_0x1c2e();return a25_0x55fe=function(_0x55fe40,_0x8ca7b8){_0x55fe40=_0x55fe40-0x1f3;var _0x324385=_0x1c2e43[_0x55fe40];return _0x324385;},a25_0x55fe(_0x25ddfa,_0x4de972);}function createDirRecursively(_0x1877c4){var _0x5a631d=a25_0xfed0ea;!fs[_0x5a631d(0x21e)](_0x1877c4)&&(createDirRecursively(path[_0x5a631d(0x207)](_0x1877c4,'..')),fs['mkdirSync'](_0x1877c4));}router[a25_0xfed0ea(0x217)]('/saveredline',(_0x397c6b,_0x4e0742)=>{var _0x328a79=a25_0xfed0ea;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x4e0742['setHeader'](_0x328a79(0x1fd),config[_0x328a79(0x21d)]);if(cvjs_debug)console[_0x328a79(0x221)](_0x328a79(0x211)+config[_0x328a79(0x21d)]);}else{_0x4e0742['setHeader'](_0x328a79(0x1fd),'*');if(cvjs_debug)console['log'](_0x328a79(0x1f5));}try{var _0x3509c4=_0x397c6b[_0x328a79(0x1fa)][_0x328a79(0x1f4)],_0x4914fe=_0x397c6b['body'][_0x328a79(0x218)],_0x20d1e4=Buffer[_0x328a79(0x20d)](_0x4914fe),_0x6a2c44=_0x397c6b[_0x328a79(0x1fa)][_0x328a79(0x1fb)];if(cvjs_debug)console[_0x328a79(0x221)]('save\x20redline\x20listtype:'+_0x6a2c44);if(_0x6a2c44==_0x328a79(0x1fe)||_0x6a2c44==_0x328a79(0x1fc)){if(_0x3509c4['indexOf'](config['ServerLocation'])==0x0){}else _0x3509c4=config[_0x328a79(0x1f9)]+_0x3509c4;}if(cvjs_debug)console[_0x328a79(0x221)]('filename:'+_0x3509c4);var _0x2bb95f=require('fs');if(config['cvjs_debug'])console['log'](_0x328a79(0x223)+_0x3509c4);_0x3509c4=decodeURI(_0x3509c4),_0x3509c4=_0x3509c4['replace'](/%3A/g,':'),_0x3509c4=_0x3509c4[_0x328a79(0x20a)](/%2F/g,'/'),_0x3509c4=_0x3509c4[_0x328a79(0x20a)](/%20/g,'\x20'),_0x3509c4=_0x3509c4[_0x328a79(0x220)]('+','\x20');if(config['cvjs_debug'])console[_0x328a79(0x221)](_0x328a79(0x200)+_0x3509c4+_0x328a79(0x203)+config[_0x328a79(0x21d)]+_0x328a79(0x21a)+config[_0x328a79(0x222)]);if(config['ServerFrontEndUrl']!=''&&_0x3509c4[_0x328a79(0x205)](config[_0x328a79(0x21d)])==0x0){if(config[_0x328a79(0x208)])console['log']('4:');_0x3509c4=config[_0x328a79(0x1f9)]+_0x3509c4['substring'](config[_0x328a79(0x21d)][_0x328a79(0x201)]);}else{if(config[_0x328a79(0x222)]!=''&&_0x3509c4[_0x328a79(0x205)](config[_0x328a79(0x222)])==0x0){if(config[_0x328a79(0x208)])console[_0x328a79(0x221)]('5:');_0x3509c4=config[_0x328a79(0x1f9)]+_0x3509c4['substring'](config['ServerUrl'][_0x328a79(0x201)]);}}_0x3509c4=_0x3509c4[_0x328a79(0x20a)](/\\/g,'/');if(config[_0x328a79(0x208)])console[_0x328a79(0x221)](_0x328a79(0x215)+_0x3509c4);var _0x3dfde1=path[_0x328a79(0x20c)](_0x3509c4);createDirRecursively(_0x3dfde1),_0x2bb95f[_0x328a79(0x213)](_0x3509c4,'w',function(_0x12c5d4,_0x54707f){var _0x443ee8=_0x328a79;_0x2bb95f[_0x443ee8(0x21b)](_0x54707f,_0x20d1e4,0x0,_0x20d1e4['length'],null,function(_0x3a4e65){var _0x238449=_0x443ee8;if(_0x3a4e65){if(config[_0x238449(0x208)])console['log'](_0x238449(0x216)+_0x3a4e65);_0x4e0742[_0x238449(0x1f8)]('error\x20saveredlines:\x20'+_0x3a4e65);}else _0x2bb95f[_0x238449(0x206)](_0x54707f,function(){var _0x3db81b=_0x238449;if(config['cvjs_debug'])console['log'](_0x3db81b(0x224));_0x4e0742[_0x3db81b(0x1f8)]('Succes');});});});}catch(_0x168d8a){_0x4e0742[_0x328a79(0x1f8)](_0x328a79(0x202));if(config['cvjs_debug'])console[_0x328a79(0x221)](_0x168d8a);}}),module[a25_0xfed0ea(0x219)]=router;