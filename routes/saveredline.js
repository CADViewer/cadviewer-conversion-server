var a25_0x508c5d=a25_0x1236;(function(_0x350605,_0xbc4736){var _0x348029=a25_0x1236,_0x2ff175=_0x350605();while(!![]){try{var _0x510de5=parseInt(_0x348029(0x175))/0x1*(-parseInt(_0x348029(0x195))/0x2)+parseInt(_0x348029(0x192))/0x3*(parseInt(_0x348029(0x190))/0x4)+parseInt(_0x348029(0x18a))/0x5+parseInt(_0x348029(0x181))/0x6+parseInt(_0x348029(0x185))/0x7+-parseInt(_0x348029(0x196))/0x8+parseInt(_0x348029(0x176))/0x9*(parseInt(_0x348029(0x177))/0xa);if(_0x510de5===_0xbc4736)break;else _0x2ff175['push'](_0x2ff175['shift']());}catch(_0x421c22){_0x2ff175['push'](_0x2ff175['shift']());}}}(a25_0x3291,0x86ca6));var config=require('../CADViewer_config.json'),cvjs_debug=config[a25_0x508c5d(0x182)],express=require(a25_0x508c5d(0x16b)),router=express['Router']();function a25_0x3291(){var _0x565982=['file','ServerUrl','3689635CIIzso','2:\x20saveredline\x20\x20','error\x20saveredlines:\x20','setHeader','replace','ServerLocation','3353396irZNAP','join','3qAACAz','serverfolder','substring','384674VueGdO','8063648FeXvFA','1:\x20saveredline\x20\x20','file_content','close','post','express','log','file\x20written','indexOf','dirname','path','Access-Control-Allow-Origin','Access-Control-Allow-Origin\x20:','listtype','body','5VfTntH','9gUeThQ','5937550NUiNEJ','mkdirSync','send','replaceAll','/saveredline','write','3:\x20saveredline\x20\x20','\x20config.ServerUrl:','Access-Control-Allow-Origin\x20:\x20*','save\x20redline\x20listtype:','889698tZzJKc','cvjs_debug','exports','ServerFrontEndUrl','1424003idenzy','filename:','Succes'];a25_0x3291=function(){return _0x565982;};return a25_0x3291();}const fs=require('fs'),path=require(a25_0x508c5d(0x170));function createDirRecursively(_0x223f80){var _0x329ea3=a25_0x508c5d;!fs['existsSync'](_0x223f80)&&(createDirRecursively(path[_0x329ea3(0x191)](_0x223f80,'..')),fs[_0x329ea3(0x178)](_0x223f80));}function a25_0x1236(_0x20dfc4,_0x3e4a07){var _0x32917c=a25_0x3291();return a25_0x1236=function(_0x123682,_0x534ba9){_0x123682=_0x123682-0x16a;var _0x4fbfb8=_0x32917c[_0x123682];return _0x4fbfb8;},a25_0x1236(_0x20dfc4,_0x3e4a07);}router[a25_0x508c5d(0x16a)](a25_0x508c5d(0x17b),(_0xec47eb,_0x3065c2)=>{var _0x7df592=a25_0x508c5d;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x3065c2[_0x7df592(0x18d)]('Access-Control-Allow-Origin',config[_0x7df592(0x184)]);if(cvjs_debug)console['log'](_0x7df592(0x172)+config['ServerFrontEndUrl']);}else{_0x3065c2[_0x7df592(0x18d)](_0x7df592(0x171),'*');if(cvjs_debug)console[_0x7df592(0x16c)](_0x7df592(0x17f));}try{var _0x23264a=_0xec47eb['body'][_0x7df592(0x188)],_0x3a0e6f=_0xec47eb[_0x7df592(0x174)][_0x7df592(0x198)],_0x5eed17=Buffer['from'](_0x3a0e6f),_0xce1d0d=_0xec47eb[_0x7df592(0x174)][_0x7df592(0x173)];if(cvjs_debug)console['log'](_0x7df592(0x180)+_0xce1d0d);if(_0xce1d0d==_0x7df592(0x193)||_0xce1d0d=='redline'){if(_0x23264a['indexOf'](config[_0x7df592(0x18f)])==0x0){}else _0x23264a=config[_0x7df592(0x18f)]+_0x23264a;}if(cvjs_debug)console[_0x7df592(0x16c)](_0x7df592(0x186)+_0x23264a);var _0x5d26c8=require('fs');if(config[_0x7df592(0x182)])console[_0x7df592(0x16c)](_0x7df592(0x197)+_0x23264a);_0x23264a=decodeURI(_0x23264a),_0x23264a=_0x23264a[_0x7df592(0x18e)](/%3A/g,':'),_0x23264a=_0x23264a['replace'](/%2F/g,'/'),_0x23264a=_0x23264a[_0x7df592(0x18e)](/%20/g,'\x20'),_0x23264a=_0x23264a[_0x7df592(0x17a)]('+','\x20');if(config[_0x7df592(0x182)])console[_0x7df592(0x16c)](_0x7df592(0x18b)+_0x23264a+'\x20\x20\x20\x20config.ServerFrontEndUrl:'+config['ServerFrontEndUrl']+_0x7df592(0x17e)+config[_0x7df592(0x189)]);if(config[_0x7df592(0x184)]!=''&&_0x23264a[_0x7df592(0x16e)](config[_0x7df592(0x184)])==0x0){if(config['cvjs_debug'])console[_0x7df592(0x16c)]('4:');_0x23264a=config['ServerLocation']+_0x23264a[_0x7df592(0x194)](config[_0x7df592(0x184)]['length']);}else{if(config[_0x7df592(0x189)]!=''&&_0x23264a[_0x7df592(0x16e)](config[_0x7df592(0x189)])==0x0){if(config['cvjs_debug'])console['log']('5:');_0x23264a=config[_0x7df592(0x18f)]+_0x23264a['substring'](config[_0x7df592(0x189)]['length']);}}_0x23264a=_0x23264a[_0x7df592(0x18e)](/\\/g,'/');if(config[_0x7df592(0x182)])console[_0x7df592(0x16c)](_0x7df592(0x17d)+_0x23264a);var _0xfd290=path[_0x7df592(0x16f)](_0x23264a);createDirRecursively(_0xfd290),_0x5d26c8['open'](_0x23264a,'w',function(_0x5478ff,_0x38904f){var _0x41902f=_0x7df592;_0x5d26c8[_0x41902f(0x17c)](_0x38904f,_0x5eed17,0x0,_0x5eed17['length'],null,function(_0x1bb59e){var _0x3d1d32=_0x41902f;if(_0x1bb59e){if(config['cvjs_debug'])console['log'](_0x3d1d32(0x18c)+_0x1bb59e);_0x3065c2[_0x3d1d32(0x179)](_0x3d1d32(0x18c)+_0x1bb59e);}else _0x5d26c8[_0x3d1d32(0x199)](_0x38904f,function(){var _0x4bbec2=_0x3d1d32;if(config[_0x4bbec2(0x182)])console[_0x4bbec2(0x16c)](_0x4bbec2(0x16d));_0x3065c2[_0x4bbec2(0x179)](_0x4bbec2(0x187));});});});}catch(_0x3bca28){_0x3065c2[_0x7df592(0x179)]('error\x20-\x20saveredline');if(config['cvjs_debug'])console[_0x7df592(0x16c)](_0x3bca28);}}),module[a25_0x508c5d(0x183)]=router;