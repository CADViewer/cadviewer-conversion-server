function a25_0x2b58(_0x48b3db,_0x2aba81){var _0x4cd5a5=a25_0x4cd5();return a25_0x2b58=function(_0x2b5809,_0x918911){_0x2b5809=_0x2b5809-0x1e3;var _0x23b790=_0x4cd5a5[_0x2b5809];return _0x23b790;},a25_0x2b58(_0x48b3db,_0x2aba81);}var a25_0x3c250b=a25_0x2b58;function a25_0x4cd5(){var _0x121a69=['ServerFrontEndUrl','../CADViewer_config.json','exports','file','join','redline','indexOf','201465LVThbP','ServerUrl','12PlFPEA','12482129fFVjrw','ServerFrontEndUrlAsAllowedOriginOnly','Access-Control-Allow-Origin\x20:\x20*','cvjs_debug','close','Access-Control-Allow-Origin','setHeader','replace','2487CPTFOs','2372816UuhfXY','body','\x20config.ServerUrl:','substring','Access-Control-Allow-Origin\x20:','dirname','open','express','log','6276QgqdZQ','Succes','ServerLocation','error\x20-\x20saveredline','file_content','replaceAll','send','1477ekokcA','42tCfglQ','/saveredline','write','length','1483310xufWKc','63BPUiHf','661710dIkGlr','2:\x20saveredline\x20\x20','from','filename:','34920aeYQpj','Router'];a25_0x4cd5=function(){return _0x121a69;};return a25_0x4cd5();}(function(_0x4884e8,_0x133c14){var _0x2be1be=a25_0x2b58,_0x3ddb81=_0x4884e8();while(!![]){try{var _0x3e7bf0=parseInt(_0x2be1be(0x1e5))/0x1+parseInt(_0x2be1be(0x1f1))/0x2+parseInt(_0x2be1be(0x1f0))/0x3*(parseInt(_0x2be1be(0x1fa))/0x4)+parseInt(_0x2be1be(0x208))/0x5*(-parseInt(_0x2be1be(0x202))/0x6)+parseInt(_0x2be1be(0x201))/0x7*(-parseInt(_0x2be1be(0x20c))/0x8)+-parseInt(_0x2be1be(0x207))/0x9*(-parseInt(_0x2be1be(0x206))/0xa)+parseInt(_0x2be1be(0x1e8))/0xb*(-parseInt(_0x2be1be(0x1e7))/0xc);if(_0x3e7bf0===_0x133c14)break;else _0x3ddb81['push'](_0x3ddb81['shift']());}catch(_0x14981e){_0x3ddb81['push'](_0x3ddb81['shift']());}}}(a25_0x4cd5,0xb5d27));var config=require(a25_0x3c250b(0x20f)),cvjs_debug=config['cvjs_debug'],express=require(a25_0x3c250b(0x1f8)),router=express[a25_0x3c250b(0x20d)]();const fs=require('fs'),path=require('path');function createDirRecursively(_0x300bdd){var _0x148fb6=a25_0x3c250b;!fs['existsSync'](_0x300bdd)&&(createDirRecursively(path[_0x148fb6(0x212)](_0x300bdd,'..')),fs['mkdirSync'](_0x300bdd));}router['post'](a25_0x3c250b(0x203),(_0x247e10,_0x4da565)=>{var _0x1c8646=a25_0x3c250b;if(config[_0x1c8646(0x1e9)]==!![]){_0x4da565['setHeader']('Access-Control-Allow-Origin',config[_0x1c8646(0x20e)]);if(cvjs_debug)console[_0x1c8646(0x1f9)](_0x1c8646(0x1f5)+config[_0x1c8646(0x20e)]);}else{_0x4da565[_0x1c8646(0x1ee)](_0x1c8646(0x1ed),'*');if(cvjs_debug)console[_0x1c8646(0x1f9)](_0x1c8646(0x1ea));}try{var _0x5a8c3a=_0x247e10[_0x1c8646(0x1f2)][_0x1c8646(0x211)],_0x3fb99b=_0x247e10[_0x1c8646(0x1f2)][_0x1c8646(0x1fe)],_0x3b8bf7=Buffer[_0x1c8646(0x20a)](_0x3fb99b),_0x38db96=_0x247e10[_0x1c8646(0x1f2)]['listtype'];if(cvjs_debug)console['log']('save\x20redline\x20listtype:'+_0x38db96);if(_0x38db96=='serverfolder'||_0x38db96==_0x1c8646(0x1e3)){if(_0x5a8c3a[_0x1c8646(0x1e4)](config['ServerLocation'])==0x0){}else _0x5a8c3a=config[_0x1c8646(0x1fc)]+_0x5a8c3a;}if(cvjs_debug)console['log'](_0x1c8646(0x20b)+_0x5a8c3a);var _0x20f282=require('fs');if(config[_0x1c8646(0x1eb)])console[_0x1c8646(0x1f9)]('1:\x20saveredline\x20\x20'+_0x5a8c3a);_0x5a8c3a=decodeURI(_0x5a8c3a),_0x5a8c3a=_0x5a8c3a[_0x1c8646(0x1ef)](/%3A/g,':'),_0x5a8c3a=_0x5a8c3a[_0x1c8646(0x1ef)](/%2F/g,'/'),_0x5a8c3a=_0x5a8c3a[_0x1c8646(0x1ef)](/%20/g,'\x20'),_0x5a8c3a=_0x5a8c3a[_0x1c8646(0x1ff)]('+','\x20');if(config['cvjs_debug'])console[_0x1c8646(0x1f9)](_0x1c8646(0x209)+_0x5a8c3a+'\x20\x20\x20\x20config.ServerFrontEndUrl:'+config[_0x1c8646(0x20e)]+_0x1c8646(0x1f3)+config['ServerUrl']);if(config[_0x1c8646(0x20e)]!=''&&_0x5a8c3a[_0x1c8646(0x1e4)](config['ServerFrontEndUrl'])==0x0){if(config[_0x1c8646(0x1eb)])console[_0x1c8646(0x1f9)]('4:');_0x5a8c3a=config[_0x1c8646(0x1fc)]+_0x5a8c3a[_0x1c8646(0x1f4)](config[_0x1c8646(0x20e)]['length']);}else{if(config[_0x1c8646(0x1e6)]!=''&&_0x5a8c3a[_0x1c8646(0x1e4)](config[_0x1c8646(0x1e6)])==0x0){if(config[_0x1c8646(0x1eb)])console['log']('5:');_0x5a8c3a=config[_0x1c8646(0x1fc)]+_0x5a8c3a[_0x1c8646(0x1f4)](config[_0x1c8646(0x1e6)]['length']);}}_0x5a8c3a=_0x5a8c3a[_0x1c8646(0x1ef)](/\\/g,'/');if(config[_0x1c8646(0x1eb)])console[_0x1c8646(0x1f9)]('3:\x20saveredline\x20\x20'+_0x5a8c3a);var _0x3f7b3b=path[_0x1c8646(0x1f6)](_0x5a8c3a);createDirRecursively(_0x3f7b3b),_0x20f282[_0x1c8646(0x1f7)](_0x5a8c3a,'w',function(_0x389729,_0x3412cf){var _0x4dee63=_0x1c8646;_0x20f282[_0x4dee63(0x204)](_0x3412cf,_0x3b8bf7,0x0,_0x3b8bf7[_0x4dee63(0x205)],null,function(_0x42873a){var _0xc80b0d=_0x4dee63;if(_0x42873a){if(config['cvjs_debug'])console[_0xc80b0d(0x1f9)]('error\x20saveredlines:\x20'+_0x42873a);_0x4da565[_0xc80b0d(0x200)]('error\x20saveredlines:\x20'+_0x42873a);}else _0x20f282[_0xc80b0d(0x1ec)](_0x3412cf,function(){var _0x424f73=_0xc80b0d;if(config[_0x424f73(0x1eb)])console[_0x424f73(0x1f9)]('file\x20written');_0x4da565[_0x424f73(0x200)](_0x424f73(0x1fb));});});});}catch(_0x29b7c5){_0x4da565[_0x1c8646(0x200)](_0x1c8646(0x1fd));if(config[_0x1c8646(0x1eb)])console[_0x1c8646(0x1f9)](_0x29b7c5);}}),module[a25_0x3c250b(0x210)]=router;