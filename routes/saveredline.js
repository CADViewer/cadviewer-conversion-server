var a25_0x27cae5=a25_0x688e;(function(_0x4cf255,_0x2a858c){var _0x26ee1b=a25_0x688e,_0x1f7b30=_0x4cf255();while(!![]){try{var _0xdaf5f=-parseInt(_0x26ee1b(0x1d1))/0x1+parseInt(_0x26ee1b(0x1f5))/0x2*(-parseInt(_0x26ee1b(0x1cc))/0x3)+-parseInt(_0x26ee1b(0x1dc))/0x4+parseInt(_0x26ee1b(0x1f3))/0x5*(-parseInt(_0x26ee1b(0x1df))/0x6)+-parseInt(_0x26ee1b(0x1e2))/0x7*(parseInt(_0x26ee1b(0x1da))/0x8)+parseInt(_0x26ee1b(0x1de))/0x9*(parseInt(_0x26ee1b(0x1f8))/0xa)+parseInt(_0x26ee1b(0x1ce))/0xb*(parseInt(_0x26ee1b(0x1d6))/0xc);if(_0xdaf5f===_0x2a858c)break;else _0x1f7b30['push'](_0x1f7b30['shift']());}catch(_0x1f3ce2){_0x1f7b30['push'](_0x1f7b30['shift']());}}}(a25_0x5e2f,0xe2d47));var config=require(a25_0x27cae5(0x1d3)),cvjs_debug=config['cvjs_debug'],express=require(a25_0x27cae5(0x1e6)),router=express[a25_0x27cae5(0x1e1)]();function a25_0x688e(_0x430f6b,_0x158ea3){var _0x5e2f28=a25_0x5e2f();return a25_0x688e=function(_0x688e1f,_0x1d4106){_0x688e1f=_0x688e1f-0x1cb;var _0x5e7648=_0x5e2f28[_0x688e1f];return _0x5e7648;},a25_0x688e(_0x430f6b,_0x158ea3);}function a25_0x5e2f(){var _0x59e4e7=['length','2644764OGtABf','/saveredline','8737191DLofSn','12JnjRDO','1:\x20saveredline\x20\x20','Router','65940eAYnqo','file\x20written','body','\x20config.ServerUrl:','express','replaceAll','existsSync','open','send','indexOf','error\x20-\x20saveredline','substring','save\x20redline\x20listtype:','write','ServerLocation','ServerFrontEndUrl','close','4047860ovynvi','listtype','1804cyPwTM','replace','3:\x20saveredline\x20\x20','10aDxcUe','Access-Control-Allow-Origin\x20:\x20*','cvjs_debug','path','exports','237PwYVow','mkdirSync','22XUBpwK','redline','ServerUrl','1474525VRrBhL','2:\x20saveredline\x20\x20','../CADViewer_config.json','filename:','log','22932564WbrQMN','from','error\x20saveredlines:\x20','join','32fQzMHB'];a25_0x5e2f=function(){return _0x59e4e7;};return a25_0x5e2f();}const fs=require('fs'),path=require(a25_0x27cae5(0x1fb));function createDirRecursively(_0x142cbd){var _0x5f4b04=a25_0x27cae5;!fs[_0x5f4b04(0x1e8)](_0x142cbd)&&(createDirRecursively(path[_0x5f4b04(0x1d9)](_0x142cbd,'..')),fs[_0x5f4b04(0x1cd)](_0x142cbd));}router['post'](a25_0x27cae5(0x1dd),(_0x57af9c,_0x7750dd)=>{var _0x14ec1f=a25_0x27cae5;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x7750dd['setHeader']('Access-Control-Allow-Origin',config[_0x14ec1f(0x1f1)]);if(cvjs_debug)console[_0x14ec1f(0x1d5)]('Access-Control-Allow-Origin\x20:'+config[_0x14ec1f(0x1f1)]);}else{_0x7750dd['setHeader']('Access-Control-Allow-Origin','*');if(cvjs_debug)console[_0x14ec1f(0x1d5)](_0x14ec1f(0x1f9));}try{var _0x49162b=_0x57af9c[_0x14ec1f(0x1e4)]['file'],_0x227d0a=_0x57af9c[_0x14ec1f(0x1e4)]['file_content'],_0x2ae30a=Buffer[_0x14ec1f(0x1d7)](_0x227d0a),_0x424341=_0x57af9c[_0x14ec1f(0x1e4)][_0x14ec1f(0x1f4)];if(cvjs_debug)console[_0x14ec1f(0x1d5)](_0x14ec1f(0x1ee)+_0x424341);if(_0x424341=='serverfolder'||_0x424341==_0x14ec1f(0x1cf)){if(_0x49162b[_0x14ec1f(0x1eb)](config[_0x14ec1f(0x1f0)])==0x0){}else _0x49162b=config['ServerLocation']+_0x49162b;}if(cvjs_debug)console[_0x14ec1f(0x1d5)](_0x14ec1f(0x1d4)+_0x49162b);var _0x158b39=require('fs');if(config['cvjs_debug'])console['log'](_0x14ec1f(0x1e0)+_0x49162b);_0x49162b=decodeURI(_0x49162b),_0x49162b=_0x49162b[_0x14ec1f(0x1f6)](/%3A/g,':'),_0x49162b=_0x49162b['replace'](/%2F/g,'/'),_0x49162b=_0x49162b[_0x14ec1f(0x1f6)](/%20/g,'\x20'),_0x49162b=_0x49162b[_0x14ec1f(0x1e7)]('+','\x20');if(config[_0x14ec1f(0x1fa)])console[_0x14ec1f(0x1d5)](_0x14ec1f(0x1d2)+_0x49162b+'\x20\x20\x20\x20config.ServerFrontEndUrl:'+config[_0x14ec1f(0x1f1)]+_0x14ec1f(0x1e5)+config['ServerUrl']);if(config[_0x14ec1f(0x1f1)]!=''&&_0x49162b['indexOf'](config[_0x14ec1f(0x1f1)])==0x0){if(config[_0x14ec1f(0x1fa)])console[_0x14ec1f(0x1d5)]('4:');_0x49162b=config[_0x14ec1f(0x1f0)]+_0x49162b['substring'](config['ServerFrontEndUrl']['length']);}else{if(config['ServerUrl']!=''&&_0x49162b[_0x14ec1f(0x1eb)](config[_0x14ec1f(0x1d0)])==0x0){if(config[_0x14ec1f(0x1fa)])console[_0x14ec1f(0x1d5)]('5:');_0x49162b=config['ServerLocation']+_0x49162b[_0x14ec1f(0x1ed)](config['ServerUrl'][_0x14ec1f(0x1db)]);}}_0x49162b=_0x49162b[_0x14ec1f(0x1f6)](/\\/g,'/');if(config[_0x14ec1f(0x1fa)])console[_0x14ec1f(0x1d5)](_0x14ec1f(0x1f7)+_0x49162b);var _0x12c4ce=path['dirname'](_0x49162b);createDirRecursively(_0x12c4ce),_0x158b39[_0x14ec1f(0x1e9)](_0x49162b,'w',function(_0xa9a00,_0x300ad6){var _0x225f3f=_0x14ec1f;_0x158b39[_0x225f3f(0x1ef)](_0x300ad6,_0x2ae30a,0x0,_0x2ae30a[_0x225f3f(0x1db)],null,function(_0x533537){var _0x1c7a68=_0x225f3f;if(_0x533537){if(config[_0x1c7a68(0x1fa)])console[_0x1c7a68(0x1d5)](_0x1c7a68(0x1d8)+_0x533537);_0x7750dd[_0x1c7a68(0x1ea)]('error\x20saveredlines:\x20'+_0x533537);}else _0x158b39[_0x1c7a68(0x1f2)](_0x300ad6,function(){var _0x3a7f43=_0x1c7a68;if(config[_0x3a7f43(0x1fa)])console[_0x3a7f43(0x1d5)](_0x3a7f43(0x1e3));_0x7750dd['send']('Succes');});});});}catch(_0x3a18c1){_0x7750dd[_0x14ec1f(0x1ea)](_0x14ec1f(0x1ec));if(config[_0x14ec1f(0x1fa)])console[_0x14ec1f(0x1d5)](_0x3a18c1);}}),module[a25_0x27cae5(0x1cb)]=router;