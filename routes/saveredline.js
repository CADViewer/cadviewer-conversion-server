var a25_0x3bc5e4=a25_0x15b8;(function(_0x16f6b2,_0x1cd13b){var _0x65a069=a25_0x15b8,_0x311dc2=_0x16f6b2();while(!![]){try{var _0x2ddf62=-parseInt(_0x65a069(0x17a))/0x1+-parseInt(_0x65a069(0x17b))/0x2*(-parseInt(_0x65a069(0x150))/0x3)+parseInt(_0x65a069(0x15f))/0x4+parseInt(_0x65a069(0x15c))/0x5*(-parseInt(_0x65a069(0x170))/0x6)+parseInt(_0x65a069(0x165))/0x7*(parseInt(_0x65a069(0x166))/0x8)+-parseInt(_0x65a069(0x159))/0x9*(-parseInt(_0x65a069(0x163))/0xa)+-parseInt(_0x65a069(0x14f))/0xb;if(_0x2ddf62===_0x1cd13b)break;else _0x311dc2['push'](_0x311dc2['shift']());}catch(_0x4fd3af){_0x311dc2['push'](_0x311dc2['shift']());}}}(a25_0x28b0,0x1b2eb));var config=require(a25_0x3bc5e4(0x14e)),cvjs_debug=config[a25_0x3bc5e4(0x16b)],express=require(a25_0x3bc5e4(0x15b)),router=express['Router']();function a25_0x15b8(_0x3aa242,_0x23f2cd){var _0x28b07d=a25_0x28b0();return a25_0x15b8=function(_0x15b898,_0x5e8e74){_0x15b898=_0x15b898-0x14b;var _0x1544b0=_0x28b07d[_0x15b898];return _0x1544b0;},a25_0x15b8(_0x3aa242,_0x23f2cd);}const fs=require('fs'),path=require(a25_0x3bc5e4(0x16c));function createDirRecursively(_0x59dbf4){var _0x28cb4e=a25_0x3bc5e4;!fs[_0x28cb4e(0x156)](_0x59dbf4)&&(createDirRecursively(path[_0x28cb4e(0x14c)](_0x59dbf4,'..')),fs[_0x28cb4e(0x173)](_0x59dbf4));}function a25_0x28b0(){var _0x5177eb=['file_content','Access-Control-Allow-Origin\x20:\x20*','join','body','../CADViewer_config.json','3096082UlvKix','65790XKSjds','ServerFrontEndUrl','error\x20saveredlines:\x20','post','ServerLocation','3:\x20saveredline\x20\x20','existsSync','\x20\x20\x20\x20config.ServerFrontEndUrl:','indexOf','27CWxfbH','/saveredline','express','163190HyrncA','1:\x20saveredline\x20\x20','file\x20written','457932QYyIww','exports','substring','replace','691170IyKYFU','file','496097YlvbXX','16TdBmmS','Access-Control-Allow-Origin\x20:','replaceAll','from','redline','cvjs_debug','path','Access-Control-Allow-Origin','setHeader','length','6uHXwTu','serverfolder','log','mkdirSync','send','filename:','write','ServerUrl','dirname','Succes','147787WEfEHM','10olfrUB','error\x20-\x20saveredline'];a25_0x28b0=function(){return _0x5177eb;};return a25_0x28b0();}router[a25_0x3bc5e4(0x153)](a25_0x3bc5e4(0x15a),(_0x4fab07,_0x42e0fe)=>{var _0x46b31c=a25_0x3bc5e4;if(config['ServerFrontEndUrlAsAllowedOriginOnly']==!![]){_0x42e0fe[_0x46b31c(0x16e)]('Access-Control-Allow-Origin',config[_0x46b31c(0x151)]);if(cvjs_debug)console[_0x46b31c(0x172)](_0x46b31c(0x167)+config[_0x46b31c(0x151)]);}else{_0x42e0fe[_0x46b31c(0x16e)](_0x46b31c(0x16d),'*');if(cvjs_debug)console[_0x46b31c(0x172)](_0x46b31c(0x14b));}try{var _0x2ca981=_0x4fab07[_0x46b31c(0x14d)][_0x46b31c(0x164)],_0x4ca068=_0x4fab07[_0x46b31c(0x14d)][_0x46b31c(0x17d)],_0x4f17fe=Buffer[_0x46b31c(0x169)](_0x4ca068),_0x31959b=_0x4fab07[_0x46b31c(0x14d)]['listtype'];if(cvjs_debug)console[_0x46b31c(0x172)]('save\x20redline\x20listtype:'+_0x31959b);if(_0x31959b==_0x46b31c(0x171)||_0x31959b==_0x46b31c(0x16a)){if(_0x2ca981[_0x46b31c(0x158)](config[_0x46b31c(0x154)])==0x0){}else _0x2ca981=config['ServerLocation']+_0x2ca981;}if(cvjs_debug)console[_0x46b31c(0x172)](_0x46b31c(0x175)+_0x2ca981);var _0x13960c=require('fs');if(config['cvjs_debug'])console[_0x46b31c(0x172)](_0x46b31c(0x15d)+_0x2ca981);_0x2ca981=decodeURI(_0x2ca981),_0x2ca981=_0x2ca981[_0x46b31c(0x162)](/%3A/g,':'),_0x2ca981=_0x2ca981['replace'](/%2F/g,'/'),_0x2ca981=_0x2ca981['replace'](/%20/g,'\x20'),_0x2ca981=_0x2ca981[_0x46b31c(0x168)]('+','\x20');if(config[_0x46b31c(0x16b)])console['log']('2:\x20saveredline\x20\x20'+_0x2ca981+_0x46b31c(0x157)+config[_0x46b31c(0x151)]+'\x20config.ServerUrl:'+config['ServerUrl']);if(config[_0x46b31c(0x151)]!=''&&_0x2ca981['indexOf'](config[_0x46b31c(0x151)])==0x0){if(config[_0x46b31c(0x16b)])console['log']('4:');_0x2ca981=config[_0x46b31c(0x154)]+_0x2ca981[_0x46b31c(0x161)](config[_0x46b31c(0x151)][_0x46b31c(0x16f)]);}else{if(config[_0x46b31c(0x177)]!=''&&_0x2ca981[_0x46b31c(0x158)](config[_0x46b31c(0x177)])==0x0){if(config[_0x46b31c(0x16b)])console[_0x46b31c(0x172)]('5:');_0x2ca981=config['ServerLocation']+_0x2ca981[_0x46b31c(0x161)](config[_0x46b31c(0x177)][_0x46b31c(0x16f)]);}}_0x2ca981=_0x2ca981[_0x46b31c(0x162)](/\\/g,'/');if(config['cvjs_debug'])console[_0x46b31c(0x172)](_0x46b31c(0x155)+_0x2ca981);var _0x4e8013=path[_0x46b31c(0x178)](_0x2ca981);createDirRecursively(_0x4e8013),_0x13960c['open'](_0x2ca981,'w',function(_0x99a751,_0x4cc356){var _0x7d7910=_0x46b31c;_0x13960c[_0x7d7910(0x176)](_0x4cc356,_0x4f17fe,0x0,_0x4f17fe[_0x7d7910(0x16f)],null,function(_0x1b0756){var _0x5461fe=_0x7d7910;if(_0x1b0756){if(config['cvjs_debug'])console[_0x5461fe(0x172)](_0x5461fe(0x152)+_0x1b0756);_0x42e0fe[_0x5461fe(0x174)](_0x5461fe(0x152)+_0x1b0756);}else _0x13960c['close'](_0x4cc356,function(){var _0x9d6cdd=_0x5461fe;if(config['cvjs_debug'])console['log'](_0x9d6cdd(0x15e));_0x42e0fe[_0x9d6cdd(0x174)](_0x9d6cdd(0x179));});});});}catch(_0x3474d4){_0x42e0fe[_0x46b31c(0x174)](_0x46b31c(0x17c));if(config[_0x46b31c(0x16b)])console[_0x46b31c(0x172)](_0x3474d4);}}),module[a25_0x3bc5e4(0x160)]=router;