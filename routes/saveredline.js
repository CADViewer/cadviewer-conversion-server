var a25_0x34db09=a25_0x5ccc;(function(_0x2b5863,_0x4c6973){var _0x294231=a25_0x5ccc,_0xbe6d67=_0x2b5863();while(!![]){try{var _0x491656=parseInt(_0x294231(0x11e))/0x1+-parseInt(_0x294231(0x10d))/0x2*(parseInt(_0x294231(0xf8))/0x3)+-parseInt(_0x294231(0x118))/0x4*(parseInt(_0x294231(0x10f))/0x5)+parseInt(_0x294231(0xff))/0x6+-parseInt(_0x294231(0xf1))/0x7+-parseInt(_0x294231(0xf3))/0x8*(-parseInt(_0x294231(0xf0))/0x9)+parseInt(_0x294231(0x113))/0xa;if(_0x491656===_0x4c6973)break;else _0xbe6d67['push'](_0xbe6d67['shift']());}catch(_0x14b895){_0xbe6d67['push'](_0xbe6d67['shift']());}}}(a25_0x2642,0x3ee71));function a25_0x5ccc(_0x2893f5,_0x34679d){var _0x26420a=a25_0x2642();return a25_0x5ccc=function(_0x5ccc1a,_0x36fa03){_0x5ccc1a=_0x5ccc1a-0xef;var _0x22e9ca=_0x26420a[_0x5ccc1a];return _0x22e9ca;},a25_0x5ccc(_0x2893f5,_0x34679d);}var config=require(a25_0x34db09(0x119)),cvjs_debug=config[a25_0x34db09(0x100)],express=require(a25_0x34db09(0xfe)),router=express[a25_0x34db09(0x109)]();const fs=require('fs'),path=require(a25_0x34db09(0xfa));function createDirRecursively(_0x1abf9a){var _0x49749c=a25_0x34db09;!fs['existsSync'](_0x1abf9a)&&(createDirRecursively(path[_0x49749c(0x115)](_0x1abf9a,'..')),fs[_0x49749c(0xf9)](_0x1abf9a));}function a25_0x2642(){var _0xc03a88=['../CADViewer_config.json','\x20config.ServerUrl:','ServerUrl','error\x20saveredlines:\x20','length','259017bLNUyv','setHeader','9YlyonI','2414482pVcooD','ServerFrontEndUrlAsAllowedOriginOnly','961288nuwylC','2:\x20saveredline\x20\x20','file','post','\x20\x20\x20\x20config.ServerFrontEndUrl:','168969JpJTBX','mkdirSync','path','3:\x20saveredline\x20\x20','listtype','write','express','2730684ZtiJgg','cvjs_debug','Access-Control-Allow-Origin\x20:\x20*','indexOf','body','save\x20redline\x20listtype:','Access-Control-Allow-Origin','redline','dirname','ServerLocation','Router','exports','replaceAll','ServerFrontEndUrl','8AruSbl','send','1495605ReCaMq','file_content','log','replace','2926960wSnlys','substring','join','Access-Control-Allow-Origin\x20:','Succes','4UwXbhX'];a25_0x2642=function(){return _0xc03a88;};return a25_0x2642();}router[a25_0x34db09(0xf6)]('/saveredline',(_0x85c3b,_0xebfede)=>{var _0x2240c3=a25_0x34db09;if(config[_0x2240c3(0xf2)]==!![]){_0xebfede[_0x2240c3(0xef)](_0x2240c3(0x105),config[_0x2240c3(0x10c)]);if(cvjs_debug)console[_0x2240c3(0x111)](_0x2240c3(0x116)+config['ServerFrontEndUrl']);}else{_0xebfede['setHeader'](_0x2240c3(0x105),'*');if(cvjs_debug)console[_0x2240c3(0x111)](_0x2240c3(0x101));}try{var _0xe38097=_0x85c3b['body'][_0x2240c3(0xf5)],_0x188309=_0x85c3b[_0x2240c3(0x103)][_0x2240c3(0x110)],_0x3ef8b0=Buffer['from'](_0x188309),_0x34c93b=_0x85c3b[_0x2240c3(0x103)][_0x2240c3(0xfc)];if(cvjs_debug)console[_0x2240c3(0x111)](_0x2240c3(0x104)+_0x34c93b);if(_0x34c93b=='serverfolder'||_0x34c93b==_0x2240c3(0x106)){if(_0xe38097[_0x2240c3(0x102)](config['ServerLocation'])==0x0){}else _0xe38097=config['ServerLocation']+_0xe38097;}if(cvjs_debug)console[_0x2240c3(0x111)]('filename:'+_0xe38097);var _0x143017=require('fs');if(config['cvjs_debug'])console[_0x2240c3(0x111)]('1:\x20saveredline\x20\x20'+_0xe38097);_0xe38097=decodeURI(_0xe38097),_0xe38097=_0xe38097[_0x2240c3(0x112)](/%3A/g,':'),_0xe38097=_0xe38097[_0x2240c3(0x112)](/%2F/g,'/'),_0xe38097=_0xe38097[_0x2240c3(0x112)](/%20/g,'\x20'),_0xe38097=_0xe38097[_0x2240c3(0x10b)]('+','\x20');if(config['cvjs_debug'])console[_0x2240c3(0x111)](_0x2240c3(0xf4)+_0xe38097+_0x2240c3(0xf7)+config['ServerFrontEndUrl']+_0x2240c3(0x11a)+config[_0x2240c3(0x11b)]);if(config['ServerFrontEndUrl']!=''&&_0xe38097['indexOf'](config[_0x2240c3(0x10c)])==0x0){if(config[_0x2240c3(0x100)])console[_0x2240c3(0x111)]('4:');_0xe38097=config[_0x2240c3(0x108)]+_0xe38097[_0x2240c3(0x114)](config[_0x2240c3(0x10c)][_0x2240c3(0x11d)]);}else{if(config[_0x2240c3(0x11b)]!=''&&_0xe38097[_0x2240c3(0x102)](config[_0x2240c3(0x11b)])==0x0){if(config[_0x2240c3(0x100)])console[_0x2240c3(0x111)]('5:');_0xe38097=config[_0x2240c3(0x108)]+_0xe38097[_0x2240c3(0x114)](config['ServerUrl']['length']);}}_0xe38097=_0xe38097[_0x2240c3(0x112)](/\\/g,'/');if(config[_0x2240c3(0x100)])console[_0x2240c3(0x111)](_0x2240c3(0xfb)+_0xe38097);var _0x1f2d70=path[_0x2240c3(0x107)](_0xe38097);createDirRecursively(_0x1f2d70),_0x143017['open'](_0xe38097,'w',function(_0x119d3f,_0x530687){var _0x42d726=_0x2240c3;_0x143017[_0x42d726(0xfd)](_0x530687,_0x3ef8b0,0x0,_0x3ef8b0[_0x42d726(0x11d)],null,function(_0x52ac8b){var _0x48eb9b=_0x42d726;if(_0x52ac8b){if(config[_0x48eb9b(0x100)])console['log'](_0x48eb9b(0x11c)+_0x52ac8b);_0xebfede[_0x48eb9b(0x10e)]('error\x20saveredlines:\x20'+_0x52ac8b);}else _0x143017['close'](_0x530687,function(){var _0x20b3c3=_0x48eb9b;if(config[_0x20b3c3(0x100)])console[_0x20b3c3(0x111)]('file\x20written');_0xebfede['send'](_0x20b3c3(0x117));});});});}catch(_0x36b0ba){_0xebfede['send']('error\x20-\x20saveredline');if(config[_0x2240c3(0x100)])console[_0x2240c3(0x111)](_0x36b0ba);}}),module[a25_0x34db09(0x10a)]=router;