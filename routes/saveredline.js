var a25_0x4deda2=a25_0x347d;function a25_0x347d(_0xf214f,_0x3f009b){var _0x5a4b6f=a25_0x5a4b();return a25_0x347d=function(_0x347d9e,_0x504aa3){_0x347d9e=_0x347d9e-0x193;var _0x2e1b91=_0x5a4b6f[_0x347d9e];return _0x2e1b91;},a25_0x347d(_0xf214f,_0x3f009b);}(function(_0x2ac459,_0x48ff02){var _0x360c03=a25_0x347d,_0x2ce3a6=_0x2ac459();while(!![]){try{var _0x239f65=-parseInt(_0x360c03(0x1a0))/0x1+parseInt(_0x360c03(0x1a1))/0x2+-parseInt(_0x360c03(0x1b2))/0x3*(-parseInt(_0x360c03(0x1ae))/0x4)+parseInt(_0x360c03(0x19a))/0x5*(parseInt(_0x360c03(0x1ac))/0x6)+-parseInt(_0x360c03(0x1b8))/0x7*(parseInt(_0x360c03(0x194))/0x8)+parseInt(_0x360c03(0x1b6))/0x9*(-parseInt(_0x360c03(0x1a5))/0xa)+parseInt(_0x360c03(0x1b7))/0xb;if(_0x239f65===_0x48ff02)break;else _0x2ce3a6['push'](_0x2ce3a6['shift']());}catch(_0x41a8b0){_0x2ce3a6['push'](_0x2ce3a6['shift']());}}}(a25_0x5a4b,0xcd4d8));var config=require('../CADViewer_config.json'),cvjs_debug=config[a25_0x4deda2(0x1a4)],express=require('express'),router=express['Router']();function a25_0x5a4b(){var _0x599143=['send','join','9JnInMR','8529147HMhHsk','567gAKgUZ','post','save\x20redline\x20listtype:','ServerLocation','Access-Control-Allow-Origin','60280XoUUkY','serverfolder','Succes','Access-Control-Allow-Origin\x20:','ServerUrl','error\x20saveredlines:\x20','479045wBqCJz','file','length','replaceAll','file_content','Access-Control-Allow-Origin\x20:\x20*','1588346YGRYjd','1965582IkWYnC','ServerFrontEndUrl','ServerFrontEndUrlAsAllowedOriginOnly','cvjs_debug','1012550UcTqun','/saveredline','indexOf','\x20\x20\x20\x20config.ServerFrontEndUrl:','body','substring','log','12OoSqZN','1:\x20saveredline\x20\x20','476428RDkWVz','setHeader','error\x20-\x20saveredline','dirname','30PPEKEZ','replace'];a25_0x5a4b=function(){return _0x599143;};return a25_0x5a4b();}const fs=require('fs'),path=require('path');function createDirRecursively(_0x3204b6){var _0x534b21=a25_0x4deda2;!fs['existsSync'](_0x3204b6)&&(createDirRecursively(path[_0x534b21(0x1b5)](_0x3204b6,'..')),fs['mkdirSync'](_0x3204b6));}router[a25_0x4deda2(0x1b9)](a25_0x4deda2(0x1a6),(_0x2d25a0,_0x1675b7)=>{var _0x176f96=a25_0x4deda2;if(config[_0x176f96(0x1a3)]==!![]){_0x1675b7[_0x176f96(0x1af)](_0x176f96(0x193),config[_0x176f96(0x1a2)]);if(cvjs_debug)console[_0x176f96(0x1ab)](_0x176f96(0x197)+config[_0x176f96(0x1a2)]);}else{_0x1675b7[_0x176f96(0x1af)](_0x176f96(0x193),'*');if(cvjs_debug)console['log'](_0x176f96(0x19f));}try{var _0x3a734c=_0x2d25a0['body'][_0x176f96(0x19b)],_0x39376f=_0x2d25a0['body'][_0x176f96(0x19e)],_0xc64944=Buffer['from'](_0x39376f),_0x476050=_0x2d25a0[_0x176f96(0x1a9)]['listtype'];if(cvjs_debug)console['log'](_0x176f96(0x1ba)+_0x476050);if(_0x476050==_0x176f96(0x195)||_0x476050=='redline'){if(_0x3a734c['indexOf'](config[_0x176f96(0x1bb)])==0x0){}else _0x3a734c=config['ServerLocation']+_0x3a734c;}if(cvjs_debug)console[_0x176f96(0x1ab)]('filename:'+_0x3a734c);var _0x33e2b6=require('fs');if(config[_0x176f96(0x1a4)])console[_0x176f96(0x1ab)](_0x176f96(0x1ad)+_0x3a734c);_0x3a734c=decodeURI(_0x3a734c),_0x3a734c=_0x3a734c[_0x176f96(0x1b3)](/%3A/g,':'),_0x3a734c=_0x3a734c[_0x176f96(0x1b3)](/%2F/g,'/'),_0x3a734c=_0x3a734c[_0x176f96(0x1b3)](/%20/g,'\x20'),_0x3a734c=_0x3a734c[_0x176f96(0x19d)]('+','\x20');if(config[_0x176f96(0x1a4)])console[_0x176f96(0x1ab)]('2:\x20saveredline\x20\x20'+_0x3a734c+_0x176f96(0x1a8)+config[_0x176f96(0x1a2)]+'\x20config.ServerUrl:'+config[_0x176f96(0x198)]);if(config['ServerFrontEndUrl']!=''&&_0x3a734c['indexOf'](config['ServerFrontEndUrl'])==0x0){if(config[_0x176f96(0x1a4)])console[_0x176f96(0x1ab)]('4:');_0x3a734c=config[_0x176f96(0x1bb)]+_0x3a734c[_0x176f96(0x1aa)](config[_0x176f96(0x1a2)]['length']);}else{if(config[_0x176f96(0x198)]!=''&&_0x3a734c[_0x176f96(0x1a7)](config[_0x176f96(0x198)])==0x0){if(config['cvjs_debug'])console[_0x176f96(0x1ab)]('5:');_0x3a734c=config[_0x176f96(0x1bb)]+_0x3a734c[_0x176f96(0x1aa)](config['ServerUrl'][_0x176f96(0x19c)]);}}_0x3a734c=_0x3a734c[_0x176f96(0x1b3)](/\\/g,'/');if(config[_0x176f96(0x1a4)])console['log']('3:\x20saveredline\x20\x20'+_0x3a734c);var _0x56cef9=path[_0x176f96(0x1b1)](_0x3a734c);createDirRecursively(_0x56cef9),_0x33e2b6['open'](_0x3a734c,'w',function(_0x12982f,_0x202e83){_0x33e2b6['write'](_0x202e83,_0xc64944,0x0,_0xc64944['length'],null,function(_0x328099){var _0x5e963b=a25_0x347d;if(_0x328099){if(config['cvjs_debug'])console[_0x5e963b(0x1ab)](_0x5e963b(0x199)+_0x328099);_0x1675b7[_0x5e963b(0x1b4)](_0x5e963b(0x199)+_0x328099);}else _0x33e2b6['close'](_0x202e83,function(){var _0x2a0deb=_0x5e963b;if(config['cvjs_debug'])console[_0x2a0deb(0x1ab)]('file\x20written');_0x1675b7['send'](_0x2a0deb(0x196));});});});}catch(_0x5d4128){_0x1675b7[_0x176f96(0x1b4)](_0x176f96(0x1b0));if(config[_0x176f96(0x1a4)])console[_0x176f96(0x1ab)](_0x5d4128);}}),module['exports']=router;