var a25_0x5f2b33=a25_0x2b88;(function(_0x1799b7,_0x1ef0f8){var _0x3ab02f=a25_0x2b88,_0x4d32cc=_0x1799b7();while(!![]){try{var _0x3bf5b1=-parseInt(_0x3ab02f(0x1a7))/0x1*(parseInt(_0x3ab02f(0x1ae))/0x2)+-parseInt(_0x3ab02f(0x19f))/0x3+parseInt(_0x3ab02f(0x1c7))/0x4*(parseInt(_0x3ab02f(0x1bd))/0x5)+-parseInt(_0x3ab02f(0x1b4))/0x6*(parseInt(_0x3ab02f(0x1c4))/0x7)+-parseInt(_0x3ab02f(0x1ab))/0x8+-parseInt(_0x3ab02f(0x1ad))/0x9*(parseInt(_0x3ab02f(0x1be))/0xa)+parseInt(_0x3ab02f(0x1b5))/0xb*(parseInt(_0x3ab02f(0x1a6))/0xc);if(_0x3bf5b1===_0x1ef0f8)break;else _0x4d32cc['push'](_0x4d32cc['shift']());}catch(_0x3733ca){_0x4d32cc['push'](_0x4d32cc['shift']());}}}(a25_0x42e0,0x7d303));var config=require(a25_0x5f2b33(0x1a0)),cvjs_debug=config[a25_0x5f2b33(0x1bf)],express=require(a25_0x5f2b33(0x19d)),router=express['Router']();function a25_0x42e0(){var _0x56925a=['../CADViewer_config.json','log','join','ServerFrontEndUrl','redline','body','29312124Xfxmfb','33569hxkdPP','Access-Control-Allow-Origin','Access-Control-Allow-Origin\x20:\x20*','error\x20-\x20saveredline','1998024Fpcipi','existsSync','9WWyLIO','54XWHEtH','ServerUrl','post','2:\x20saveredline\x20\x20','open','3:\x20saveredline\x20\x20','3070542jNjGrl','11EPYdQC','replace','1:\x20saveredline\x20\x20','mkdirSync','length','indexOf','ServerFrontEndUrlAsAllowedOriginOnly','send','5NnnyUP','2402810jrkzGp','cvjs_debug','listtype','\x20config.ServerUrl:','write','Access-Control-Allow-Origin\x20:','14MrTDOv','path','error\x20saveredlines:\x20','3696676kBIchH','\x20\x20\x20\x20config.ServerFrontEndUrl:','serverfolder','/saveredline','express','ServerLocation','1302492GGEcqx'];a25_0x42e0=function(){return _0x56925a;};return a25_0x42e0();}const fs=require('fs'),path=require(a25_0x5f2b33(0x1c5));function createDirRecursively(_0x50c4da){var _0x4ac229=a25_0x5f2b33;!fs[_0x4ac229(0x1ac)](_0x50c4da)&&(createDirRecursively(path[_0x4ac229(0x1a2)](_0x50c4da,'..')),fs[_0x4ac229(0x1b8)](_0x50c4da));}function a25_0x2b88(_0x51198c,_0x3cf74d){var _0x42e09b=a25_0x42e0();return a25_0x2b88=function(_0x2b880d,_0x41008a){_0x2b880d=_0x2b880d-0x19c;var _0x561402=_0x42e09b[_0x2b880d];return _0x561402;},a25_0x2b88(_0x51198c,_0x3cf74d);}router[a25_0x5f2b33(0x1b0)](a25_0x5f2b33(0x19c),(_0x404c44,_0x41f09f)=>{var _0x6dc815=a25_0x5f2b33;if(config[_0x6dc815(0x1bb)]==!![]){_0x41f09f['setHeader'](_0x6dc815(0x1a8),config['ServerFrontEndUrl']);if(cvjs_debug)console[_0x6dc815(0x1a1)](_0x6dc815(0x1c3)+config['ServerFrontEndUrl']);}else{_0x41f09f['setHeader'](_0x6dc815(0x1a8),'*');if(cvjs_debug)console['log'](_0x6dc815(0x1a9));}try{var _0x4a76ab=_0x404c44[_0x6dc815(0x1a5)]['file'],_0xf625ed=_0x404c44['body']['file_content'],_0x332a8f=Buffer['from'](_0xf625ed),_0x2613cd=_0x404c44[_0x6dc815(0x1a5)][_0x6dc815(0x1c0)];if(cvjs_debug)console['log']('save\x20redline\x20listtype:'+_0x2613cd);if(_0x2613cd==_0x6dc815(0x1c9)||_0x2613cd==_0x6dc815(0x1a4)){if(_0x4a76ab[_0x6dc815(0x1ba)](config[_0x6dc815(0x19e)])==0x0){}else _0x4a76ab=config[_0x6dc815(0x19e)]+_0x4a76ab;}if(cvjs_debug)console[_0x6dc815(0x1a1)]('filename:'+_0x4a76ab);var _0x4b7cf4=require('fs');if(config[_0x6dc815(0x1bf)])console[_0x6dc815(0x1a1)](_0x6dc815(0x1b7)+_0x4a76ab);_0x4a76ab=decodeURI(_0x4a76ab),_0x4a76ab=_0x4a76ab[_0x6dc815(0x1b6)](/%3A/g,':'),_0x4a76ab=_0x4a76ab[_0x6dc815(0x1b6)](/%2F/g,'/'),_0x4a76ab=_0x4a76ab[_0x6dc815(0x1b6)](/%20/g,'\x20'),_0x4a76ab=_0x4a76ab['replaceAll']('+','\x20');if(config[_0x6dc815(0x1bf)])console[_0x6dc815(0x1a1)](_0x6dc815(0x1b1)+_0x4a76ab+_0x6dc815(0x1c8)+config['ServerFrontEndUrl']+_0x6dc815(0x1c1)+config[_0x6dc815(0x1af)]);if(config['ServerFrontEndUrl']!=''&&_0x4a76ab['indexOf'](config[_0x6dc815(0x1a3)])==0x0){if(config[_0x6dc815(0x1bf)])console['log']('4:');_0x4a76ab=config[_0x6dc815(0x19e)]+_0x4a76ab['substring'](config[_0x6dc815(0x1a3)][_0x6dc815(0x1b9)]);}else{if(config[_0x6dc815(0x1af)]!=''&&_0x4a76ab[_0x6dc815(0x1ba)](config['ServerUrl'])==0x0){if(config['cvjs_debug'])console['log']('5:');_0x4a76ab=config[_0x6dc815(0x19e)]+_0x4a76ab['substring'](config[_0x6dc815(0x1af)][_0x6dc815(0x1b9)]);}}_0x4a76ab=_0x4a76ab[_0x6dc815(0x1b6)](/\\/g,'/');if(config[_0x6dc815(0x1bf)])console[_0x6dc815(0x1a1)](_0x6dc815(0x1b3)+_0x4a76ab);var _0x3d6964=path['dirname'](_0x4a76ab);createDirRecursively(_0x3d6964),_0x4b7cf4[_0x6dc815(0x1b2)](_0x4a76ab,'w',function(_0x253e3b,_0x13b6b1){var _0x1eb6f1=_0x6dc815;_0x4b7cf4[_0x1eb6f1(0x1c2)](_0x13b6b1,_0x332a8f,0x0,_0x332a8f[_0x1eb6f1(0x1b9)],null,function(_0x240d13){var _0x4f8500=_0x1eb6f1;if(_0x240d13){if(config['cvjs_debug'])console['log'](_0x4f8500(0x1c6)+_0x240d13);_0x41f09f['send'](_0x4f8500(0x1c6)+_0x240d13);}else _0x4b7cf4['close'](_0x13b6b1,function(){var _0x52c893=_0x4f8500;if(config[_0x52c893(0x1bf)])console['log']('file\x20written');_0x41f09f['send']('Succes');});});});}catch(_0x23674a){_0x41f09f[_0x6dc815(0x1bc)](_0x6dc815(0x1aa));if(config['cvjs_debug'])console[_0x6dc815(0x1a1)](_0x23674a);}}),module['exports']=router;