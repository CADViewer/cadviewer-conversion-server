function a25_0xfcc2(){var _0xc8be11=['ServerFrontEndUrlAsAllowedOriginOnly','3:\x20saveredline\x20\x20','listtype','267705IygYWG','replaceAll','Succes','file','cvjs_debug','setHeader','join','send','substring','open','378915AVOADn','2:\x20saveredline\x20\x20','write','Access-Control-Allow-Origin\x20:','5918508AxxIkf','from','replace','body','length','Access-Control-Allow-Origin','50qylsPx','ServerFrontEndUrl','2121294KyUsbf','ServerLocation','error\x20saveredlines:\x20','error\x20-\x20saveredline','serverfolder','mkdirSync','indexOf','file_content','file\x20written','ServerUrl','../CADViewer_config.json','log','226520HBqTAt','Router','express','path','1:\x20saveredline\x20\x20','592238bpGefD','exports','7gBIAXb','\x20\x20\x20\x20config.ServerFrontEndUrl:','47900uNEhEo','existsSync'];a25_0xfcc2=function(){return _0xc8be11;};return a25_0xfcc2();}var a25_0x46a567=a25_0x3fa4;(function(_0x33302e,_0x36a84c){var _0x9afd87=a25_0x3fa4,_0x225715=_0x33302e();while(!![]){try{var _0x3b2c72=parseInt(_0x9afd87(0xb4))/0x1+parseInt(_0x9afd87(0xdb))/0x2+-parseInt(_0x9afd87(0xbe))/0x3+-parseInt(_0x9afd87(0xaf))/0x4*(-parseInt(_0x9afd87(0xc8))/0x5)+parseInt(_0x9afd87(0xca))/0x6+parseInt(_0x9afd87(0xad))/0x7*(-parseInt(_0x9afd87(0xd6))/0x8)+-parseInt(_0x9afd87(0xc2))/0x9;if(_0x3b2c72===_0x36a84c)break;else _0x225715['push'](_0x225715['shift']());}catch(_0x2f6a69){_0x225715['push'](_0x225715['shift']());}}}(a25_0xfcc2,0x36e7b));var config=require(a25_0x46a567(0xd4)),cvjs_debug=config[a25_0x46a567(0xb8)],express=require(a25_0x46a567(0xd8)),router=express[a25_0x46a567(0xd7)]();function a25_0x3fa4(_0x9608a0,_0x12f172){var _0xfcc23a=a25_0xfcc2();return a25_0x3fa4=function(_0x3fa430,_0x88e456){_0x3fa430=_0x3fa430-0xac;var _0x4a1e87=_0xfcc23a[_0x3fa430];return _0x4a1e87;},a25_0x3fa4(_0x9608a0,_0x12f172);}const fs=require('fs'),path=require(a25_0x46a567(0xd9));function createDirRecursively(_0x41b455){var _0x371860=a25_0x46a567;!fs[_0x371860(0xb0)](_0x41b455)&&(createDirRecursively(path[_0x371860(0xba)](_0x41b455,'..')),fs[_0x371860(0xcf)](_0x41b455));}router['post']('/saveredline',(_0x58ad4b,_0x3744c9)=>{var _0x370a2a=a25_0x46a567;if(config[_0x370a2a(0xb1)]==!![]){_0x3744c9[_0x370a2a(0xb9)]('Access-Control-Allow-Origin',config[_0x370a2a(0xc9)]);if(cvjs_debug)console[_0x370a2a(0xd5)](_0x370a2a(0xc1)+config[_0x370a2a(0xc9)]);}else{_0x3744c9[_0x370a2a(0xb9)](_0x370a2a(0xc7),'*');if(cvjs_debug)console['log']('Access-Control-Allow-Origin\x20:\x20*');}try{var _0x4366b1=_0x58ad4b[_0x370a2a(0xc5)][_0x370a2a(0xb7)],_0x1aada9=_0x58ad4b[_0x370a2a(0xc5)][_0x370a2a(0xd1)],_0xdedefb=Buffer[_0x370a2a(0xc3)](_0x1aada9),_0x2971d6=_0x58ad4b[_0x370a2a(0xc5)][_0x370a2a(0xb3)];if(cvjs_debug)console['log']('save\x20redline\x20listtype:'+_0x2971d6);if(_0x2971d6==_0x370a2a(0xce)||_0x2971d6=='redline'){if(_0x4366b1[_0x370a2a(0xd0)](config[_0x370a2a(0xcb)])==0x0){}else _0x4366b1=config['ServerLocation']+_0x4366b1;}if(cvjs_debug)console[_0x370a2a(0xd5)]('filename:'+_0x4366b1);var _0x163592=require('fs');if(config[_0x370a2a(0xb8)])console['log'](_0x370a2a(0xda)+_0x4366b1);_0x4366b1=decodeURI(_0x4366b1),_0x4366b1=_0x4366b1[_0x370a2a(0xc4)](/%3A/g,':'),_0x4366b1=_0x4366b1[_0x370a2a(0xc4)](/%2F/g,'/'),_0x4366b1=_0x4366b1[_0x370a2a(0xc4)](/%20/g,'\x20'),_0x4366b1=_0x4366b1[_0x370a2a(0xb5)]('+','\x20');if(config[_0x370a2a(0xb8)])console[_0x370a2a(0xd5)](_0x370a2a(0xbf)+_0x4366b1+_0x370a2a(0xae)+config[_0x370a2a(0xc9)]+'\x20config.ServerUrl:'+config['ServerUrl']);if(config[_0x370a2a(0xc9)]!=''&&_0x4366b1[_0x370a2a(0xd0)](config[_0x370a2a(0xc9)])==0x0){if(config[_0x370a2a(0xb8)])console[_0x370a2a(0xd5)]('4:');_0x4366b1=config[_0x370a2a(0xcb)]+_0x4366b1[_0x370a2a(0xbc)](config['ServerFrontEndUrl'][_0x370a2a(0xc6)]);}else{if(config[_0x370a2a(0xd3)]!=''&&_0x4366b1['indexOf'](config[_0x370a2a(0xd3)])==0x0){if(config[_0x370a2a(0xb8)])console['log']('5:');_0x4366b1=config[_0x370a2a(0xcb)]+_0x4366b1[_0x370a2a(0xbc)](config[_0x370a2a(0xd3)]['length']);}}_0x4366b1=_0x4366b1[_0x370a2a(0xc4)](/\\/g,'/');if(config[_0x370a2a(0xb8)])console[_0x370a2a(0xd5)](_0x370a2a(0xb2)+_0x4366b1);var _0x4d55c0=path['dirname'](_0x4366b1);createDirRecursively(_0x4d55c0),_0x163592[_0x370a2a(0xbd)](_0x4366b1,'w',function(_0x3a2c75,_0x27035b){var _0x26a39=_0x370a2a;_0x163592[_0x26a39(0xc0)](_0x27035b,_0xdedefb,0x0,_0xdedefb[_0x26a39(0xc6)],null,function(_0x20b115){var _0x53726b=_0x26a39;if(_0x20b115){if(config['cvjs_debug'])console[_0x53726b(0xd5)]('error\x20saveredlines:\x20'+_0x20b115);_0x3744c9['send'](_0x53726b(0xcc)+_0x20b115);}else _0x163592['close'](_0x27035b,function(){var _0x2d8d57=_0x53726b;if(config[_0x2d8d57(0xb8)])console[_0x2d8d57(0xd5)](_0x2d8d57(0xd2));_0x3744c9[_0x2d8d57(0xbb)](_0x2d8d57(0xb6));});});});}catch(_0x26092c){_0x3744c9['send'](_0x370a2a(0xcd));if(config[_0x370a2a(0xb8)])console[_0x370a2a(0xd5)](_0x26092c);}}),module[a25_0x46a567(0xac)]=router;