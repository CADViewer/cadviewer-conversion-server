const a22_0xd3faf7=a22_0x490f;function a22_0x4b74(){const _0x265aaf=['GET','Authorization\x20token\x20is\x20applied','96750hiDcyK','Router','node-fetch','2933232NmLhXi','https','body','send','proxyUrl\x20before\x20getResponse():\x20','json','status','511eBGvdn','headers','1470753ovqnTv','2078YpcoHW','/proxy','log','post','../CADViewer_config.json','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','globalBearerAutenticationToken','split','express','30qBYBTb','460962trGnyC','/proxy\x20call:','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','9517893CbvePv','Authorization\x20token\x20is\x20required\x20or\x20incorrect','5828820lFUSSJ','8tvkkkf','22AbPOWL','/proxy\x20call:\x20getToken:\x20','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'];a22_0x4b74=function(){return _0x265aaf;};return a22_0x4b74();}(function(_0x1ba22a,_0x5ba153){const _0x28be2d=a22_0x490f,_0x57acf5=_0x1ba22a();while(!![]){try{const _0x492b3e=-parseInt(_0x28be2d(0x1ab))/0x1*(-parseInt(_0x28be2d(0x1ae))/0x2)+-parseInt(_0x28be2d(0x1a1))/0x3+parseInt(_0x28be2d(0x1a4))/0x4+-parseInt(_0x28be2d(0x194))/0x5*(parseInt(_0x28be2d(0x195))/0x6)+parseInt(_0x28be2d(0x198))/0x7+parseInt(_0x28be2d(0x19b))/0x8*(-parseInt(_0x28be2d(0x1ad))/0x9)+parseInt(_0x28be2d(0x19a))/0xa*(-parseInt(_0x28be2d(0x19c))/0xb);if(_0x492b3e===_0x5ba153)break;else _0x57acf5['push'](_0x57acf5['shift']());}catch(_0x50a40f){_0x57acf5['push'](_0x57acf5['shift']());}}}(a22_0x4b74,0xc3b07));const config=require(a22_0xd3faf7(0x18f)),fetch=require(a22_0xd3faf7(0x1a3)),express=require(a22_0xd3faf7(0x193)),router=express[a22_0xd3faf7(0x1a2)](),https=require(a22_0xd3faf7(0x1a5)),{get}=require('request');router[a22_0xd3faf7(0x1b1)](a22_0xd3faf7(0x1af),async(_0x375f2e,_0x4185e5)=>{const _0x1979c5=a22_0xd3faf7;console[_0x1979c5(0x1b0)](_0x1979c5(0x196)),console[_0x1979c5(0x1b0)]({'body':_0x375f2e['body']});var _0x1755a8=getToken(_0x375f2e);console['log'](_0x1979c5(0x19d)+_0x1755a8);if(!config['globalBearerAutentication'])console['log'](_0x1979c5(0x197));else{console[_0x1979c5(0x1b0)](_0x1979c5(0x1a0)),console[_0x1979c5(0x1b0)](_0x1755a8,config[_0x1979c5(0x191)]);if(_0x1755a8==config['globalBearerAutenticationToken'])console[_0x1979c5(0x1b0)]('Authorization\x20token\x20is\x20OK');else{console[_0x1979c5(0x1b0)](_0x1979c5(0x19e)),_0x4185e5[_0x1979c5(0x1a7)](_0x1979c5(0x199));return;}}try{const _0x303673=_0x375f2e[_0x1979c5(0x1a6)]['url'],_0x57ee09=config['globalApplicationSasToken'],_0x4fa7ba=_0x303673+_0x57ee09;console['log'](_0x1979c5(0x1a8),_0x4fa7ba);const _0x37aaec=await getResponse(_0x4fa7ba);_0x4185e5[_0x1979c5(0x1aa)](0xc8)[_0x1979c5(0x1a9)](_0x37aaec);}catch(_0x44adc0){_0x4185e5[_0x1979c5(0x1a7)]('Server\x20error:'+_0x44adc0);}});function getToken(_0x358554){const _0x13ff3b=a22_0xd3faf7;if(_0x358554[_0x13ff3b(0x1ac)]['authorization']&&_0x358554[_0x13ff3b(0x1ac)]['authorization'][_0x13ff3b(0x192)]('\x20')[0x0]==='Bearer')return _0x358554[_0x13ff3b(0x1ac)]['authorization'][_0x13ff3b(0x192)]('\x20')[0x1];return null;}function a22_0x490f(_0x25d148,_0x135cb4){const _0x4b74dd=a22_0x4b74();return a22_0x490f=function(_0x490f8e,_0x3c767c){_0x490f8e=_0x490f8e-0x18f;let _0x1eb755=_0x4b74dd[_0x490f8e];return _0x1eb755;},a22_0x490f(_0x25d148,_0x135cb4);}async function getResponse(_0x44564e){const _0x3e4c0f=a22_0xd3faf7,_0x1d8009=await fetch(_0x44564e,{'method':_0x3e4c0f(0x19f),'headers':{'Accept':'application/json'}});if(!_0x1d8009['ok'])return'{\x27status:\x20\x27'+_0x1d8009['status']+'\x27}';const _0x41a431=await _0x1d8009[_0x3e4c0f(0x1a9)]();return console[_0x3e4c0f(0x1b0)](_0x3e4c0f(0x190)),_0x41a431;}module['exports']=router;