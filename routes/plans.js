const a22_0x4098f6=a22_0x7020;function a22_0x7020(_0xdd12d8,_0x313aad){const _0xe843ef=a22_0xe843();return a22_0x7020=function(_0x7020f8,_0x514925){_0x7020f8=_0x7020f8-0x125;let _0x1509fe=_0xe843ef[_0x7020f8];return _0x1509fe;},a22_0x7020(_0xdd12d8,_0x313aad);}function a22_0xe843(){const _0x4a51fb=['Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','request','body','13276230zHhheR','GET','log','application/json','4669518UWsMnP','exports','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','623632oKJAUx','/proxy\x20call:\x20getToken:\x20','4949568JGLGCo','split','globalBearerAutenticationToken','../CADViewer_config.json','Authorization\x20token\x20is\x20required\x20or\x20incorrect','headers','Bearer','{\x27status:\x20\x27','post','status','/proxy\x20call:','Authorization\x20token\x20is\x20applied','url','2046syuaVE','authorization','send','872IakINs','197aBXnVT','proxyUrl\x20before\x20getResponse():\x20','9JqXOZQ','node-fetch','3570sCgLwv','https','json','globalBearerAutentication','Server\x20error:','1644990loEVgC'];a22_0xe843=function(){return _0x4a51fb;};return a22_0xe843();}(function(_0x21ad5d,_0x3c116c){const _0x1bfd95=a22_0x7020,_0x453770=_0x21ad5d();while(!![]){try{const _0x1e4736=parseInt(_0x1bfd95(0x13d))/0x1*(parseInt(_0x1bfd95(0x139))/0x2)+-parseInt(_0x1bfd95(0x146))/0x3+parseInt(_0x1bfd95(0x13c))/0x4*(-parseInt(_0x1bfd95(0x141))/0x5)+-parseInt(_0x1bfd95(0x12c))/0x6+parseInt(_0x1bfd95(0x127))/0x7+parseInt(_0x1bfd95(0x12a))/0x8*(-parseInt(_0x1bfd95(0x13f))/0x9)+parseInt(_0x1bfd95(0x14a))/0xa;if(_0x1e4736===_0x3c116c)break;else _0x453770['push'](_0x453770['shift']());}catch(_0x1aaf75){_0x453770['push'](_0x453770['shift']());}}}(a22_0xe843,0x8fe34));const config=require(a22_0x4098f6(0x12f)),fetch=require(a22_0x4098f6(0x140)),express=require('express'),router=express['Router'](),https=require(a22_0x4098f6(0x142)),{get}=require(a22_0x4098f6(0x148));router[a22_0x4098f6(0x134)]('/proxy',async(_0x55ec7c,_0xdb8289)=>{const _0x4d3b28=a22_0x4098f6;console[_0x4d3b28(0x125)](_0x4d3b28(0x136)),console['log']({'body':_0x55ec7c[_0x4d3b28(0x149)]});var _0x8cef61=getToken(_0x55ec7c);console['log'](_0x4d3b28(0x12b)+_0x8cef61);if(!config[_0x4d3b28(0x144)])console[_0x4d3b28(0x125)](_0x4d3b28(0x147));else{console['log'](_0x4d3b28(0x137)),console[_0x4d3b28(0x125)](_0x8cef61,config[_0x4d3b28(0x12e)]);if(_0x8cef61==config[_0x4d3b28(0x12e)])console[_0x4d3b28(0x125)]('Authorization\x20token\x20is\x20OK');else{console['log'](_0x4d3b28(0x129)),_0xdb8289[_0x4d3b28(0x13b)](_0x4d3b28(0x130));return;}}try{const _0xc2c0e6=_0x55ec7c[_0x4d3b28(0x149)][_0x4d3b28(0x138)],_0x438e7c=config['globalApplicationSasToken'],_0x1cd3a9=_0xc2c0e6+_0x438e7c;console[_0x4d3b28(0x125)](_0x4d3b28(0x13e),_0x1cd3a9);const _0x4b9e4a=await getResponse(_0x1cd3a9);_0xdb8289['status'](0xc8)[_0x4d3b28(0x143)](_0x4b9e4a);}catch(_0x46097e){_0xdb8289['send'](_0x4d3b28(0x145)+_0x46097e);}});function getToken(_0x19e69a){const _0x8e6903=a22_0x4098f6;if(_0x19e69a[_0x8e6903(0x131)][_0x8e6903(0x13a)]&&_0x19e69a[_0x8e6903(0x131)][_0x8e6903(0x13a)][_0x8e6903(0x12d)]('\x20')[0x0]===_0x8e6903(0x132))return _0x19e69a['headers'][_0x8e6903(0x13a)][_0x8e6903(0x12d)]('\x20')[0x1];return null;}async function getResponse(_0xa93159){const _0x47fea7=a22_0x4098f6,_0x1648cf=await fetch(_0xa93159,{'method':_0x47fea7(0x14b),'headers':{'Accept':_0x47fea7(0x126)}});if(!_0x1648cf['ok'])return _0x47fea7(0x133)+_0x1648cf[_0x47fea7(0x135)]+'\x27}';const _0x2d3bea=await _0x1648cf[_0x47fea7(0x143)]();return console['log']('plans.js\x20-\x20get\x20response\x20JSON\x20loaded'),_0x2d3bea;}module[a22_0x4098f6(0x128)]=router;