const a22_0x538a0b=a22_0xc018;(function(_0x4a5067,_0x305e65){const _0x5edadd=a22_0xc018,_0x54914b=_0x4a5067();while(!![]){try{const _0x3f382c=parseInt(_0x5edadd(0xdf))/0x1+-parseInt(_0x5edadd(0xd0))/0x2+-parseInt(_0x5edadd(0xef))/0x3+parseInt(_0x5edadd(0xd9))/0x4*(parseInt(_0x5edadd(0xd7))/0x5)+parseInt(_0x5edadd(0xcd))/0x6*(-parseInt(_0x5edadd(0xdb))/0x7)+-parseInt(_0x5edadd(0xde))/0x8*(parseInt(_0x5edadd(0xee))/0x9)+-parseInt(_0x5edadd(0xdd))/0xa*(-parseInt(_0x5edadd(0xdc))/0xb);if(_0x3f382c===_0x305e65)break;else _0x54914b['push'](_0x54914b['shift']());}catch(_0x579753){_0x54914b['push'](_0x54914b['shift']());}}}(a22_0x52b4,0x963d9));function a22_0xc018(_0x173bfd,_0x5ad5b6){const _0x52b4fc=a22_0x52b4();return a22_0xc018=function(_0xc01874,_0x32a5e5){_0xc01874=_0xc01874-0xcd;let _0x535d5a=_0x52b4fc[_0xc01874];return _0x535d5a;},a22_0xc018(_0x173bfd,_0x5ad5b6);}const config=require(a22_0x538a0b(0xce)),fetch=require(a22_0x538a0b(0xe7)),express=require(a22_0x538a0b(0xcf)),router=express[a22_0x538a0b(0xd5)](),https=require(a22_0x538a0b(0xd6)),{get}=require('request');router[a22_0x538a0b(0xd8)]('/proxy',async(_0x470e11,_0x5c796d)=>{const _0x15bb9a=a22_0x538a0b;console[_0x15bb9a(0xd1)]('/proxy\x20call:'),console[_0x15bb9a(0xd1)]({'body':_0x470e11[_0x15bb9a(0xeb)]});var _0x29f228=getToken(_0x470e11);console[_0x15bb9a(0xd1)]('/proxy\x20call:\x20getToken:\x20'+_0x29f228);if(!config[_0x15bb9a(0xe2)])console[_0x15bb9a(0xd1)](_0x15bb9a(0xf0));else{console[_0x15bb9a(0xd1)](_0x15bb9a(0xe8)),console[_0x15bb9a(0xd1)](_0x29f228,config['globalBearerAutenticationToken']);if(_0x29f228==config['globalBearerAutenticationToken'])console[_0x15bb9a(0xd1)](_0x15bb9a(0xe1));else{console['log'](_0x15bb9a(0xe5)),_0x5c796d[_0x15bb9a(0xd4)]('Authorization\x20token\x20is\x20required\x20or\x20incorrect');return;}}try{const _0x1e0e69=_0x470e11['body'][_0x15bb9a(0xe6)],_0x158604=config['globalApplicationSasToken'],_0x360683=_0x1e0e69+_0x158604;console[_0x15bb9a(0xd1)](_0x15bb9a(0xe0),_0x360683);const _0x46ef34=await getResponse(_0x360683);_0x5c796d[_0x15bb9a(0xea)](0xc8)[_0x15bb9a(0xd3)](_0x46ef34);}catch(_0x3456d8){_0x5c796d['send'](_0x15bb9a(0xe4)+_0x3456d8);}});function a22_0x52b4(){const _0x1ae624=['exports','1395ltfjXM','3100284eGliiX','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','54tqvCiC','../CADViewer_config.json','express','626758jxQXnH','log','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','json','send','Router','https','25qfwtOX','post','877652olvSII','authorization','11123giizSh','33arOFdY','2173850qFglRA','16216mumDnX','541458NAsCdZ','proxyUrl\x20before\x20getResponse():\x20','Authorization\x20token\x20is\x20OK','globalBearerAutentication','headers','Server\x20error:','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','url','node-fetch','Authorization\x20token\x20is\x20applied','{\x27status:\x20\x27','status','body','split'];a22_0x52b4=function(){return _0x1ae624;};return a22_0x52b4();}function getToken(_0x337553){const _0x527a21=a22_0x538a0b;if(_0x337553[_0x527a21(0xe3)][_0x527a21(0xda)]&&_0x337553[_0x527a21(0xe3)][_0x527a21(0xda)][_0x527a21(0xec)]('\x20')[0x0]==='Bearer')return _0x337553['headers'][_0x527a21(0xda)]['split']('\x20')[0x1];return null;}async function getResponse(_0x45402e){const _0x5871b2=a22_0x538a0b,_0x48f456=await fetch(_0x45402e,{'method':'GET','headers':{'Accept':'application/json'}});if(!_0x48f456['ok'])return _0x5871b2(0xe9)+_0x48f456[_0x5871b2(0xea)]+'\x27}';const _0x73d5a8=await _0x48f456[_0x5871b2(0xd3)]();return console[_0x5871b2(0xd1)](_0x5871b2(0xd2)),_0x73d5a8;}module[a22_0x538a0b(0xed)]=router;