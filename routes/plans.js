const a23_0x1938f2=a23_0x41f6;(function(_0x5b8f7d,_0x3ceb30){const _0x51de7a=a23_0x41f6,_0xaae6f4=_0x5b8f7d();while(!![]){try{const _0x264d8c=-parseInt(_0x51de7a(0x184))/0x1+-parseInt(_0x51de7a(0x17b))/0x2*(-parseInt(_0x51de7a(0x18e))/0x3)+-parseInt(_0x51de7a(0x18b))/0x4+parseInt(_0x51de7a(0x182))/0x5+-parseInt(_0x51de7a(0x185))/0x6*(-parseInt(_0x51de7a(0x174))/0x7)+-parseInt(_0x51de7a(0x17f))/0x8+-parseInt(_0x51de7a(0x193))/0x9;if(_0x264d8c===_0x3ceb30)break;else _0xaae6f4['push'](_0xaae6f4['shift']());}catch(_0x38277a){_0xaae6f4['push'](_0xaae6f4['shift']());}}}(a23_0xca58,0x45ef8));function a23_0x41f6(_0x195e1e,_0x22f939){const _0xca5851=a23_0xca58();return a23_0x41f6=function(_0x41f6ec,_0x5bc021){_0x41f6ec=_0x41f6ec-0x174;let _0xaec99c=_0xca5851[_0x41f6ec];return _0xaec99c;},a23_0x41f6(_0x195e1e,_0x22f939);}const config=require('../CADViewer_config.json'),fetch=require('node-fetch'),express=require(a23_0x1938f2(0x175)),router=express['Router'](),https=require(a23_0x1938f2(0x17d)),{get}=require(a23_0x1938f2(0x195));router[a23_0x1938f2(0x179)](a23_0x1938f2(0x190),async(_0x15fe4b,_0x413e73)=>{const _0x325300=a23_0x1938f2;console[_0x325300(0x181)]('/proxy\x20call:'),console[_0x325300(0x181)]({'body':_0x15fe4b['body']});var _0x23923e=getToken(_0x15fe4b);console[_0x325300(0x181)](_0x325300(0x17c)+_0x23923e);if(!config['globalBearerAutentication'])console['log'](_0x325300(0x191));else{console[_0x325300(0x181)](_0x325300(0x192)),console['log'](_0x23923e,config[_0x325300(0x183)]);if(_0x23923e==config[_0x325300(0x183)])console[_0x325300(0x181)]('Authorization\x20token\x20is\x20OK');else{console[_0x325300(0x181)](_0x325300(0x18a)),_0x413e73[_0x325300(0x187)](_0x325300(0x18d));return;}}try{const _0x15d83a=_0x15fe4b[_0x325300(0x180)]['url'],_0x1053c5=config['globalApplicationSasToken'],_0x5f53a6=_0x15d83a+_0x1053c5;console['log'](_0x325300(0x17e),_0x5f53a6);const _0x21e25f=await getResponse(_0x5f53a6);_0x413e73['status'](0xc8)[_0x325300(0x176)](_0x21e25f);}catch(_0x49d783){_0x413e73[_0x325300(0x187)](_0x325300(0x189)+_0x49d783);}});function getToken(_0x1df836){const _0x420766=a23_0x1938f2;if(_0x1df836[_0x420766(0x17a)][_0x420766(0x18c)]&&_0x1df836[_0x420766(0x17a)][_0x420766(0x18c)][_0x420766(0x188)]('\x20')[0x0]==='Bearer')return _0x1df836[_0x420766(0x17a)][_0x420766(0x18c)][_0x420766(0x188)]('\x20')[0x1];return null;}async function getResponse(_0x4fa33a){const _0x83aa83=a23_0x1938f2,_0x58bcd8=await fetch(_0x4fa33a,{'method':_0x83aa83(0x186),'headers':{'Accept':_0x83aa83(0x194)}});if(!_0x58bcd8['ok'])return'{\x27status:\x20\x27'+_0x58bcd8[_0x83aa83(0x18f)]+'\x27}';const _0x9c99e6=await _0x58bcd8[_0x83aa83(0x176)]();return console[_0x83aa83(0x181)](_0x83aa83(0x178)),_0x9c99e6;}function a23_0xca58(){const _0x3ace46=['Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','1625108kBVCeq','authorization','Authorization\x20token\x20is\x20required\x20or\x20incorrect','48qxcvJN','status','/proxy','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','Authorization\x20token\x20is\x20applied','279477WVFcnx','application/json','request','2989XsWRtp','express','json','exports','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','post','headers','69304SLfNWQ','/proxy\x20call:\x20getToken:\x20','https','proxyUrl\x20before\x20getResponse():\x20','2146880SWVAxQ','body','log','2758225LonELP','globalBearerAutenticationToken','362872SngtkK','3498ykfzwI','GET','send','split','Server\x20error:'];a23_0xca58=function(){return _0x3ace46;};return a23_0xca58();}module[a23_0x1938f2(0x177)]=router;