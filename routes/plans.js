const a22_0x18a8bd=a22_0x255c;function a22_0x255c(_0x1ac1f5,_0x160f61){const _0x297eca=a22_0x297e();return a22_0x255c=function(_0x255c71,_0x4662b1){_0x255c71=_0x255c71-0x1b3;let _0x50af78=_0x297eca[_0x255c71];return _0x50af78;},a22_0x255c(_0x1ac1f5,_0x160f61);}(function(_0x248e55,_0xfec299){const _0x39556e=a22_0x255c,_0xc75640=_0x248e55();while(!![]){try{const _0x5ee896=-parseInt(_0x39556e(0x1be))/0x1+-parseInt(_0x39556e(0x1c2))/0x2+parseInt(_0x39556e(0x1d6))/0x3+parseInt(_0x39556e(0x1d8))/0x4+-parseInt(_0x39556e(0x1c6))/0x5+parseInt(_0x39556e(0x1c0))/0x6*(-parseInt(_0x39556e(0x1ba))/0x7)+parseInt(_0x39556e(0x1b4))/0x8;if(_0x5ee896===_0xfec299)break;else _0xc75640['push'](_0xc75640['shift']());}catch(_0x1a4be6){_0xc75640['push'](_0xc75640['shift']());}}}(a22_0x297e,0xf3f08));function a22_0x297e(){const _0xaeb835=['Router','exports','https','post','status','request','3211074nyfkOS','json','5070632nbjNJq','split','18261824uVqLnm','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','headers','Authorization\x20token\x20is\x20required\x20or\x20incorrect','Server\x20error:','globalBearerAutenticationToken','84lKDKik','log','Bearer','Authorization\x20token\x20is\x20applied','139775EqWFQP','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','530142aiYDDs','send','1307980KOVNTy','url','../CADViewer_config.json','proxyUrl\x20before\x20getResponse():\x20','8837595nUeGTC','node-fetch','express','/proxy\x20call:','/proxy\x20call:\x20getToken:\x20','globalApplicationSasToken','authorization','application/json','body','Authorization\x20token\x20is\x20OK'];a22_0x297e=function(){return _0xaeb835;};return a22_0x297e();}const config=require(a22_0x18a8bd(0x1c4)),fetch=require(a22_0x18a8bd(0x1c7)),express=require(a22_0x18a8bd(0x1c8)),router=express[a22_0x18a8bd(0x1d0)](),https=require(a22_0x18a8bd(0x1d2)),{get}=require(a22_0x18a8bd(0x1d5));router[a22_0x18a8bd(0x1d3)]('/proxy',async(_0xe6db04,_0x16d3a3)=>{const _0x2f7b89=a22_0x18a8bd;console[_0x2f7b89(0x1bb)](_0x2f7b89(0x1c9)),console['log']({'body':_0xe6db04[_0x2f7b89(0x1ce)]});var _0x2f5f71=getToken(_0xe6db04);console['log'](_0x2f7b89(0x1ca)+_0x2f5f71);if(!config['globalBearerAutentication'])console[_0x2f7b89(0x1bb)](_0x2f7b89(0x1b5));else{console['log'](_0x2f7b89(0x1bd)),console[_0x2f7b89(0x1bb)](_0x2f5f71,config[_0x2f7b89(0x1b9)]);if(_0x2f5f71==config['globalBearerAutenticationToken'])console[_0x2f7b89(0x1bb)](_0x2f7b89(0x1cf));else{console[_0x2f7b89(0x1bb)]('Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'),_0x16d3a3[_0x2f7b89(0x1c1)](_0x2f7b89(0x1b7));return;}}try{const _0x5c2c25=_0xe6db04[_0x2f7b89(0x1ce)][_0x2f7b89(0x1c3)],_0x44d2be=config[_0x2f7b89(0x1cb)],_0x437e41=_0x5c2c25+_0x44d2be;console[_0x2f7b89(0x1bb)](_0x2f7b89(0x1c5),_0x437e41);const _0x115cf2=await getResponse(_0x437e41);_0x16d3a3[_0x2f7b89(0x1d4)](0xc8)[_0x2f7b89(0x1d7)](_0x115cf2);}catch(_0x4c1bd8){_0x16d3a3[_0x2f7b89(0x1c1)](_0x2f7b89(0x1b8)+_0x4c1bd8);}});function getToken(_0x401174){const _0x5a012e=a22_0x18a8bd;if(_0x401174[_0x5a012e(0x1b6)][_0x5a012e(0x1cc)]&&_0x401174['headers']['authorization']['split']('\x20')[0x0]===_0x5a012e(0x1bc))return _0x401174[_0x5a012e(0x1b6)][_0x5a012e(0x1cc)][_0x5a012e(0x1b3)]('\x20')[0x1];return null;}async function getResponse(_0x44da8e){const _0x57b1fc=a22_0x18a8bd,_0x2287ac=await fetch(_0x44da8e,{'method':'GET','headers':{'Accept':_0x57b1fc(0x1cd)}});if(!_0x2287ac['ok'])return'{\x27status:\x20\x27'+_0x2287ac['status']+'\x27}';const _0x2f0f55=await _0x2287ac[_0x57b1fc(0x1d7)]();return console[_0x57b1fc(0x1bb)](_0x57b1fc(0x1bf)),_0x2f0f55;}module[a22_0x18a8bd(0x1d1)]=router;