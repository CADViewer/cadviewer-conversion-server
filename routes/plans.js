const a23_0x31e072=a23_0x3304;(function(_0x28de9d,_0x442cbf){const _0x1badf6=a23_0x3304,_0x23c932=_0x28de9d();while(!![]){try{const _0x5b1707=-parseInt(_0x1badf6(0x177))/0x1*(-parseInt(_0x1badf6(0x167))/0x2)+-parseInt(_0x1badf6(0x166))/0x3+parseInt(_0x1badf6(0x16c))/0x4*(parseInt(_0x1badf6(0x179))/0x5)+-parseInt(_0x1badf6(0x17b))/0x6+parseInt(_0x1badf6(0x170))/0x7*(parseInt(_0x1badf6(0x178))/0x8)+parseInt(_0x1badf6(0x17a))/0x9+-parseInt(_0x1badf6(0x171))/0xa;if(_0x5b1707===_0x442cbf)break;else _0x23c932['push'](_0x23c932['shift']());}catch(_0x2d371f){_0x23c932['push'](_0x23c932['shift']());}}}(a23_0x34a6,0x9026f));const config=require(a23_0x31e072(0x164)),fetch=require(a23_0x31e072(0x176)),express=require(a23_0x31e072(0x174)),router=express['Router'](),https=require(a23_0x31e072(0x15e)),{get}=require(a23_0x31e072(0x165));router[a23_0x31e072(0x16a)]('/proxy',async(_0x553246,_0x3526d7)=>{const _0x529674=a23_0x31e072;console[_0x529674(0x16b)]('/proxy\x20call:'),console[_0x529674(0x16b)]({'body':_0x553246[_0x529674(0x15a)]});var _0x3a3dd4=getToken(_0x553246);console[_0x529674(0x16b)](_0x529674(0x161)+_0x3a3dd4);if(!config[_0x529674(0x169)])console[_0x529674(0x16b)](_0x529674(0x160));else{console[_0x529674(0x16b)](_0x529674(0x16e)),console[_0x529674(0x16b)](_0x3a3dd4,config[_0x529674(0x175)]);if(_0x3a3dd4==config[_0x529674(0x175)])console[_0x529674(0x16b)]('Authorization\x20token\x20is\x20OK');else{console[_0x529674(0x16b)](_0x529674(0x15c)),_0x3526d7[_0x529674(0x17d)](_0x529674(0x162));return;}}try{const _0x1fafda=_0x553246['body'][_0x529674(0x17c)],_0x2e2f03=config['globalApplicationSasToken'],_0x112df3=_0x1fafda+_0x2e2f03;console[_0x529674(0x16b)]('proxyUrl\x20before\x20getResponse():\x20',_0x112df3);const _0xebdccc=await getResponse(_0x112df3);_0x3526d7[_0x529674(0x16d)](0xc8)[_0x529674(0x173)](_0xebdccc);}catch(_0x256ffa){_0x3526d7[_0x529674(0x17d)]('Server\x20error:'+_0x256ffa);}});function a23_0x3304(_0x4624b3,_0x316c7f){const _0x34a64f=a23_0x34a6();return a23_0x3304=function(_0x330400,_0x353bce){_0x330400=_0x330400-0x15a;let _0x2bc433=_0x34a64f[_0x330400];return _0x2bc433;},a23_0x3304(_0x4624b3,_0x316c7f);}function a23_0x34a6(){const _0x11b962=['status','Authorization\x20token\x20is\x20applied','{\x27status:\x20\x27','336vrPEsk','27750gucImO','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','json','express','globalBearerAutenticationToken','node-fetch','57599dKVAZa','40736hoDlHI','10zrMgcy','5335785hdkuPJ','732108iHMGTw','url','send','body','split','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','headers','https','application/json','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','/proxy\x20call:\x20getToken:\x20','Authorization\x20token\x20is\x20required\x20or\x20incorrect','GET','../CADViewer_config.json','request','2813274GXvfig','18kRjDtw','authorization','globalBearerAutentication','post','log','594652SYJLXF'];a23_0x34a6=function(){return _0x11b962;};return a23_0x34a6();}function getToken(_0x567750){const _0x58ee7d=a23_0x31e072;if(_0x567750['headers'][_0x58ee7d(0x168)]&&_0x567750['headers'][_0x58ee7d(0x168)][_0x58ee7d(0x15b)]('\x20')[0x0]==='Bearer')return _0x567750[_0x58ee7d(0x15d)][_0x58ee7d(0x168)]['split']('\x20')[0x1];return null;}async function getResponse(_0x397978){const _0x2b8657=a23_0x31e072,_0x214a5d=await fetch(_0x397978,{'method':_0x2b8657(0x163),'headers':{'Accept':_0x2b8657(0x15f)}});if(!_0x214a5d['ok'])return _0x2b8657(0x16f)+_0x214a5d[_0x2b8657(0x16d)]+'\x27}';const _0x41aade=await _0x214a5d[_0x2b8657(0x173)]();return console['log'](_0x2b8657(0x172)),_0x41aade;}module['exports']=router;