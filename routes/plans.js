const a22_0x63ab94=a22_0x2297;(function(_0x410dd0,_0x3b0d6a){const _0x2fbe6a=a22_0x2297,_0x3bac0f=_0x410dd0();while(!![]){try{const _0x33d35a=-parseInt(_0x2fbe6a(0xed))/0x1+-parseInt(_0x2fbe6a(0xf0))/0x2+-parseInt(_0x2fbe6a(0xf2))/0x3+parseInt(_0x2fbe6a(0x106))/0x4+-parseInt(_0x2fbe6a(0xf1))/0x5+parseInt(_0x2fbe6a(0x10a))/0x6*(-parseInt(_0x2fbe6a(0xf7))/0x7)+parseInt(_0x2fbe6a(0xff))/0x8;if(_0x33d35a===_0x3b0d6a)break;else _0x3bac0f['push'](_0x3bac0f['shift']());}catch(_0x5ca488){_0x3bac0f['push'](_0x3bac0f['shift']());}}}(a22_0x5cd2,0x42d24));function a22_0x2297(_0x3a71be,_0xb325c){const _0x5cd2c0=a22_0x5cd2();return a22_0x2297=function(_0x2297f1,_0x15afec){_0x2297f1=_0x2297f1-0xed;let _0x3534f0=_0x5cd2c0[_0x2297f1];return _0x3534f0;},a22_0x2297(_0x3a71be,_0xb325c);}const config=require(a22_0x63ab94(0xf5)),fetch=require(a22_0x63ab94(0x103)),express=require('express'),router=express['Router'](),https=require(a22_0x63ab94(0xf9)),{get}=require(a22_0x63ab94(0x104));router['post'](a22_0x63ab94(0xfd),async(_0x3cb7d4,_0x1fab01)=>{const _0x194965=a22_0x63ab94;console['log'](_0x194965(0x100)),console[_0x194965(0x10d)]({'body':_0x3cb7d4['body']});var _0x4cfd02=getToken(_0x3cb7d4);console[_0x194965(0x10d)]('/proxy\x20call:\x20getToken:\x20'+_0x4cfd02);if(!config[_0x194965(0xfb)])console[_0x194965(0x10d)](_0x194965(0xf4));else{console[_0x194965(0x10d)]('Authorization\x20token\x20is\x20applied'),console[_0x194965(0x10d)](_0x4cfd02,config['globalBearerAutenticationToken']);if(_0x4cfd02==config[_0x194965(0x102)])console[_0x194965(0x10d)](_0x194965(0x105));else{console[_0x194965(0x10d)](_0x194965(0x109)),_0x1fab01[_0x194965(0xf6)](_0x194965(0xf3));return;}}try{const _0x369bad=_0x3cb7d4[_0x194965(0xfc)][_0x194965(0xef)],_0x3959f2=config['globalApplicationSasToken'],_0x390207=_0x369bad+_0x3959f2;console[_0x194965(0x10d)]('proxyUrl\x20before\x20getResponse():\x20',_0x390207);const _0x5af673=await getResponse(_0x390207);_0x1fab01['status'](0xc8)['json'](_0x5af673);}catch(_0x399e0b){_0x1fab01[_0x194965(0xf6)](_0x194965(0xfe)+_0x399e0b);}});function a22_0x5cd2(){const _0x5198bf=['globalBearerAutenticationToken','node-fetch','request','Authorization\x20token\x20is\x20OK','2172492pQayTt','Bearer','authorization','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','48uCqwQl','headers','status','log','112092PKbUqO','json','url','314958DQngOM','1089775aEfaNR','1543734pVVJKc','Authorization\x20token\x20is\x20required\x20or\x20incorrect','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','../CADViewer_config.json','send','457037MNCjwt','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','https','GET','globalBearerAutentication','body','/proxy','Server\x20error:','10040072GNEpRr','/proxy\x20call:','split'];a22_0x5cd2=function(){return _0x5198bf;};return a22_0x5cd2();}function getToken(_0x48c480){const _0x39ffed=a22_0x63ab94;if(_0x48c480[_0x39ffed(0x10b)][_0x39ffed(0x108)]&&_0x48c480['headers'][_0x39ffed(0x108)][_0x39ffed(0x101)]('\x20')[0x0]===_0x39ffed(0x107))return _0x48c480[_0x39ffed(0x10b)][_0x39ffed(0x108)][_0x39ffed(0x101)]('\x20')[0x1];return null;}async function getResponse(_0x15d57e){const _0x3e320d=a22_0x63ab94,_0x1e560c=await fetch(_0x15d57e,{'method':_0x3e320d(0xfa),'headers':{'Accept':'application/json'}});if(!_0x1e560c['ok'])return'{\x27status:\x20\x27'+_0x1e560c[_0x3e320d(0x10c)]+'\x27}';const _0x387a44=await _0x1e560c[_0x3e320d(0xee)]();return console[_0x3e320d(0x10d)](_0x3e320d(0xf8)),_0x387a44;}module['exports']=router;