const a22_0x4a55a4=a22_0x3426;(function(_0x3210be,_0x5df6a0){const _0x58ae50=a22_0x3426,_0x1a2b99=_0x3210be();while(!![]){try{const _0x4849bd=-parseInt(_0x58ae50(0x13b))/0x1*(-parseInt(_0x58ae50(0x128))/0x2)+-parseInt(_0x58ae50(0x127))/0x3*(parseInt(_0x58ae50(0x14c))/0x4)+parseInt(_0x58ae50(0x139))/0x5+-parseInt(_0x58ae50(0x14d))/0x6*(parseInt(_0x58ae50(0x12d))/0x7)+-parseInt(_0x58ae50(0x13d))/0x8*(parseInt(_0x58ae50(0x132))/0x9)+-parseInt(_0x58ae50(0x137))/0xa*(parseInt(_0x58ae50(0x12b))/0xb)+-parseInt(_0x58ae50(0x138))/0xc*(-parseInt(_0x58ae50(0x144))/0xd);if(_0x4849bd===_0x5df6a0)break;else _0x1a2b99['push'](_0x1a2b99['shift']());}catch(_0x31cfca){_0x1a2b99['push'](_0x1a2b99['shift']());}}}(a22_0x266e,0xbb778));function a22_0x266e(){const _0x48778e=['8864739lBGYCD','globalApplicationSasToken','body','Server\x20error:','application/json','10ZfUMoE','21356976NMiidP','1970350CmOjZW','/proxy\x20call:','33699iocMEC','globalBearerAutentication','8WhIMRm','GET','url','../CADViewer_config.json','status','Authorization\x20token\x20is\x20OK','Router','26jRLbQO','request','json','https','authorization','globalBearerAutenticationToken','Bearer','/proxy\x20call:\x20getToken:\x20','1288tctNso','6NtySFx','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','8421rovGrf','18WeirLt','exports','split','8273507AoUOeY','post','5936217rPmPPf','log','headers','Authorization\x20token\x20is\x20required\x20or\x20incorrect','send'];a22_0x266e=function(){return _0x48778e;};return a22_0x266e();}function a22_0x3426(_0x14bf68,_0x8d1140){const _0x266eb9=a22_0x266e();return a22_0x3426=function(_0x34269d,_0x38a527){_0x34269d=_0x34269d-0x127;let _0x567bc6=_0x266eb9[_0x34269d];return _0x567bc6;},a22_0x3426(_0x14bf68,_0x8d1140);}const config=require(a22_0x4a55a4(0x140)),fetch=require('node-fetch'),express=require('express'),router=express[a22_0x4a55a4(0x143)](),https=require(a22_0x4a55a4(0x147)),{get}=require(a22_0x4a55a4(0x145));router[a22_0x4a55a4(0x12c)]('/proxy',async(_0x3be367,_0x537039)=>{const _0x29f01f=a22_0x4a55a4;console['log'](_0x29f01f(0x13a)),console[_0x29f01f(0x12e)]({'body':_0x3be367['body']});var _0x2af699=getToken(_0x3be367);console[_0x29f01f(0x12e)](_0x29f01f(0x14b)+_0x2af699);if(!config[_0x29f01f(0x13c)])console[_0x29f01f(0x12e)](_0x29f01f(0x14e));else{console['log']('Authorization\x20token\x20is\x20applied'),console[_0x29f01f(0x12e)](_0x2af699,config[_0x29f01f(0x149)]);if(_0x2af699==config[_0x29f01f(0x149)])console[_0x29f01f(0x12e)](_0x29f01f(0x142));else{console[_0x29f01f(0x12e)]('Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'),_0x537039['send'](_0x29f01f(0x130));return;}}try{const _0x1f230a=_0x3be367[_0x29f01f(0x134)][_0x29f01f(0x13f)],_0x5080b8=config[_0x29f01f(0x133)],_0x23516e=_0x1f230a+_0x5080b8;console[_0x29f01f(0x12e)]('proxyUrl\x20before\x20getResponse():\x20',_0x23516e);const _0x45c3cd=await getResponse(_0x23516e);_0x537039['status'](0xc8)[_0x29f01f(0x146)](_0x45c3cd);}catch(_0x14393d){_0x537039[_0x29f01f(0x131)](_0x29f01f(0x135)+_0x14393d);}});function getToken(_0x5c5f19){const _0x4dd9c4=a22_0x4a55a4;if(_0x5c5f19[_0x4dd9c4(0x12f)][_0x4dd9c4(0x148)]&&_0x5c5f19['headers'][_0x4dd9c4(0x148)]['split']('\x20')[0x0]===_0x4dd9c4(0x14a))return _0x5c5f19[_0x4dd9c4(0x12f)][_0x4dd9c4(0x148)][_0x4dd9c4(0x12a)]('\x20')[0x1];return null;}async function getResponse(_0x48675e){const _0xa9f9b=a22_0x4a55a4,_0x208bc5=await fetch(_0x48675e,{'method':_0xa9f9b(0x13e),'headers':{'Accept':_0xa9f9b(0x136)}});if(!_0x208bc5['ok'])return'{\x27status:\x20\x27'+_0x208bc5[_0xa9f9b(0x141)]+'\x27}';const _0x82ccd3=await _0x208bc5[_0xa9f9b(0x146)]();return console['log']('plans.js\x20-\x20get\x20response\x20JSON\x20loaded'),_0x82ccd3;}module[a22_0x4a55a4(0x129)]=router;