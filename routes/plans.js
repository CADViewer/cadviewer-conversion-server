const a22_0x3e754e=a22_0x28ae;(function(_0x1a3baa,_0x5c2ade){const _0x5e48a9=a22_0x28ae,_0xc62e0f=_0x1a3baa();while(!![]){try{const _0xc8d209=-parseInt(_0x5e48a9(0x1ef))/0x1+-parseInt(_0x5e48a9(0x20d))/0x2+-parseInt(_0x5e48a9(0x1fd))/0x3*(-parseInt(_0x5e48a9(0x1ff))/0x4)+-parseInt(_0x5e48a9(0x1ec))/0x5*(parseInt(_0x5e48a9(0x1ee))/0x6)+-parseInt(_0x5e48a9(0x1f5))/0x7+-parseInt(_0x5e48a9(0x1f1))/0x8+-parseInt(_0x5e48a9(0x1fe))/0x9*(-parseInt(_0x5e48a9(0x200))/0xa);if(_0xc8d209===_0x5c2ade)break;else _0xc62e0f['push'](_0xc62e0f['shift']());}catch(_0x5db67e){_0xc62e0f['push'](_0xc62e0f['shift']());}}}(a22_0x8e50,0x7d6ca));const config=require(a22_0x3e754e(0x211)),fetch=require(a22_0x3e754e(0x1ed)),express=require(a22_0x3e754e(0x1eb)),router=express[a22_0x3e754e(0x20e)](),https=require(a22_0x3e754e(0x1f6)),{get}=require(a22_0x3e754e(0x202));router[a22_0x3e754e(0x1f4)](a22_0x3e754e(0x1f0),async(_0x4fe927,_0x3fc691)=>{const _0x469980=a22_0x3e754e;console[_0x469980(0x1f7)](_0x469980(0x1fc)),console[_0x469980(0x1f7)]({'body':_0x4fe927['body']});var _0x3611b4=getToken(_0x4fe927);console[_0x469980(0x1f7)]('/proxy\x20call:\x20getToken:\x20'+_0x3611b4);if(!config[_0x469980(0x208)])console['log'](_0x469980(0x1f9));else{console[_0x469980(0x1f7)](_0x469980(0x205)),console[_0x469980(0x1f7)](_0x3611b4,config[_0x469980(0x1f8)]);if(_0x3611b4==config[_0x469980(0x1f8)])console['log'](_0x469980(0x207));else{console[_0x469980(0x1f7)]('Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'),_0x3fc691['send'](_0x469980(0x20c));return;}}try{const _0x246db6=_0x4fe927[_0x469980(0x20a)][_0x469980(0x20f)],_0x50e3e9=config['globalApplicationSasToken'],_0x33df40=_0x246db6+_0x50e3e9;console['log'](_0x469980(0x209),_0x33df40);const _0x133c90=await getResponse(_0x33df40);_0x3fc691[_0x469980(0x1ea)](0xc8)[_0x469980(0x204)](_0x133c90);}catch(_0x3e3750){_0x3fc691[_0x469980(0x1fa)]('Server\x20error:'+_0x3e3750);}});function getToken(_0x5dd48c){const _0x3d1652=a22_0x3e754e;if(_0x5dd48c['headers']['authorization']&&_0x5dd48c[_0x3d1652(0x206)][_0x3d1652(0x210)][_0x3d1652(0x203)]('\x20')[0x0]===_0x3d1652(0x1f2))return _0x5dd48c[_0x3d1652(0x206)]['authorization'][_0x3d1652(0x203)]('\x20')[0x1];return null;}async function getResponse(_0x392448){const _0x4d5216=a22_0x3e754e,_0x1fffe7=await fetch(_0x392448,{'method':_0x4d5216(0x1fb),'headers':{'Accept':_0x4d5216(0x20b)}});if(!_0x1fffe7['ok'])return _0x4d5216(0x1f3)+_0x1fffe7['status']+'\x27}';const _0x3d8456=await _0x1fffe7['json']();return console[_0x4d5216(0x1f7)](_0x4d5216(0x212)),_0x3d8456;}function a22_0x28ae(_0x460baa,_0x51a9e6){const _0x8e5036=a22_0x8e50();return a22_0x28ae=function(_0x28ae73,_0x3a9d99){_0x28ae73=_0x28ae73-0x1ea;let _0x50917d=_0x8e5036[_0x28ae73];return _0x50917d;},a22_0x28ae(_0x460baa,_0x51a9e6);}module[a22_0x3e754e(0x201)]=router;function a22_0x8e50(){const _0x6ea58=['Authorization\x20token\x20is\x20required\x20or\x20incorrect','1774322tZaLXH','Router','url','authorization','../CADViewer_config.json','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','status','express','7810FFKDFH','node-fetch','3678cPquLE','162305slyMRU','/proxy','7362336flDbsc','Bearer','{\x27status:\x20\x27','post','1529122EiCSWX','https','log','globalBearerAutenticationToken','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','send','GET','/proxy\x20call:','2814XqcjNo','36126gBDMBX','816Omyogx','8640eVqDIu','exports','request','split','json','Authorization\x20token\x20is\x20applied','headers','Authorization\x20token\x20is\x20OK','globalBearerAutentication','proxyUrl\x20before\x20getResponse():\x20','body','application/json'];a22_0x8e50=function(){return _0x6ea58;};return a22_0x8e50();}