const a22_0x5a3ab0=a22_0x52ee;function a22_0x318b(){const _0x10cdd9=['/proxy','node-fetch','Server\x20error:','../CADViewer_config.json','application/json','body','split','authorization','34164jzghcK','3928bWhwbz','request','Bearer','3478656fLxTlk','1133585JHvOXs','2858661EPbsfm','globalApplicationSasToken','json','/proxy\x20call:','/proxy\x20call:\x20getToken:\x20','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','1976238dLydVP','Authorization\x20token\x20is\x20OK','GET','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','log','status','post','url','14fkRUPM','express','headers','send','1915625VJtuWN','globalBearerAutenticationToken','https','863224WBDVlu'];a22_0x318b=function(){return _0x10cdd9;};return a22_0x318b();}function a22_0x52ee(_0x3c8541,_0x4e798b){const _0x318b1a=a22_0x318b();return a22_0x52ee=function(_0x52ee9e,_0x4381ec){_0x52ee9e=_0x52ee9e-0x149;let _0x2dec55=_0x318b1a[_0x52ee9e];return _0x2dec55;},a22_0x52ee(_0x3c8541,_0x4e798b);}(function(_0x45930f,_0x75f5b){const _0x50c006=a22_0x52ee,_0x149cdd=_0x45930f();while(!![]){try{const _0x3117fe=parseInt(_0x50c006(0x15c))/0x1+parseInt(_0x50c006(0x163))/0x2+-parseInt(_0x50c006(0x15d))/0x3+-parseInt(_0x50c006(0x14e))/0x4+parseInt(_0x50c006(0x14b))/0x5+parseInt(_0x50c006(0x15b))/0x6*(parseInt(_0x50c006(0x16b))/0x7)+-parseInt(_0x50c006(0x158))/0x8*(parseInt(_0x50c006(0x157))/0x9);if(_0x3117fe===_0x75f5b)break;else _0x149cdd['push'](_0x149cdd['shift']());}catch(_0x2efce3){_0x149cdd['push'](_0x149cdd['shift']());}}}(a22_0x318b,0x9a42c));const config=require(a22_0x5a3ab0(0x152)),fetch=require(a22_0x5a3ab0(0x150)),express=require(a22_0x5a3ab0(0x16c)),router=express['Router'](),https=require(a22_0x5a3ab0(0x14d)),{get}=require(a22_0x5a3ab0(0x159));router[a22_0x5a3ab0(0x169)](a22_0x5a3ab0(0x14f),async(_0xb359ba,_0xaf384)=>{const _0x4746db=a22_0x5a3ab0;console['log'](_0x4746db(0x160)),console['log']({'body':_0xb359ba['body']});var _0x32dc44=getToken(_0xb359ba);console[_0x4746db(0x167)](_0x4746db(0x161)+_0x32dc44);if(!config['globalBearerAutentication'])console[_0x4746db(0x167)](_0x4746db(0x162));else{console[_0x4746db(0x167)]('Authorization\x20token\x20is\x20applied'),console['log'](_0x32dc44,config[_0x4746db(0x14c)]);if(_0x32dc44==config[_0x4746db(0x14c)])console['log'](_0x4746db(0x164));else{console[_0x4746db(0x167)]('Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'),_0xaf384[_0x4746db(0x14a)]('Authorization\x20token\x20is\x20required\x20or\x20incorrect');return;}}try{const _0x22ac46=_0xb359ba[_0x4746db(0x154)][_0x4746db(0x16a)],_0x1194d2=config[_0x4746db(0x15e)],_0x529acb=_0x22ac46+_0x1194d2;console[_0x4746db(0x167)]('proxyUrl\x20before\x20getResponse():\x20',_0x529acb);const _0x53ba73=await getResponse(_0x529acb);_0xaf384[_0x4746db(0x168)](0xc8)[_0x4746db(0x15f)](_0x53ba73);}catch(_0x15b7ff){_0xaf384[_0x4746db(0x14a)](_0x4746db(0x151)+_0x15b7ff);}});function getToken(_0x4ec79d){const _0x46bb91=a22_0x5a3ab0;if(_0x4ec79d['headers'][_0x46bb91(0x156)]&&_0x4ec79d[_0x46bb91(0x149)][_0x46bb91(0x156)]['split']('\x20')[0x0]===_0x46bb91(0x15a))return _0x4ec79d[_0x46bb91(0x149)][_0x46bb91(0x156)][_0x46bb91(0x155)]('\x20')[0x1];return null;}async function getResponse(_0x1b3484){const _0x4daaf7=a22_0x5a3ab0,_0x2fa66c=await fetch(_0x1b3484,{'method':_0x4daaf7(0x165),'headers':{'Accept':_0x4daaf7(0x153)}});if(!_0x2fa66c['ok'])return'{\x27status:\x20\x27'+_0x2fa66c[_0x4daaf7(0x168)]+'\x27}';const _0x397749=await _0x2fa66c[_0x4daaf7(0x15f)]();return console[_0x4daaf7(0x167)](_0x4daaf7(0x166)),_0x397749;}module['exports']=router;