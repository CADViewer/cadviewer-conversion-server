const a22_0x3cb167=a22_0x4b35;(function(_0x304a41,_0x2d83b4){const _0x556236=a22_0x4b35,_0x5e2354=_0x304a41();while(!![]){try{const _0x29740=parseInt(_0x556236(0xba))/0x1*(-parseInt(_0x556236(0xbe))/0x2)+parseInt(_0x556236(0x9e))/0x3*(-parseInt(_0x556236(0xb7))/0x4)+parseInt(_0x556236(0xbc))/0x5*(parseInt(_0x556236(0xb5))/0x6)+-parseInt(_0x556236(0xc6))/0x7+-parseInt(_0x556236(0xc7))/0x8*(parseInt(_0x556236(0xae))/0x9)+parseInt(_0x556236(0xa0))/0xa+-parseInt(_0x556236(0xa1))/0xb*(-parseInt(_0x556236(0xc3))/0xc);if(_0x29740===_0x2d83b4)break;else _0x5e2354['push'](_0x5e2354['shift']());}catch(_0x27229f){_0x5e2354['push'](_0x5e2354['shift']());}}}(a22_0x21fd,0xe3caf));const config=require(a22_0x3cb167(0xa8)),fetch=require(a22_0x3cb167(0xa9)),express=require(a22_0x3cb167(0xa4)),router=express[a22_0x3cb167(0xbb)](),https=require(a22_0x3cb167(0xac)),{get}=require(a22_0x3cb167(0xb3));function a22_0x21fd(){const _0x422517=['send','128673zOgXeY','/proxy\x20call:','application/json','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','Bearer','request','headers','2202IzAywD','split','5868pXTeaV','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','/proxy\x20call:\x20getToken:\x20','1RlRaYl','Router','19265OSlGOo','json','1227794vORxBL','log','Authorization\x20token\x20is\x20OK','globalBearerAutenticationToken','authorization','12kahnKO','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','exports','5832666tasyXz','928KrEeFP','globalBearerAutentication','body','1998gsHxvI','GET','11293700UZYimJ','27194497RlsJcC','status','proxyUrl\x20before\x20getResponse():\x20','express','post','Authorization\x20token\x20is\x20applied','Authorization\x20token\x20is\x20required\x20or\x20incorrect','../CADViewer_config.json','node-fetch','/proxy','url','https'];a22_0x21fd=function(){return _0x422517;};return a22_0x21fd();}router[a22_0x3cb167(0xa5)](a22_0x3cb167(0xaa),async(_0x77b03f,_0x39c7fd)=>{const _0x80e5ae=a22_0x3cb167;console[_0x80e5ae(0xbf)](_0x80e5ae(0xaf)),console[_0x80e5ae(0xbf)]({'body':_0x77b03f[_0x80e5ae(0x9d)]});var _0x5a8036=getToken(_0x77b03f);console['log'](_0x80e5ae(0xb9)+_0x5a8036);if(!config[_0x80e5ae(0x9c)])console[_0x80e5ae(0xbf)](_0x80e5ae(0xb1));else{console[_0x80e5ae(0xbf)](_0x80e5ae(0xa6)),console['log'](_0x5a8036,config['globalBearerAutenticationToken']);if(_0x5a8036==config[_0x80e5ae(0xc1)])console[_0x80e5ae(0xbf)](_0x80e5ae(0xc0));else{console[_0x80e5ae(0xbf)](_0x80e5ae(0xb8)),_0x39c7fd['send'](_0x80e5ae(0xa7));return;}}try{const _0x3175fa=_0x77b03f['body'][_0x80e5ae(0xab)],_0x48498e=config['globalApplicationSasToken'],_0x100c67=_0x3175fa+_0x48498e;console[_0x80e5ae(0xbf)](_0x80e5ae(0xa3),_0x100c67);const _0x533e2d=await getResponse(_0x100c67);_0x39c7fd[_0x80e5ae(0xa2)](0xc8)[_0x80e5ae(0xbd)](_0x533e2d);}catch(_0x24a242){_0x39c7fd[_0x80e5ae(0xad)]('Server\x20error:'+_0x24a242);}});function getToken(_0x5d7ee3){const _0x246baf=a22_0x3cb167;if(_0x5d7ee3[_0x246baf(0xb4)][_0x246baf(0xc2)]&&_0x5d7ee3[_0x246baf(0xb4)][_0x246baf(0xc2)][_0x246baf(0xb6)]('\x20')[0x0]===_0x246baf(0xb2))return _0x5d7ee3[_0x246baf(0xb4)]['authorization'][_0x246baf(0xb6)]('\x20')[0x1];return null;}async function getResponse(_0x62e97){const _0x557335=a22_0x3cb167,_0x1a90da=await fetch(_0x62e97,{'method':_0x557335(0x9f),'headers':{'Accept':_0x557335(0xb0)}});if(!_0x1a90da['ok'])return'{\x27status:\x20\x27'+_0x1a90da['status']+'\x27}';const _0x14398f=await _0x1a90da[_0x557335(0xbd)]();return console[_0x557335(0xbf)](_0x557335(0xc4)),_0x14398f;}function a22_0x4b35(_0x3da9ae,_0x4cad69){const _0x21fd2c=a22_0x21fd();return a22_0x4b35=function(_0x4b3568,_0x1991ec){_0x4b3568=_0x4b3568-0x9c;let _0x5d2128=_0x21fd2c[_0x4b3568];return _0x5d2128;},a22_0x4b35(_0x3da9ae,_0x4cad69);}module[a22_0x3cb167(0xc5)]=router;