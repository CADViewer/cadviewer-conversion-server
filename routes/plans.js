const a22_0x1ab2bc=a22_0x4e38;function a22_0x4e38(_0x272e9b,_0x1b42c7){const _0x5f033f=a22_0x5f03();return a22_0x4e38=function(_0x4e38b9,_0x3e3f56){_0x4e38b9=_0x4e38b9-0x68;let _0xfe7638=_0x5f033f[_0x4e38b9];return _0xfe7638;},a22_0x4e38(_0x272e9b,_0x1b42c7);}function a22_0x5f03(){const _0x489c8e=['/proxy\x20call:\x20getToken:\x20','134415sUQwGq','3ipVEBg','2wwBgjQ','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','2729629audTJy','1005590QbOjfV','globalBearerAutenticationToken','Router','status','607234voFfKD','18skxOEY','body','proxyUrl\x20before\x20getResponse():\x20','Authorization\x20token\x20is\x20OK','split','node-fetch','378832qdkLRT','2319272XLAGQE','exports','6951043udYsUI','request','log','json','authorization','24xboYzR','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','/proxy\x20call:','headers','Authorization\x20token\x20is\x20applied','Server\x20error:','https','post','../CADViewer_config.json','url','application/json','54gdpkGj','Bearer','Authorization\x20token\x20is\x20required\x20or\x20incorrect'];a22_0x5f03=function(){return _0x489c8e;};return a22_0x5f03();}(function(_0x4e73ae,_0x3efc12){const _0x15d896=a22_0x4e38,_0x8c7cb5=_0x4e73ae();while(!![]){try{const _0x3f5e56=parseInt(_0x15d896(0x81))/0x1*(-parseInt(_0x15d896(0x89))/0x2)+-parseInt(_0x15d896(0x80))/0x3*(parseInt(_0x15d896(0x69))/0x4)+-parseInt(_0x15d896(0x7f))/0x5*(-parseInt(_0x15d896(0x8a))/0x6)+-parseInt(_0x15d896(0x84))/0x7+-parseInt(_0x15d896(0x68))/0x8+parseInt(_0x15d896(0x7b))/0x9*(parseInt(_0x15d896(0x85))/0xa)+-parseInt(_0x15d896(0x6b))/0xb*(-parseInt(_0x15d896(0x70))/0xc);if(_0x3f5e56===_0x3efc12)break;else _0x8c7cb5['push'](_0x8c7cb5['shift']());}catch(_0x1b4b6c){_0x8c7cb5['push'](_0x8c7cb5['shift']());}}}(a22_0x5f03,0x4ef94));const config=require(a22_0x1ab2bc(0x78)),fetch=require(a22_0x1ab2bc(0x8f)),express=require('express'),router=express[a22_0x1ab2bc(0x87)](),https=require(a22_0x1ab2bc(0x76)),{get}=require(a22_0x1ab2bc(0x6c));router[a22_0x1ab2bc(0x77)]('/proxy',async(_0xea3216,_0x4bbc0e)=>{const _0x4d7559=a22_0x1ab2bc;console[_0x4d7559(0x6d)](_0x4d7559(0x72)),console[_0x4d7559(0x6d)]({'body':_0xea3216[_0x4d7559(0x8b)]});var _0x2644d9=getToken(_0xea3216);console[_0x4d7559(0x6d)](_0x4d7559(0x7e)+_0x2644d9);if(!config['globalBearerAutentication'])console[_0x4d7559(0x6d)](_0x4d7559(0x82));else{console['log'](_0x4d7559(0x74)),console[_0x4d7559(0x6d)](_0x2644d9,config[_0x4d7559(0x86)]);if(_0x2644d9==config[_0x4d7559(0x86)])console[_0x4d7559(0x6d)](_0x4d7559(0x8d));else{console['log'](_0x4d7559(0x71)),_0x4bbc0e['send'](_0x4d7559(0x7d));return;}}try{const _0x5c935f=_0xea3216['body'][_0x4d7559(0x79)],_0x5d8b84=config['globalApplicationSasToken'],_0x176f47=_0x5c935f+_0x5d8b84;console[_0x4d7559(0x6d)](_0x4d7559(0x8c),_0x176f47);const _0x18685a=await getResponse(_0x176f47);_0x4bbc0e['status'](0xc8)[_0x4d7559(0x6e)](_0x18685a);}catch(_0x302bb1){_0x4bbc0e['send'](_0x4d7559(0x75)+_0x302bb1);}});function getToken(_0x374b00){const _0x362a34=a22_0x1ab2bc;if(_0x374b00['headers'][_0x362a34(0x6f)]&&_0x374b00[_0x362a34(0x73)][_0x362a34(0x6f)][_0x362a34(0x8e)]('\x20')[0x0]===_0x362a34(0x7c))return _0x374b00[_0x362a34(0x73)][_0x362a34(0x6f)]['split']('\x20')[0x1];return null;}async function getResponse(_0x4597c9){const _0x3f7b14=a22_0x1ab2bc,_0x2dfe20=await fetch(_0x4597c9,{'method':'GET','headers':{'Accept':_0x3f7b14(0x7a)}});if(!_0x2dfe20['ok'])return'{\x27status:\x20\x27'+_0x2dfe20[_0x3f7b14(0x88)]+'\x27}';const _0x463b65=await _0x2dfe20[_0x3f7b14(0x6e)]();return console[_0x3f7b14(0x6d)](_0x3f7b14(0x83)),_0x463b65;}module[a22_0x1ab2bc(0x6a)]=router;