function a22_0x4b54(){const _0x5a5fcf=['1524aRQZMy','6968800ccGKRX','application/json','request','post','2322168VnkApi','Router','{\x27status:\x20\x27','log','json','headers','27150EneDGW','status','url','send','authorization','Server\x20error:','/proxy\x20call:','7nhJPkY','proxyUrl\x20before\x20getResponse():\x20','GET','globalBearerAutenticationToken','Authorization\x20token\x20is\x20required\x20or\x20incorrect','98916gyqcOD','2440sGrFCi','493742NybPUY','https','body','split','6OIKAUg','/proxy','exports','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','3627595oydFFj','2655myKNbo','node-fetch','1639HmpaQS'];a22_0x4b54=function(){return _0x5a5fcf;};return a22_0x4b54();}const a22_0x32b727=a22_0x4e78;function a22_0x4e78(_0x14ae03,_0x523dc1){const _0x4b54a3=a22_0x4b54();return a22_0x4e78=function(_0x4e78c9,_0x210b99){_0x4e78c9=_0x4e78c9-0x123;let _0x13e1e7=_0x4b54a3[_0x4e78c9];return _0x13e1e7;},a22_0x4e78(_0x14ae03,_0x523dc1);}(function(_0x4400a1,_0xc49921){const _0x45f448=a22_0x4e78,_0x41031a=_0x4400a1();while(!![]){try{const _0x4ae81b=-parseInt(_0x45f448(0x12e))/0x1+-parseInt(_0x45f448(0x12d))/0x2*(parseInt(_0x45f448(0x13a))/0x3)+-parseInt(_0x45f448(0x13f))/0x4+-parseInt(_0x45f448(0x136))/0x5*(parseInt(_0x45f448(0x132))/0x6)+-parseInt(_0x45f448(0x127))/0x7*(-parseInt(_0x45f448(0x13b))/0x8)+parseInt(_0x45f448(0x137))/0x9*(parseInt(_0x45f448(0x145))/0xa)+-parseInt(_0x45f448(0x139))/0xb*(-parseInt(_0x45f448(0x12c))/0xc);if(_0x4ae81b===_0xc49921)break;else _0x41031a['push'](_0x41031a['shift']());}catch(_0x4974a1){_0x41031a['push'](_0x41031a['shift']());}}}(a22_0x4b54,0x7559d));const config=require('../CADViewer_config.json'),fetch=require(a22_0x32b727(0x138)),express=require('express'),router=express[a22_0x32b727(0x140)](),https=require(a22_0x32b727(0x12f)),{get}=require(a22_0x32b727(0x13d));router[a22_0x32b727(0x13e)](a22_0x32b727(0x133),async(_0x38058d,_0x329272)=>{const _0x530d9c=a22_0x32b727;console[_0x530d9c(0x142)](_0x530d9c(0x126)),console['log']({'body':_0x38058d[_0x530d9c(0x130)]});var _0x2c1503=getToken(_0x38058d);console['log']('/proxy\x20call:\x20getToken:\x20'+_0x2c1503);if(!config['globalBearerAutentication'])console[_0x530d9c(0x142)](_0x530d9c(0x135));else{console['log']('Authorization\x20token\x20is\x20applied'),console[_0x530d9c(0x142)](_0x2c1503,config['globalBearerAutenticationToken']);if(_0x2c1503==config[_0x530d9c(0x12a)])console[_0x530d9c(0x142)]('Authorization\x20token\x20is\x20OK');else{console['log']('Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'),_0x329272[_0x530d9c(0x123)](_0x530d9c(0x12b));return;}}try{const _0x3666eb=_0x38058d[_0x530d9c(0x130)][_0x530d9c(0x147)],_0x29421e=config['globalApplicationSasToken'],_0x52b37c=_0x3666eb+_0x29421e;console[_0x530d9c(0x142)](_0x530d9c(0x128),_0x52b37c);const _0x24d7b1=await getResponse(_0x52b37c);_0x329272[_0x530d9c(0x146)](0xc8)[_0x530d9c(0x143)](_0x24d7b1);}catch(_0x596897){_0x329272[_0x530d9c(0x123)](_0x530d9c(0x125)+_0x596897);}});function getToken(_0x58f572){const _0x42b06f=a22_0x32b727;if(_0x58f572['headers'][_0x42b06f(0x124)]&&_0x58f572['headers']['authorization'][_0x42b06f(0x131)]('\x20')[0x0]==='Bearer')return _0x58f572[_0x42b06f(0x144)][_0x42b06f(0x124)]['split']('\x20')[0x1];return null;}async function getResponse(_0x567cfe){const _0x516626=a22_0x32b727,_0x100b02=await fetch(_0x567cfe,{'method':_0x516626(0x129),'headers':{'Accept':_0x516626(0x13c)}});if(!_0x100b02['ok'])return _0x516626(0x141)+_0x100b02[_0x516626(0x146)]+'\x27}';const _0x109e7c=await _0x100b02[_0x516626(0x143)]();return console[_0x516626(0x142)]('plans.js\x20-\x20get\x20response\x20JSON\x20loaded'),_0x109e7c;}module[a22_0x32b727(0x134)]=router;