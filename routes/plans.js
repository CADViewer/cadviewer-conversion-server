const a22_0x4aa181=a22_0x49f2;(function(_0x4e6c95,_0x1f4255){const _0x4f7ddd=a22_0x49f2,_0x6d562e=_0x4e6c95();while(!![]){try{const _0x55f53b=parseInt(_0x4f7ddd(0x1e5))/0x1+-parseInt(_0x4f7ddd(0x1d9))/0x2+parseInt(_0x4f7ddd(0x1fd))/0x3*(-parseInt(_0x4f7ddd(0x1e0))/0x4)+-parseInt(_0x4f7ddd(0x1f1))/0x5+-parseInt(_0x4f7ddd(0x1f8))/0x6*(-parseInt(_0x4f7ddd(0x1df))/0x7)+parseInt(_0x4f7ddd(0x1e3))/0x8*(-parseInt(_0x4f7ddd(0x1ed))/0x9)+-parseInt(_0x4f7ddd(0x1e8))/0xa*(-parseInt(_0x4f7ddd(0x1e4))/0xb);if(_0x55f53b===_0x1f4255)break;else _0x6d562e['push'](_0x6d562e['shift']());}catch(_0x54b0ca){_0x6d562e['push'](_0x6d562e['shift']());}}}(a22_0x4f5b,0xc5b57));function a22_0x4f5b(){const _0x200de2=['url','/proxy\x20call:','request','authorization','GET','35dHeFDW','7820SARIHM','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','globalBearerAutentication','16KykXKv','1551JcuJEP','914312jafRGN','send','Router','111410gYRmDi','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','Authorization\x20token\x20is\x20applied','/proxy','globalBearerAutenticationToken','1164897SQepcI','headers','split','json','2205130ZeePJW','https','body','Authorization\x20token\x20is\x20required\x20or\x20incorrect','Bearer','post','exports','281442fNHymj','application/json','globalApplicationSasToken','log','Authorization\x20token\x20is\x20OK','705UKXUAg','/proxy\x20call:\x20getToken:\x20','express','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','1501192hyKDGY'];a22_0x4f5b=function(){return _0x200de2;};return a22_0x4f5b();}const config=require('../CADViewer_config.json'),fetch=require('node-fetch'),express=require(a22_0x4aa181(0x1d7)),router=express[a22_0x4aa181(0x1e7)](),https=require(a22_0x4aa181(0x1f2)),{get}=require(a22_0x4aa181(0x1dc));router[a22_0x4aa181(0x1f6)](a22_0x4aa181(0x1eb),async(_0x4c93e4,_0x30bd20)=>{const _0x443c9e=a22_0x4aa181;console[_0x443c9e(0x1fb)](_0x443c9e(0x1db)),console[_0x443c9e(0x1fb)]({'body':_0x4c93e4[_0x443c9e(0x1f3)]});var _0x6c2f15=getToken(_0x4c93e4);console[_0x443c9e(0x1fb)](_0x443c9e(0x1fe)+_0x6c2f15);if(!config[_0x443c9e(0x1e2)])console['log'](_0x443c9e(0x1d8));else{console['log'](_0x443c9e(0x1ea)),console[_0x443c9e(0x1fb)](_0x6c2f15,config['globalBearerAutenticationToken']);if(_0x6c2f15==config[_0x443c9e(0x1ec)])console[_0x443c9e(0x1fb)](_0x443c9e(0x1fc));else{console[_0x443c9e(0x1fb)](_0x443c9e(0x1e9)),_0x30bd20[_0x443c9e(0x1e6)](_0x443c9e(0x1f4));return;}}try{const _0x215907=_0x4c93e4['body'][_0x443c9e(0x1da)],_0x13ff78=config[_0x443c9e(0x1fa)],_0x2d4354=_0x215907+_0x13ff78;console['log']('proxyUrl\x20before\x20getResponse():\x20',_0x2d4354);const _0x3a1e2f=await getResponse(_0x2d4354);_0x30bd20['status'](0xc8)['json'](_0x3a1e2f);}catch(_0x1ba85b){_0x30bd20[_0x443c9e(0x1e6)]('Server\x20error:'+_0x1ba85b);}});function getToken(_0x4eaf06){const _0x21d3c5=a22_0x4aa181;if(_0x4eaf06[_0x21d3c5(0x1ee)][_0x21d3c5(0x1dd)]&&_0x4eaf06[_0x21d3c5(0x1ee)][_0x21d3c5(0x1dd)][_0x21d3c5(0x1ef)]('\x20')[0x0]===_0x21d3c5(0x1f5))return _0x4eaf06[_0x21d3c5(0x1ee)][_0x21d3c5(0x1dd)][_0x21d3c5(0x1ef)]('\x20')[0x1];return null;}function a22_0x49f2(_0x8e1e44,_0x43fb2a){const _0x4f5b7e=a22_0x4f5b();return a22_0x49f2=function(_0x49f20c,_0x516d7e){_0x49f20c=_0x49f20c-0x1d7;let _0x533db7=_0x4f5b7e[_0x49f20c];return _0x533db7;},a22_0x49f2(_0x8e1e44,_0x43fb2a);}async function getResponse(_0x540f6b){const _0x44701f=a22_0x4aa181,_0x1ca480=await fetch(_0x540f6b,{'method':_0x44701f(0x1de),'headers':{'Accept':_0x44701f(0x1f9)}});if(!_0x1ca480['ok'])return'{\x27status:\x20\x27'+_0x1ca480['status']+'\x27}';const _0x2c6dcc=await _0x1ca480[_0x44701f(0x1f0)]();return console['log'](_0x44701f(0x1e1)),_0x2c6dcc;}module[a22_0x4aa181(0x1f7)]=router;