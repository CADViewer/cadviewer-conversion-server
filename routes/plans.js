const a22_0x25d921=a22_0x3206;(function(_0x59b32f,_0xfe631a){const _0x48eeca=a22_0x3206,_0x3c5a06=_0x59b32f();while(!![]){try{const _0x4d7c5e=-parseInt(_0x48eeca(0x138))/0x1+parseInt(_0x48eeca(0x145))/0x2*(-parseInt(_0x48eeca(0x146))/0x3)+-parseInt(_0x48eeca(0x14c))/0x4+-parseInt(_0x48eeca(0x12d))/0x5+parseInt(_0x48eeca(0x12a))/0x6*(parseInt(_0x48eeca(0x13d))/0x7)+-parseInt(_0x48eeca(0x139))/0x8*(parseInt(_0x48eeca(0x128))/0x9)+-parseInt(_0x48eeca(0x130))/0xa*(-parseInt(_0x48eeca(0x13e))/0xb);if(_0x4d7c5e===_0xfe631a)break;else _0x3c5a06['push'](_0x3c5a06['shift']());}catch(_0x97bd8f){_0x3c5a06['push'](_0x3c5a06['shift']());}}}(a22_0x6db6,0xc71ea));function a22_0x6db6(){const _0x51b303=['authorization','post','globalBearerAutenticationToken','Authorization\x20token\x20is\x20OK','3857480cFtUEj','198lLSLBw','application/json','2902698xGHUfX','Bearer','Authorization\x20token\x20is\x20required\x20or\x20incorrect','7128045OVmbOm','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','globalBearerAutentication','43161250SOTKiQ','node-fetch','express','Server\x20error:','https','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','log','split','342975pAgEMc','123512HVOfmo','status','/proxy\x20call:','json','14oMOmqv','11VkqDud','url','send','{\x27status:\x20\x27','globalApplicationSasToken','GET','headers','6134pCwREq','1365ZYpyJB','body'];a22_0x6db6=function(){return _0x51b303;};return a22_0x6db6();}function a22_0x3206(_0x4cf9bf,_0x5324c9){const _0x6db680=a22_0x6db6();return a22_0x3206=function(_0x3206b9,_0x4f4a5d){_0x3206b9=_0x3206b9-0x128;let _0xc6f013=_0x6db680[_0x3206b9];return _0xc6f013;},a22_0x3206(_0x4cf9bf,_0x5324c9);}const config=require('../CADViewer_config.json'),fetch=require(a22_0x25d921(0x131)),express=require(a22_0x25d921(0x132)),router=express['Router'](),https=require(a22_0x25d921(0x134)),{get}=require('request');router[a22_0x25d921(0x149)]('/proxy',async(_0x364bb3,_0x4ab87e)=>{const _0x1bb3e7=a22_0x25d921;console[_0x1bb3e7(0x136)](_0x1bb3e7(0x13b)),console['log']({'body':_0x364bb3[_0x1bb3e7(0x147)]});var _0x47de8a=getToken(_0x364bb3);console['log']('/proxy\x20call:\x20getToken:\x20'+_0x47de8a);if(!config[_0x1bb3e7(0x12f)])console[_0x1bb3e7(0x136)]('Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK');else{console[_0x1bb3e7(0x136)]('Authorization\x20token\x20is\x20applied'),console[_0x1bb3e7(0x136)](_0x47de8a,config[_0x1bb3e7(0x14a)]);if(_0x47de8a==config[_0x1bb3e7(0x14a)])console['log'](_0x1bb3e7(0x14b));else{console[_0x1bb3e7(0x136)](_0x1bb3e7(0x12e)),_0x4ab87e[_0x1bb3e7(0x140)](_0x1bb3e7(0x12c));return;}}try{const _0x370ff0=_0x364bb3[_0x1bb3e7(0x147)][_0x1bb3e7(0x13f)],_0x4213a8=config[_0x1bb3e7(0x142)],_0x73e96f=_0x370ff0+_0x4213a8;console[_0x1bb3e7(0x136)]('proxyUrl\x20before\x20getResponse():\x20',_0x73e96f);const _0x427d01=await getResponse(_0x73e96f);_0x4ab87e[_0x1bb3e7(0x13a)](0xc8)[_0x1bb3e7(0x13c)](_0x427d01);}catch(_0x2ff3ac){_0x4ab87e[_0x1bb3e7(0x140)](_0x1bb3e7(0x133)+_0x2ff3ac);}});function getToken(_0x443478){const _0x2cd1e3=a22_0x25d921;if(_0x443478[_0x2cd1e3(0x144)][_0x2cd1e3(0x148)]&&_0x443478[_0x2cd1e3(0x144)]['authorization']['split']('\x20')[0x0]===_0x2cd1e3(0x12b))return _0x443478[_0x2cd1e3(0x144)][_0x2cd1e3(0x148)][_0x2cd1e3(0x137)]('\x20')[0x1];return null;}async function getResponse(_0x4db8a5){const _0x1d538c=a22_0x25d921,_0x588d8e=await fetch(_0x4db8a5,{'method':_0x1d538c(0x143),'headers':{'Accept':_0x1d538c(0x129)}});if(!_0x588d8e['ok'])return _0x1d538c(0x141)+_0x588d8e[_0x1d538c(0x13a)]+'\x27}';const _0x3c4521=await _0x588d8e[_0x1d538c(0x13c)]();return console[_0x1d538c(0x136)](_0x1d538c(0x135)),_0x3c4521;}module['exports']=router;