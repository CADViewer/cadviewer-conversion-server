const a22_0x4bc966=a22_0x5527;(function(_0x21a976,_0x44ee8f){const _0x99eecb=a22_0x5527,_0x5532a9=_0x21a976();while(!![]){try{const _0x686559=-parseInt(_0x99eecb(0x80))/0x1+-parseInt(_0x99eecb(0x6d))/0x2+-parseInt(_0x99eecb(0x69))/0x3*(parseInt(_0x99eecb(0x71))/0x4)+parseInt(_0x99eecb(0x76))/0x5+-parseInt(_0x99eecb(0x6c))/0x6*(-parseInt(_0x99eecb(0x83))/0x7)+parseInt(_0x99eecb(0x74))/0x8+parseInt(_0x99eecb(0x70))/0x9;if(_0x686559===_0x44ee8f)break;else _0x5532a9['push'](_0x5532a9['shift']());}catch(_0x282c58){_0x5532a9['push'](_0x5532a9['shift']());}}}(a22_0x103e,0x72d54));const config=require('../CADViewer_config.json'),fetch=require(a22_0x4bc966(0x73)),express=require('express'),router=express[a22_0x4bc966(0x6f)](),https=require(a22_0x4bc966(0x7c)),{get}=require('request');function a22_0x103e(){const _0x30ea29=['76vrtOaY','log','node-fetch','6584200OCcKUg','headers','1356370cuRzuS','/proxy','Authorization\x20token\x20is\x20applied','globalApplicationSasToken','Authorization\x20token\x20is\x20required\x20or\x20incorrect','Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','https','exports','globalBearerAutentication','Authorization\x20token\x20is\x20OK','504975QCJCvr','status','globalBearerAutenticationToken','7WFwIJM','authorization','Server\x20error:','url','json','GET','body','application/json','Bearer','send','81537jAJJwa','split','post','3608232GQREeW','477504TZlyGg','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','Router','313317HMHxJO'];a22_0x103e=function(){return _0x30ea29;};return a22_0x103e();}function a22_0x5527(_0x22871e,_0x3775d9){const _0x103e65=a22_0x103e();return a22_0x5527=function(_0x5527e3,_0x5bb695){_0x5527e3=_0x5527e3-0x65;let _0x3d6df4=_0x103e65[_0x5527e3];return _0x3d6df4;},a22_0x5527(_0x22871e,_0x3775d9);}router[a22_0x4bc966(0x6b)](a22_0x4bc966(0x77),async(_0x4a67ef,_0x4f1d81)=>{const _0x26d3f7=a22_0x4bc966;console[_0x26d3f7(0x72)]('/proxy\x20call:'),console[_0x26d3f7(0x72)]({'body':_0x4a67ef[_0x26d3f7(0x65)]});var _0x3914b3=getToken(_0x4a67ef);console[_0x26d3f7(0x72)]('/proxy\x20call:\x20getToken:\x20'+_0x3914b3);if(!config[_0x26d3f7(0x7e)])console['log'](_0x26d3f7(0x7b));else{console[_0x26d3f7(0x72)](_0x26d3f7(0x78)),console[_0x26d3f7(0x72)](_0x3914b3,config[_0x26d3f7(0x82)]);if(_0x3914b3==config['globalBearerAutenticationToken'])console[_0x26d3f7(0x72)](_0x26d3f7(0x7f));else{console[_0x26d3f7(0x72)]('Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'),_0x4f1d81[_0x26d3f7(0x68)](_0x26d3f7(0x7a));return;}}try{const _0x42d3be=_0x4a67ef[_0x26d3f7(0x65)][_0x26d3f7(0x86)],_0x4c5aa2=config[_0x26d3f7(0x79)],_0x5ae615=_0x42d3be+_0x4c5aa2;console[_0x26d3f7(0x72)]('proxyUrl\x20before\x20getResponse():\x20',_0x5ae615);const _0x17cc69=await getResponse(_0x5ae615);_0x4f1d81[_0x26d3f7(0x81)](0xc8)[_0x26d3f7(0x87)](_0x17cc69);}catch(_0x328167){_0x4f1d81['send'](_0x26d3f7(0x85)+_0x328167);}});function getToken(_0x116066){const _0x59b3df=a22_0x4bc966;if(_0x116066[_0x59b3df(0x75)]['authorization']&&_0x116066['headers'][_0x59b3df(0x84)][_0x59b3df(0x6a)]('\x20')[0x0]===_0x59b3df(0x67))return _0x116066[_0x59b3df(0x75)][_0x59b3df(0x84)][_0x59b3df(0x6a)]('\x20')[0x1];return null;}async function getResponse(_0x8fd8f6){const _0x462def=a22_0x4bc966,_0x318944=await fetch(_0x8fd8f6,{'method':_0x462def(0x88),'headers':{'Accept':_0x462def(0x66)}});if(!_0x318944['ok'])return'{\x27status:\x20\x27'+_0x318944[_0x462def(0x81)]+'\x27}';const _0x35286b=await _0x318944['json']();return console['log'](_0x462def(0x6e)),_0x35286b;}module[a22_0x4bc966(0x7d)]=router;