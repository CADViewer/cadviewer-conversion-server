function a22_0x2950(){const _0xedead1=['send','globalBearerAutentication','375948NurVSX','https','authorization','Authorization\x20token\x20is\x20OK','split','globalBearerAutenticationToken','Authorization\x20token\x20is\x20applied','Authorization\x20token\x20is\x20required\x20or\x20incorrect','Router','globalApplicationSasToken','application/json','status','3080168EQUnZO','2482968JNUcCS','json','773660EimPoN','{\x27status:\x20\x27','headers','log','Bearer','post','126670SuGwst','/proxy\x20call:','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','request','207jGPmlF','2719866esxnRn','2629768YswJRq','url','Server\x20error:','node-fetch','5sXXEwA','3HePlVm','body'];a22_0x2950=function(){return _0xedead1;};return a22_0x2950();}const a22_0x55f986=a22_0x5559;(function(_0x285de9,_0x3534ee){const _0x54a306=a22_0x5559,_0x331bf2=_0x285de9();while(!![]){try{const _0x57dc80=-parseInt(_0x54a306(0x1c2))/0x1+parseInt(_0x54a306(0x1d1))/0x2+-parseInt(_0x54a306(0x1be))/0x3*(parseInt(_0x54a306(0x1cf))/0x4)+-parseInt(_0x54a306(0x1bd))/0x5*(-parseInt(_0x54a306(0x1b8))/0x6)+parseInt(_0x54a306(0x1ce))/0x7+parseInt(_0x54a306(0x1b9))/0x8+parseInt(_0x54a306(0x1db))/0x9*(-parseInt(_0x54a306(0x1d7))/0xa);if(_0x57dc80===_0x3534ee)break;else _0x331bf2['push'](_0x331bf2['shift']());}catch(_0xc9cf40){_0x331bf2['push'](_0x331bf2['shift']());}}}(a22_0x2950,0x4e557));function a22_0x5559(_0x25df9b,_0xd96b0){const _0x295096=a22_0x2950();return a22_0x5559=function(_0x5559a8,_0x4020b7){_0x5559a8=_0x5559a8-0x1b8;let _0x35e5a9=_0x295096[_0x5559a8];return _0x35e5a9;},a22_0x5559(_0x25df9b,_0xd96b0);}const config=require('../CADViewer_config.json'),fetch=require(a22_0x55f986(0x1bc)),express=require('express'),router=express[a22_0x55f986(0x1ca)](),https=require(a22_0x55f986(0x1c3)),{get}=require(a22_0x55f986(0x1da));router[a22_0x55f986(0x1d6)]('/proxy',async(_0x653984,_0x2a8285)=>{const _0x3295e2=a22_0x55f986;console[_0x3295e2(0x1d4)](_0x3295e2(0x1d8)),console[_0x3295e2(0x1d4)]({'body':_0x653984[_0x3295e2(0x1bf)]});var _0x38fd30=getToken(_0x653984);console[_0x3295e2(0x1d4)]('/proxy\x20call:\x20getToken:\x20'+_0x38fd30);if(!config[_0x3295e2(0x1c1)])console['log']('Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK');else{console[_0x3295e2(0x1d4)](_0x3295e2(0x1c8)),console[_0x3295e2(0x1d4)](_0x38fd30,config[_0x3295e2(0x1c7)]);if(_0x38fd30==config[_0x3295e2(0x1c7)])console[_0x3295e2(0x1d4)](_0x3295e2(0x1c5));else{console['log'](_0x3295e2(0x1d9)),_0x2a8285[_0x3295e2(0x1c0)](_0x3295e2(0x1c9));return;}}try{const _0x1affd5=_0x653984[_0x3295e2(0x1bf)][_0x3295e2(0x1ba)],_0x43ca37=config[_0x3295e2(0x1cb)],_0x3f18ef=_0x1affd5+_0x43ca37;console[_0x3295e2(0x1d4)]('proxyUrl\x20before\x20getResponse():\x20',_0x3f18ef);const _0x5c25a1=await getResponse(_0x3f18ef);_0x2a8285[_0x3295e2(0x1cd)](0xc8)['json'](_0x5c25a1);}catch(_0x2ff1ff){_0x2a8285['send'](_0x3295e2(0x1bb)+_0x2ff1ff);}});function getToken(_0x4f12c1){const _0x25fb1d=a22_0x55f986;if(_0x4f12c1[_0x25fb1d(0x1d3)][_0x25fb1d(0x1c4)]&&_0x4f12c1[_0x25fb1d(0x1d3)][_0x25fb1d(0x1c4)][_0x25fb1d(0x1c6)]('\x20')[0x0]===_0x25fb1d(0x1d5))return _0x4f12c1[_0x25fb1d(0x1d3)][_0x25fb1d(0x1c4)][_0x25fb1d(0x1c6)]('\x20')[0x1];return null;}async function getResponse(_0x2d798d){const _0x1c5308=a22_0x55f986,_0x5d12b8=await fetch(_0x2d798d,{'method':'GET','headers':{'Accept':_0x1c5308(0x1cc)}});if(!_0x5d12b8['ok'])return _0x1c5308(0x1d2)+_0x5d12b8[_0x1c5308(0x1cd)]+'\x27}';const _0x507771=await _0x5d12b8[_0x1c5308(0x1d0)]();return console[_0x1c5308(0x1d4)]('plans.js\x20-\x20get\x20response\x20JSON\x20loaded'),_0x507771;}module['exports']=router;