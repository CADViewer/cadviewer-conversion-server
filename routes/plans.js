const a22_0x51f67f=a22_0x1081;(function(_0x339509,_0x188c50){const _0x556b9e=a22_0x1081,_0x403d53=_0x339509();while(!![]){try{const _0x470a76=-parseInt(_0x556b9e(0xcb))/0x1*(parseInt(_0x556b9e(0xba))/0x2)+parseInt(_0x556b9e(0xc1))/0x3*(-parseInt(_0x556b9e(0xc2))/0x4)+-parseInt(_0x556b9e(0xd6))/0x5*(parseInt(_0x556b9e(0xcd))/0x6)+parseInt(_0x556b9e(0xda))/0x7*(-parseInt(_0x556b9e(0xbb))/0x8)+-parseInt(_0x556b9e(0xc7))/0x9+parseInt(_0x556b9e(0xdb))/0xa*(-parseInt(_0x556b9e(0xc9))/0xb)+parseInt(_0x556b9e(0xcc))/0xc*(parseInt(_0x556b9e(0xb8))/0xd);if(_0x470a76===_0x188c50)break;else _0x403d53['push'](_0x403d53['shift']());}catch(_0x1b19e3){_0x403d53['push'](_0x403d53['shift']());}}}(a22_0x383d,0xa043f));const config=require('../CADViewer_config.json'),fetch=require('node-fetch'),express=require(a22_0x51f67f(0xd9)),router=express['Router'](),https=require(a22_0x51f67f(0xb9)),{get}=require(a22_0x51f67f(0xd5));router[a22_0x51f67f(0xdc)](a22_0x51f67f(0xc5),async(_0x3a81cf,_0x4cf432)=>{const _0xbf1af2=a22_0x51f67f;console[_0xbf1af2(0xb7)]('/proxy\x20call:'),console[_0xbf1af2(0xb7)]({'body':_0x3a81cf['body']});var _0x267b61=getToken(_0x3a81cf);console['log'](_0xbf1af2(0xbc)+_0x267b61);if(!config[_0xbf1af2(0xce)])console['log']('Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK');else{console['log'](_0xbf1af2(0xc4)),console['log'](_0x267b61,config['globalBearerAutenticationToken']);if(_0x267b61==config[_0xbf1af2(0xdd)])console[_0xbf1af2(0xb7)](_0xbf1af2(0xd3));else{console['log'](_0xbf1af2(0xde)),_0x4cf432['send'](_0xbf1af2(0xc3));return;}}try{const _0x5d7c82=_0x3a81cf[_0xbf1af2(0xd2)][_0xbf1af2(0xd1)],_0x148117=config[_0xbf1af2(0xcf)],_0xeba75=_0x5d7c82+_0x148117;console[_0xbf1af2(0xb7)](_0xbf1af2(0xc0),_0xeba75);const _0x3cd02b=await getResponse(_0xeba75);_0x4cf432[_0xbf1af2(0xd7)](0xc8)[_0xbf1af2(0xbe)](_0x3cd02b);}catch(_0x45bafe){_0x4cf432['send']('Server\x20error:'+_0x45bafe);}});function a22_0x1081(_0xb40b24,_0x1fe77b){const _0x383dc9=a22_0x383d();return a22_0x1081=function(_0x108163,_0x232d5f){_0x108163=_0x108163-0xb7;let _0x5831c6=_0x383dc9[_0x108163];return _0x5831c6;},a22_0x1081(_0xb40b24,_0x1fe77b);}function getToken(_0x3dcc15){const _0x19f76b=a22_0x51f67f;if(_0x3dcc15['headers'][_0x19f76b(0xc6)]&&_0x3dcc15[_0x19f76b(0xd8)][_0x19f76b(0xc6)][_0x19f76b(0xd0)]('\x20')[0x0]==='Bearer')return _0x3dcc15['headers']['authorization'][_0x19f76b(0xd0)]('\x20')[0x1];return null;}async function getResponse(_0x418e9c){const _0x58d569=a22_0x51f67f,_0x2560df=await fetch(_0x418e9c,{'method':_0x58d569(0xbd),'headers':{'Accept':_0x58d569(0xd4)}});if(!_0x2560df['ok'])return _0x58d569(0xc8)+_0x2560df[_0x58d569(0xd7)]+'\x27}';const _0x933ba7=await _0x2560df[_0x58d569(0xbe)]();return console[_0x58d569(0xb7)](_0x58d569(0xca)),_0x933ba7;}function a22_0x383d(){const _0x38347f=['express','91TJwUBq','5455330LUzxNi','post','globalBearerAutenticationToken','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','log','13osRwvR','https','2xEOSvo','52720wYcECR','/proxy\x20call:\x20getToken:\x20','GET','json','exports','proxyUrl\x20before\x20getResponse():\x20','976359sAvKhd','4MOFqhj','Authorization\x20token\x20is\x20required\x20or\x20incorrect','Authorization\x20token\x20is\x20applied','/proxy','authorization','10474704IcoHNi','{\x27status:\x20\x27','11hmdFnC','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','1131763qJKHdH','53220348cmEyHT','3157842rlrqFn','globalBearerAutentication','globalApplicationSasToken','split','url','body','Authorization\x20token\x20is\x20OK','application/json','request','5uwrYjf','status','headers'];a22_0x383d=function(){return _0x38347f;};return a22_0x383d();}module[a22_0x51f67f(0xbf)]=router;