const a22_0x2c7039=a22_0x17ce;function a22_0x17ce(_0x392362,_0x24da49){const _0x17a67f=a22_0x17a6();return a22_0x17ce=function(_0x17cee2,_0x3ac7b8){_0x17cee2=_0x17cee2-0x170;let _0x4e38cc=_0x17a67f[_0x17cee2];return _0x4e38cc;},a22_0x17ce(_0x392362,_0x24da49);}(function(_0x2a6d95,_0xb43061){const _0x3a2032=a22_0x17ce,_0x3ffa73=_0x2a6d95();while(!![]){try{const _0x3c2be0=parseInt(_0x3a2032(0x185))/0x1+-parseInt(_0x3a2032(0x192))/0x2*(parseInt(_0x3a2032(0x17c))/0x3)+parseInt(_0x3a2032(0x189))/0x4*(parseInt(_0x3a2032(0x177))/0x5)+parseInt(_0x3a2032(0x18c))/0x6*(-parseInt(_0x3a2032(0x174))/0x7)+-parseInt(_0x3a2032(0x172))/0x8+-parseInt(_0x3a2032(0x190))/0x9+-parseInt(_0x3a2032(0x18e))/0xa*(-parseInt(_0x3a2032(0x184))/0xb);if(_0x3c2be0===_0xb43061)break;else _0x3ffa73['push'](_0x3ffa73['shift']());}catch(_0x4e326d){_0x3ffa73['push'](_0x3ffa73['shift']());}}}(a22_0x17a6,0x9e788));const config=require(a22_0x2c7039(0x180)),fetch=require(a22_0x2c7039(0x171)),express=require('express'),router=express[a22_0x2c7039(0x17f)](),https=require(a22_0x2c7039(0x188)),{get}=require(a22_0x2c7039(0x18d));router[a22_0x2c7039(0x173)]('/proxy',async(_0x381b75,_0x36b0ad)=>{const _0x519054=a22_0x2c7039;console['log'](_0x519054(0x176)),console[_0x519054(0x195)]({'body':_0x381b75[_0x519054(0x178)]});var _0x4db602=getToken(_0x381b75);console[_0x519054(0x195)](_0x519054(0x17d)+_0x4db602);if(!config['globalBearerAutentication'])console[_0x519054(0x195)]('Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK');else{console[_0x519054(0x195)](_0x519054(0x18b)),console['log'](_0x4db602,config[_0x519054(0x194)]);if(_0x4db602==config['globalBearerAutenticationToken'])console['log'](_0x519054(0x181));else{console[_0x519054(0x195)](_0x519054(0x17b)),_0x36b0ad[_0x519054(0x170)](_0x519054(0x18a));return;}}try{const _0x8c1448=_0x381b75[_0x519054(0x178)][_0x519054(0x187)],_0x3c9e49=config['globalApplicationSasToken'],_0x2db1b3=_0x8c1448+_0x3c9e49;console[_0x519054(0x195)](_0x519054(0x183),_0x2db1b3);const _0x8022f1=await getResponse(_0x2db1b3);_0x36b0ad[_0x519054(0x179)](0xc8)[_0x519054(0x17e)](_0x8022f1);}catch(_0x2e137b){_0x36b0ad[_0x519054(0x170)]('Server\x20error:'+_0x2e137b);}});function a22_0x17a6(){const _0x2a9bcc=['9852072BYdZvq','post','14EKIODP','split','/proxy\x20call:','36220MPwZGG','body','status','exports','Authorization\x20token\x20is\x20reqired\x20or\x20incorrect','6YlMPQt','/proxy\x20call:\x20getToken:\x20','json','Router','../CADViewer_config.json','Authorization\x20token\x20is\x20OK','headers','proxyUrl\x20before\x20getResponse():\x20','978263uCrUhE','511700raygqm','{\x27status:\x20\x27','url','https','304oqnHdi','Authorization\x20token\x20is\x20required\x20or\x20incorrect','Authorization\x20token\x20is\x20applied','2479836BWUHua','request','370TMFWtA','GET','4952358vfCxUi','Bearer','1095286jdejsG','application/json','globalBearerAutenticationToken','log','authorization','send','node-fetch'];a22_0x17a6=function(){return _0x2a9bcc;};return a22_0x17a6();}function getToken(_0x553196){const _0x413808=a22_0x2c7039;if(_0x553196[_0x413808(0x182)][_0x413808(0x196)]&&_0x553196[_0x413808(0x182)][_0x413808(0x196)]['split']('\x20')[0x0]===_0x413808(0x191))return _0x553196[_0x413808(0x182)][_0x413808(0x196)][_0x413808(0x175)]('\x20')[0x1];return null;}async function getResponse(_0x29bb8a){const _0x480bf1=a22_0x2c7039,_0x5d2f9e=await fetch(_0x29bb8a,{'method':_0x480bf1(0x18f),'headers':{'Accept':_0x480bf1(0x193)}});if(!_0x5d2f9e['ok'])return _0x480bf1(0x186)+_0x5d2f9e[_0x480bf1(0x179)]+'\x27}';const _0x4c4fb5=await _0x5d2f9e[_0x480bf1(0x17e)]();return console[_0x480bf1(0x195)]('plans.js\x20-\x20get\x20response\x20JSON\x20loaded'),_0x4c4fb5;}module[a22_0x2c7039(0x17a)]=router;