const a22_0xa3888=a22_0x5f13;(function(_0x455cd1,_0x3680de){const _0x2a6262=a22_0x5f13,_0x2ab4cb=_0x455cd1();while(!![]){try{const _0x40130e=-parseInt(_0x2a6262(0xc5))/0x1+parseInt(_0x2a6262(0xcd))/0x2+parseInt(_0x2a6262(0xd1))/0x3+-parseInt(_0x2a6262(0xcc))/0x4+-parseInt(_0x2a6262(0xdb))/0x5*(parseInt(_0x2a6262(0xc9))/0x6)+-parseInt(_0x2a6262(0xd4))/0x7+parseInt(_0x2a6262(0xd5))/0x8;if(_0x40130e===_0x3680de)break;else _0x2ab4cb['push'](_0x2ab4cb['shift']());}catch(_0x1a8666){_0x2ab4cb['push'](_0x2ab4cb['shift']());}}}(a22_0x1cbf,0x77392));const config=require('../CADViewer_config.json'),fetch=require(a22_0xa3888(0xbe)),express=require(a22_0xa3888(0xd2)),router=express['Router'](),https=require(a22_0xa3888(0xd9)),{get}=require(a22_0xa3888(0xc6));router[a22_0xa3888(0xbd)](a22_0xa3888(0xc7),async(_0x1067be,_0xfb8415)=>{const _0x4e6d79=a22_0xa3888;console[_0x4e6d79(0xda)](_0x4e6d79(0xca)),console[_0x4e6d79(0xda)]({'body':_0x1067be[_0x4e6d79(0xc4)]});var _0x40f07b=getToken(_0x1067be);console[_0x4e6d79(0xda)](_0x4e6d79(0xdc)+_0x40f07b);if(!config['globalBearerAutentication'])console[_0x4e6d79(0xda)](_0x4e6d79(0xd3));else{console[_0x4e6d79(0xda)](_0x4e6d79(0xc1)),console['log'](_0x40f07b,config[_0x4e6d79(0xc2)]);if(_0x40f07b==config['globalBearerAutenticationToken'])console[_0x4e6d79(0xda)](_0x4e6d79(0xdf));else{console[_0x4e6d79(0xda)]('Authorization\x20token\x20is\x20reqired\x20or\x20incorrect'),_0xfb8415['send']('Authorization\x20token\x20is\x20required\x20or\x20incorrect');return;}}try{const _0x149f5a=_0x1067be[_0x4e6d79(0xc4)][_0x4e6d79(0xd8)],_0x496a9e=config[_0x4e6d79(0xbb)],_0x3c9984=_0x149f5a+_0x496a9e;console[_0x4e6d79(0xda)]('proxyUrl\x20before\x20getResponse():\x20',_0x3c9984);const _0x12b975=await getResponse(_0x3c9984);_0xfb8415[_0x4e6d79(0xd6)](0xc8)[_0x4e6d79(0xce)](_0x12b975);}catch(_0x3c8d8d){_0xfb8415[_0x4e6d79(0xde)](_0x4e6d79(0xc8)+_0x3c8d8d);}});function getToken(_0x132d8c){const _0x5429ff=a22_0xa3888;if(_0x132d8c['headers'][_0x5429ff(0xd0)]&&_0x132d8c[_0x5429ff(0xbc)][_0x5429ff(0xd0)][_0x5429ff(0xcb)]('\x20')[0x0]===_0x5429ff(0xc3))return _0x132d8c[_0x5429ff(0xbc)][_0x5429ff(0xd0)][_0x5429ff(0xcb)]('\x20')[0x1];return null;}async function getResponse(_0x11356e){const _0x455ca7=a22_0xa3888,_0x829230=await fetch(_0x11356e,{'method':_0x455ca7(0xd7),'headers':{'Accept':_0x455ca7(0xbf)}});if(!_0x829230['ok'])return _0x455ca7(0xc0)+_0x829230[_0x455ca7(0xd6)]+'\x27}';const _0x4f9d76=await _0x829230['json']();return console[_0x455ca7(0xda)](_0x455ca7(0xcf)),_0x4f9d76;}function a22_0x1cbf(){const _0x4c07ec=['Authorization\x20token\x20is\x20not\x20applied,\x20so\x20this\x20is\x20OK','6673240DnyfTk','9280480LAOerP','status','GET','url','https','log','2155FSCFwW','/proxy\x20call:\x20getToken:\x20','exports','send','Authorization\x20token\x20is\x20OK','globalApplicationSasToken','headers','post','node-fetch','application/json','{\x27status:\x20\x27','Authorization\x20token\x20is\x20applied','globalBearerAutenticationToken','Bearer','body','405082FbnFCO','request','/proxy','Server\x20error:','4530rJlMAF','/proxy\x20call:','split','1079680mMMswt','1046602JRTWYm','json','plans.js\x20-\x20get\x20response\x20JSON\x20loaded','authorization','2276112ZcaGiI','express'];a22_0x1cbf=function(){return _0x4c07ec;};return a22_0x1cbf();}function a22_0x5f13(_0xb1af33,_0x5d66e0){const _0x1cbf10=a22_0x1cbf();return a22_0x5f13=function(_0x5f13a4,_0x344cc3){_0x5f13a4=_0x5f13a4-0xbb;let _0x41f952=_0x1cbf10[_0x5f13a4];return _0x41f952;},a22_0x5f13(_0xb1af33,_0x5d66e0);}module[a22_0xa3888(0xdd)]=router;